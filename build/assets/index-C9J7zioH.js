const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-BfsAIKFX.js","assets/skeleton-B2rrP5f1.js","assets/permissions-BqDqHH54.js","assets/dollar-sign-BCUCUaq6.js","assets/trending-up-CjPC3fC4.js","assets/credit-card-DtutDJ9_.js","assets/calendar-ilzTB5GO.js","assets/star-D7FJYloU.js","assets/shopping-bag-C9Iy7GYq.js","assets/inventory-view-DlMkMDpZ.js","assets/sortable-table-head-C7NzA7un.js","assets/bulk-delete-dialog-CcJeyE00.js","assets/favorite-button-DFUj7EW_.js","assets/useTableSort-Dgs3xrqA.js","assets/editable-cell-D2kU5xpI.js","assets/download-C2KgVvKs.js","assets/archive-BNeyJq-V.js","assets/square-pen-BxIAVNkI.js","assets/map-pin-H2zjZM6_.js","assets/circle-alert-MsJTofFx.js","assets/file-text-D1SZTdMf.js","assets/tag-CEPJwMuk.js","assets/purchase-orders-view-OQFklqtC.js","assets/printable-receipt-DjY7_JMI.js","assets/sales-orders-view-CvMEJlg1.js","assets/shipments-view-FrmRIF3J.js","assets/circle-check-big-DzBVfb5R.js","assets/suppliers-view-2FXQjctH.js","assets/phone-DSsi1zuG.js","assets/customers-view-Ub7ZGO0z.js","assets/user-management-view-B0pEnzHC.js","assets/crown-CqkWp0lE.js","assets/admin-profile-view-BTIGASpW.js","assets/cash-bank-view-6ELYB8mU.js","assets/payments-view-BqHyp8pC.js"])))=>i.map(i=>d[i]);
function NN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var MH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jg={exports:{}},du={},Ug={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function DN(){if(FE)return st;FE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=m&&j[m]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,T={};function A(j,G,oe){this.props=j,this.context=G,this.refs=T,this.updater=oe||I}A.prototype.isReactComponent={},A.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function D(){}D.prototype=A.prototype;function V(j,G,oe){this.props=j,this.context=G,this.refs=T,this.updater=oe||I}var U=V.prototype=new D;U.constructor=V,R(U,A.prototype),U.isPureReactComponent=!0;var z=Array.isArray,$=Object.prototype.hasOwnProperty,K={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function C(j,G,oe){var ie,he={},xe=null,ve=null;if(G!=null)for(ie in G.ref!==void 0&&(ve=G.ref),G.key!==void 0&&(xe=""+G.key),G)$.call(G,ie)&&!P.hasOwnProperty(ie)&&(he[ie]=G[ie]);var Ie=arguments.length-2;if(Ie===1)he.children=oe;else if(1<Ie){for(var Ge=Array(Ie),Qe=0;Qe<Ie;Qe++)Ge[Qe]=arguments[Qe+2];he.children=Ge}if(j&&j.defaultProps)for(ie in Ie=j.defaultProps,Ie)he[ie]===void 0&&(he[ie]=Ie[ie]);return{$$typeof:n,type:j,key:xe,ref:ve,props:he,_owner:K.current}}function N(j,G){return{$$typeof:n,type:j.type,key:G,ref:j.ref,props:j.props,_owner:j._owner}}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function F(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return G[oe]})}var B=/\/+/g;function O(j,G){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):G.toString(36)}function Ce(j,G,oe,ie,he){var xe=typeof j;(xe==="undefined"||xe==="boolean")&&(j=null);var ve=!1;if(j===null)ve=!0;else switch(xe){case"string":case"number":ve=!0;break;case"object":switch(j.$$typeof){case n:case e:ve=!0}}if(ve)return ve=j,he=he(ve),j=ie===""?"."+O(ve,0):ie,z(he)?(oe="",j!=null&&(oe=j.replace(B,"$&/")+"/"),Ce(he,G,oe,"",function(Qe){return Qe})):he!=null&&(M(he)&&(he=N(he,oe+(!he.key||ve&&ve.key===he.key?"":(""+he.key).replace(B,"$&/")+"/")+j)),G.push(he)),1;if(ve=0,ie=ie===""?".":ie+":",z(j))for(var Ie=0;Ie<j.length;Ie++){xe=j[Ie];var Ge=ie+O(xe,Ie);ve+=Ce(xe,G,oe,Ge,he)}else if(Ge=w(j),typeof Ge=="function")for(j=Ge.call(j),Ie=0;!(xe=j.next()).done;)xe=xe.value,Ge=ie+O(xe,Ie++),ve+=Ce(xe,G,oe,Ge,he);else if(xe==="object")throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ve}function Be(j,G,oe){if(j==null)return j;var ie=[],he=0;return Ce(j,ie,"","",function(xe){return G.call(oe,xe,he++)}),ie}function me(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var _e={current:null},W={transition:null},ne={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:W,ReactCurrentOwner:K};function X(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:Be,forEach:function(j,G,oe){Be(j,function(){G.apply(this,arguments)},oe)},count:function(j){var G=0;return Be(j,function(){G++}),G},toArray:function(j){return Be(j,function(G){return G})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},st.Component=A,st.Fragment=t,st.Profiler=s,st.PureComponent=V,st.StrictMode=r,st.Suspense=h,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,st.act=X,st.cloneElement=function(j,G,oe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ie=R({},j.props),he=j.key,xe=j.ref,ve=j._owner;if(G!=null){if(G.ref!==void 0&&(xe=G.ref,ve=K.current),G.key!==void 0&&(he=""+G.key),j.type&&j.type.defaultProps)var Ie=j.type.defaultProps;for(Ge in G)$.call(G,Ge)&&!P.hasOwnProperty(Ge)&&(ie[Ge]=G[Ge]===void 0&&Ie!==void 0?Ie[Ge]:G[Ge])}var Ge=arguments.length-2;if(Ge===1)ie.children=oe;else if(1<Ge){Ie=Array(Ge);for(var Qe=0;Qe<Ge;Qe++)Ie[Qe]=arguments[Qe+2];ie.children=Ie}return{$$typeof:n,type:j.type,key:he,ref:xe,props:ie,_owner:ve}},st.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:i,_context:j},j.Consumer=j},st.createElement=C,st.createFactory=function(j){var G=C.bind(null,j);return G.type=j,G},st.createRef=function(){return{current:null}},st.forwardRef=function(j){return{$$typeof:u,render:j}},st.isValidElement=M,st.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:me}},st.memo=function(j,G){return{$$typeof:p,type:j,compare:G===void 0?null:G}},st.startTransition=function(j){var G=W.transition;W.transition={};try{j()}finally{W.transition=G}},st.unstable_act=X,st.useCallback=function(j,G){return _e.current.useCallback(j,G)},st.useContext=function(j){return _e.current.useContext(j)},st.useDebugValue=function(){},st.useDeferredValue=function(j){return _e.current.useDeferredValue(j)},st.useEffect=function(j,G){return _e.current.useEffect(j,G)},st.useId=function(){return _e.current.useId()},st.useImperativeHandle=function(j,G,oe){return _e.current.useImperativeHandle(j,G,oe)},st.useInsertionEffect=function(j,G){return _e.current.useInsertionEffect(j,G)},st.useLayoutEffect=function(j,G){return _e.current.useLayoutEffect(j,G)},st.useMemo=function(j,G){return _e.current.useMemo(j,G)},st.useReducer=function(j,G,oe){return _e.current.useReducer(j,G,oe)},st.useRef=function(j){return _e.current.useRef(j)},st.useState=function(j){return _e.current.useState(j)},st.useSyncExternalStore=function(j,G,oe){return _e.current.useSyncExternalStore(j,G,oe)},st.useTransition=function(){return _e.current.useTransition()},st.version="18.3.1",st}var jE;function Cv(){return jE||(jE=1,Ug.exports=DN()),Ug.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function ON(){if(UE)return du;UE=1;var n=Cv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var g,m={},w=null,I=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(I=h.ref);for(g in h)r.call(h,g)&&!i.hasOwnProperty(g)&&(m[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:e,type:u,key:w,ref:I,props:m,_owner:s.current}}return du.Fragment=t,du.jsx=l,du.jsxs=l,du}var zE;function MN(){return zE||(zE=1,jg.exports=ON()),jg.exports}var E=MN(),Uh={},zg={exports:{}},er={},$g={exports:{}},Bg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function VN(){return $E||($E=1,(function(n){function e(W,ne){var X=W.length;W.push(ne);e:for(;0<X;){var j=X-1>>>1,G=W[j];if(0<s(G,ne))W[j]=ne,W[X]=G,X=j;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],X=W.pop();if(X!==ne){W[0]=X;e:for(var j=0,G=W.length,oe=G>>>1;j<oe;){var ie=2*(j+1)-1,he=W[ie],xe=ie+1,ve=W[xe];if(0>s(he,X))xe<G&&0>s(ve,he)?(W[j]=ve,W[xe]=X,j=xe):(W[j]=he,W[ie]=X,j=ie);else if(xe<G&&0>s(ve,X))W[j]=ve,W[xe]=X,j=xe;else break e}}return ne}function s(W,ne){var X=W.sortIndex-ne.sortIndex;return X!==0?X:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],g=1,m=null,w=3,I=!1,R=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(W){for(var ne=t(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=W)r(p),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=t(p)}}function z(W){if(T=!1,U(W),!R)if(t(h)!==null)R=!0,me($);else{var ne=t(p);ne!==null&&_e(z,ne.startTime-W)}}function $(W,ne){R=!1,T&&(T=!1,D(C),C=-1),I=!0;var X=w;try{for(U(ne),m=t(h);m!==null&&(!(m.expirationTime>ne)||W&&!F());){var j=m.callback;if(typeof j=="function"){m.callback=null,w=m.priorityLevel;var G=j(m.expirationTime<=ne);ne=n.unstable_now(),typeof G=="function"?m.callback=G:m===t(h)&&r(h),U(ne)}else r(h);m=t(h)}if(m!==null)var oe=!0;else{var ie=t(p);ie!==null&&_e(z,ie.startTime-ne),oe=!1}return oe}finally{m=null,w=X,I=!1}}var K=!1,P=null,C=-1,N=5,M=-1;function F(){return!(n.unstable_now()-M<N)}function B(){if(P!==null){var W=n.unstable_now();M=W;var ne=!0;try{ne=P(!0,W)}finally{ne?O():(K=!1,P=null)}}else K=!1}var O;if(typeof V=="function")O=function(){V(B)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Be=Ce.port2;Ce.port1.onmessage=B,O=function(){Be.postMessage(null)}}else O=function(){A(B,0)};function me(W){P=W,K||(K=!0,O())}function _e(W,ne){C=A(function(){W(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){R||I||(R=!0,me($))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var X=w;w=ne;try{return W()}finally{w=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var X=w;w=W;try{return ne()}finally{w=X}},n.unstable_scheduleCallback=function(W,ne,X){var j=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?j+X:j):X=j,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=X+G,W={id:g++,callback:ne,priorityLevel:W,startTime:X,expirationTime:G,sortIndex:-1},X>j?(W.sortIndex=X,e(p,W),t(h)===null&&W===t(p)&&(T?(D(C),C=-1):T=!0,_e(z,X-j))):(W.sortIndex=G,e(h,W),R||I||(R=!0,me($))),W},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(W){var ne=w;return function(){var X=w;w=ne;try{return W.apply(this,arguments)}finally{w=X}}}})(Bg)),Bg}var BE;function LN(){return BE||(BE=1,$g.exports=VN()),$g.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function FN(){if(qE)return er;qE=1;var n=Cv(),e=LN();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function w(o){return h.call(m,o)?!0:h.call(g,o)?!1:p.test(o)?m[o]=!0:(g[o]=!0,!1)}function I(o,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function R(o,a,c,f){if(a===null||typeof a>"u"||I(o,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function T(o,a,c,f,y,v,x){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=v,this.removeEmptyString=x}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){A[o]=new T(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];A[a]=new T(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){A[o]=new T(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){A[o]=new T(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){A[o]=new T(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){A[o]=new T(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){A[o]=new T(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){A[o]=new T(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){A[o]=new T(o,5,!1,o.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function V(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(D,V);A[a]=new T(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(D,V);A[a]=new T(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(D,V);A[a]=new T(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){A[o]=new T(o,1,!1,o.toLowerCase(),null,!1,!1)}),A.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){A[o]=new T(o,1,!1,o.toLowerCase(),null,!0,!0)});function U(o,a,c,f){var y=A.hasOwnProperty(a)?A[a]:null;(y!==null?y.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(R(a,c,y,f)&&(c=null),f||y===null?w(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,f=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,f?o.setAttributeNS(f,a,c):o.setAttribute(a,c))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),K=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),W=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var X=Object.assign,j;function G(o){if(j===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||""}return`
`+j+o}var oe=!1;function ie(o,a){if(!o||oe)return"";oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var f=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){f=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){f=ee}o()}}catch(ee){if(ee&&f&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),v=f.stack.split(`
`),x=y.length-1,L=v.length-1;1<=x&&0<=L&&y[x]!==v[L];)L--;for(;1<=x&&0<=L;x--,L--)if(y[x]!==v[L]){if(x!==1||L!==1)do if(x--,L--,0>L||y[x]!==v[L]){var q=`
`+y[x].replace(" at new "," at ");return o.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",o.displayName)),q}while(1<=x&&0<=L);break}}}finally{oe=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?G(o):""}function he(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case K:return"Portal";case N:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case Ce:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case M:return(o._context.displayName||"Context")+".Provider";case B:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Be:return a=o.displayName||null,a!==null?a:xe(o.type)||"Memo";case me:a=o._payload,o=o._init;try{return xe(o(a))}catch{}}return null}function ve(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(a);case 8:return a===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ge(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qe(o){var a=Ge(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),f=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(x){f=""+x,v.call(this,x)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function pe(o){o._valueTracker||(o._valueTracker=Qe(o))}function St(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return o&&(f=Ge(o)?o.checked?"true":"false":o.value),o=f,o!==c?(a.setValue(o),!0):!1}function dn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function is(o,a){var c=a.checked;return X({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function $a(o,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Ie(a.value!=null?a.value:c),o._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Gs(o,a){a=a.checked,a!=null&&U(o,"checked",a,!1)}function or(o,a){Gs(o,a);var c=Ie(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?gt(o,a.type,c):a.hasOwnProperty("defaultValue")&&gt(o,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Co(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function gt(o,a,c){(a!=="number"||dn(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var Vt=Array.isArray;function ir(o,a,c,f){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&f&&(o[c].defaultSelected=!0)}else{for(c=""+Ie(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,f&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function sn(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function br(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Vt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:Ie(c)}}function Ba(o,a){var c=Ie(a.value),f=Ie(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),f!=null&&(o.defaultValue=""+f)}function as(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function ls(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?ls(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ur,Ao=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,f,y)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Ur=Ur||document.createElement("div"),Ur.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ur.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Gn(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$r=["Webkit","ms","Moz","O"];Object.keys(zr).forEach(function(o){$r.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),zr[a]=zr[o]})});function cs(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||zr.hasOwnProperty(o)&&zr[o]?(""+a).trim():a+"px"}function Ro(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,y=cs(c,a[c],f);c==="float"&&(c="cssFloat"),f?o.setProperty(c,y):o[c]=y}}var ko=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kn(o,a){if(a){if(ko[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function No(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sr=null;function Fn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Br=null,qr=null,Pt=null;function Do(o){if(o=Qc(o)){if(typeof Br!="function")throw Error(t(280));var a=o.stateNode;a&&(a=th(a),Br(o.stateNode,o.type,a))}}function qe(o){qr?Pt?Pt.push(o):Pt=[o]:qr=o}function It(){if(qr){var o=qr,a=Pt;if(Pt=qr=null,Do(o),a)for(o=0;o<a.length;o++)Do(a[o])}}function qt(o,a){return o(a)}function hn(){}var jn=!1;function zt(o,a,c){if(jn)return o(a,c);jn=!0;try{return qt(o,a,c)}finally{jn=!1,(qr!==null||Pt!==null)&&(hn(),It())}}function Qt(o,a){var c=o.stateNode;if(c===null)return null;var f=th(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var ar=!1;if(u)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){ar=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{ar=!1}function Tn(o,a,c,f,y,v,x,L,q){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(le){this.onError(le)}}var Ir=!1,fn=null,Ni=!1,xr=null,Dd={onError:function(o){Ir=!0,fn=o}};function Od(o,a,c,f,y,v,x,L,q){Ir=!1,fn=null,Tn.apply(Dd,arguments)}function Ic(o,a,c,f,y,v,x,L,q){if(Od.apply(this,arguments),Ir){if(Ir){var ee=fn;Ir=!1,fn=null}else throw Error(t(198));Ni||(Ni=!0,xr=ee)}}function Hr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function xc(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Md(o){if(Hr(o)!==o)throw Error(t(188))}function Vd(o){var a=o.alternate;if(!a){if(a=Hr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,f=a;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return Md(y),o;if(v===f)return Md(y),a;v=v.sibling}throw Error(t(188))}if(c.return!==f.return)c=y,f=v;else{for(var x=!1,L=y.child;L;){if(L===c){x=!0,c=y,f=v;break}if(L===f){x=!0,f=y,c=v;break}L=L.sibling}if(!x){for(L=v.child;L;){if(L===c){x=!0,c=v,f=y;break}if(L===f){x=!0,f=v,c=y;break}L=L.sibling}if(!x)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function Ld(o){return o=Vd(o),o!==null?Di(o):null}function Di(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Di(o);if(a!==null)return a;o=o.sibling}return null}var Tc=e.unstable_scheduleCallback,qa=e.unstable_cancelCallback,Oi=e.unstable_shouldYield,Ks=e.unstable_requestPaint,At=e.unstable_now,gm=e.unstable_getCurrentPriorityLevel,Ha=e.unstable_ImmediatePriority,Cc=e.unstable_UserBlockingPriority,Mi=e.unstable_NormalPriority,Pc=e.unstable_LowPriority,Wa=e.unstable_IdlePriority,Vi=null,lr=null;function Fd(o){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Vi,o,void 0,(o.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:Li,us=Math.log,Tr=Math.LN2;function Li(o){return o>>>=0,o===0?32:31-(us(o)/Tr|0)|0}var ds=64,Oo=4194304;function mt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Zs(o,a){var c=o.pendingLanes;if(c===0)return 0;var f=0,y=o.suspendedLanes,v=o.pingedLanes,x=c&268435455;if(x!==0){var L=x&~y;L!==0?f=mt(L):(v&=x,v!==0&&(f=mt(v)))}else x=c&~y,x!==0?f=mt(x):v!==0&&(f=mt(v));if(f===0)return 0;if(a!==0&&a!==f&&(a&y)===0&&(y=f&-f,v=a&-a,y>=v||y===16&&(v&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=f;0<a;)c=31-cr(a),y=1<<c,f|=o[c],a&=~y;return f}function Fi(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ji(o,a){for(var c=o.suspendedLanes,f=o.pingedLanes,y=o.expirationTimes,v=o.pendingLanes;0<v;){var x=31-cr(v),L=1<<x,q=y[x];q===-1?((L&c)===0||(L&f)!==0)&&(y[x]=Fi(L,a)):q<=a&&(o.expiredLanes|=L),v&=~L}}function Ac(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Rc(){var o=ds;return ds<<=1,(ds&4194240)===0&&(ds=64),o}function kc(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Ui(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-cr(a),o[a]=c}function ym(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-cr(c),v=1<<y;a[y]=0,f[y]=-1,o[y]=-1,c&=~v}}function Nc(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var f=31-cr(c),y=1<<f;y&a|o[f]&a&&(o[f]|=a),c&=~y}}var lt=0;function hs(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Dc,Ga,Oc,Mc,Vc,fs=!1,Ka=[],ps=null,ms=null,_n=null,zi=new Map,Qs=new Map,ur=[],jd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mo(o,a){switch(o){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":zi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(a.pointerId)}}function Wr(o,a,c,f,y,v){return o===null||o.nativeEvent!==v?(o={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[y]},a!==null&&(a=Qc(a),a!==null&&Ga(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function Ud(o,a,c,f,y){switch(a){case"focusin":return ps=Wr(ps,o,a,c,f,y),!0;case"dragenter":return ms=Wr(ms,o,a,c,f,y),!0;case"mouseover":return _n=Wr(_n,o,a,c,f,y),!0;case"pointerover":var v=y.pointerId;return zi.set(v,Wr(zi.get(v)||null,o,a,c,f,y)),!0;case"gotpointercapture":return v=y.pointerId,Qs.set(v,Wr(Qs.get(v)||null,o,a,c,f,y)),!0}return!1}function Za(o){var a=Hi(o.target);if(a!==null){var c=Hr(a);if(c!==null){if(a=c.tag,a===13){if(a=xc(c),a!==null){o.blockedOn=a,Vc(o.priority,function(){Oc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function xt(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Qa(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var f=new c.constructor(c.type,c);Sr=f,c.target.dispatchEvent(f),Sr=null}else return a=Qc(c),a!==null&&Ga(a),o.blockedOn=c,!1;a.shift()}return!0}function zd(o,a,c){xt(o)&&c.delete(a)}function vm(){fs=!1,ps!==null&&xt(ps)&&(ps=null),ms!==null&&xt(ms)&&(ms=null),_n!==null&&xt(_n)&&(_n=null),zi.forEach(zd),Qs.forEach(zd)}function Vo(o,a){o.blockedOn===a&&(o.blockedOn=null,fs||(fs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vm)))}function Lo(o){function a(y){return Vo(y,o)}if(0<Ka.length){Vo(Ka[0],o);for(var c=1;c<Ka.length;c++){var f=Ka[c];f.blockedOn===o&&(f.blockedOn=null)}}for(ps!==null&&Vo(ps,o),ms!==null&&Vo(ms,o),_n!==null&&Vo(_n,o),zi.forEach(a),Qs.forEach(a),c=0;c<ur.length;c++)f=ur[c],f.blockedOn===o&&(f.blockedOn=null);for(;0<ur.length&&(c=ur[0],c.blockedOn===null);)Za(c),c.blockedOn===null&&ur.shift()}var Ys=z.ReactCurrentBatchConfig,Xs=!0;function gs(o,a,c,f){var y=lt,v=Ys.transition;Ys.transition=null;try{lt=1,Lc(o,a,c,f)}finally{lt=y,Ys.transition=v}}function $d(o,a,c,f){var y=lt,v=Ys.transition;Ys.transition=null;try{lt=4,Lc(o,a,c,f)}finally{lt=y,Ys.transition=v}}function Lc(o,a,c,f){if(Xs){var y=Qa(o,a,c,f);if(y===null)Am(o,a,f,ys,c),Mo(o,f);else if(Ud(y,o,a,c,f))f.stopPropagation();else if(Mo(o,f),a&4&&-1<jd.indexOf(o)){for(;y!==null;){var v=Qc(y);if(v!==null&&Dc(v),v=Qa(o,a,c,f),v===null&&Am(o,a,f,ys,c),v===y)break;y=v}y!==null&&f.stopPropagation()}else Am(o,a,f,null,c)}}var ys=null;function Qa(o,a,c,f){if(ys=null,o=Fn(f),o=Hi(o),o!==null)if(a=Hr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=xc(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return ys=o,null}function Ya(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gm()){case Ha:return 1;case Cc:return 4;case Mi:case Pc:return 16;case Wa:return 536870912;default:return 16}default:return 16}}var dr=null,Xa=null,Js=null;function Bd(){if(Js)return Js;var o,a=Xa,c=a.length,f,y="value"in dr?dr.value:dr.textContent,v=y.length;for(o=0;o<c&&a[o]===y[o];o++);var x=c-o;for(f=1;f<=x&&a[c-f]===y[v-f];f++);return Js=y.slice(o,1<f?1-f:void 0)}function $i(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function vs(){return!0}function Fc(){return!1}function Cn(o){function a(c,f,y,v,x){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var L in o)o.hasOwnProperty(L)&&(c=o[L],this[L]=c?c(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vs:Fc,this.isPropagationStopped=Fc,this}return X(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),a}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Cn(_s),Fo=X({},_s,{view:0,detail:0}),Ja=Cn(Fo),el,tl,hr,qi=X({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ye,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==hr&&(hr&&o.type==="mousemove"?(el=o.screenX-hr.screenX,tl=o.screenY-hr.screenY):tl=el=0,hr=o),el)},movementY:function(o){return"movementY"in o?o.movementY:tl}}),jc=Cn(qi),qd=X({},qi,{dataTransfer:0}),Hd=Cn(qd),nl=X({},Fo,{relatedTarget:0}),wn=Cn(nl),Wd=X({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),Gd=Cn(Wd),jo=X({},_s,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),d=Cn(jo),_=X({},_s,{data:0}),S=Cn(_),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ge(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=te[o])?!!a[o]:!1}function Ye(){return ge}var Ht=X({},Fo,{key:function(o){if(o.key){var a=k[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=$i(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Y[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ye,charCode:function(o){return o.type==="keypress"?$i(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?$i(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),vt=Cn(Ht),Xt=X({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fr=Cn(Xt),eo=X({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ye}),ws=Cn(eo),Es=X({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),rl=Cn(Es),Uc=X({},qi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Tk=Cn(Uc),Ck=[9,13,27,32],_m=u&&"CompositionEvent"in window,zc=null;u&&"documentMode"in document&&(zc=document.documentMode);var Pk=u&&"TextEvent"in window&&!zc,Rw=u&&(!_m||zc&&8<zc&&11>=zc),kw=" ",Nw=!1;function Dw(o,a){switch(o){case"keyup":return Ck.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ow(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var sl=!1;function Ak(o,a){switch(o){case"compositionend":return Ow(a);case"keypress":return a.which!==32?null:(Nw=!0,kw);case"textInput":return o=a.data,o===kw&&Nw?null:o;default:return null}}function Rk(o,a){if(sl)return o==="compositionend"||!_m&&Dw(o,a)?(o=Bd(),Js=Xa=dr=null,sl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Rw&&a.locale!=="ko"?null:a.data;default:return null}}var kk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mw(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!kk[o.type]:a==="textarea"}function Vw(o,a,c,f){qe(f),a=Xd(a,"onChange"),0<a.length&&(c=new Bi("onChange","change",null,c,f),o.push({event:c,listeners:a}))}var $c=null,Bc=null;function Nk(o){e0(o,0)}function Kd(o){var a=cl(o);if(St(a))return o}function Dk(o,a){if(o==="change")return a}var Lw=!1;if(u){var wm;if(u){var Em="oninput"in document;if(!Em){var Fw=document.createElement("div");Fw.setAttribute("oninput","return;"),Em=typeof Fw.oninput=="function"}wm=Em}else wm=!1;Lw=wm&&(!document.documentMode||9<document.documentMode)}function jw(){$c&&($c.detachEvent("onpropertychange",Uw),Bc=$c=null)}function Uw(o){if(o.propertyName==="value"&&Kd(Bc)){var a=[];Vw(a,Bc,o,Fn(o)),zt(Nk,a)}}function Ok(o,a,c){o==="focusin"?(jw(),$c=a,Bc=c,$c.attachEvent("onpropertychange",Uw)):o==="focusout"&&jw()}function Mk(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Kd(Bc)}function Vk(o,a){if(o==="click")return Kd(a)}function Lk(o,a){if(o==="input"||o==="change")return Kd(a)}function Fk(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Gr=typeof Object.is=="function"?Object.is:Fk;function qc(o,a){if(Gr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!h.call(a,y)||!Gr(o[y],a[y]))return!1}return!0}function zw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function $w(o,a){var c=zw(o);o=0;for(var f;c;){if(c.nodeType===3){if(f=o+c.textContent.length,o<=a&&f>=a)return{node:c,offset:a-o};o=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=zw(c)}}function Bw(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Bw(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function qw(){for(var o=window,a=dn();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=dn(o.document)}return a}function bm(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function jk(o){var a=qw(),c=o.focusedElem,f=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&Bw(c.ownerDocument.documentElement,c)){if(f!==null&&bm(c)){if(a=f.start,o=f.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,v=Math.min(f.start,y);f=f.end===void 0?v:Math.min(f.end,y),!o.extend&&v>f&&(y=f,f=v,v=y),y=$w(c,v);var x=$w(c,f);y&&x&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==x.node||o.focusOffset!==x.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),v>f?(o.addRange(a),o.extend(x.node,x.offset)):(a.setEnd(x.node,x.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Uk=u&&"documentMode"in document&&11>=document.documentMode,ol=null,Sm=null,Hc=null,Im=!1;function Hw(o,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Im||ol==null||ol!==dn(f)||(f=ol,"selectionStart"in f&&bm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Hc&&qc(Hc,f)||(Hc=f,f=Xd(Sm,"onSelect"),0<f.length&&(a=new Bi("onSelect","select",null,a,c),o.push({event:a,listeners:f}),a.target=ol)))}function Zd(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var il={animationend:Zd("Animation","AnimationEnd"),animationiteration:Zd("Animation","AnimationIteration"),animationstart:Zd("Animation","AnimationStart"),transitionend:Zd("Transition","TransitionEnd")},xm={},Ww={};u&&(Ww=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Qd(o){if(xm[o])return xm[o];if(!il[o])return o;var a=il[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in Ww)return xm[o]=a[c];return o}var Gw=Qd("animationend"),Kw=Qd("animationiteration"),Zw=Qd("animationstart"),Qw=Qd("transitionend"),Yw=new Map,Xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uo(o,a){Yw.set(o,a),i(a,[o])}for(var Tm=0;Tm<Xw.length;Tm++){var Cm=Xw[Tm],zk=Cm.toLowerCase(),$k=Cm[0].toUpperCase()+Cm.slice(1);Uo(zk,"on"+$k)}Uo(Gw,"onAnimationEnd"),Uo(Kw,"onAnimationIteration"),Uo(Zw,"onAnimationStart"),Uo("dblclick","onDoubleClick"),Uo("focusin","onFocus"),Uo("focusout","onBlur"),Uo(Qw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wc));function Jw(o,a,c){var f=o.type||"unknown-event";o.currentTarget=c,Ic(f,a,void 0,o),o.currentTarget=null}function e0(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var f=o[c],y=f.event;f=f.listeners;e:{var v=void 0;if(a)for(var x=f.length-1;0<=x;x--){var L=f[x],q=L.instance,ee=L.currentTarget;if(L=L.listener,q!==v&&y.isPropagationStopped())break e;Jw(y,L,ee),v=q}else for(x=0;x<f.length;x++){if(L=f[x],q=L.instance,ee=L.currentTarget,L=L.listener,q!==v&&y.isPropagationStopped())break e;Jw(y,L,ee),v=q}}}if(Ni)throw o=xr,Ni=!1,xr=null,o}function Rt(o,a){var c=a[Mm];c===void 0&&(c=a[Mm]=new Set);var f=o+"__bubble";c.has(f)||(t0(a,o,2,!1),c.add(f))}function Pm(o,a,c){var f=0;a&&(f|=4),t0(c,o,f,a)}var Yd="_reactListening"+Math.random().toString(36).slice(2);function Gc(o){if(!o[Yd]){o[Yd]=!0,r.forEach(function(c){c!=="selectionchange"&&(Bk.has(c)||Pm(c,!1,o),Pm(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Yd]||(a[Yd]=!0,Pm("selectionchange",!1,a))}}function t0(o,a,c,f){switch(Ya(a)){case 1:var y=gs;break;case 4:y=$d;break;default:y=Lc}c=y.bind(null,a,c,o),y=void 0,!ar||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function Am(o,a,c,f,y){var v=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var L=f.stateNode.containerInfo;if(L===y||L.nodeType===8&&L.parentNode===y)break;if(x===4)for(x=f.return;x!==null;){var q=x.tag;if((q===3||q===4)&&(q=x.stateNode.containerInfo,q===y||q.nodeType===8&&q.parentNode===y))return;x=x.return}for(;L!==null;){if(x=Hi(L),x===null)return;if(q=x.tag,q===5||q===6){f=v=x;continue e}L=L.parentNode}}f=f.return}zt(function(){var ee=v,le=Fn(c),ue=[];e:{var ae=Yw.get(o);if(ae!==void 0){var Te=Bi,Re=o;switch(o){case"keypress":if($i(c)===0)break e;case"keydown":case"keyup":Te=vt;break;case"focusin":Re="focus",Te=wn;break;case"focusout":Re="blur",Te=wn;break;case"beforeblur":case"afterblur":Te=wn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Hd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ws;break;case Gw:case Kw:case Zw:Te=Gd;break;case Qw:Te=rl;break;case"scroll":Te=Ja;break;case"wheel":Te=Tk;break;case"copy":case"cut":case"paste":Te=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=fr}var Oe=(a&4)!==0,Wt=!Oe&&o==="scroll",Q=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var H=ee,J;H!==null;){J=H;var fe=J.stateNode;if(J.tag===5&&fe!==null&&(J=fe,Q!==null&&(fe=Qt(H,Q),fe!=null&&Oe.push(Kc(H,fe,J)))),Wt)break;H=H.return}0<Oe.length&&(ae=new Te(ae,Re,null,c,le),ue.push({event:ae,listeners:Oe}))}}if((a&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",ae&&c!==Sr&&(Re=c.relatedTarget||c.fromElement)&&(Hi(Re)||Re[to]))break e;if((Te||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,Te?(Re=c.relatedTarget||c.toElement,Te=ee,Re=Re?Hi(Re):null,Re!==null&&(Wt=Hr(Re),Re!==Wt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Te=null,Re=ee),Te!==Re)){if(Oe=jc,fe="onMouseLeave",Q="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=fr,fe="onPointerLeave",Q="onPointerEnter",H="pointer"),Wt=Te==null?ae:cl(Te),J=Re==null?ae:cl(Re),ae=new Oe(fe,H+"leave",Te,c,le),ae.target=Wt,ae.relatedTarget=J,fe=null,Hi(le)===ee&&(Oe=new Oe(Q,H+"enter",Re,c,le),Oe.target=J,Oe.relatedTarget=Wt,fe=Oe),Wt=fe,Te&&Re)t:{for(Oe=Te,Q=Re,H=0,J=Oe;J;J=al(J))H++;for(J=0,fe=Q;fe;fe=al(fe))J++;for(;0<H-J;)Oe=al(Oe),H--;for(;0<J-H;)Q=al(Q),J--;for(;H--;){if(Oe===Q||Q!==null&&Oe===Q.alternate)break t;Oe=al(Oe),Q=al(Q)}Oe=null}else Oe=null;Te!==null&&n0(ue,ae,Te,Oe,!1),Re!==null&&Wt!==null&&n0(ue,Wt,Re,Oe,!0)}}e:{if(ae=ee?cl(ee):window,Te=ae.nodeName&&ae.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ae.type==="file")var Me=Dk;else if(Mw(ae))if(Lw)Me=Lk;else{Me=Mk;var Ue=Ok}else(Te=ae.nodeName)&&Te.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Me=Vk);if(Me&&(Me=Me(o,ee))){Vw(ue,Me,c,le);break e}Ue&&Ue(o,ae,ee),o==="focusout"&&(Ue=ae._wrapperState)&&Ue.controlled&&ae.type==="number"&&gt(ae,"number",ae.value)}switch(Ue=ee?cl(ee):window,o){case"focusin":(Mw(Ue)||Ue.contentEditable==="true")&&(ol=Ue,Sm=ee,Hc=null);break;case"focusout":Hc=Sm=ol=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,Hw(ue,c,le);break;case"selectionchange":if(Uk)break;case"keydown":case"keyup":Hw(ue,c,le)}var ze;if(_m)e:{switch(o){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else sl?Dw(o,c)&&(He="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(Rw&&c.locale!=="ko"&&(sl||He!=="onCompositionStart"?He==="onCompositionEnd"&&sl&&(ze=Bd()):(dr=le,Xa="value"in dr?dr.value:dr.textContent,sl=!0)),Ue=Xd(ee,He),0<Ue.length&&(He=new S(He,o,null,c,le),ue.push({event:He,listeners:Ue}),ze?He.data=ze:(ze=Ow(c),ze!==null&&(He.data=ze)))),(ze=Pk?Ak(o,c):Rk(o,c))&&(ee=Xd(ee,"onBeforeInput"),0<ee.length&&(le=new S("onBeforeInput","beforeinput",null,c,le),ue.push({event:le,listeners:ee}),le.data=ze))}e0(ue,a)})}function Kc(o,a,c){return{instance:o,listener:a,currentTarget:c}}function Xd(o,a){for(var c=a+"Capture",f=[];o!==null;){var y=o,v=y.stateNode;y.tag===5&&v!==null&&(y=v,v=Qt(o,c),v!=null&&f.unshift(Kc(o,v,y)),v=Qt(o,a),v!=null&&f.push(Kc(o,v,y))),o=o.return}return f}function al(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function n0(o,a,c,f,y){for(var v=a._reactName,x=[];c!==null&&c!==f;){var L=c,q=L.alternate,ee=L.stateNode;if(q!==null&&q===f)break;L.tag===5&&ee!==null&&(L=ee,y?(q=Qt(c,v),q!=null&&x.unshift(Kc(c,q,L))):y||(q=Qt(c,v),q!=null&&x.push(Kc(c,q,L)))),c=c.return}x.length!==0&&o.push({event:a,listeners:x})}var qk=/\r\n?/g,Hk=/\u0000|\uFFFD/g;function r0(o){return(typeof o=="string"?o:""+o).replace(qk,`
`).replace(Hk,"")}function Jd(o,a,c){if(a=r0(a),r0(o)!==a&&c)throw Error(t(425))}function eh(){}var Rm=null,km=null;function Nm(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dm=typeof setTimeout=="function"?setTimeout:void 0,Wk=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,Gk=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(o){return s0.resolve(null).then(o).catch(Kk)}:Dm;function Kk(o){setTimeout(function(){throw o})}function Om(o,a){var c=a,f=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(f===0){o.removeChild(y),Lo(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=y}while(c);Lo(a)}function zo(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function o0(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var ll=Math.random().toString(36).slice(2),bs="__reactFiber$"+ll,Zc="__reactProps$"+ll,to="__reactContainer$"+ll,Mm="__reactEvents$"+ll,Zk="__reactListeners$"+ll,Qk="__reactHandles$"+ll;function Hi(o){var a=o[bs];if(a)return a;for(var c=o.parentNode;c;){if(a=c[to]||c[bs]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=o0(o);o!==null;){if(c=o[bs])return c;o=o0(o)}return a}o=c,c=o.parentNode}return null}function Qc(o){return o=o[bs]||o[to],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function cl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function th(o){return o[Zc]||null}var Vm=[],ul=-1;function $o(o){return{current:o}}function kt(o){0>ul||(o.current=Vm[ul],Vm[ul]=null,ul--)}function Tt(o,a){ul++,Vm[ul]=o.current,o.current=a}var Bo={},Pn=$o(Bo),Zn=$o(!1),Wi=Bo;function dl(o,a){var c=o.type.contextTypes;if(!c)return Bo;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var y={},v;for(v in c)y[v]=a[v];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Qn(o){return o=o.childContextTypes,o!=null}function nh(){kt(Zn),kt(Pn)}function i0(o,a,c){if(Pn.current!==Bo)throw Error(t(168));Tt(Pn,a),Tt(Zn,c)}function a0(o,a,c){var f=o.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var y in f)if(!(y in a))throw Error(t(108,ve(o)||"Unknown",y));return X({},c,f)}function rh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Bo,Wi=Pn.current,Tt(Pn,o),Tt(Zn,Zn.current),!0}function l0(o,a,c){var f=o.stateNode;if(!f)throw Error(t(169));c?(o=a0(o,a,Wi),f.__reactInternalMemoizedMergedChildContext=o,kt(Zn),kt(Pn),Tt(Pn,o)):kt(Zn),Tt(Zn,c)}var no=null,sh=!1,Lm=!1;function c0(o){no===null?no=[o]:no.push(o)}function Yk(o){sh=!0,c0(o)}function qo(){if(!Lm&&no!==null){Lm=!0;var o=0,a=lt;try{var c=no;for(lt=1;o<c.length;o++){var f=c[o];do f=f(!0);while(f!==null)}no=null,sh=!1}catch(y){throw no!==null&&(no=no.slice(o+1)),Tc(Ha,qo),y}finally{lt=a,Lm=!1}}return null}var hl=[],fl=0,oh=null,ih=0,Cr=[],Pr=0,Gi=null,ro=1,so="";function Ki(o,a){hl[fl++]=ih,hl[fl++]=oh,oh=o,ih=a}function u0(o,a,c){Cr[Pr++]=ro,Cr[Pr++]=so,Cr[Pr++]=Gi,Gi=o;var f=ro;o=so;var y=32-cr(f)-1;f&=~(1<<y),c+=1;var v=32-cr(a)+y;if(30<v){var x=y-y%5;v=(f&(1<<x)-1).toString(32),f>>=x,y-=x,ro=1<<32-cr(a)+y|c<<y|f,so=v+o}else ro=1<<v|c<<y|f,so=o}function Fm(o){o.return!==null&&(Ki(o,1),u0(o,1,0))}function jm(o){for(;o===oh;)oh=hl[--fl],hl[fl]=null,ih=hl[--fl],hl[fl]=null;for(;o===Gi;)Gi=Cr[--Pr],Cr[Pr]=null,so=Cr[--Pr],Cr[Pr]=null,ro=Cr[--Pr],Cr[Pr]=null}var pr=null,mr=null,Nt=!1,Kr=null;function d0(o,a){var c=Nr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function h0(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,pr=o,mr=zo(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,pr=o,mr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Gi!==null?{id:ro,overflow:so}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Nr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,pr=o,mr=null,!0):!1;default:return!1}}function Um(o){return(o.mode&1)!==0&&(o.flags&128)===0}function zm(o){if(Nt){var a=mr;if(a){var c=a;if(!h0(o,a)){if(Um(o))throw Error(t(418));a=zo(c.nextSibling);var f=pr;a&&h0(o,a)?d0(f,c):(o.flags=o.flags&-4097|2,Nt=!1,pr=o)}}else{if(Um(o))throw Error(t(418));o.flags=o.flags&-4097|2,Nt=!1,pr=o}}}function f0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;pr=o}function ah(o){if(o!==pr)return!1;if(!Nt)return f0(o),Nt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Nm(o.type,o.memoizedProps)),a&&(a=mr)){if(Um(o))throw p0(),Error(t(418));for(;a;)d0(o,a),a=zo(a.nextSibling)}if(f0(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){mr=zo(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}mr=null}}else mr=pr?zo(o.stateNode.nextSibling):null;return!0}function p0(){for(var o=mr;o;)o=zo(o.nextSibling)}function pl(){mr=pr=null,Nt=!1}function $m(o){Kr===null?Kr=[o]:Kr.push(o)}var Xk=z.ReactCurrentBatchConfig;function Yc(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,o));var y=f,v=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(x){var L=y.refs;x===null?delete L[v]:L[v]=x},a._stringRef=v,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function lh(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function m0(o){var a=o._init;return a(o._payload)}function g0(o){function a(Q,H){if(o){var J=Q.deletions;J===null?(Q.deletions=[H],Q.flags|=16):J.push(H)}}function c(Q,H){if(!o)return null;for(;H!==null;)a(Q,H),H=H.sibling;return null}function f(Q,H){for(Q=new Map;H!==null;)H.key!==null?Q.set(H.key,H):Q.set(H.index,H),H=H.sibling;return Q}function y(Q,H){return Q=Xo(Q,H),Q.index=0,Q.sibling=null,Q}function v(Q,H,J){return Q.index=J,o?(J=Q.alternate,J!==null?(J=J.index,J<H?(Q.flags|=2,H):J):(Q.flags|=2,H)):(Q.flags|=1048576,H)}function x(Q){return o&&Q.alternate===null&&(Q.flags|=2),Q}function L(Q,H,J,fe){return H===null||H.tag!==6?(H=Dg(J,Q.mode,fe),H.return=Q,H):(H=y(H,J),H.return=Q,H)}function q(Q,H,J,fe){var Me=J.type;return Me===P?le(Q,H,J.props.children,fe,J.key):H!==null&&(H.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===me&&m0(Me)===H.type)?(fe=y(H,J.props),fe.ref=Yc(Q,H,J),fe.return=Q,fe):(fe=Nh(J.type,J.key,J.props,null,Q.mode,fe),fe.ref=Yc(Q,H,J),fe.return=Q,fe)}function ee(Q,H,J,fe){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=Og(J,Q.mode,fe),H.return=Q,H):(H=y(H,J.children||[]),H.return=Q,H)}function le(Q,H,J,fe,Me){return H===null||H.tag!==7?(H=na(J,Q.mode,fe,Me),H.return=Q,H):(H=y(H,J),H.return=Q,H)}function ue(Q,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Dg(""+H,Q.mode,J),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case $:return J=Nh(H.type,H.key,H.props,null,Q.mode,J),J.ref=Yc(Q,null,H),J.return=Q,J;case K:return H=Og(H,Q.mode,J),H.return=Q,H;case me:var fe=H._init;return ue(Q,fe(H._payload),J)}if(Vt(H)||ne(H))return H=na(H,Q.mode,J,null),H.return=Q,H;lh(Q,H)}return null}function ae(Q,H,J,fe){var Me=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Me!==null?null:L(Q,H,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===Me?q(Q,H,J,fe):null;case K:return J.key===Me?ee(Q,H,J,fe):null;case me:return Me=J._init,ae(Q,H,Me(J._payload),fe)}if(Vt(J)||ne(J))return Me!==null?null:le(Q,H,J,fe,null);lh(Q,J)}return null}function Te(Q,H,J,fe,Me){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Q=Q.get(J)||null,L(H,Q,""+fe,Me);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case $:return Q=Q.get(fe.key===null?J:fe.key)||null,q(H,Q,fe,Me);case K:return Q=Q.get(fe.key===null?J:fe.key)||null,ee(H,Q,fe,Me);case me:var Ue=fe._init;return Te(Q,H,J,Ue(fe._payload),Me)}if(Vt(fe)||ne(fe))return Q=Q.get(J)||null,le(H,Q,fe,Me,null);lh(H,fe)}return null}function Re(Q,H,J,fe){for(var Me=null,Ue=null,ze=H,He=H=0,gn=null;ze!==null&&He<J.length;He++){ze.index>He?(gn=ze,ze=null):gn=ze.sibling;var pt=ae(Q,ze,J[He],fe);if(pt===null){ze===null&&(ze=gn);break}o&&ze&&pt.alternate===null&&a(Q,ze),H=v(pt,H,He),Ue===null?Me=pt:Ue.sibling=pt,Ue=pt,ze=gn}if(He===J.length)return c(Q,ze),Nt&&Ki(Q,He),Me;if(ze===null){for(;He<J.length;He++)ze=ue(Q,J[He],fe),ze!==null&&(H=v(ze,H,He),Ue===null?Me=ze:Ue.sibling=ze,Ue=ze);return Nt&&Ki(Q,He),Me}for(ze=f(Q,ze);He<J.length;He++)gn=Te(ze,Q,He,J[He],fe),gn!==null&&(o&&gn.alternate!==null&&ze.delete(gn.key===null?He:gn.key),H=v(gn,H,He),Ue===null?Me=gn:Ue.sibling=gn,Ue=gn);return o&&ze.forEach(function(Jo){return a(Q,Jo)}),Nt&&Ki(Q,He),Me}function Oe(Q,H,J,fe){var Me=ne(J);if(typeof Me!="function")throw Error(t(150));if(J=Me.call(J),J==null)throw Error(t(151));for(var Ue=Me=null,ze=H,He=H=0,gn=null,pt=J.next();ze!==null&&!pt.done;He++,pt=J.next()){ze.index>He?(gn=ze,ze=null):gn=ze.sibling;var Jo=ae(Q,ze,pt.value,fe);if(Jo===null){ze===null&&(ze=gn);break}o&&ze&&Jo.alternate===null&&a(Q,ze),H=v(Jo,H,He),Ue===null?Me=Jo:Ue.sibling=Jo,Ue=Jo,ze=gn}if(pt.done)return c(Q,ze),Nt&&Ki(Q,He),Me;if(ze===null){for(;!pt.done;He++,pt=J.next())pt=ue(Q,pt.value,fe),pt!==null&&(H=v(pt,H,He),Ue===null?Me=pt:Ue.sibling=pt,Ue=pt);return Nt&&Ki(Q,He),Me}for(ze=f(Q,ze);!pt.done;He++,pt=J.next())pt=Te(ze,Q,He,pt.value,fe),pt!==null&&(o&&pt.alternate!==null&&ze.delete(pt.key===null?He:pt.key),H=v(pt,H,He),Ue===null?Me=pt:Ue.sibling=pt,Ue=pt);return o&&ze.forEach(function(kN){return a(Q,kN)}),Nt&&Ki(Q,He),Me}function Wt(Q,H,J,fe){if(typeof J=="object"&&J!==null&&J.type===P&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var Me=J.key,Ue=H;Ue!==null;){if(Ue.key===Me){if(Me=J.type,Me===P){if(Ue.tag===7){c(Q,Ue.sibling),H=y(Ue,J.props.children),H.return=Q,Q=H;break e}}else if(Ue.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===me&&m0(Me)===Ue.type){c(Q,Ue.sibling),H=y(Ue,J.props),H.ref=Yc(Q,Ue,J),H.return=Q,Q=H;break e}c(Q,Ue);break}else a(Q,Ue);Ue=Ue.sibling}J.type===P?(H=na(J.props.children,Q.mode,fe,J.key),H.return=Q,Q=H):(fe=Nh(J.type,J.key,J.props,null,Q.mode,fe),fe.ref=Yc(Q,H,J),fe.return=Q,Q=fe)}return x(Q);case K:e:{for(Ue=J.key;H!==null;){if(H.key===Ue)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(Q,H.sibling),H=y(H,J.children||[]),H.return=Q,Q=H;break e}else{c(Q,H);break}else a(Q,H);H=H.sibling}H=Og(J,Q.mode,fe),H.return=Q,Q=H}return x(Q);case me:return Ue=J._init,Wt(Q,H,Ue(J._payload),fe)}if(Vt(J))return Re(Q,H,J,fe);if(ne(J))return Oe(Q,H,J,fe);lh(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(c(Q,H.sibling),H=y(H,J),H.return=Q,Q=H):(c(Q,H),H=Dg(J,Q.mode,fe),H.return=Q,Q=H),x(Q)):c(Q,H)}return Wt}var ml=g0(!0),y0=g0(!1),ch=$o(null),uh=null,gl=null,Bm=null;function qm(){Bm=gl=uh=null}function Hm(o){var a=ch.current;kt(ch),o._currentValue=a}function Wm(o,a,c){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===c)break;o=o.return}}function yl(o,a){uh=o,Bm=gl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Yn=!0),o.firstContext=null)}function Ar(o){var a=o._currentValue;if(Bm!==o)if(o={context:o,memoizedValue:a,next:null},gl===null){if(uh===null)throw Error(t(308));gl=o,uh.dependencies={lanes:0,firstContext:o}}else gl=gl.next=o;return a}var Zi=null;function Gm(o){Zi===null?Zi=[o]:Zi.push(o)}function v0(o,a,c,f){var y=a.interleaved;return y===null?(c.next=c,Gm(a)):(c.next=y.next,y.next=c),a.interleaved=c,oo(o,f)}function oo(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Ho=!1;function Km(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _0(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function io(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Wo(o,a,c){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(ft&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,oo(o,c)}return y=f.interleaved,y===null?(a.next=a,Gm(f)):(a.next=y.next,y.next=a),f.interleaved=a,oo(o,c)}function dh(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Nc(o,c)}}function w0(o,a){var c=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var x={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?y=v=x:v=v.next=x,c=c.next}while(c!==null);v===null?y=v=a:v=v.next=a}else y=v=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:f.shared,effects:f.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function hh(o,a,c,f){var y=o.updateQueue;Ho=!1;var v=y.firstBaseUpdate,x=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var q=L,ee=q.next;q.next=null,x===null?v=ee:x.next=ee,x=q;var le=o.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==x&&(L===null?le.firstBaseUpdate=ee:L.next=ee,le.lastBaseUpdate=q))}if(v!==null){var ue=y.baseState;x=0,le=ee=q=null,L=v;do{var ae=L.lane,Te=L.eventTime;if((f&ae)===ae){le!==null&&(le=le.next={eventTime:Te,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Re=o,Oe=L;switch(ae=a,Te=c,Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){ue=Re.call(Te,ue,ae);break e}ue=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,ae=typeof Re=="function"?Re.call(Te,ue,ae):Re,ae==null)break e;ue=X({},ue,ae);break e;case 2:Ho=!0}}L.callback!==null&&L.lane!==0&&(o.flags|=64,ae=y.effects,ae===null?y.effects=[L]:ae.push(L))}else Te={eventTime:Te,lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(ee=le=Te,q=ue):le=le.next=Te,x|=ae;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);if(le===null&&(q=ue),y.baseState=q,y.firstBaseUpdate=ee,y.lastBaseUpdate=le,a=y.shared.interleaved,a!==null){y=a;do x|=y.lane,y=y.next;while(y!==a)}else v===null&&(y.shared.lanes=0);Xi|=x,o.lanes=x,o.memoizedState=ue}}function E0(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var f=o[a],y=f.callback;if(y!==null){if(f.callback=null,f=c,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var Xc={},Ss=$o(Xc),Jc=$o(Xc),eu=$o(Xc);function Qi(o){if(o===Xc)throw Error(t(174));return o}function Zm(o,a){switch(Tt(eu,a),Tt(Jc,o),Tt(Ss,Xc),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Po(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Po(a,o)}kt(Ss),Tt(Ss,a)}function vl(){kt(Ss),kt(Jc),kt(eu)}function b0(o){Qi(eu.current);var a=Qi(Ss.current),c=Po(a,o.type);a!==c&&(Tt(Jc,o),Tt(Ss,c))}function Qm(o){Jc.current===o&&(kt(Ss),kt(Jc))}var Lt=$o(0);function fh(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ym=[];function Xm(){for(var o=0;o<Ym.length;o++)Ym[o]._workInProgressVersionPrimary=null;Ym.length=0}var ph=z.ReactCurrentDispatcher,Jm=z.ReactCurrentBatchConfig,Yi=0,Ft=null,on=null,pn=null,mh=!1,tu=!1,nu=0,Jk=0;function An(){throw Error(t(321))}function eg(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!Gr(o[c],a[c]))return!1;return!0}function tg(o,a,c,f,y,v){if(Yi=v,Ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ph.current=o===null||o.memoizedState===null?rN:sN,o=c(f,y),tu){v=0;do{if(tu=!1,nu=0,25<=v)throw Error(t(301));v+=1,pn=on=null,a.updateQueue=null,ph.current=oN,o=c(f,y)}while(tu)}if(ph.current=vh,a=on!==null&&on.next!==null,Yi=0,pn=on=Ft=null,mh=!1,a)throw Error(t(300));return o}function ng(){var o=nu!==0;return nu=0,o}function Is(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Ft.memoizedState=pn=o:pn=pn.next=o,pn}function Rr(){if(on===null){var o=Ft.alternate;o=o!==null?o.memoizedState:null}else o=on.next;var a=pn===null?Ft.memoizedState:pn.next;if(a!==null)pn=a,on=o;else{if(o===null)throw Error(t(310));on=o,o={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},pn===null?Ft.memoizedState=pn=o:pn=pn.next=o}return pn}function ru(o,a){return typeof a=="function"?a(o):a}function rg(o){var a=Rr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=on,y=f.baseQueue,v=c.pending;if(v!==null){if(y!==null){var x=y.next;y.next=v.next,v.next=x}f.baseQueue=y=v,c.pending=null}if(y!==null){v=y.next,f=f.baseState;var L=x=null,q=null,ee=v;do{var le=ee.lane;if((Yi&le)===le)q!==null&&(q=q.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),f=ee.hasEagerState?ee.eagerState:o(f,ee.action);else{var ue={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};q===null?(L=q=ue,x=f):q=q.next=ue,Ft.lanes|=le,Xi|=le}ee=ee.next}while(ee!==null&&ee!==v);q===null?x=f:q.next=L,Gr(f,a.memoizedState)||(Yn=!0),a.memoizedState=f,a.baseState=x,a.baseQueue=q,c.lastRenderedState=f}if(o=c.interleaved,o!==null){y=o;do v=y.lane,Ft.lanes|=v,Xi|=v,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function sg(o){var a=Rr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=c.dispatch,y=c.pending,v=a.memoizedState;if(y!==null){c.pending=null;var x=y=y.next;do v=o(v,x.action),x=x.next;while(x!==y);Gr(v,a.memoizedState)||(Yn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,f]}function S0(){}function I0(o,a){var c=Ft,f=Rr(),y=a(),v=!Gr(f.memoizedState,y);if(v&&(f.memoizedState=y,Yn=!0),f=f.queue,og(C0.bind(null,c,f,o),[o]),f.getSnapshot!==a||v||pn!==null&&pn.memoizedState.tag&1){if(c.flags|=2048,su(9,T0.bind(null,c,f,y,a),void 0,null),mn===null)throw Error(t(349));(Yi&30)!==0||x0(c,a,y)}return y}function x0(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=Ft.updateQueue,a===null?(a={lastEffect:null,stores:null},Ft.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function T0(o,a,c,f){a.value=c,a.getSnapshot=f,P0(a)&&A0(o)}function C0(o,a,c){return c(function(){P0(a)&&A0(o)})}function P0(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!Gr(o,c)}catch{return!0}}function A0(o){var a=oo(o,1);a!==null&&Xr(a,o,1,-1)}function R0(o){var a=Is();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:o},a.queue=o,o=o.dispatch=nN.bind(null,Ft,o),[a.memoizedState,o]}function su(o,a,c,f){return o={tag:o,create:a,destroy:c,deps:f,next:null},a=Ft.updateQueue,a===null?(a={lastEffect:null,stores:null},Ft.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(f=c.next,c.next=o,o.next=f,a.lastEffect=o)),o}function k0(){return Rr().memoizedState}function gh(o,a,c,f){var y=Is();Ft.flags|=o,y.memoizedState=su(1|a,c,void 0,f===void 0?null:f)}function yh(o,a,c,f){var y=Rr();f=f===void 0?null:f;var v=void 0;if(on!==null){var x=on.memoizedState;if(v=x.destroy,f!==null&&eg(f,x.deps)){y.memoizedState=su(a,c,v,f);return}}Ft.flags|=o,y.memoizedState=su(1|a,c,v,f)}function N0(o,a){return gh(8390656,8,o,a)}function og(o,a){return yh(2048,8,o,a)}function D0(o,a){return yh(4,2,o,a)}function O0(o,a){return yh(4,4,o,a)}function M0(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function V0(o,a,c){return c=c!=null?c.concat([o]):null,yh(4,4,M0.bind(null,a,o),c)}function ig(){}function L0(o,a){var c=Rr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&eg(a,f[1])?f[0]:(c.memoizedState=[o,a],o)}function F0(o,a){var c=Rr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&eg(a,f[1])?f[0]:(o=o(),c.memoizedState=[o,a],o)}function j0(o,a,c){return(Yi&21)===0?(o.baseState&&(o.baseState=!1,Yn=!0),o.memoizedState=c):(Gr(c,a)||(c=Rc(),Ft.lanes|=c,Xi|=c,o.baseState=!0),a)}function eN(o,a){var c=lt;lt=c!==0&&4>c?c:4,o(!0);var f=Jm.transition;Jm.transition={};try{o(!1),a()}finally{lt=c,Jm.transition=f}}function U0(){return Rr().memoizedState}function tN(o,a,c){var f=Qo(o);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},z0(o))$0(a,c);else if(c=v0(o,a,c,f),c!==null){var y=zn();Xr(c,o,f,y),B0(c,a,f)}}function nN(o,a,c){var f=Qo(o),y={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(z0(o))$0(a,y);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var x=a.lastRenderedState,L=v(x,c);if(y.hasEagerState=!0,y.eagerState=L,Gr(L,x)){var q=a.interleaved;q===null?(y.next=y,Gm(a)):(y.next=q.next,q.next=y),a.interleaved=y;return}}catch{}finally{}c=v0(o,a,y,f),c!==null&&(y=zn(),Xr(c,o,f,y),B0(c,a,f))}}function z0(o){var a=o.alternate;return o===Ft||a!==null&&a===Ft}function $0(o,a){tu=mh=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function B0(o,a,c){if((c&4194240)!==0){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Nc(o,c)}}var vh={readContext:Ar,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},rN={readContext:Ar,useCallback:function(o,a){return Is().memoizedState=[o,a===void 0?null:a],o},useContext:Ar,useEffect:N0,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,gh(4194308,4,M0.bind(null,a,o),c)},useLayoutEffect:function(o,a){return gh(4194308,4,o,a)},useInsertionEffect:function(o,a){return gh(4,2,o,a)},useMemo:function(o,a){var c=Is();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var f=Is();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},f.queue=o,o=o.dispatch=tN.bind(null,Ft,o),[f.memoizedState,o]},useRef:function(o){var a=Is();return o={current:o},a.memoizedState=o},useState:R0,useDebugValue:ig,useDeferredValue:function(o){return Is().memoizedState=o},useTransition:function(){var o=R0(!1),a=o[0];return o=eN.bind(null,o[1]),Is().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var f=Ft,y=Is();if(Nt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),mn===null)throw Error(t(349));(Yi&30)!==0||x0(f,a,c)}y.memoizedState=c;var v={value:c,getSnapshot:a};return y.queue=v,N0(C0.bind(null,f,v,o),[o]),f.flags|=2048,su(9,T0.bind(null,f,v,c,a),void 0,null),c},useId:function(){var o=Is(),a=mn.identifierPrefix;if(Nt){var c=so,f=ro;c=(f&~(1<<32-cr(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=nu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Jk++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},sN={readContext:Ar,useCallback:L0,useContext:Ar,useEffect:og,useImperativeHandle:V0,useInsertionEffect:D0,useLayoutEffect:O0,useMemo:F0,useReducer:rg,useRef:k0,useState:function(){return rg(ru)},useDebugValue:ig,useDeferredValue:function(o){var a=Rr();return j0(a,on.memoizedState,o)},useTransition:function(){var o=rg(ru)[0],a=Rr().memoizedState;return[o,a]},useMutableSource:S0,useSyncExternalStore:I0,useId:U0,unstable_isNewReconciler:!1},oN={readContext:Ar,useCallback:L0,useContext:Ar,useEffect:og,useImperativeHandle:V0,useInsertionEffect:D0,useLayoutEffect:O0,useMemo:F0,useReducer:sg,useRef:k0,useState:function(){return sg(ru)},useDebugValue:ig,useDeferredValue:function(o){var a=Rr();return on===null?a.memoizedState=o:j0(a,on.memoizedState,o)},useTransition:function(){var o=sg(ru)[0],a=Rr().memoizedState;return[o,a]},useMutableSource:S0,useSyncExternalStore:I0,useId:U0,unstable_isNewReconciler:!1};function Zr(o,a){if(o&&o.defaultProps){a=X({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function ag(o,a,c,f){a=o.memoizedState,c=c(f,a),c=c==null?a:X({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var _h={isMounted:function(o){return(o=o._reactInternals)?Hr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var f=zn(),y=Qo(o),v=io(f,y);v.payload=a,c!=null&&(v.callback=c),a=Wo(o,v,y),a!==null&&(Xr(a,o,y,f),dh(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var f=zn(),y=Qo(o),v=io(f,y);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=Wo(o,v,y),a!==null&&(Xr(a,o,y,f),dh(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=zn(),f=Qo(o),y=io(c,f);y.tag=2,a!=null&&(y.callback=a),a=Wo(o,y,f),a!==null&&(Xr(a,o,f,c),dh(a,o,f))}};function q0(o,a,c,f,y,v,x){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,v,x):a.prototype&&a.prototype.isPureReactComponent?!qc(c,f)||!qc(y,v):!0}function H0(o,a,c){var f=!1,y=Bo,v=a.contextType;return typeof v=="object"&&v!==null?v=Ar(v):(y=Qn(a)?Wi:Pn.current,f=a.contextTypes,v=(f=f!=null)?dl(o,y):Bo),a=new a(c,v),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=_h,o.stateNode=a,a._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=v),a}function W0(o,a,c,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==o&&_h.enqueueReplaceState(a,a.state,null)}function lg(o,a,c,f){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},Km(o);var v=a.contextType;typeof v=="object"&&v!==null?y.context=Ar(v):(v=Qn(a)?Wi:Pn.current,y.context=dl(o,v)),y.state=o.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ag(o,a,v,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&_h.enqueueReplaceState(y,y.state,null),hh(o,c,y,f),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function _l(o,a){try{var c="",f=a;do c+=he(f),f=f.return;while(f);var y=c}catch(v){y=`
Error generating stack: `+v.message+`
`+v.stack}return{value:o,source:a,stack:y,digest:null}}function cg(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function ug(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var iN=typeof WeakMap=="function"?WeakMap:Map;function G0(o,a,c){c=io(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){Th||(Th=!0,xg=f),ug(o,a)},c}function K0(o,a,c){c=io(-1,c),c.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=a.value;c.payload=function(){return f(y)},c.callback=function(){ug(o,a)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){ug(o,a),typeof f!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})}),c}function Z0(o,a,c){var f=o.pingCache;if(f===null){f=o.pingCache=new iN;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(y.add(c),o=wN.bind(null,o,a,c),a.then(o,o))}function Q0(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function Y0(o,a,c,f,y){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=io(-1,1),a.tag=2,Wo(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var aN=z.ReactCurrentOwner,Yn=!1;function Un(o,a,c,f){a.child=o===null?y0(a,null,c,f):ml(a,o.child,c,f)}function X0(o,a,c,f,y){c=c.render;var v=a.ref;return yl(a,y),f=tg(o,a,c,f,v,y),c=ng(),o!==null&&!Yn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ao(o,a,y)):(Nt&&c&&Fm(a),a.flags|=1,Un(o,a,f,y),a.child)}function J0(o,a,c,f,y){if(o===null){var v=c.type;return typeof v=="function"&&!Ng(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=v,eE(o,a,v,f,y)):(o=Nh(c.type,null,f,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(v=o.child,(o.lanes&y)===0){var x=v.memoizedProps;if(c=c.compare,c=c!==null?c:qc,c(x,f)&&o.ref===a.ref)return ao(o,a,y)}return a.flags|=1,o=Xo(v,f),o.ref=a.ref,o.return=a,a.child=o}function eE(o,a,c,f,y){if(o!==null){var v=o.memoizedProps;if(qc(v,f)&&o.ref===a.ref)if(Yn=!1,a.pendingProps=f=v,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Yn=!0);else return a.lanes=o.lanes,ao(o,a,y)}return dg(o,a,c,f,y)}function tE(o,a,c){var f=a.pendingProps,y=f.children,v=o!==null?o.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(El,gr),gr|=c;else{if((c&1073741824)===0)return o=v!==null?v.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Tt(El,gr),gr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:c,Tt(El,gr),gr|=f}else v!==null?(f=v.baseLanes|c,a.memoizedState=null):f=c,Tt(El,gr),gr|=f;return Un(o,a,y,c),a.child}function nE(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function dg(o,a,c,f,y){var v=Qn(c)?Wi:Pn.current;return v=dl(a,v),yl(a,y),c=tg(o,a,c,f,v,y),f=ng(),o!==null&&!Yn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ao(o,a,y)):(Nt&&f&&Fm(a),a.flags|=1,Un(o,a,c,y),a.child)}function rE(o,a,c,f,y){if(Qn(c)){var v=!0;rh(a)}else v=!1;if(yl(a,y),a.stateNode===null)Eh(o,a),H0(a,c,f),lg(a,c,f,y),f=!0;else if(o===null){var x=a.stateNode,L=a.memoizedProps;x.props=L;var q=x.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Ar(ee):(ee=Qn(c)?Wi:Pn.current,ee=dl(a,ee));var le=c.getDerivedStateFromProps,ue=typeof le=="function"||typeof x.getSnapshotBeforeUpdate=="function";ue||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==f||q!==ee)&&W0(a,x,f,ee),Ho=!1;var ae=a.memoizedState;x.state=ae,hh(a,f,x,y),q=a.memoizedState,L!==f||ae!==q||Zn.current||Ho?(typeof le=="function"&&(ag(a,c,le,f),q=a.memoizedState),(L=Ho||q0(a,c,L,f,ae,q,ee))?(ue||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=q),x.props=f,x.state=q,x.context=ee,f=L):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{x=a.stateNode,_0(o,a),L=a.memoizedProps,ee=a.type===a.elementType?L:Zr(a.type,L),x.props=ee,ue=a.pendingProps,ae=x.context,q=c.contextType,typeof q=="object"&&q!==null?q=Ar(q):(q=Qn(c)?Wi:Pn.current,q=dl(a,q));var Te=c.getDerivedStateFromProps;(le=typeof Te=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==ue||ae!==q)&&W0(a,x,f,q),Ho=!1,ae=a.memoizedState,x.state=ae,hh(a,f,x,y);var Re=a.memoizedState;L!==ue||ae!==Re||Zn.current||Ho?(typeof Te=="function"&&(ag(a,c,Te,f),Re=a.memoizedState),(ee=Ho||q0(a,c,ee,f,ae,Re,q)||!1)?(le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,Re,q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,Re,q)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Re),x.props=f,x.state=Re,x.context=q,f=ee):(typeof x.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),f=!1)}return hg(o,a,c,f,v,y)}function hg(o,a,c,f,y,v){nE(o,a);var x=(a.flags&128)!==0;if(!f&&!x)return y&&l0(a,c,!1),ao(o,a,v);f=a.stateNode,aN.current=a;var L=x&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,o!==null&&x?(a.child=ml(a,o.child,null,v),a.child=ml(a,null,L,v)):Un(o,a,L,v),a.memoizedState=f.state,y&&l0(a,c,!0),a.child}function sE(o){var a=o.stateNode;a.pendingContext?i0(o,a.pendingContext,a.pendingContext!==a.context):a.context&&i0(o,a.context,!1),Zm(o,a.containerInfo)}function oE(o,a,c,f,y){return pl(),$m(y),a.flags|=256,Un(o,a,c,f),a.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function pg(o){return{baseLanes:o,cachePool:null,transitions:null}}function iE(o,a,c){var f=a.pendingProps,y=Lt.current,v=!1,x=(a.flags&128)!==0,L;if((L=x)||(L=o!==null&&o.memoizedState===null?!1:(y&2)!==0),L?(v=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),Tt(Lt,y&1),o===null)return zm(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(x=f.children,o=f.fallback,v?(f=a.mode,v=a.child,x={mode:"hidden",children:x},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=x):v=Dh(x,f,0,null),o=na(o,f,c,null),v.return=a,o.return=a,v.sibling=o,a.child=v,a.child.memoizedState=pg(c),a.memoizedState=fg,o):mg(a,x));if(y=o.memoizedState,y!==null&&(L=y.dehydrated,L!==null))return lN(o,a,x,f,L,y,c);if(v){v=f.fallback,x=a.mode,y=o.child,L=y.sibling;var q={mode:"hidden",children:f.children};return(x&1)===0&&a.child!==y?(f=a.child,f.childLanes=0,f.pendingProps=q,a.deletions=null):(f=Xo(y,q),f.subtreeFlags=y.subtreeFlags&14680064),L!==null?v=Xo(L,v):(v=na(v,x,c,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,x=o.child.memoizedState,x=x===null?pg(c):{baseLanes:x.baseLanes|c,cachePool:null,transitions:x.transitions},v.memoizedState=x,v.childLanes=o.childLanes&~c,a.memoizedState=fg,f}return v=o.child,o=v.sibling,f=Xo(v,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=f,a.memoizedState=null,f}function mg(o,a){return a=Dh({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function wh(o,a,c,f){return f!==null&&$m(f),ml(a,o.child,null,c),o=mg(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function lN(o,a,c,f,y,v,x){if(c)return a.flags&256?(a.flags&=-257,f=cg(Error(t(422))),wh(o,a,x,f)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(v=f.fallback,y=a.mode,f=Dh({mode:"visible",children:f.children},y,0,null),v=na(v,y,x,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,(a.mode&1)!==0&&ml(a,o.child,null,x),a.child.memoizedState=pg(x),a.memoizedState=fg,v);if((a.mode&1)===0)return wh(o,a,x,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var L=f.dgst;return f=L,v=Error(t(419)),f=cg(v,f,void 0),wh(o,a,x,f)}if(L=(x&o.childLanes)!==0,Yn||L){if(f=mn,f!==null){switch(x&-x){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|x))!==0?0:y,y!==0&&y!==v.retryLane&&(v.retryLane=y,oo(o,y),Xr(f,o,y,-1))}return kg(),f=cg(Error(t(421))),wh(o,a,x,f)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=EN.bind(null,o),y._reactRetry=a,null):(o=v.treeContext,mr=zo(y.nextSibling),pr=a,Nt=!0,Kr=null,o!==null&&(Cr[Pr++]=ro,Cr[Pr++]=so,Cr[Pr++]=Gi,ro=o.id,so=o.overflow,Gi=a),a=mg(a,f.children),a.flags|=4096,a)}function aE(o,a,c){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),Wm(o.return,a,c)}function gg(o,a,c,f,y){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=y)}function lE(o,a,c){var f=a.pendingProps,y=f.revealOrder,v=f.tail;if(Un(o,a,f.children,c),f=Lt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&aE(o,c,a);else if(o.tag===19)aE(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(Tt(Lt,f),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&fh(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),gg(a,!1,y,c,v);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&fh(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}gg(a,!0,c,null,v);break;case"together":gg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Eh(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function ao(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Xi|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=Xo(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=Xo(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function cN(o,a,c){switch(a.tag){case 3:sE(a),pl();break;case 5:b0(a);break;case 1:Qn(a.type)&&rh(a);break;case 4:Zm(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,y=a.memoizedProps.value;Tt(ch,f._currentValue),f._currentValue=y;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Tt(Lt,Lt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?iE(o,a,c):(Tt(Lt,Lt.current&1),o=ao(o,a,c),o!==null?o.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(o.flags&128)!==0){if(f)return lE(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Tt(Lt,Lt.current),f)break;return null;case 22:case 23:return a.lanes=0,tE(o,a,c)}return ao(o,a,c)}var cE,yg,uE,dE;cE=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},yg=function(){},uE=function(o,a,c,f){var y=o.memoizedProps;if(y!==f){o=a.stateNode,Qi(Ss.current);var v=null;switch(c){case"input":y=is(o,y),f=is(o,f),v=[];break;case"select":y=X({},y,{value:void 0}),f=X({},f,{value:void 0}),v=[];break;case"textarea":y=sn(o,y),f=sn(o,f),v=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=eh)}Kn(c,f);var x;c=null;for(ee in y)if(!f.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var L=y[ee];for(x in L)L.hasOwnProperty(x)&&(c||(c={}),c[x]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?v||(v=[]):(v=v||[]).push(ee,null));for(ee in f){var q=f[ee];if(L=y?.[ee],f.hasOwnProperty(ee)&&q!==L&&(q!=null||L!=null))if(ee==="style")if(L){for(x in L)!L.hasOwnProperty(x)||q&&q.hasOwnProperty(x)||(c||(c={}),c[x]="");for(x in q)q.hasOwnProperty(x)&&L[x]!==q[x]&&(c||(c={}),c[x]=q[x])}else c||(v||(v=[]),v.push(ee,c)),c=q;else ee==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,L=L?L.__html:void 0,q!=null&&L!==q&&(v=v||[]).push(ee,q)):ee==="children"?typeof q!="string"&&typeof q!="number"||(v=v||[]).push(ee,""+q):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?(q!=null&&ee==="onScroll"&&Rt("scroll",o),v||L===q||(v=[])):(v=v||[]).push(ee,q))}c&&(v=v||[]).push("style",c);var ee=v;(a.updateQueue=ee)&&(a.flags|=4)}},dE=function(o,a,c,f){c!==f&&(a.flags|=4)};function ou(o,a){if(!Nt)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Rn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,f=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=f,o.childLanes=c,a}function uN(o,a,c){var f=a.pendingProps;switch(jm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(a),null;case 1:return Qn(a.type)&&nh(),Rn(a),null;case 3:return f=a.stateNode,vl(),kt(Zn),kt(Pn),Xm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(ah(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Kr!==null&&(Pg(Kr),Kr=null))),yg(o,a),Rn(a),null;case 5:Qm(a);var y=Qi(eu.current);if(c=a.type,o!==null&&a.stateNode!=null)uE(o,a,c,f,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Rn(a),null}if(o=Qi(Ss.current),ah(a)){f=a.stateNode,c=a.type;var v=a.memoizedProps;switch(f[bs]=a,f[Zc]=v,o=(a.mode&1)!==0,c){case"dialog":Rt("cancel",f),Rt("close",f);break;case"iframe":case"object":case"embed":Rt("load",f);break;case"video":case"audio":for(y=0;y<Wc.length;y++)Rt(Wc[y],f);break;case"source":Rt("error",f);break;case"img":case"image":case"link":Rt("error",f),Rt("load",f);break;case"details":Rt("toggle",f);break;case"input":$a(f,v),Rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Rt("invalid",f);break;case"textarea":br(f,v),Rt("invalid",f)}Kn(c,v),y=null;for(var x in v)if(v.hasOwnProperty(x)){var L=v[x];x==="children"?typeof L=="string"?f.textContent!==L&&(v.suppressHydrationWarning!==!0&&Jd(f.textContent,L,o),y=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&Jd(f.textContent,L,o),y=["children",""+L]):s.hasOwnProperty(x)&&L!=null&&x==="onScroll"&&Rt("scroll",f)}switch(c){case"input":pe(f),Co(f,v,!0);break;case"textarea":pe(f),as(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=eh)}f=y,a.updateQueue=f,f!==null&&(a.flags|=4)}else{x=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ls(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=x.createElement(c,{is:f.is}):(o=x.createElement(c),c==="select"&&(x=o,f.multiple?x.multiple=!0:f.size&&(x.size=f.size))):o=x.createElementNS(o,c),o[bs]=a,o[Zc]=f,cE(o,a,!1,!1),a.stateNode=o;e:{switch(x=No(c,f),c){case"dialog":Rt("cancel",o),Rt("close",o),y=f;break;case"iframe":case"object":case"embed":Rt("load",o),y=f;break;case"video":case"audio":for(y=0;y<Wc.length;y++)Rt(Wc[y],o);y=f;break;case"source":Rt("error",o),y=f;break;case"img":case"image":case"link":Rt("error",o),Rt("load",o),y=f;break;case"details":Rt("toggle",o),y=f;break;case"input":$a(o,f),y=is(o,f),Rt("invalid",o);break;case"option":y=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},y=X({},f,{value:void 0}),Rt("invalid",o);break;case"textarea":br(o,f),y=sn(o,f),Rt("invalid",o);break;default:y=f}Kn(c,y),L=y;for(v in L)if(L.hasOwnProperty(v)){var q=L[v];v==="style"?Ro(o,q):v==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Ao(o,q)):v==="children"?typeof q=="string"?(c!=="textarea"||q!=="")&&Gn(o,q):typeof q=="number"&&Gn(o,""+q):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?q!=null&&v==="onScroll"&&Rt("scroll",o):q!=null&&U(o,v,q,x))}switch(c){case"input":pe(o),Co(o,f,!1);break;case"textarea":pe(o),as(o);break;case"option":f.value!=null&&o.setAttribute("value",""+Ie(f.value));break;case"select":o.multiple=!!f.multiple,v=f.value,v!=null?ir(o,!!f.multiple,v,!1):f.defaultValue!=null&&ir(o,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=eh)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Rn(a),null;case 6:if(o&&a.stateNode!=null)dE(o,a,o.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=Qi(eu.current),Qi(Ss.current),ah(a)){if(f=a.stateNode,c=a.memoizedProps,f[bs]=a,(v=f.nodeValue!==c)&&(o=pr,o!==null))switch(o.tag){case 3:Jd(f.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Jd(f.nodeValue,c,(o.mode&1)!==0)}v&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[bs]=a,a.stateNode=f}return Rn(a),null;case 13:if(kt(Lt),f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Nt&&mr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)p0(),pl(),a.flags|=98560,v=!1;else if(v=ah(a),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(t(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[bs]=a}else pl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Rn(a),v=!1}else Kr!==null&&(Pg(Kr),Kr=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Lt.current&1)!==0?an===0&&(an=3):kg())),a.updateQueue!==null&&(a.flags|=4),Rn(a),null);case 4:return vl(),yg(o,a),o===null&&Gc(a.stateNode.containerInfo),Rn(a),null;case 10:return Hm(a.type._context),Rn(a),null;case 17:return Qn(a.type)&&nh(),Rn(a),null;case 19:if(kt(Lt),v=a.memoizedState,v===null)return Rn(a),null;if(f=(a.flags&128)!==0,x=v.rendering,x===null)if(f)ou(v,!1);else{if(an!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(x=fh(o),x!==null){for(a.flags|=128,ou(v,!1),f=x.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)v=c,o=f,v.flags&=14680066,x=v.alternate,x===null?(v.childLanes=0,v.lanes=o,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=x.childLanes,v.lanes=x.lanes,v.child=x.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=x.memoizedProps,v.memoizedState=x.memoizedState,v.updateQueue=x.updateQueue,v.type=x.type,o=x.dependencies,v.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Tt(Lt,Lt.current&1|2),a.child}o=o.sibling}v.tail!==null&&At()>bl&&(a.flags|=128,f=!0,ou(v,!1),a.lanes=4194304)}else{if(!f)if(o=fh(x),o!==null){if(a.flags|=128,f=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),ou(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!Nt)return Rn(a),null}else 2*At()-v.renderingStartTime>bl&&c!==1073741824&&(a.flags|=128,f=!0,ou(v,!1),a.lanes=4194304);v.isBackwards?(x.sibling=a.child,a.child=x):(c=v.last,c!==null?c.sibling=x:a.child=x,v.last=x)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=At(),a.sibling=null,c=Lt.current,Tt(Lt,f?c&1|2:c&1),a):(Rn(a),null);case 22:case 23:return Rg(),f=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(gr&1073741824)!==0&&(Rn(a),a.subtreeFlags&6&&(a.flags|=8192)):Rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function dN(o,a){switch(jm(a),a.tag){case 1:return Qn(a.type)&&nh(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return vl(),kt(Zn),kt(Pn),Xm(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Qm(a),null;case 13:if(kt(Lt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));pl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return kt(Lt),null;case 4:return vl(),null;case 10:return Hm(a.type._context),null;case 22:case 23:return Rg(),null;case 24:return null;default:return null}}var bh=!1,kn=!1,hN=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function wl(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){$t(o,a,f)}else c.current=null}function vg(o,a,c){try{c()}catch(f){$t(o,a,f)}}var hE=!1;function fN(o,a){if(Rm=Xs,o=qw(),bm(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var x=0,L=-1,q=-1,ee=0,le=0,ue=o,ae=null;t:for(;;){for(var Te;ue!==c||y!==0&&ue.nodeType!==3||(L=x+y),ue!==v||f!==0&&ue.nodeType!==3||(q=x+f),ue.nodeType===3&&(x+=ue.nodeValue.length),(Te=ue.firstChild)!==null;)ae=ue,ue=Te;for(;;){if(ue===o)break t;if(ae===c&&++ee===y&&(L=x),ae===v&&++le===f&&(q=x),(Te=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=Te}c=L===-1||q===-1?null:{start:L,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(km={focusedElem:o,selectionRange:c},Xs=!1,Pe=a;Pe!==null;)if(a=Pe,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Pe=o;else for(;Pe!==null;){a=Pe;try{var Re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Oe=Re.memoizedProps,Wt=Re.memoizedState,Q=a.stateNode,H=Q.getSnapshotBeforeUpdate(a.elementType===a.type?Oe:Zr(a.type,Oe),Wt);Q.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(fe){$t(a,a.return,fe)}if(o=a.sibling,o!==null){o.return=a.return,Pe=o;break}Pe=a.return}return Re=hE,hE=!1,Re}function iu(o,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&o)===o){var v=y.destroy;y.destroy=void 0,v!==void 0&&vg(a,c,v)}y=y.next}while(y!==f)}}function Sh(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function _g(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function fE(o){var a=o.alternate;a!==null&&(o.alternate=null,fE(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[bs],delete a[Zc],delete a[Mm],delete a[Zk],delete a[Qk])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function pE(o){return o.tag===5||o.tag===3||o.tag===4}function mE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||pE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function wg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=eh));else if(f!==4&&(o=o.child,o!==null))for(wg(o,a,c),o=o.sibling;o!==null;)wg(o,a,c),o=o.sibling}function Eg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(Eg(o,a,c),o=o.sibling;o!==null;)Eg(o,a,c),o=o.sibling}var En=null,Qr=!1;function Go(o,a,c){for(c=c.child;c!==null;)gE(o,a,c),c=c.sibling}function gE(o,a,c){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Vi,c)}catch{}switch(c.tag){case 5:kn||wl(c,a);case 6:var f=En,y=Qr;En=null,Go(o,a,c),En=f,Qr=y,En!==null&&(Qr?(o=En,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):En.removeChild(c.stateNode));break;case 18:En!==null&&(Qr?(o=En,c=c.stateNode,o.nodeType===8?Om(o.parentNode,c):o.nodeType===1&&Om(o,c),Lo(o)):Om(En,c.stateNode));break;case 4:f=En,y=Qr,En=c.stateNode.containerInfo,Qr=!0,Go(o,a,c),En=f,Qr=y;break;case 0:case 11:case 14:case 15:if(!kn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var v=y,x=v.destroy;v=v.tag,x!==void 0&&((v&2)!==0||(v&4)!==0)&&vg(c,a,x),y=y.next}while(y!==f)}Go(o,a,c);break;case 1:if(!kn&&(wl(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(L){$t(c,a,L)}Go(o,a,c);break;case 21:Go(o,a,c);break;case 22:c.mode&1?(kn=(f=kn)||c.memoizedState!==null,Go(o,a,c),kn=f):Go(o,a,c);break;default:Go(o,a,c)}}function yE(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new hN),a.forEach(function(f){var y=bN.bind(null,o,f);c.has(f)||(c.add(f),f.then(y,y))})}}function Yr(o,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];try{var v=o,x=a,L=x;e:for(;L!==null;){switch(L.tag){case 5:En=L.stateNode,Qr=!1;break e;case 3:En=L.stateNode.containerInfo,Qr=!0;break e;case 4:En=L.stateNode.containerInfo,Qr=!0;break e}L=L.return}if(En===null)throw Error(t(160));gE(v,x,y),En=null,Qr=!1;var q=y.alternate;q!==null&&(q.return=null),y.return=null}catch(ee){$t(y,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)vE(a,o),a=a.sibling}function vE(o,a){var c=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Yr(a,o),xs(o),f&4){try{iu(3,o,o.return),Sh(3,o)}catch(Oe){$t(o,o.return,Oe)}try{iu(5,o,o.return)}catch(Oe){$t(o,o.return,Oe)}}break;case 1:Yr(a,o),xs(o),f&512&&c!==null&&wl(c,c.return);break;case 5:if(Yr(a,o),xs(o),f&512&&c!==null&&wl(c,c.return),o.flags&32){var y=o.stateNode;try{Gn(y,"")}catch(Oe){$t(o,o.return,Oe)}}if(f&4&&(y=o.stateNode,y!=null)){var v=o.memoizedProps,x=c!==null?c.memoizedProps:v,L=o.type,q=o.updateQueue;if(o.updateQueue=null,q!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Gs(y,v),No(L,x);var ee=No(L,v);for(x=0;x<q.length;x+=2){var le=q[x],ue=q[x+1];le==="style"?Ro(y,ue):le==="dangerouslySetInnerHTML"?Ao(y,ue):le==="children"?Gn(y,ue):U(y,le,ue,ee)}switch(L){case"input":or(y,v);break;case"textarea":Ba(y,v);break;case"select":var ae=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!v.multiple;var Te=v.value;Te!=null?ir(y,!!v.multiple,Te,!1):ae!==!!v.multiple&&(v.defaultValue!=null?ir(y,!!v.multiple,v.defaultValue,!0):ir(y,!!v.multiple,v.multiple?[]:"",!1))}y[Zc]=v}catch(Oe){$t(o,o.return,Oe)}}break;case 6:if(Yr(a,o),xs(o),f&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,v=o.memoizedProps;try{y.nodeValue=v}catch(Oe){$t(o,o.return,Oe)}}break;case 3:if(Yr(a,o),xs(o),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Lo(a.containerInfo)}catch(Oe){$t(o,o.return,Oe)}break;case 4:Yr(a,o),xs(o);break;case 13:Yr(a,o),xs(o),y=o.child,y.flags&8192&&(v=y.memoizedState!==null,y.stateNode.isHidden=v,!v||y.alternate!==null&&y.alternate.memoizedState!==null||(Ig=At())),f&4&&yE(o);break;case 22:if(le=c!==null&&c.memoizedState!==null,o.mode&1?(kn=(ee=kn)||le,Yr(a,o),kn=ee):Yr(a,o),xs(o),f&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!le&&(o.mode&1)!==0)for(Pe=o,le=o.child;le!==null;){for(ue=Pe=le;Pe!==null;){switch(ae=Pe,Te=ae.child,ae.tag){case 0:case 11:case 14:case 15:iu(4,ae,ae.return);break;case 1:wl(ae,ae.return);var Re=ae.stateNode;if(typeof Re.componentWillUnmount=="function"){f=ae,c=ae.return;try{a=f,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(Oe){$t(f,c,Oe)}}break;case 5:wl(ae,ae.return);break;case 22:if(ae.memoizedState!==null){EE(ue);continue}}Te!==null?(Te.return=ae,Pe=Te):EE(ue)}le=le.sibling}e:for(le=null,ue=o;;){if(ue.tag===5){if(le===null){le=ue;try{y=ue.stateNode,ee?(v=y.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=ue.stateNode,q=ue.memoizedProps.style,x=q!=null&&q.hasOwnProperty("display")?q.display:null,L.style.display=cs("display",x))}catch(Oe){$t(o,o.return,Oe)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=ee?"":ue.memoizedProps}catch(Oe){$t(o,o.return,Oe)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===o)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===o)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===o)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Yr(a,o),xs(o),f&4&&yE(o);break;case 21:break;default:Yr(a,o),xs(o)}}function xs(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(pE(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(Gn(y,""),f.flags&=-33);var v=mE(o);Eg(o,v,y);break;case 3:case 4:var x=f.stateNode.containerInfo,L=mE(o);wg(o,L,x);break;default:throw Error(t(161))}}catch(q){$t(o,o.return,q)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function pN(o,a,c){Pe=o,_E(o)}function _E(o,a,c){for(var f=(o.mode&1)!==0;Pe!==null;){var y=Pe,v=y.child;if(y.tag===22&&f){var x=y.memoizedState!==null||bh;if(!x){var L=y.alternate,q=L!==null&&L.memoizedState!==null||kn;L=bh;var ee=kn;if(bh=x,(kn=q)&&!ee)for(Pe=y;Pe!==null;)x=Pe,q=x.child,x.tag===22&&x.memoizedState!==null?bE(y):q!==null?(q.return=x,Pe=q):bE(y);for(;v!==null;)Pe=v,_E(v),v=v.sibling;Pe=y,bh=L,kn=ee}wE(o)}else(y.subtreeFlags&8772)!==0&&v!==null?(v.return=y,Pe=v):wE(o)}}function wE(o){for(;Pe!==null;){var a=Pe;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:kn||Sh(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!kn)if(c===null)f.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Zr(a.type,c.memoizedProps);f.componentDidUpdate(y,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&E0(a,v,f);break;case 3:var x=a.updateQueue;if(x!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}E0(a,x,c)}break;case 5:var L=a.stateNode;if(c===null&&a.flags&4){c=L;var q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&c.focus();break;case"img":q.src&&(c.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&Lo(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}kn||a.flags&512&&_g(a)}catch(ae){$t(a,a.return,ae)}}if(a===o){Pe=null;break}if(c=a.sibling,c!==null){c.return=a.return,Pe=c;break}Pe=a.return}}function EE(o){for(;Pe!==null;){var a=Pe;if(a===o){Pe=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Pe=c;break}Pe=a.return}}function bE(o){for(;Pe!==null;){var a=Pe;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Sh(4,a)}catch(q){$t(a,c,q)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var y=a.return;try{f.componentDidMount()}catch(q){$t(a,y,q)}}var v=a.return;try{_g(a)}catch(q){$t(a,v,q)}break;case 5:var x=a.return;try{_g(a)}catch(q){$t(a,x,q)}}}catch(q){$t(a,a.return,q)}if(a===o){Pe=null;break}var L=a.sibling;if(L!==null){L.return=a.return,Pe=L;break}Pe=a.return}}var mN=Math.ceil,Ih=z.ReactCurrentDispatcher,bg=z.ReactCurrentOwner,kr=z.ReactCurrentBatchConfig,ft=0,mn=null,Jt=null,bn=0,gr=0,El=$o(0),an=0,au=null,Xi=0,xh=0,Sg=0,lu=null,Xn=null,Ig=0,bl=1/0,lo=null,Th=!1,xg=null,Ko=null,Ch=!1,Zo=null,Ph=0,cu=0,Tg=null,Ah=-1,Rh=0;function zn(){return(ft&6)!==0?At():Ah!==-1?Ah:Ah=At()}function Qo(o){return(o.mode&1)===0?1:(ft&2)!==0&&bn!==0?bn&-bn:Xk.transition!==null?(Rh===0&&(Rh=Rc()),Rh):(o=lt,o!==0||(o=window.event,o=o===void 0?16:Ya(o.type)),o)}function Xr(o,a,c,f){if(50<cu)throw cu=0,Tg=null,Error(t(185));Ui(o,c,f),((ft&2)===0||o!==mn)&&(o===mn&&((ft&2)===0&&(xh|=c),an===4&&Yo(o,bn)),Jn(o,f),c===1&&ft===0&&(a.mode&1)===0&&(bl=At()+500,sh&&qo()))}function Jn(o,a){var c=o.callbackNode;ji(o,a);var f=Zs(o,o===mn?bn:0);if(f===0)c!==null&&qa(c),o.callbackNode=null,o.callbackPriority=0;else if(a=f&-f,o.callbackPriority!==a){if(c!=null&&qa(c),a===1)o.tag===0?Yk(IE.bind(null,o)):c0(IE.bind(null,o)),Gk(function(){(ft&6)===0&&qo()}),c=null;else{switch(hs(f)){case 1:c=Ha;break;case 4:c=Cc;break;case 16:c=Mi;break;case 536870912:c=Wa;break;default:c=Mi}c=NE(c,SE.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function SE(o,a){if(Ah=-1,Rh=0,(ft&6)!==0)throw Error(t(327));var c=o.callbackNode;if(Sl()&&o.callbackNode!==c)return null;var f=Zs(o,o===mn?bn:0);if(f===0)return null;if((f&30)!==0||(f&o.expiredLanes)!==0||a)a=kh(o,f);else{a=f;var y=ft;ft|=2;var v=TE();(mn!==o||bn!==a)&&(lo=null,bl=At()+500,ea(o,a));do try{vN();break}catch(L){xE(o,L)}while(!0);qm(),Ih.current=v,ft=y,Jt!==null?a=0:(mn=null,bn=0,a=an)}if(a!==0){if(a===2&&(y=Ac(o),y!==0&&(f=y,a=Cg(o,y))),a===1)throw c=au,ea(o,0),Yo(o,f),Jn(o,At()),c;if(a===6)Yo(o,f);else{if(y=o.current.alternate,(f&30)===0&&!gN(y)&&(a=kh(o,f),a===2&&(v=Ac(o),v!==0&&(f=v,a=Cg(o,v))),a===1))throw c=au,ea(o,0),Yo(o,f),Jn(o,At()),c;switch(o.finishedWork=y,o.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:ta(o,Xn,lo);break;case 3:if(Yo(o,f),(f&130023424)===f&&(a=Ig+500-At(),10<a)){if(Zs(o,0)!==0)break;if(y=o.suspendedLanes,(y&f)!==f){zn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Dm(ta.bind(null,o,Xn,lo),a);break}ta(o,Xn,lo);break;case 4:if(Yo(o,f),(f&4194240)===f)break;for(a=o.eventTimes,y=-1;0<f;){var x=31-cr(f);v=1<<x,x=a[x],x>y&&(y=x),f&=~v}if(f=y,f=At()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*mN(f/1960))-f,10<f){o.timeoutHandle=Dm(ta.bind(null,o,Xn,lo),f);break}ta(o,Xn,lo);break;case 5:ta(o,Xn,lo);break;default:throw Error(t(329))}}}return Jn(o,At()),o.callbackNode===c?SE.bind(null,o):null}function Cg(o,a){var c=lu;return o.current.memoizedState.isDehydrated&&(ea(o,a).flags|=256),o=kh(o,a),o!==2&&(a=Xn,Xn=c,a!==null&&Pg(a)),o}function Pg(o){Xn===null?Xn=o:Xn.push.apply(Xn,o)}function gN(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var y=c[f],v=y.getSnapshot;y=y.value;try{if(!Gr(v(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Yo(o,a){for(a&=~Sg,a&=~xh,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-cr(a),f=1<<c;o[c]=-1,a&=~f}}function IE(o){if((ft&6)!==0)throw Error(t(327));Sl();var a=Zs(o,0);if((a&1)===0)return Jn(o,At()),null;var c=kh(o,a);if(o.tag!==0&&c===2){var f=Ac(o);f!==0&&(a=f,c=Cg(o,f))}if(c===1)throw c=au,ea(o,0),Yo(o,a),Jn(o,At()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,ta(o,Xn,lo),Jn(o,At()),null}function Ag(o,a){var c=ft;ft|=1;try{return o(a)}finally{ft=c,ft===0&&(bl=At()+500,sh&&qo())}}function Ji(o){Zo!==null&&Zo.tag===0&&(ft&6)===0&&Sl();var a=ft;ft|=1;var c=kr.transition,f=lt;try{if(kr.transition=null,lt=1,o)return o()}finally{lt=f,kr.transition=c,ft=a,(ft&6)===0&&qo()}}function Rg(){gr=El.current,kt(El)}function ea(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,Wk(c)),Jt!==null)for(c=Jt.return;c!==null;){var f=c;switch(jm(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&nh();break;case 3:vl(),kt(Zn),kt(Pn),Xm();break;case 5:Qm(f);break;case 4:vl();break;case 13:kt(Lt);break;case 19:kt(Lt);break;case 10:Hm(f.type._context);break;case 22:case 23:Rg()}c=c.return}if(mn=o,Jt=o=Xo(o.current,null),bn=gr=a,an=0,au=null,Sg=xh=Xi=0,Xn=lu=null,Zi!==null){for(a=0;a<Zi.length;a++)if(c=Zi[a],f=c.interleaved,f!==null){c.interleaved=null;var y=f.next,v=c.pending;if(v!==null){var x=v.next;v.next=y,f.next=x}c.pending=f}Zi=null}return o}function xE(o,a){do{var c=Jt;try{if(qm(),ph.current=vh,mh){for(var f=Ft.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}mh=!1}if(Yi=0,pn=on=Ft=null,tu=!1,nu=0,bg.current=null,c===null||c.return===null){an=1,au=a,Jt=null;break}e:{var v=o,x=c.return,L=c,q=a;if(a=bn,L.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ee=q,le=L,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var Te=Q0(x);if(Te!==null){Te.flags&=-257,Y0(Te,x,L,v,a),Te.mode&1&&Z0(v,ee,a),a=Te,q=ee;var Re=a.updateQueue;if(Re===null){var Oe=new Set;Oe.add(q),a.updateQueue=Oe}else Re.add(q);break e}else{if((a&1)===0){Z0(v,ee,a),kg();break e}q=Error(t(426))}}else if(Nt&&L.mode&1){var Wt=Q0(x);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),Y0(Wt,x,L,v,a),$m(_l(q,L));break e}}v=q=_l(q,L),an!==4&&(an=2),lu===null?lu=[v]:lu.push(v),v=x;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var Q=G0(v,q,a);w0(v,Q);break e;case 1:L=q;var H=v.type,J=v.stateNode;if((v.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ko===null||!Ko.has(J)))){v.flags|=65536,a&=-a,v.lanes|=a;var fe=K0(v,L,a);w0(v,fe);break e}}v=v.return}while(v!==null)}PE(c)}catch(Me){a=Me,Jt===c&&c!==null&&(Jt=c=c.return);continue}break}while(!0)}function TE(){var o=Ih.current;return Ih.current=vh,o===null?vh:o}function kg(){(an===0||an===3||an===2)&&(an=4),mn===null||(Xi&268435455)===0&&(xh&268435455)===0||Yo(mn,bn)}function kh(o,a){var c=ft;ft|=2;var f=TE();(mn!==o||bn!==a)&&(lo=null,ea(o,a));do try{yN();break}catch(y){xE(o,y)}while(!0);if(qm(),ft=c,Ih.current=f,Jt!==null)throw Error(t(261));return mn=null,bn=0,an}function yN(){for(;Jt!==null;)CE(Jt)}function vN(){for(;Jt!==null&&!Oi();)CE(Jt)}function CE(o){var a=kE(o.alternate,o,gr);o.memoizedProps=o.pendingProps,a===null?PE(o):Jt=a,bg.current=null}function PE(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=uN(c,a,gr),c!==null){Jt=c;return}}else{if(c=dN(c,a),c!==null){c.flags&=32767,Jt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{an=6,Jt=null;return}}if(a=a.sibling,a!==null){Jt=a;return}Jt=a=o}while(a!==null);an===0&&(an=5)}function ta(o,a,c){var f=lt,y=kr.transition;try{kr.transition=null,lt=1,_N(o,a,c,f)}finally{kr.transition=y,lt=f}return null}function _N(o,a,c,f){do Sl();while(Zo!==null);if((ft&6)!==0)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var v=c.lanes|c.childLanes;if(ym(o,v),o===mn&&(Jt=mn=null,bn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ch||(Ch=!0,NE(Mi,function(){return Sl(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=kr.transition,kr.transition=null;var x=lt;lt=1;var L=ft;ft|=4,bg.current=null,fN(o,c),vE(c,o),jk(km),Xs=!!Rm,km=Rm=null,o.current=c,pN(c),Ks(),ft=L,lt=x,kr.transition=v}else o.current=c;if(Ch&&(Ch=!1,Zo=o,Ph=y),v=o.pendingLanes,v===0&&(Ko=null),Fd(c.stateNode),Jn(o,At()),a!==null)for(f=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],f(y.value,{componentStack:y.stack,digest:y.digest});if(Th)throw Th=!1,o=xg,xg=null,o;return(Ph&1)!==0&&o.tag!==0&&Sl(),v=o.pendingLanes,(v&1)!==0?o===Tg?cu++:(cu=0,Tg=o):cu=0,qo(),null}function Sl(){if(Zo!==null){var o=hs(Ph),a=kr.transition,c=lt;try{if(kr.transition=null,lt=16>o?16:o,Zo===null)var f=!1;else{if(o=Zo,Zo=null,Ph=0,(ft&6)!==0)throw Error(t(331));var y=ft;for(ft|=4,Pe=o.current;Pe!==null;){var v=Pe,x=v.child;if((Pe.flags&16)!==0){var L=v.deletions;if(L!==null){for(var q=0;q<L.length;q++){var ee=L[q];for(Pe=ee;Pe!==null;){var le=Pe;switch(le.tag){case 0:case 11:case 15:iu(8,le,v)}var ue=le.child;if(ue!==null)ue.return=le,Pe=ue;else for(;Pe!==null;){le=Pe;var ae=le.sibling,Te=le.return;if(fE(le),le===ee){Pe=null;break}if(ae!==null){ae.return=Te,Pe=ae;break}Pe=Te}}}var Re=v.alternate;if(Re!==null){var Oe=Re.child;if(Oe!==null){Re.child=null;do{var Wt=Oe.sibling;Oe.sibling=null,Oe=Wt}while(Oe!==null)}}Pe=v}}if((v.subtreeFlags&2064)!==0&&x!==null)x.return=v,Pe=x;else e:for(;Pe!==null;){if(v=Pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:iu(9,v,v.return)}var Q=v.sibling;if(Q!==null){Q.return=v.return,Pe=Q;break e}Pe=v.return}}var H=o.current;for(Pe=H;Pe!==null;){x=Pe;var J=x.child;if((x.subtreeFlags&2064)!==0&&J!==null)J.return=x,Pe=J;else e:for(x=H;Pe!==null;){if(L=Pe,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Sh(9,L)}}catch(Me){$t(L,L.return,Me)}if(L===x){Pe=null;break e}var fe=L.sibling;if(fe!==null){fe.return=L.return,Pe=fe;break e}Pe=L.return}}if(ft=y,qo(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Vi,o)}catch{}f=!0}return f}finally{lt=c,kr.transition=a}}return!1}function AE(o,a,c){a=_l(c,a),a=G0(o,a,1),o=Wo(o,a,1),a=zn(),o!==null&&(Ui(o,1,a),Jn(o,a))}function $t(o,a,c){if(o.tag===3)AE(o,o,c);else for(;a!==null;){if(a.tag===3){AE(a,o,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ko===null||!Ko.has(f))){o=_l(c,o),o=K0(a,o,1),a=Wo(a,o,1),o=zn(),a!==null&&(Ui(a,1,o),Jn(a,o));break}}a=a.return}}function wN(o,a,c){var f=o.pingCache;f!==null&&f.delete(a),a=zn(),o.pingedLanes|=o.suspendedLanes&c,mn===o&&(bn&c)===c&&(an===4||an===3&&(bn&130023424)===bn&&500>At()-Ig?ea(o,0):Sg|=c),Jn(o,a)}function RE(o,a){a===0&&((o.mode&1)===0?a=1:(a=Oo,Oo<<=1,(Oo&130023424)===0&&(Oo=4194304)));var c=zn();o=oo(o,a),o!==null&&(Ui(o,a,c),Jn(o,c))}function EN(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),RE(o,c)}function bN(o,a){var c=0;switch(o.tag){case 13:var f=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),RE(o,c)}var kE;kE=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Zn.current)Yn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return Yn=!1,cN(o,a,c);Yn=(o.flags&131072)!==0}else Yn=!1,Nt&&(a.flags&1048576)!==0&&u0(a,ih,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Eh(o,a),o=a.pendingProps;var y=dl(a,Pn.current);yl(a,c),y=tg(null,a,f,o,y,c);var v=ng();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Qn(f)?(v=!0,rh(a)):v=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Km(a),y.updater=_h,a.stateNode=y,y._reactInternals=a,lg(a,f,o,c),a=hg(null,a,f,!0,v,c)):(a.tag=0,Nt&&v&&Fm(a),Un(null,a,y,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Eh(o,a),o=a.pendingProps,y=f._init,f=y(f._payload),a.type=f,y=a.tag=IN(f),o=Zr(f,o),y){case 0:a=dg(null,a,f,o,c);break e;case 1:a=rE(null,a,f,o,c);break e;case 11:a=X0(null,a,f,o,c);break e;case 14:a=J0(null,a,f,Zr(f.type,o),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Zr(f,y),dg(o,a,f,y,c);case 1:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Zr(f,y),rE(o,a,f,y,c);case 3:e:{if(sE(a),o===null)throw Error(t(387));f=a.pendingProps,v=a.memoizedState,y=v.element,_0(o,a),hh(a,f,null,c);var x=a.memoizedState;if(f=x.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){y=_l(Error(t(423)),a),a=oE(o,a,f,c,y);break e}else if(f!==y){y=_l(Error(t(424)),a),a=oE(o,a,f,c,y);break e}else for(mr=zo(a.stateNode.containerInfo.firstChild),pr=a,Nt=!0,Kr=null,c=y0(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(pl(),f===y){a=ao(o,a,c);break e}Un(o,a,f,c)}a=a.child}return a;case 5:return b0(a),o===null&&zm(a),f=a.type,y=a.pendingProps,v=o!==null?o.memoizedProps:null,x=y.children,Nm(f,y)?x=null:v!==null&&Nm(f,v)&&(a.flags|=32),nE(o,a),Un(o,a,x,c),a.child;case 6:return o===null&&zm(a),null;case 13:return iE(o,a,c);case 4:return Zm(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=ml(a,null,f,c):Un(o,a,f,c),a.child;case 11:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Zr(f,y),X0(o,a,f,y,c);case 7:return Un(o,a,a.pendingProps,c),a.child;case 8:return Un(o,a,a.pendingProps.children,c),a.child;case 12:return Un(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,y=a.pendingProps,v=a.memoizedProps,x=y.value,Tt(ch,f._currentValue),f._currentValue=x,v!==null)if(Gr(v.value,x)){if(v.children===y.children&&!Zn.current){a=ao(o,a,c);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var L=v.dependencies;if(L!==null){x=v.child;for(var q=L.firstContext;q!==null;){if(q.context===f){if(v.tag===1){q=io(-1,c&-c),q.tag=2;var ee=v.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?q.next=q:(q.next=le.next,le.next=q),ee.pending=q}}v.lanes|=c,q=v.alternate,q!==null&&(q.lanes|=c),Wm(v.return,c,a),L.lanes|=c;break}q=q.next}}else if(v.tag===10)x=v.type===a.type?null:v.child;else if(v.tag===18){if(x=v.return,x===null)throw Error(t(341));x.lanes|=c,L=x.alternate,L!==null&&(L.lanes|=c),Wm(x,c,a),x=v.sibling}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===a){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}Un(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,f=a.pendingProps.children,yl(a,c),y=Ar(y),f=f(y),a.flags|=1,Un(o,a,f,c),a.child;case 14:return f=a.type,y=Zr(f,a.pendingProps),y=Zr(f.type,y),J0(o,a,f,y,c);case 15:return eE(o,a,a.type,a.pendingProps,c);case 17:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Zr(f,y),Eh(o,a),a.tag=1,Qn(f)?(o=!0,rh(a)):o=!1,yl(a,c),H0(a,f,y),lg(a,f,y,c),hg(null,a,f,!0,o,c);case 19:return lE(o,a,c);case 22:return tE(o,a,c)}throw Error(t(156,a.tag))};function NE(o,a){return Tc(o,a)}function SN(o,a,c,f){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(o,a,c,f){return new SN(o,a,c,f)}function Ng(o){return o=o.prototype,!(!o||!o.isReactComponent)}function IN(o){if(typeof o=="function")return Ng(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===Be)return 14}return 2}function Xo(o,a){var c=o.alternate;return c===null?(c=Nr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Nh(o,a,c,f,y,v){var x=2;if(f=o,typeof o=="function")Ng(o)&&(x=1);else if(typeof o=="string")x=5;else e:switch(o){case P:return na(c.children,y,v,a);case C:x=8,y|=8;break;case N:return o=Nr(12,c,a,y|2),o.elementType=N,o.lanes=v,o;case O:return o=Nr(13,c,a,y),o.elementType=O,o.lanes=v,o;case Ce:return o=Nr(19,c,a,y),o.elementType=Ce,o.lanes=v,o;case _e:return Dh(c,y,v,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:x=10;break e;case F:x=9;break e;case B:x=11;break e;case Be:x=14;break e;case me:x=16,f=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Nr(x,c,a,y),a.elementType=o,a.type=f,a.lanes=v,a}function na(o,a,c,f){return o=Nr(7,o,f,a),o.lanes=c,o}function Dh(o,a,c,f){return o=Nr(22,o,f,a),o.elementType=_e,o.lanes=c,o.stateNode={isHidden:!1},o}function Dg(o,a,c){return o=Nr(6,o,null,a),o.lanes=c,o}function Og(o,a,c){return a=Nr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function xN(o,a,c,f,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kc(0),this.expirationTimes=kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Mg(o,a,c,f,y,v,x,L,q){return o=new xN(o,a,c,L,q),a===1?(a=1,v===!0&&(a|=8)):a=0,v=Nr(3,null,null,a),o.current=v,v.stateNode=o,v.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(v),o}function TN(o,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:f==null?null:""+f,children:o,containerInfo:a,implementation:c}}function DE(o){if(!o)return Bo;o=o._reactInternals;e:{if(Hr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Qn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Qn(c))return a0(o,c,a)}return a}function OE(o,a,c,f,y,v,x,L,q){return o=Mg(c,f,!0,o,y,v,x,L,q),o.context=DE(null),c=o.current,f=zn(),y=Qo(c),v=io(f,y),v.callback=a??null,Wo(c,v,y),o.current.lanes=y,Ui(o,y,f),Jn(o,f),o}function Oh(o,a,c,f){var y=a.current,v=zn(),x=Qo(y);return c=DE(c),a.context===null?a.context=c:a.pendingContext=c,a=io(v,x),a.payload={element:o},f=f===void 0?null:f,f!==null&&(a.callback=f),o=Wo(y,a,x),o!==null&&(Xr(o,y,x,v),dh(o,y,x)),x}function Mh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function ME(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function Vg(o,a){ME(o,a),(o=o.alternate)&&ME(o,a)}function CN(){return null}var VE=typeof reportError=="function"?reportError:function(o){console.error(o)};function Lg(o){this._internalRoot=o}Vh.prototype.render=Lg.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Oh(o,a,null,null)},Vh.prototype.unmount=Lg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Ji(function(){Oh(null,o,null,null)}),a[to]=null}};function Vh(o){this._internalRoot=o}Vh.prototype.unstable_scheduleHydration=function(o){if(o){var a=Mc();o={blockedOn:null,target:o,priority:a};for(var c=0;c<ur.length&&a!==0&&a<ur[c].priority;c++);ur.splice(c,0,o),c===0&&Za(o)}};function Fg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Lh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function LE(){}function PN(o,a,c,f,y){if(y){if(typeof f=="function"){var v=f;f=function(){var ee=Mh(x);v.call(ee)}}var x=OE(a,f,o,0,null,!1,!1,"",LE);return o._reactRootContainer=x,o[to]=x.current,Gc(o.nodeType===8?o.parentNode:o),Ji(),x}for(;y=o.lastChild;)o.removeChild(y);if(typeof f=="function"){var L=f;f=function(){var ee=Mh(q);L.call(ee)}}var q=Mg(o,0,!1,null,null,!1,!1,"",LE);return o._reactRootContainer=q,o[to]=q.current,Gc(o.nodeType===8?o.parentNode:o),Ji(function(){Oh(a,q,c,f)}),q}function Fh(o,a,c,f,y){var v=c._reactRootContainer;if(v){var x=v;if(typeof y=="function"){var L=y;y=function(){var q=Mh(x);L.call(q)}}Oh(a,x,o,y)}else x=PN(c,a,o,y,f);return Mh(x)}Dc=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=mt(a.pendingLanes);c!==0&&(Nc(a,c|1),Jn(a,At()),(ft&6)===0&&(bl=At()+500,qo()))}break;case 13:Ji(function(){var f=oo(o,1);if(f!==null){var y=zn();Xr(f,o,1,y)}}),Vg(o,1)}},Ga=function(o){if(o.tag===13){var a=oo(o,134217728);if(a!==null){var c=zn();Xr(a,o,134217728,c)}Vg(o,134217728)}},Oc=function(o){if(o.tag===13){var a=Qo(o),c=oo(o,a);if(c!==null){var f=zn();Xr(c,o,a,f)}Vg(o,a)}},Mc=function(){return lt},Vc=function(o,a){var c=lt;try{return lt=o,a()}finally{lt=c}},Br=function(o,a,c){switch(a){case"input":if(or(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==o&&f.form===o.form){var y=th(f);if(!y)throw Error(t(90));St(f),or(f,y)}}}break;case"textarea":Ba(o,c);break;case"select":a=c.value,a!=null&&ir(o,!!c.multiple,a,!1)}},qt=Ag,hn=Ji;var AN={usingClientEntryPoint:!1,Events:[Qc,cl,th,qe,It,Ag]},uu={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RN={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Ld(o),o===null?null:o.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||CN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{Vi=jh.inject(RN),lr=jh}catch{}}return er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AN,er.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fg(a))throw Error(t(200));return TN(o,a,null,c)},er.createRoot=function(o,a){if(!Fg(o))throw Error(t(299));var c=!1,f="",y=VE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Mg(o,1,!1,null,null,c,!1,f,y),o[to]=a.current,Gc(o.nodeType===8?o.parentNode:o),new Lg(a)},er.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Ld(a),o=o===null?null:o.stateNode,o},er.flushSync=function(o){return Ji(o)},er.hydrate=function(o,a,c){if(!Lh(a))throw Error(t(200));return Fh(null,o,a,!0,c)},er.hydrateRoot=function(o,a,c){if(!Fg(o))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,y=!1,v="",x=VE;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),a=OE(a,null,o,1,c??null,y,!1,v,x),o[to]=a.current,Gc(o),f)for(o=0;o<f.length;o++)c=f[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Vh(a)},er.render=function(o,a,c){if(!Lh(a))throw Error(t(200));return Fh(null,o,a,!1,c)},er.unmountComponentAtNode=function(o){if(!Lh(o))throw Error(t(40));return o._reactRootContainer?(Ji(function(){Fh(null,null,o,!1,function(){o._reactRootContainer=null,o[to]=null})}),!0):!1},er.unstable_batchedUpdates=Ag,er.unstable_renderSubtreeIntoContainer=function(o,a,c,f){if(!Lh(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Fh(o,a,c,!1,f)},er.version="18.3.1-next-f1338f8080-20240426",er}var HE;function ux(){if(HE)return zg.exports;HE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zg.exports=FN(),zg.exports}var WE;function jN(){if(WE)return Uh;WE=1;var n=ux();return Uh.createRoot=n.createRoot,Uh.hydrateRoot=n.hydrateRoot,Uh}var UN=jN();const zN="modulepreload",$N=function(n){return"/"+n},GE={},ss=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=l(t.map(p=>{if(p=$N(p),p in GE)return;GE[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":zN,g||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),g)return new Promise((I,R)=>{w.addEventListener("load",I),w.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};var b=Cv();const ce=cx(b),dx=NN({__proto__:null,default:ce},[b]);function KE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function yp(...n){return e=>{let t=!1;const r=n.map(s=>{const i=KE(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():KE(n[s],null)}}}}function Et(...n){return b.useCallback(yp(...n),n)}function Kl(n){const e=BN(n),t=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),h=u.find(HN);if(h){const p=h.props.children,g=u.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return E.jsx(e,{...l,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return E.jsx(e,{...l,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var vp=Kl("Slot");function BN(n){const e=b.forwardRef((t,r)=>{const{children:s,...i}=t;if(b.isValidElement(s)){const l=GN(s),u=WN(i,s.props);return s.type!==b.Fragment&&(u.ref=r?yp(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var hx=Symbol("radix.slottable");function qN(n){const e=({children:t})=>E.jsx(E.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=hx,e}function HN(n){return b.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===hx}function WN(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...u)=>{const h=i(...u);return s(...u),h}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function GN(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function fx(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=fx(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function px(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=fx(n))&&(r&&(r+=" "),r+=e);return r}const ZE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,QE=px,_p=(n,e)=>t=>{var r;if(e?.variants==null)return QE(n,t?.class,t?.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(p=>{const g=t?.[p],m=i?.[p];if(g===null)return null;const w=ZE(g)||ZE(m);return s[p][w]}),u=t&&Object.entries(t).reduce((p,g)=>{let[m,w]=g;return w===void 0||(p[m]=w),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:m,className:w,...I}=g;return Object.entries(I).every(R=>{let[T,A]=R;return Array.isArray(A)?A.includes({...i,...u}[T]):{...i,...u}[T]===A})?[...p,m,w]:p},[]);return QE(n,l,h,t?.class,t?.className)};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),YE=n=>{const e=ZN(n);return e.charAt(0).toUpperCase()+e.slice(1)},mx=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...u},h)=>b.createElement("svg",{ref:h,...QN,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:mx("lucide",s),...u},[...l.map(([p,g])=>b.createElement(p,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(n,e)=>{const t=b.forwardRef(({className:r,...s},i)=>b.createElement(YN,{ref:i,iconNode:e,className:mx(`lucide-${KN(YE(n))}`,`lucide-${n}`,r),...s}));return t.displayName=YE(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],JN=rt("bell",XN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gx=rt("check",e2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],n2=rt("chevron-down",t2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],s2=rt("chevron-right",r2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],i2=rt("chevron-up",o2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],l2=rt("circle-help",a2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],u2=rt("circle",c2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Pv=rt("clipboard-list",d2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],f2=rt("clock",h2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],m2=rt("command",p2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y2=rt("eye-off",g2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_2=rt("eye",v2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],E2=rt("factory",w2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],S2=rt("landmark",b2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],x2=rt("layout-dashboard",I2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rf=rt("loader-circle",T2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],XE=rt("lock",C2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],A2=rt("log-out",P2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],k2=rt("mail",R2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],D2=rt("moon",N2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wp=rt("package",O2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],V2=rt("panel-left-close",M2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],F2=rt("panel-left",L2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],U2=rt("receipt",j2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$2=rt("refresh-cw",z2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],q2=rt("search-x",B2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],kf=rt("search",H2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],G2=rt("settings",W2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Z2=rt("shield",K2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],yx=rt("shopping-cart",Q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],X2=rt("sun",Y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eD=rt("triangle-alert",J2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Av=rt("truck",tD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],rD=rt("user-check",nD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ty=rt("user",sD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],vx=rt("users",oD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],aD=rt("wallet",iD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],cD=rt("warehouse",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rv=rt("x",uD),qg=768;function dD(){const[n,e]=b.useState(void 0);return b.useEffect(()=>{const t=window.matchMedia(`(max-width: ${qg-1}px)`),r=()=>{e(window.innerWidth<qg)};return t.addEventListener("change",r),e(window.innerWidth<qg),()=>t.removeEventListener("change",r)},[]),!!n}const kv="-",hD=n=>{const e=pD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(kv);return u[0]===""&&u.length!==1&&u.shift(),_x(u,e)||fD(l)},getConflictingClassGroupIds:(l,u)=>{const h=t[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},_x=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?_x(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(kv);return e.validators.find(({validator:l})=>l(i))?.classGroupId},JE=/^\[(.+)\]$/,fD=n=>{if(JE.test(n)){const e=JE.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},pD=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)Cy(t[s],r,s,e);return r},Cy=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:eb(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(mD(s)){Cy(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,l])=>{Cy(l,eb(e,i),t,r)})})},eb=(n,e)=>{let t=n;return e.split(kv).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},mD=n=>n.isThemeGetter,gD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,l)=>{t.set(i,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let l=t.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){t.has(i)?t.set(i,l):s(i,l)}}},Py="!",Ay=":",yD=Ay.length,vD=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const i=[];let l=0,u=0,h=0,p;for(let R=0;R<s.length;R++){let T=s[R];if(l===0&&u===0){if(T===Ay){i.push(s.slice(h,R)),h=R+yD;continue}if(T==="/"){p=R;continue}}T==="["?l++:T==="]"?l--:T==="("?u++:T===")"&&u--}const g=i.length===0?s:s.substring(h),m=_D(g),w=m!==g,I=p&&p>h?p-h:void 0;return{modifiers:i,hasImportantModifier:w,baseClassName:m,maybePostfixModifierPosition:I}};if(e){const s=e+Ay,i=r;r=l=>l.startsWith(s)?i(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=i=>t({className:i,parseClassName:s})}return r},_D=n=>n.endsWith(Py)?n.substring(0,n.length-1):n.startsWith(Py)?n.substring(1):n,wD=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...i.sort(),l),i=[]):i.push(l)}),s.push(...i.sort()),s}},ED=n=>({cache:gD(n.cacheSize),parseClassName:vD(n),sortModifiers:wD(n),...hD(n)}),bD=/\s+/,SD=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,l=[],u=n.trim().split(bD);let h="";for(let p=u.length-1;p>=0;p-=1){const g=u[p],{isExternal:m,modifiers:w,hasImportantModifier:I,baseClassName:R,maybePostfixModifierPosition:T}=t(g);if(m){h=g+(h.length>0?" "+h:h);continue}let A=!!T,D=r(A?R.substring(0,T):R);if(!D){if(!A){h=g+(h.length>0?" "+h:h);continue}if(D=r(R),!D){h=g+(h.length>0?" "+h:h);continue}A=!1}const V=i(w).join(":"),U=I?V+Py:V,z=U+D;if(l.includes(z))continue;l.push(z);const $=s(D,A);for(let K=0;K<$.length;++K){const P=$[K];l.push(U+P)}h=g+(h.length>0?" "+h:h)}return h};function ID(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=wx(e))&&(r&&(r+=" "),r+=t);return r}const wx=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=wx(n[r]))&&(t&&(t+=" "),t+=e);return t};function xD(n,...e){let t,r,s,i=l;function l(h){const p=e.reduce((g,m)=>m(g),n());return t=ED(p),r=t.cache.get,s=t.cache.set,i=u,u(h)}function u(h){const p=r(h);if(p)return p;const g=SD(h,t);return s(h,g),g}return function(){return i(ID.apply(null,arguments))}}const ln=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Ex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,TD=/^\d+\/\d+$/,CD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,RD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Il=n=>TD.test(n),Je=n=>!!n&&!Number.isNaN(Number(n)),ei=n=>!!n&&Number.isInteger(Number(n)),Hg=n=>n.endsWith("%")&&Je(n.slice(0,-1)),co=n=>CD.test(n),ND=()=>!0,DD=n=>PD.test(n)&&!AD.test(n),Sx=()=>!1,OD=n=>RD.test(n),MD=n=>kD.test(n),VD=n=>!ke(n)&&!Ne(n),LD=n=>fc(n,Tx,Sx),ke=n=>Ex.test(n),ra=n=>fc(n,Cx,DD),Wg=n=>fc(n,$D,Je),tb=n=>fc(n,Ix,Sx),FD=n=>fc(n,xx,MD),zh=n=>fc(n,Px,OD),Ne=n=>bx.test(n),hu=n=>pc(n,Cx),jD=n=>pc(n,BD),nb=n=>pc(n,Ix),UD=n=>pc(n,Tx),zD=n=>pc(n,xx),$h=n=>pc(n,Px,!0),fc=(n,e,t)=>{const r=Ex.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},pc=(n,e,t=!1)=>{const r=bx.exec(n);return r?r[1]?e(r[1]):t:!1},Ix=n=>n==="position"||n==="percentage",xx=n=>n==="image"||n==="url",Tx=n=>n==="length"||n==="size"||n==="bg-size",Cx=n=>n==="length",$D=n=>n==="number",BD=n=>n==="family-name",Px=n=>n==="shadow",qD=()=>{const n=ln("color"),e=ln("font"),t=ln("text"),r=ln("font-weight"),s=ln("tracking"),i=ln("leading"),l=ln("breakpoint"),u=ln("container"),h=ln("spacing"),p=ln("radius"),g=ln("shadow"),m=ln("inset-shadow"),w=ln("text-shadow"),I=ln("drop-shadow"),R=ln("blur"),T=ln("perspective"),A=ln("aspect"),D=ln("ease"),V=ln("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...z(),Ne,ke],K=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],C=()=>[Ne,ke,h],N=()=>[Il,"full","auto",...C()],M=()=>[ei,"none","subgrid",Ne,ke],F=()=>["auto",{span:["full",ei,Ne,ke]},ei,Ne,ke],B=()=>[ei,"auto",Ne,ke],O=()=>["auto","min","max","fr",Ne,ke],Ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Be=()=>["start","end","center","stretch","center-safe","end-safe"],me=()=>["auto",...C()],_e=()=>[Il,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],W=()=>[n,Ne,ke],ne=()=>[...z(),nb,tb,{position:[Ne,ke]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",UD,LD,{size:[Ne,ke]}],G=()=>[Hg,hu,ra],oe=()=>["","none","full",p,Ne,ke],ie=()=>["",Je,hu,ra],he=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Je,Hg,nb,tb],Ie=()=>["","none",R,Ne,ke],Ge=()=>["none",Je,Ne,ke],Qe=()=>["none",Je,Ne,ke],pe=()=>[Je,Ne,ke],St=()=>[Il,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[co],breakpoint:[co],color:[ND],container:[co],"drop-shadow":[co],ease:["in","out","in-out"],font:[VD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[co],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[co],shadow:[co],spacing:["px",Je],text:[co],"text-shadow":[co],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Il,ke,Ne,A]}],container:["container"],columns:[{columns:[Je,ke,Ne,u]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[ei,"auto",Ne,ke]}],basis:[{basis:[Il,"full","auto",u,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,Il,"auto","initial","none",ke]}],grow:[{grow:["",Je,Ne,ke]}],shrink:[{shrink:["",Je,Ne,ke]}],order:[{order:[ei,"first","last","none",Ne,ke]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...Ce(),"normal"]}],"justify-items":[{"justify-items":[...Be(),"normal"]}],"justify-self":[{"justify-self":["auto",...Be()]}],"align-content":[{content:["normal",...Ce()]}],"align-items":[{items:[...Be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Be(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ce()}],"place-items":[{"place-items":[...Be(),"baseline"]}],"place-self":[{"place-self":["auto",...Be()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:me()}],mx:[{mx:me()}],my:[{my:me()}],ms:[{ms:me()}],me:[{me:me()}],mt:[{mt:me()}],mr:[{mr:me()}],mb:[{mb:me()}],ml:[{ml:me()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:_e()}],w:[{w:[u,"screen",..._e()]}],"min-w":[{"min-w":[u,"screen","none",..._e()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},..._e()]}],h:[{h:["screen","lh",..._e()]}],"min-h":[{"min-h":["screen","lh","none",..._e()]}],"max-h":[{"max-h":["screen","lh",..._e()]}],"font-size":[{text:["base",t,hu,ra]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,Wg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hg,ke]}],"font-family":[{font:[jD,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,ke]}],"line-clamp":[{"line-clamp":[Je,"none",Ne,Wg]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",Ne,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Ne,ra]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Je,"auto",Ne,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ei,Ne,ke],radial:["",Ne,ke],conic:[ei,Ne,ke]},zD,FD]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Ne,ke]}],"outline-w":[{outline:["",Je,hu,ra]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",g,$h,zh]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",m,$h,zh]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Je,ra]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",w,$h,zh]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Je,Ne,ke]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Ne,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,ke]}],filter:[{filter:["","none",Ne,ke]}],blur:[{blur:Ie()}],brightness:[{brightness:[Je,Ne,ke]}],contrast:[{contrast:[Je,Ne,ke]}],"drop-shadow":[{"drop-shadow":["","none",I,$h,zh]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Je,Ne,ke]}],"hue-rotate":[{"hue-rotate":[Je,Ne,ke]}],invert:[{invert:["",Je,Ne,ke]}],saturate:[{saturate:[Je,Ne,ke]}],sepia:[{sepia:["",Je,Ne,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,ke]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Ne,ke]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Ne,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Ne,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Ne,ke]}],"backdrop-invert":[{"backdrop-invert":["",Je,Ne,ke]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Ne,ke]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Ne,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Ne,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Ne,ke]}],ease:[{ease:["linear","initial",D,Ne,ke]}],delay:[{delay:[Je,Ne,ke]}],animate:[{animate:["none",V,Ne,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Ne,ke]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[Ne,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:St()}],"translate-x":[{"translate-x":St()}],"translate-y":[{"translate-y":St()}],"translate-z":[{"translate-z":St()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,ke]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Je,hu,ra,Wg]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HD=xD(qD);function $e(...n){return HD(px(n))}const WD=_p("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function ju({className:n,variant:e,size:t,asChild:r=!1,...s}){const i=r?vp:"button";return E.jsx(i,{"data-slot":"button",className:$e(WD({variant:e,size:t,className:n})),...s})}function bu({className:n,type:e,...t}){return E.jsx("input",{type:e,"data-slot":"input",className:$e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Nv=ux();const Ax=cx(Nv);var GD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=GD.reduce((n,e)=>{const t=Kl(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(h,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function Rx(n,e){n&&Nv.flushSync(()=>n.dispatchEvent(e))}var KD="Separator",rb="horizontal",ZD=["horizontal","vertical"],kx=b.forwardRef((n,e)=>{const{decorative:t,orientation:r=rb,...s}=n,i=QD(r)?r:rb,u=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return E.jsx(ht.div,{"data-orientation":i,...u,...s,ref:e})});kx.displayName=KD;function QD(n){return ZD.includes(n)}var YD=kx;function XD({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return E.jsx(YD,{"data-slot":"separator-root",decorative:t,orientation:e,className:$e("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function Le(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function JD(n,e){const t=b.createContext(e),r=i=>{const{children:l,...u}=i,h=b.useMemo(()=>u,Object.values(u));return E.jsx(t.Provider,{value:h,children:l})};r.displayName=n+"Provider";function s(i){const l=b.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function qs(n,e=[]){let t=[];function r(i,l){const u=b.createContext(l),h=t.length;t=[...t,l];const p=m=>{const{scope:w,children:I,...R}=m,T=w?.[n]?.[h]||u,A=b.useMemo(()=>R,Object.values(R));return E.jsx(T.Provider,{value:A,children:I})};p.displayName=i+"Provider";function g(m,w){const I=w?.[n]?.[h]||u,R=b.useContext(I);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[p,g]}const s=()=>{const i=t.map(l=>b.createContext(l));return function(u){const h=u?.[n]||i;return b.useMemo(()=>({[`__scope${n}`]:{...u,[n]:h}}),[u,h])}};return s.scopeName=n,[r,eO(s,...e)]}function eO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const m=h(i)[`__scope${p}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var mo=globalThis?.document?b.useLayoutEffect:()=>{},tO=dx[" useId ".trim().toString()]||(()=>{}),nO=0;function fa(n){const[e,t]=b.useState(tO());return mo(()=>{t(r=>r??String(nO++))},[n]),e?`radix-${e}`:""}var rO=dx[" useInsertionEffect ".trim().toString()]||mo;function mc({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,l]=sO({defaultProp:e,onChange:t}),u=n!==void 0,h=u?n:s;{const g=b.useRef(n!==void 0);b.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const p=b.useCallback(g=>{if(u){const m=oO(g)?g(n):g;m!==n&&l.current?.(m)}else i(g)},[u,n,i,l]);return[h,p]}function sO({defaultProp:n,onChange:e}){const[t,r]=b.useState(n),s=b.useRef(t),i=b.useRef(e);return rO(()=>{i.current=e},[e]),b.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,r,i]}function oO(n){return typeof n=="function"}function On(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}function iO(n,e=globalThis?.document){const t=On(n);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var aO="DismissableLayer",Ry="dismissableLayer.update",lO="dismissableLayer.pointerDownOutside",cO="dismissableLayer.focusOutside",sb,Nx=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ep=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...h}=n,p=b.useContext(Nx),[g,m]=b.useState(null),w=g?.ownerDocument??globalThis?.document,[,I]=b.useState({}),R=Et(e,P=>m(P)),T=Array.from(p.layers),[A]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),D=T.indexOf(A),V=g?T.indexOf(g):-1,U=p.layersWithOutsidePointerEventsDisabled.size>0,z=V>=D,$=hO(P=>{const C=P.target,N=[...p.branches].some(M=>M.contains(C));!z||N||(s?.(P),l?.(P),P.defaultPrevented||u?.())},w),K=fO(P=>{const C=P.target;[...p.branches].some(M=>M.contains(C))||(i?.(P),l?.(P),P.defaultPrevented||u?.())},w);return iO(P=>{V===p.layers.size-1&&(r?.(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},w),b.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(sb=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),ob(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=sb)}},[g,w,t,p]),b.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),ob())},[g,p]),b.useEffect(()=>{const P=()=>I({});return document.addEventListener(Ry,P),()=>document.removeEventListener(Ry,P)},[]),E.jsx(ht.div,{...h,ref:R,style:{pointerEvents:U?z?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,K.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,K.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,$.onPointerDownCapture)})});Ep.displayName=aO;var uO="DismissableLayerBranch",dO=b.forwardRef((n,e)=>{const t=b.useContext(Nx),r=b.useRef(null),s=Et(e,r);return b.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),E.jsx(ht.div,{...n,ref:s})});dO.displayName=uO;function hO(n,e=globalThis?.document){const t=On(n),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let h=function(){Dx(lO,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function fO(n,e=globalThis?.document){const t=On(n),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&Dx(cO,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ob(){const n=new CustomEvent(Ry);document.dispatchEvent(n)}function Dx(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?Rx(s,i):s.dispatchEvent(i)}var Gg="focusScope.autoFocusOnMount",Kg="focusScope.autoFocusOnUnmount",ib={bubbles:!1,cancelable:!0},pO="FocusScope",Dv=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=n,[u,h]=b.useState(null),p=On(s),g=On(i),m=b.useRef(null),w=Et(e,T=>h(T)),I=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let T=function(U){if(I.paused||!u)return;const z=U.target;u.contains(z)?m.current=z:ii(m.current,{select:!0})},A=function(U){if(I.paused||!u)return;const z=U.relatedTarget;z!==null&&(u.contains(z)||ii(m.current,{select:!0}))},D=function(U){if(document.activeElement===document.body)for(const $ of U)$.removedNodes.length>0&&ii(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",A);const V=new MutationObserver(D);return u&&V.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",A),V.disconnect()}}},[r,u,I.paused]),b.useEffect(()=>{if(u){lb.add(I);const T=document.activeElement;if(!u.contains(T)){const D=new CustomEvent(Gg,ib);u.addEventListener(Gg,p),u.dispatchEvent(D),D.defaultPrevented||(mO(wO(Ox(u)),{select:!0}),document.activeElement===T&&ii(u))}return()=>{u.removeEventListener(Gg,p),setTimeout(()=>{const D=new CustomEvent(Kg,ib);u.addEventListener(Kg,g),u.dispatchEvent(D),D.defaultPrevented||ii(T??document.body,{select:!0}),u.removeEventListener(Kg,g),lb.remove(I)},0)}}},[u,p,g,I]);const R=b.useCallback(T=>{if(!t&&!r||I.paused)return;const A=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,D=document.activeElement;if(A&&D){const V=T.currentTarget,[U,z]=gO(V);U&&z?!T.shiftKey&&D===z?(T.preventDefault(),t&&ii(U,{select:!0})):T.shiftKey&&D===U&&(T.preventDefault(),t&&ii(z,{select:!0})):D===V&&T.preventDefault()}},[t,r,I.paused]);return E.jsx(ht.div,{tabIndex:-1,...l,ref:w,onKeyDown:R})});Dv.displayName=pO;function mO(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ii(r,{select:e}),document.activeElement!==t)return}function gO(n){const e=Ox(n),t=ab(e,n),r=ab(e.reverse(),n);return[t,r]}function Ox(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ab(n,e){for(const t of n)if(!yO(t,{upTo:e}))return t}function yO(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function vO(n){return n instanceof HTMLInputElement&&"select"in n}function ii(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&vO(n)&&e&&n.select()}}var lb=_O();function _O(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=cb(n,e),n.unshift(e)},remove(e){n=cb(n,e),n[0]?.resume()}}}function cb(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function wO(n){return n.filter(e=>e.tagName!=="A")}var EO="Portal",bp=b.forwardRef((n,e)=>{const{container:t,...r}=n,[s,i]=b.useState(!1);mo(()=>i(!0),[]);const l=t||s&&globalThis?.document?.body;return l?Ax.createPortal(E.jsx(ht.div,{...r,ref:e}),l):null});bp.displayName=EO;function bO(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Hn=n=>{const{present:e,children:t}=n,r=SO(e),s=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),i=Et(r.ref,IO(s));return typeof t=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};Hn.displayName="Presence";function SO(n){const[e,t]=b.useState(),r=b.useRef(null),s=b.useRef(n),i=b.useRef("none"),l=n?"mounted":"unmounted",[u,h]=bO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Bh(r.current);i.current=u==="mounted"?p:"none"},[u]),mo(()=>{const p=r.current,g=s.current;if(g!==n){const w=i.current,I=Bh(p);n?h("MOUNT"):I==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&w!==I?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),mo(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,m=I=>{const T=Bh(r.current).includes(CSS.escape(I.animationName));if(I.target===e&&T&&(h("ANIMATION_END"),!s.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},w=I=>{I.target===e&&(i.current=Bh(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Bh(n){return n?.animationName||"none"}function IO(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Zg=0;function Mx(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??ub()),document.body.insertAdjacentElement("beforeend",n[1]??ub()),Zg++,()=>{Zg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zg--}},[])}function ub(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var As=function(){return As=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},As.apply(this,arguments)};function Vx(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function xO(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var df="right-scroll-bar-position",hf="width-before-scroll-bar",TO="with-scroll-bars-hidden",CO="--removed-body-scroll-bar-size";function Qg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function PO(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var AO=typeof window<"u"?b.useLayoutEffect:b.useEffect,db=new WeakMap;function RO(n,e){var t=PO(null,function(r){return n.forEach(function(s){return Qg(s,r)})});return AO(function(){var r=db.get(t);if(r){var s=new Set(r),i=new Set(n),l=t.current;s.forEach(function(u){i.has(u)||Qg(u,null)}),i.forEach(function(u){s.has(u)||Qg(u,l)})}db.set(t,n)},[n]),t}function kO(n){return n}function NO(n,e){e===void 0&&(e=kO);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var l=e(i,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(r=!0;t.length;){var l=t;t=[],l.forEach(i)}t={push:function(u){return i(u)},filter:function(){return t}}},assignMedium:function(i){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(i),l=t}var h=function(){var g=l;l=[],g.forEach(i)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),t}}}};return s}function DO(n){n===void 0&&(n={});var e=NO(null);return e.options=As({async:!0,ssr:!1},n),e}var Lx=function(n){var e=n.sideCar,t=Vx(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,As({},t))};Lx.isSideCarExport=!0;function OO(n,e){return n.useMedium(e),Lx}var Fx=DO(),Yg=function(){},Sp=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:Yg,onWheelCapture:Yg,onTouchMoveCapture:Yg}),s=r[0],i=r[1],l=n.forwardProps,u=n.children,h=n.className,p=n.removeScrollBar,g=n.enabled,m=n.shards,w=n.sideCar,I=n.noRelative,R=n.noIsolation,T=n.inert,A=n.allowPinchZoom,D=n.as,V=D===void 0?"div":D,U=n.gapMode,z=Vx(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=w,K=RO([t,e]),P=As(As({},z),s);return b.createElement(b.Fragment,null,g&&b.createElement($,{sideCar:Fx,removeScrollBar:p,shards:m,noRelative:I,noIsolation:R,inert:T,setCallbacks:i,allowPinchZoom:!!A,lockRef:t,gapMode:U}),l?b.cloneElement(b.Children.only(u),As(As({},P),{ref:K})):b.createElement(V,As({},P,{className:h,ref:K}),u))});Sp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sp.classNames={fullWidth:hf,zeroRight:df};var MO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VO(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=MO();return e&&n.setAttribute("nonce",e),n}function LO(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function FO(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var jO=function(){var n=0,e=null;return{add:function(t){n==0&&(e=VO())&&(LO(e,t),FO(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},UO=function(){var n=jO();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},jx=function(){var n=UO(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},zO={left:0,top:0,right:0,gap:0},Xg=function(n){return parseInt(n||"",10)||0},$O=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[Xg(t),Xg(r),Xg(s)]},BO=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return zO;var e=$O(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},qO=jx(),zl="data-scroll-locked",HO=function(n,e,t,r){var s=n.left,i=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(TO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(zl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(df,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(hf,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(df," .").concat(df,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zl,`] {
    `).concat(CO,": ").concat(u,`px;
  }
`)},hb=function(){var n=parseInt(document.body.getAttribute(zl)||"0",10);return isFinite(n)?n:0},WO=function(){b.useEffect(function(){return document.body.setAttribute(zl,(hb()+1).toString()),function(){var n=hb()-1;n<=0?document.body.removeAttribute(zl):document.body.setAttribute(zl,n.toString())}},[])},GO=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;WO();var i=b.useMemo(function(){return BO(s)},[s]);return b.createElement(qO,{styles:HO(i,!e,s,t?"":"!important")})},ky=!1;if(typeof window<"u")try{var qh=Object.defineProperty({},"passive",{get:function(){return ky=!0,!0}});window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{ky=!1}var xl=ky?{passive:!1}:!1,KO=function(n){return n.tagName==="TEXTAREA"},Ux=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!KO(n)&&t[e]==="visible")},ZO=function(n){return Ux(n,"overflowY")},QO=function(n){return Ux(n,"overflowX")},fb=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=zx(n,r);if(s){var i=$x(n,r),l=i[1],u=i[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},YO=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},XO=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},zx=function(n,e){return n==="v"?ZO(e):QO(e)},$x=function(n,e){return n==="v"?YO(e):XO(e)},JO=function(n,e){return n==="h"&&e==="rtl"?-1:1},eM=function(n,e,t,r,s){var i=JO(n,window.getComputedStyle(e).direction),l=i*r,u=t.target,h=e.contains(u),p=!1,g=l>0,m=0,w=0;do{if(!u)break;var I=$x(n,u),R=I[0],T=I[1],A=I[2],D=T-A-i*R;(R||D)&&zx(n,u)&&(m+=D,w+=R);var V=u.parentNode;u=V&&V.nodeType===Node.DOCUMENT_FRAGMENT_NODE?V.host:V}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(g&&Math.abs(m)<1||!g&&Math.abs(w)<1)&&(p=!0),p},Hh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},pb=function(n){return[n.deltaX,n.deltaY]},mb=function(n){return n&&"current"in n?n.current:n},tM=function(n,e){return n[0]===e[0]&&n[1]===e[1]},nM=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},rM=0,Tl=[];function sM(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),s=b.useState(rM++)[0],i=b.useState(jx)[0],l=b.useRef(n);b.useEffect(function(){l.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var T=xO([n.lockRef.current],(n.shards||[]).map(mb),!0).filter(Boolean);return T.forEach(function(A){return A.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var u=b.useCallback(function(T,A){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!l.current.allowPinchZoom;var D=Hh(T),V=t.current,U="deltaX"in T?T.deltaX:V[0]-D[0],z="deltaY"in T?T.deltaY:V[1]-D[1],$,K=T.target,P=Math.abs(U)>Math.abs(z)?"h":"v";if("touches"in T&&P==="h"&&K.type==="range")return!1;var C=fb(P,K);if(!C)return!0;if(C?$=P:($=P==="v"?"h":"v",C=fb(P,K)),!C)return!1;if(!r.current&&"changedTouches"in T&&(U||z)&&(r.current=$),!$)return!0;var N=r.current||$;return eM(N,A,T,N==="h"?U:z)},[]),h=b.useCallback(function(T){var A=T;if(!(!Tl.length||Tl[Tl.length-1]!==i)){var D="deltaY"in A?pb(A):Hh(A),V=e.current.filter(function($){return $.name===A.type&&($.target===A.target||A.target===$.shadowParent)&&tM($.delta,D)})[0];if(V&&V.should){A.cancelable&&A.preventDefault();return}if(!V){var U=(l.current.shards||[]).map(mb).filter(Boolean).filter(function($){return $.contains(A.target)}),z=U.length>0?u(A,U[0]):!l.current.noIsolation;z&&A.cancelable&&A.preventDefault()}}},[]),p=b.useCallback(function(T,A,D,V){var U={name:T,delta:A,target:D,should:V,shadowParent:oM(D)};e.current.push(U),setTimeout(function(){e.current=e.current.filter(function(z){return z!==U})},1)},[]),g=b.useCallback(function(T){t.current=Hh(T),r.current=void 0},[]),m=b.useCallback(function(T){p(T.type,pb(T),T.target,u(T,n.lockRef.current))},[]),w=b.useCallback(function(T){p(T.type,Hh(T),T.target,u(T,n.lockRef.current))},[]);b.useEffect(function(){return Tl.push(i),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:w}),document.addEventListener("wheel",h,xl),document.addEventListener("touchmove",h,xl),document.addEventListener("touchstart",g,xl),function(){Tl=Tl.filter(function(T){return T!==i}),document.removeEventListener("wheel",h,xl),document.removeEventListener("touchmove",h,xl),document.removeEventListener("touchstart",g,xl)}},[]);var I=n.removeScrollBar,R=n.inert;return b.createElement(b.Fragment,null,R?b.createElement(i,{styles:nM(s)}):null,I?b.createElement(GO,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function oM(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const iM=OO(Fx,sM);var Ov=b.forwardRef(function(n,e){return b.createElement(Sp,As({},n,{ref:e,sideCar:iM}))});Ov.classNames=Sp.classNames;var aM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Cl=new WeakMap,Wh=new WeakMap,Gh={},Jg=0,Bx=function(n){return n&&(n.host||Bx(n.parentNode))},lM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=Bx(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},cM=function(n,e,t,r){var s=lM(e,Array.isArray(n)?n:[n]);Gh[t]||(Gh[t]=new WeakMap);var i=Gh[t],l=[],u=new Set,h=new Set(s),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};s.forEach(p);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(w){if(u.has(w))g(w);else try{var I=w.getAttribute(r),R=I!==null&&I!=="false",T=(Cl.get(w)||0)+1,A=(i.get(w)||0)+1;Cl.set(w,T),i.set(w,A),l.push(w),T===1&&R&&Wh.set(w,!0),A===1&&w.setAttribute(t,"true"),R||w.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",w,D)}})};return g(e),u.clear(),Jg++,function(){l.forEach(function(m){var w=Cl.get(m)-1,I=i.get(m)-1;Cl.set(m,w),i.set(m,I),w||(Wh.has(m)||m.removeAttribute(r),Wh.delete(m)),I||m.removeAttribute(t)}),Jg--,Jg||(Cl=new WeakMap,Cl=new WeakMap,Wh=new WeakMap,Gh={})}},qx=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=aM(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),cM(r,s,t,"aria-hidden")):function(){return null}},Ip="Dialog",[Hx]=qs(Ip),[uM,os]=Hx(Ip),Wx=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=n,u=b.useRef(null),h=b.useRef(null),[p,g]=mc({prop:r,defaultProp:s??!1,onChange:i,caller:Ip});return E.jsx(uM,{scope:e,triggerRef:u,contentRef:h,contentId:fa(),titleId:fa(),descriptionId:fa(),open:p,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(m=>!m),[g]),modal:l,children:t})};Wx.displayName=Ip;var Gx="DialogTrigger",Kx=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=os(Gx,t),i=Et(e,s.triggerRef);return E.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Lv(s.open),...r,ref:i,onClick:Le(n.onClick,s.onOpenToggle)})});Kx.displayName=Gx;var Mv="DialogPortal",[dM,Zx]=Hx(Mv,{forceMount:void 0}),Qx=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=os(Mv,e);return E.jsx(dM,{scope:e,forceMount:t,children:b.Children.map(r,l=>E.jsx(Hn,{present:t||i.open,children:E.jsx(bp,{asChild:!0,container:s,children:l})}))})};Qx.displayName=Mv;var Nf="DialogOverlay",Yx=b.forwardRef((n,e)=>{const t=Zx(Nf,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=os(Nf,n.__scopeDialog);return i.modal?E.jsx(Hn,{present:r||i.open,children:E.jsx(fM,{...s,ref:e})}):null});Yx.displayName=Nf;var hM=Kl("DialogOverlay.RemoveScroll"),fM=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=os(Nf,t);return E.jsx(Ov,{as:hM,allowPinchZoom:!0,shards:[s.contentRef],children:E.jsx(ht.div,{"data-state":Lv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),wa="DialogContent",Xx=b.forwardRef((n,e)=>{const t=Zx(wa,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=os(wa,n.__scopeDialog);return E.jsx(Hn,{present:r||i.open,children:i.modal?E.jsx(pM,{...s,ref:e}):E.jsx(mM,{...s,ref:e})})});Xx.displayName=wa;var pM=b.forwardRef((n,e)=>{const t=os(wa,n.__scopeDialog),r=b.useRef(null),s=Et(e,t.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return qx(i)},[]),E.jsx(Jx,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(n.onCloseAutoFocus,i=>{i.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Le(n.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Le(n.onFocusOutside,i=>i.preventDefault())})}),mM=b.forwardRef((n,e)=>{const t=os(wa,n.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return E.jsx(Jx,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{n.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{n.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;t.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Jx=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=n,u=os(wa,t),h=b.useRef(null),p=Et(e,h);return Mx(),E.jsxs(E.Fragment,{children:[E.jsx(Dv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:E.jsx(Ep,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Lv(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(gM,{titleId:u.titleId}),E.jsx(vM,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Vv="DialogTitle",e1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=os(Vv,t);return E.jsx(ht.h2,{id:s.titleId,...r,ref:e})});e1.displayName=Vv;var t1="DialogDescription",n1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=os(t1,t);return E.jsx(ht.p,{id:s.descriptionId,...r,ref:e})});n1.displayName=t1;var r1="DialogClose",s1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=os(r1,t);return E.jsx(ht.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,()=>s.onOpenChange(!1))})});s1.displayName=r1;function Lv(n){return n?"open":"closed"}var o1="DialogTitleWarning",[VH,i1]=JD(o1,{contentName:wa,titleName:Vv,docsSlug:"dialog"}),gM=({titleId:n})=>{const e=i1(o1),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},yM="DialogDescriptionWarning",vM=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i1(yM).contentName}}.`;return b.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},a1=Wx,_M=Kx,l1=Qx,Fv=Yx,jv=Xx,Uv=e1,zv=n1,c1=s1;const wM=a1,EM=l1,u1=b.forwardRef(({className:n,...e},t)=>E.jsx(Fv,{className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));u1.displayName=Fv.displayName;const bM=_p("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),d1=b.forwardRef(({side:n="right",className:e,children:t,...r},s)=>E.jsxs(EM,{children:[E.jsx(u1,{}),E.jsxs(jv,{ref:s,className:$e(bM({side:n}),e),...r,children:[t,E.jsxs(c1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[E.jsx(Rv,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));d1.displayName=jv.displayName;const h1=({className:n,...e})=>E.jsx("div",{className:$e("flex flex-col space-y-2 text-center sm:text-left",n),...e});h1.displayName="SheetHeader";const f1=b.forwardRef(({className:n,...e},t)=>E.jsx(Uv,{ref:t,className:$e("text-lg font-semibold text-foreground",n),...e}));f1.displayName=Uv.displayName;const p1=b.forwardRef(({className:n,...e},t)=>E.jsx(zv,{ref:t,className:$e("text-sm text-muted-foreground",n),...e}));p1.displayName=zv.displayName;const SM=["top","right","bottom","left"],Ei=Math.min,vr=Math.max,Df=Math.round,Kh=Math.floor,Os=n=>({x:n,y:n}),IM={left:"right",right:"left",bottom:"top",top:"bottom"},xM={start:"end",end:"start"};function Ny(n,e,t){return vr(n,Ei(e,t))}function go(n,e){return typeof n=="function"?n(e):n}function yo(n){return n.split("-")[0]}function gc(n){return n.split("-")[1]}function $v(n){return n==="x"?"y":"x"}function Bv(n){return n==="y"?"height":"width"}const TM=new Set(["top","bottom"]);function ks(n){return TM.has(yo(n))?"y":"x"}function qv(n){return $v(ks(n))}function CM(n,e,t){t===void 0&&(t=!1);const r=gc(n),s=qv(n),i=Bv(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=Of(l)),[l,Of(l)]}function PM(n){const e=Of(n);return[Dy(n),e,Dy(e)]}function Dy(n){return n.replace(/start|end/g,e=>xM[e])}const gb=["left","right"],yb=["right","left"],AM=["top","bottom"],RM=["bottom","top"];function kM(n,e,t){switch(n){case"top":case"bottom":return t?e?yb:gb:e?gb:yb;case"left":case"right":return e?AM:RM;default:return[]}}function NM(n,e,t,r){const s=gc(n);let i=kM(yo(n),t==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(Dy)))),i}function Of(n){return n.replace(/left|right|bottom|top/g,e=>IM[e])}function DM(n){return{top:0,right:0,bottom:0,left:0,...n}}function m1(n){return typeof n!="number"?DM(n):{top:n,right:n,bottom:n,left:n}}function Mf(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function vb(n,e,t){let{reference:r,floating:s}=n;const i=ks(e),l=qv(e),u=Bv(l),h=yo(e),p=i==="y",g=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,w=r[u]/2-s[u]/2;let I;switch(h){case"top":I={x:g,y:r.y-s.height};break;case"bottom":I={x:g,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y:m};break;case"left":I={x:r.x-s.width,y:m};break;default:I={x:r.x,y:r.y}}switch(gc(e)){case"start":I[l]-=w*(t&&p?-1:1);break;case"end":I[l]+=w*(t&&p?-1:1);break}return I}const OM=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=t,u=i.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y:m}=vb(p,r,h),w=r,I={},R=0;for(let T=0;T<u.length;T++){const{name:A,fn:D}=u[T],{x:V,y:U,data:z,reset:$}=await D({x:g,y:m,initialPlacement:r,placement:w,strategy:s,middlewareData:I,rects:p,platform:l,elements:{reference:n,floating:e}});g=V??g,m=U??m,I={...I,[A]:{...I[A],...z}},$&&R<=50&&(R++,typeof $=="object"&&($.placement&&(w=$.placement),$.rects&&(p=$.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):$.rects),{x:g,y:m}=vb(p,w,h)),T=-1)}return{x:g,y:m,placement:w,strategy:s,middlewareData:I}};async function Uu(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:u,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:w=!1,padding:I=0}=go(e,n),R=m1(I),A=u[w?m==="floating"?"reference":"floating":m],D=Mf(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(A)))==null||t?A:A.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:h})),V=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,U=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),z=await(i.isElement==null?void 0:i.isElement(U))?await(i.getScale==null?void 0:i.getScale(U))||{x:1,y:1}:{x:1,y:1},$=Mf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:V,offsetParent:U,strategy:h}):V);return{top:(D.top-$.top+R.top)/z.y,bottom:($.bottom-D.bottom+R.bottom)/z.y,left:(D.left-$.left+R.left)/z.x,right:($.right-D.right+R.right)/z.x}}const MM=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:g=0}=go(n,e)||{};if(p==null)return{};const m=m1(g),w={x:t,y:r},I=qv(s),R=Bv(I),T=await l.getDimensions(p),A=I==="y",D=A?"top":"left",V=A?"bottom":"right",U=A?"clientHeight":"clientWidth",z=i.reference[R]+i.reference[I]-w[I]-i.floating[R],$=w[I]-i.reference[I],K=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let P=K?K[U]:0;(!P||!await(l.isElement==null?void 0:l.isElement(K)))&&(P=u.floating[U]||i.floating[R]);const C=z/2-$/2,N=P/2-T[R]/2-1,M=Ei(m[D],N),F=Ei(m[V],N),B=M,O=P-T[R]-F,Ce=P/2-T[R]/2+C,Be=Ny(B,Ce,O),me=!h.arrow&&gc(s)!=null&&Ce!==Be&&i.reference[R]/2-(Ce<B?M:F)-T[R]/2<0,_e=me?Ce<B?Ce-B:Ce-O:0;return{[I]:w[I]+_e,data:{[I]:Be,centerOffset:Ce-Be-_e,...me&&{alignmentOffset:_e}},reset:me}}}),VM=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:w,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:T=!0,...A}=go(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const D=yo(s),V=ks(u),U=yo(u)===u,z=await(h.isRTL==null?void 0:h.isRTL(p.floating)),$=w||(U||!T?[Of(u)]:PM(u)),K=R!=="none";!w&&K&&$.push(...NM(u,T,R,z));const P=[u,...$],C=await Uu(e,A),N=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&N.push(C[D]),m){const Ce=CM(s,l,z);N.push(C[Ce[0]],C[Ce[1]])}if(M=[...M,{placement:s,overflows:N}],!N.every(Ce=>Ce<=0)){var F,B;const Ce=(((F=i.flip)==null?void 0:F.index)||0)+1,Be=P[Ce];if(Be&&(!(m==="alignment"?V!==ks(Be):!1)||M.every(W=>ks(W.placement)===V?W.overflows[0]>0:!0)))return{data:{index:Ce,overflows:M},reset:{placement:Be}};let me=(B=M.filter(_e=>_e.overflows[0]<=0).sort((_e,W)=>_e.overflows[1]-W.overflows[1])[0])==null?void 0:B.placement;if(!me)switch(I){case"bestFit":{var O;const _e=(O=M.filter(W=>{if(K){const ne=ks(W.placement);return ne===V||ne==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ne=>ne>0).reduce((ne,X)=>ne+X,0)]).sort((W,ne)=>W[1]-ne[1])[0])==null?void 0:O[0];_e&&(me=_e);break}case"initialPlacement":me=u;break}if(s!==me)return{reset:{placement:me}}}return{}}}};function _b(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function wb(n){return SM.some(e=>n[e]>=0)}const LM=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=go(n,e);switch(r){case"referenceHidden":{const i=await Uu(e,{...s,elementContext:"reference"}),l=_b(i,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:wb(l)}}}case"escaped":{const i=await Uu(e,{...s,altBoundary:!0}),l=_b(i,t.floating);return{data:{escapedOffsets:l,escaped:wb(l)}}}default:return{}}}}},g1=new Set(["left","top"]);async function FM(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=yo(t),u=gc(t),h=ks(t)==="y",p=g1.has(l)?-1:1,g=i&&h?-1:1,m=go(e,n);let{mainAxis:w,crossAxis:I,alignmentAxis:R}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof R=="number"&&(I=u==="end"?R*-1:R),h?{x:I*g,y:w*p}:{x:w*p,y:I*g}}const jM=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:l,middlewareData:u}=e,h=await FM(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:i+h.y,data:{...h,placement:l}}}}},UM=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:A=>{let{x:D,y:V}=A;return{x:D,y:V}}},...h}=go(n,e),p={x:t,y:r},g=await Uu(e,h),m=ks(yo(s)),w=$v(m);let I=p[w],R=p[m];if(i){const A=w==="y"?"top":"left",D=w==="y"?"bottom":"right",V=I+g[A],U=I-g[D];I=Ny(V,I,U)}if(l){const A=m==="y"?"top":"left",D=m==="y"?"bottom":"right",V=R+g[A],U=R-g[D];R=Ny(V,R,U)}const T=u.fn({...e,[w]:I,[m]:R});return{...T,data:{x:T.x-t,y:T.y-r,enabled:{[w]:i,[m]:l}}}}}},zM=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=go(n,e),g={x:t,y:r},m=ks(s),w=$v(m);let I=g[w],R=g[m];const T=go(u,e),A=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(h){const U=w==="y"?"height":"width",z=i.reference[w]-i.floating[U]+A.mainAxis,$=i.reference[w]+i.reference[U]-A.mainAxis;I<z?I=z:I>$&&(I=$)}if(p){var D,V;const U=w==="y"?"width":"height",z=g1.has(yo(s)),$=i.reference[m]-i.floating[U]+(z&&((D=l.offset)==null?void 0:D[m])||0)+(z?0:A.crossAxis),K=i.reference[m]+i.reference[U]+(z?0:((V=l.offset)==null?void 0:V[m])||0)-(z?A.crossAxis:0);R<$?R=$:R>K&&(R=K)}return{[w]:I,[m]:R}}}},$M=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:l,elements:u}=e,{apply:h=()=>{},...p}=go(n,e),g=await Uu(e,p),m=yo(s),w=gc(s),I=ks(s)==="y",{width:R,height:T}=i.floating;let A,D;m==="top"||m==="bottom"?(A=m,D=w===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(D=m,A=w==="end"?"top":"bottom");const V=T-g.top-g.bottom,U=R-g.left-g.right,z=Ei(T-g[A],V),$=Ei(R-g[D],U),K=!e.middlewareData.shift;let P=z,C=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=U),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=V),K&&!w){const M=vr(g.left,0),F=vr(g.right,0),B=vr(g.top,0),O=vr(g.bottom,0);I?C=R-2*(M!==0||F!==0?M+F:vr(g.left,g.right)):P=T-2*(B!==0||O!==0?B+O:vr(g.top,g.bottom))}await h({...e,availableWidth:C,availableHeight:P});const N=await l.getDimensions(u.floating);return R!==N.width||T!==N.height?{reset:{rects:!0}}:{}}}};function xp(){return typeof window<"u"}function yc(n){return y1(n)?(n.nodeName||"").toLowerCase():"#document"}function wr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Hs(n){var e;return(e=(y1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function y1(n){return xp()?n instanceof Node||n instanceof wr(n).Node:!1}function ns(n){return xp()?n instanceof Element||n instanceof wr(n).Element:!1}function Us(n){return xp()?n instanceof HTMLElement||n instanceof wr(n).HTMLElement:!1}function Eb(n){return!xp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof wr(n).ShadowRoot}const BM=new Set(["inline","contents"]);function ld(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=rs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!BM.has(s)}const qM=new Set(["table","td","th"]);function HM(n){return qM.has(yc(n))}const WM=[":popover-open",":modal"];function Tp(n){return WM.some(e=>{try{return n.matches(e)}catch{return!1}})}const GM=["transform","translate","scale","rotate","perspective"],KM=["transform","translate","scale","rotate","perspective","filter"],ZM=["paint","layout","strict","content"];function Hv(n){const e=Wv(),t=ns(n)?rs(n):n;return GM.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||KM.some(r=>(t.willChange||"").includes(r))||ZM.some(r=>(t.contain||"").includes(r))}function QM(n){let e=bi(n);for(;Us(e)&&!Zl(e);){if(Hv(e))return e;if(Tp(e))return null;e=bi(e)}return null}function Wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YM=new Set(["html","body","#document"]);function Zl(n){return YM.has(yc(n))}function rs(n){return wr(n).getComputedStyle(n)}function Cp(n){return ns(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function bi(n){if(yc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Eb(n)&&n.host||Hs(n);return Eb(e)?e.host:e}function v1(n){const e=bi(n);return Zl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Us(e)&&ld(e)?e:v1(e)}function zu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=v1(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),l=wr(s);if(i){const u=Oy(l);return e.concat(l,l.visualViewport||[],ld(s)?s:[],u&&t?zu(u):[])}return e.concat(s,zu(s,[],t))}function Oy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function _1(n){const e=rs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Us(n),i=s?n.offsetWidth:t,l=s?n.offsetHeight:r,u=Df(t)!==i||Df(r)!==l;return u&&(t=i,r=l),{width:t,height:r,$:u}}function Gv(n){return ns(n)?n:n.contextElement}function $l(n){const e=Gv(n);if(!Us(e))return Os(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=_1(e);let l=(i?Df(t.width):t.width)/r,u=(i?Df(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const XM=Os(0);function w1(n){const e=wr(n);return!Wv()||!e.visualViewport?XM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JM(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==wr(n)?!1:e}function Ea(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=Gv(n);let l=Os(1);e&&(r?ns(r)&&(l=$l(r)):l=$l(n));const u=JM(i,t,r)?w1(i):Os(0);let h=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,g=s.width/l.x,m=s.height/l.y;if(i){const w=wr(i),I=r&&ns(r)?wr(r):r;let R=w,T=Oy(R);for(;T&&r&&I!==R;){const A=$l(T),D=T.getBoundingClientRect(),V=rs(T),U=D.left+(T.clientLeft+parseFloat(V.paddingLeft))*A.x,z=D.top+(T.clientTop+parseFloat(V.paddingTop))*A.y;h*=A.x,p*=A.y,g*=A.x,m*=A.y,h+=U,p+=z,R=wr(T),T=Oy(R)}}return Mf({width:g,height:m,x:h,y:p})}function Pp(n,e){const t=Cp(n).scrollLeft;return e?e.left+t:Ea(Hs(n)).left+t}function E1(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Pp(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function eV(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",l=Hs(r),u=e?Tp(e.floating):!1;if(r===l||u&&i)return t;let h={scrollLeft:0,scrollTop:0},p=Os(1);const g=Os(0),m=Us(r);if((m||!m&&!i)&&((yc(r)!=="body"||ld(l))&&(h=Cp(r)),Us(r))){const I=Ea(r);p=$l(r),g.x=I.x+r.clientLeft,g.y=I.y+r.clientTop}const w=l&&!m&&!i?E1(l,h):Os(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+g.x+w.x,y:t.y*p.y-h.scrollTop*p.y+g.y+w.y}}function tV(n){return Array.from(n.getClientRects())}function nV(n){const e=Hs(n),t=Cp(n),r=n.ownerDocument.body,s=vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Pp(n);const u=-t.scrollTop;return rs(r).direction==="rtl"&&(l+=vr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:u}}const bb=25;function rV(n,e){const t=wr(n),r=Hs(n),s=t.visualViewport;let i=r.clientWidth,l=r.clientHeight,u=0,h=0;if(s){i=s.width,l=s.height;const g=Wv();(!g||g&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const p=Pp(r);if(p<=0){const g=r.ownerDocument,m=g.body,w=getComputedStyle(m),I=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,R=Math.abs(r.clientWidth-m.clientWidth-I);R<=bb&&(i-=R)}else p<=bb&&(i+=p);return{width:i,height:l,x:u,y:h}}const sV=new Set(["absolute","fixed"]);function oV(n,e){const t=Ea(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=Us(n)?$l(n):Os(1),l=n.clientWidth*i.x,u=n.clientHeight*i.y,h=s*i.x,p=r*i.y;return{width:l,height:u,x:h,y:p}}function Sb(n,e,t){let r;if(e==="viewport")r=rV(n,t);else if(e==="document")r=nV(Hs(n));else if(ns(e))r=oV(e,t);else{const s=w1(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Mf(r)}function b1(n,e){const t=bi(n);return t===e||!ns(t)||Zl(t)?!1:rs(t).position==="fixed"||b1(t,e)}function iV(n,e){const t=e.get(n);if(t)return t;let r=zu(n,[],!1).filter(u=>ns(u)&&yc(u)!=="body"),s=null;const i=rs(n).position==="fixed";let l=i?bi(n):n;for(;ns(l)&&!Zl(l);){const u=rs(l),h=Hv(l);!h&&u.position==="fixed"&&(s=null),(i?!h&&!s:!h&&u.position==="static"&&!!s&&sV.has(s.position)||ld(l)&&!h&&b1(n,l))?r=r.filter(g=>g!==l):s=u,l=bi(l)}return e.set(n,r),r}function aV(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?Tp(e)?[]:iV(e,this._c):[].concat(t),r],u=l[0],h=l.reduce((p,g)=>{const m=Sb(e,g,s);return p.top=vr(m.top,p.top),p.right=Ei(m.right,p.right),p.bottom=Ei(m.bottom,p.bottom),p.left=vr(m.left,p.left),p},Sb(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function lV(n){const{width:e,height:t}=_1(n);return{width:e,height:t}}function cV(n,e,t){const r=Us(e),s=Hs(e),i=t==="fixed",l=Ea(n,!0,i,e);let u={scrollLeft:0,scrollTop:0};const h=Os(0);function p(){h.x=Pp(s)}if(r||!r&&!i)if((yc(e)!=="body"||ld(s))&&(u=Cp(e)),r){const I=Ea(e,!0,i,e);h.x=I.x+e.clientLeft,h.y=I.y+e.clientTop}else s&&p();i&&!r&&s&&p();const g=s&&!r&&!i?E1(s,u):Os(0),m=l.left+u.scrollLeft-h.x-g.x,w=l.top+u.scrollTop-h.y-g.y;return{x:m,y:w,width:l.width,height:l.height}}function ey(n){return rs(n).position==="static"}function Ib(n,e){if(!Us(n)||rs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Hs(n)===t&&(t=t.ownerDocument.body),t}function S1(n,e){const t=wr(n);if(Tp(n))return t;if(!Us(n)){let s=bi(n);for(;s&&!Zl(s);){if(ns(s)&&!ey(s))return s;s=bi(s)}return t}let r=Ib(n,e);for(;r&&HM(r)&&ey(r);)r=Ib(r,e);return r&&Zl(r)&&ey(r)&&!Hv(r)?t:r||QM(n)||t}const uV=async function(n){const e=this.getOffsetParent||S1,t=this.getDimensions,r=await t(n.floating);return{reference:cV(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dV(n){return rs(n).direction==="rtl"}const hV={convertOffsetParentRelativeRectToViewportRelativeRect:eV,getDocumentElement:Hs,getClippingRect:aV,getOffsetParent:S1,getElementRects:uV,getClientRects:tV,getDimensions:lV,getScale:$l,isElement:ns,isRTL:dV};function I1(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function fV(n,e){let t=null,r;const s=Hs(n);function i(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),i();const p=n.getBoundingClientRect(),{left:g,top:m,width:w,height:I}=p;if(u||e(),!w||!I)return;const R=Kh(m),T=Kh(s.clientWidth-(g+w)),A=Kh(s.clientHeight-(m+I)),D=Kh(g),U={rootMargin:-R+"px "+-T+"px "+-A+"px "+-D+"px",threshold:vr(0,Ei(1,h))||1};let z=!0;function $(K){const P=K[0].intersectionRatio;if(P!==h){if(!z)return l();P?l(!1,P):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!I1(p,n.getBoundingClientRect())&&l(),z=!1}try{t=new IntersectionObserver($,{...U,root:s.ownerDocument})}catch{t=new IntersectionObserver($,U)}t.observe(n)}return l(!0),i}function pV(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Gv(n),g=s||i?[...p?zu(p):[],...zu(e)]:[];g.forEach(D=>{s&&D.addEventListener("scroll",t,{passive:!0}),i&&D.addEventListener("resize",t)});const m=p&&u?fV(p,t):null;let w=-1,I=null;l&&(I=new ResizeObserver(D=>{let[V]=D;V&&V.target===p&&I&&(I.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var U;(U=I)==null||U.observe(e)})),t()}),p&&!h&&I.observe(p),I.observe(e));let R,T=h?Ea(n):null;h&&A();function A(){const D=Ea(n);T&&!I1(T,D)&&t(),T=D,R=requestAnimationFrame(A)}return t(),()=>{var D;g.forEach(V=>{s&&V.removeEventListener("scroll",t),i&&V.removeEventListener("resize",t)}),m?.(),(D=I)==null||D.disconnect(),I=null,h&&cancelAnimationFrame(R)}}const mV=jM,gV=UM,yV=VM,vV=$M,_V=LM,xb=MM,wV=zM,EV=(n,e,t)=>{const r=new Map,s={platform:hV,...t},i={...s.platform,_c:r};return OM(n,e,{...s,platform:i})};var bV=typeof document<"u",SV=function(){},ff=bV?b.useLayoutEffect:SV;function Vf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Vf(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Vf(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function x1(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Tb(n,e){const t=x1(n);return Math.round(e*t)/t}function ty(n){const e=b.useRef(n);return ff(()=>{e.current=n}),e}function IV(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=n,[g,m]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,I]=b.useState(r);Vf(w,r)||I(r);const[R,T]=b.useState(null),[A,D]=b.useState(null),V=b.useCallback(W=>{W!==K.current&&(K.current=W,T(W))},[]),U=b.useCallback(W=>{W!==P.current&&(P.current=W,D(W))},[]),z=i||R,$=l||A,K=b.useRef(null),P=b.useRef(null),C=b.useRef(g),N=h!=null,M=ty(h),F=ty(s),B=ty(p),O=b.useCallback(()=>{if(!K.current||!P.current)return;const W={placement:e,strategy:t,middleware:w};F.current&&(W.platform=F.current),EV(K.current,P.current,W).then(ne=>{const X={...ne,isPositioned:B.current!==!1};Ce.current&&!Vf(C.current,X)&&(C.current=X,Nv.flushSync(()=>{m(X)}))})},[w,e,t,F,B]);ff(()=>{p===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(W=>({...W,isPositioned:!1})))},[p]);const Ce=b.useRef(!1);ff(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]),ff(()=>{if(z&&(K.current=z),$&&(P.current=$),z&&$){if(M.current)return M.current(z,$,O);O()}},[z,$,O,M,N]);const Be=b.useMemo(()=>({reference:K,floating:P,setReference:V,setFloating:U}),[V,U]),me=b.useMemo(()=>({reference:z,floating:$}),[z,$]),_e=b.useMemo(()=>{const W={position:t,left:0,top:0};if(!me.floating)return W;const ne=Tb(me.floating,g.x),X=Tb(me.floating,g.y);return u?{...W,transform:"translate("+ne+"px, "+X+"px)",...x1(me.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:X}},[t,u,me.floating,g.x,g.y]);return b.useMemo(()=>({...g,update:O,refs:Be,elements:me,floatingStyles:_e}),[g,O,Be,me,_e])}const xV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?xb({element:r.current,padding:s}).fn(t):{}:r?xb({element:r,padding:s}).fn(t):{}}}},TV=(n,e)=>({...mV(n),options:[n,e]}),CV=(n,e)=>({...gV(n),options:[n,e]}),PV=(n,e)=>({...wV(n),options:[n,e]}),AV=(n,e)=>({...yV(n),options:[n,e]}),RV=(n,e)=>({...vV(n),options:[n,e]}),kV=(n,e)=>({..._V(n),options:[n,e]}),NV=(n,e)=>({...xV(n),options:[n,e]});var DV="Arrow",T1=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return E.jsx(ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});T1.displayName=DV;var OV=T1;function Kv(n){const[e,t]=b.useState(void 0);return mo(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const h=i.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Zv="Popper",[C1,Ap]=qs(Zv),[MV,P1]=C1(Zv),A1=n=>{const{__scopePopper:e,children:t}=n,[r,s]=b.useState(null);return E.jsx(MV,{scope:e,anchor:r,onAnchorChange:s,children:t})};A1.displayName=Zv;var R1="PopperAnchor",k1=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=P1(R1,t),l=b.useRef(null),u=Et(e,l),h=b.useRef(null);return b.useEffect(()=>{const p=h.current;h.current=r?.current||l.current,p!==h.current&&i.onAnchorChange(h.current)}),r?null:E.jsx(ht.div,{...s,ref:u})});k1.displayName=R1;var Qv="PopperContent",[VV,LV]=C1(Qv),N1=b.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:w=!1,updatePositionStrategy:I="optimized",onPlaced:R,...T}=n,A=P1(Qv,t),[D,V]=b.useState(null),U=Et(e,ve=>V(ve)),[z,$]=b.useState(null),K=Kv(z),P=K?.width??0,C=K?.height??0,N=r+(i!=="center"?"-"+i:""),M=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},F=Array.isArray(p)?p:[p],B=F.length>0,O={padding:M,boundary:F.filter(jV),altBoundary:B},{refs:Ce,floatingStyles:Be,placement:me,isPositioned:_e,middlewareData:W}=IV({strategy:"fixed",placement:N,whileElementsMounted:(...ve)=>pV(...ve,{animationFrame:I==="always"}),elements:{reference:A.anchor},middleware:[TV({mainAxis:s+C,alignmentAxis:l}),h&&CV({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?PV():void 0,...O}),h&&AV({...O}),RV({...O,apply:({elements:ve,rects:Ie,availableWidth:Ge,availableHeight:Qe})=>{const{width:pe,height:St}=Ie.reference,dn=ve.floating.style;dn.setProperty("--radix-popper-available-width",`${Ge}px`),dn.setProperty("--radix-popper-available-height",`${Qe}px`),dn.setProperty("--radix-popper-anchor-width",`${pe}px`),dn.setProperty("--radix-popper-anchor-height",`${St}px`)}}),z&&NV({element:z,padding:u}),UV({arrowWidth:P,arrowHeight:C}),w&&kV({strategy:"referenceHidden",...O})]}),[ne,X]=M1(me),j=On(R);mo(()=>{_e&&j?.()},[_e,j]);const G=W.arrow?.x,oe=W.arrow?.y,ie=W.arrow?.centerOffset!==0,[he,xe]=b.useState();return mo(()=>{D&&xe(window.getComputedStyle(D).zIndex)},[D]),E.jsx("div",{ref:Ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...Be,transform:_e?Be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:E.jsx(VV,{scope:t,placedSide:ne,onArrowChange:$,arrowX:G,arrowY:oe,shouldHideArrow:ie,children:E.jsx(ht.div,{"data-side":ne,"data-align":X,...T,ref:U,style:{...T.style,animation:_e?void 0:"none"}})})})});N1.displayName=Qv;var D1="PopperArrow",FV={top:"bottom",right:"left",bottom:"top",left:"right"},O1=b.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=LV(D1,r),l=FV[i.placedSide];return E.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:E.jsx(OV,{...s,ref:t,style:{...s.style,display:"block"}})})});O1.displayName=D1;function jV(n){return n!==null}var UV=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,u=l?0:n.arrowWidth,h=l?0:n.arrowHeight,[p,g]=M1(t),m={start:"0%",center:"50%",end:"100%"}[g],w=(s.arrow?.x??0)+u/2,I=(s.arrow?.y??0)+h/2;let R="",T="";return p==="bottom"?(R=l?m:`${w}px`,T=`${-h}px`):p==="top"?(R=l?m:`${w}px`,T=`${r.floating.height+h}px`):p==="right"?(R=`${-h}px`,T=l?m:`${I}px`):p==="left"&&(R=`${r.floating.width+h}px`,T=l?m:`${I}px`),{data:{x:R,y:T}}}});function M1(n){const[e,t="center"]=n.split("-");return[e,t]}var V1=A1,L1=k1,F1=N1,j1=O1,zV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$V="VisuallyHidden",U1=b.forwardRef((n,e)=>E.jsx(ht.span,{...n,ref:e,style:{...zV,...n.style}}));U1.displayName=$V;var BV=U1,[Rp]=qs("Tooltip",[Ap]),kp=Ap(),z1="TooltipProvider",qV=700,My="tooltip.open",[HV,Yv]=Rp(z1),$1=n=>{const{__scopeTooltip:e,delayDuration:t=qV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,l=b.useRef(!0),u=b.useRef(!1),h=b.useRef(0);return b.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),E.jsx(HV,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(h.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(p=>{u.current=p},[]),disableHoverableContent:s,children:i})};$1.displayName=z1;var $u="Tooltip",[WV,cd]=Rp($u),B1=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:u}=n,h=Yv($u,n.__scopeTooltip),p=kp(e),[g,m]=b.useState(null),w=fa(),I=b.useRef(0),R=l??h.disableHoverableContent,T=u??h.delayDuration,A=b.useRef(!1),[D,V]=mc({prop:r,defaultProp:s??!1,onChange:P=>{P?(h.onOpen(),document.dispatchEvent(new CustomEvent(My))):h.onClose(),i?.(P)},caller:$u}),U=b.useMemo(()=>D?A.current?"delayed-open":"instant-open":"closed",[D]),z=b.useCallback(()=>{window.clearTimeout(I.current),I.current=0,A.current=!1,V(!0)},[V]),$=b.useCallback(()=>{window.clearTimeout(I.current),I.current=0,V(!1)},[V]),K=b.useCallback(()=>{window.clearTimeout(I.current),I.current=window.setTimeout(()=>{A.current=!0,V(!0),I.current=0},T)},[T,V]);return b.useEffect(()=>()=>{I.current&&(window.clearTimeout(I.current),I.current=0)},[]),E.jsx(V1,{...p,children:E.jsx(WV,{scope:e,contentId:w,open:D,stateAttribute:U,trigger:g,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{h.isOpenDelayedRef.current?K():z()},[h.isOpenDelayedRef,K,z]),onTriggerLeave:b.useCallback(()=>{R?$():(window.clearTimeout(I.current),I.current=0)},[$,R]),onOpen:z,onClose:$,disableHoverableContent:R,children:t})})};B1.displayName=$u;var Vy="TooltipTrigger",q1=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=cd(Vy,t),i=Yv(Vy,t),l=kp(t),u=b.useRef(null),h=Et(e,u,s.onTriggerChange),p=b.useRef(!1),g=b.useRef(!1),m=b.useCallback(()=>p.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),E.jsx(L1,{asChild:!0,...l,children:E.jsx(ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:h,onPointerMove:Le(n.onPointerMove,w=>{w.pointerType!=="touch"&&!g.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:Le(n.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:Le(n.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Le(n.onFocus,()=>{p.current||s.onOpen()}),onBlur:Le(n.onBlur,s.onClose),onClick:Le(n.onClick,s.onClose)})})});q1.displayName=Vy;var Xv="TooltipPortal",[GV,KV]=Rp(Xv,{forceMount:void 0}),H1=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:s}=n,i=cd(Xv,e);return E.jsx(GV,{scope:e,forceMount:t,children:E.jsx(Hn,{present:t||i.open,children:E.jsx(bp,{asChild:!0,container:s,children:r})})})};H1.displayName=Xv;var Ql="TooltipContent",W1=b.forwardRef((n,e)=>{const t=KV(Ql,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,l=cd(Ql,n.__scopeTooltip);return E.jsx(Hn,{present:r||l.open,children:l.disableHoverableContent?E.jsx(G1,{side:s,...i,ref:e}):E.jsx(ZV,{side:s,...i,ref:e})})}),ZV=b.forwardRef((n,e)=>{const t=cd(Ql,n.__scopeTooltip),r=Yv(Ql,n.__scopeTooltip),s=b.useRef(null),i=Et(e,s),[l,u]=b.useState(null),{trigger:h,onClose:p}=t,g=s.current,{onPointerInTransitChange:m}=r,w=b.useCallback(()=>{u(null),m(!1)},[m]),I=b.useCallback((R,T)=>{const A=R.currentTarget,D={x:R.clientX,y:R.clientY},V=eL(D,A.getBoundingClientRect()),U=tL(D,V),z=nL(T.getBoundingClientRect()),$=sL([...U,...z]);u($),m(!0)},[m]);return b.useEffect(()=>()=>w(),[w]),b.useEffect(()=>{if(h&&g){const R=A=>I(A,g),T=A=>I(A,h);return h.addEventListener("pointerleave",R),g.addEventListener("pointerleave",T),()=>{h.removeEventListener("pointerleave",R),g.removeEventListener("pointerleave",T)}}},[h,g,I,w]),b.useEffect(()=>{if(l){const R=T=>{const A=T.target,D={x:T.clientX,y:T.clientY},V=h?.contains(A)||g?.contains(A),U=!rL(D,l);V?w():U&&(w(),p())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[h,g,l,p,w]),E.jsx(G1,{...n,ref:i})}),[QV,YV]=Rp($u,{isInside:!1}),XV=qN("TooltipContent"),G1=b.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=n,h=cd(Ql,t),p=kp(t),{onClose:g}=h;return b.useEffect(()=>(document.addEventListener(My,g),()=>document.removeEventListener(My,g)),[g]),b.useEffect(()=>{if(h.trigger){const m=w=>{w.target?.contains(h.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,g]),E.jsx(Ep,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:E.jsxs(F1,{"data-state":h.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(XV,{children:r}),E.jsx(QV,{scope:t,isInside:!0,children:E.jsx(BV,{id:h.contentId,role:"tooltip",children:s||r})})]})})});W1.displayName=Ql;var K1="TooltipArrow",JV=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=kp(t);return YV(K1,t).isInside?null:E.jsx(j1,{...s,...r,ref:e})});JV.displayName=K1;function eL(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tL(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function nL(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function rL(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,g=u.y,m=h.x,w=h.y;g>r!=w>r&&t<(m-p)*(r-g)/(w-g)+p&&(s=!s)}return s}function sL(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),oL(e)}function oL(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var iL=$1,aL=B1,lL=q1,cL=H1,Z1=W1;const Ly=iL,Fy=aL,jy=lL,Lf=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>E.jsx(cL,{children:E.jsx(Z1,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Lf.displayName=Z1.displayName;const uL="sidebar_state",dL=3600*24*7,hL="12rem",Cb="18rem",fL="3rem",pL="b",Q1=b.createContext(null);function Np(){const n=b.useContext(Q1);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function mL({defaultOpen:n=!0,open:e,onOpenChange:t,className:r,style:s,children:i,...l}){const u=dD(),[h,p]=b.useState(!1),[g,m]=b.useState(n),w=e??g,I=b.useCallback(D=>{const V=typeof D=="function"?D(w):D;t?t(V):m(V),document.cookie=`${uL}=${V}; path=/; max-age=${dL}`},[t,w]),R=b.useCallback(()=>u?p(D=>!D):I(D=>!D),[u,I,p]);b.useEffect(()=>{const D=V=>{V.key===pL&&(V.metaKey||V.ctrlKey)&&(V.preventDefault(),R())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[R]);const T=w?"expanded":"collapsed",A=b.useMemo(()=>({state:T,open:w,setOpen:I,isMobile:u,openMobile:h,setOpenMobile:p,toggleSidebar:R}),[T,w,I,u,h,p,R]);return E.jsx(Q1.Provider,{value:A,children:E.jsx(Ly,{delayDuration:0,children:E.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":hL,"--sidebar-width-icon":fL,...s},className:$e("group/sidebar-wrapper flex min-h-screen w-full",r),...l,children:i})})})}function gL({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:s,...i}){const{isMobile:l,state:u,openMobile:h,setOpenMobile:p}=Np();return t==="none"?E.jsx("div",{"data-slot":"sidebar",className:$e("bg-sidebar text-sidebar-foreground flex h-full flex-col",r),style:{width:"var(--sidebar-width)"},...i,children:s}):l?E.jsx(wM,{open:h,onOpenChange:p,...i,children:E.jsxs(d1,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground p-0 [&>button]:hidden",style:{"--sidebar-width":Cb,width:Cb},side:n,children:[E.jsxs(h1,{className:"sr-only",children:[E.jsx(f1,{children:"Sidebar"}),E.jsx(p1,{children:"Displays the mobile sidebar."})]}),E.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):E.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[E.jsx("div",{"data-slot":"sidebar-gap",className:$e("relative shrink-0 bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:!w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)]"),style:{width:"var(--sidebar-width)"}}),E.jsx("div",{"data-slot":"sidebar-container",className:$e("fixed inset-y-0 z-10 hidden h-screen transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem+2px)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),style:{width:"var(--sidebar-width)"},...i,children:E.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function yL({className:n,...e}){const{toggleSidebar:t}=Np();return E.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:t,title:"Toggle Sidebar",className:$e("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","cursor-ew-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...e})}function vL({className:n,...e}){return E.jsx("main",{"data-slot":"sidebar-inset",className:$e("bg-background relative flex min-w-0 flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",n),...e})}function _L({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:$e("flex flex-col gap-2 p-2",n),...e})}function wL({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:$e("flex flex-col gap-2 p-2",n),...e})}function EL({className:n,...e}){return E.jsx(XD,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:$e("bg-sidebar-border mx-2 w-auto",n),...e})}function bL({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:$e("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function Pb({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:$e("relative flex w-full min-w-0 flex-col p-2",n),...e})}function Ab({className:n,asChild:e=!1,...t}){const r=e?vp:"div";return E.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:$e("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})}function Rb({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:$e("w-full text-sm",n),...e})}function ny({className:n,...e}){return E.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:$e("flex w-full min-w-0 flex-col gap-1",n),...e})}function Zh({className:n,...e}){return E.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:$e("group/menu-item relative",n),...e})}const SL=_p("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function ry({asChild:n=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:s,className:i,...l}){const u=n?vp:"button",{isMobile:h,state:p}=Np(),g=E.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:$e(SL({variant:t,size:r}),i),...l});return s?(typeof s=="string"&&(s={children:s}),E.jsxs(Fy,{children:[E.jsx(jy,{asChild:!0,children:g}),E.jsx(Lf,{side:"right",align:"center",hidden:p!=="collapsed"||h,...s})]})):g}function Y1(n){const e=n+"CollectionProvider",[t,r]=qs(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:A,children:D}=T,V=ce.useRef(null),U=ce.useRef(new Map).current;return E.jsx(s,{scope:A,itemMap:U,collectionRef:V,children:D})};l.displayName=e;const u=n+"CollectionSlot",h=Kl(u),p=ce.forwardRef((T,A)=>{const{scope:D,children:V}=T,U=i(u,D),z=Et(A,U.collectionRef);return E.jsx(h,{ref:z,children:V})});p.displayName=u;const g=n+"CollectionItemSlot",m="data-radix-collection-item",w=Kl(g),I=ce.forwardRef((T,A)=>{const{scope:D,children:V,...U}=T,z=ce.useRef(null),$=Et(A,z),K=i(g,D);return ce.useEffect(()=>(K.itemMap.set(z,{ref:z,...U}),()=>void K.itemMap.delete(z))),E.jsx(w,{[m]:"",ref:$,children:V})});I.displayName=g;function R(T){const A=i(n+"CollectionConsumer",T);return ce.useCallback(()=>{const V=A.collectionRef.current;if(!V)return[];const U=Array.from(V.querySelectorAll(`[${m}]`));return Array.from(A.itemMap.values()).sort((K,P)=>U.indexOf(K.ref.current)-U.indexOf(P.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:p,ItemSlot:I},R,r]}var IL=b.createContext(void 0);function Jv(n){const e=b.useContext(IL);return n||e||"ltr"}var sy="rovingFocusGroup.onEntryFocus",xL={bubbles:!1,cancelable:!0},ud="RovingFocusGroup",[Uy,X1,TL]=Y1(ud),[CL,J1]=qs(ud,[TL]),[PL,AL]=CL(ud),eT=b.forwardRef((n,e)=>E.jsx(Uy.Provider,{scope:n.__scopeRovingFocusGroup,children:E.jsx(Uy.Slot,{scope:n.__scopeRovingFocusGroup,children:E.jsx(RL,{...n,ref:e})})}));eT.displayName=ud;var RL=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=n,w=b.useRef(null),I=Et(e,w),R=Jv(i),[T,A]=mc({prop:l,defaultProp:u??null,onChange:h,caller:ud}),[D,V]=b.useState(!1),U=On(p),z=X1(t),$=b.useRef(!1),[K,P]=b.useState(0);return b.useEffect(()=>{const C=w.current;if(C)return C.addEventListener(sy,U),()=>C.removeEventListener(sy,U)},[U]),E.jsx(PL,{scope:t,orientation:r,dir:R,loop:s,currentTabStopId:T,onItemFocus:b.useCallback(C=>A(C),[A]),onItemShiftTab:b.useCallback(()=>V(!0),[]),onFocusableItemAdd:b.useCallback(()=>P(C=>C+1),[]),onFocusableItemRemove:b.useCallback(()=>P(C=>C-1),[]),children:E.jsx(ht.div,{tabIndex:D||K===0?-1:0,"data-orientation":r,...m,ref:I,style:{outline:"none",...n.style},onMouseDown:Le(n.onMouseDown,()=>{$.current=!0}),onFocus:Le(n.onFocus,C=>{const N=!$.current;if(C.target===C.currentTarget&&N&&!D){const M=new CustomEvent(sy,xL);if(C.currentTarget.dispatchEvent(M),!M.defaultPrevented){const F=z().filter(me=>me.focusable),B=F.find(me=>me.active),O=F.find(me=>me.id===T),Be=[B,O,...F].filter(Boolean).map(me=>me.ref.current);rT(Be,g)}}$.current=!1}),onBlur:Le(n.onBlur,()=>V(!1))})})}),tT="RovingFocusGroupItem",nT=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...u}=n,h=fa(),p=i||h,g=AL(tT,t),m=g.currentTabStopId===p,w=X1(t),{onFocusableItemAdd:I,onFocusableItemRemove:R,currentTabStopId:T}=g;return b.useEffect(()=>{if(r)return I(),()=>R()},[r,I,R]),E.jsx(Uy.ItemSlot,{scope:t,id:p,focusable:r,active:s,children:E.jsx(ht.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...u,ref:e,onMouseDown:Le(n.onMouseDown,A=>{r?g.onItemFocus(p):A.preventDefault()}),onFocus:Le(n.onFocus,()=>g.onItemFocus(p)),onKeyDown:Le(n.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){g.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const D=DL(A,g.orientation,g.dir);if(D!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let U=w().filter(z=>z.focusable).map(z=>z.ref.current);if(D==="last")U.reverse();else if(D==="prev"||D==="next"){D==="prev"&&U.reverse();const z=U.indexOf(A.currentTarget);U=g.loop?OL(U,z+1):U.slice(z+1)}setTimeout(()=>rT(U))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:T!=null}):l})})});nT.displayName=tT;var kL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function NL(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function DL(n,e,t){const r=NL(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return kL[r]}function rT(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function OL(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var ML=eT,VL=nT,zy=["Enter"," "],LL=["ArrowDown","PageUp","Home"],sT=["ArrowUp","PageDown","End"],FL=[...LL,...sT],jL={ltr:[...zy,"ArrowRight"],rtl:[...zy,"ArrowLeft"]},UL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dd="Menu",[Bu,zL,$L]=Y1(dd),[Ma,oT]=qs(dd,[$L,Ap,J1]),Dp=Ap(),iT=J1(),[BL,Va]=Ma(dd),[qL,hd]=Ma(dd),aT=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=n,u=Dp(e),[h,p]=b.useState(null),g=b.useRef(!1),m=On(i),w=Jv(s);return b.useEffect(()=>{const I=()=>{g.current=!0,document.addEventListener("pointerdown",R,{capture:!0,once:!0}),document.addEventListener("pointermove",R,{capture:!0,once:!0})},R=()=>g.current=!1;return document.addEventListener("keydown",I,{capture:!0}),()=>{document.removeEventListener("keydown",I,{capture:!0}),document.removeEventListener("pointerdown",R,{capture:!0}),document.removeEventListener("pointermove",R,{capture:!0})}},[]),E.jsx(V1,{...u,children:E.jsx(BL,{scope:e,open:t,onOpenChange:m,content:h,onContentChange:p,children:E.jsx(qL,{scope:e,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:w,modal:l,children:r})})})};aT.displayName=dd;var HL="MenuAnchor",e_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Dp(t);return E.jsx(L1,{...s,...r,ref:e})});e_.displayName=HL;var t_="MenuPortal",[WL,lT]=Ma(t_,{forceMount:void 0}),cT=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,i=Va(t_,e);return E.jsx(WL,{scope:e,forceMount:t,children:E.jsx(Hn,{present:t||i.open,children:E.jsx(bp,{asChild:!0,container:s,children:r})})})};cT.displayName=t_;var Vr="MenuContent",[GL,n_]=Ma(Vr),uT=b.forwardRef((n,e)=>{const t=lT(Vr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=Va(Vr,n.__scopeMenu),l=hd(Vr,n.__scopeMenu);return E.jsx(Bu.Provider,{scope:n.__scopeMenu,children:E.jsx(Hn,{present:r||i.open,children:E.jsx(Bu.Slot,{scope:n.__scopeMenu,children:l.modal?E.jsx(KL,{...s,ref:e}):E.jsx(ZL,{...s,ref:e})})})})}),KL=b.forwardRef((n,e)=>{const t=Va(Vr,n.__scopeMenu),r=b.useRef(null),s=Et(e,r);return b.useEffect(()=>{const i=r.current;if(i)return qx(i)},[]),E.jsx(r_,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Le(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),ZL=b.forwardRef((n,e)=>{const t=Va(Vr,n.__scopeMenu);return E.jsx(r_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),QL=Kl("MenuContent.ScrollLock"),r_=b.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:w,onDismiss:I,disableOutsideScroll:R,...T}=n,A=Va(Vr,t),D=hd(Vr,t),V=Dp(t),U=iT(t),z=zL(t),[$,K]=b.useState(null),P=b.useRef(null),C=Et(e,P,A.onContentChange),N=b.useRef(0),M=b.useRef(""),F=b.useRef(0),B=b.useRef(null),O=b.useRef("right"),Ce=b.useRef(0),Be=R?Ov:b.Fragment,me=R?{as:QL,allowPinchZoom:!0}:void 0,_e=ne=>{const X=M.current+ne,j=z().filter(ve=>!ve.disabled),G=document.activeElement,oe=j.find(ve=>ve.ref.current===G)?.textValue,ie=j.map(ve=>ve.textValue),he=l4(ie,X,oe),xe=j.find(ve=>ve.textValue===he)?.ref.current;(function ve(Ie){M.current=Ie,window.clearTimeout(N.current),Ie!==""&&(N.current=window.setTimeout(()=>ve(""),1e3))})(X),xe&&setTimeout(()=>xe.focus())};b.useEffect(()=>()=>window.clearTimeout(N.current),[]),Mx();const W=b.useCallback(ne=>O.current===B.current?.side&&u4(ne,B.current?.area),[]);return E.jsx(GL,{scope:t,searchRef:M,onItemEnter:b.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),onItemLeave:b.useCallback(ne=>{W(ne)||(P.current?.focus(),K(null))},[W]),onTriggerLeave:b.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),pointerGraceTimerRef:F,onPointerGraceIntentChange:b.useCallback(ne=>{B.current=ne},[]),children:E.jsx(Be,{...me,children:E.jsx(Dv,{asChild:!0,trapped:s,onMountAutoFocus:Le(i,ne=>{ne.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:E.jsx(Ep,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:w,onDismiss:I,children:E.jsx(ML,{asChild:!0,...U,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:$,onCurrentTabStopIdChange:K,onEntryFocus:Le(h,ne=>{D.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(F1,{role:"menu","aria-orientation":"vertical","data-state":TT(A.open),"data-radix-menu-content":"",dir:D.dir,...V,...T,ref:C,style:{outline:"none",...T.style},onKeyDown:Le(T.onKeyDown,ne=>{const j=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,G=ne.ctrlKey||ne.altKey||ne.metaKey,oe=ne.key.length===1;j&&(ne.key==="Tab"&&ne.preventDefault(),!G&&oe&&_e(ne.key));const ie=P.current;if(ne.target!==ie||!FL.includes(ne.key))return;ne.preventDefault();const xe=z().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);sT.includes(ne.key)&&xe.reverse(),i4(xe)}),onBlur:Le(n.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(N.current),M.current="")}),onPointerMove:Le(n.onPointerMove,qu(ne=>{const X=ne.target,j=Ce.current!==ne.clientX;if(ne.currentTarget.contains(X)&&j){const G=ne.clientX>Ce.current?"right":"left";O.current=G,Ce.current=ne.clientX}}))})})})})})})});uT.displayName=Vr;var YL="MenuGroup",s_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(ht.div,{role:"group",...r,ref:e})});s_.displayName=YL;var XL="MenuLabel",dT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(ht.div,{...r,ref:e})});dT.displayName=XL;var Ff="MenuItem",kb="menu.itemSelect",Op=b.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,i=b.useRef(null),l=hd(Ff,n.__scopeMenu),u=n_(Ff,n.__scopeMenu),h=Et(e,i),p=b.useRef(!1),g=()=>{const m=i.current;if(!t&&m){const w=new CustomEvent(kb,{bubbles:!0,cancelable:!0});m.addEventListener(kb,I=>r?.(I),{once:!0}),Rx(m,w),w.defaultPrevented?p.current=!1:l.onClose()}};return E.jsx(hT,{...s,ref:h,disabled:t,onClick:Le(n.onClick,g),onPointerDown:m=>{n.onPointerDown?.(m),p.current=!0},onPointerUp:Le(n.onPointerUp,m=>{p.current||m.currentTarget?.click()}),onKeyDown:Le(n.onKeyDown,m=>{const w=u.searchRef.current!=="";t||w&&m.key===" "||zy.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Op.displayName=Ff;var hT=b.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...i}=n,l=n_(Ff,t),u=iT(t),h=b.useRef(null),p=Et(e,h),[g,m]=b.useState(!1),[w,I]=b.useState("");return b.useEffect(()=>{const R=h.current;R&&I((R.textContent??"").trim())},[i.children]),E.jsx(Bu.ItemSlot,{scope:t,disabled:r,textValue:s??w,children:E.jsx(VL,{asChild:!0,...u,focusable:!r,children:E.jsx(ht.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:p,onPointerMove:Le(n.onPointerMove,qu(R=>{r?l.onItemLeave(R):(l.onItemEnter(R),R.defaultPrevented||R.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(n.onPointerLeave,qu(R=>l.onItemLeave(R))),onFocus:Le(n.onFocus,()=>m(!0)),onBlur:Le(n.onBlur,()=>m(!1))})})})}),JL="MenuCheckboxItem",fT=b.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return E.jsx(vT,{scope:n.__scopeMenu,checked:t,children:E.jsx(Op,{role:"menuitemcheckbox","aria-checked":jf(t)?"mixed":t,...s,ref:e,"data-state":i_(t),onSelect:Le(s.onSelect,()=>r?.(jf(t)?!0:!t),{checkForDefaultPrevented:!1})})})});fT.displayName=JL;var pT="MenuRadioGroup",[e4,t4]=Ma(pT,{value:void 0,onValueChange:()=>{}}),mT=b.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,i=On(r);return E.jsx(e4,{scope:n.__scopeMenu,value:t,onValueChange:i,children:E.jsx(s_,{...s,ref:e})})});mT.displayName=pT;var gT="MenuRadioItem",yT=b.forwardRef((n,e)=>{const{value:t,...r}=n,s=t4(gT,n.__scopeMenu),i=t===s.value;return E.jsx(vT,{scope:n.__scopeMenu,checked:i,children:E.jsx(Op,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":i_(i),onSelect:Le(r.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});yT.displayName=gT;var o_="MenuItemIndicator",[vT,n4]=Ma(o_,{checked:!1}),_T=b.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,i=n4(o_,t);return E.jsx(Hn,{present:r||jf(i.checked)||i.checked===!0,children:E.jsx(ht.span,{...s,ref:e,"data-state":i_(i.checked)})})});_T.displayName=o_;var r4="MenuSeparator",wT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(ht.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});wT.displayName=r4;var s4="MenuArrow",ET=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Dp(t);return E.jsx(j1,{...s,...r,ref:e})});ET.displayName=s4;var o4="MenuSub",[LH,bT]=Ma(o4),Su="MenuSubTrigger",ST=b.forwardRef((n,e)=>{const t=Va(Su,n.__scopeMenu),r=hd(Su,n.__scopeMenu),s=bT(Su,n.__scopeMenu),i=n_(Su,n.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=i,p={__scopeMenu:n.__scopeMenu},g=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>g,[g]),b.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),h(null)}},[u,h]),E.jsx(e_,{asChild:!0,...p,children:E.jsx(hT,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":TT(t.open),...n,ref:yp(e,s.onTriggerChange),onClick:m=>{n.onClick?.(m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Le(n.onPointerMove,qu(m=>{i.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),g()},100))})),onPointerLeave:Le(n.onPointerLeave,qu(m=>{g();const w=t.content?.getBoundingClientRect();if(w){const I=t.content?.dataset.side,R=I==="right",T=R?-5:5,A=w[R?"left":"right"],D=w[R?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+T,y:m.clientY},{x:A,y:w.top},{x:D,y:w.top},{x:D,y:w.bottom},{x:A,y:w.bottom}],side:I}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Le(n.onKeyDown,m=>{const w=i.searchRef.current!=="";n.disabled||w&&m.key===" "||jL[r.dir].includes(m.key)&&(t.onOpenChange(!0),t.content?.focus(),m.preventDefault())})})})});ST.displayName=Su;var IT="MenuSubContent",xT=b.forwardRef((n,e)=>{const t=lT(Vr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=Va(Vr,n.__scopeMenu),l=hd(Vr,n.__scopeMenu),u=bT(IT,n.__scopeMenu),h=b.useRef(null),p=Et(e,h);return E.jsx(Bu.Provider,{scope:n.__scopeMenu,children:E.jsx(Hn,{present:r||i.open,children:E.jsx(Bu.Slot,{scope:n.__scopeMenu,children:E.jsx(r_,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&h.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Le(n.onFocusOutside,g=>{g.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Le(n.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:Le(n.onKeyDown,g=>{const m=g.currentTarget.contains(g.target),w=UL[l.dir].includes(g.key);m&&w&&(i.onOpenChange(!1),u.trigger?.focus(),g.preventDefault())})})})})})});xT.displayName=IT;function TT(n){return n?"open":"closed"}function jf(n){return n==="indeterminate"}function i_(n){return jf(n)?"indeterminate":n?"checked":"unchecked"}function i4(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function a4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function l4(n,e,t){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let l=a4(n,Math.max(i,0));s.length===1&&(l=l.filter(p=>p!==t));const h=l.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return h!==t?h:void 0}function c4(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,g=u.y,m=h.x,w=h.y;g>r!=w>r&&t<(m-p)*(r-g)/(w-g)+p&&(s=!s)}return s}function u4(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return c4(t,e)}function qu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var d4=aT,h4=e_,f4=cT,p4=uT,m4=s_,g4=dT,y4=Op,v4=fT,_4=mT,w4=yT,E4=_T,b4=wT,S4=ET,I4=ST,x4=xT,Mp="DropdownMenu",[T4]=qs(Mp,[oT]),Wn=oT(),[C4,CT]=T4(Mp),PT=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=n,h=Wn(e),p=b.useRef(null),[g,m]=mc({prop:s,defaultProp:i??!1,onChange:l,caller:Mp});return E.jsx(C4,{scope:e,triggerId:fa(),triggerRef:p,contentId:fa(),open:g,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(w=>!w),[m]),modal:u,children:E.jsx(d4,{...h,open:g,onOpenChange:m,dir:r,modal:u,children:t})})};PT.displayName=Mp;var AT="DropdownMenuTrigger",RT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,i=CT(AT,t),l=Wn(t);return E.jsx(h4,{asChild:!0,...l,children:E.jsx(ht.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:yp(e,i.triggerRef),onPointerDown:Le(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:Le(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});RT.displayName=AT;var P4="DropdownMenuPortal",kT=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Wn(e);return E.jsx(f4,{...r,...t})};kT.displayName=P4;var NT="DropdownMenuContent",DT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=CT(NT,t),i=Wn(t),l=b.useRef(!1);return E.jsx(p4,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Le(n.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Le(n.onInteractOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,g=h.button===2||p;(!s.modal||g)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DT.displayName=NT;var A4="DropdownMenuGroup",R4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(m4,{...s,...r,ref:e})});R4.displayName=A4;var k4="DropdownMenuLabel",OT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(g4,{...s,...r,ref:e})});OT.displayName=k4;var N4="DropdownMenuItem",MT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(y4,{...s,...r,ref:e})});MT.displayName=N4;var D4="DropdownMenuCheckboxItem",VT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(v4,{...s,...r,ref:e})});VT.displayName=D4;var O4="DropdownMenuRadioGroup",M4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(_4,{...s,...r,ref:e})});M4.displayName=O4;var V4="DropdownMenuRadioItem",LT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(w4,{...s,...r,ref:e})});LT.displayName=V4;var L4="DropdownMenuItemIndicator",FT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(E4,{...s,...r,ref:e})});FT.displayName=L4;var F4="DropdownMenuSeparator",jT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(b4,{...s,...r,ref:e})});jT.displayName=F4;var j4="DropdownMenuArrow",U4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(S4,{...s,...r,ref:e})});U4.displayName=j4;var z4="DropdownMenuSubTrigger",UT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(I4,{...s,...r,ref:e})});UT.displayName=z4;var $4="DropdownMenuSubContent",zT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(x4,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zT.displayName=$4;var B4=PT,q4=RT,H4=kT,$T=DT,BT=OT,qT=MT,HT=VT,WT=LT,GT=FT,KT=jT,ZT=UT,QT=zT;const YT=B4,XT=q4,W4=b.forwardRef(({className:n,inset:e,children:t,...r},s)=>E.jsxs(ZT,{ref:s,className:$e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,E.jsx(s2,{className:"ml-auto"})]}));W4.displayName=ZT.displayName;const G4=b.forwardRef(({className:n,...e},t)=>E.jsx(QT,{ref:t,className:$e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));G4.displayName=QT.displayName;const a_=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>E.jsx(H4,{children:E.jsx($T,{ref:r,sideOffset:e,className:$e("z-[100] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));a_.displayName=$T.displayName;const Hu=b.forwardRef(({className:n,inset:e,...t},r)=>E.jsx(qT,{ref:r,className:$e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));Hu.displayName=qT.displayName;const K4=b.forwardRef(({className:n,children:e,checked:t,...r},s)=>E.jsxs(HT,{ref:s,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(GT,{children:E.jsx(gx,{className:"h-4 w-4"})})}),e]}));K4.displayName=HT.displayName;const Z4=b.forwardRef(({className:n,children:e,...t},r)=>E.jsxs(WT,{ref:r,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(GT,{children:E.jsx(u2,{className:"h-2 w-2 fill-current"})})}),e]}));Z4.displayName=WT.displayName;const l_=b.forwardRef(({className:n,inset:e,...t},r)=>E.jsx(BT,{ref:r,className:$e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));l_.displayName=BT.displayName;const c_=b.forwardRef(({className:n,...e},t)=>E.jsx(KT,{ref:t,className:$e("-mx-1 my-1 h-px bg-muted",n),...e}));c_.displayName=KT.displayName;function JT(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Vp="Switch",[Q4]=qs(Vp),[Y4,X4]=Q4(Vp),eC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h="on",onCheckedChange:p,form:g,...m}=n,[w,I]=b.useState(null),R=Et(e,U=>I(U)),T=b.useRef(!1),A=w?g||!!w.closest("form"):!0,[D,V]=mc({prop:s,defaultProp:i??!1,onChange:p,caller:Vp});return E.jsxs(Y4,{scope:t,checked:D,disabled:u,children:[E.jsx(ht.button,{type:"button",role:"switch","aria-checked":D,"aria-required":l,"data-state":sC(D),"data-disabled":u?"":void 0,disabled:u,value:h,...m,ref:R,onClick:Le(n.onClick,U=>{V(z=>!z),A&&(T.current=U.isPropagationStopped(),T.current||U.stopPropagation())})}),A&&E.jsx(rC,{control:w,bubbles:!T.current,name:r,value:h,checked:D,required:l,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});eC.displayName=Vp;var tC="SwitchThumb",nC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,s=X4(tC,t);return E.jsx(ht.span,{"data-state":sC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});nC.displayName=tC;var J4="SwitchBubbleInput",rC=b.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...s},i)=>{const l=b.useRef(null),u=Et(l,i),h=JT(t),p=Kv(e);return b.useEffect(()=>{const g=l.current;if(!g)return;const m=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==t&&I){const R=new Event("click",{bubbles:r});I.call(g,t),g.dispatchEvent(R)}},[h,t,r]),E.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:u,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rC.displayName=J4;function sC(n){return n?"checked":"unchecked"}var oC=eC,e5=nC;const iC=b.forwardRef(({className:n,...e},t)=>E.jsx(oC,{className:$e("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:E.jsx(e5,{className:$e("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));iC.displayName=oC.displayName;const aC=b.createContext(void 0),ti="wms_auth_user",fu="wms_remember_me",lC="wms_users",t5=[{id:"0",email:"owner@wms.com",password:"owner123",name:"System Owner",role:"Owner",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"1",email:"admin@wms.com",password:"admin123",name:"Admin User",role:"Admin",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"2",email:"operator@wms.com",password:"operator123",name:"Operator User",role:"Operator",status:"Active",createdAt:"2024-01-15T00:00:00Z"}];function tr(){try{const n=localStorage.getItem(lC);if(n)return JSON.parse(n)}catch(n){console.error("Error reading users from storage:",n)}return[]}function Cs(n){localStorage.setItem(lC,JSON.stringify(n))}function n5(){tr().length===0&&Cs(t5)}function r5({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(!0);b.useEffect(()=>{n5()},[]),b.useEffect(()=>{(async()=>{try{const U=localStorage.getItem(ti),z=localStorage.getItem(fu);if(U&&z==="true"){const $=JSON.parse(U),P=tr().find(C=>C.id===$.id);P&&P.status==="Active"&&t({id:P.id,email:P.email,name:P.name,role:P.role,status:P.status,createdAt:P.createdAt,lastLogin:P.lastLogin})}else{const $=sessionStorage.getItem(ti);if($){const K=JSON.parse($),C=tr().find(N=>N.id===K.id);C&&C.status==="Active"&&t({id:C.id,email:C.email,name:C.name,role:C.role,status:C.status,createdAt:C.createdAt,lastLogin:C.lastLogin})}}}catch(U){console.error("Error checking authentication:",U)}finally{s(!1)}})()},[]);const i=async(V,U,z=!1)=>{await new Promise(M=>setTimeout(M,1e3));const $=tr(),K=$.find(M=>M.email.toLowerCase()===V.toLowerCase());if(!K)throw new Error("NO_ACCOUNT:No account found with this email address. Would you like to create one?");if(K.password!==U)throw new Error("WRONG_PASSWORD:Incorrect password. Please try again.");const P=K;if(P.status==="Pending")throw new Error("PENDING:Your account is pending approval. Please wait for an administrator to approve your account.");if(P.status==="Inactive")throw new Error("INACTIVE:Your account has been deactivated. Please contact an administrator.");const C=$.map(M=>M.id===P.id?{...M,lastLogin:new Date().toISOString()}:M);Cs(C);const N={id:P.id,email:P.email,name:P.name,role:P.role,status:P.status,createdAt:P.createdAt,lastLogin:new Date().toISOString()};t(N),z?(localStorage.setItem(ti,JSON.stringify(N)),localStorage.setItem(fu,"true")):(sessionStorage.setItem(ti,JSON.stringify(N)),localStorage.removeItem(fu))},l=async(V,U,z)=>{await new Promise(P=>setTimeout(P,1e3));const $=tr();if($.some(P=>P.email.toLowerCase()===V.toLowerCase()))throw new Error("An account with this email already exists");const K={id:`user_${Date.now()}`,email:V,password:U,name:z,role:"Operator",status:"Pending",createdAt:new Date().toISOString()};Cs([...$,K])},u=()=>{t(null),localStorage.removeItem(ti),localStorage.removeItem(fu),sessionStorage.removeItem(ti)},h=b.useCallback(()=>tr(),[]),p=b.useCallback(()=>tr().filter(V=>V.status==="Pending"),[]),g=b.useCallback(V=>{const z=tr().map($=>$.id===V?{...$,status:"Active"}:$);Cs(z)},[]),m=b.useCallback(V=>{const z=tr().filter($=>$.id!==V);Cs(z)},[]),w=b.useCallback((V,U)=>{const $=tr().map(K=>K.id===V?{...K,role:U}:K);Cs($),e&&e.id===V&&t({...e,role:U})},[e]),I=b.useCallback((V,U)=>{const $=tr().map(K=>K.id===V?{...K,status:U}:K);Cs($),e&&e.id===V&&U!=="Active"&&u()},[e]),R=b.useCallback(V=>{const z=tr().filter($=>$.id!==V);Cs(z),e&&e.id===V&&u()},[e]),T=b.useCallback(V=>{if(!e)return;const z=tr().map(P=>P.id===e.id?{...P,...V}:P);Cs(z);const $={...e,...V};t($),localStorage.getItem(fu)==="true"?localStorage.setItem(ti,JSON.stringify($)):sessionStorage.setItem(ti,JSON.stringify($))},[e]),A=b.useCallback(async(V,U)=>{if(!e)throw new Error("Not authenticated");await new Promise(P=>setTimeout(P,500));const z=tr(),$=z.find(P=>P.id===e.id);if(!$||$.password!==V)throw new Error("Current password is incorrect");const K=z.map(P=>P.id===e.id?{...P,password:U}:P);Cs(K)},[e]),D={user:e,isAuthenticated:!!e,isLoading:r,login:i,logout:u,register:l,getAllUsers:h,getPendingUsers:p,approveUser:g,rejectUser:m,updateUserRole:w,updateUserStatus:I,deleteUser:R,updateProfile:T,changePassword:A};return E.jsx(aC.Provider,{value:D,children:n})}function fd(){const n=b.useContext(aC);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}var s5=(n,e,t,r,s,i,l,u)=>{let h=document.documentElement,p=["light","dark"];function g(I){(Array.isArray(n)?n:[n]).forEach(R=>{let T=R==="class",A=T&&i?s.map(D=>i[D]||D):s;T?(h.classList.remove(...A),h.classList.add(i&&i[I]?i[I]:I)):h.setAttribute(R,I)}),m(I)}function m(I){u&&p.includes(I)&&(h.style.colorScheme=I)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let I=localStorage.getItem(e)||t,R=l&&I==="system"?w():I;g(R)}catch{}},Nb=["light","dark"],cC="(prefers-color-scheme: dark)",o5=typeof window>"u",u_=b.createContext(void 0),i5={setTheme:n=>{},themes:[]},uC=()=>{var n;return(n=b.useContext(u_))!=null?n:i5},a5=n=>b.useContext(u_)?b.createElement(b.Fragment,null,n.children):b.createElement(c5,{...n}),l5=["light","dark"],c5=({forcedTheme:n,disableTransitionOnChange:e=!1,enableSystem:t=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=l5,defaultTheme:l=t?"system":"light",attribute:u="data-theme",value:h,children:p,nonce:g,scriptProps:m})=>{let[w,I]=b.useState(()=>d5(s,l)),[R,T]=b.useState(()=>w==="system"?oy():w),A=h?Object.values(h):i,D=b.useCallback($=>{let K=$;if(!K)return;$==="system"&&t&&(K=oy());let P=h?h[K]:K,C=e?h5(g):null,N=document.documentElement,M=F=>{F==="class"?(N.classList.remove(...A),P&&N.classList.add(P)):F.startsWith("data-")&&(P?N.setAttribute(F,P):N.removeAttribute(F))};if(Array.isArray(u)?u.forEach(M):M(u),r){let F=Nb.includes(l)?l:null,B=Nb.includes(K)?K:F;N.style.colorScheme=B}C?.()},[g]),V=b.useCallback($=>{let K=typeof $=="function"?$(w):$;I(K);try{localStorage.setItem(s,K)}catch{}},[w]),U=b.useCallback($=>{let K=oy($);T(K),w==="system"&&t&&!n&&D("system")},[w,n]);b.useEffect(()=>{let $=window.matchMedia(cC);return $.addListener(U),U($),()=>$.removeListener(U)},[U]),b.useEffect(()=>{let $=K=>{K.key===s&&(K.newValue?I(K.newValue):V(l))};return window.addEventListener("storage",$),()=>window.removeEventListener("storage",$)},[V]),b.useEffect(()=>{D(n??w)},[n,w]);let z=b.useMemo(()=>({theme:w,setTheme:V,forcedTheme:n,resolvedTheme:w==="system"?R:w,themes:t?[...i,"system"]:i,systemTheme:t?R:void 0}),[w,V,n,R,t,i]);return b.createElement(u_.Provider,{value:z},b.createElement(u5,{forcedTheme:n,storageKey:s,attribute:u,enableSystem:t,enableColorScheme:r,defaultTheme:l,value:h,themes:i,nonce:g,scriptProps:m}),p)},u5=b.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:l,themes:u,nonce:h,scriptProps:p})=>{let g=JSON.stringify([t,e,i,n,u,l,r,s]).slice(1,-1);return b.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${s5.toString()})(${g})`}})}),d5=(n,e)=>{if(o5)return;let t;try{t=localStorage.getItem(n)||void 0}catch{}return t||e},h5=n=>{let e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},oy=n=>(n||(n=window.matchMedia(cC)),n.matches?"dark":"light");function f5({currentView:n,setCurrentView:e}){const{user:t}=fd(),{state:r,toggleSidebar:s}=Np(),{theme:i,setTheme:l}=uC(),u=r==="collapsed",[h,p]=b.useState(!0),g=[{id:"dashboard",label:"Dashboard",icon:x2},{id:"inventory",label:"Inventory",icon:wp},{id:"purchase-orders",label:"Purchase Orders",icon:Pv},{id:"sales-orders",label:"Sales Orders",icon:U2},{id:"shipments",label:"Shipments",icon:Av},{id:"suppliers",label:"Suppliers",icon:E2},{id:"customers",label:"Customers",icon:rD},{id:"cash-bank",label:"Cash and Bank",icon:S2},{id:"payments",label:"Payments",icon:aD}],m=[{id:"users",label:"User Management",icon:Z2}],w=()=>{window.location.reload()};return E.jsxs(gL,{collapsible:"icon",children:[E.jsx(_L,{className:"h-14 border-b border-sidebar-border px-3 flex items-center",children:E.jsx(Ly,{children:E.jsxs(Fy,{children:[E.jsx(jy,{asChild:!0,children:E.jsxs("button",{onClick:w,className:"flex items-center gap-2 justify-start group-data-[collapsible=icon]:justify-center w-full cursor-pointer","aria-label":"Refresh application",children:[E.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary hover:bg-primary/90 transition-colors",children:E.jsx(cD,{className:"h-5 w-5 text-primary-foreground"})}),E.jsx("span",{className:"font-semibold text-sidebar-foreground group-data-[collapsible=icon]:hidden",children:"WMS"})]})}),E.jsx(Lf,{side:"right",children:E.jsx("p",{children:"Refresh Application"})})]})})}),E.jsxs(bL,{children:[E.jsxs(Pb,{children:[E.jsx(Ab,{children:"Management"}),E.jsx(Rb,{children:E.jsx(ny,{children:g.map(I=>E.jsx(Zh,{children:E.jsxs(ry,{onClick:()=>e(I.id),isActive:n===I.id,tooltip:I.label,children:[E.jsx(I.icon,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:I.label})]})},I.id))})})]}),t?.role==="Admin"&&E.jsxs(Pb,{children:[E.jsx(Ab,{children:"Administration"}),E.jsx(Rb,{children:E.jsx(ny,{children:m.map(I=>E.jsx(Zh,{children:E.jsxs(ry,{onClick:()=>e(I.id),isActive:n===I.id,tooltip:I.label,children:[E.jsx(I.icon,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:I.label})]})},I.id))})})]})]}),E.jsx(wL,{className:"border-t border-sidebar-border p-2",children:E.jsxs(ny,{children:[E.jsx(Zh,{children:E.jsxs(YT,{modal:!1,children:[E.jsx(Ly,{children:E.jsxs(Fy,{children:[E.jsx(jy,{asChild:!0,children:E.jsx(XT,{asChild:!0,children:E.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground transition-colors",children:[E.jsx(G2,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden flex-1 text-left",children:"Settings"}),E.jsx(i2,{className:"h-4 w-4 shrink-0 group-data-[collapsible=icon]:hidden"})]})})}),E.jsx(Lf,{side:"right",className:"group-data-[collapsible=icon]:block hidden",children:"Settings"})]})}),E.jsxs(a_,{side:u?"right":"top",align:"start",className:"w-56",sideOffset:8,children:[E.jsx(l_,{children:"Settings"}),E.jsx(c_,{}),E.jsxs(Hu,{onSelect:I=>I.preventDefault(),className:"flex items-center justify-between cursor-pointer",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(JN,{className:"h-4 w-4"}),E.jsx("span",{children:"Notifications"})]}),E.jsx(iC,{checked:h,onCheckedChange:p})]}),E.jsxs(Hu,{onSelect:()=>l(i==="dark"?"light":"dark"),className:"cursor-pointer",children:[i==="dark"?E.jsx(X2,{className:"mr-2 h-4 w-4"}):E.jsx(D2,{className:"mr-2 h-4 w-4"}),i==="dark"?"Light Mode":"Dark Mode"]})]})]})}),E.jsx(EL,{className:"my-1"}),E.jsx(Zh,{children:E.jsxs(ry,{onClick:s,tooltip:u?"Expand Sidebar":"Collapse Sidebar",children:[u?E.jsx(F2,{className:"h-4 w-4 shrink-0"}):E.jsx(V2,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Collapse"})]})})]})}),E.jsx(yL,{})]})}function p5(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const m5=n=>{switch(n){case"success":return v5;case"info":return w5;case"warning":return _5;case"error":return E5;default:return null}},g5=Array(12).fill(0),y5=({visible:n,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ce.createElement("div",{className:"sonner-spinner"},g5.map((t,r)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),v5=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_5=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),w5=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),E5=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),b5=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),S5=()=>{const[n,e]=ce.useState(document.hidden);return ce.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let $y=1;class I5{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:$y++,l=this.toasts.find(h=>h.id===i),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(h=>h.id===i?(this.publish({...h,...e,id:i,title:r}),{...h,...e,id:i,dismissible:u,title:r}):h):this.addToast({title:r,...s,dismissible:u,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,l;const u=s.then(async p=>{if(l=["resolve",p],ce.isValidElement(p))i=!1,this.create({id:r,type:"default",message:p});else if(T5(p)&&!p.ok){i=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,R=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:w,...R})}else if(p instanceof Error){i=!1;const m=typeof t.error=="function"?await t.error(p):t.error,w=typeof t.description=="function"?await t.description(p):t.description,R=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:w,...R})}else if(t.success!==void 0){i=!1;const m=typeof t.success=="function"?await t.success(p):t.success,w=typeof t.description=="function"?await t.description(p):t.description,R=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:w,...R})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){i=!1;const g=typeof t.error=="function"?await t.error(p):t.error,m=typeof t.description=="function"?await t.description(p):t.description,I=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:m,...I})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,g)=>u.then(()=>l[0]==="reject"?g(l[1]):p(l[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,t)=>{const r=t?.id||$y++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const nr=new I5,x5=(n,e)=>{const t=e?.id||$y++;return nr.addToast({title:n,...e,id:t}),t},T5=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",C5=x5,P5=()=>nr.toasts,A5=()=>nr.getActiveToasts(),Jr=Object.assign(C5,{success:nr.success,info:nr.info,warning:nr.warning,error:nr.error,custom:nr.custom,message:nr.message,promise:nr.promise,dismiss:nr.dismiss,loading:nr.loading},{getHistory:P5,getToasts:A5});p5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qh(n){return n.label!==void 0}const R5=3,k5="24px",N5="16px",Db=4e3,D5=356,O5=14,M5=45,V5=200;function Ts(...n){return n.filter(Boolean).join(" ")}function L5(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const F5=n=>{var e,t,r,s,i,l,u,h,p;const{invert:g,toast:m,unstyled:w,interacting:I,setHeights:R,visibleToasts:T,heights:A,index:D,toasts:V,expanded:U,removeToast:z,defaultRichColors:$,closeButton:K,style:P,cancelButtonStyle:C,actionButtonStyle:N,className:M="",descriptionClassName:F="",duration:B,position:O,gap:Ce,expandByDefault:Be,classNames:me,icons:_e,closeButtonAriaLabel:W="Close toast"}=n,[ne,X]=ce.useState(null),[j,G]=ce.useState(null),[oe,ie]=ce.useState(!1),[he,xe]=ce.useState(!1),[ve,Ie]=ce.useState(!1),[Ge,Qe]=ce.useState(!1),[pe,St]=ce.useState(!1),[dn,is]=ce.useState(0),[$a,Gs]=ce.useState(0),or=ce.useRef(m.duration||B||Db),Co=ce.useRef(null),gt=ce.useRef(null),Vt=D===0,ir=D+1<=T,sn=m.type,br=m.dismissible!==!1,Ba=m.className||"",as=m.descriptionClassName||"",ls=ce.useMemo(()=>A.findIndex(qe=>qe.toastId===m.id)||0,[A,m.id]),Po=ce.useMemo(()=>{var qe;return(qe=m.closeButton)!=null?qe:K},[m.closeButton,K]),Ur=ce.useMemo(()=>m.duration||B||Db,[m.duration,B]),Ao=ce.useRef(0),Gn=ce.useRef(0),zr=ce.useRef(0),$r=ce.useRef(null),[cs,Ro]=O.split("-"),ko=ce.useMemo(()=>A.reduce((qe,It,qt)=>qt>=ls?qe:qe+It.height,0),[A,ls]),Kn=S5(),No=m.invert||g,Sr=sn==="loading";Gn.current=ce.useMemo(()=>ls*Ce+ko,[ls,ko]),ce.useEffect(()=>{or.current=Ur},[Ur]),ce.useEffect(()=>{ie(!0)},[]),ce.useEffect(()=>{const qe=gt.current;if(qe){const It=qe.getBoundingClientRect().height;return Gs(It),R(qt=>[{toastId:m.id,height:It,position:m.position},...qt]),()=>R(qt=>qt.filter(hn=>hn.toastId!==m.id))}},[R,m.id]),ce.useLayoutEffect(()=>{if(!oe)return;const qe=gt.current,It=qe.style.height;qe.style.height="auto";const qt=qe.getBoundingClientRect().height;qe.style.height=It,Gs(qt),R(hn=>hn.find(zt=>zt.toastId===m.id)?hn.map(zt=>zt.toastId===m.id?{...zt,height:qt}:zt):[{toastId:m.id,height:qt,position:m.position},...hn])},[oe,m.title,m.description,R,m.id,m.jsx,m.action,m.cancel]);const Fn=ce.useCallback(()=>{xe(!0),is(Gn.current),R(qe=>qe.filter(It=>It.toastId!==m.id)),setTimeout(()=>{z(m)},V5)},[m,z,R,Gn]);ce.useEffect(()=>{if(m.promise&&sn==="loading"||m.duration===1/0||m.type==="loading")return;let qe;return U||I||Kn?(()=>{if(zr.current<Ao.current){const hn=new Date().getTime()-Ao.current;or.current=or.current-hn}zr.current=new Date().getTime()})():(()=>{or.current!==1/0&&(Ao.current=new Date().getTime(),qe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Fn()},or.current))})(),()=>clearTimeout(qe)},[U,I,m,sn,Kn,Fn]),ce.useEffect(()=>{m.delete&&(Fn(),m.onDismiss==null||m.onDismiss.call(m,m))},[Fn,m.delete]);function Br(){var qe;if(_e?.loading){var It;return ce.createElement("div",{className:Ts(me?.loader,m==null||(It=m.classNames)==null?void 0:It.loader,"sonner-loader"),"data-visible":sn==="loading"},_e.loading)}return ce.createElement(y5,{className:Ts(me?.loader,m==null||(qe=m.classNames)==null?void 0:qe.loader),visible:sn==="loading"})}const qr=m.icon||_e?.[sn]||m5(sn);var Pt,Do;return ce.createElement("li",{tabIndex:0,ref:gt,className:Ts(M,Ba,me?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,me?.default,me?.[sn],m==null||(t=m.classNames)==null?void 0:t[sn]),"data-sonner-toast":"","data-rich-colors":(Pt=m.richColors)!=null?Pt:$,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":oe,"data-promise":!!m.promise,"data-swiped":pe,"data-removed":he,"data-visible":ir,"data-y-position":cs,"data-x-position":Ro,"data-index":D,"data-front":Vt,"data-swiping":ve,"data-dismissible":br,"data-type":sn,"data-invert":No,"data-swipe-out":Ge,"data-swipe-direction":j,"data-expanded":!!(U||Be&&oe),"data-testid":m.testId,style:{"--index":D,"--toasts-before":D,"--z-index":V.length-D,"--offset":`${he?dn:Gn.current}px`,"--initial-height":Be?"auto":`${$a}px`,...P,...m.style},onDragEnd:()=>{Ie(!1),X(null),$r.current=null},onPointerDown:qe=>{qe.button!==2&&(Sr||!br||(Co.current=new Date,is(Gn.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(Ie(!0),$r.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,It,qt;if(Ge||!br)return;$r.current=null;const hn=Number(((qe=gt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jn=Number(((It=gt.current)==null?void 0:It.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),zt=new Date().getTime()-((qt=Co.current)==null?void 0:qt.getTime()),Qt=ne==="x"?hn:jn,ar=Math.abs(Qt)/zt;if(Math.abs(Qt)>=M5||ar>.11){is(Gn.current),m.onDismiss==null||m.onDismiss.call(m,m),G(ne==="x"?hn>0?"right":"left":jn>0?"down":"up"),Fn(),Qe(!0);return}else{var Yt,Tn;(Yt=gt.current)==null||Yt.style.setProperty("--swipe-amount-x","0px"),(Tn=gt.current)==null||Tn.style.setProperty("--swipe-amount-y","0px")}St(!1),Ie(!1),X(null)},onPointerMove:qe=>{var It,qt,hn;if(!$r.current||!br||((It=window.getSelection())==null?void 0:It.toString().length)>0)return;const zt=qe.clientY-$r.current.y,Qt=qe.clientX-$r.current.x;var ar;const Yt=(ar=n.swipeDirections)!=null?ar:L5(O);!ne&&(Math.abs(Qt)>1||Math.abs(zt)>1)&&X(Math.abs(Qt)>Math.abs(zt)?"x":"y");let Tn={x:0,y:0};const Ir=fn=>1/(1.5+Math.abs(fn)/20);if(ne==="y"){if(Yt.includes("top")||Yt.includes("bottom"))if(Yt.includes("top")&&zt<0||Yt.includes("bottom")&&zt>0)Tn.y=zt;else{const fn=zt*Ir(zt);Tn.y=Math.abs(fn)<Math.abs(zt)?fn:zt}}else if(ne==="x"&&(Yt.includes("left")||Yt.includes("right")))if(Yt.includes("left")&&Qt<0||Yt.includes("right")&&Qt>0)Tn.x=Qt;else{const fn=Qt*Ir(Qt);Tn.x=Math.abs(fn)<Math.abs(Qt)?fn:Qt}(Math.abs(Tn.x)>0||Math.abs(Tn.y)>0)&&St(!0),(qt=gt.current)==null||qt.style.setProperty("--swipe-amount-x",`${Tn.x}px`),(hn=gt.current)==null||hn.style.setProperty("--swipe-amount-y",`${Tn.y}px`)}},Po&&!m.jsx&&sn!=="loading"?ce.createElement("button",{"aria-label":W,"data-disabled":Sr,"data-close-button":!0,onClick:Sr||!br?()=>{}:()=>{Fn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Ts(me?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Do=_e?.close)!=null?Do:b5):null,(sn||m.icon||m.promise)&&m.icon!==null&&(_e?.[sn]!==null||m.icon)?ce.createElement("div",{"data-icon":"",className:Ts(me?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Br():null,m.type!=="loading"?qr:null):null,ce.createElement("div",{"data-content":"",className:Ts(me?.content,m==null||(i=m.classNames)==null?void 0:i.content)},ce.createElement("div",{"data-title":"",className:Ts(me?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ce.createElement("div",{"data-description":"",className:Ts(F,as,me?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),ce.isValidElement(m.cancel)?m.cancel:m.cancel&&Qh(m.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||C,onClick:qe=>{Qh(m.cancel)&&br&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,qe),Fn())},className:Ts(me?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,ce.isValidElement(m.action)?m.action:m.action&&Qh(m.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||N,onClick:qe=>{Qh(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,qe),!qe.defaultPrevented&&Fn())},className:Ts(me?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function Ob(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function j5(n,e){const t={};return[n,e].forEach((r,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",u=i?N5:k5;function h(p){["top","right","bottom","left"].forEach(g=>{t[`${l}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=u:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(u)}),t}const U5=ce.forwardRef(function(e,t){const{id:r,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:h,className:p,offset:g,mobileOffset:m,theme:w="light",richColors:I,duration:R,style:T,visibleToasts:A=R5,toastOptions:D,dir:V=Ob(),gap:U=O5,icons:z,containerAriaLabel:$="Notifications"}=e,[K,P]=ce.useState([]),C=ce.useMemo(()=>r?K.filter(oe=>oe.toasterId===r):K.filter(oe=>!oe.toasterId),[K,r]),N=ce.useMemo(()=>Array.from(new Set([i].concat(C.filter(oe=>oe.position).map(oe=>oe.position)))),[C,i]),[M,F]=ce.useState([]),[B,O]=ce.useState(!1),[Ce,Be]=ce.useState(!1),[me,_e]=ce.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=ce.useRef(null),ne=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=ce.useRef(null),j=ce.useRef(!1),G=ce.useCallback(oe=>{P(ie=>{var he;return(he=ie.find(xe=>xe.id===oe.id))!=null&&he.delete||nr.dismiss(oe.id),ie.filter(({id:xe})=>xe!==oe.id)})},[]);return ce.useEffect(()=>nr.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{P(ie=>ie.map(he=>he.id===oe.id?{...he,delete:!0}:he))});return}setTimeout(()=>{Ax.flushSync(()=>{P(ie=>{const he=ie.findIndex(xe=>xe.id===oe.id);return he!==-1?[...ie.slice(0,he),{...ie[he],...oe},...ie.slice(he+1)]:[oe,...ie]})})})}),[K]),ce.useEffect(()=>{if(w!=="system"){_e(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_e("dark"):_e("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:ie})=>{_e(ie?"dark":"light")})}catch{oe.addListener(({matches:he})=>{try{_e(he?"dark":"light")}catch(xe){console.error(xe)}})}},[w]),ce.useEffect(()=>{K.length<=1&&O(!1)},[K]),ce.useEffect(()=>{const oe=ie=>{var he;if(l.every(Ie=>ie[Ie]||ie.code===Ie)){var ve;O(!0),(ve=W.current)==null||ve.focus()}ie.code==="Escape"&&(document.activeElement===W.current||(he=W.current)!=null&&he.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[l]),ce.useEffect(()=>{if(W.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,j.current=!1)}},[W.current]),ce.createElement("section",{ref:t,"aria-label":`${$} ${ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((oe,ie)=>{var he;const[xe,ve]=oe.split("-");return C.length?ce.createElement("ol",{key:oe,dir:V==="auto"?Ob():V,tabIndex:-1,ref:W,className:p,"data-sonner-toaster":!0,"data-sonner-theme":me,"data-y-position":xe,"data-x-position":ve,style:{"--front-toast-height":`${((he=M[0])==null?void 0:he.height)||0}px`,"--width":`${D5}px`,"--gap":`${U}px`,...T,...j5(g,m)},onBlur:Ie=>{j.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(j.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||j.current||(j.current=!0,X.current=Ie.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{Ce||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||Be(!0)},onPointerUp:()=>Be(!1)},C.filter(Ie=>!Ie.position&&ie===0||Ie.position===oe).map((Ie,Ge)=>{var Qe,pe;return ce.createElement(F5,{key:Ie.id,icons:z,index:Ge,toast:Ie,defaultRichColors:I,duration:(Qe=D?.duration)!=null?Qe:R,className:D?.className,descriptionClassName:D?.descriptionClassName,invert:s,visibleToasts:A,closeButton:(pe=D?.closeButton)!=null?pe:h,interacting:Ce,position:oe,style:D?.style,unstyled:D?.unstyled,classNames:D?.classNames,cancelButtonStyle:D?.cancelButtonStyle,actionButtonStyle:D?.actionButtonStyle,closeButtonAriaLabel:D?.closeButtonAriaLabel,removeToast:G,toasts:C.filter(St=>St.position==Ie.position),heights:M.filter(St=>St.position==Ie.position),setHeights:F,expandByDefault:u,gap:U,expanded:B,swipeDirections:e.swipeDirections})})):null}))}),Mb=({...n})=>{const{theme:e="system"}=uC();return E.jsx(U5,{theme:e,className:"toaster group",position:"top-right",richColors:!0,closeButton:!0,duration:4e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",success:"group-[.toaster]:border-green-500/50 group-[.toaster]:bg-green-50 dark:group-[.toaster]:bg-green-950/30 group-[.toaster]:text-green-700 dark:group-[.toaster]:text-green-400",error:"group-[.toaster]:border-red-500/50 group-[.toaster]:bg-red-50 dark:group-[.toaster]:bg-red-950/30 group-[.toaster]:text-red-700 dark:group-[.toaster]:text-red-400",warning:"group-[.toaster]:border-yellow-500/50 group-[.toaster]:bg-yellow-50 dark:group-[.toaster]:bg-yellow-950/30 group-[.toaster]:text-yellow-700 dark:group-[.toaster]:text-yellow-400",info:"group-[.toaster]:border-blue-500/50 group-[.toaster]:bg-blue-50 dark:group-[.toaster]:bg-blue-950/30 group-[.toaster]:text-blue-700 dark:group-[.toaster]:text-blue-400"}},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function dC({className:n,...e}){return E.jsx("div",{"data-slot":"card",className:$e("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function hC({className:n,...e}){return E.jsx("div",{"data-slot":"card-header",className:$e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function fC({className:n,...e}){return E.jsx("h4",{"data-slot":"card-title",className:$e("leading-none",n),...e})}function pC({className:n,...e}){return E.jsx("p",{"data-slot":"card-description",className:$e("text-muted-foreground",n),...e})}function mC({className:n,...e}){return E.jsx("div",{"data-slot":"card-content",className:$e("px-6 [&:last-child]:pb-6",n),...e})}class Vb extends b.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t),this.props.onError?.(e,t),this.setState({errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:E.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-4",children:E.jsxs(dC,{className:"max-w-lg w-full",children:[E.jsxs(hC,{children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(eD,{className:"h-6 w-6 text-red-500"}),E.jsx(fC,{children:"Something went wrong"})]}),E.jsx(pC,{children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."})]}),E.jsxs(mC,{className:"space-y-4",children:[this.state.error&&E.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-950 p-4",children:E.jsx("p",{className:"text-sm font-mono text-red-800 dark:text-red-200",children:this.state.error.message})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs(ju,{onClick:this.handleReset,className:"flex-1",children:[E.jsx($2,{className:"h-4 w-4 mr-2"}),"Try Again"]}),E.jsx(ju,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]}),!1]})]})}):this.props.children}}var z5="Label",gC=b.forwardRef((n,e)=>E.jsx(ht.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));gC.displayName=z5;var $5=gC;function pu({className:n,...e}){return E.jsx($5,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}var Lp="Checkbox",[B5]=qs(Lp),[q5,d_]=B5(Lp);function H5(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:h,required:p,value:g="on",internal_do_not_use_render:m}=n,[w,I]=mc({prop:t,defaultProp:s??!1,onChange:h,caller:Lp}),[R,T]=b.useState(null),[A,D]=b.useState(null),V=b.useRef(!1),U=R?!!l||!!R.closest("form"):!0,z={checked:w,disabled:i,setChecked:I,control:R,setControl:T,name:u,form:l,value:g,hasConsumerStoppedPropagationRef:V,required:p,defaultChecked:pi(s)?!1:s,isFormControl:U,bubbleInput:A,setBubbleInput:D};return E.jsx(q5,{scope:e,...z,children:W5(m)?m(z):r})}var yC="CheckboxTrigger",vC=b.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:i,value:l,disabled:u,checked:h,required:p,setControl:g,setChecked:m,hasConsumerStoppedPropagationRef:w,isFormControl:I,bubbleInput:R}=d_(yC,n),T=Et(s,g),A=b.useRef(h);return b.useEffect(()=>{const D=i?.form;if(D){const V=()=>m(A.current);return D.addEventListener("reset",V),()=>D.removeEventListener("reset",V)}},[i,m]),E.jsx(ht.button,{type:"button",role:"checkbox","aria-checked":pi(h)?"mixed":h,"aria-required":p,"data-state":IC(h),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:T,onKeyDown:Le(e,D=>{D.key==="Enter"&&D.preventDefault()}),onClick:Le(t,D=>{m(V=>pi(V)?!0:!V),R&&I&&(w.current=D.isPropagationStopped(),w.current||D.stopPropagation())})})});vC.displayName=yC;var _C=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h,onCheckedChange:p,form:g,...m}=n;return E.jsx(H5,{__scopeCheckbox:t,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:p,name:r,form:g,value:h,internal_do_not_use_render:({isFormControl:w})=>E.jsxs(E.Fragment,{children:[E.jsx(vC,{...m,ref:e,__scopeCheckbox:t}),w&&E.jsx(SC,{__scopeCheckbox:t})]})})});_C.displayName=Lp;var wC="CheckboxIndicator",EC=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,i=d_(wC,t);return E.jsx(Hn,{present:r||pi(i.checked)||i.checked===!0,children:E.jsx(ht.span,{"data-state":IC(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});EC.displayName=wC;var bC="CheckboxBubbleInput",SC=b.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:h,name:p,value:g,form:m,bubbleInput:w,setBubbleInput:I}=d_(bC,n),R=Et(t,I),T=JT(i),A=Kv(r);b.useEffect(()=>{const V=w;if(!V)return;const U=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(U,"checked").set,K=!s.current;if(T!==i&&$){const P=new Event("click",{bubbles:K});V.indeterminate=pi(i),$.call(V,pi(i)?!1:i),V.dispatchEvent(P)}},[w,T,i,s]);const D=b.useRef(pi(i)?!1:i);return E.jsx(ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??D.current,required:u,disabled:h,name:p,value:g,form:m,...e,tabIndex:-1,ref:R,style:{...e.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});SC.displayName=bC;function W5(n){return typeof n=="function"}function pi(n){return n==="indeterminate"}function IC(n){return pi(n)?"indeterminate":n?"checked":"unchecked"}function G5({className:n,...e}){return E.jsx(_C,{"data-slot":"checkbox",className:$e("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:E.jsx(EC,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:E.jsx(gx,{className:"size-3.5"})})})}function se(n,e,t){function r(u,h){var p;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(p=u._zod).traits??(p.traits=new Set),u._zod.traits.add(n),e(u,h);for(const g in l.prototype)g in u||Object.defineProperty(u,g,{value:l.prototype[g].bind(u)});u._zod.constr=l,u._zod.def=h}const s=t?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:n});function l(u){var h;const p=t?.Parent?new i:this;r(p,u),(h=p._zod).deferred??(h.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>t?.Parent&&u instanceof t.Parent?!0:u?._zod?.traits?.has(n)}),Object.defineProperty(l,"name",{value:n}),l}class Bl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class xC extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const TC={};function ba(n){return TC}function K5(n){const e=Object.values(n).filter(r=>typeof r=="number");return Object.entries(n).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function By(n,e){return typeof e=="bigint"?e.toString():e}function h_(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function f_(n){return n==null}function p_(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}function Z5(n,e){const t=(n.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(s=Number.parseInt(h[1]))}const i=t>s?t:s,l=Number.parseInt(n.toFixed(i).replace(".","")),u=Number.parseInt(e.toFixed(i).replace(".",""));return l%u/10**i}const Lb=Symbol("evaluating");function Ct(n,e,t){let r;Object.defineProperty(n,e,{get(){if(r!==Lb)return r===void 0&&(r=Lb,r=t()),r},set(s){Object.defineProperty(n,e,{value:s})},configurable:!0})}function La(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function Fa(...n){const e={};for(const t of n){const r=Object.getOwnPropertyDescriptors(t);Object.assign(e,r)}return Object.defineProperties({},e)}function Fb(n){return JSON.stringify(n)}const CC="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function Uf(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const Q5=h_(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Wu(n){if(Uf(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(Uf(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function PC(n){return Wu(n)?{...n}:Array.isArray(n)?[...n]:n}const Y5=new Set(["string","number","symbol"]);function Fp(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Pi(n,e,t){const r=new n._zod.constr(e??n._zod.def);return(!e||t?.parent)&&(r._zod.parent=n),r}function Fe(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function X5(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}const J5={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function eF(n,e){const t=n._zod.def,r=Fa(n._zod.def,{get shape(){const s={};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=t.shape[i])}return La(this,"shape",s),s},checks:[]});return Pi(n,r)}function tF(n,e){const t=n._zod.def,r=Fa(n._zod.def,{get shape(){const s={...n._zod.def.shape};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return La(this,"shape",s),s},checks:[]});return Pi(n,r)}function nF(n,e){if(!Wu(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Fa(n._zod.def,{get shape(){const i={...n._zod.def.shape,...e};return La(this,"shape",i),i},checks:[]});return Pi(n,s)}function rF(n,e){if(!Wu(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const r={...n._zod.def.shape,...e};return La(this,"shape",r),r},checks:n._zod.def.checks};return Pi(n,t)}function sF(n,e){const t=Fa(n._zod.def,{get shape(){const r={...n._zod.def.shape,...e._zod.def.shape};return La(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Pi(n,t)}function oF(n,e,t){const r=Fa(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=n?new n({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)i[l]=n?new n({type:"optional",innerType:s[l]}):s[l];return La(this,"shape",i),i},checks:[]});return Pi(e,r)}function iF(n,e,t){const r=Fa(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=new n({type:"nonoptional",innerType:s[l]}))}else for(const l in s)i[l]=new n({type:"nonoptional",innerType:s[l]});return La(this,"shape",i),i},checks:[]});return Pi(e,r)}function jl(n,e=0){if(n.aborted===!0)return!0;for(let t=e;t<n.issues.length;t++)if(n.issues[t]?.continue!==!0)return!0;return!1}function AC(n,e){return e.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(n),t})}function Yh(n){return typeof n=="string"?n:n?.message}function Sa(n,e,t){const r={...n,path:n.path??[]};if(!n.message){const s=Yh(n.inst?._zod.def?.error?.(n))??Yh(e?.error?.(n))??Yh(t.customError?.(n))??Yh(t.localeError?.(n))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function m_(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function Gu(...n){const[e,t,r]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:r}:{...e}}const RC=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,By,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},kC=se("$ZodError",RC),NC=se("$ZodError",RC,{Parent:Error});function aF(n,e=t=>t.message){const t={},r=[];for(const s of n.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}function lF(n,e=t=>t.message){const t={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>r({issues:l}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)t._errors.push(e(i));else{let l=t,u=0;for(;u<i.path.length;){const h=i.path[u];u===i.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(e(i))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return r(n),t}const g_=n=>(e,t,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise)throw new Bl;if(l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>Sa(h,i,ba())));throw CC(u,s?.callee),u}return l.value},y_=n=>async(e,t,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>Sa(h,i,ba())));throw CC(u,s?.callee),u}return l.value},jp=n=>(e,t,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:t,issues:[]},s);if(i instanceof Promise)throw new Bl;return i.issues.length?{success:!1,error:new(n??kC)(i.issues.map(l=>Sa(l,s,ba())))}:{success:!0,data:i.value}},cF=jp(NC),Up=n=>async(e,t,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:t,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new n(i.issues.map(l=>Sa(l,s,ba())))}:{success:!0,data:i.value}},uF=Up(NC),dF=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return g_(n)(e,t,s)},hF=n=>(e,t,r)=>g_(n)(e,t,r),fF=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return y_(n)(e,t,s)},pF=n=>async(e,t,r)=>y_(n)(e,t,r),mF=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return jp(n)(e,t,s)},gF=n=>(e,t,r)=>jp(n)(e,t,r),yF=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Up(n)(e,t,s)},vF=n=>async(e,t,r)=>Up(n)(e,t,r),_F=/^[cC][^\s-]{8,}$/,wF=/^[0-9a-z]+$/,EF=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,bF=/^[0-9a-vA-V]{20}$/,SF=/^[A-Za-z0-9]{27}$/,IF=/^[a-zA-Z0-9_-]{21}$/,xF=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,TF=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,jb=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,CF=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,PF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function AF(){return new RegExp(PF,"u")}const RF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kF=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,NF=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,DF=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,OF=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,DC=/^[A-Za-z0-9_-]*$/,MF=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,VF=/^\+(?:[0-9]){6,14}[0-9]$/,OC="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",LF=new RegExp(`^${OC}$`);function MC(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function FF(n){return new RegExp(`^${MC(n)}$`)}function jF(n){const e=MC({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${t.join("|")})`;return new RegExp(`^${OC}T(?:${r})$`)}const UF=n=>{const e=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},zF=/^-?\d+$/,$F=/^-?\d+(?:\.\d+)?/,BF=/^(?:true|false)$/i,qF=/^[^A-Z]*$/,HF=/^[^a-z]*$/,sr=se("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),VC={number:"number",bigint:"bigint",object:"date"},LC=se("$ZodCheckLessThan",(n,e)=>{sr.init(n,e);const t=VC[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:t,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),FC=se("$ZodCheckGreaterThan",(n,e)=>{sr.init(n,e);const t=VC[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:t,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),WF=se("$ZodCheckMultipleOf",(n,e)=>{sr.init(n,e),n._zod.onattach.push(t=>{var r;(r=t._zod.bag).multipleOf??(r.multipleOf=e.value)}),n._zod.check=t=>{if(typeof t.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%e.value===BigInt(0):Z5(t.value,e.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:e.value,input:t.value,inst:n,continue:!e.abort})}}),GF=se("$ZodCheckNumberFormat",(n,e)=>{sr.init(n,e),e.format=e.format||"float64";const t=e.format?.includes("int"),r=t?"int":"number",[s,i]=J5[e.format];n._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=s,u.maximum=i,t&&(u.pattern=zF)}),n._zod.check=l=>{const u=l.value;if(t){if(!Number.isInteger(u)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:u,inst:n});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort});return}}u<s&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:n,continue:!e.abort}),u>i&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:n})}}),KF=se("$ZodCheckMaxLength",(n,e)=>{var t;sr.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!f_(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),n._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const l=m_(s);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),ZF=se("$ZodCheckMinLength",(n,e)=>{var t;sr.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!f_(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),n._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const l=m_(s);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),QF=se("$ZodCheckLengthEquals",(n,e)=>{var t;sr.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!f_(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),n._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const l=m_(s),u=i>e.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:n,continue:!e.abort})}}),zp=se("$ZodCheckStringFormat",(n,e)=>{var t,r;sr.init(n,e),n._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(r=n._zod).check??(r.check=()=>{})}),YF=se("$ZodCheckRegex",(n,e)=>{zp.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),XF=se("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=qF),zp.init(n,e)}),JF=se("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=HF),zp.init(n,e)}),ej=se("$ZodCheckIncludes",(n,e)=>{sr.init(n,e);const t=Fp(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=r,n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),n._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:n,continue:!e.abort})}}),tj=se("$ZodCheckStartsWith",(n,e)=>{sr.init(n,e);const t=new RegExp(`^${Fp(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:n,continue:!e.abort})}}),nj=se("$ZodCheckEndsWith",(n,e)=>{sr.init(n,e);const t=new RegExp(`.*${Fp(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:n,continue:!e.abort})}}),rj=se("$ZodCheckOverwrite",(n,e)=>{sr.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class sj{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),s=Math.min(...r.map(l=>l.length-l.trimStart().length)),i=r.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const e=Function,t=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...t,s.join(`
`))}}const oj={major:4,minor:1,patch:12},Zt=se("$ZodType",(n,e)=>{var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=oj;const r=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&r.unshift(n);for(const s of r)for(const i of s._zod.onattach)i(n);if(r.length===0)(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const s=(l,u,h)=>{let p=jl(l),g;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(p)continue;const w=l.issues.length,I=m._zod.check(l);if(I instanceof Promise&&h?.async===!1)throw new Bl;if(g||I instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await I,l.issues.length!==w&&(p||(p=jl(l,w)))});else{if(l.issues.length===w)continue;p||(p=jl(l,w))}}return g?g.then(()=>l):l},i=(l,u,h)=>{if(jl(l))return l.aborted=!0,l;const p=s(u,r,h);if(p instanceof Promise){if(h.async===!1)throw new Bl;return p.then(g=>n._zod.parse(g,h))}return n._zod.parse(p,h)};n._zod.run=(l,u)=>{if(u.skipChecks)return n._zod.parse(l,u);if(u.direction==="backward"){const p=n._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return p instanceof Promise?p.then(g=>i(g,l,u)):i(p,l,u)}const h=n._zod.parse(l,u);if(h instanceof Promise){if(u.async===!1)throw new Bl;return h.then(p=>s(p,r,u))}return s(h,r,u)}}n["~standard"]={validate:s=>{try{const i=cF(n,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return uF(n,s).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),v_=se("$ZodString",(n,e)=>{Zt.init(n,e),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??UF(n._zod.bag),n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:n}),t}}),Mt=se("$ZodStringFormat",(n,e)=>{zp.init(n,e),v_.init(n,e)}),ij=se("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=TF),Mt.init(n,e)}),aj=se("$ZodUUID",(n,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=jb(r))}else e.pattern??(e.pattern=jb());Mt.init(n,e)}),lj=se("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=CF),Mt.init(n,e)}),cj=se("$ZodURL",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{try{const r=t.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:MF.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=s.href:t.value=r;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),uj=se("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=AF()),Mt.init(n,e)}),dj=se("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=IF),Mt.init(n,e)}),hj=se("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=_F),Mt.init(n,e)}),fj=se("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=wF),Mt.init(n,e)}),pj=se("$ZodULID",(n,e)=>{e.pattern??(e.pattern=EF),Mt.init(n,e)}),mj=se("$ZodXID",(n,e)=>{e.pattern??(e.pattern=bF),Mt.init(n,e)}),gj=se("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=SF),Mt.init(n,e)}),yj=se("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=jF(e)),Mt.init(n,e)}),vj=se("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=LF),Mt.init(n,e)}),_j=se("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=FF(e)),Mt.init(n,e)}),wj=se("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=xF),Mt.init(n,e)}),Ej=se("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=RF),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv4"})}),bj=se("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=kF),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),Sj=se("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=NF),Mt.init(n,e)}),Ij=se("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=DF),Mt.init(n,e),n._zod.check=t=>{const r=t.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const l=Number(i);if(`${l}`!==i)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${s}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function jC(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const xj=se("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=OF),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{jC(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function Tj(n){if(!DC.test(n))return!1;const e=n.replace(/[-_]/g,r=>r==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return jC(t)}const Cj=se("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=DC),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{Tj(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),Pj=se("$ZodE164",(n,e)=>{e.pattern??(e.pattern=VF),Mt.init(n,e)});function Aj(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[r]=t;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const Rj=se("$ZodJWT",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{Aj(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),UC=se("$ZodNumber",(n,e)=>{Zt.init(n,e),n._zod.pattern=n._zod.bag.pattern??$F,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=Number(t.value)}catch{}const s=t.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return t;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:s,inst:n,...i?{received:i}:{}}),t}}),kj=se("$ZodNumber",(n,e)=>{GF.init(n,e),UC.init(n,e)}),Nj=se("$ZodBoolean",(n,e)=>{Zt.init(n,e),n._zod.pattern=BF,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=!!t.value}catch{}const s=t.value;return typeof s=="boolean"||t.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:n}),t}}),Dj=se("$ZodUnknown",(n,e)=>{Zt.init(n,e),n._zod.parse=t=>t}),Oj=se("$ZodNever",(n,e)=>{Zt.init(n,e),n._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)});function Ub(n,e,t){n.issues.length&&e.issues.push(...AC(t,n.issues)),e.value[t]=n.value}const Mj=se("$ZodArray",(n,e)=>{Zt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value;if(!Array.isArray(s))return t.issues.push({expected:"array",code:"invalid_type",input:s,inst:n}),t;t.value=Array(s.length);const i=[];for(let l=0;l<s.length;l++){const u=s[l],h=e.element._zod.run({value:u,issues:[]},r);h instanceof Promise?i.push(h.then(p=>Ub(p,t,l))):Ub(h,t,l)}return i.length?Promise.all(i).then(()=>t):t}});function zf(n,e,t,r){n.issues.length&&e.issues.push(...AC(t,n.issues)),n.value===void 0?t in r&&(e.value[t]=void 0):e.value[t]=n.value}function zC(n){const e=Object.keys(n.shape);for(const r of e)if(!n.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const t=X5(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function $C(n,e,t,r,s,i){const l=[],u=s.keySet,h=s.catchall._zod,p=h.def.type;for(const g of Object.keys(e)){if(u.has(g))continue;if(p==="never"){l.push(g);continue}const m=h.run({value:e[g],issues:[]},r);m instanceof Promise?n.push(m.then(w=>zf(w,t,g,e))):zf(m,t,g,e)}return l.length&&t.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:i}),n.length?Promise.all(n).then(()=>t):t}const Vj=se("$ZodObject",(n,e)=>{if(Zt.init(n,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const u=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...u};return Object.defineProperty(e,"shape",{value:h}),h}})}const r=h_(()=>zC(e));Ct(n._zod,"propValues",()=>{const u=e.shape,h={};for(const p in u){const g=u[p]._zod;if(g.values){h[p]??(h[p]=new Set);for(const m of g.values)h[p].add(m)}}return h});const s=Uf,i=e.catchall;let l;n._zod.parse=(u,h)=>{l??(l=r.value);const p=u.value;if(!s(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:n}),u;u.value={};const g=[],m=l.shape;for(const w of l.keys){const R=m[w]._zod.run({value:p[w],issues:[]},h);R instanceof Promise?g.push(R.then(T=>zf(T,u,w,p))):zf(R,u,w,p)}return i?$C(g,p,u,h,r.value,n):g.length?Promise.all(g).then(()=>u):u}}),Lj=se("$ZodObjectJIT",(n,e)=>{Vj.init(n,e);const t=n._zod.parse,r=h_(()=>zC(e)),s=w=>{const I=new sj(["shape","payload","ctx"]),R=r.value,T=U=>{const z=Fb(U);return`shape[${z}]._zod.run({ value: input[${z}], issues: [] }, ctx)`};I.write("const input = payload.value;");const A=Object.create(null);let D=0;for(const U of R.keys)A[U]=`key_${D++}`;I.write("const newResult = {};");for(const U of R.keys){const z=A[U],$=Fb(U);I.write(`const ${z} = ${T(U)};`),I.write(`
        if (${z}.issues.length) {
          payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        
        if (${z}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${z}.value;
        }
        
      `)}I.write("payload.value = newResult;"),I.write("return payload;");const V=I.compile();return(U,z)=>V(w,U,z)};let i;const l=Uf,u=!TC.jitless,p=u&&Q5.value,g=e.catchall;let m;n._zod.parse=(w,I)=>{m??(m=r.value);const R=w.value;return l(R)?u&&p&&I?.async===!1&&I.jitless!==!0?(i||(i=s(e.shape)),w=i(w,I),g?$C([],R,w,I,m,n):w):t(w,I):(w.issues.push({expected:"object",code:"invalid_type",input:R,inst:n}),w)}});function zb(n,e,t,r){for(const i of n)if(i.issues.length===0)return e.value=i.value,e;const s=n.filter(i=>!jl(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(i=>i.issues.map(l=>Sa(l,r,ba())))}),e)}const Fj=se("$ZodUnion",(n,e)=>{Zt.init(n,e),Ct(n._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Ct(n._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Ct(n._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Ct(n._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>p_(i.source)).join("|")})$`)}});const t=e.options.length===1,r=e.options[0]._zod.run;n._zod.parse=(s,i)=>{if(t)return r(s,i);let l=!1;const u=[];for(const h of e.options){const p=h._zod.run({value:s.value,issues:[]},i);if(p instanceof Promise)u.push(p),l=!0;else{if(p.issues.length===0)return p;u.push(p)}}return l?Promise.all(u).then(h=>zb(h,s,n,i)):zb(u,s,n,i)}}),jj=se("$ZodIntersection",(n,e)=>{Zt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value,i=e.left._zod.run({value:s,issues:[]},r),l=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([h,p])=>$b(t,h,p)):$b(t,i,l)}});function qy(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(Wu(n)&&Wu(e)){const t=Object.keys(e),r=Object.keys(n).filter(i=>t.indexOf(i)!==-1),s={...n,...e};for(const i of r){const l=qy(n[i],e[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};s[i]=l.data}return{valid:!0,data:s}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let r=0;r<n.length;r++){const s=n[r],i=e[r],l=qy(s,i);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};t.push(l.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function $b(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),jl(n))return n;const r=qy(e.value,t.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return n.value=r.data,n}const Uj=se("$ZodEnum",(n,e)=>{Zt.init(n,e);const t=K5(e.entries),r=new Set(t);n._zod.values=r,n._zod.pattern=new RegExp(`^(${t.filter(s=>Y5.has(typeof s)).map(s=>typeof s=="string"?Fp(s):s.toString()).join("|")})$`),n._zod.parse=(s,i)=>{const l=s.value;return r.has(l)||s.issues.push({code:"invalid_value",values:t,input:l,inst:n}),s}}),zj=se("$ZodTransform",(n,e)=>{Zt.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new xC(n.constructor.name);const s=e.transform(t.value,t);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(t.value=l,t));if(s instanceof Promise)throw new Bl;return t.value=s,t}});function Bb(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const $j=se("$ZodOptional",(n,e)=>{Zt.init(n,e),n._zod.optin="optional",n._zod.optout="optional",Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${p_(t.source)})?$`):void 0}),n._zod.parse=(t,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>Bb(i,t.value)):Bb(s,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,r)}}),Bj=se("$ZodNullable",(n,e)=>{Zt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${p_(t.source)}|null)$`):void 0}),Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,r)=>t.value===null?t:e.innerType._zod.run(t,r)}),qj=se("$ZodDefault",(n,e)=>{Zt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);if(t.value===void 0)return t.value=e.defaultValue,t;const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>qb(i,e)):qb(s,e)}});function qb(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const Hj=se("$ZodPrefault",(n,e)=>{Zt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>(r.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,r))}),Wj=se("$ZodNonOptional",(n,e)=>{Zt.init(n,e),Ct(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(r=>r!==void 0)):void 0}),n._zod.parse=(t,r)=>{const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>Hb(i,n)):Hb(s,n)}});function Hb(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const Gj=se("$ZodCatch",(n,e)=>{Zt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(l=>Sa(l,r,ba()))},input:t.value}),t.issues=[]),t)):(t.value=s.value,s.issues.length&&(t.value=e.catchValue({...t,error:{issues:s.issues.map(i=>Sa(i,r,ba()))},input:t.value}),t.issues=[]),t)}}),Kj=se("$ZodPipe",(n,e)=>{Zt.init(n,e),Ct(n._zod,"values",()=>e.in._zod.values),Ct(n._zod,"optin",()=>e.in._zod.optin),Ct(n._zod,"optout",()=>e.out._zod.optout),Ct(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(t,r);return i instanceof Promise?i.then(l=>Xh(l,e.in,r)):Xh(i,e.in,r)}const s=e.in._zod.run(t,r);return s instanceof Promise?s.then(i=>Xh(i,e.out,r)):Xh(s,e.out,r)}});function Xh(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const Zj=se("$ZodReadonly",(n,e)=>{Zt.init(n,e),Ct(n._zod,"propValues",()=>e.innerType._zod.propValues),Ct(n._zod,"values",()=>e.innerType._zod.values),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(Wb):Wb(s)}});function Wb(n){return n.value=Object.freeze(n.value),n}const Qj=se("$ZodCustom",(n,e)=>{sr.init(n,e),Zt.init(n,e),n._zod.parse=(t,r)=>t,n._zod.check=t=>{const r=t.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>Gb(i,t,r,n));Gb(s,t,r,n)}});function Gb(n,e,t,r){if(!n){const s={code:"custom",input:t,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(Gu(s))}}class Yj{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const r=t[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Xj(){return new Yj}const Jh=Xj();function Jj(n,e){return new n({type:"string",...Fe(e)})}function e3(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Fe(e)})}function Kb(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(e)})}function t3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(e)})}function n3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(e)})}function r3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(e)})}function s3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(e)})}function o3(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Fe(e)})}function i3(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(e)})}function a3(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(e)})}function l3(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(e)})}function c3(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(e)})}function u3(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(e)})}function d3(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(e)})}function h3(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(e)})}function f3(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(e)})}function p3(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(e)})}function m3(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(e)})}function g3(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(e)})}function y3(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(e)})}function v3(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(e)})}function _3(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(e)})}function w3(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(e)})}function E3(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(e)})}function b3(n,e){return new n({type:"string",format:"date",check:"string_format",...Fe(e)})}function S3(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...Fe(e)})}function I3(n,e){return new n({type:"string",format:"duration",check:"string_format",...Fe(e)})}function x3(n,e){return new n({type:"number",checks:[],...Fe(e)})}function T3(n,e){return new n({type:"number",coerce:!0,checks:[],...Fe(e)})}function C3(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Fe(e)})}function P3(n,e){return new n({type:"boolean",...Fe(e)})}function A3(n){return new n({type:"unknown"})}function R3(n,e){return new n({type:"never",...Fe(e)})}function Zb(n,e){return new LC({check:"less_than",...Fe(e),value:n,inclusive:!1})}function iy(n,e){return new LC({check:"less_than",...Fe(e),value:n,inclusive:!0})}function Qb(n,e){return new FC({check:"greater_than",...Fe(e),value:n,inclusive:!1})}function ay(n,e){return new FC({check:"greater_than",...Fe(e),value:n,inclusive:!0})}function Yb(n,e){return new WF({check:"multiple_of",...Fe(e),value:n})}function BC(n,e){return new KF({check:"max_length",...Fe(e),maximum:n})}function $f(n,e){return new ZF({check:"min_length",...Fe(e),minimum:n})}function qC(n,e){return new QF({check:"length_equals",...Fe(e),length:n})}function k3(n,e){return new YF({check:"string_format",format:"regex",...Fe(e),pattern:n})}function N3(n){return new XF({check:"string_format",format:"lowercase",...Fe(n)})}function D3(n){return new JF({check:"string_format",format:"uppercase",...Fe(n)})}function O3(n,e){return new ej({check:"string_format",format:"includes",...Fe(e),includes:n})}function M3(n,e){return new tj({check:"string_format",format:"starts_with",...Fe(e),prefix:n})}function V3(n,e){return new nj({check:"string_format",format:"ends_with",...Fe(e),suffix:n})}function pd(n){return new rj({check:"overwrite",tx:n})}function L3(n){return pd(e=>e.normalize(n))}function F3(){return pd(n=>n.trim())}function j3(){return pd(n=>n.toLowerCase())}function U3(){return pd(n=>n.toUpperCase())}function z3(n,e,t){return new n({type:"array",element:e,...Fe(t)})}function $3(n,e,t){return new n({type:"custom",check:"custom",fn:e,...Fe(t)})}function B3(n){const e=q3(t=>(t.addIssue=r=>{if(typeof r=="string")t.issues.push(Gu(r,t.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=t.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),t.issues.push(Gu(s))}},n(t.value,t)));return e}function q3(n,e){const t=new sr({check:"custom",...Fe(e)});return t._zod.check=n,t}const H3=se("ZodISODateTime",(n,e)=>{yj.init(n,e),Ut.init(n,e)});function W3(n){return E3(H3,n)}const G3=se("ZodISODate",(n,e)=>{vj.init(n,e),Ut.init(n,e)});function K3(n){return b3(G3,n)}const Z3=se("ZodISOTime",(n,e)=>{_j.init(n,e),Ut.init(n,e)});function Q3(n){return S3(Z3,n)}const Y3=se("ZodISODuration",(n,e)=>{wj.init(n,e),Ut.init(n,e)});function X3(n){return I3(Y3,n)}const J3=(n,e)=>{kC.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>lF(n,t)},flatten:{value:t=>aF(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,By,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,By,2)}},isEmpty:{get(){return n.issues.length===0}}})},Fr=se("ZodError",J3,{Parent:Error}),e9=g_(Fr),t9=y_(Fr),n9=jp(Fr),r9=Up(Fr),s9=dF(Fr),o9=hF(Fr),i9=fF(Fr),a9=pF(Fr),l9=mF(Fr),c9=gF(Fr),u9=yF(Fr),d9=vF(Fr),rn=se("ZodType",(n,e)=>(Zt.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone(Fa(e,{checks:[...e.checks??[],...t.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),n.clone=(t,r)=>Pi(n,t,r),n.brand=()=>n,n.register=((t,r)=>(t.add(n,r),n)),n.parse=(t,r)=>e9(n,t,r,{callee:n.parse}),n.safeParse=(t,r)=>n9(n,t,r),n.parseAsync=async(t,r)=>t9(n,t,r,{callee:n.parseAsync}),n.safeParseAsync=async(t,r)=>r9(n,t,r),n.spa=n.safeParseAsync,n.encode=(t,r)=>s9(n,t,r),n.decode=(t,r)=>o9(n,t,r),n.encodeAsync=async(t,r)=>i9(n,t,r),n.decodeAsync=async(t,r)=>a9(n,t,r),n.safeEncode=(t,r)=>l9(n,t,r),n.safeDecode=(t,r)=>c9(n,t,r),n.safeEncodeAsync=async(t,r)=>u9(n,t,r),n.safeDecodeAsync=async(t,r)=>d9(n,t,r),n.refine=(t,r)=>n.check(n6(t,r)),n.superRefine=t=>n.check(r6(t)),n.overwrite=t=>n.check(pd(t)),n.optional=()=>tS(n),n.nullable=()=>nS(n),n.nullish=()=>tS(nS(n)),n.nonoptional=t=>Z9(n,t),n.array=()=>WC(n),n.or=t=>j9([n,t]),n.and=t=>z9(n,t),n.transform=t=>rS(n,B9(t)),n.default=t=>W9(n,t),n.prefault=t=>K9(n,t),n.catch=t=>Y9(n,t),n.pipe=t=>rS(n,t),n.readonly=()=>e6(n),n.describe=t=>{const r=n.clone();return Jh.add(r,{description:t}),r},Object.defineProperty(n,"description",{get(){return Jh.get(n)?.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return Jh.get(n);const r=n.clone();return Jh.add(r,t[0]),r},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),HC=se("_ZodString",(n,e)=>{v_.init(n,e),rn.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...r)=>n.check(k3(...r)),n.includes=(...r)=>n.check(O3(...r)),n.startsWith=(...r)=>n.check(M3(...r)),n.endsWith=(...r)=>n.check(V3(...r)),n.min=(...r)=>n.check($f(...r)),n.max=(...r)=>n.check(BC(...r)),n.length=(...r)=>n.check(qC(...r)),n.nonempty=(...r)=>n.check($f(1,...r)),n.lowercase=r=>n.check(N3(r)),n.uppercase=r=>n.check(D3(r)),n.trim=()=>n.check(F3()),n.normalize=(...r)=>n.check(L3(...r)),n.toLowerCase=()=>n.check(j3()),n.toUpperCase=()=>n.check(U3())}),h9=se("ZodString",(n,e)=>{v_.init(n,e),HC.init(n,e),n.email=t=>n.check(e3(f9,t)),n.url=t=>n.check(o3(p9,t)),n.jwt=t=>n.check(w3(A9,t)),n.emoji=t=>n.check(i3(m9,t)),n.guid=t=>n.check(Kb(Xb,t)),n.uuid=t=>n.check(t3(ef,t)),n.uuidv4=t=>n.check(n3(ef,t)),n.uuidv6=t=>n.check(r3(ef,t)),n.uuidv7=t=>n.check(s3(ef,t)),n.nanoid=t=>n.check(a3(g9,t)),n.guid=t=>n.check(Kb(Xb,t)),n.cuid=t=>n.check(l3(y9,t)),n.cuid2=t=>n.check(c3(v9,t)),n.ulid=t=>n.check(u3(_9,t)),n.base64=t=>n.check(y3(T9,t)),n.base64url=t=>n.check(v3(C9,t)),n.xid=t=>n.check(d3(w9,t)),n.ksuid=t=>n.check(h3(E9,t)),n.ipv4=t=>n.check(f3(b9,t)),n.ipv6=t=>n.check(p3(S9,t)),n.cidrv4=t=>n.check(m3(I9,t)),n.cidrv6=t=>n.check(g3(x9,t)),n.e164=t=>n.check(_3(P9,t)),n.datetime=t=>n.check(W3(t)),n.date=t=>n.check(K3(t)),n.time=t=>n.check(Q3(t)),n.duration=t=>n.check(X3(t))});function at(n){return Jj(h9,n)}const Ut=se("ZodStringFormat",(n,e)=>{Mt.init(n,e),HC.init(n,e)}),f9=se("ZodEmail",(n,e)=>{lj.init(n,e),Ut.init(n,e)}),Xb=se("ZodGUID",(n,e)=>{ij.init(n,e),Ut.init(n,e)}),ef=se("ZodUUID",(n,e)=>{aj.init(n,e),Ut.init(n,e)}),p9=se("ZodURL",(n,e)=>{cj.init(n,e),Ut.init(n,e)}),m9=se("ZodEmoji",(n,e)=>{uj.init(n,e),Ut.init(n,e)}),g9=se("ZodNanoID",(n,e)=>{dj.init(n,e),Ut.init(n,e)}),y9=se("ZodCUID",(n,e)=>{hj.init(n,e),Ut.init(n,e)}),v9=se("ZodCUID2",(n,e)=>{fj.init(n,e),Ut.init(n,e)}),_9=se("ZodULID",(n,e)=>{pj.init(n,e),Ut.init(n,e)}),w9=se("ZodXID",(n,e)=>{mj.init(n,e),Ut.init(n,e)}),E9=se("ZodKSUID",(n,e)=>{gj.init(n,e),Ut.init(n,e)}),b9=se("ZodIPv4",(n,e)=>{Ej.init(n,e),Ut.init(n,e)}),S9=se("ZodIPv6",(n,e)=>{bj.init(n,e),Ut.init(n,e)}),I9=se("ZodCIDRv4",(n,e)=>{Sj.init(n,e),Ut.init(n,e)}),x9=se("ZodCIDRv6",(n,e)=>{Ij.init(n,e),Ut.init(n,e)}),T9=se("ZodBase64",(n,e)=>{xj.init(n,e),Ut.init(n,e)}),C9=se("ZodBase64URL",(n,e)=>{Cj.init(n,e),Ut.init(n,e)}),P9=se("ZodE164",(n,e)=>{Pj.init(n,e),Ut.init(n,e)}),A9=se("ZodJWT",(n,e)=>{Rj.init(n,e),Ut.init(n,e)}),__=se("ZodNumber",(n,e)=>{UC.init(n,e),rn.init(n,e),n.gt=(r,s)=>n.check(Qb(r,s)),n.gte=(r,s)=>n.check(ay(r,s)),n.min=(r,s)=>n.check(ay(r,s)),n.lt=(r,s)=>n.check(Zb(r,s)),n.lte=(r,s)=>n.check(iy(r,s)),n.max=(r,s)=>n.check(iy(r,s)),n.int=r=>n.check(Jb(r)),n.safe=r=>n.check(Jb(r)),n.positive=r=>n.check(Qb(0,r)),n.nonnegative=r=>n.check(ay(0,r)),n.negative=r=>n.check(Zb(0,r)),n.nonpositive=r=>n.check(iy(0,r)),n.multipleOf=(r,s)=>n.check(Yb(r,s)),n.step=(r,s)=>n.check(Yb(r,s)),n.finite=()=>n;const t=n._zod.bag;n.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),n.isFinite=!0,n.format=t.format??null});function ly(n){return x3(__,n)}const R9=se("ZodNumberFormat",(n,e)=>{kj.init(n,e),__.init(n,e)});function Jb(n){return C3(R9,n)}const k9=se("ZodBoolean",(n,e)=>{Nj.init(n,e),rn.init(n,e)});function N9(n){return P3(k9,n)}const D9=se("ZodUnknown",(n,e)=>{Dj.init(n,e),rn.init(n,e)});function eS(){return A3(D9)}const O9=se("ZodNever",(n,e)=>{Oj.init(n,e),rn.init(n,e)});function M9(n){return R3(O9,n)}const V9=se("ZodArray",(n,e)=>{Mj.init(n,e),rn.init(n,e),n.element=e.element,n.min=(t,r)=>n.check($f(t,r)),n.nonempty=t=>n.check($f(1,t)),n.max=(t,r)=>n.check(BC(t,r)),n.length=(t,r)=>n.check(qC(t,r)),n.unwrap=()=>n.element});function WC(n,e){return z3(V9,n,e)}const L9=se("ZodObject",(n,e)=>{Lj.init(n,e),rn.init(n,e),Ct(n,"shape",()=>e.shape),n.keyof=()=>w_(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:eS()}),n.loose=()=>n.clone({...n._zod.def,catchall:eS()}),n.strict=()=>n.clone({...n._zod.def,catchall:M9()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>nF(n,t),n.safeExtend=t=>rF(n,t),n.merge=t=>sF(n,t),n.pick=t=>eF(n,t),n.omit=t=>tF(n,t),n.partial=(...t)=>oF(GC,n,t[0]),n.required=(...t)=>iF(KC,n,t[0])});function Ai(n,e){const t={type:"object",shape:n??{},...Fe(e)};return new L9(t)}const F9=se("ZodUnion",(n,e)=>{Fj.init(n,e),rn.init(n,e),n.options=e.options});function j9(n,e){return new F9({type:"union",options:n,...Fe(e)})}const U9=se("ZodIntersection",(n,e)=>{jj.init(n,e),rn.init(n,e)});function z9(n,e){return new U9({type:"intersection",left:n,right:e})}const Hy=se("ZodEnum",(n,e)=>{Uj.init(n,e),rn.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(r,s)=>{const i={};for(const l of r)if(t.has(l))i[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Hy({...e,checks:[],...Fe(s),entries:i})},n.exclude=(r,s)=>{const i={...e.entries};for(const l of r)if(t.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new Hy({...e,checks:[],...Fe(s),entries:i})}});function w_(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(r=>[r,r])):n;return new Hy({type:"enum",entries:t,...Fe(e)})}const $9=se("ZodTransform",(n,e)=>{zj.init(n,e),rn.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new xC(n.constructor.name);t.addIssue=i=>{if(typeof i=="string")t.issues.push(Gu(i,t.value,e));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=t.value),l.inst??(l.inst=n),t.issues.push(Gu(l))}};const s=e.transform(t.value,t);return s instanceof Promise?s.then(i=>(t.value=i,t)):(t.value=s,t)}});function B9(n){return new $9({type:"transform",transform:n})}const GC=se("ZodOptional",(n,e)=>{$j.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function tS(n){return new GC({type:"optional",innerType:n})}const q9=se("ZodNullable",(n,e)=>{Bj.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function nS(n){return new q9({type:"nullable",innerType:n})}const H9=se("ZodDefault",(n,e)=>{qj.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function W9(n,e){return new H9({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():PC(e)}})}const G9=se("ZodPrefault",(n,e)=>{Hj.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function K9(n,e){return new G9({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():PC(e)}})}const KC=se("ZodNonOptional",(n,e)=>{Wj.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Z9(n,e){return new KC({type:"nonoptional",innerType:n,...Fe(e)})}const Q9=se("ZodCatch",(n,e)=>{Gj.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function Y9(n,e){return new Q9({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const X9=se("ZodPipe",(n,e)=>{Kj.init(n,e),rn.init(n,e),n.in=e.in,n.out=e.out});function rS(n,e){return new X9({type:"pipe",in:n,out:e})}const J9=se("ZodReadonly",(n,e)=>{Zj.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function e6(n){return new J9({type:"readonly",innerType:n})}const t6=se("ZodCustom",(n,e)=>{Qj.init(n,e),rn.init(n,e)});function n6(n,e={}){return $3(t6,n,e)}function r6(n){return B3(n)}function hi(n){return T3(__,n)}const ZC=8,Wy=`Password must be at least ${ZC} characters`,QC=at().min(1,"Password is required").min(ZC,Wy),sS=Ai({email:at().min(1,"Email is required").email("Please enter a valid email address"),password:at().min(1,"Password is required")}),oS=Ai({name:at().min(1,"Name is required").min(2,"Name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),password:QC,confirmPassword:at().min(1,"Please confirm your password")}).refine(n=>n.password===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});Ai({currentPassword:at().min(1,"Current password is required"),newPassword:QC,confirmPassword:at().min(1,"Please confirm your new password")}).refine(n=>n.newPassword===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});const FH=Ai({name:at().min(1,"Item name is required").min(3,"Item name must be at least 3 characters").max(100,"Item name must be less than 100 characters"),category:at().min(1,"Category is required"),subcategory:at().optional(),quantity:hi().int("Quantity must be a whole number").min(0,"Quantity cannot be negative"),location:at().min(1,"Location is required").regex(/^[A-Z]-\d+$/,"Location must be in format A-12 (Letter-Number)"),brand:at().min(1,"Brand is required").min(2,"Brand must be at least 2 characters").max(100,"Brand must be less than 100 characters"),pricePerPiece:hi().positive("Price per piece must be a positive number").max(1e6,"Price per piece seems too high"),supplierId:at().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Supplier ID must be in format SUP-001"),quantityPurchased:hi().int("Quantity purchased must be a whole number").min(0,"Quantity purchased cannot be negative"),quantitySold:hi().int("Quantity sold must be a whole number").min(0,"Quantity sold cannot be negative"),reorderRequired:N9()});Ai({name:at().min(1,"Company name is required").min(2,"Company name must be at least 2 characters").max(100,"Company name must be less than 100 characters"),contact:at().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),phone:at().min(1,"Phone number is required"),category:at().min(1,"Category is required"),status:w_(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:at().max(100,"Country must be less than 100 characters").optional(),city:at().max(100,"City must be less than 100 characters").optional(),address:at().max(200,"Address must be less than 200 characters").optional(),purchases:hi().min(0,"Purchases cannot be negative").optional(),payments:hi().min(0,"Payments cannot be negative").optional()});Ai({name:at().min(1,"Customer name is required").min(2,"Customer name must be at least 2 characters").max(100,"Customer name must be less than 100 characters"),contact:at().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),phone:at().min(1,"Phone number is required"),category:at().min(1,"Category is required"),status:w_(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:at().max(100,"Country must be less than 100 characters").optional(),city:at().max(100,"City must be less than 100 characters").optional(),address:at().max(200,"Address must be less than 200 characters").optional(),purchases:hi().min(0,"Purchases cannot be negative").optional(),payments:hi().min(0,"Payments cannot be negative").optional()});const s6=Ai({inventoryItemId:at().min(1,"Item is required"),itemName:at().min(1,"Item name is required"),quantity:ly().int("Quantity must be a whole number").min(1,"Quantity must be at least 1"),unitPrice:ly().positive("Unit price must be positive"),totalPrice:ly().positive("Total price must be positive")});Ai({supplierId:at().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Invalid supplier ID format"),supplierName:at().min(1,"Supplier name is required"),items:WC(s6).min(1,"At least one item is required"),expectedDeliveryDate:at().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format").refine(n=>{const e=new Date(n),t=new Date;return t.setHours(0,0,0,0),e>=t},"Expected delivery date must be today or in the future"),notes:at().optional()});function o6(){const{login:n,register:e}=fd(),[t,r]=b.useState("login"),[s,i]=b.useState({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1}),[l,u]=b.useState({}),[h,p]=b.useState(!1),[g,m]=b.useState(!1),w=()=>{i({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1}),u({})},I=D=>{r(D),w()};function R(D,V){const U=t==="login"?sS:oS,z=t==="login"?{email:D==="email"?V:s.email,password:D==="password"?V:s.password}:{name:D==="name"?V:s.name,email:D==="email"?V:s.email,password:D==="password"?V:s.password,confirmPassword:D==="confirmPassword"?V:s.confirmPassword},$=U.safeParse(z);if($.success)u(K=>{const P={...K};return delete P[D],P});else{const K=$.error.errors.find(P=>P.path[0]===D);u(K?P=>({...P,[D]:K.message}):P=>{const C={...P};return delete C[D],C})}}function T(){const D=t==="login"?sS:oS,V=t==="login"?{email:s.email,password:s.password}:{name:s.name,email:s.email,password:s.password,confirmPassword:s.confirmPassword},U=D.safeParse(V);if(!U.success){const z={};return U.error.errors.forEach($=>{const K=$.path.join(".");z[K]=$.message}),u(z),Object.values(z)[0]}return u({}),null}async function A(D){D.preventDefault();const V=T();if(V){Jr.error(V);return}m(!0);try{t==="login"?(await n(s.email,s.password,s.rememberMe),Jr.success("Welcome back!")):(await e(s.email,s.password,s.name),Jr.success("Registration successful! Your account is pending approval by an administrator."),I("login"))}catch(U){if(U instanceof Error){const z=U.message;if(z.startsWith("NO_ACCOUNT:")){const $=z.replace("NO_ACCOUNT:","");Jr.error($,{action:{label:"Sign Up",onClick:()=>I("register")},duration:8e3})}else z.startsWith("WRONG_PASSWORD:")?Jr.error(z.replace("WRONG_PASSWORD:","")):z.startsWith("PENDING:")?Jr.warning(z.replace("PENDING:",""),{duration:6e3}):z.startsWith("INACTIVE:")?Jr.error(z.replace("INACTIVE:",""),{duration:6e3}):Jr.error(z)}else Jr.error("An error occurred. Please try again.")}finally{m(!1)}}return E.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:E.jsxs(dC,{className:"w-full max-w-[360px] shadow-xl mx-auto",children:[E.jsxs(hC,{className:"space-y-4 text-center",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:E.jsx(wp,{className:"h-8 w-8 text-primary"})})}),E.jsxs("div",{children:[E.jsx(fC,{className:"text-2xl font-bold",children:t==="login"?"Welcome Back":"Create Account"}),E.jsx(pC,{className:"mt-2",children:t==="login"?"Sign in to your Warehouse Management System":"Register for a new account (requires admin approval)"})]})]}),E.jsx(mC,{children:E.jsxs("form",{onSubmit:A,className:"space-y-4",children:[t==="register"&&E.jsxs("div",{className:"space-y-2",children:[E.jsx(pu,{htmlFor:"name",children:"Full Name"}),E.jsxs("div",{className:"relative",children:[E.jsx(Ty,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(bu,{id:"name",type:"text",placeholder:"John Doe",value:s.name,onChange:D=>{i({...s,name:D.target.value}),R("name",D.target.value)},className:`pl-9 ${l.name?"border-red-500":""}`,disabled:g,autoComplete:"name"})]}),l.name&&E.jsx("p",{className:"text-sm text-red-500",children:l.name})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(pu,{htmlFor:"email",children:"Email"}),E.jsxs("div",{className:"relative",children:[E.jsx(k2,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(bu,{id:"email",type:"email",placeholder:"admin@wms.com",value:s.email,onChange:D=>{i({...s,email:D.target.value}),R("email",D.target.value)},className:`pl-9 ${l.email?"border-red-500":""}`,disabled:g,autoComplete:"email"})]}),l.email&&E.jsx("p",{className:"text-sm text-red-500",children:l.email})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(pu,{htmlFor:"password",children:"Password"}),E.jsxs("div",{className:"relative",children:[E.jsx(XE,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(bu,{id:"password",type:h?"text":"password",placeholder:t==="register"?`Min ${Wy.split(" ").pop()} characters`:"Enter your password",value:s.password,onChange:D=>{i({...s,password:D.target.value}),R("password",D.target.value)},className:`pl-9 pr-9 ${l.password?"border-red-500":""}`,disabled:g,autoComplete:t==="login"?"current-password":"new-password"}),E.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:g,tabIndex:-1,children:h?E.jsx(y2,{className:"h-4 w-4"}):E.jsx(_2,{className:"h-4 w-4"})})]}),l.password?E.jsx("p",{className:"text-sm text-red-500",children:l.password}):t==="register"&&E.jsx("p",{className:"text-xs text-muted-foreground",children:Wy})]}),t==="register"&&E.jsxs("div",{className:"space-y-2",children:[E.jsx(pu,{htmlFor:"confirmPassword",children:"Confirm Password"}),E.jsxs("div",{className:"relative",children:[E.jsx(XE,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(bu,{id:"confirmPassword",type:h?"text":"password",placeholder:"Confirm your password",value:s.confirmPassword,onChange:D=>{i({...s,confirmPassword:D.target.value}),R("confirmPassword",D.target.value)},className:`pl-9 ${l.confirmPassword?"border-red-500":""}`,disabled:g,autoComplete:"new-password"})]}),l.confirmPassword&&E.jsx("p",{className:"text-sm text-red-500",children:l.confirmPassword})]}),t==="login"&&E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(G5,{id:"remember",checked:s.rememberMe,onCheckedChange:D=>i({...s,rememberMe:D}),disabled:g}),E.jsx(pu,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),E.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",disabled:g,onClick:()=>Jr.info("Password reset feature coming soon!"),children:"Forgot password?"})]}),E.jsx(ju,{type:"submit",className:"w-full",disabled:g,children:g?E.jsxs(E.Fragment,{children:[E.jsx(Rf,{className:"mr-2 h-4 w-4 animate-spin"}),t==="login"?"Signing in...":"Creating account..."]}):t==="login"?"Sign In":"Create Account"}),E.jsx("div",{className:"text-center text-sm",children:t==="login"?E.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",E.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>I("register"),disabled:g,children:"Sign up"})]}):E.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",E.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>I("login"),disabled:g,children:"Sign in"})]})}),t==="login"&&E.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[E.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Demo Credentials:"}),E.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[E.jsxs("p",{children:[E.jsx("span",{className:"font-medium",children:"Owner:"})," owner@wms.com / owner123"]}),E.jsxs("p",{children:[E.jsx("span",{className:"font-medium",children:"Admin:"})," admin@wms.com / admin123"]}),E.jsxs("p",{children:[E.jsx("span",{className:"font-medium",children:"Operator:"})," operator@wms.com / operator123"]})]})]}),t==="register"&&E.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:E.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:[E.jsx("strong",{children:"Note:"})," New accounts require administrator approval before you can access the system. You will be notified once your account is approved."]})})]})})]})})}const iS="wms_error_logs",aS=100;function Gy(n,e){const t={message:n?.message??String(n),stack:n?.stack,componentStack:e?.componentStack,timestamp:Date.now()};try{const r=localStorage.getItem(iS),s=r?JSON.parse(r):[];s.unshift(t),s.length>aS&&(s.length=aS),localStorage.setItem(iS,JSON.stringify(s))}catch{}}function i6({...n}){return E.jsx(a1,{"data-slot":"dialog",...n})}function jH({...n}){return E.jsx(_M,{"data-slot":"dialog-trigger",...n})}function a6({...n}){return E.jsx(l1,{"data-slot":"dialog-portal",...n})}function l6({className:n,...e}){return E.jsx(Fv,{"data-slot":"dialog-overlay",className:$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function c6({className:n,children:e,...t}){return E.jsxs(a6,{"data-slot":"dialog-portal",children:[E.jsx(l6,{}),E.jsxs(jv,{"data-slot":"dialog-content",className:$e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,E.jsxs(c1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[E.jsx(Rv,{}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function UH({className:n,...e}){return E.jsx("div",{"data-slot":"dialog-header",className:$e("flex flex-col gap-2 text-center sm:text-left",n),...e})}function zH({className:n,...e}){return E.jsx("div",{"data-slot":"dialog-footer",className:$e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function $H({className:n,...e}){return E.jsx(Uv,{"data-slot":"dialog-title",className:$e("text-lg leading-none font-semibold",n),...e})}function BH({className:n,...e}){return E.jsx(zv,{"data-slot":"dialog-description",className:$e("text-muted-foreground text-sm",n),...e})}const u6=_p("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function lS({className:n,variant:e,asChild:t=!1,...r}){const s=t?vp:"span";return E.jsx(s,{"data-slot":"badge",className:$e(u6({variant:e}),n),...r})}function d6(n,[e,t]){return Math.min(t,Math.max(e,n))}function h6(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var E_="ScrollArea",[YC]=qs(E_),[f6,jr]=YC(E_),XC=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...l}=n,[u,h]=b.useState(null),[p,g]=b.useState(null),[m,w]=b.useState(null),[I,R]=b.useState(null),[T,A]=b.useState(null),[D,V]=b.useState(0),[U,z]=b.useState(0),[$,K]=b.useState(!1),[P,C]=b.useState(!1),N=Et(e,F=>h(F)),M=Jv(s);return E.jsx(f6,{scope:t,type:r,dir:M,scrollHideDelay:i,scrollArea:u,viewport:p,onViewportChange:g,content:m,onContentChange:w,scrollbarX:I,onScrollbarXChange:R,scrollbarXEnabled:$,onScrollbarXEnabledChange:K,scrollbarY:T,onScrollbarYChange:A,scrollbarYEnabled:P,onScrollbarYEnabledChange:C,onCornerWidthChange:V,onCornerHeightChange:z,children:E.jsx(ht.div,{dir:M,...l,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":D+"px","--radix-scroll-area-corner-height":U+"px",...n.style}})})});XC.displayName=E_;var JC="ScrollAreaViewport",eP=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=n,l=jr(JC,t),u=b.useRef(null),h=Et(e,u,l.onViewportChange);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),E.jsx(ht.div,{"data-radix-scroll-area-viewport":"",...i,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:E.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});eP.displayName=JC;var Ws="ScrollAreaScrollbar",b_=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=jr(Ws,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,u=n.orientation==="horizontal";return b.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),s.type==="hover"?E.jsx(p6,{...r,ref:e,forceMount:t}):s.type==="scroll"?E.jsx(m6,{...r,ref:e,forceMount:t}):s.type==="auto"?E.jsx(tP,{...r,ref:e,forceMount:t}):s.type==="always"?E.jsx(S_,{...r,ref:e}):null});b_.displayName=Ws;var p6=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=jr(Ws,n.__scopeScrollArea),[i,l]=b.useState(!1);return b.useEffect(()=>{const u=s.scrollArea;let h=0;if(u){const p=()=>{window.clearTimeout(h),l(!0)},g=()=>{h=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),E.jsx(Hn,{present:t||i,children:E.jsx(tP,{"data-state":i?"visible":"hidden",...r,ref:e})})}),m6=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=jr(Ws,n.__scopeScrollArea),i=n.orientation==="horizontal",l=Bp(()=>h("SCROLL_END"),100),[u,h]=h6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,s.scrollHideDelay,h]),b.useEffect(()=>{const p=s.viewport,g=i?"scrollLeft":"scrollTop";if(p){let m=p[g];const w=()=>{const I=p[g];m!==I&&(h("SCROLL"),l()),m=I};return p.addEventListener("scroll",w),()=>p.removeEventListener("scroll",w)}},[s.viewport,i,h,l]),E.jsx(Hn,{present:t||u!=="hidden",children:E.jsx(S_,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Le(n.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Le(n.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),tP=b.forwardRef((n,e)=>{const t=jr(Ws,n.__scopeScrollArea),{forceMount:r,...s}=n,[i,l]=b.useState(!1),u=n.orientation==="horizontal",h=Bp(()=>{if(t.viewport){const p=t.viewport.offsetWidth<t.viewport.scrollWidth,g=t.viewport.offsetHeight<t.viewport.scrollHeight;l(u?p:g)}},10);return Yl(t.viewport,h),Yl(t.content,h),E.jsx(Hn,{present:r||i,children:E.jsx(S_,{"data-state":i?"visible":"hidden",...s,ref:e})})}),S_=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=jr(Ws,n.__scopeScrollArea),i=b.useRef(null),l=b.useRef(0),[u,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=iP(u.viewport,u.content),g={...r,sizes:u,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:w=>i.current=w,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:w=>l.current=w};function m(w,I){return E6(w,l.current,u,I)}return t==="horizontal"?E.jsx(g6,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollLeft,I=cS(w,u,s.dir);i.current.style.transform=`translate3d(${I}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=m(w,s.dir))}}):t==="vertical"?E.jsx(y6,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollTop,I=cS(w,u);i.current.style.transform=`translate3d(0, ${I}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=m(w))}}):null}),g6=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=jr(Ws,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=Et(e,h,i.onScrollbarXChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),E.jsx(rP,{"data-orientation":"horizontal",...s,ref:p,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$p(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.x),onDragScroll:g=>n.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(i.viewport){const w=i.viewport.scrollLeft+g.deltaX;n.onWheelScroll(w),lP(w,m)&&g.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:qf(l.paddingLeft),paddingEnd:qf(l.paddingRight)}})}})}),y6=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=jr(Ws,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=Et(e,h,i.onScrollbarYChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),E.jsx(rP,{"data-orientation":"vertical",...s,ref:p,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$p(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.y),onDragScroll:g=>n.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(i.viewport){const w=i.viewport.scrollTop+g.deltaY;n.onWheelScroll(w),lP(w,m)&&g.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:qf(l.paddingTop),paddingEnd:qf(l.paddingBottom)}})}})}),[v6,nP]=YC(Ws),rP=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:m,...w}=n,I=jr(Ws,t),[R,T]=b.useState(null),A=Et(e,N=>T(N)),D=b.useRef(null),V=b.useRef(""),U=I.viewport,z=r.content-r.viewport,$=On(g),K=On(h),P=Bp(m,10);function C(N){if(D.current){const M=N.clientX-D.current.left,F=N.clientY-D.current.top;p({x:M,y:F})}}return b.useEffect(()=>{const N=M=>{const F=M.target;R?.contains(F)&&$(M,z)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[U,R,z,$]),b.useEffect(K,[r,K]),Yl(R,P),Yl(I.content,P),E.jsx(v6,{scope:t,scrollbar:R,hasThumb:s,onThumbChange:On(i),onThumbPointerUp:On(l),onThumbPositionChange:K,onThumbPointerDown:On(u),children:E.jsx(ht.div,{...w,ref:A,style:{position:"absolute",...w.style},onPointerDown:Le(n.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),D.current=R.getBoundingClientRect(),V.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I.viewport&&(I.viewport.style.scrollBehavior="auto"),C(N))}),onPointerMove:Le(n.onPointerMove,C),onPointerUp:Le(n.onPointerUp,N=>{const M=N.target;M.hasPointerCapture(N.pointerId)&&M.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=V.current,I.viewport&&(I.viewport.style.scrollBehavior=""),D.current=null})})})}),Bf="ScrollAreaThumb",sP=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=nP(Bf,n.__scopeScrollArea);return E.jsx(Hn,{present:t||s.hasThumb,children:E.jsx(_6,{ref:e,...r})})}),_6=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,i=jr(Bf,t),l=nP(Bf,t),{onThumbPositionChange:u}=l,h=Et(e,m=>l.onThumbChange(m)),p=b.useRef(void 0),g=Bp(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const w=()=>{if(g(),!p.current){const I=b6(m,u);p.current=I,u()}};return u(),m.addEventListener("scroll",w),()=>m.removeEventListener("scroll",w)}},[i.viewport,g,u]),E.jsx(ht.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(n.onPointerDownCapture,m=>{const I=m.target.getBoundingClientRect(),R=m.clientX-I.left,T=m.clientY-I.top;l.onThumbPointerDown({x:R,y:T})}),onPointerUp:Le(n.onPointerUp,l.onThumbPointerUp)})});sP.displayName=Bf;var I_="ScrollAreaCorner",oP=b.forwardRef((n,e)=>{const t=jr(I_,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?E.jsx(w6,{...n,ref:e}):null});oP.displayName=I_;var w6=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=jr(I_,t),[i,l]=b.useState(0),[u,h]=b.useState(0),p=!!(i&&u);return Yl(s.scrollbarX,()=>{const g=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(g),h(g)}),Yl(s.scrollbarY,()=>{const g=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(g),l(g)}),p?E.jsx(ht.div,{...r,ref:e,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function qf(n){return n?parseInt(n,10):0}function iP(n,e){const t=n/e;return isNaN(t)?0:t}function $p(n){const e=iP(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function E6(n,e,t,r="ltr"){const s=$p(t),i=s/2,l=e||i,u=s-l,h=t.scrollbar.paddingStart+l,p=t.scrollbar.size-t.scrollbar.paddingEnd-u,g=t.content-t.viewport,m=r==="ltr"?[0,g]:[g*-1,0];return aP([h,p],m)(n)}function cS(n,e,t="ltr"){const r=$p(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,l=e.content-e.viewport,u=i-r,h=t==="ltr"?[0,l]:[l*-1,0],p=d6(n,h);return aP([0,l],[0,u])(p)}function aP(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function lP(n,e){return n>0&&n<e}var b6=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const i={left:n.scrollLeft,top:n.scrollTop},l=t.left!==i.left,u=t.top!==i.top;(l||u)&&e(),t=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Bp(n,e){const t=On(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Yl(n,e){const t=On(e);mo(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var cP=XC,S6=eP,I6=oP;const uP=b.forwardRef(({className:n,children:e,...t},r)=>E.jsxs(cP,{ref:r,className:$e("relative overflow-hidden",n),...t,children:[E.jsx(S6,{className:"h-full w-full rounded-[inherit]",children:e}),E.jsx(dP,{}),E.jsx(I6,{})]}));uP.displayName=cP.displayName;const dP=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>E.jsx(b_,{ref:r,orientation:e,className:$e("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:E.jsx(sP,{className:"relative flex-1 rounded-full bg-border"})}));dP.displayName=b_.displayName;const ye={INVENTORY:"wms_inventory",SUPPLIERS:"wms_suppliers",CUSTOMERS:"wms_customers",SHIPMENTS:"wms_shipments",PURCHASE_ORDERS:"wms_purchase_orders",SALES_ORDERS:"wms_sales_orders",CASH_BANK:"wms_cash_bank",PAYMENTS:"wms_payments",CATEGORIES:"wms_categories"};function be(n,e){try{const t=JSON.stringify(e);localStorage.setItem(n,t)}catch(t){console.error(`Failed to save to localStorage (${n}):`,t)}}function So(n,e){try{const t=localStorage.getItem(n);return t===null?e:JSON.parse(t)}catch(t){return console.error(`Failed to load from localStorage (${n}):`,t),e}}const x6=[{id:"INV-001",name:"Laptop Computer",category:"Electronics",quantity:145,location:"A-12",status:"In Stock",brand:"Dell",pricePerPiece:899.99,supplierId:"SUP-001",quantityPurchased:200,quantitySold:55,reorderRequired:!1,description:"15.6-inch display, Intel Core i7 processor, 16GB RAM, 512GB SSD. Perfect for business and professional use with long battery life and lightweight design."},{id:"INV-002",name:"Office Chair",category:"Furniture",quantity:23,location:"B-08",status:"Low Stock",brand:"Herman Miller",pricePerPiece:549,supplierId:"SUP-002",quantityPurchased:100,quantitySold:77,reorderRequired:!0,description:"Ergonomic office chair with adjustable lumbar support, armrests, and seat height. Breathable mesh back for all-day comfort."},{id:"INV-003",name:"Standing Desk",category:"Furniture",quantity:67,location:"B-05",status:"In Stock",brand:"Uplift",pricePerPiece:799,supplierId:"SUP-002",quantityPurchased:120,quantitySold:53,reorderRequired:!1,description:"Electric height-adjustable standing desk with memory presets. 60x30 inch bamboo top with cable management system."},{id:"INV-004",name:"Wireless Mouse",category:"Electronics",quantity:8,location:"A-15",status:"Critical",brand:"Logitech",pricePerPiece:29.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:142,reorderRequired:!0,description:"Ergonomic wireless mouse with customizable buttons and long battery life. 2.4GHz wireless connection with USB receiver."},{id:"INV-005",name:"USB-C Cable",category:"Electronics",quantity:234,location:"A-20",status:"In Stock",brand:"Anker",pricePerPiece:12.99,supplierId:"SUP-001",quantityPurchased:500,quantitySold:266,reorderRequired:!1,description:"Premium braided USB-C to USB-C cable, 6ft length. Supports fast charging up to 100W and data transfer speeds up to 480Mbps."},{id:"INV-006",name:'Monitor 27"',category:"Electronics",quantity:89,location:"A-10",status:"In Stock",brand:"LG",pricePerPiece:349.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:61,reorderRequired:!1,description:"27-inch 4K UHD IPS display with HDR10 support. USB-C connectivity with 65W power delivery. Ideal for creative professionals."},{id:"INV-007",name:"Keyboard Mechanical",category:"Electronics",quantity:156,location:"A-14",status:"In Stock",brand:"Corsair",pricePerPiece:129.99,supplierId:"SUP-001",quantityPurchased:250,quantitySold:94,reorderRequired:!1,description:"Full-size mechanical keyboard with Cherry MX Brown switches. RGB backlighting with dedicated media controls and USB passthrough."},{id:"INV-008",name:"Filing Cabinet",category:"Furniture",quantity:34,location:"B-03",status:"In Stock",brand:"Steelcase",pricePerPiece:299,supplierId:"SUP-002",quantityPurchased:60,quantitySold:26,reorderRequired:!1,description:"4-drawer vertical filing cabinet with full-extension drawers. Built-in lock for security. Holds letter and legal size documents."}],T6=[{id:"SUP-001",name:"TechSource LLC",contact:"John Smith",email:"john@techsource.com",phone:"+1 (555) 123-4567",category:"Electronics",status:"Active",country:"United States",city:"San Francisco",address:"123 Tech Blvd, Suite 100",purchases:125e3,payments:1e5,balance:25e3},{id:"SUP-002",name:"FurniCraft Industries",contact:"Sarah Johnson",email:"sarah@furnicraft.com",phone:"+1 (555) 234-5678",category:"Furniture",status:"Active",country:"United States",city:"Grand Rapids",address:"456 Furniture Ave",purchases:85e3,payments:85e3,balance:0},{id:"SUP-003",name:"Global Electronics Co",contact:"Michael Chen",email:"michael@globalelec.com",phone:"+1 (555) 345-6789",category:"Electronics",status:"Active",country:"China",city:"Shenzhen",address:"789 Electronics Park, Building A",purchases:25e4,payments:2e5,balance:5e4},{id:"SUP-004",name:"Metro Supplies Inc",contact:"Emily Davis",email:"emily@metrosupplies.com",phone:"+1 (555) 456-7890",category:"Office Supplies",status:"Inactive",country:"United States",city:"New York",address:"321 Office Tower, Floor 5",purchases:45e3,payments:45e3,balance:0},{id:"SUP-005",name:"Premium Parts Ltd",contact:"Robert Wilson",email:"robert@premiumparts.com",phone:"+1 (555) 567-8901",category:"Electronics",status:"Active",country:"United Kingdom",city:"London",address:"10 Premium Lane, Industrial Estate",purchases:175e3,payments:15e4,balance:25e3}],C6=[{id:"CUS-001",name:"Acme Corp",contact:"Alice Johnson",email:"alice@acmecorp.com",phone:"+1 (555) 111-2222",category:"Technology",status:"Active",country:"United States",city:"San Francisco",address:"100 Market St, Suite 500",purchases:45e3,payments:4e4,balance:5e3},{id:"CUS-002",name:"TechStart Inc",contact:"Bob Williams",email:"bob@techstart.io",phone:"+1 (555) 222-3333",category:"Startup",status:"Active",country:"United States",city:"Austin",address:"200 Innovation Blvd",purchases:28e3,payments:28e3,balance:0},{id:"CUS-003",name:"Global Solutions",contact:"Carol Martinez",email:"carol@globalsolutions.com",phone:"+1 (555) 333-4444",category:"Enterprise",status:"Active",country:"United Kingdom",city:"London",address:"50 Canary Wharf",purchases:12e4,payments:1e5,balance:2e4},{id:"CUS-004",name:"Beta Systems",contact:"David Lee",email:"david@betasystems.net",phone:"+1 (555) 444-5555",category:"Technology",status:"Active",country:"Canada",city:"Toronto",address:"789 Bay Street",purchases:65e3,payments:6e4,balance:5e3},{id:"CUS-005",name:"Metro Supplies",contact:"Eva Brown",email:"eva@metrosupplies.com",phone:"+1 (555) 555-6666",category:"Retail",status:"Inactive",country:"United States",city:"New York",address:"321 Fifth Avenue",purchases:15e3,payments:15e3,balance:0}],P6=[{id:"SHIP-5678",salesOrderId:"SO-001",destination:"New York, NY",carrier:"FedEx",status:"In Transit",eta:"Oct 18, 2025"},{id:"SHIP-5679",salesOrderId:"SO-002",destination:"Los Angeles, CA",carrier:"UPS",status:"Delivered",eta:"Oct 14, 2025"},{id:"SHIP-5680",salesOrderId:"SO-003",destination:"Chicago, IL",carrier:"DHL",status:"In Transit",eta:"Oct 19, 2025"},{id:"SHIP-5681",salesOrderId:"SO-004",destination:"Houston, TX",carrier:"FedEx",status:"Processing",eta:"Oct 20, 2025"},{id:"SHIP-5682",salesOrderId:"SO-005",destination:"Phoenix, AZ",carrier:"USPS",status:"Pending",eta:"Oct 21, 2025"},{id:"SHIP-5683",salesOrderId:"SO-006",destination:"Philadelphia, PA",carrier:"UPS",status:"In Transit",eta:"Oct 17, 2025"}],A6=[{id:"PO-001",poDate:"2025-10-01",supplierId:"SUP-001",supplierName:"TechSource LLC",supplierCountry:"United States",supplierCity:"San Francisco",billNumber:"INV-2025-0142",items:[{inventoryItemId:"INV-001",itemName:"Laptop Computer",quantity:50,unitPrice:899.99,totalPrice:44999.5,quantityReceived:50},{inventoryItemId:"INV-007",itemName:"Keyboard Mechanical",quantity:100,unitPrice:129.99,totalPrice:12999,quantityReceived:100}],totalAmount:57998.5,totalPaid:57998.5,poBalance:0,status:"Received",shippingStatus:"Delivered",createdBy:"1",createdDate:"2025-10-01",approvedBy:"1",approvedDate:"2025-10-02",receivedDate:"2025-10-10",notes:"Q4 restock order",expectedDeliveryDate:"2025-10-10",actualCost:57998.5},{id:"PO-002",poDate:"2025-10-15",supplierId:"SUP-002",supplierName:"FurniCraft Industries",supplierCountry:"United States",supplierCity:"Grand Rapids",billNumber:"FC-INV-4521",items:[{inventoryItemId:"INV-002",itemName:"Office Chair",quantity:30,unitPrice:549,totalPrice:16470},{inventoryItemId:"INV-003",itemName:"Standing Desk",quantity:20,unitPrice:799,totalPrice:15980}],totalAmount:32450,totalPaid:16225,poBalance:16225,status:"Ordered",shippingStatus:"In Transit",createdBy:"1",createdDate:"2025-10-15",approvedBy:"1",approvedDate:"2025-10-16",receivedDate:null,notes:"Office expansion order",expectedDeliveryDate:"2025-11-01"},{id:"PO-003",poDate:"2025-10-20",supplierId:"SUP-003",supplierName:"Global Gadgets",supplierCountry:"Philippines",supplierCity:"Makati",billNumber:"",items:[{inventoryItemId:"INV-004",itemName:"Wireless Mouse",quantity:100,unitPrice:29.99,totalPrice:2999}],totalAmount:2999,totalPaid:0,poBalance:2999,status:"Pending Approval",shippingStatus:"Pending",createdBy:"2",createdDate:"2025-10-20",approvedBy:null,approvedDate:null,receivedDate:null,notes:"Urgent restock for critical stock item",expectedDeliveryDate:"2025-10-30"},{id:"PO-004",poDate:"2025-10-22",supplierId:"SUP-001",supplierName:"TechSource LLC",supplierCountry:"United States",supplierCity:"San Francisco",billNumber:"",items:[{inventoryItemId:"INV-006",itemName:'Monitor 27"',quantity:25,unitPrice:349.99,totalPrice:8749.75}],totalAmount:8749.75,totalPaid:0,poBalance:8749.75,status:"Draft",shippingStatus:"Pending",createdBy:"1",createdDate:"2025-10-22",approvedBy:null,approvedDate:null,receivedDate:null,notes:"",expectedDeliveryDate:"2025-11-15"},{id:"PO-005",poDate:"2025-11-01",supplierId:"SUP-002",supplierName:"FurniCraft Industries",supplierCountry:"United States",supplierCity:"Grand Rapids",billNumber:"FC-INV-4590",items:[{inventoryItemId:"INV-008",itemName:"Filing Cabinet",quantity:15,unitPrice:299,totalPrice:4485}],totalAmount:4485,totalPaid:4485,poBalance:0,status:"Approved",shippingStatus:"Processing",createdBy:"1",createdDate:"2025-11-01",approvedBy:"1",approvedDate:"2025-11-02",receivedDate:null,notes:"Additional filing cabinets for archive room",expectedDeliveryDate:"2025-11-20"}],R6=[{id:"SO-001",soDate:"2025-10-05",customerId:"CUS-001",customerName:"Acme Corp",customerCountry:"United States",customerCity:"San Francisco",invoiceNumber:"INV-2025-0501",items:[{inventoryItemId:"INV-001",itemName:"Laptop Computer",quantity:10,unitPrice:1299.99,totalPrice:12999.9,quantityShipped:10},{inventoryItemId:"INV-007",itemName:"Keyboard Mechanical",quantity:10,unitPrice:169.99,totalPrice:1699.9,quantityShipped:10}],totalAmount:14699.8,totalReceived:14699.8,soBalance:0,receiptStatus:"Paid",shippingStatus:"Delivered",createdBy:"1",createdDate:"2025-10-05",notes:"Corporate bulk order - priority customer",expectedDeliveryDate:"2025-10-12"},{id:"SO-002",soDate:"2025-10-18",customerId:"CUS-003",customerName:"Global Solutions",customerCountry:"United Kingdom",customerCity:"London",invoiceNumber:"INV-2025-0502",items:[{inventoryItemId:"INV-006",itemName:'Monitor 27"',quantity:20,unitPrice:449.99,totalPrice:8999.8},{inventoryItemId:"INV-003",itemName:"Standing Desk",quantity:15,unitPrice:999,totalPrice:14985}],totalAmount:23984.8,totalReceived:12e3,soBalance:11984.8,receiptStatus:"Partially Paid",shippingStatus:"In Transit",createdBy:"1",createdDate:"2025-10-18",notes:"Office expansion project - Phase 1",expectedDeliveryDate:"2025-11-01"},{id:"SO-003",soDate:"2025-10-25",customerId:"CUS-002",customerName:"TechStart Inc",customerCountry:"United States",customerCity:"Austin",invoiceNumber:"INV-2025-0503",items:[{inventoryItemId:"INV-004",itemName:"Wireless Mouse",quantity:25,unitPrice:39.99,totalPrice:999.75},{inventoryItemId:"INV-005",itemName:"USB-C Cable",quantity:50,unitPrice:19.99,totalPrice:999.5}],totalAmount:1999.25,totalReceived:0,soBalance:1999.25,receiptStatus:"Unpaid",shippingStatus:"Processing",createdBy:"2",createdDate:"2025-10-25",notes:"Startup office setup",expectedDeliveryDate:"2025-11-05"},{id:"SO-004",soDate:"2025-11-01",customerId:"CUS-004",customerName:"Beta Systems",customerCountry:"Canada",customerCity:"Toronto",invoiceNumber:"INV-2025-0504",items:[{inventoryItemId:"INV-002",itemName:"Office Chair",quantity:8,unitPrice:699,totalPrice:5592},{inventoryItemId:"INV-008",itemName:"Filing Cabinet",quantity:4,unitPrice:399,totalPrice:1596}],totalAmount:7188,totalReceived:7188,soBalance:0,receiptStatus:"Paid",shippingStatus:"Shipped",createdBy:"1",createdDate:"2025-11-01",notes:"New office furniture order",expectedDeliveryDate:"2025-11-15"},{id:"SO-005",soDate:"2025-09-15",customerId:"CUS-003",customerName:"Global Solutions",customerCountry:"United Kingdom",customerCity:"London",invoiceNumber:"INV-2025-0495",items:[{inventoryItemId:"INV-001",itemName:"Laptop Computer",quantity:5,unitPrice:1299.99,totalPrice:6499.95}],totalAmount:6499.95,totalReceived:3e3,soBalance:3499.95,receiptStatus:"Overdue",shippingStatus:"Delivered",createdBy:"1",createdDate:"2025-09-15",notes:"Payment reminder sent - overdue",expectedDeliveryDate:"2025-09-25"}];function k6(n){return n.map(e=>{if(e.quantityPurchased===void 0||e.quantitySold===void 0||e.reorderRequired===void 0){const{reorderLevel:r,maintainStockAt:s,minimumStock:i,...l}=e,u=e.quantityPurchased??Math.floor(e.quantity*1.5),h=e.quantitySold??Math.floor(u-e.quantity),p=e.reorderRequired??e.quantity<=(e.minimumStock??e.reorderLevel??20);return{...l,brand:e.brand||"Unknown",pricePerPiece:e.pricePerPiece??0,supplierId:e.supplierId||"SUP-001",quantityPurchased:u,quantitySold:h,reorderRequired:p}}return e})}function N6(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalPaid??0,s=e.poDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,poDate:s,supplierCountry:e.supplierCountry??"",supplierCity:e.supplierCity??"",billNumber:e.billNumber??"",items:e.items??[],totalAmount:t,totalPaid:r,poBalance:e.poBalance??t-r,status:e.status??"Draft",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s}})}function D6(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function O6(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function M6(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalReceived??0,s=e.soDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,soDate:s,customerCountry:e.customerCountry??"",customerCity:e.customerCity??"",invoiceNumber:e.invoiceNumber??"",items:e.items??[],totalAmount:t,totalReceived:r,soBalance:e.soBalance??t-r,receiptStatus:e.receiptStatus??"Unpaid",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s,archived:e.archived??!1}})}const V6=[{name:"Electronics",subcategories:["Phones","Laptops","Tablets","Accessories","Monitors"]},{name:"Furniture",subcategories:["Desks","Chairs","Cabinets","Shelving"]},{name:"Clothing",subcategories:["Shirts","Pants","Shoes","Accessories"]},{name:"Food & Beverages",subcategories:["Beverages","Snacks","Canned Goods","Fresh Produce"]}];let uo=k6(So(ye.INVENTORY,x6)),Xe=D6(So(ye.SUPPLIERS,T6)),ot=O6(So(ye.CUSTOMERS,C6)),Gt=So(ye.SHIPMENTS,P6),Ae=N6(So(ye.PURCHASE_ORDERS,A6)),ct=M6(So(ye.SALES_ORDERS,R6)),Dr=So(ye.CATEGORIES,V6);be(ye.INVENTORY,uo);be(ye.SUPPLIERS,Xe);be(ye.CUSTOMERS,ot);be(ye.PURCHASE_ORDERS,Ae);be(ye.SALES_ORDERS,ct);be(ye.CATEGORIES,Dr);function L6(n,e){return n<=0?"Critical":e?"Low Stock":"In Stock"}function F6(){const e=Xe.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SUP-${String(e).padStart(3,"0")}`}function j6(){const e=ot.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`CUS-${String(e).padStart(3,"0")}`}function U6(){const e=Ae.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`PO-${String(e).padStart(3,"0")}`}function z6(){const e=ct.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SO-${String(e).padStart(3,"0")}`}function Se(n,e=150){return new Promise(t=>setTimeout(()=>t(n),e))}async function qH(){return Se([...uo])}async function $6(){return Se([...Xe])}async function HH(n){const e=n.id&&n.id.trim()!==""?n.id:F6();if(Xe.some(l=>l.id===e))throw new Error(`Supplier with id ${e} already exists`);const t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name.trim(),contact:n.contact.trim(),email:n.email.trim(),phone:n.phone.trim(),category:n.category.trim(),status:n.status??"Active",country:n.country?.trim()??"",city:n.city?.trim()??"",address:n.address?.trim()??"",purchases:t,payments:r,balance:s};return Xe=[i,...Xe],be(ye.SUPPLIERS,Xe),Se(i)}async function WH(n){const e=Xe.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Supplier not found");const t=Xe[e],r=n.purchases!==void 0?n.purchases:t.purchases,s=n.payments!==void 0?n.payments:t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return Xe[e]=l,be(ye.SUPPLIERS,Xe),Se(l)}async function GH(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!0,archivedAt:new Date().toISOString()},be(ye.SUPPLIERS,Xe),Se(Xe[e])}async function KH(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!1,archivedAt:void 0},be(ye.SUPPLIERS,Xe),Se(Xe[e])}async function ZH(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");Xe.splice(e,1),be(ye.SUPPLIERS,Xe),await Se(void 0)}async function QH(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!0,archivedAt:new Date().toISOString()},t++}return be(ye.SUPPLIERS,Xe),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function YH(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!1,archivedAt:void 0},t++}return be(ye.SUPPLIERS,Xe),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function XH(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe.splice(s,1),t++}return be(ye.SUPPLIERS,Xe),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function JH(){return Se([...ot])}async function eW(n){const e=n.id&&n.id.trim()!==""?n.id:j6(),t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name,contact:n.contact,email:n.email,phone:n.phone,category:n.category,status:n.status??"Active",country:n.country??"",city:n.city??"",address:n.address??"",purchases:t,payments:r,balance:s};return ot.push(i),be(ye.CUSTOMERS,ot),Se(i)}async function tW(n){const e=ot.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Customer not found");const t=ot[e],r=n.purchases??t.purchases,s=n.payments??t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return ot[e]=l,be(ye.CUSTOMERS,ot),Se(l)}async function nW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!0,archivedAt:new Date().toISOString()};return ot[e]=t,be(ye.CUSTOMERS,ot),Se(t)}async function rW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!1,archivedAt:void 0};return ot[e]=t,be(ye.CUSTOMERS,ot),Se(t)}async function sW(n){const e=ot.findIndex(t=>t.id===n);if(e===-1)throw new Error("Customer not found");return ot.splice(e,1),be(ye.CUSTOMERS,ot),Se(void 0)}async function oW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return be(ye.CUSTOMERS,ot),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function iW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!0,archivedAt:new Date().toISOString()},t++}return be(ye.CUSTOMERS,ot),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function aW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!1,archivedAt:void 0},t++}return be(ye.CUSTOMERS,ot),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function lW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return be(ye.CUSTOMERS,ot),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function cW(n,e){const t=[];let r=0;for(const s of n){const i=ot.findIndex(l=>l.id===s);if(i===-1){t.push(`Customer ${s} not found`);continue}ot[i]={...ot[i],status:e},r++}return be(ye.CUSTOMERS,ot),Se({successCount:r,failedCount:t.length,errors:t.length>0?t:void 0})}async function B6(){return Se([...Gt])}async function uW(n){const e=n.id&&n.id.trim()!==""?n.id:(()=>{const s=Gt.map(i=>Number(i.id.replace(/[^0-9]/g,""))||0).reduce((i,l)=>Math.max(i,l),0)+1;return`SHIP-${String(s).padStart(4,"0")}`})();if(Gt.some(r=>r.id===e))throw new Error(`Shipment with id ${e} already exists`);const t={id:e,...n};return Gt=[t,...Gt],be(ye.SHIPMENTS,Gt),Se(t)}async function dW(n){const e=Gt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Shipment not found");const r={...Gt[e],...n};return Gt[e]=r,be(ye.SHIPMENTS,Gt),Se(r)}async function hW(n){const e=Gt.findIndex(t=>t.id===n);if(e===-1)throw new Error("Shipment not found");Gt[e],Gt.splice(e,1),be(ye.SHIPMENTS,Gt),await Se(void 0)}async function fW(n){const e=[];let t=0;for(const r of n){const s=Gt.findIndex(i=>i.id===r);s===-1?e.push(`Shipment ${r} not found`):(Gt.splice(s,1),t++)}return be(ye.SHIPMENTS,Gt),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function pW(n,e){const t=[];let r=0;for(const s of n){const i=Gt.findIndex(l=>l.id===s);i===-1?t.push(`Shipment ${s} not found`):(Gt[i]={...Gt[i],status:e},r++)}return be(ye.SHIPMENTS,Gt),Se({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function mW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);s===-1?e.push(`Supplier ${r} not found`):(Xe.splice(s,1),t++)}return be(ye.SUPPLIERS,Xe),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function gW(n,e){const t=[];let r=0;for(const s of n){const i=Xe.findIndex(l=>l.id===s);i===-1?t.push(`Supplier ${s} not found`):(Xe[i]={...Xe[i],status:e},r++)}return be(ye.SUPPLIERS,Xe),Se({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function q6(){return Se([...Ae])}async function yW(n){const e=n.id&&n.id.trim()!==""?n.id:U6();if(Ae.some(l=>l.id===e))throw new Error(`Purchase Order with id ${e} already exists`);const t=n.items.reduce((l,u)=>l+u.totalPrice,0),r=n.totalPaid??0,s=n.poDate??new Date().toISOString().split("T")[0],i={id:e,poDate:s,supplierId:n.supplierId,supplierName:n.supplierName,supplierCountry:n.supplierCountry??"",supplierCity:n.supplierCity??"",billNumber:n.billNumber??"",items:n.items.map(l=>({...l,quantityReceived:0})),totalAmount:t,totalPaid:r,poBalance:t-r,status:"Draft",shippingStatus:"Pending",createdBy:n.createdBy,createdDate:s,approvedBy:null,approvedDate:null,receivedDate:null,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return Ae=[i,...Ae],be(ye.PURCHASE_ORDERS,Ae),Se(i)}async function vW(n){const e=Ae.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Purchase Order not found");const r={...Ae[e],...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),(n.items!==void 0||n.totalPaid!==void 0)&&(r.poBalance=r.totalAmount-r.totalPaid),Ae[e]=r,be(ye.PURCHASE_ORDERS,Ae),Se(r)}async function _W(n){const e=Ae.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ae[e];if(t.status!=="Draft")throw new Error("Only Draft purchase orders can be submitted for approval");return Ae[e]={...t,status:"Pending Approval"},be(ye.PURCHASE_ORDERS,Ae),Se(Ae[e])}async function wW(n,e){const t=Ae.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Ae[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be approved");return Ae[t]={...r,status:"Approved",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},be(ye.PURCHASE_ORDERS,Ae),Se(Ae[t])}async function EW(n,e){const t=Ae.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Ae[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be rejected");return Ae[t]={...r,status:"Rejected",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},be(ye.PURCHASE_ORDERS,Ae),Se(Ae[t])}async function bW(n){const e=Ae.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ae[e];if(t.status!=="Approved")throw new Error("Only Approved purchase orders can be marked as ordered");return Ae[e]={...t,status:"Ordered"},be(ye.PURCHASE_ORDERS,Ae),Se(Ae[e])}async function SW(n){const e=Ae.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ae[e];if(["Received","Cancelled"].includes(t.status))throw new Error("Cannot cancel received or already cancelled purchase orders");return Ae[e]={...t,status:"Cancelled"},be(ye.PURCHASE_ORDERS,Ae),Se(Ae[e])}async function IW(n,e,t){const r=Ae.findIndex(m=>m.id===n);if(r===-1)throw new Error("Purchase Order not found");const s=Ae[r];if(!["Ordered","Partially Received"].includes(s.status))throw new Error("Can only receive items for Ordered or Partially Received purchase orders");const i=[],l=s.items.map(m=>{const w=e.find(A=>A.inventoryItemId===m.inventoryItemId);if(!w)return m;const R=(m.quantityReceived??0)+w.quantityReceived;if(R>m.quantity)throw new Error(`Cannot receive more than ordered quantity for ${m.itemName}`);const T=uo.findIndex(A=>A.id===m.inventoryItemId);if(T!==-1){const A=uo[T].quantity,D=A+w.quantityReceived;uo[T]={...uo[T],quantity:D,status:L6(D,uo[T].reorderLevel,uo[T].maintainStockAt)},i.push({itemId:m.inventoryItemId,itemName:m.itemName,previousQty:A,newQty:D})}return{...m,quantityReceived:R}}),u=l.every(m=>(m.quantityReceived??0)>=m.quantity),h=l.some(m=>(m.quantityReceived??0)>0);let p=s.status,g=s.receivedDate;return u?(p="Received",g=new Date().toISOString().split("T")[0]):h&&(p="Partially Received"),Ae[r]={...s,items:l,status:p,receivedDate:g,actualCost:t??s.actualCost},be(ye.PURCHASE_ORDERS,Ae),be(ye.INVENTORY,uo),Se({purchaseOrder:Ae[r],inventoryUpdates:i})}async function xW(n){const e=Ae.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Ae[e]={...Ae[e],archived:!0,archivedAt:new Date().toISOString()},be(ye.PURCHASE_ORDERS,Ae),Se(Ae[e])}async function TW(n){const e=Ae.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Ae[e]={...Ae[e],archived:!1,archivedAt:void 0},be(ye.PURCHASE_ORDERS,Ae),Se(Ae[e])}async function CW(n){const e=Ae.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");Ae.splice(e,1),be(ye.PURCHASE_ORDERS,Ae),await Se(void 0)}async function PW(n){const e=[];let t=0;for(const r of n){const s=Ae.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ae[s]={...Ae[s],archived:!0,archivedAt:new Date().toISOString()},t++)}return be(ye.PURCHASE_ORDERS,Ae),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function AW(n){const e=[];let t=0;for(const r of n){const s=Ae.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ae[s]={...Ae[s],archived:!1,archivedAt:void 0},t++)}return be(ye.PURCHASE_ORDERS,Ae),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function RW(n){const e=[];let t=0;for(const r of n){const s=Ae.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ae.splice(s,1),t++)}return be(ye.PURCHASE_ORDERS,Ae),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function kW(){return Se([...ct])}async function NW(n){const e=n.id&&n.id.trim()!==""?n.id:z6();if(ct.some(h=>h.id===e))throw new Error(`Sales Order with id ${e} already exists`);const t=n.items.reduce((h,p)=>h+p.totalPrice,0),r=n.totalReceived??0,s=t-r,i=n.soDate??new Date().toISOString().split("T")[0];let l=n.receiptStatus??"Unpaid";n.receiptStatus||(r>=t?l="Paid":r>0&&(l="Partially Paid"));const u={id:e,soDate:i,customerId:n.customerId,customerName:n.customerName,customerCountry:n.customerCountry??"",customerCity:n.customerCity??"",invoiceNumber:n.invoiceNumber??"",items:n.items.map(h=>({...h,quantityShipped:0})),totalAmount:t,totalReceived:r,soBalance:s,receiptStatus:l,shippingStatus:n.shippingStatus??"Pending",createdBy:n.createdBy,createdDate:i,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return ct.push(u),be(ye.SALES_ORDERS,ct),Se(u)}async function DW(n){const e=ct.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Sales Order not found");const r={...ct[e],...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),r.soBalance=r.totalAmount-r.totalReceived,ct[e]=r,be(ye.SALES_ORDERS,ct),Se(r)}async function OW(n){const e=ct.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ct.splice(e,1),be(ye.SALES_ORDERS,ct),Se(void 0)}async function MW(n){const e=ct.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ct[e]={...ct[e],archived:!0,archivedAt:new Date().toISOString()},be(ye.SALES_ORDERS,ct),Se(ct[e])}async function VW(n){const e=ct.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ct[e]={...ct[e],archived:!1,archivedAt:void 0},be(ye.SALES_ORDERS,ct),Se(ct[e])}async function LW(n){const e=[];let t=0;for(const r of n){const s=ct.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ct[s]={...ct[s],archived:!0,archivedAt:new Date().toISOString()},t++}return be(ye.SALES_ORDERS,ct),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function FW(n){const e=[];let t=0;for(const r of n){const s=ct.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ct[s]={...ct[s],archived:!1,archivedAt:void 0},t++}return be(ye.SALES_ORDERS,ct),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function jW(n){const e=[];let t=0;for(const r of n){const s=ct.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}if(!ct[s].archived){e.push(`Sales Order ${r} must be archived before permanent deletion`);continue}ct.splice(s,1),t++}return be(ye.SALES_ORDERS,ct),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function UW(){return Se([...Dr])}async function zW(n){if(Dr.find(r=>r.name.toLowerCase()===n.toLowerCase()))throw new Error(`Category "${n}" already exists`);const t={name:n,subcategories:[]};return Dr=[...Dr,t],be(ye.CATEGORIES,Dr),Se(t)}async function $W(n,e){const t=Dr.findIndex(i=>i.name===n);if(t===-1)throw new Error(`Category "${n}" not found`);const r=Dr[t];if(r.subcategories.some(i=>i.toLowerCase()===e.toLowerCase()))throw new Error(`Subcategory "${e}" already exists in "${n}"`);const s={...r,subcategories:[...r.subcategories,e]};return Dr=[...Dr.slice(0,t),s,...Dr.slice(t+1)],be(ye.CATEGORIES,Dr),Se(s)}const H6=[{id:"TRX-001",trxDate:"2025-10-10",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Bank Transfer",amountReceived:14699.8,notes:"Full payment for SO-001",createdAt:"2025-10-10T10:30:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-002",invoiceNumber:"INV-2025-0502",paymentMode:"Credit Card",amountReceived:12e3,notes:"Partial payment for SO-002",createdAt:"2025-10-20T14:15:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Bank Transfer",amountReceived:7188,notes:"Full payment for furniture order",createdAt:"2025-11-05T09:00:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-005",invoiceNumber:"INV-2025-0495",paymentMode:"Check",amountReceived:3e3,notes:"Partial payment - overdue balance",createdAt:"2025-09-20T11:45:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-11-01",customerId:"CUS-002",customerName:"TechStart Inc",country:"United States",city:"Austin",soId:"SO-003",invoiceNumber:"INV-2025-0503",paymentMode:"Cash",amountReceived:500,notes:"Deposit for order",createdAt:"2025-11-01T16:30:00Z",createdBy:"2",archived:!1},{id:"TRX-006",trxDate:"2025-10-25",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Online Payment",amountReceived:2500,notes:"Additional payment for extended warranty",createdAt:"2025-10-25T13:00:00Z",createdBy:"1",archived:!1},{id:"TRX-007",trxDate:"2025-11-10",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Credit Card",amountReceived:1500,notes:"Additional items added to order",createdAt:"2025-11-10T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-10-15",customerId:"CUS-005",customerName:"Metro Supplies",country:"United States",city:"New York",soId:"SO-003",invoiceNumber:"INV-2025-0499",paymentMode:"Bank Transfer",amountReceived:850,notes:"Final payment clearing balance",createdAt:"2025-10-15T09:30:00Z",createdBy:"1",archived:!1}];let et=So(ye.CASH_BANK,H6);et=et.map(n=>({...n,archived:n.archived??!1}));be(ye.CASH_BANK,et);function W6(){const n=et.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function BW(){return Se([...et])}async function qW(n){const e=n.id||W6(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,customerId:n.customerId,customerName:n.customerName,country:n.country||"",city:n.city||"",soId:n.soId,invoiceNumber:n.invoiceNumber||"",paymentMode:n.paymentMode,amountReceived:n.amountReceived,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return et=[...et,r],be(ye.CASH_BANK,et),Se(r)}async function HW(n){const e=et.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n.id} not found`);const t=et[e],r={...t,trxDate:n.trxDate??t.trxDate,customerId:n.customerId??t.customerId,customerName:n.customerName??t.customerName,country:n.country??t.country,city:n.city??t.city,soId:n.soId??t.soId,invoiceNumber:n.invoiceNumber??t.invoiceNumber,paymentMode:n.paymentMode??t.paymentMode,amountReceived:n.amountReceived??t.amountReceived,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return et=[...et.slice(0,e),r,...et.slice(e+1)],be(ye.CASH_BANK,et),Se(r)}async function WW(n){const e=et.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...et[e],archived:!0,archivedAt:new Date().toISOString()};return et=[...et.slice(0,e),t,...et.slice(e+1)],be(ye.CASH_BANK,et),Se(t)}async function GW(n){const e=et.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...et[e],archived:!1,archivedAt:void 0};return et=[...et.slice(0,e),t,...et.slice(e+1)],be(ye.CASH_BANK,et),Se(t)}async function KW(n){if(et.findIndex(t=>t.id===n)===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);return et=et.filter(t=>t.id!==n),be(ye.CASH_BANK,et),Se(void 0)}async function ZW(n){const e=new Date().toISOString(),t=[];return et=et.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),be(ye.CASH_BANK,et),Se(t)}async function QW(n){const e=[];return et=et.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),be(ye.CASH_BANK,et),Se(e)}async function YW(n){return et=et.filter(e=>!n.includes(e.id)),be(ye.CASH_BANK,et),Se(void 0)}const G6=[{id:"TRX-001",trxDate:"2025-10-05",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-001",billNumber:"INV-2025-0142",paymentMode:"Bank Transfer",amountPaid:57998.5,notes:"Full payment for PO-001 - Q4 restock",createdAt:"2025-10-05T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Check",amountPaid:16225,notes:"50% deposit for office furniture",createdAt:"2025-10-20T14:30:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-005",billNumber:"FC-INV-4590",paymentMode:"Bank Transfer",amountPaid:4485,notes:"Full payment for filing cabinets",createdAt:"2025-11-05T09:15:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-28",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Credit Card",amountPaid:25e3,notes:"Partial payment for electronics shipment",createdAt:"2025-09-28T11:00:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-10-30",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Bank Transfer",amountPaid:25e3,notes:"Final payment for electronics shipment",createdAt:"2025-10-30T15:45:00Z",createdBy:"1",archived:!1},{id:"TRX-006",trxDate:"2025-11-02",supplierId:"SUP-005",supplierName:"Premium Parts Ltd",country:"United Kingdom",city:"London",poId:"PO-003",billNumber:"PP-UK-2025-456",paymentMode:"Online Payment",amountPaid:15e3,notes:"Payment for premium components",createdAt:"2025-11-02T08:30:00Z",createdBy:"2",archived:!1},{id:"TRX-007",trxDate:"2025-10-12",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-004",billNumber:"TS-INV-2025-234",paymentMode:"Cash",amountPaid:3500,notes:"Advance payment for monitor order",createdAt:"2025-10-12T13:20:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-11-08",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Bank Transfer",amountPaid:8e3,notes:"Second installment for furniture order",createdAt:"2025-11-08T10:00:00Z",createdBy:"1",archived:!1}];let tt=So(ye.PAYMENTS,G6);tt=tt.map(n=>({...n,archived:n.archived??!1}));be(ye.PAYMENTS,tt);function K6(){const n=tt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function XW(){return Se([...tt])}async function JW(n){const e=n.id||K6(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,supplierId:n.supplierId,supplierName:n.supplierName,country:n.country||"",city:n.city||"",poId:n.poId,billNumber:n.billNumber||"",paymentMode:n.paymentMode,amountPaid:n.amountPaid,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return tt=[...tt,r],be(ye.PAYMENTS,tt),Se(r)}async function eG(n){const e=tt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Payment transaction with ID ${n.id} not found`);const t=tt[e],r={...t,trxDate:n.trxDate??t.trxDate,supplierId:n.supplierId??t.supplierId,supplierName:n.supplierName??t.supplierName,country:n.country??t.country,city:n.city??t.city,poId:n.poId??t.poId,billNumber:n.billNumber??t.billNumber,paymentMode:n.paymentMode??t.paymentMode,amountPaid:n.amountPaid??t.amountPaid,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),r,...tt.slice(e+1)],be(ye.PAYMENTS,tt),Se(r)}async function tG(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...tt[e],archived:!0,archivedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],be(ye.PAYMENTS,tt),Se(t)}async function nG(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...tt[e],archived:!1,archivedAt:void 0};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],be(ye.PAYMENTS,tt),Se(t)}async function rG(n){if(tt.findIndex(t=>t.id===n)===-1)throw new Error(`Payment transaction with ID ${n} not found`);return tt=tt.filter(t=>t.id!==n),be(ye.PAYMENTS,tt),Se(void 0)}async function sG(n){const e=new Date().toISOString(),t=[];return tt=tt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),be(ye.PAYMENTS,tt),Se(t)}async function oG(n){const e=[];return tt=tt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),be(ye.PAYMENTS,tt),Se(e)}async function iG(n){return tt=tt.filter(e=>!n.includes(e.id)),be(ye.PAYMENTS,tt),Se(void 0)}const Z6=()=>{};var uS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Q6=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],l=n[t++],u=n[t++],h=((s&7)<<18|(i&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},fP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,g=i>>2,m=(i&3)<<4|u>>4;let w=(u&15)<<2|p>>6,I=p&63;h||(I=64,l||(w=64)),r.push(t[g],t[m],t[w],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Q6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const m=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||u==null||p==null||m==null)throw new Y6;const w=i<<2|u>>4;if(r.push(w),p!==64){const I=u<<4&240|p>>2;if(r.push(I),m!==64){const R=p<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Y6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X6=function(n){const e=hP(n);return fP.encodeByteArray(e,!0)},Hf=function(n){return X6(n).replace(/\./g,"")},pP=function(n){try{return fP.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=()=>mP().__FIREBASE_DEFAULTS__,eU=()=>{if(typeof process>"u"||typeof uS>"u")return;const n=uS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pP(n[1]);return e&&JSON.parse(e)},qp=()=>{try{return Z6()||J6()||eU()||tU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gP=n=>qp()?.emulatorHosts?.[n],nU=n=>{const e=gP(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yP=()=>qp()?.config,vP=n=>qp()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _P(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hf(JSON.stringify(t)),Hf(JSON.stringify(l)),""].join(".")}const Au={};function oU(){const n={prod:[],emulator:[]};for(const e of Object.keys(Au))Au[e]?n.emulator.push(e):n.prod.push(e);return n}function iU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let dS=!1;function wP(n,e){if(typeof window>"u"||typeof document>"u"||!vc(window.location.host)||Au[n]===e||Au[n]||dS)return;Au[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",i=oU().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{dS=!0,l()},w}function g(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function m(){const w=iU(r),I=t("text"),R=document.getElementById(I)||document.createElement("span"),T=t("learnmore"),A=document.getElementById(T)||document.createElement("a"),D=t("preprendIcon"),V=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const U=w.element;u(U),g(A,T);const z=p();h(V,D),U.append(V,R,A,z),document.body.appendChild(U)}i?(R.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function EP(){const n=qp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dU(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bP(){return!EP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SP(){return!EP()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function IP(){try{return typeof indexedDB=="object"}catch{return!1}}function hU(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="FirebaseError";class Io extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fU,Object.setPrototypeOf(this,Io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,md.prototype.create)}}class md{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?pU(i,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Io(s,u,r)}}function pU(n,e){return n.replace(mU,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mU=/\{\$([^}]+)}/g;function gU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ia(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],l=e[s];if(hS(i)&&hS(l)){if(!Ia(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function hS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yU(n,e){const t=new vU(n,e);return t.subscribe.bind(t)}class vU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_U(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=cy),s.error===void 0&&(s.error=cy),s.complete===void 0&&(s.complete=cy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _U(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(n){return n&&n._delegate?n._delegate:n}class xa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new rU;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bU(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EU(n){return n===oa?void 0:n}function bU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const IU={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},xU=it.INFO,TU={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},CU=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=TU[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x_{constructor(e){this.name=e,this._logLevel=xU,this._logHandler=CU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const PU=(n,e)=>e.some(t=>n instanceof t);let fS,pS;function AU(){return fS||(fS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RU(){return pS||(pS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xP=new WeakMap,Ky=new WeakMap,TP=new WeakMap,uy=new WeakMap,T_=new WeakMap;function kU(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",l)},i=()=>{t(mi(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&xP.set(t,n)}).catch(()=>{}),T_.set(e,n),e}function NU(n){if(Ky.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",l),n.removeEventListener("abort",l)},i=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",l),n.addEventListener("abort",l)});Ky.set(n,e)}let Zy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ky.get(n);if(e==="objectStoreNames")return n.objectStoreNames||TP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DU(n){Zy=n(Zy)}function OU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(dy(this),e,...t);return TP.set(r,e.sort?e.sort():[e]),mi(r)}:RU().includes(n)?function(...e){return n.apply(dy(this),e),mi(xP.get(this))}:function(...e){return mi(n.apply(dy(this),e))}}function MU(n){return typeof n=="function"?OU(n):(n instanceof IDBTransaction&&NU(n),PU(n,AU())?new Proxy(n,Zy):n)}function mi(n){if(n instanceof IDBRequest)return kU(n);if(uy.has(n))return uy.get(n);const e=MU(n);return e!==n&&(uy.set(n,e),T_.set(e,n)),e}const dy=n=>T_.get(n);function VU(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(n,e),u=mi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(mi(l.result),h.oldVersion,h.newVersion,mi(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const LU=["get","getKey","getAll","getAllKeys","count"],FU=["put","add","delete","clear"],hy=new Map;function mS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hy.get(e))return hy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=FU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||LU.includes(t)))return;const i=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),s&&h.done]))[0]};return hy.set(e,i),i}DU(n=>({...n,get:(e,t,r)=>mS(e,t)||n.get(e,t,r),has:(e,t)=>!!mS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function UU(n){return n.getComponent()?.type==="VERSION"}const Qy="@firebase/app",gS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new x_("@firebase/app"),zU="@firebase/app-compat",$U="@firebase/analytics-compat",BU="@firebase/analytics",qU="@firebase/app-check-compat",HU="@firebase/app-check",WU="@firebase/auth",GU="@firebase/auth-compat",KU="@firebase/database",ZU="@firebase/data-connect",QU="@firebase/database-compat",YU="@firebase/functions",XU="@firebase/functions-compat",JU="@firebase/installations",ez="@firebase/installations-compat",tz="@firebase/messaging",nz="@firebase/messaging-compat",rz="@firebase/performance",sz="@firebase/performance-compat",oz="@firebase/remote-config",iz="@firebase/remote-config-compat",az="@firebase/storage",lz="@firebase/storage-compat",cz="@firebase/firestore",uz="@firebase/ai",dz="@firebase/firestore-compat",hz="firebase",fz="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="[DEFAULT]",pz={[Qy]:"fire-core",[zU]:"fire-core-compat",[BU]:"fire-analytics",[$U]:"fire-analytics-compat",[HU]:"fire-app-check",[qU]:"fire-app-check-compat",[WU]:"fire-auth",[GU]:"fire-auth-compat",[KU]:"fire-rtdb",[ZU]:"fire-data-connect",[QU]:"fire-rtdb-compat",[YU]:"fire-fn",[XU]:"fire-fn-compat",[JU]:"fire-iid",[ez]:"fire-iid-compat",[tz]:"fire-fcm",[nz]:"fire-fcm-compat",[rz]:"fire-perf",[sz]:"fire-perf-compat",[oz]:"fire-rc",[iz]:"fire-rc-compat",[az]:"fire-gcs",[lz]:"fire-gcs-compat",[cz]:"fire-fst",[dz]:"fire-fst-compat",[uz]:"fire-vertex","fire-js":"fire-js",[hz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new Map,mz=new Map,Xy=new Map;function yS(n,e){try{n.container.addComponent(e)}catch(t){vo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xl(n){const e=n.name;if(Xy.has(e))return vo.debug(`There were multiple attempts to register component ${e}.`),!1;Xy.set(e,n);for(const t of Wf.values())yS(t,n);for(const t of mz.values())yS(t,n);return!0}function C_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new md("app","Firebase",gz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=fz;function CP(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Yy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw gi.create("bad-app-name",{appName:String(s)});if(t||(t=yP()),!t)throw gi.create("no-options");const i=Wf.get(s);if(i){if(Ia(t,i.options)&&Ia(r,i.config))return i;throw gi.create("duplicate-app",{appName:s})}const l=new SU(s);for(const h of Xy.values())l.addComponent(h);const u=new yz(t,r,l);return Wf.set(s,u),u}function PP(n=Yy){const e=Wf.get(n);if(!e&&n===Yy&&yP())return CP();if(!e)throw gi.create("no-app",{appName:n});return e}function yi(n,e,t){let r=pz[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vo.warn(l.join(" "));return}Xl(new xa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz="firebase-heartbeat-database",_z=1,Ku="firebase-heartbeat-store";let fy=null;function AP(){return fy||(fy=VU(vz,_z,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ku)}catch(t){console.warn(t)}}}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),fy}async function wz(n){try{const t=(await AP()).transaction(Ku),r=await t.objectStore(Ku).get(RP(n));return await t.done,r}catch(e){if(e instanceof Io)vo.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e?.message});vo.warn(t.message)}}}async function vS(n,e){try{const r=(await AP()).transaction(Ku,"readwrite");await r.objectStore(Ku).put(e,RP(n)),await r.done}catch(t){if(t instanceof Io)vo.warn(t.message);else{const r=gi.create("idb-set",{originalErrorMessage:t?.message});vo.warn(r.message)}}}function RP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=1024,bz=30;class Sz{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xz(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_S();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>bz){const s=Tz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_S(),{heartbeatsToSend:t,unsentEntries:r}=Iz(this._heartbeatsCache.heartbeats),s=Hf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return vo.warn(e),""}}}function _S(){return new Date().toISOString().substring(0,10)}function Iz(n,e=Ez){const t=[];let r=n.slice();for(const s of n){const i=t.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),wS(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),wS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class xz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IP()?hU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function wS(n){return Hf(JSON.stringify({version:2,heartbeats:n})).length}function Tz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(n){Xl(new xa("platform-logger",e=>new jU(e),"PRIVATE")),Xl(new xa("heartbeat",e=>new Sz(e),"PRIVATE")),yi(Qy,gS,n),yi(Qy,gS,"esm2020"),yi("fire-js","")}Cz("");var Pz="firebase",Az="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(Pz,Az,"app");var ES=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vi,kP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function N(){}N.prototype=C.prototype,P.F=C.prototype,P.prototype=new N,P.prototype.constructor=P,P.D=function(M,F,B){for(var O=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)O[Ce-2]=arguments[Ce];return C.prototype[F].apply(M,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,C,N){N||(N=0);const M=Array(16);if(typeof C=="string")for(var F=0;F<16;++F)M[F]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(F=0;F<16;++F)M[F]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=P.g[0],N=P.g[1],F=P.g[2];let B=P.g[3],O;O=C+(B^N&(F^B))+M[0]+3614090360&4294967295,C=N+(O<<7&4294967295|O>>>25),O=B+(F^C&(N^F))+M[1]+3905402710&4294967295,B=C+(O<<12&4294967295|O>>>20),O=F+(N^B&(C^N))+M[2]+606105819&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(C^F&(B^C))+M[3]+3250441966&4294967295,N=F+(O<<22&4294967295|O>>>10),O=C+(B^N&(F^B))+M[4]+4118548399&4294967295,C=N+(O<<7&4294967295|O>>>25),O=B+(F^C&(N^F))+M[5]+1200080426&4294967295,B=C+(O<<12&4294967295|O>>>20),O=F+(N^B&(C^N))+M[6]+2821735955&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(C^F&(B^C))+M[7]+4249261313&4294967295,N=F+(O<<22&4294967295|O>>>10),O=C+(B^N&(F^B))+M[8]+1770035416&4294967295,C=N+(O<<7&4294967295|O>>>25),O=B+(F^C&(N^F))+M[9]+2336552879&4294967295,B=C+(O<<12&4294967295|O>>>20),O=F+(N^B&(C^N))+M[10]+4294925233&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(C^F&(B^C))+M[11]+2304563134&4294967295,N=F+(O<<22&4294967295|O>>>10),O=C+(B^N&(F^B))+M[12]+1804603682&4294967295,C=N+(O<<7&4294967295|O>>>25),O=B+(F^C&(N^F))+M[13]+4254626195&4294967295,B=C+(O<<12&4294967295|O>>>20),O=F+(N^B&(C^N))+M[14]+2792965006&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(C^F&(B^C))+M[15]+1236535329&4294967295,N=F+(O<<22&4294967295|O>>>10),O=C+(F^B&(N^F))+M[1]+4129170786&4294967295,C=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(C^N))+M[6]+3225465664&4294967295,B=C+(O<<9&4294967295|O>>>23),O=F+(C^N&(B^C))+M[11]+643717713&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^C&(F^B))+M[0]+3921069994&4294967295,N=F+(O<<20&4294967295|O>>>12),O=C+(F^B&(N^F))+M[5]+3593408605&4294967295,C=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(C^N))+M[10]+38016083&4294967295,B=C+(O<<9&4294967295|O>>>23),O=F+(C^N&(B^C))+M[15]+3634488961&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^C&(F^B))+M[4]+3889429448&4294967295,N=F+(O<<20&4294967295|O>>>12),O=C+(F^B&(N^F))+M[9]+568446438&4294967295,C=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(C^N))+M[14]+3275163606&4294967295,B=C+(O<<9&4294967295|O>>>23),O=F+(C^N&(B^C))+M[3]+4107603335&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^C&(F^B))+M[8]+1163531501&4294967295,N=F+(O<<20&4294967295|O>>>12),O=C+(F^B&(N^F))+M[13]+2850285829&4294967295,C=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(C^N))+M[2]+4243563512&4294967295,B=C+(O<<9&4294967295|O>>>23),O=F+(C^N&(B^C))+M[7]+1735328473&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^C&(F^B))+M[12]+2368359562&4294967295,N=F+(O<<20&4294967295|O>>>12),O=C+(N^F^B)+M[5]+4294588738&4294967295,C=N+(O<<4&4294967295|O>>>28),O=B+(C^N^F)+M[8]+2272392833&4294967295,B=C+(O<<11&4294967295|O>>>21),O=F+(B^C^N)+M[11]+1839030562&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^C)+M[14]+4259657740&4294967295,N=F+(O<<23&4294967295|O>>>9),O=C+(N^F^B)+M[1]+2763975236&4294967295,C=N+(O<<4&4294967295|O>>>28),O=B+(C^N^F)+M[4]+1272893353&4294967295,B=C+(O<<11&4294967295|O>>>21),O=F+(B^C^N)+M[7]+4139469664&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^C)+M[10]+3200236656&4294967295,N=F+(O<<23&4294967295|O>>>9),O=C+(N^F^B)+M[13]+681279174&4294967295,C=N+(O<<4&4294967295|O>>>28),O=B+(C^N^F)+M[0]+3936430074&4294967295,B=C+(O<<11&4294967295|O>>>21),O=F+(B^C^N)+M[3]+3572445317&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^C)+M[6]+76029189&4294967295,N=F+(O<<23&4294967295|O>>>9),O=C+(N^F^B)+M[9]+3654602809&4294967295,C=N+(O<<4&4294967295|O>>>28),O=B+(C^N^F)+M[12]+3873151461&4294967295,B=C+(O<<11&4294967295|O>>>21),O=F+(B^C^N)+M[15]+530742520&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^C)+M[2]+3299628645&4294967295,N=F+(O<<23&4294967295|O>>>9),O=C+(F^(N|~B))+M[0]+4096336452&4294967295,C=N+(O<<6&4294967295|O>>>26),O=B+(N^(C|~F))+M[7]+1126891415&4294967295,B=C+(O<<10&4294967295|O>>>22),O=F+(C^(B|~N))+M[14]+2878612391&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~C))+M[5]+4237533241&4294967295,N=F+(O<<21&4294967295|O>>>11),O=C+(F^(N|~B))+M[12]+1700485571&4294967295,C=N+(O<<6&4294967295|O>>>26),O=B+(N^(C|~F))+M[3]+2399980690&4294967295,B=C+(O<<10&4294967295|O>>>22),O=F+(C^(B|~N))+M[10]+4293915773&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~C))+M[1]+2240044497&4294967295,N=F+(O<<21&4294967295|O>>>11),O=C+(F^(N|~B))+M[8]+1873313359&4294967295,C=N+(O<<6&4294967295|O>>>26),O=B+(N^(C|~F))+M[15]+4264355552&4294967295,B=C+(O<<10&4294967295|O>>>22),O=F+(C^(B|~N))+M[6]+2734768916&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~C))+M[13]+1309151649&4294967295,N=F+(O<<21&4294967295|O>>>11),O=C+(F^(N|~B))+M[4]+4149444226&4294967295,C=N+(O<<6&4294967295|O>>>26),O=B+(N^(C|~F))+M[11]+3174756917&4294967295,B=C+(O<<10&4294967295|O>>>22),O=F+(C^(B|~N))+M[2]+718787259&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~C))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+F&4294967295,P.g[3]=P.g[3]+B&4294967295}r.prototype.v=function(P,C){C===void 0&&(C=P.length);const N=C-this.blockSize,M=this.C;let F=this.h,B=0;for(;B<C;){if(F==0)for(;B<=N;)s(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<C;)if(M[F++]=P.charCodeAt(B++),F==this.blockSize){s(this,M),F=0;break}}else for(;B<C;)if(M[F++]=P[B++],F==this.blockSize){s(this,M),F=0;break}}this.h=F,this.o+=C},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;C=this.o*8;for(var N=P.length-8;N<P.length;++N)P[N]=C&255,C/=256;for(this.v(P),P=Array(16),C=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)P[C++]=this.g[N]>>>M&255;return P};function i(P,C){var N=u;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=C(P)}function l(P,C){this.h=C;const N=[];let M=!0;for(let F=P.length-1;F>=0;F--){const B=P[F]|0;M&&B==C||(N[F]=B,M=!1)}this.g=N}var u={};function h(P){return-128<=P&&P<128?i(P,function(C){return new l([C|0],C<0?-1:0)}):new l([P|0],P<0?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return A(p(-P));const C=[];let N=1;for(let M=0;P>=N;M++)C[M]=P/N|0,N*=4294967296;return new l(C,0)}function g(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return A(g(P.substring(1),C));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(C,8));let M=m;for(let B=0;B<P.length;B+=8){var F=Math.min(8,P.length-B);const O=parseInt(P.substring(B,B+F),C);F<8?(F=p(Math.pow(C,F)),M=M.j(F).add(p(O))):(M=M.j(N),M=M.add(p(O)))}return M}var m=h(0),w=h(1),I=h(16777216);n=l.prototype,n.m=function(){if(T(this))return-A(this).m();let P=0,C=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);P+=(M>=0?M:4294967296+M)*C,C*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(T(this))return"-"+A(this).toString(P);const C=p(Math.pow(P,6));var N=this;let M="";for(;;){const F=z(N,C).g;N=D(N,F.j(C));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(P);if(N=F,R(N))return B+M;for(;B.length<6;)B="0"+B;M=B+M}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(let C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function T(P){return P.h==-1}n.l=function(P){return P=D(this,P),T(P)?-1:R(P)?0:1};function A(P){const C=P.g.length,N=[];for(let M=0;M<C;M++)N[M]=~P.g[M];return new l(N,~P.h).add(w)}n.abs=function(){return T(this)?A(this):this},n.add=function(P){const C=Math.max(this.g.length,P.g.length),N=[];let M=0;for(let F=0;F<=C;F++){let B=M+(this.i(F)&65535)+(P.i(F)&65535),O=(B>>>16)+(this.i(F)>>>16)+(P.i(F)>>>16);M=O>>>16,B&=65535,O&=65535,N[F]=O<<16|B}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(P,C){return P.add(A(C))}n.j=function(P){if(R(this)||R(P))return m;if(T(this))return T(P)?A(this).j(A(P)):A(A(this).j(P));if(T(P))return A(this.j(A(P)));if(this.l(I)<0&&P.l(I)<0)return p(this.m()*P.m());const C=this.g.length+P.g.length,N=[];for(var M=0;M<2*C;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let F=0;F<P.g.length;F++){const B=this.i(M)>>>16,O=this.i(M)&65535,Ce=P.i(F)>>>16,Be=P.i(F)&65535;N[2*M+2*F]+=O*Be,V(N,2*M+2*F),N[2*M+2*F+1]+=B*Be,V(N,2*M+2*F+1),N[2*M+2*F+1]+=O*Ce,V(N,2*M+2*F+1),N[2*M+2*F+2]+=B*Ce,V(N,2*M+2*F+2)}for(P=0;P<C;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=C;P<2*C;P++)N[P]=0;return new l(N,0)};function V(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function U(P,C){this.g=P,this.h=C}function z(P,C){if(R(C))throw Error("division by zero");if(R(P))return new U(m,m);if(T(P))return C=z(A(P),C),new U(A(C.g),A(C.h));if(T(C))return C=z(P,A(C)),new U(A(C.g),C.h);if(P.g.length>30){if(T(P)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var N=w,M=C;M.l(P)<=0;)N=$(N),M=$(M);var F=K(N,1),B=K(M,1);for(M=K(M,2),N=K(N,2);!R(M);){var O=B.add(M);O.l(P)<=0&&(F=F.add(N),B=O),M=K(M,1),N=K(N,1)}return C=D(P,F.j(C)),new U(F,C)}for(F=m;P.l(C)>=0;){for(N=Math.max(1,Math.floor(P.m()/C.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),B=p(N),O=B.j(C);T(O)||O.l(P)>0;)N-=M,B=p(N),O=B.j(C);R(B)&&(B=w),F=F.add(B),P=D(P,O)}return new U(F,P)}n.B=function(P){return z(this,P).h},n.and=function(P){const C=Math.max(this.g.length,P.g.length),N=[];for(let M=0;M<C;M++)N[M]=this.i(M)&P.i(M);return new l(N,this.h&P.h)},n.or=function(P){const C=Math.max(this.g.length,P.g.length),N=[];for(let M=0;M<C;M++)N[M]=this.i(M)|P.i(M);return new l(N,this.h|P.h)},n.xor=function(P){const C=Math.max(this.g.length,P.g.length),N=[];for(let M=0;M<C;M++)N[M]=this.i(M)^P.i(M);return new l(N,this.h^P.h)};function $(P){const C=P.g.length+1,N=[];for(let M=0;M<C;M++)N[M]=P.i(M)<<1|P.i(M-1)>>>31;return new l(N,P.h)}function K(P,C){const N=C>>5;C%=32;const M=P.g.length-N,F=[];for(let B=0;B<M;B++)F[B]=C>0?P.i(B+N)>>>C|P.i(B+N+1)<<32-C:P.i(B+N);return new l(F,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,vi=l}).apply(typeof ES<"u"?ES:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NP,Iu,DP,pf,Jy,OP,MP,VP;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var _=0;_<d.length;++_){var S=d[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function s(d,_){if(_)e:{var S=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var Y=d[k];if(!(Y in S))break e;S=S[Y]}d=d[d.length-1],k=S[d],_=_(k),_!=k&&_!=null&&e(S,d,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(_){var S=[],k;for(k in _)Object.prototype.hasOwnProperty.call(_,k)&&S.push([k,_[k]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,S){return d.call.apply(d.bind,arguments)}function p(d,_,S){return p=h,p.apply(null,arguments)}function g(d,_){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function m(d,_){function S(){}S.prototype=_.prototype,d.Z=_.prototype,d.prototype=new S,d.prototype.constructor=d,d.Ob=function(k,Y,te){for(var ge=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ge[Ye-2]=arguments[Ye];return _.prototype[Y].apply(k,ge)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function I(d){const _=d.length;if(_>0){const S=Array(_);for(let k=0;k<_;k++)S[k]=d[k];return S}return[]}function R(d,_){for(let k=1;k<arguments.length;k++){const Y=arguments[k];var S=typeof Y;if(S=S!="object"?S:Y?Array.isArray(Y)?"array":S:"null",S=="array"||S=="object"&&typeof Y.length=="number"){S=d.length||0;const te=Y.length||0;d.length=S+te;for(let ge=0;ge<te;ge++)d[S+ge]=Y[ge]}else d.push(Y)}}class T{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function A(d){l.setTimeout(()=>{throw d},0)}function D(){var d=P;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class V{constructor(){this.h=this.g=null}add(_,S){const k=U.get();k.set(_,S),this.h?this.h.next=k:this.g=k,this.h=k}}var U=new T(()=>new z,d=>d.reset());class z{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let $,K=!1,P=new V,C=()=>{const d=Promise.resolve(void 0);$=()=>{d.then(N)}};function N(){for(var d;d=D();){try{d.h.call(d.g)}catch(S){A(S)}var _=U;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}K=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};l.addEventListener("test",S,_),l.removeEventListener("test",S,_)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Ce(d,_){F.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}m(Ce,F),Ce.prototype.init=function(d,_){const S=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(S=="mouseover"?_=d.fromElement:S=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),me=0;function _e(d,_,S,k,Y){this.listener=d,this.proxy=null,this.src=_,this.type=S,this.capture=!!k,this.ha=Y,this.key=++me,this.da=this.fa=!1}function W(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ne(d,_,S){for(const k in d)_.call(S,d[k],k,d)}function X(d,_){for(const S in d)_.call(void 0,d[S],S,d)}function j(d){const _={};for(const S in d)_[S]=d[S];return _}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(d,_){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)d[S]=k[S];for(let te=0;te<G.length;te++)S=G[te],Object.prototype.hasOwnProperty.call(k,S)&&(d[S]=k[S])}}function ie(d){this.src=d,this.g={},this.h=0}ie.prototype.add=function(d,_,S,k,Y){const te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);const ge=xe(d,_,k,Y);return ge>-1?(_=d[ge],S||(_.fa=!1)):(_=new _e(_,this.src,te,!!k,Y),_.fa=S,d.push(_)),_};function he(d,_){const S=_.type;if(S in d.g){var k=d.g[S],Y=Array.prototype.indexOf.call(k,_,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(k,Y,1),te&&(W(_),d.g[S].length==0&&(delete d.g[S],d.h--))}}function xe(d,_,S,k){for(let Y=0;Y<d.length;++Y){const te=d[Y];if(!te.da&&te.listener==_&&te.capture==!!S&&te.ha==k)return Y}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Ie={};function Ge(d,_,S,k,Y){if(Array.isArray(_)){for(let te=0;te<_.length;te++)Ge(d,_[te],S,k,Y);return null}return S=Co(S),d&&d[Be]?d.J(_,S,u(k)?!!k.capture:!1,Y):Qe(d,_,S,!1,k,Y)}function Qe(d,_,S,k,Y,te){if(!_)throw Error("Invalid event type");const ge=u(Y)?!!Y.capture:!!Y;let Ye=Gs(d);if(Ye||(d[ve]=Ye=new ie(d)),S=Ye.add(_,S,k,ge,te),S.proxy)return S;if(k=pe(),S.proxy=k,k.src=d,k.listener=S,d.addEventListener)B||(Y=ge),Y===void 0&&(Y=!1),d.addEventListener(_.toString(),k,Y);else if(d.attachEvent)d.attachEvent(is(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function pe(){function d(S){return _.call(d.src,d.listener,S)}const _=$a;return d}function St(d,_,S,k,Y){if(Array.isArray(_))for(var te=0;te<_.length;te++)St(d,_[te],S,k,Y);else k=u(k)?!!k.capture:!!k,S=Co(S),d&&d[Be]?(d=d.i,te=String(_).toString(),te in d.g&&(_=d.g[te],S=xe(_,S,k,Y),S>-1&&(W(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete d.g[te],d.h--)))):d&&(d=Gs(d))&&(_=d.g[_.toString()],d=-1,_&&(d=xe(_,S,k,Y)),(S=d>-1?_[d]:null)&&dn(S))}function dn(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Be])he(_.i,d);else{var S=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(S,k,d.capture):_.detachEvent?_.detachEvent(is(S),k):_.addListener&&_.removeListener&&_.removeListener(k),(S=Gs(_))?(he(S,d),S.h==0&&(S.src=null,_[ve]=null)):W(d)}}}function is(d){return d in Ie?Ie[d]:Ie[d]="on"+d}function $a(d,_){if(d.da)d=!0;else{_=new Ce(_,this);const S=d.listener,k=d.ha||d.src;d.fa&&dn(d),d=S.call(k,_)}return d}function Gs(d){return d=d[ve],d instanceof ie?d:null}var or="__closure_events_fn_"+(Math.random()*1e9>>>0);function Co(d){return typeof d=="function"?d:(d[or]||(d[or]=function(_){return d.handleEvent(_)}),d[or])}function gt(){M.call(this),this.i=new ie(this),this.M=this,this.G=null}m(gt,M),gt.prototype[Be]=!0,gt.prototype.removeEventListener=function(d,_,S,k){St(this,d,_,S,k)};function Vt(d,_){var S,k=d.G;if(k)for(S=[];k;k=k.G)S.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new F(_,d);else if(_ instanceof F)_.target=_.target||d;else{var Y=_;_=new F(k,d),oe(_,Y)}Y=!0;let te,ge;if(S)for(ge=S.length-1;ge>=0;ge--)te=_.g=S[ge],Y=ir(te,k,!0,_)&&Y;if(te=_.g=d,Y=ir(te,k,!0,_)&&Y,Y=ir(te,k,!1,_)&&Y,S)for(ge=0;ge<S.length;ge++)te=_.g=S[ge],Y=ir(te,k,!1,_)&&Y}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const S=d.g[_];for(let k=0;k<S.length;k++)W(S[k]);delete d.g[_],d.h--}}this.G=null},gt.prototype.J=function(d,_,S,k){return this.i.add(String(d),_,!1,S,k)},gt.prototype.K=function(d,_,S,k){return this.i.add(String(d),_,!0,S,k)};function ir(d,_,S,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let te=0;te<_.length;++te){const ge=_[te];if(ge&&!ge.da&&ge.capture==S){const Ye=ge.listener,Ht=ge.ha||ge.src;ge.fa&&he(d.i,ge),Y=Ye.call(Ht,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function sn(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(d,_||0)}function br(d){d.g=sn(()=>{d.g=null,d.i&&(d.i=!1,br(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Ba extends M{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(d){M.call(this),this.h=d,this.g={}}m(as,M);var ls=[];function Po(d){ne(d.g,function(_,S){this.g.hasOwnProperty(S)&&dn(_)},d),d.g={}}as.prototype.N=function(){as.Z.N.call(this),Po(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ur=l.JSON.stringify,Ao=l.JSON.parse,Gn=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function zr(){}function $r(){}var cs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ro(){F.call(this,"d")}m(Ro,F);function ko(){F.call(this,"c")}m(ko,F);var Kn={},No=null;function Sr(){return No=No||new gt}Kn.Ia="serverreachability";function Fn(d){F.call(this,Kn.Ia,d)}m(Fn,F);function Br(d){const _=Sr();Vt(_,new Fn(_))}Kn.STAT_EVENT="statevent";function qr(d,_){F.call(this,Kn.STAT_EVENT,d),this.stat=_}m(qr,F);function Pt(d){const _=Sr();Vt(_,new qr(_,d))}Kn.Ja="timingevent";function Do(d,_){F.call(this,Kn.Ja,d),this.size=_}m(Do,F);function qe(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},_)}function It(){this.g=!0}It.prototype.ua=function(){this.g=!1};function qt(d,_,S,k,Y,te){d.info(function(){if(d.g)if(te){var ge="",Ye=te.split("&");for(let vt=0;vt<Ye.length;vt++){var Ht=Ye[vt].split("=");if(Ht.length>1){const Xt=Ht[0];Ht=Ht[1];const fr=Xt.split("_");ge=fr.length>=2&&fr[1]=="type"?ge+(Xt+"="+Ht+"&"):ge+(Xt+"=redacted&")}}}else ge=null;else ge=te;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+_+`
`+S+`
`+ge})}function hn(d,_,S,k,Y,te,ge){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+_+`
`+S+`
`+te+" "+ge})}function jn(d,_,S,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Qt(d,S)+(k?" "+k:"")})}function zt(d,_){d.info(function(){return"TIMEOUT: "+_})}It.prototype.info=function(){};function Qt(d,_){if(!d.g)return _;if(!_)return null;try{const te=JSON.parse(_);if(te){for(d=0;d<te.length;d++)if(Array.isArray(te[d])){var S=te[d];if(!(S.length<2)){var k=S[1];if(Array.isArray(k)&&!(k.length<1)){var Y=k[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ge=1;ge<k.length;ge++)k[ge]=""}}}}return Ur(te)}catch{return _}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tn;function Ir(){}m(Ir,zr),Ir.prototype.g=function(){return new XMLHttpRequest},Tn=new Ir;function fn(d){return encodeURIComponent(String(d))}function Ni(d){var _=1;d=d.split(":");const S=[];for(;_>0&&d.length;)S.push(d.shift()),_--;return d.length&&S.push(d.join(":")),S}function xr(d,_,S,k){this.j=d,this.i=_,this.l=S,this.S=k||1,this.V=new as(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dd}function Dd(){this.i=null,this.g="",this.h=!1}var Od={},Ic={};function Hr(d,_,S){d.M=1,d.A=Zs(Tr(_)),d.u=S,d.R=!0,xc(d,null)}function xc(d,_){d.F=Date.now(),Di(d),d.B=Tr(d.A);var S=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),Mc(S.i,"t",k),d.C=0,S=d.j.L,d.h=new Dd,d.g=qd(d.j,S?_:null,!d.u),d.P>0&&(d.O=new Ba(p(d.Y,d,d.g),d.P)),_=d.V,S=d.g,k=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ls[0]=Y.toString()),Y=ls);for(let te=0;te<Y.length;te++){const ge=Ge(S,Y[te],k||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),Br(),qt(d.i,d.v,d.B,d.l,d.S,d.u)}xr.prototype.ba=function(d){d=d.target;const _=this.O;_&&gs(d)==3?_.j():this.Y(d)},xr.prototype.Y=function(d){try{if(d==this.g)e:{const Ye=gs(this.g),Ht=this.g.ya(),vt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||$d(this.g)))){this.K||Ye!=4||Ht==7||(Ht==8||vt<=0?Br(3):Br(2)),qa(this);var _=this.g.ca();this.X=_;var S=Md(this);if(this.o=_==200,hn(this.i,this.v,this.B,this.l,this.S,Ye,_),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Y=this.g;if((k=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(k)){var te=k;break t}}te=null}if(d=te)jn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,At(this,d);else{this.o=!1,this.m=3,Pt(12),Ks(this),Oi(this);break e}}if(this.R){d=!0;let Xt;for(;!this.K&&this.C<S.length;)if(Xt=Ld(this,S),Xt==Ic){Ye==4&&(this.m=4,Pt(14),d=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Od){this.m=4,Pt(15),jn(this.i,this.l,S,"[Invalid Chunk]"),d=!1;break}else jn(this.i,this.l,Xt,null),At(this,Xt);if(Vd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||S.length!=0||this.h.h||(this.m=1,Pt(16),d=!1),this.o=this.o&&d,!d)jn(this.i,this.l,S,"[Invalid Chunked Response]"),Ks(this),Oi(this);else if(S.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Bi(ge),ge.P=!0,Pt(11))}}else jn(this.i,this.l,S,null),At(this,S);Ye==4&&Ks(this),this.o&&!this.K&&(Ye==4?el(this.j,this):(this.o=!1,Di(this)))}else Lc(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Ks(this),Oi(this)}}}catch{}finally{}};function Md(d){if(!Vd(d))return d.g.la();const _=$d(d.g);if(_==="")return"";let S="";const k=_.length,Y=gs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Ks(d),Oi(d),"";d.h.i=new l.TextDecoder}for(let te=0;te<k;te++)d.h.h=!0,S+=d.h.i.decode(_[te],{stream:!(Y&&te==k-1)});return _.length=0,d.h.g+=S,d.C=0,d.h.g}function Vd(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Ld(d,_){var S=d.C,k=_.indexOf(`
`,S);return k==-1?Ic:(S=Number(_.substring(S,k)),isNaN(S)?Od:(k+=1,k+S>_.length?Ic:(_=_.slice(k,k+S),d.C=k+S,_)))}xr.prototype.cancel=function(){this.K=!0,Ks(this)};function Di(d){d.T=Date.now()+d.H,Tc(d,d.H)}function Tc(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qe(p(d.aa,d),_)}function qa(d){d.D&&(l.clearTimeout(d.D),d.D=null)}xr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(zt(this.i,this.B),this.M!=2&&(Br(),Pt(17)),Ks(this),this.m=2,Oi(this)):Tc(this,this.T-d)};function Oi(d){d.j.I==0||d.K||el(d.j,d)}function Ks(d){qa(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,Po(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function At(d,_){try{var S=d.j;if(S.I!=0&&(S.g==d||Pc(S.h,d))){if(!d.L&&Pc(S.h,d)&&S.I==3){try{var k=S.Ba.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<d.F)Ja(S),dr(S);else break e;_s(S),Pt(18)}}else S.xa=Y[1],0<S.xa-S.K&&Y[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=qe(p(S.Va,S),6e3));Mi(S.h)<=1&&S.ta&&(S.ta=void 0)}else hr(S,11)}else if((d.L||S.g==d)&&Ja(S),!O(_))for(Y=S.Ba.g.parse(_),_=0;_<Y.length;_++){let vt=Y[_];const Xt=vt[0];if(!(Xt<=S.K))if(S.K=Xt,vt=vt[1],S.I==2)if(vt[0]=="c"){S.M=vt[1],S.ba=vt[2];const fr=vt[3];fr!=null&&(S.ka=fr,S.j.info("VER="+S.ka));const eo=vt[4];eo!=null&&(S.za=eo,S.j.info("SVER="+S.za));const ws=vt[5];ws!=null&&typeof ws=="number"&&ws>0&&(k=1.5*ws,S.O=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const Es=d.g;if(Es){const rl=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rl){var te=k.h;te.g||rl.indexOf("spdy")==-1&&rl.indexOf("quic")==-1&&rl.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Wa(te,te.h),te.h=null))}if(k.G){const Uc=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;Uc&&(k.wa=Uc,mt(k.J,k.G,Uc))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-d.F,S.j.info("Handshake RTT: "+S.T+"ms")),k=S;var ge=d;if(k.na=jc(k,k.L?k.ba:null,k.W),ge.L){Vi(k.h,ge);var Ye=ge,Ht=k.O;Ht&&(Ye.H=Ht),Ye.D&&(qa(Ye),Di(Ye)),k.g=ge}else Cn(k);S.i.length>0&&Js(S)}else vt[0]!="stop"&&vt[0]!="close"||hr(S,7);else S.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?hr(S,7):Ya(S):vt[0]!="noop"&&S.l&&S.l.qa(vt),S.A=0)}}Br(4)}catch{}}var gm=class{constructor(d,_){this.g=d,this.map=_}};function Ha(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Mi(d){return d.h?1:d.g?d.g.size:0}function Pc(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Wa(d,_){d.g?d.g.add(_):d.h=_}function Vi(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Ha.prototype.cancel=function(){if(this.i=lr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function lr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const S of d.g.values())_=_.concat(S.G);return _}return I(d.i)}var Fd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cr(d,_){if(d){d=d.split("&");for(let S=0;S<d.length;S++){const k=d[S].indexOf("=");let Y,te=null;k>=0?(Y=d[S].substring(0,k),te=d[S].substring(k+1)):Y=d[S],_(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function us(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof us?(this.l=d.l,Li(this,d.j),this.o=d.o,this.g=d.g,ds(this,d.u),this.h=d.h,Oo(this,Vc(d.i)),this.m=d.m):d&&(_=String(d).match(Fd))?(this.l=!1,Li(this,_[1]||"",!0),this.o=Fi(_[2]||""),this.g=Fi(_[3]||"",!0),ds(this,_[4]),this.h=Fi(_[5]||"",!0),Oo(this,_[6]||"",!0),this.m=Fi(_[7]||"")):(this.l=!1,this.i=new lt(null,this.l))}us.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(ji(_,Rc,!0),":");var S=this.g;return(S||_=="file")&&(d.push("//"),(_=this.o)&&d.push(ji(_,Rc,!0),"@"),d.push(fn(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&d.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(ji(S,S.charAt(0)=="/"?Ui:kc,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",ji(S,Nc)),d.join("")},us.prototype.resolve=function(d){const _=Tr(this);let S=!!d.j;S?Li(_,d.j):S=!!d.o,S?_.o=d.o:S=!!d.g,S?_.g=d.g:S=d.u!=null;var k=d.h;if(S)ds(_,d.u);else if(S=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(k=_.h.slice(0,Y+1)+k)}if(Y=k,Y==".."||Y==".")k="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){k=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let ge=0;ge<Y.length;){const Ye=Y[ge++];Ye=="."?k&&ge==Y.length&&te.push(""):Ye==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),k&&ge==Y.length&&te.push("")):(te.push(Ye),k=!0)}k=te.join("/")}else k=Y}return S?_.h=k:S=d.i.toString()!=="",S?Oo(_,Vc(d.i)):S=!!d.m,S&&(_.m=d.m),_};function Tr(d){return new us(d)}function Li(d,_,S){d.j=S?Fi(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ds(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function Oo(d,_,S){_ instanceof lt?(d.i=_,Ka(d.i,d.l)):(S||(_=ji(_,ym)),d.i=new lt(_,d.l))}function mt(d,_,S){d.i.set(_,S)}function Zs(d){return mt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Fi(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ji(d,_,S){return typeof d=="string"?(d=encodeURI(d).replace(_,Ac),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ac(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Rc=/[#\/\?@]/g,kc=/[#\?:]/g,Ui=/[#\?]/g,ym=/[#\?@]/g,Nc=/#/g;function lt(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function hs(d){d.g||(d.g=new Map,d.h=0,d.i&&cr(d.i,function(_,S){d.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=lt.prototype,n.add=function(d,_){hs(this),this.i=null,d=fs(this,d);let S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(_),this.h+=1,this};function Dc(d,_){hs(d),_=fs(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ga(d,_){return hs(d),_=fs(d,_),d.g.has(_)}n.forEach=function(d,_){hs(this),this.g.forEach(function(S,k){S.forEach(function(Y){d.call(_,Y,k,this)},this)},this)};function Oc(d,_){hs(d);let S=[];if(typeof _=="string")Ga(d,_)&&(S=S.concat(d.g.get(fs(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)S=S.concat(d[_]);return S}n.set=function(d,_){return hs(this),this.i=null,d=fs(this,d),Ga(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=Oc(this,d),d.length>0?String(d[0]):_):_};function Mc(d,_,S){Dc(d,_),S.length>0&&(d.i=null,d.g.set(fs(d,_),I(S)),d.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let k=0;k<_.length;k++){var S=_[k];const Y=fn(S);S=Oc(this,S);for(let te=0;te<S.length;te++){let ge=Y;S[te]!==""&&(ge+="="+fn(S[te])),d.push(ge)}}return this.i=d.join("&")};function Vc(d){const _=new lt;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function fs(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Ka(d,_){_&&!d.j&&(hs(d),d.i=null,d.g.forEach(function(S,k){const Y=k.toLowerCase();k!=Y&&(Dc(this,k),Mc(this,Y,S))},d)),d.j=_}function ps(d,_){const S=new It;if(l.Image){const k=new Image;k.onload=g(_n,S,"TestLoadImage: loaded",!0,_,k),k.onerror=g(_n,S,"TestLoadImage: error",!1,_,k),k.onabort=g(_n,S,"TestLoadImage: abort",!1,_,k),k.ontimeout=g(_n,S,"TestLoadImage: timeout",!1,_,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function ms(d,_){const S=new It,k=new AbortController,Y=setTimeout(()=>{k.abort(),_n(S,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then(te=>{clearTimeout(Y),te.ok?_n(S,"TestPingServer: ok",!0,_):_n(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),_n(S,"TestPingServer: error",!1,_)})}function _n(d,_,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function zi(){this.g=new Gn}function Qs(d){this.i=d.Sb||null,this.h=d.ab||!1}m(Qs,zr),Qs.prototype.g=function(){return new ur(this.i,this.h)};function ur(d,_){gt.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ur,gt),n=ur.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,Wr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mo(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jd(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function jd(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Mo(this):Wr(this),this.readyState==3&&jd(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Mo(this))},n.Na=function(d){this.g&&(this.response=d,Mo(this))},n.ga=function(){this.g&&Mo(this)};function Mo(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Wr(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=_.next();return d.join(`\r
`)};function Wr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ud(d){let _="";return ne(d,function(S,k){_+=k,_+=":",_+=S,_+=`\r
`}),_}function Za(d,_,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=Ud(S),typeof d=="string"?S!=null&&fn(S):mt(d,_,S))}function xt(d){gt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(xt,gt);var zd=/^https?$/i,vm=["POST","PUT"];n=xt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tn.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(te){Vo(this,te);return}if(d=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const te of k.keys())S.set(te,k.get(te));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(te=>te.toLowerCase()=="content-type"),Y=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(vm,_,void 0)>=0)||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of S)this.g.setRequestHeader(te,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(te){Vo(this,te)}};function Vo(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Lo(d),Xs(d)}function Lo(d){d.A||(d.A=!0,Vt(d,"complete"),Vt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Vt(this,"complete"),Vt(this,"abort"),Xs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xs(this,!0)),xt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ys(this):this.Xa())},n.Xa=function(){Ys(this)};function Ys(d){if(d.h&&typeof i<"u"){if(d.v&&gs(d)==4)setTimeout(d.Ca.bind(d),0);else if(Vt(d,"readystatechange"),gs(d)==4){d.h=!1;try{const te=d.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var k;if(k=te===0){let ge=String(d.D).match(Fd)[1]||null;!ge&&l.self&&l.self.location&&(ge=l.self.location.protocol.slice(0,-1)),k=!zd.test(ge?ge.toLowerCase():"")}S=k}if(S)Vt(d,"complete"),Vt(d,"success");else{d.o=6;try{var Y=gs(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Lo(d)}}finally{Xs(d)}}}}function Xs(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const S=d.g;d.g=null,_||Vt(d,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function gs(d){return d.g?d.g.readyState:0}n.ca=function(){try{return gs(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ao(_)}};function $d(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Lc(d){const _={};d=(d.g&&gs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(O(d[k]))continue;var S=Ni(d[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const te=_[Y]||[];_[Y]=te,te.push(S)}X(_,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(d,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||_}function Qa(d){this.za=0,this.i=[],this.j=new It,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ys("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ys("baseRetryDelayMs",5e3,d),this.Za=ys("retryDelaySeedMs",1e4,d),this.Ta=ys("forwardChannelMaxRetries",2,d),this.va=ys("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ha(d&&d.concurrentRequestLimit),this.Ba=new zi,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Qa.prototype,n.ka=8,n.I=1,n.connect=function(d,_,S,k){Pt(0),this.W=d,this.H=_||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.J=jc(this,null,this.W),Js(this)};function Ya(d){if(Xa(d),d.I==3){var _=d.V++,S=Tr(d.J);if(mt(S,"SID",d.M),mt(S,"RID",_),mt(S,"TYPE","terminate"),vs(d,S),_=new xr(d,d.j,_),_.M=2,_.A=Zs(Tr(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=_.A,S=!0),S||(_.g=qd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Di(_)}qi(d)}function dr(d){d.g&&(Bi(d),d.g.cancel(),d.g=null)}function Xa(d){dr(d),d.v&&(l.clearTimeout(d.v),d.v=null),Ja(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function Js(d){if(!Cc(d.h)&&!d.m){d.m=!0;var _=d.Ea;$||C(),K||($(),K=!0),P.add(_,d),d.D=0}}function Bd(d,_){return Mi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qe(p(d.Ea,d,_),tl(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new xr(this,this.j,d);let te=this.o;if(this.U&&(te?(te=j(te),oe(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=Fc(this,Y,_),S=Tr(this.J),mt(S,"RID",d),mt(S,"CVER",22),this.G&&mt(S,"X-HTTP-Session-Id",this.G),vs(this,S),te&&(this.R?_="headers="+fn(Ud(te))+"&"+_:this.u&&Za(S,this.u,te)),Wa(this.h,Y),this.Ra&&mt(S,"TYPE","init"),this.S?(mt(S,"$req",_),mt(S,"SID","null"),Y.U=!0,Hr(Y,S,null)):Hr(Y,S,_),this.I=2}}else this.I==3&&(d?$i(this,d):this.i.length==0||Cc(this.h)||$i(this))};function $i(d,_){var S;_?S=_.l:S=d.V++;const k=Tr(d.J);mt(k,"SID",d.M),mt(k,"RID",S),mt(k,"AID",d.K),vs(d,k),d.u&&d.o&&Za(k,d.u,d.o),S=new xr(d,d.j,S,d.D+1),d.u===null&&(S.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Fc(d,S,1e3),S.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Wa(d.h,S),Hr(S,k,_)}function vs(d,_){d.H&&ne(d.H,function(S,k){mt(_,k,S)}),d.l&&ne({},function(S,k){mt(_,k,S)})}function Fc(d,_,S){S=Math.min(d.i.length,S);const k=d.l?p(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Ye=-1;for(;;){const Ht=["count="+S];Ye==-1?S>0?(Ye=Y[0].g,Ht.push("ofs="+Ye)):Ye=0:Ht.push("ofs="+Ye);let vt=!0;for(let Xt=0;Xt<S;Xt++){var te=Y[Xt].g;const fr=Y[Xt].map;if(te-=Ye,te<0)Ye=Math.max(0,Y[Xt].g-100),vt=!1;else try{te="req"+te+"_"||"";try{var ge=fr instanceof Map?fr:Object.entries(fr);for(const[eo,ws]of ge){let Es=ws;u(ws)&&(Es=Ur(ws)),Ht.push(te+eo+"="+encodeURIComponent(Es))}}catch(eo){throw Ht.push(te+"type="+encodeURIComponent("_badmap")),eo}}catch{k&&k(fr)}}if(vt){ge=Ht.join("&");break e}}ge=void 0}return d=d.i.splice(0,S),_.G=d,ge}function Cn(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;$||C(),K||($(),K=!0),P.add(_,d),d.A=0}}function _s(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qe(p(d.Da,d),tl(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Fo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qe(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),dr(this),Fo(this))};function Bi(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function Fo(d){d.g=new xr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Tr(d.na);mt(_,"RID","rpc"),mt(_,"SID",d.M),mt(_,"AID",d.K),mt(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&mt(_,"TO",d.ia),mt(_,"TYPE","xmlhttp"),vs(d,_),d.u&&d.o&&Za(_,d.u,d.o),d.O&&(d.g.H=d.O);var S=d.g;d=d.ba,S.M=1,S.A=Zs(Tr(_)),S.u=null,S.R=!0,xc(S,d)}n.Va=function(){this.C!=null&&(this.C=null,dr(this),_s(this),Pt(19))};function Ja(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function el(d,_){var S=null;if(d.g==_){Ja(d),Bi(d),d.g=null;var k=2}else if(Pc(d.h,_))S=_.G,Vi(d.h,_),k=1;else return;if(d.I!=0){if(_.o)if(k==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var Y=d.D;k=Sr(),Vt(k,new Do(k,S)),Js(d)}else Cn(d);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(k==1&&Bd(d,_)||k==2&&_s(d)))switch(S&&S.length>0&&(_=d.h,_.i=_.i.concat(S)),Y){case 1:hr(d,5);break;case 4:hr(d,10);break;case 3:hr(d,6);break;default:hr(d,2)}}}function tl(d,_){let S=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(S*=2),S*_}function hr(d,_){if(d.j.info("Error code "+_),_==2){var S=p(d.bb,d),k=d.Ua;const Y=!k;k=new us(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Li(k,"https"),Zs(k),Y?ps(k.toString(),S):ms(k.toString(),S)}else Pt(2);d.I=0,d.l&&d.l.pa(_),qi(d),Xa(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function qi(d){if(d.I=0,d.ja=[],d.l){const _=lr(d.h);(_.length!=0||d.i.length!=0)&&(R(d.ja,_),R(d.ja,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.oa()}}function jc(d,_,S){var k=S instanceof us?Tr(S):new us(S);if(k.g!="")_&&(k.g=_+"."+k.g),ds(k,k.u);else{var Y=l.location;k=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new us(null);k&&Li(te,k),_&&(te.g=_),Y&&ds(te,Y),S&&(te.h=S),k=te}return S=d.G,_=d.wa,S&&_&&mt(k,S,_),mt(k,"VER",d.ka),vs(d,k),k}function qd(d,_,S){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new xt(new Qs({ab:S})):new xt(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hd(){}n=Hd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function nl(){}nl.prototype.g=function(d,_){return new wn(d,_)};function wn(d,_){gt.call(this),this.g=new Qa(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!O(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new jo(this)}m(wn,gt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ya(this.g)},wn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.v&&(S={},S.__data__=Ur(d),d=S);_.i.push(new gm(_.Ya++,d)),_.I==3&&Js(_)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ya(this.g),delete this.g,wn.Z.N.call(this)};function Wd(d){Ro.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const S in _){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}m(Wd,Ro);function Gd(){ko.call(this),this.status=1}m(Gd,ko);function jo(d){this.g=d}m(jo,Hd),jo.prototype.ra=function(){Vt(this.g,"a")},jo.prototype.qa=function(d){Vt(this.g,new Wd(d))},jo.prototype.pa=function(d){Vt(this.g,new Gd)},jo.prototype.oa=function(){Vt(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,VP=function(){return new nl},MP=function(){return Sr()},OP=Kn,Jy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,pf=ar,Yt.COMPLETE="complete",DP=Yt,$r.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",gt.prototype.listen=gt.prototype.J,Iu=$r,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,NP=xt}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const bS="@firebase/firestore",SS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new x_("@firebase/firestore");function Ol(){return Ta.logLevel}function de(n,...e){if(Ta.logLevel<=it.DEBUG){const t=e.map(P_);Ta.debug(`Firestore (${wc}): ${n}`,...t)}}function $n(n,...e){if(Ta.logLevel<=it.ERROR){const t=e.map(P_);Ta.error(`Firestore (${wc}): ${n}`,...t)}}function Ca(n,...e){if(Ta.logLevel<=it.WARN){const t=e.map(P_);Ta.warn(`Firestore (${wc}): ${n}`,...t)}}function P_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,LP(n,r,t)}function LP(n,e,t){let r=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw $n(r),new Error(r)}function Ve(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||LP(e,s,r)}function Ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Io{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sn.UNAUTHENTICATED)))}shutdown(){}}class kz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Nz{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ve(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let i=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ms,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=i;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ms)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new FP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class Dz{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Oz{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Dz(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class IS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mz{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new IS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new IS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Vz(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function ev(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return py(s)===py(i)?Ke(s,i):py(s)?1:-1}return Ke(n.length,e.length)}const Lz=55296,Fz=57343;function py(n){const e=n.charCodeAt(0);return e>=Lz&&e<=Fz}function Jl(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function jP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="__name__";class Ps{constructor(e,t,r){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&De(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ps.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=Ps.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return Ke(e.length,t.length)}static compareSegments(e,t){const r=Ps.isNumericId(e),s=Ps.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ps.extractNumericId(e).compare(Ps.extractNumericId(t)):ev(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vi.fromString(e.substring(4,e.length-2))}}class yt extends Ps{construct(e,t,r){return new yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new yt(t)}static emptyPath(){return new yt([])}}const jz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Ps{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return jz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xS}static keyField(){return new jt([xS])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(i(),s++)}if(i(),l)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(yt.fromString(e))}static fromName(e){return new Ee(yt.fromString(e).popFirst(5))}static empty(){return new Ee(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n,e,t){if(!t)throw new we(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Uz(n,e,t,r){if(e===!0&&r===!0)throw new we(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TS(n){if(!Ee.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CS(n){if(Ee.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function R_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function Bn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=R_(n);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n,e){const t={typeString:n};return e&&(t.value=e),t}function yd(n,e){if(!zP(n))throw new we(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&l!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new we(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=-62135596800,AS=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*AS);return new _t(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<PS)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AS}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yd(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:tn("string",_t._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new _t(0,0))}static max(){return new je(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;class Gf{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function tv(n){return n.fields.find((e=>e.kind===2))}function ia(n){return n.fields.filter((e=>e.kind!==2))}Gf.UNKNOWN_ID=-1;class mf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qu(0,Er.min())}}function zz(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new _t(t+1,0):new _t(t,r));return new Er(s,Ee.empty(),e)}function $P(n){return new Er(n.readTime,n.key,Zu)}class Er{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Er(je.min(),Ee.empty(),Zu)}static max(){return new Er(je.max(),Ee.empty(),Zu)}}function k_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==BP)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,r)=>{t(e)}))}static reject(e){return new Z(((t,r)=>{r(e)}))}static waitFor(e){return new Z(((t,r)=>{let s=0,i=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++i,l&&i===s&&t()}),(h=>r(h)))})),l=!0,i===s&&t()}))}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next((s=>s?Z.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new Z(((r,s)=>{const i=e.length,l=new Array(i);let u=0;for(let h=0;h<i;h++){const p=h;t(e[p]).next((g=>{l[p]=g,++u,u===i&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new Z(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="SimpleDb";class Hp{static open(e,t,r,s){try{return new Hp(t,e.transaction(s,r))}catch(i){throw new Ru(t,i)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Ms,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Ru(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=N_(r.target.error);this.S.reject(new Ru(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(de(yr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Bz(t)}}class _i{static delete(e){return de(yr,"Removing database:",e),la(mP().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!IP())return!1;if(_i.F())return!0;const e=cn(),t=_i.M(e),r=0<t&&t<10,s=HP(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,_i.M(cn())===12.2&&$n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(de(yr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const l=i.target.result;t(l)},s.onblocked=()=>{r(new Ru(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const l=i.target.error;l.name==="VersionError"?r(new we(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new we(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Ru(e,l))},s.onupgradeneeded=i=>{de(yr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const l=i.target.result;this.N.k(l,s.transaction,i.oldVersion,this.version).next((()=>{de(yr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const i=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=Hp.open(this.db,e,i?"readonly":"readwrite",r),h=s(u).next((p=>(u.C(),p))).catch((p=>(u.abort(p),Z.reject(p)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,p=h.name!=="FirebaseError"&&l<3;if(de(yr,"Transaction failed with error:",h.message,"Retrying:",p),this.close(),!p)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function HP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class $z{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return la(this.U.delete())}}class Ru extends we{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ri(n){return n.name==="IndexedDbTransactionError"}class Bz{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(de(yr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(de(yr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),la(r)}add(e){return de(yr,"ADD",this.store.name,e,e),la(this.store.add(e))}get(e){return la(this.store.get(e)).next((t=>(t===void 0&&(t=null),de(yr,"GET",this.store.name,e,t),t)))}delete(e){return de(yr,"DELETE",this.store.name,e),la(this.store.delete(e))}count(){return de(yr,"COUNT",this.store.name),la(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Z(((l,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{l(h.target.result)}}))}{const i=this.cursor(r),l=[];return this.H(i,((u,h)=>{l.push(h)})).next((()=>l))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Z(((s,i)=>{r.onerror=l=>{i(l.target.error)},r.onsuccess=l=>{s(l.target.result)}}))}Z(e,t){de(yr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,((i,l,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}te(e){const t=this.cursor({});return new Z(((r,s)=>{t.onerror=i=>{const l=N_(i.target.error);s(l)},t.onsuccess=i=>{const l=i.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,t){const r=[];return new Z(((s,i)=>{e.onerror=l=>{i(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void s();const h=new $z(u),p=t(u.primaryKey,u.value,h);if(p instanceof Z){const g=p.catch((m=>(h.done(),Z.reject(m))));r.push(g)}h.isDone?s():h.G===null?u.continue():u.continue(h.G)}})).next((()=>Z.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function la(n){return new Z(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=N_(r.target.error);t(s)}}))}let RS=!1;function N_(n){const e=_i.M(cn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RS||(RS=!0,setTimeout((()=>{throw r}),0)),r}}return n}const ku="IndexBackfiller";class qz{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){de(ku,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();de(ku,`Documents written: ${t}`)}catch(t){Ri(t)?de(ku,"Ignoring IndexedDB error during index backfill: ",t):await ja(t)}await this.re(6e4)}))}}class Hz{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,i=!0;return Z.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return de(ku,`Processing collection: ${l}`),this.oe(e,l,s).next((u=>{s-=u,r.add(l)}));i=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((i=>{const l=i.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(s,i))).next((u=>(de(ku,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,i)=>{const l=$P(i);k_(l,r)>0&&(r=l)})),new Er(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=-1;function Wp(n){return n==null}function Yu(n){return n===0&&1/n==-1/0}function Wz(n){return typeof n=="number"&&Number.isInteger(n)&&!Yu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="";function Vn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kS(e)),e=Gz(n.get(t),e);return kS(e)}function Gz(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case Kf:t+="";break;default:t+=i}}return t}function kS(n){return n+Kf+""}function Ns(n){const e=n.length;if(Ve(e>=2,64408,{path:n}),e===2)return Ve(n.charAt(0)===Kf&&n.charAt(1)==="",56145,{path:n}),yt.emptyPath();const t=e-2,r=[];let s="";for(let i=0;i<e;){const l=n.indexOf(Kf,i);switch((l<0||l>t)&&De(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(i,l);let h;s.length===0?h=u:(s+=u,h=s,s=""),r.push(h);break;case"":s+=n.substring(i,l),s+="\0";break;case"":s+=n.substring(i,l+1);break;default:De(61167,{path:n})}i=l+2}return new yt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="remoteDocuments",vd="owner",Pl="owner",Xu="mutationQueues",Kz="userId",es="mutations",NS="batchId",ha="userMutationsIndex",DS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(n,e){return[n,Vn(e)]}function WP(n,e,t){return[n,Vn(e),t]}const Zz={},ec="documentMutations",Zf="remoteDocumentsV14",Qz=["prefixPath","collectionGroup","readTime","documentId"],yf="documentKeyIndex",Yz=["prefixPath","collectionGroup","documentId"],GP="collectionGroupIndex",Xz=["collectionGroup","readTime","prefixPath","documentId"],Ju="remoteDocumentGlobal",nv="remoteDocumentGlobalKey",tc="targets",KP="queryTargetsIndex",Jz=["canonicalId","targetId"],nc="targetDocuments",e$=["targetId","path"],D_="documentTargetsIndex",t$=["path","targetId"],Qf="targetGlobalKey",ma="targetGlobal",ed="collectionParents",n$=["collectionId","parent"],rc="clientMetadata",r$="clientId",Gp="bundles",s$="bundleId",Kp="namedQueries",o$="name",O_="indexConfiguration",i$="indexId",rv="collectionGroupIndex",a$="collectionGroup",Nu="indexState",l$=["indexId","uid"],ZP="sequenceNumberIndex",c$=["uid","sequenceNumber"],Du="indexEntries",u$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],QP="documentKeyIndex",d$=["indexId","uid","orderedDocumentKey"],Zp="documentOverlays",h$=["userId","collectionPath","documentId"],sv="collectionPathOverlayIndex",f$=["userId","collectionPath","largestBatchId"],YP="collectionGroupOverlayIndex",p$=["userId","collectionGroup","largestBatchId"],M_="globals",m$="name",XP=[Xu,es,ec,aa,tc,vd,ma,nc,rc,Ju,ed,Gp,Kp],g$=[...XP,Zp],JP=[Xu,es,ec,Zf,tc,vd,ma,nc,rc,Ju,ed,Gp,Kp,Zp],eA=JP,V_=[...eA,O_,Nu,Du],y$=V_,tA=[...V_,M_],v$=tA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends qP{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function un(n,e){const t=Ze(n);return _i.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ki(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??In.RED,this.left=s??In.EMPTY,this.right=i??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new In(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return In.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new MS(this.data.getIterator())}getIteratorFrom(e){return new MS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class MS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Al(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new rr([])}unionWith(e){let t=new wt(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rA("Invalid base64 string: "+i):i}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const _$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(n){if(Ve(!!n,39018),typeof n=="string"){let e=0;const t=_$.exec(n);if(Ve(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wo(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="server_timestamp",oA="__type__",iA="__previous_value__",aA="__local_write_time__";function L_(n){return(n?.mapValue?.fields||{})[oA]?.stringValue===sA}function Qp(n){const e=n.mapValue.fields[iA];return L_(e)?Qp(e):e}function td(n){const e=_o(n.mapValue.fields[aA].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,t,r,s,i,l,u,h,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g}}const Yf="(default)";class Pa{constructor(e,t){this.projectId=e,this.database=t||Yf}static empty(){return new Pa("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(e){return e instanceof Pa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="__type__",lA="__max__",fi={mapValue:{fields:{__type__:{stringValue:lA}}}},j_="__vector__",sc="value",vf={nullValue:"NULL_VALUE"};function Si(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?L_(n)?4:cA(n)?9007199254740991:Yp(n)?10:11:De(28295,{value:n})}function zs(n,e){if(n===e)return!0;const t=Si(n);if(t!==Si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return td(n).isEqual(td(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=_o(s.timestampValue),u=_o(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return wo(s.bytesValue).isEqual(wo(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return Dt(s.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Dt(s.integerValue)===Dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Dt(s.doubleValue),u=Dt(i.doubleValue);return l===u?Yu(l)===Yu(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Jl(n.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return(function(s,i){const l=s.mapValue.fields||{},u=i.mapValue.fields||{};if(OS(l)!==OS(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!zs(l[h],u[h])))return!1;return!0})(n,e);default:return De(52216,{left:n})}}function nd(n,e){return(n.values||[]).find((t=>zs(t,e)))!==void 0}function Ii(n,e){if(n===e)return 0;const t=Si(n),r=Si(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return(function(i,l){const u=Dt(i.integerValue||i.doubleValue),h=Dt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,e);case 3:return VS(n.timestampValue,e.timestampValue);case 4:return VS(td(n),td(e));case 5:return ev(n.stringValue,e.stringValue);case 6:return(function(i,l){const u=wo(i),h=wo(l);return u.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(i,l){const u=i.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const g=Ke(u[p],h[p]);if(g!==0)return g}return Ke(u.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,l){const u=Ke(Dt(i.latitude),Dt(l.latitude));return u!==0?u:Ke(Dt(i.longitude),Dt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return LS(n.arrayValue,e.arrayValue);case 10:return(function(i,l){const u=i.fields||{},h=l.fields||{},p=u[sc]?.arrayValue,g=h[sc]?.arrayValue,m=Ke(p?.values?.length||0,g?.values?.length||0);return m!==0?m:LS(p,g)})(n.mapValue,e.mapValue);case 11:return(function(i,l){if(i===fi.mapValue&&l===fi.mapValue)return 0;if(i===fi.mapValue)return 1;if(l===fi.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let m=0;m<h.length&&m<g.length;++m){const w=ev(h[m],g[m]);if(w!==0)return w;const I=Ii(u[h[m]],p[g[m]]);if(I!==0)return I}return Ke(h.length,g.length)})(n.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function VS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=_o(n),r=_o(e),s=Ke(t.seconds,r.seconds);return s!==0?s:Ke(t.nanos,r.nanos)}function LS(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Ii(t[s],r[s]);if(i)return i}return Ke(t.length,r.length)}function oc(n){return iv(n)}function iv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=_o(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return wo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=iv(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${iv(t.fields[l])}`;return s+"}"})(n.mapValue):De(61005,{value:n})}function _f(n){switch(Si(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qp(n);return e?16+_f(e):16;case 5:return 2*n.stringValue.length;case 6:return wo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+_f(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return ki(r.fields,((i,l)=>{s+=i.length+_f(l)})),s})(n.mapValue);default:throw De(13486,{value:n})}}function U_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function av(n){return!!n&&"integerValue"in n}function rd(n){return!!n&&"arrayValue"in n}function FS(n){return!!n&&"nullValue"in n}function jS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wf(n){return!!n&&"mapValue"in n}function Yp(n){return(n?.mapValue?.fields||{})[F_]?.stringValue===j_}function Ou(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ki(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ou(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ou(n.arrayValue.values[t]);return e}return{...n}}function cA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lA}const uA={mapValue:{fields:{[F_]:{stringValue:j_},[sc]:{arrayValue:{}}}}};function E$(n){return"nullValue"in n?vf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?U_(Pa.empty(),Ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Yp(n)?uA:{mapValue:{}}:De(35942,{value:n})}function b$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?U_(Pa.empty(),Ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?uA:"mapValue"in n?Yp(n)?{mapValue:{}}:fi:De(61959,{value:n})}function US(n,e){const t=Ii(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function zS(n,e){const t=Ii(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(t)}setAll(e){let t=jt.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=Ou(l):s.push(u.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];wf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ki(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Mn(Ou(this.value))}}function dA(n){const e=[];return ki(n.fields,((t,r)=>{const s=new jt([t]);if(wf(r)){const i=dA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)})),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,r,s,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Bt(e,0,je.min(),je.min(),je.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,s){return new Bt(e,1,t,je.min(),r,s,0)}static newNoDocument(e,t){return new Bt(e,2,t,je.min(),je.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,je.min(),je.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t){this.position=e,this.inclusive=t}}function $S(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],l=n.position[s];if(i.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),t.key):r=Ii(l,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function BS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t="asc"){this.field=e,this.dir=t}}function S$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{}class ut extends hA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new I$(e,t,r):t==="array-contains"?new C$(e,r):t==="in"?new vA(e,r):t==="not-in"?new P$(e,r):t==="array-contains-any"?new A$(e,r):new ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new x$(e,r):new T$(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ii(t,this.value)):t!==null&&Si(this.value)===Si(t)&&this.matchesComparison(Ii(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends hA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bt(e,t)}matches(e){return ac(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ac(n){return n.op==="and"}function lv(n){return n.op==="or"}function z_(n){return fA(n)&&ac(n)}function fA(n){for(const e of n.filters)if(e instanceof bt)return!1;return!0}function cv(n){if(n instanceof ut)return n.field.canonicalString()+n.op.toString()+oc(n.value);if(z_(n))return n.filters.map((e=>cv(e))).join(",");{const e=n.filters.map((t=>cv(t))).join(",");return`${n.op}(${e})`}}function pA(n,e){return n instanceof ut?(function(r,s){return s instanceof ut&&r.op===s.op&&r.field.isEqual(s.field)&&zs(r.value,s.value)})(n,e):n instanceof bt?(function(r,s){return s instanceof bt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,l,u)=>i&&pA(l,s.filters[u])),!0):!1})(n,e):void De(19439)}function mA(n,e){const t=n.filters.concat(e);return bt.create(t,n.op)}function gA(n){return n instanceof ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${oc(t.value)}`})(n):n instanceof bt?(function(t){return t.op.toString()+" {"+t.getFilters().map(gA).join(" ,")+"}"})(n):"Filter"}class I$ extends ut{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class x$ extends ut{constructor(e,t){super(e,"in",t),this.keys=yA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class T$ extends ut{constructor(e,t){super(e,"not-in",t),this.keys=yA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yA(n,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class C$ extends ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rd(t)&&nd(t.arrayValue,this.value)}}class vA extends ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nd(this.value.arrayValue,t)}}class P$ extends ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nd(this.value.arrayValue,t)}}class A$ extends ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>nd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e,t=null,r=[],s=[],i=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=u,this.Te=null}}function uv(n,e=null,t=[],r=[],s=null,i=null,l=null){return new R$(n,e,t,r,s,i,l)}function Aa(n){const e=Ze(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>cv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Wp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>oc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>oc(r))).join(",")),e.Te=t}return e.Te}function _d(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!S$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BS(n.startAt,e.startAt)&&BS(n.endAt,e.endAt)}function Jf(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function ep(n,e){return n.filters.filter((t=>t instanceof ut&&t.field.isEqual(e)))}function qS(n,e,t){let r=vf,s=!0;for(const i of ep(n,e)){let l=vf,u=!0;switch(i.op){case"<":case"<=":l=E$(i.value);break;case"==":case"in":case">=":l=i.value;break;case">":l=i.value,u=!1;break;case"!=":case"not-in":l=vf}US({value:r,inclusive:s},{value:l,inclusive:u})<0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];US({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}function HS(n,e,t){let r=fi,s=!0;for(const i of ep(n,e)){let l=fi,u=!0;switch(i.op){case">=":case">":l=b$(i.value),u=!1;break;case"==":case"in":case"<=":l=i.value;break;case"<":l=i.value,u=!1;break;case"!=":case"not-in":l=fi}zS({value:r,inclusive:s},{value:l,inclusive:u})>0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];zS({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t=null,r=[],s=[],i=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function k$(n,e,t,r,s,i,l,u){return new Xp(n,e,t,r,s,i,l,u)}function wd(n){return new Xp(n)}function WS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function N$(n){return n.collectionGroup!==null}function Mu(n){const e=Ze(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new wt(jt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Xf(i,r))})),t.has(jt.keyField().canonicalString())||e.Ie.push(new Xf(jt.keyField(),r))}return e.Ie}function Lr(n){const e=Ze(n);return e.Ee||(e.Ee=D$(e,Mu(n))),e.Ee}function D$(n,e){if(n.limitType==="F")return uv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Xf(s.field,i)}));const t=n.endAt?new ic(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ic(n.startAt.position,n.startAt.inclusive):null;return uv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function dv(n,e,t){return new Xp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jp(n,e){return _d(Lr(n),Lr(e))&&n.limitType===e.limitType}function _A(n){return`${Aa(Lr(n))}|lt:${n.limitType}`}function Ml(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>gA(s))).join(", ")}]`),Wp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>oc(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>oc(s))).join(",")),`Target(${r})`})(Lr(n))}; limitType=${n.limitType})`}function Ed(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of Mu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,h){const p=$S(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,Mu(r),s)||r.endAt&&!(function(l,u,h){const p=$S(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,Mu(r),s))})(n,e)}function O$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wA(n){return(e,t)=>{let r=!1;for(const s of Mu(n)){const i=M$(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function M$(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(i,l,u){const h=l.data.field(i),p=u.data.field(i);return h!==null&&p!==null?Ii(h,p):De(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=new Ot(Ee.comparator);function _r(){return V$}const EA=new Ot(Ee.comparator);function xu(...n){let e=EA;for(const t of n)e=e.insert(t.key,t);return e}function bA(n){let e=EA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ds(){return Vu()}function SA(){return Vu()}function Vu(){return new xo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const L$=new Ot(Ee.comparator),F$=new wt(Ee.comparator);function nt(...n){let e=F$;for(const t of n)e=e.add(t);return e}const j$=new wt(Ke);function U$(){return j$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function IA(n){return{integerValue:""+n}}function z$(n,e){return Wz(e)?IA(e):$_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this._=void 0}}function $$(n,e,t){return n instanceof sd?(function(s,i){const l={fields:{[oA]:{stringValue:sA},[aA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&L_(i)&&(i=Qp(i)),i&&(l.fields[iA]=i),{mapValue:l}})(t,e):n instanceof lc?TA(n,e):n instanceof cc?CA(n,e):(function(s,i){const l=xA(s,i),u=GS(l)+GS(s.Ae);return av(l)&&av(s.Ae)?IA(u):$_(s.serializer,u)})(n,e)}function B$(n,e,t){return n instanceof lc?TA(n,e):n instanceof cc?CA(n,e):t}function xA(n,e){return n instanceof od?(function(r){return av(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class sd extends em{}class lc extends em{constructor(e){super(),this.elements=e}}function TA(n,e){const t=PA(e);for(const r of n.elements)t.some((s=>zs(s,r)))||t.push(r);return{arrayValue:{values:t}}}class cc extends em{constructor(e){super(),this.elements=e}}function CA(n,e){let t=PA(e);for(const r of n.elements)t=t.filter((s=>!zs(s,r)));return{arrayValue:{values:t}}}class od extends em{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function GS(n){return Dt(n.integerValue||n.doubleValue)}function PA(n){return rd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,t){this.field=e,this.transform=t}}function H$(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof lc&&s instanceof lc||r instanceof cc&&s instanceof cc?Jl(r.elements,s.elements,zs):r instanceof od&&s instanceof od?zs(r.Ae,s.Ae):r instanceof sd&&s instanceof sd})(n.transform,e.transform)}class W${constructor(e,t){this.version=e,this.transformResults=t}}class vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class tm{}function AA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bd(n.key,vn.none()):new Ec(n.key,n.data,vn.none());{const t=n.data,r=Mn.empty();let s=new wt(jt.comparator);for(let i of e.fields)if(!s.has(i)){let l=t.field(i);l===null&&i.length>1&&(i=i.popLast(),l=t.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new To(n.key,r,new rr(s.toArray()),vn.none())}}function G$(n,e,t){n instanceof Ec?(function(s,i,l){const u=s.value.clone(),h=ZS(s.fieldTransforms,i,l.transformResults);u.setAll(h),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof To?(function(s,i,l){if(!Ef(s.precondition,i))return void i.convertToUnknownDocument(l.version);const u=ZS(s.fieldTransforms,i,l.transformResults),h=i.data;h.setAll(RA(s)),h.setAll(u),i.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Lu(n,e,t,r){return n instanceof Ec?(function(i,l,u,h){if(!Ef(i.precondition,l))return u;const p=i.value.clone(),g=QS(i.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof To?(function(i,l,u,h){if(!Ef(i.precondition,l))return u;const p=QS(i.fieldTransforms,h,l),g=l.data;return g.setAll(RA(i)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(i,l,u){return Ef(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function K$(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=xA(r.transform,s||null);i!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,i))}return t||null}function KS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Jl(r,s,((i,l)=>H$(i,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ec extends tm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class To extends tm{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function RA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function ZS(n,e,t){const r=new Map;Ve(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],l=i.transform,u=e.data.field(i.field);r.set(i.field,B$(l,u,t[s]))}return r}function QS(n,e,t){const r=new Map;for(const s of n){const i=s.transform,l=t.data.field(s.field);r.set(s.field,$$(i,l,e))}return r}class bd extends tm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kA extends tm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&G$(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=SA();return this.mutations.forEach((s=>{const i=e.get(s.key),l=i.overlayedDocument;let u=this.applyToLocalView(l,i.mutatedFields);u=t.has(s.key)?null:u;const h=AA(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),nt())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,((t,r)=>KS(t,r)))&&Jl(this.baseMutations,e.baseMutations,((t,r)=>KS(t,r)))}}class q_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return L$})();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new q_(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,dt;function Q$(n){switch(n){case re.OK:return De(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function NA(n){if(n===void 0)return $n("GRPC error has no .code"),re.UNKNOWN;switch(n){case en.OK:return re.OK;case en.CANCELLED:return re.CANCELLED;case en.UNKNOWN:return re.UNKNOWN;case en.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case en.INTERNAL:return re.INTERNAL;case en.UNAVAILABLE:return re.UNAVAILABLE;case en.UNAUTHENTICATED:return re.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case en.NOT_FOUND:return re.NOT_FOUND;case en.ALREADY_EXISTS:return re.ALREADY_EXISTS;case en.PERMISSION_DENIED:return re.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case en.ABORTED:return re.ABORTED;case en.OUT_OF_RANGE:return re.OUT_OF_RANGE;case en.UNIMPLEMENTED:return re.UNIMPLEMENTED;case en.DATA_LOSS:return re.DATA_LOSS;default:return De(39323,{code:n})}}(dt=en||(en={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$=new vi([4294967295,4294967295],0);function YS(n){const e=Y$().encode(n),t=new kP;return t.update(e),new Uint8Array(t.digest())}function XS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new vi([t,r],0),new vi([s,i],0)]}class W_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Tu(`Invalid padding: ${t}`);if(r<0)throw new Tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=vi.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(vi.fromNumber(r)));return s.compare(X$)===1&&(s=new vi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=YS(e),[r,s]=XS(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new W_(i,s,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=YS(e),[r,s]=XS(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nm(je.min(),s,new Ot(Ke),_r(),nt())}}class Sd{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Sd(r,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class DA{constructor(e,t){this.targetId=e,this.Ce=t}}class OA{constructor(e,t,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class JS{constructor(){this.ve=0,this.Fe=eI(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),t=nt(),r=nt();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:De(38017,{changeType:i})}})),new Sd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=eI()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J${constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=rf(),this.He=rf(),this.Ye=new Ot(Ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(Jf(i))if(r===0){const l=new Ee(i.path);this.et(t,l,Bt.newNoDocument(l,je.min()))}else Ve(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let l,u;try{l=wo(r).toUint8Array()}catch(h){if(h instanceof rA)return Ca("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new W_(l,s,i)}catch(h){return Ca(h instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,l)=>{const u=this.ot(l);if(u){if(i.current&&Jf(u.target)){const h=new Ee(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Bt.newNoDocument(h,e))}i.Be&&(t.set(l,i.ke()),i.qe())}}));let r=nt();this.He.forEach(((i,l)=>{let u=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,l)=>l.setReadTime(e)));const s=new nm(e,t,this.Ye,this.je,r);return this.je=_r(),this.Je=rf(),this.He=rf(),this.Ye=new Ot(Ke),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new JS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new wt(Ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new wt(Ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rf(){return new Ot(Ee.comparator)}function eI(){return new Ot(Ee.comparator)}const eB={asc:"ASCENDING",desc:"DESCENDING"},tB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nB={and:"AND",or:"OR"};class rB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hv(n,e){return n.useProto3Json||Wp(e)?e:{value:e}}function uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sB(n,e){return uc(n,e.toTimestamp())}function qn(n){return Ve(!!n,49232),je.fromTimestamp((function(t){const r=_o(t);return new _t(r.seconds,r.nanos)})(n))}function G_(n,e){return fv(n,e).canonicalString()}function fv(n,e){const t=(function(s){return new yt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function VA(n){const e=yt.fromString(n);return Ve(HA(e),10190,{key:e.toString()}),e}function tp(n,e){return G_(n.databaseId,e.path)}function ga(n,e){const t=VA(e);if(t.get(1)!==n.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(jA(t))}function LA(n,e){return G_(n.databaseId,e)}function FA(n){const e=VA(n);return e.length===4?yt.emptyPath():jA(e)}function pv(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jA(n){return Ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tI(n,e,t){return{name:tp(n,e),fields:t.value.mapValue.fields}}function oB(n,e,t){const r=ga(n,e.name),s=qn(e.updateTime),i=e.createTime?qn(e.createTime):je.min(),l=new Mn({mapValue:{fields:e.fields}}),u=Bt.newFoundDocument(r,s,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function iB(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(p,g){return p.useProto3Json?(Ve(g===void 0||typeof g=="string",58123),nn.fromBase64String(g||"")):(Ve(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),nn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const g=p.code===void 0?re.UNKNOWN:NA(p.code);return new we(g,p.message||"")})(l);t=new OA(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ga(n,r.document.name),i=qn(r.document.updateTime),l=r.document.createTime?qn(r.document.createTime):je.min(),u=new Mn({mapValue:{fields:r.document.fields}}),h=Bt.newFoundDocument(s,i,l,u),p=r.targetIds||[],g=r.removedTargetIds||[];t=new bf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ga(n,r.document),i=r.readTime?qn(r.readTime):je.min(),l=Bt.newNoDocument(s,i),u=r.removedTargetIds||[];t=new bf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ga(n,r.document),i=r.removedTargetIds||[];t=new bf([],i,s,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new Z$(s,i),u=r.targetId;t=new DA(u,l)}}return t}function np(n,e){let t;if(e instanceof Ec)t={update:tI(n,e.key,e.value)};else if(e instanceof bd)t={delete:tp(n,e.key)};else if(e instanceof To)t={update:tI(n,e.key,e.data),updateMask:hB(e.fieldMask)};else{if(!(e instanceof kA))return De(16599,{Vt:e.type});t={verify:tp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,l){const u=l.transform;if(u instanceof sd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof lc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof od)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw De(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:sB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:De(27497)})(n,e.precondition)),t}function mv(n,e){const t=e.currentDocument?(function(i){return i.updateTime!==void 0?vn.updateTime(qn(i.updateTime)):i.exists!==void 0?vn.exists(i.exists):vn.none()})(e.currentDocument):vn.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(l,u){let h=null;if("setToServerValue"in u)Ve(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),h=new sd;else if("appendMissingElements"in u){const g=u.appendMissingElements.values||[];h=new lc(g)}else if("removeAllFromArray"in u){const g=u.removeAllFromArray.values||[];h=new cc(g)}else"increment"in u?h=new od(l,u.increment):De(16584,{proto:u});const p=jt.fromServerFormat(u.fieldPath);return new q$(p,h)})(n,s))):[];if(e.update){e.update.name;const s=ga(n,e.update.name),i=new Mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const p=h.fieldPaths||[];return new rr(p.map((g=>jt.fromServerFormat(g))))})(e.updateMask);return new To(s,i,l,t,r)}return new Ec(s,i,t,r)}if(e.delete){const s=ga(n,e.delete);return new bd(s,t)}if(e.verify){const s=ga(n,e.verify);return new kA(s,t)}return De(1463,{proto:e})}function aB(n,e){return n&&n.length>0?(Ve(e!==void 0,14353),n.map((t=>(function(s,i){let l=s.updateTime?qn(s.updateTime):qn(i);return l.isEqual(je.min())&&(l=qn(i)),new W$(l,s.transformResults||[])})(t,e)))):[]}function UA(n,e){return{documents:[LA(n,e.path)]}}function zA(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=LA(n,s);const i=(function(p){if(p.length!==0)return qA(bt.create(p,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Vl(w.field),direction:cB(w.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=hv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function $A(n){let e=FA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let i=[];t.where&&(i=(function(m){const w=BA(m);return w instanceof bt&&z_(w)?w.getFilters():[w]})(t.where));let l=[];t.orderBy&&(l=(function(m){return m.map((w=>(function(R){return new Xf(Ll(R.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(w)))})(t.orderBy));let u=null;t.limit&&(u=(function(m){let w;return w=typeof m=="object"?m.value:m,Wp(w)?null:w})(t.limit));let h=null;t.startAt&&(h=(function(m){const w=!!m.before,I=m.values||[];return new ic(I,w)})(t.startAt));let p=null;return t.endAt&&(p=(function(m){const w=!m.before,I=m.values||[];return new ic(I,w)})(t.endAt)),k$(e,s,l,i,u,"F",h,p)}function lB(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ll(t.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ll(t.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ll(t.unaryFilter.field);return ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ll(t.unaryFilter.field);return ut.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ut.create(Ll(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return bt.create(t.compositeFilter.filters.map((r=>BA(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(t.compositeFilter.op))})(n):De(30097,{filter:n})}function cB(n){return eB[n]}function uB(n){return tB[n]}function dB(n){return nB[n]}function Vl(n){return{fieldPath:n.canonicalString()}}function Ll(n){return jt.fromServerFormat(n.fieldPath)}function qA(n){return n instanceof ut?(function(t){if(t.op==="=="){if(jS(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NAN"}};if(FS(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jS(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NOT_NAN"}};if(FS(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(t.field),op:uB(t.op),value:t.value}}})(n):n instanceof bt?(function(t){const r=t.getFilters().map((s=>qA(s)));return r.length===1?r[0]:{compositeFilter:{op:dB(t.op),filters:r}}})(n):De(54877,{filter:n})}function hB(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function HA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t,r,s,i=je.min(),l=je.min(),u=nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.yt=e}}function fB(n,e){let t;if(e.document)t=oB(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ee.fromSegments(e.noDocument.path),s=ka(e.noDocument.readTime);t=Bt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return De(56709);{const r=Ee.fromSegments(e.unknownDocument.path),s=ka(e.unknownDocument.version);t=Bt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const i=new _t(s[0],s[1]);return je.fromTimestamp(i)})(e.readTime)),t}function nI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,l){return{name:tp(i,l.key),fields:l.data.value.mapValue.fields,updateTime:uc(i,l.version.toTimestamp()),createTime:uc(i,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ra(e.version)};else{if(!e.isUnknownDocument())return De(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Ra(e.version)}}return r}function rp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ra(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ka(n){const e=new _t(n.seconds,n.nanoseconds);return je.fromTimestamp(e)}function ca(n,e){const t=(e.baseMutations||[]).map((i=>mv(n.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const l=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>mv(n.yt,i))),s=_t.fromMillis(e.localWriteTimeMs);return new B_(e.batchId,s,t,r)}function Cu(n){const e=ka(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ka(n.lastLimboFreeSnapshotVersion):je.min();let r;return r=(function(i){return i.documents!==void 0})(n.query)?(function(i){const l=i.documents.length;return Ve(l===1,1966,{count:l}),Lr(wd(FA(i.documents[0])))})(n.query):(function(i){return Lr($A(i))})(n.query),new ho(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,nn.fromBase64String(n.resumeToken))}function GA(n,e){const t=Ra(e.snapshotVersion),r=Ra(e.lastLimboFreeSnapshotVersion);let s;s=Jf(e.target)?UA(n.yt,e.target):zA(n.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Aa(e.target),readTime:t,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function KA(n){const e=$A({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dv(e,e.limit,"L"):e}function my(n,e){return new H_(e.largestBatchId,mv(n.yt,e.overlayMutation))}function rI(n,e){const t=e.path.lastSegment();return[n,Vn(e.path.popLast()),t]}function sI(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ra(r.readTime),documentKey:Vn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{getBundleMetadata(e,t){return oI(e).get(t).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:ka(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,t){return oI(e).put((function(s){return{bundleId:s.id,createTime:Ra(qn(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return iI(e).get(t).next((r=>{if(r)return(function(i){return{name:i.name,query:KA(i.bundledQuery),readTime:ka(i.readTime)}})(r)}))}saveNamedQuery(e,t){return iI(e).put((function(s){return{name:s.name,readTime:Ra(qn(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function oI(n){return un(n,Gp)}function iI(n){return un(n,Kp)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new rm(e,r)}getOverlay(e,t){return mu(e).get(rI(this.userId,t)).next((r=>r?my(this.serializer,r):null))}getOverlays(e,t){const r=Ds();return Z.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((i,l)=>{const u=new H_(t,l);s.push(this.St(e,u))})),Z.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((l=>s.add(Vn(l.getCollectionPath()))));const i=[];return s.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);i.push(mu(e).Z(sv,u))})),Z.waitFor(i)}getOverlaysForCollection(e,t,r){const s=Ds(),i=Vn(t),l=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return mu(e).J(sv,l).next((u=>{for(const h of u){const p=my(this.serializer,h);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const i=Ds();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mu(e).ee({index:YP,range:u},((h,p,g)=>{const m=my(this.serializer,p);i.size()<s||m.largestBatchId===l?(i.set(m.getKey(),m),l=m.largestBatchId):g.done()})).next((()=>i))}St(e,t){return mu(e).put((function(s,i,l){const[u,h,p]=rI(i,l.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:np(s.yt,l.mutation)}})(this.serializer,this.userId,t))}}function mu(n){return un(n,Zp)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{bt(e){return un(e,M_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?nn.fromUint8Array(r):nn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Dt(e.integerValue));else if("doubleValue"in e){const r=Dt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Yu(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=_o(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(wo(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?cA(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Yp(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):De(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=sc,i=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Dt(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),Ee.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ua.Kt=new ua;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=255;function gB(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function aI(n){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const l=gB(255&r[i]);if(s+=l,l!==8)break}return s})(n);return Math.ceil(e/8)}class yB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),r=aI(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=aI(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(Rl),this.sn(255)}_n(){this.an(Rl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Rl?(this.sn(Rl),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Rl?(this.an(Rl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class vB{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class _B{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class gu{constructor(){this.cn=new yB,this.ln=new vB(this.cn),this.hn=new _B(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t,r,s){this.Tn=e,this.In=t,this.En=r,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new da(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:Sf(this.En),directionalValue:Sf(this.dn),orderedDocumentKey:Sf(t),documentKey:r.path.toArray()}}Vn(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ni(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=lI(n.En,e.En),t!==0?t:(t=lI(n.dn,e.dn),t!==0?t:Ee.comparator(n.In,e.In)))}function lI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Sf(n){return SP()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function cI(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class uI{constructor(e){this.mn=new wt(((t,r)=>jt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ve(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=tv(e);if(t!==void 0&&!this.wn(t))return!1;const r=ia(e);let s=new Set,i=0,l=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=r[i];if(!this.Sn(u,h)||!this.bn(this.fn[l++],h))return!1}++i}for(;i<r.length;++i){const u=r[i];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new wt(jt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new mf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new mf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new mf(r.field,r.dir==="asc"?0:1)));return new Gf(Gf.UNKNOWN_ID,this.collectionId,t,Qu.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(n){if(Ve(n instanceof ut||n instanceof bt,20012),n instanceof ut){if(n instanceof vA){const t=n.value.arrayValue?.values?.map((r=>ut.create(n.field,"==",r)))||[];return bt.create(t,"or")}return n}const e=n.filters.map((t=>ZA(t)));return bt.create(e,n.op)}function wB(n){if(n.getFilters().length===0)return[];const e=vv(ZA(n));return Ve(QA(e),7391),gv(e)||yv(e)?[e]:e.getFilters()}function gv(n){return n instanceof ut}function yv(n){return n instanceof bt&&z_(n)}function QA(n){return gv(n)||yv(n)||(function(t){if(t instanceof bt&&lv(t)){for(const r of t.getFilters())if(!gv(r)&&!yv(r))return!1;return!0}return!1})(n)}function vv(n){if(Ve(n instanceof ut||n instanceof bt,34018),n instanceof ut)return n;if(n.filters.length===1)return vv(n.filters[0]);const e=n.filters.map((r=>vv(r)));let t=bt.create(e,n.op);return t=sp(t),QA(t)?t:(Ve(t instanceof bt,64498),Ve(ac(t),40251),Ve(t.filters.length>1,57927),t.filters.reduce(((r,s)=>K_(r,s))))}function K_(n,e){let t;return Ve(n instanceof ut||n instanceof bt,38388),Ve(e instanceof ut||e instanceof bt,25473),t=n instanceof ut?e instanceof ut?(function(s,i){return bt.create([s,i],"and")})(n,e):dI(n,e):e instanceof ut?dI(e,n):(function(s,i){if(Ve(s.filters.length>0&&i.filters.length>0,48005),ac(s)&&ac(i))return mA(s,i.getFilters());const l=lv(s)?s:i,u=lv(s)?i:s,h=l.filters.map((p=>K_(p,u)));return bt.create(h,"or")})(n,e),sp(t)}function dI(n,e){if(ac(e))return mA(e,n.getFilters());{const t=e.filters.map((r=>K_(n,r)));return bt.create(t,"or")}}function sp(n){if(Ve(n instanceof ut||n instanceof bt,11850),n instanceof ut)return n;const e=n.getFilters();if(e.length===1)return sp(e[0]);if(fA(n))return n;const t=e.map((s=>sp(s))),r=[];return t.forEach((s=>{s instanceof ut?r.push(s):s instanceof bt&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:bt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this.Cn=new Z_}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Er.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class Z_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new wt(yt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="IndexedDbIndexManager",sf=new Uint8Array(0);class bB{constructor(e,t){this.databaseId=t,this.vn=new Z_,this.Fn=new xo((r=>Aa(r)),((r,s)=>_d(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const i={collectionId:r,parent:Vn(s)};return fI(e).put(i)}return Z.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[jP(t),""],!1,!0);return fI(e).J(s).next((i=>{for(const l of i){if(l.collectionId!==t)break;r.push(Ns(l.parent))}return r}))}addFieldIndex(e,t){const r=yu(e),s=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete s.indexId;const i=r.add(s);if(t.indexState){const l=Nl(e);return i.next((u=>{l.put(sI(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const r=yu(e),s=Nl(e),i=kl(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=yu(e),r=kl(e),s=Nl(e);return t.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return Z.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new uI(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,t){const r=kl(e);let s=!0;const i=new Map;return Z.forEach(this.Mn(t),(l=>this.xn(e,l).next((u=>{s&&(s=!!u),i.set(l,u)})))).next((()=>{if(s){let l=nt();const u=[];return Z.forEach(i,((h,p)=>{de(hI,`Using index ${(function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(h)} to execute ${Aa(t)}`);const g=(function(U,z){const $=tv(z);if($===void 0)return null;for(const K of ep(U,$.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null})(p,h),m=(function(U,z){const $=new Map;for(const K of ia(z))for(const P of ep(U,K.fieldPath))switch(P.op){case"==":case"in":$.set(K.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return $.set(K.fieldPath.canonicalString(),P.value),Array.from($.values())}return null})(p,h),w=(function(U,z){const $=[];let K=!0;for(const P of ia(z)){const C=P.kind===0?qS(U,P.fieldPath,U.startAt):HS(U,P.fieldPath,U.startAt);$.push(C.value),K&&(K=C.inclusive)}return new ic($,K)})(p,h),I=(function(U,z){const $=[];let K=!0;for(const P of ia(z)){const C=P.kind===0?HS(U,P.fieldPath,U.endAt):qS(U,P.fieldPath,U.endAt);$.push(C.value),K&&(K=C.inclusive)}return new ic($,K)})(p,h),R=this.On(h,p,w),T=this.On(h,p,I),A=this.Nn(h,p,m),D=this.Bn(h.indexId,g,R,w.inclusive,T,I.inclusive,A);return Z.forEach(D,(V=>r.Y(V,t.limit).next((U=>{U.forEach((z=>{const $=Ee.fromSegments(z.documentKey);l.has($)||(l=l.add($),u.push($))}))}))))})).next((()=>u))}return Z.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=wB(bt.create(e.filters,"and")).map((r=>uv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,s,i,l,u){const h=(t!=null?t.length:1)*Math.max(r.length,i.length),p=h/(t!=null?t.length:1),g=[];for(let m=0;m<h;++m){const w=t?this.Ln(t[m/p]):sf,I=this.kn(e,w,r[m%p],s),R=this.qn(e,w,i[m%p],l),T=u.map((A=>this.kn(e,w,A,!0)));g.push(...this.createRange(I,R,T))}return g}kn(e,t,r,s){const i=new da(e,Ee.empty(),t,r);return s?i:i.An()}qn(e,t,r,s){const i=new da(e,Ee.empty(),t,r);return s?i.An():i}xn(e,t){const r=new uI(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let l=null;for(const u of i)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,t){let r=2;const s=this.Mn(t);return Z.forEach(s,(i=>this.xn(e,i).next((l=>{l?r!==0&&l.fields.length<(function(h){let p=new wt(jt.comparator),g=!1;for(const m of h.filters)for(const w of m.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?g=!0:p=p.add(w.field));for(const m of h.orderBy)m.field.isKeyField()||(p=p.add(m.field));return p.size+(g?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&s.length>1&&r===2?1:r))}Qn(e,t){const r=new gu;for(const s of ia(e)){const i=t.data.field(s.fieldPath);if(i==null)return null;const l=r.Pn(s.kind);ua.Kt.Dt(i,l)}return r.un()}Ln(e){const t=new gu;return ua.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new gu;return ua.Kt.Dt(U_(this.databaseId,t),r.Pn((function(i){const l=ia(i);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let s=[];s.push(new gu);let i=0;for(const l of ia(e)){const u=r[i++];for(const h of s)if(this.Un(t,l.fieldPath)&&rd(u))s=this.Kn(s,l,u);else{const p=h.Pn(l.kind);ua.Kt.Dt(u,p)}}return this.Wn(s)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const s=[...e],i=[];for(const l of r.arrayValue.values||[])for(const u of s){const h=new gu;h.seed(u.un()),ua.Kt.Dt(l,h.Pn(t.kind)),i.push(h)}return i}Un(e,t){return!!e.filters.find((r=>r instanceof ut&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=yu(e),s=Nl(e);return(t?r.J(rv,IDBKeyRange.bound(t,t)):r.J()).next((i=>{const l=[];return Z.forEach(i,(u=>s.get([u.indexId,this.uid]).next((h=>{l.push((function(g,m){const w=m?new Qu(m.sequenceNumber,new Er(ka(m.readTime),new Ee(Ns(m.documentKey)),m.largestBatchId)):Qu.empty(),I=g.fields.map((([R,T])=>new mf(jt.fromServerFormat(R),T)));return new Gf(g.indexId,g.collectionGroup,I,w)})(u,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ke(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=yu(e),i=Nl(e);return this.Gn(e).next((l=>s.J(rv,IDBKeyRange.bound(t,t)).next((u=>Z.forEach(u,(h=>i.put(sI(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return Z.forEach(t,((s,i)=>{const l=r.get(s.collectionGroup);return(l?Z.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Z.forEach(u,(h=>this.zn(e,s,h).next((p=>{const g=this.jn(i,h);return p.isEqual(g)?Z.resolve():this.Jn(e,i,h,p,g)})))))))}))}Hn(e,t,r,s){return kl(e).put(s.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,s){return kl(e).delete(s.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const s=kl(e);let i=new wt(ni);return s.ee({index:QP,range:IDBKeyRange.only([r.indexId,this.uid,Sf(this.$n(r,t))])},((l,u)=>{i=i.add(new da(r.indexId,t,cI(u.arrayValue),cI(u.directionalValue)))})).next((()=>i))}jn(e,t){let r=new wt(ni);const s=this.Qn(t,e);if(s==null)return r;const i=tv(t);if(i!=null){const l=e.data.field(i.fieldPath);if(rd(l))for(const u of l.arrayValue.values||[])r=r.add(new da(t.indexId,e.key,this.Ln(u),s))}else r=r.add(new da(t.indexId,e.key,sf,s));return r}Jn(e,t,r,s,i){de(hI,"Updating index entries for document '%s'",t.key);const l=[];return(function(h,p,g,m,w){const I=h.getIterator(),R=p.getIterator();let T=Al(I),A=Al(R);for(;T||A;){let D=!1,V=!1;if(T&&A){const U=g(T,A);U<0?V=!0:U>0&&(D=!0)}else T!=null?V=!0:D=!0;D?(m(A),A=Al(R)):V?(w(T),T=Al(I)):(T=Al(I),A=Al(R))}})(s,i,ni,(u=>{l.push(this.Hn(e,t,r,u))}),(u=>{l.push(this.Yn(e,t,r,u))})),Z.waitFor(l)}Gn(e){let t=1;return Nl(e).ee({index:ZP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,u)=>ni(l,u))).filter(((l,u,h)=>!u||ni(l,h[u-1])!==0));const s=[];s.push(e);for(const l of r){const u=ni(l,e),h=ni(l,t);if(u===0)s[0]=e.An();else if(u>0&&h<0)s.push(l),s.push(l.An());else if(h>0)break}s.push(t);const i=[];for(let l=0;l<s.length;l+=2){if(this.Zn(s[l],s[l+1]))return[];const u=s[l].Vn(this.uid,sf,Ee.empty()),h=s[l+1].Vn(this.uid,sf,Ee.empty());i.push(IDBKeyRange.bound(u,h))}return i}Zn(e,t){return ni(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(pI)}getMinOffset(e,t){return Z.mapArray(this.Mn(t),(r=>this.xn(e,r).next((s=>s||De(44426))))).next(pI)}}function fI(n){return un(n,ed)}function kl(n){return un(n,Du)}function yu(n){return un(n,O_)}function Nl(n){return un(n,Nu)}function pI(n){Ve(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;k_(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Er(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YA=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n,e,t){const r=n.store(es),s=n.store(ec),i=[],l=IDBKeyRange.only(t.batchId);let u=0;const h=r.ee({range:l},((g,m,w)=>(u++,w.delete())));i.push(h.next((()=>{Ve(u===1,47070,{batchId:t.batchId})})));const p=[];for(const g of t.mutations){const m=WP(e,g.key.path,t.batchId);i.push(s.delete(m)),p.push(g.key)}return Z.waitFor(i).next((()=>p))}function op(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw De(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(YA,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class sm{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,t,r,s){Ve(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new sm(i,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ri(e).ee({index:ha,range:r},((s,i,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const i=Fl(e),l=ri(e);return l.add({}).next((u=>{Ve(typeof u=="number",49019);const h=new B_(u,t,r,s),p=(function(I,R,T){const A=T.baseMutations.map((V=>np(I.yt,V))),D=T.mutations.map((V=>np(I.yt,V)));return{userId:R,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:A,mutations:D}})(this.serializer,this.userId,h),g=[];let m=new wt(((w,I)=>Ke(w.canonicalString(),I.canonicalString())));for(const w of s){const I=WP(this.userId,w.key.path,u);m=m.add(w.key.path.popLast()),g.push(l.put(p)),g.push(i.put(I,Zz))}return m.forEach((w=>{g.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),Z.waitFor(g).next((()=>h))}))}lookupMutationBatch(e,t){return ri(e).get(t).next((r=>r?(Ve(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),ca(this.serializer,r)):null))}er(e,t){return this.Xn[t]?Z.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return ri(e).ee({index:ha,range:s},((l,u,h)=>{u.userId===this.userId&&(Ve(u.batchId>=r,47524,{tr:r}),i=ca(this.serializer,u)),h.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=pa;return ri(e).ee({index:ha,range:t,reverse:!0},((s,i,l)=>{r=i.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,pa],[this.userId,Number.POSITIVE_INFINITY]);return ri(e).J(ha,t).next((r=>r.map((s=>ca(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=gf(this.userId,t.path),s=IDBKeyRange.lowerBound(r),i=[];return Fl(e).ee({range:s},((l,u,h)=>{const[p,g,m]=l,w=Ns(g);if(p===this.userId&&t.path.isEqual(w))return ri(e).get(m).next((I=>{if(!I)throw De(61480,{nr:l,batchId:m});Ve(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:m}),i.push(ca(this.serializer,I))}));h.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ke);const s=[];return t.forEach((i=>{const l=gf(this.userId,i.path),u=IDBKeyRange.lowerBound(l),h=Fl(e).ee({range:u},((p,g,m)=>{const[w,I,R]=p,T=Ns(I);w===this.userId&&i.path.isEqual(T)?r=r.add(R):m.done()}));s.push(h)})),Z.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,i=gf(this.userId,r),l=IDBKeyRange.lowerBound(i);let u=new wt(Ke);return Fl(e).ee({range:l},((h,p,g)=>{const[m,w,I]=h,R=Ns(w);m===this.userId&&r.isPrefixOf(R)?R.length===s&&(u=u.add(I)):g.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],s=[];return t.forEach((i=>{s.push(ri(e).get(i).next((l=>{if(l===null)throw De(35274,{batchId:i});Ve(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:i}),r.push(ca(this.serializer,l))})))})),Z.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return XA(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Z.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Z.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return Fl(e).ee({range:r},((i,l,u)=>{if(i[0]===this.userId){const h=Ns(i[1]);s.push(h)}else u.done()})).next((()=>{Ve(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,t){return JA(e,this.userId,t)}_r(e){return eR(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:pa,lastStreamToken:""}))}}function JA(n,e,t){const r=gf(e,t.path),s=r[1],i=IDBKeyRange.lowerBound(r);let l=!1;return Fl(n).ee({range:i,X:!0},((u,h,p)=>{const[g,m,w]=u;g===e&&m===s&&(l=!0),p.done()})).next((()=>l))}function ri(n){return un(n,es)}function Fl(n){return un(n,ec)}function eR(n){return un(n,Xu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Na(0)}static cr(){return new Na(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Na(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>je.fromTimestamp(new _t(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Dl(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Ve(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let s=0;const i=[];return Dl(e).ee(((l,u)=>{const h=Cu(u);h.sequenceNumber<=t&&r.get(h.targetId)===null&&(s++,i.push(this.removeTargetData(e,h)))})).next((()=>Z.waitFor(i))).next((()=>s))}forEachTarget(e,t){return Dl(e).ee(((r,s)=>{const i=Cu(s);t(i)}))}lr(e){return gI(e).get(Qf).next((t=>(Ve(t!==null,2888),t)))}hr(e,t){return gI(e).put(Qf,t)}Pr(e,t){return Dl(e).put(GA(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Aa(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Dl(e).ee({range:s,index:KP},((l,u,h)=>{const p=Cu(u);_d(t,p.target)&&(i=p,h.done())})).next((()=>i))}addMatchingKeys(e,t,r){const s=[],i=ai(e);return t.forEach((l=>{const u=Vn(l.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,l))})),Z.waitFor(s)}removeMatchingKeys(e,t,r){const s=ai(e);return Z.forEach(t,(i=>{const l=Vn(i.path);return Z.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,t){const r=ai(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=ai(e);let i=nt();return s.ee({range:r,X:!0},((l,u,h)=>{const p=Ns(l[1]),g=new Ee(p);i=i.add(g)})).next((()=>i))}containsKey(e,t){const r=Vn(t.path),s=IDBKeyRange.bound([r],[jP(r)],!1,!0);let i=0;return ai(e).ee({index:D_,X:!0,range:s},(([l,u],h,p)=>{l!==0&&(i++,p.done())})).next((()=>i>0))}At(e,t){return Dl(e).get(t).next((r=>r?Cu(r):null))}}function Dl(n){return un(n,tc)}function gI(n){return un(n,ma)}function ai(n){return un(n,nc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="LruGarbageCollector",IB=1048576;function vI([n,e],[t,r]){const s=Ke(n,t);return s===0?Ke(e,r):s}class xB{constructor(e){this.Ir=e,this.buffer=new wt(vI),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(yI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ri(t)?de(yI,"Ignoring IndexedDB error during garbage collection: ",t):await ja(t)}await this.Vr(3e5)}))}}class TB{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Mr.ce);const r=new xB(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(mI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mI):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,l,u,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,l=Date.now(),this.nthSequenceNumber(e,s)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,t)))).next((m=>(i=m,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(p=Date.now(),Ol()<=it.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${i} targets in `+(h-u)+`ms
	Removed ${m} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m}))))}}function nR(n,e){return new TB(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,t){this.db=e,this.garbageCollector=nR(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,s)=>t(s)))}addReference(e,t,r){return of(e,r)}removeReference(e,t,r){return of(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return of(e,t)}br(e,t){return(function(s,i){let l=!1;return eR(s).te((u=>JA(s,u,i).next((h=>(h&&(l=!0),Z.resolve(!h)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((l,u)=>{if(u<=t){const h=this.br(e,l).next((p=>{if(!p)return i++,r.getEntry(e,l).next((()=>(r.removeEntry(l,je.min()),ai(e).delete((function(m){return[0,Vn(m.path)]})(l)))))}));s.push(h)}})).next((()=>Z.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return of(e,t)}Sr(e,t){const r=ai(e);let s,i=Mr.ce;return r.ee({index:D_},(([l,u],{path:h,sequenceNumber:p})=>{l===0?(i!==Mr.ce&&t(new Ee(Ns(s)),i),i=p,s=h):i=Mr.ce})).next((()=>{i!==Mr.ce&&t(new Ee(Ns(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function of(n,e){return ai(n).put((function(r,s){return{targetId:0,path:Vn(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.changes=new xo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sa(e).put(r)}removeEntry(e,t,r){return sa(e).delete((function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],rp(l),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Bt.newInvalidDocument(t);return sa(e).ee({index:yf,range:IDBKeyRange.only(vu(t))},((s,i)=>{r=this.Cr(t,i)})).next((()=>r))}vr(e,t){let r={size:0,document:Bt.newInvalidDocument(t)};return sa(e).ee({index:yf,range:IDBKeyRange.only(vu(t))},((s,i)=>{r={document:this.Cr(t,i),size:op(i)}})).next((()=>r))}getEntries(e,t){let r=_r();return this.Fr(e,t,((s,i)=>{const l=this.Cr(s,i);r=r.insert(s,l)})).next((()=>r))}Mr(e,t){let r=_r(),s=new Ot(Ee.comparator);return this.Fr(e,t,((i,l)=>{const u=this.Cr(i,l);r=r.insert(i,u),s=s.insert(i,op(l))})).next((()=>({documents:r,Or:s})))}Fr(e,t,r){if(t.isEmpty())return Z.resolve();let s=new wt(EI);t.forEach((h=>s=s.add(h)));const i=IDBKeyRange.bound(vu(s.first()),vu(s.last())),l=s.getIterator();let u=l.getNext();return sa(e).ee({index:yf,range:i},((h,p,g)=>{const m=Ee.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&EI(u,m)<0;)r(u,null),u=l.getNext();u&&u.isEqual(m)&&(r(u,p),u=l.hasNext()?l.getNext():null),u?g.j(vu(u)):g.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,i){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),rp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sa(e).J(IDBKeyRange.bound(u,h,!0)).next((p=>{i?.incrementDocumentReadCount(p.length);let g=_r();for(const m of p){const w=this.Cr(Ee.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);w.isFoundDocument()&&(Ed(t,w)||s.has(w.key))&&(g=g.insert(w.key,w))}return g}))}getAllFromCollectionGroup(e,t,r,s){let i=_r();const l=wI(t,r),u=wI(t,Er.max());return sa(e).ee({index:GP,range:IDBKeyRange.bound(l,u,!0)},((h,p,g)=>{const m=this.Cr(Ee.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);i=i.insert(m.key,m),i.size===s&&g.done()})).next((()=>i))}newChangeBuffer(e){return new AB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return _I(e).get(nv).next((t=>(Ve(!!t,20021),t)))}Dr(e,t){return _I(e).put(nv,t)}Cr(e,t){if(t){const r=fB(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(je.min())))return r}return Bt.newInvalidDocument(e)}}function sR(n){return new PB(n)}class AB extends rR{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new xo((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new wt(((i,l)=>Ke(i.canonicalString(),l.canonicalString())));return this.changes.forEach(((i,l)=>{const u=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,u.readTime)),l.isValidDocument()){const h=nI(this.Nr.serializer,l);s=s.add(i.path.popLast());const p=op(h);r+=p-u.size,t.push(this.Nr.addEntry(e,i,h))}else if(r-=u.size,this.trackRemovals){const h=nI(this.Nr.serializer,l.convertToNoDocument(je.min()));t.push(this.Nr.addEntry(e,i,h))}})),s.forEach((i=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),t.push(this.Nr.updateMetadata(e,r)),Z.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:s})=>(s.forEach(((i,l)=>{this.Br.set(i,{size:l,readTime:r.get(i).readTime})})),r)))}}function _I(n){return un(n,Ju)}function sa(n){return un(n,Zf)}function vu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wI(n,e){const t=e.documentKey.path.toArray();return[n,rp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function EI(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<t.length-2&&i<r.length-2;++i)if(s=Ke(t[i],r[i]),s)return s;return s=Ke(t.length,r.length),s||(s=Ke(t[t.length-2],r[r.length-2]),s||Ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Lu(r.mutation,s,rr.empty(),_t.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=nt()){const s=Ds();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let l=xu();return i.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Ds();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,nt())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,s){let i=_r();const l=Vu(),u=(function(){return Vu()})();return t.forEach(((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof To)?i=i.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Lu(g.mutation,p,g.mutation.getFieldMask(),_t.now())):l.set(p.key,rr.empty())})),this.recalculateAndSaveOverlays(e,i).next((h=>(h.forEach(((p,g)=>l.set(p,g))),t.forEach(((p,g)=>u.set(p,new RB(g,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Vu();let s=new Ot(((l,u)=>l-u)),i=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||rr.empty();g=u.applyToLocalView(p,g),r.set(h,g);const m=(s.get(u.batchId)||nt()).add(h);s=s.insert(u.batchId,m)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,g=h.value,m=SA();g.forEach((w=>{if(!i.has(w)){const I=AA(t.get(w),r.get(w));I!==null&&m.set(w,I),i=i.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,m))}return Z.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):N$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):Z.resolve(Ds());let u=Zu,h=i;return l.next((p=>Z.forEach(p,((g,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),i.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{h=h.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,i))).next((()=>this.computeViews(e,h,p,nt()))).next((g=>({batchId:u,changes:bA(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let s=xu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let l=xu();return this.indexManager.getCollectionParents(e,i).next((u=>Z.forEach(u,(h=>{const p=(function(m,w){return new Xp(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((m,w)=>{l=l.insert(m,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((l=>{i.forEach(((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Bt.newInvalidDocument(g)))}));let u=xu();return l.forEach(((h,p)=>{const g=i.get(h);g!==void 0&&Lu(g.mutation,p,rr.empty(),_t.now()),Ed(t,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:qn(s.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:KA(s.bundledQuery),readTime:qn(s.readTime)}})(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(){this.overlays=new Ot(Ee.comparator),this.qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ds();return Z.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.St(e,t,i)})),Z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const s=Ds(),i=t.length+1,l=new Ee(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Ot(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=i.get(p.largestBatchId);g===null&&(g=Ds(),i=i.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=Ds(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>u.set(p,g))),!(u.size()>=s)););return Z.resolve(u)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new H_(t,r));let i=this.qr.get(t);i===void 0&&(i=nt(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.Qr=new wt(yn.$r),this.Ur=new wt(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new yn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new yn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ee(new yt([])),r=new yn(t,e),s=new yn(t,e+1),i=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),i.push(l.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new yt([])),r=new yn(t,e),s=new yn(t,e+1);let i=nt();return this.Ur.forEachInRange([r,s],(l=>{i=i.add(l.key)})),i}containsKey(e){const t=new yn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||Ke(e.Yr,t.Yr)}static Kr(e,t){return Ke(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new wt(yn.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new B_(i,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new yn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return Z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?pa:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yn(t,0),s=new yn(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);i.push(u)})),Z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ke);return t.forEach((s=>{const i=new yn(s,0),l=new yn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],(u=>{r=r.add(u.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;Ee.isDocumentKey(i)||(i=i.child(""));const l=new yn(new Ee(i),0);let u=new wt(Ke);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Yr)),!0)}),l),Z.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ve(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(t.mutations,(s=>{const i=new yn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new yn(t,0),s=this.Zr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let r=_r();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bt.newInvalidDocument(s))})),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=_r();const l=t.path,u=new Ee(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||k_($P(g),r)<=0||(s.has(g.key)||Ed(t,g))&&(i=i.insert(g.key,g.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,t,r,s){De(9500)}ii(e,t){return Z.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new VB(this)}getSize(e){return Z.resolve(this.size)}}class VB extends rR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.persistence=e,this.si=new xo((t=>Aa(t)),_d),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new Q_,this.targetCount=0,this.ai=Na.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Na(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Pr(t),Z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Z.waitFor(i).next((()=>s))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((l=>{i.push(s.markPotentiallyOrphaned(e,l))})),Z.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,t){this.ui={},this.overlays={},this.ci=new Mr(0),this.li=!1,this.li=!0,this.hi=new DB,this.referenceDelegate=e(this),this.Pi=new LB(this),this.indexManager=new EB,this.remoteDocumentCache=(function(s){return new MB(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new WA(t),this.Ii=new kB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new OB(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const s=new FB(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,t){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class FB extends qP{constructor(e){super(),this.currentSequenceNumber=e}}class om{constructor(e){this.persistence=e,this.Ri=new Q_,this.Vi=null}static mi(e){return new om(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const s=Ee.fromPath(r);return this.gi(e,s).next((i=>{i||t.removeEntry(s,je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Z.or([()=>Z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ip{constructor(e,t){this.persistence=e,this.pi=new xo((r=>Vn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=nR(this,t)}static mi(e,t){return new ip(e,t)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Z.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Z.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,i.removeEntry(l,je.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_f(e.data.value)),t}br(e,t,r){return Z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.serializer=e}k(e,t,r,s){const i=new Hp("createOrUpgrade",t);r<1&&s>=1&&((function(h){h.createObjectStore(vd)})(e),(function(h){h.createObjectStore(Xu,{keyPath:Kz}),h.createObjectStore(es,{keyPath:NS,autoIncrement:!0}).createIndex(ha,DS,{unique:!0}),h.createObjectStore(ec)})(e),bI(e),(function(h){h.createObjectStore(aa)})(e));let l=Z.resolve();return r<3&&s>=3&&(r!==0&&((function(h){h.deleteObjectStore(nc),h.deleteObjectStore(tc),h.deleteObjectStore(ma)})(e),bI(e)),l=l.next((()=>(function(h){const p=h.store(ma),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:je.min().toTimestamp(),targetCount:0};return p.put(Qf,g)})(i)))),r<4&&s>=4&&(r!==0&&(l=l.next((()=>(function(h,p){return p.store(es).J().next((m=>{h.deleteObjectStore(es),h.createObjectStore(es,{keyPath:NS,autoIncrement:!0}).createIndex(ha,DS,{unique:!0});const w=p.store(es),I=m.map((R=>w.put(R)));return Z.waitFor(I)}))})(e,i)))),l=l.next((()=>{(function(h){h.createObjectStore(rc,{keyPath:r$})})(e)}))),r<5&&s>=5&&(l=l.next((()=>this.yi(i)))),r<6&&s>=6&&(l=l.next((()=>((function(h){h.createObjectStore(Ju)})(e),this.wi(i))))),r<7&&s>=7&&(l=l.next((()=>this.Si(i)))),r<8&&s>=8&&(l=l.next((()=>this.bi(e,i)))),r<9&&s>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(l=l.next((()=>this.Di(i)))),r<11&&s>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(Gp,{keyPath:s$})})(e),(function(h){h.createObjectStore(Kp,{keyPath:o$})})(e)}))),r<12&&s>=12&&(l=l.next((()=>{(function(h){const p=h.createObjectStore(Zp,{keyPath:h$});p.createIndex(sv,f$,{unique:!1}),p.createIndex(YP,p$,{unique:!1})})(e)}))),r<13&&s>=13&&(l=l.next((()=>(function(h){const p=h.createObjectStore(Zf,{keyPath:Qz});p.createIndex(yf,Yz),p.createIndex(GP,Xz)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(aa)))),r<14&&s>=14&&(l=l.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(l=l.next((()=>(function(h){h.createObjectStore(O_,{keyPath:i$,autoIncrement:!0}).createIndex(rv,a$,{unique:!1}),h.createObjectStore(Nu,{keyPath:l$}).createIndex(ZP,c$,{unique:!1}),h.createObjectStore(Du,{keyPath:u$}).createIndex(QP,d$,{unique:!1})})(e)))),r<16&&s>=16&&(l=l.next((()=>{t.objectStore(Nu).clear()})).next((()=>{t.objectStore(Du).clear()}))),r<17&&s>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(M_,{keyPath:m$})})(e)}))),r<18&&s>=18&&SP()&&(l=l.next((()=>{t.objectStore(Nu).clear()})).next((()=>{t.objectStore(Du).clear()}))),l}wi(e){let t=0;return e.store(aa).ee(((r,s)=>{t+=op(s)})).next((()=>{const r={byteSize:t};return e.store(Ju).put(nv,r)}))}yi(e){const t=e.store(Xu),r=e.store(es);return t.J().next((s=>Z.forEach(s,(i=>{const l=IDBKeyRange.bound([i.userId,pa],[i.userId,i.lastAcknowledgedBatchId]);return r.J(ha,l).next((u=>Z.forEach(u,(h=>{Ve(h.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const p=ca(this.serializer,h);return XA(e,i.userId,p).next((()=>{}))}))))}))))}Si(e){const t=e.store(nc),r=e.store(aa);return e.store(ma).get(Qf).next((s=>{const i=[];return r.ee(((l,u)=>{const h=new yt(l),p=(function(m){return[0,Vn(m)]})(h);i.push(t.get(p).next((g=>g?Z.resolve():(m=>t.put({targetId:0,path:Vn(m),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>Z.waitFor(i)))}))}bi(e,t){e.createObjectStore(ed,{keyPath:n$});const r=t.store(ed),s=new Z_,i=l=>{if(s.add(l)){const u=l.lastSegment(),h=l.popLast();return r.put({collectionId:u,parent:Vn(h)})}};return t.store(aa).ee({X:!0},((l,u)=>{const h=new yt(l);return i(h.popLast())})).next((()=>t.store(ec).ee({X:!0},(([l,u,h],p)=>{const g=Ns(u);return i(g.popLast())}))))}Di(e){const t=e.store(tc);return t.ee(((r,s)=>{const i=Cu(s),l=GA(this.serializer,i);return t.put(l)}))}Ci(e,t){const r=t.store(aa),s=[];return r.ee(((i,l)=>{const u=t.store(Zf),h=(function(m){return m.document?new Ee(yt.fromString(m.document.name).popFirst(5)):m.noDocument?Ee.fromSegments(m.noDocument.path):m.unknownDocument?Ee.fromSegments(m.unknownDocument.path):De(36783)})(l).path.toArray(),p={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(u.put(p))})).next((()=>Z.waitFor(s)))}Fi(e,t){const r=t.store(es),s=sR(this.serializer),i=new Y_(om.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((h=>{let p=u.get(h.userId)??nt();ca(this.serializer,h).keys().forEach((g=>p=p.add(g))),u.set(h.userId,p)})),Z.forEach(u,((h,p)=>{const g=new Sn(p),m=rm.wt(this.serializer,g),w=i.getIndexManager(g),I=sm.wt(g,this.serializer,w,i.referenceDelegate);return new oR(s,I,m,w).recalculateAndSaveOverlaysForDocumentKeys(new ov(t,Mr.ce),h).next()}))}))}}function bI(n){n.createObjectStore(nc,{keyPath:e$}).createIndex(D_,t$,{unique:!0}),n.createObjectStore(tc,{keyPath:"targetId"}).createIndex(KP,Jz,{unique:!0}),n.createObjectStore(ma)}const si="IndexedDbPersistence",gy=18e5,yy=5e3,vy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",UB="main";class X_{constructor(e,t,r,s,i,l,u,h,p,g,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=i,this.window=l,this.document=u,this.xi=p,this.Oi=g,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!X_.v())throw new we(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CB(this,s),this.$i=t+UB,this.serializer=new WA(h),this.Ui=new _i(this.$i,this.Ni,new jB(this.serializer)),this.hi=new mB,this.Pi=new SB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=sR(this.serializer),this.Ii=new pB,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&$n(si,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(re.FAILED_PRECONDITION,vy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Mr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>af(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Ri(e))return de(si,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de(si,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return _u(e).get(Pl).next((t=>Z.resolve(this.es(t))))}ts(e){return af(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,gy)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=un(t,rc);return r.J().next((s=>{const i=this.ss(s,gy),l=s.filter((u=>i.indexOf(u)===-1));return Z.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Z.resolve(!0):_u(e).get(Pl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,yy)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new we(re.FAILED_PRECONDITION,vy);return!1}}return!(!this.networkEnabled||!this.inForeground)||af(e).J().next((r=>this.ss(r,yy).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||l&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&de(si,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[vd,rc],(e=>{const t=new ov(e,Mr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>af(e).J().next((t=>this.ss(t,gy).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return sm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bB(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return rm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){de(si,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",i=(function(h){return h===18?v$:h===17?tA:h===16?y$:h===15?V_:h===14?eA:h===13?JP:h===12?g$:h===11?XP:void De(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,s,i,(u=>(l=new ov(u,this.ci?this.ci.next():Mr.ce),t==="readwrite-primary"?this.Hi(l).next((h=>!!h||this.Yi(l))).next((h=>{if(!h)throw $n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new we(re.FAILED_PRECONDITION,BP);return r(l)})).next((h=>this.Xi(l).next((()=>h)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return _u(e).get(Pl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,yy)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new we(re.FAILED_PRECONDITION,vy)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _u(e).put(Pl,t)}static v(){return _i.v()}Zi(e){const t=_u(e);return t.get(Pl).next((r=>this.es(r)?(de(si,"Releasing primary lease."),t.delete(Pl)):Z.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||($n(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;bP()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return de(si,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return $n(si,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){$n("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _u(n){return un(n,vd)}function af(n){return un(n,rc)}function zB(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=nt(),s=nt();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new J_(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bP()?8:HP(cn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next((l=>{i.result=l})).next((()=>{if(!i.result)return this.ws(e,t,s,r).next((l=>{i.result=l}))})).next((()=>{if(i.result)return;const l=new $B;return this.Ss(e,t,l).next((u=>{if(i.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>i.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Ol()<=it.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ol()<=it.DEBUG&&de("QueryEngine","Query:",Ml(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ol()<=it.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):Z.resolve())}ys(e,t){if(WS(t))return Z.resolve(null);let r=Lr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=dv(t,null,"F"),r=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const l=nt(...i);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,u);return this.Cs(t,p,l,h.readTime)?this.ys(e,dv(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,s){return WS(t)||s.isEqual(je.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((i=>{const l=this.Ds(t,i);return this.Cs(t,l,r,s)?Z.resolve(null):(Ol()<=it.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ml(t)),this.vs(e,l,t,zz(s,Zu)).next((u=>u)))}))}Ds(e,t){let r=new wt(wA(e));return t.forEach(((s,i)=>{Ed(e,i)&&(r=r.add(i))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return Ol()<=it.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ml(t)),this.ps.getDocumentsMatchingQuery(e,t,Er.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((l=>{i=i.insert(l.key,l)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="LocalStore",BB=3e8;class qB{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Ot(Ke),this.xs=new xo((i=>Aa(i)),_d),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function aR(n,e,t,r){return new qB(n,e,t,r)}async function lR(n,e){const t=Ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const l=[],u=[];let h=nt();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of i){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function HB(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,g){const m=p.batch,w=m.keys();let I=Z.resolve();return w.forEach((R=>{I=I.next((()=>g.getEntry(h,R))).next((T=>{const A=p.docVersions.get(R);Ve(A!==null,48541),T.version.compareTo(A)<0&&(m.applyToRemoteDocument(T,p),T.isValidDocument()&&(T.setReadTime(p.commitVersion),g.addEntry(T)))}))})),I.next((()=>u.mutationQueue.removeMutationBatch(h,m)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=nt();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function cR(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function WB(n,e){const t=Ze(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((g,m)=>{const w=s.get(m);if(!w)return;u.push(t.Pi.removeMatchingKeys(i,g.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(i,g.addedDocuments,m))));let I=w.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?I=I.withResumeToken(nn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(m,I),(function(T,A,D){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=BB?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(w,I,g)&&u.push(t.Pi.updateTargetData(i,I))}));let h=_r(),p=nt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(i,g))})),u.push(GB(i,l,e.documentUpdates).next((g=>{h=g.ks,p=g.qs}))),!r.isEqual(je.min())){const g=t.Pi.getLastRemoteSnapshotVersion(i).next((m=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(g)}return Z.waitFor(u).next((()=>l.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,h,p))).next((()=>h))})).then((i=>(t.Ms=s,i)))}function GB(n,e,t){let r=nt(),s=nt();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let l=_r();return t.forEach(((u,h)=>{const p=i.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):de(ew,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function KB(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=pa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function ZB(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((i=>i?(s=i,Z.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new ho(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function _v(n,e,t){const r=Ze(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Ri(l))throw l;de(ew,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function SI(n,e,t){const r=Ze(n);let s=je.min(),i=nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,g){const m=Ze(h),w=m.xs.get(g);return w!==void 0?Z.resolve(m.Ms.get(w)):m.Pi.getTargetData(p,g)})(r,l,Lr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{i=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:je.min(),t?i:nt()))).next((u=>(QB(r,O$(e),u),{documents:u,Qs:i})))))}function QB(n,e,t){let r=n.Os.get(e)||je.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(e,r)}class II{constructor(){this.activeTargetIds=U$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uR{constructor(){this.Mo=new II,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new II,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="ConnectivityMonitor";class TI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(xI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(xI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf=null;function wv(){return lf===null?lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():lf++,"0x"+lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="RestConnection",XB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Yf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const l=wv(),u=this.zo(e,t.toUriEncodedString());de(_y,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,i);const{host:p}=new URL(u),g=vc(p);return this.Jo(e,u,h,r,g).then((m=>(de(_y,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw Ca(_y,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,t,r,s,i,l){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,t){const r=XB[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class t8 extends JB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const l=wv();return new Promise(((u,h)=>{const p=new NP;p.setWithCredentials(!0),p.listenOnce(DP.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case pf.NO_ERROR:const m=p.getResponseJson();de(Nn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case pf.TIMEOUT:de(Nn,`RPC '${e}' ${l} timed out`),h(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const w=p.getStatus();if(de(Nn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I?.error;if(R&&R.status&&R.message){const T=(function(D){const V=D.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(V)>=0?V:re.UNKNOWN})(R.status);h(new we(T,R.message))}else h(new we(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new we(re.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(Nn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);de(Nn,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=wv(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=VP(),u=MP(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=i.join("");de(Nn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const m=l.createWebChannel(g,h);this.I_(m);let w=!1,I=!1;const R=new e8({Yo:A=>{I?de(Nn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(w||(de(Nn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),w=!0),de(Nn,`RPC '${e}' stream ${s} sending:`,A),m.send(A))},Zo:()=>m.close()}),T=(A,D,V)=>{A.listen(D,(U=>{try{V(U)}catch(z){setTimeout((()=>{throw z}),0)}}))};return T(m,Iu.EventType.OPEN,(()=>{I||(de(Nn,`RPC '${e}' stream ${s} transport opened.`),R.o_())})),T(m,Iu.EventType.CLOSE,(()=>{I||(I=!0,de(Nn,`RPC '${e}' stream ${s} transport closed`),R.a_(),this.E_(m))})),T(m,Iu.EventType.ERROR,(A=>{I||(I=!0,Ca(Nn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),R.a_(new we(re.UNAVAILABLE,"The operation could not be completed")))})),T(m,Iu.EventType.MESSAGE,(A=>{if(!I){const D=A.data[0];Ve(!!D,16349);const V=D,U=V?.error||V[0]?.error;if(U){de(Nn,`RPC '${e}' stream ${s} received error:`,U);const z=U.status;let $=(function(C){const N=en[C];if(N!==void 0)return NA(N)})(z),K=U.message;$===void 0&&($=re.INTERNAL,K="Unknown error status: "+z+" with message "+U.message),I=!0,R.a_(new we($,K)),m.close()}else de(Nn,`RPC '${e}' stream ${s} received:`,D),R.u_(D)}})),T(u,OP.STAT_EVENT,(A=>{A.stat===Jy.PROXY?de(Nn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Jy.NOPROXY&&de(Nn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(){return typeof window<"u"?window:null}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(n){return new rB(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="PersistentStream";class hR{constructor(e,t,r,s,i,l,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dR(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?($n(t.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new we(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(CI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(CI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class r8 extends hR{constructor(e,t,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=iB(this.serializer,e),r=(function(i){if(!("targetChange"in i))return je.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?qn(l.readTime):je.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=pv(this.serializer),t.addTarget=(function(i,l){let u;const h=l.target;if(u=Jf(h)?{documents:UA(i,h)}:{query:zA(i,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=MA(i,l.resumeToken);const p=hv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=uc(i,l.snapshotVersion.toTimestamp());const p=hv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=lB(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=pv(this.serializer),t.removeTarget=e,this.q_(t)}}class s8 extends hR{constructor(e,t,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=aB(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=pv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>np(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{}class i8 extends o8{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,l])=>this.connection.Go(e,fv(t,r),s,i,l))).catch((i=>{throw i.name==="FirebaseError"?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(re.UNKNOWN,i.toString())}))}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,fv(t,r),s,l,u,i))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(re.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class a8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($n(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class l8{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Ua(this)&&(de(Da,"Restarting streams for network reachability change."),await(async function(h){const p=Ze(h);p.Ea.add(4),await Id(p),p.Ra.set("Unknown"),p.Ea.delete(4),await am(p)})(this))}))})),this.Ra=new a8(r,s)}}async function am(n){if(Ua(n))for(const e of n.da)await e(!0)}async function Id(n){for(const e of n.da)await e(!1)}function fR(n,e){const t=Ze(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),sw(t)?rw(t):bc(t).O_()&&nw(t,e))}function tw(n,e){const t=Ze(n),r=bc(t);t.Ia.delete(e),r.O_()&&pR(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ua(t)&&t.Ra.set("Unknown"))}function nw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bc(n).Y_(e)}function pR(n,e){n.Va.Ue(e),bc(n).Z_(e)}function rw(n){n.Va=new J$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),bc(n).start(),n.Ra.ua()}function sw(n){return Ua(n)&&!bc(n).x_()&&n.Ia.size>0}function Ua(n){return Ze(n).Ea.size===0}function mR(n){n.Va=void 0}async function c8(n){n.Ra.set("Online")}async function u8(n){n.Ia.forEach(((e,t)=>{nw(n,e)}))}async function d8(n,e){mR(n),sw(n)?(n.Ra.ha(e),rw(n)):n.Ra.set("Unknown")}async function h8(n,e,t){if(n.Ra.set("Online"),e instanceof OA&&e.state===2&&e.cause)try{await(async function(s,i){const l=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(n,e)}catch(r){de(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ap(n,r)}else if(e instanceof bf?n.Va.Ze(e):e instanceof DA?n.Va.st(e):n.Va.tt(e),!t.isEqual(je.min()))try{const r=await cR(n.localStore);t.compareTo(r)>=0&&await(function(i,l){const u=i.Va.Tt(l);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.Ia.get(p);g&&i.Ia.set(p,g.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,p)=>{const g=i.Ia.get(h);if(!g)return;i.Ia.set(h,g.withResumeToken(nn.EMPTY_BYTE_STRING,g.snapshotVersion)),pR(i,h);const m=new ho(g.target,h,p,g.sequenceNumber);nw(i,m)})),i.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){de(Da,"Failed to raise snapshot:",r),await ap(n,r)}}async function ap(n,e,t){if(!Ri(e))throw e;n.Ea.add(1),await Id(n),n.Ra.set("Offline"),t||(t=()=>cR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Da,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await am(n)}))}function gR(n,e){return e().catch((t=>ap(n,t,e)))}async function xd(n){const e=Ze(n),t=xi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pa;for(;f8(e);)try{const s=await KB(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,p8(e,s)}catch(s){await ap(e,s)}yR(e)&&vR(e)}function f8(n){return Ua(n)&&n.Ta.length<10}function p8(n,e){n.Ta.push(e);const t=xi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function yR(n){return Ua(n)&&!xi(n).x_()&&n.Ta.length>0}function vR(n){xi(n).start()}async function m8(n){xi(n).ra()}async function g8(n){const e=xi(n);for(const t of n.Ta)e.ea(t.mutations)}async function y8(n,e,t){const r=n.Ta.shift(),s=q_.from(r,e,t);await gR(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await xd(n)}async function v8(n,e){e&&xi(n).X_&&await(async function(r,s){if((function(l){return Q$(l)&&l!==re.ABORTED})(s.code)){const i=r.Ta.shift();xi(r).B_(),await gR(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await xd(r)}})(n,e),yR(n)&&vR(n)}async function PI(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),de(Da,"RemoteStore received new credentials");const r=Ua(t);t.Ea.add(3),await Id(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await am(t)}async function _8(n,e){const t=Ze(n);e?(t.Ea.delete(2),await am(t)):e||(t.Ea.add(2),await Id(t),t.Ra.set("Unknown"))}function bc(n){return n.ma||(n.ma=(function(t,r,s){const i=Ze(t);return i.sa(),new r8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:c8.bind(null,n),t_:u8.bind(null,n),r_:d8.bind(null,n),H_:h8.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),sw(n)?rw(n):n.Ra.set("Unknown")):(await n.ma.stop(),mR(n))}))),n.ma}function xi(n){return n.fa||(n.fa=(function(t,r,s){const i=Ze(t);return i.sa(),new s8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:m8.bind(null,n),r_:v8.bind(null,n),ta:g8.bind(null,n),na:y8.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await xd(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Da,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const l=Date.now()+r,u=new ow(e,t,l,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iw(n,e){if($n("AsyncQueue",`${e}: ${n}`),Ri(n))return new we(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{static emptySet(e){return new ql(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=xu(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ql)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ql;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.ga=new Ot(Ee.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class dc{constructor(e,t,r,s,i,l,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,i){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new dc(e,t,ql.emptySet(t),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E8{constructor(){this.queries=RI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ze(t),i=s.queries;s.queries=RI(),i.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new we(re.ABORTED,"Firestore shutting down"))}}function RI(){return new xo((n=>_A(n)),Jp)}async function aw(n,e){const t=Ze(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new w8,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=iw(l,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&cw(t)}async function lw(n,e){const t=Ze(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const l=i.Sa.indexOf(e);l>=0&&(i.Sa.splice(l,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function b8(n,e){const t=Ze(n);let r=!1;for(const s of e){const i=s.query,l=t.queries.get(i);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&cw(t)}function S8(n,e,t){const r=Ze(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function cw(n){n.Ca.forEach((e=>{e.next()}))}var Ev,kI;(kI=Ev||(Ev={})).Ma="default",kI.Cache="cache";class uw{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ev.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.key=e}}class wR{constructor(e){this.key=e}}class I8{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=wA(e),this.tu=new ql(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new AI,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,m)=>{const w=s.get(g),I=Ed(this.query,m)?m:null,R=!!w&&this.mutatedKeys.has(w.key),T=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let A=!1;w&&I?w.data.isEqual(I.data)?R!==T&&(r.track({type:3,doc:I}),A=!0):this.su(w,I)||(r.track({type:2,doc:I}),A=!0,(h&&this.eu(I,h)>0||p&&this.eu(I,p)<0)&&(u=!0)):!w&&I?(r.track({type:0,doc:I}),A=!0):w&&!I&&(r.track({type:1,doc:w}),A=!0,(h||p)&&(u=!0)),A&&(I?(l=l.add(I),i=T?i.add(g):i.delete(g)):(l=l.delete(g),i=i.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),i=i.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,m)=>(function(I,R){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:A})}};return T(I)-T(R)})(g.type,m.type)||this.eu(g.doc,m.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,p=h!==this.Za;return this.Za=h,l.length!==0||p?{snapshot:new dc(this.query,e.tu,i,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new wR(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new _R(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=nt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return dc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dw="SyncEngine";class x8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class T8{constructor(e){this.key=e,this.hu=!1}}class C8{constructor(e,t,r,s,i,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new xo((u=>_A(u)),Jp),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Ee.comparator),this.Au=new Map,this.Ru=new Q_,this.Vu={},this.mu=new Map,this.fu=Na.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P8(n,e,t=!0){const r=TR(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await ER(r,e,t,!0),s}async function A8(n,e){const t=TR(n);await ER(t,e,!0,!1)}async function ER(n,e,t,r){const s=await ZB(n.localStore,Lr(e)),i=s.targetId,l=n.sharedClientState.addLocalQueryTarget(i,t);let u;return r&&(u=await R8(n,e,i,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&fR(n.remoteStore,s),u}async function R8(n,e,t,r,s){n.pu=(m,w,I)=>(async function(T,A,D,V){let U=A.view.ru(D);U.Cs&&(U=await SI(T.localStore,A.query,!1).then((({documents:P})=>A.view.ru(P,U))));const z=V&&V.targetChanges.get(A.targetId),$=V&&V.targetMismatches.get(A.targetId)!=null,K=A.view.applyChanges(U,T.isPrimaryClient,z,$);return DI(T,A.targetId,K.au),K.snapshot})(n,m,w,I);const i=await SI(n.localStore,e,!0),l=new I8(e,i.Qs),u=l.ru(i.documents),h=Sd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(u,n.isPrimaryClient,h);DI(n,t,p.au);const g=new x8(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function k8(n,e,t){const r=Ze(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((l=>!Jp(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _v(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&tw(r.remoteStore,s.targetId),bv(r,s.targetId)})).catch(ja)):(bv(r,s.targetId),await _v(r.localStore,s.targetId,!0))}async function N8(n,e){const t=Ze(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),tw(t.remoteStore,r.targetId))}async function D8(n,e,t){const r=CR(n);try{const s=await(function(l,u){const h=Ze(l),p=_t.now(),g=u.reduce(((I,R)=>I.add(R.key)),nt());let m,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let R=_r(),T=nt();return h.Ns.getEntries(I,g).next((A=>{R=A,R.forEach(((D,V)=>{V.isValidDocument()||(T=T.add(D))}))})).next((()=>h.localDocuments.getOverlayedDocuments(I,R))).next((A=>{m=A;const D=[];for(const V of u){const U=K$(V,m.get(V.key).overlayedDocument);U!=null&&D.push(new To(V.key,U,dA(U.value.mapValue),vn.exists(!0)))}return h.mutationQueue.addMutationBatch(I,p,D,u)})).next((A=>{w=A;const D=A.applyToLocalDocumentSet(m,T);return h.documentOverlayCache.saveOverlays(I,A.batchId,D)}))})).then((()=>({batchId:w.batchId,changes:bA(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let p=l.Vu[l.currentUser.toKey()];p||(p=new Ot(Ke)),p=p.insert(u,h),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,t),await Td(r,s.changes),await xd(r.remoteStore)}catch(s){const i=iw(s,"Failed to persist write");t.reject(i)}}async function bR(n,e){const t=Ze(n);try{const r=await WB(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const l=t.Au.get(i);l&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ve(l.hu,14607):s.removedDocuments.size>0&&(Ve(l.hu,42227),l.hu=!1))})),await Td(t,r,e)}catch(r){await ja(r)}}function NI(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Ze(l);h.onlineState=u;let p=!1;h.queries.forEach(((g,m)=>{for(const w of m.Sa)w.va(u)&&(p=!0)})),p&&cw(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O8(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let l=new Ot(Ee.comparator);l=l.insert(i,Bt.newNoDocument(i,je.min()));const u=nt().add(i),h=new nm(je.min(),new Map,new Ot(Ke),l,u);await bR(r,h),r.du=r.du.remove(i),r.Au.delete(e),hw(r)}else await _v(r.localStore,e,!1).then((()=>bv(r,e,t))).catch(ja)}async function M8(n,e){const t=Ze(n),r=e.batch.batchId;try{const s=await HB(t.localStore,e);IR(t,r,null),SR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Td(t,s)}catch(s){await ja(s)}}async function V8(n,e,t){const r=Ze(n);try{const s=await(function(l,u){const h=Ze(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,u).next((m=>(Ve(m!==null,37113),g=m.keys(),h.mutationQueue.removeMutationBatch(p,m)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);IR(r,e,t),SR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Td(r,s)}catch(s){await ja(s)}}function SR(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function IR(n,e,t){const r=Ze(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function bv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||xR(n,r)}))}function xR(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(tw(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),hw(n))}function DI(n,e,t){for(const r of t)r instanceof _R?(n.Ru.addReference(r.key,e),L8(n,r)):r instanceof wR?(de(dw,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||xR(n,r.key)):De(19791,{wu:r})}function L8(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(de(dw,"New document in limbo: "+t),n.Eu.add(r),hw(n))}function hw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(yt.fromString(e)),r=n.fu.next();n.Au.set(r,new T8(t)),n.du=n.du.insert(t,r),fR(n.remoteStore,new ho(Lr(wd(t.path)),r,"TargetPurposeLimboResolution",Mr.ce))}}async function Td(n,e,t){const r=Ze(n),s=[],i=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(p){s.push(p);const g=J_.As(h.targetId,p);i.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(h,p){const g=Ze(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Z.forEach(p,(w=>Z.forEach(w.Es,(I=>g.persistence.referenceDelegate.addReference(m,w.targetId,I))).next((()=>Z.forEach(w.ds,(I=>g.persistence.referenceDelegate.removeReference(m,w.targetId,I)))))))))}catch(m){if(!Ri(m))throw m;de(ew,"Failed to update sequence numbers: "+m)}for(const m of p){const w=m.targetId;if(!m.fromCache){const I=g.Ms.get(w),R=I.snapshotVersion,T=I.withLastLimboFreeSnapshotVersion(R);g.Ms=g.Ms.insert(w,T)}}})(r.localStore,i))}async function F8(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){de(dw,"User change. New user:",e.toKey());const r=await lR(t.localStore,e);t.currentUser=e,(function(i,l){i.mu.forEach((u=>{u.forEach((h=>{h.reject(new we(re.CANCELLED,l))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Td(t,r.Ls)}}function j8(n,e){const t=Ze(n),r=t.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let s=nt();const i=t.Iu.get(e);if(!i)return s;for(const l of i){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function TR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O8.bind(null,e),e.Pu.H_=b8.bind(null,e.eventManager),e.Pu.yu=S8.bind(null,e.eventManager),e}function CR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V8.bind(null,e),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=im(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return aR(this.persistence,new iR,e.initialUser,this.serializer)}Cu(e){return new Y_(om.mi,this.serializer)}Du(e){return new uR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class U8 extends id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ve(this.persistence.referenceDelegate instanceof ip,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tR(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new Y_((r=>ip.mi(r,t)),this.serializer)}}class z8 extends id{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await CR(this.xu.syncEngine),await xd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return aR(this.persistence,new iR,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new tR(r,e.asyncQueue,t)}Mu(e,t){const r=new Hz(t,this.persistence);return new qz(e.asyncQueue,r)}Cu(e){const t=zB(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new X_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,n8(),If(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new uR}}class lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F8.bind(null,this.syncEngine),await _8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E8})()}createDatastore(e){const t=im(e.databaseInfo.databaseId),r=(function(i){return new t8(i)})(e.databaseInfo);return(function(i,l,u,h){return new i8(i,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,l,u){return new l8(r,s,i,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>NI(this.syncEngine,t,0)),(function(){return TI.v()?new TI:new YB})())}createSyncEngine(e,t){return(function(s,i,l,u,h,p,g){const m=new C8(s,i,l,u,h,p);return g&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ze(t);de(Da,"RemoteStore shutting down."),r.Ea.add(5),await Id(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="FirestoreClient";class $8{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Sn.UNAUTHENTICATED,this.clientId=A_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async l=>{de(Ti,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(de(Ti,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=iw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wy(n,e){n.asyncQueue.verifyOperationInProgress(),de(Ti,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await lR(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function OI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await B8(n);de(Ti,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>PI(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>PI(e.remoteStore,s))),n._onlineComponents=e}async function B8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Ti,"Using user provided OfflineComponentProvider");try{await wy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Ca("Error using user provided cache. Falling back to memory cache: "+t),await wy(n,new id)}}else de(Ti,"Using default OfflineComponentProvider"),await wy(n,new U8(void 0));return n._offlineComponents}async function PR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Ti,"Using user provided OnlineComponentProvider"),await OI(n,n._uninitializedComponentsProvider._online)):(de(Ti,"Using default OnlineComponentProvider"),await OI(n,new lp))),n._onlineComponents}function q8(n){return PR(n).then((e=>e.syncEngine))}async function cp(n){const e=await PR(n),t=e.eventManager;return t.onListen=P8.bind(null,e.syncEngine),t.onUnlisten=k8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=A8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=N8.bind(null,e.syncEngine),t}function H8(n,e,t={}){const r=new Ms;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,p){const g=new fw({next:w=>{g.Nu(),l.enqueueAndForget((()=>lw(i,m)));const I=w.docs.has(u);!I&&w.fromCache?p.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&h&&h.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),m=new uw(wd(u.path),g,{includeMetadataChanges:!0,qa:!0});return aw(i,m)})(await cp(n),n.asyncQueue,e,t,r))),r.promise}function W8(n,e,t={}){const r=new Ms;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,p){const g=new fw({next:w=>{g.Nu(),l.enqueueAndForget((()=>lw(i,m))),w.fromCache&&h.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),m=new uw(u,g,{includeMetadataChanges:!0,qa:!0});return aw(i,m)})(await cp(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firestore.googleapis.com",VI=!0;class LI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RR,this.ssl=VI}else this.host=e.host,this.ssl=e.ssl??VI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IB)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Rz;switch(r.type){case"firstParty":return new Oz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=MI.get(t);r&&(de("ComponentProvider","Removing Datastore"),MI.delete(t),r.terminate())})(this),Promise.resolve()}}function G8(n,e,t,r={}){n=Bn(n,lm);const s=vc(e),i=n._getSettings(),l={...i,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(_P(`https://${u}`),wP("Firestore",!0)),i.host!==RR&&i.host!==u&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...i,host:u,ssl:s,emulatorOptions:r};if(!Ia(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Sn.MOCK_USER;else{p=sU(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Sn(m)}n._authCredentials=new kz(new FP(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cd(this.firestore,e,this._query)}}class Kt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(yd(t,Kt._jsonSchema))return new Kt(e,r||null,new Ee(yt.fromString(t.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:tn("string",Kt._jsonSchemaVersion),referencePath:tn("string")};class wi extends Cd{constructor(e,t,r){super(e,t,wd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Ee(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function kR(n,e,...t){if(n=xn(n),UP("collection","path",e),n instanceof lm){const r=yt.fromString(e,...t);return CS(r),new wi(n,null,r)}{if(!(n instanceof Kt||n instanceof wi))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return CS(r),new wi(n.firestore,null,r)}}function Ci(n,e,...t){if(n=xn(n),arguments.length===1&&(e=A_.newId()),UP("doc","path",e),n instanceof lm){const r=yt.fromString(e,...t);return TS(r),new Kt(n,null,new Ee(r))}{if(!(n instanceof Kt||n instanceof wi))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return TS(r),new Kt(n.firestore,n instanceof wi?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="AsyncQueue";class jI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dR(this,"async_queue_retry"),this._c=()=>{const r=If();r&&de(FI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=If();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=If();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ri(e))throw e;de(FI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,$n("INTERNAL UNHANDLED ERROR: ",UI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=ow.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&De(47125,{Pc:UI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function UI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(n,["next","error","complete"])}class $s extends lm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new jI,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jI(e),this._firestoreClient=void 0,await e}}}function K8(n,e){const t=typeof n=="object"?n:PP(),r=typeof n=="string"?n:Yf,s=C_(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nU("firestore");i&&G8(s,...i)}return s}function Pd(n){if(n._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NR(n),n._firestoreClient}function NR(n){const e=n._freezeSettings(),t=(function(s,i,l,u){return new w$(s,i,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,AR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new $8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}function Z8(n,e){Ca("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return Q8(n,lp.provider,{build:r=>new z8(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function Q8(n,e,t){if((n=Bn(n,$s))._firestoreClient||n._terminated)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new we(re.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},NR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Or(nn.fromBase64String(e))}catch(t){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Or(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yd(e,Or._jsonSchema))return Or.fromBase64String(e.bytes)}}Or._jsonSchemaVersion="firestore/bytes/1.0",Or._jsonSchema={type:tn("string",Or._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vs._jsonSchemaVersion}}static fromJSON(e){if(yd(e,Vs._jsonSchema))return new Vs(e.latitude,e.longitude)}}Vs._jsonSchemaVersion="firestore/geoPoint/1.0",Vs._jsonSchema={type:tn("string",Vs._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yd(e,Ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ls(e.vectorValues);throw new we(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ls._jsonSchemaVersion="firestore/vectorValue/1.0",Ls._jsonSchema={type:tn("string",Ls._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=/^__.*__$/;class X8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ec(e,this.data,t,this.fieldTransforms)}}class DR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new To(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:n})}}class mw{constructor(e,t,r,s,i,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return up(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OR(this.Ac)&&Y8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class J8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||im(e)}Cc(e,t,r,s=!1){return new mw({Ac:e,methodName:t,Dc:r,path:jt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gw(n){const e=n._freezeSettings(),t=im(n._databaseId);return new J8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MR(n,e,t,r,s,i={}){const l=n.Cc(i.merge||i.mergeFields?2:0,e,t,s);yw("Data must be an object, but it was:",l,r);const u=FR(r,l);let h,p;if(i.merge)h=new rr(l.fieldMask),p=l.fieldTransforms;else if(i.mergeFields){const g=[];for(const m of i.mergeFields){const w=Sv(e,m,t);if(!l.contains(w))throw new we(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);UR(g,w)||g.push(w)}h=new rr(g),p=l.fieldTransforms.filter((m=>h.covers(m.field)))}else h=null,p=l.fieldTransforms;return new X8(new Mn(u),h,p)}class cm extends pw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cm}}function VR(n,e,t,r){const s=n.Cc(1,e,t);yw("Data must be an object, but it was:",s,r);const i=[],l=Mn.empty();ki(r,((h,p)=>{const g=vw(e,h,t);p=xn(p);const m=s.yc(g);if(p instanceof cm)i.push(g);else{const w=um(p,m);w!=null&&(i.push(g),l.set(g,w))}}));const u=new rr(i);return new DR(l,u,s.fieldTransforms)}function LR(n,e,t,r,s,i){const l=n.Cc(1,e,t),u=[Sv(e,r,t)],h=[s];if(i.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<i.length;w+=2)u.push(Sv(e,i[w])),h.push(i[w+1]);const p=[],g=Mn.empty();for(let w=u.length-1;w>=0;--w)if(!UR(p,u[w])){const I=u[w];let R=h[w];R=xn(R);const T=l.yc(I);if(R instanceof cm)p.push(I);else{const A=um(R,T);A!=null&&(p.push(I),g.set(I,A))}}const m=new rr(p);return new DR(g,m,l.fieldTransforms)}function um(n,e){if(jR(n=xn(n)))return yw("Unsupported field value:",e,n),FR(n,e);if(n instanceof pw)return(function(r,s){if(!OR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let l=0;for(const u of r){let h=um(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),l++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_t.fromDate(r);return{timestampValue:uc(s.serializer,i)}}if(r instanceof _t){const i=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uc(s.serializer,i)}}if(r instanceof Vs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Or)return{bytesValue:MA(s.serializer,r._byteString)};if(r instanceof Kt){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:G_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ls)return(function(l,u){return{mapValue:{fields:{[F_]:{stringValue:j_},[sc]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return $_(u.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${R_(r)}`)})(n,e)}function FR(n,e){const t={};return nA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(n,((r,s)=>{const i=um(s,e.mc(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function jR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof Vs||n instanceof Or||n instanceof Kt||n instanceof pw||n instanceof Ls)}function yw(n,e,t){if(!jR(t)||!zP(t)){const r=R_(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Sv(n,e,t){if((e=xn(e))instanceof Ad)return e._internalPath;if(typeof e=="string")return vw(n,e);throw up("Field path arguments must be of type string or ",n,!1,void 0,t)}const e7=new RegExp("[~\\*/\\[\\]]");function vw(n,e,t){if(e.search(e7)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ad(...e.split("."))._internalPath}catch{throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function up(n,e,t,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(i||l)&&(h+=" (found",i&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new we(re.INVALID_ARGUMENT,u+n+h)}function UR(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($R("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class t7 extends zR{data(){return super.data()}}function $R(n,e){return typeof e=="string"?vw(n,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n7{convertValue(e,t="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ki(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){const t=e.fields?.[sc].arrayValue?.values?.map((r=>Dt(r.doubleValue)));return new Ls(t)}convertGeoPoint(e){return new Vs(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const t=_o(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yt.fromString(e);Ve(HA(r),9688,{name:e});const s=new Pa(r.get(1),r.get(3)),i=new Ee(r.popFirst(5));return s.isEqual(t)||$n(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends zR{constructor(e,t,r,s,i,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($R("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ya._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:tn("string",ya._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class xf extends ya{data(e={}){return super.data(e)}}class va{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Pu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new xf(this._firestore,this._userDataWriter,r.key,r,new Pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new xf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Pu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>i||u.type!==3)).map((u=>{const h=new xf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Pu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:r7(u.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=A_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(n){n=Bn(n,Kt);const e=Bn(n.firestore,$s);return H8(Pd(e),n._key).then((t=>HR(e,n,t)))}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:tn("string",va._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class _w extends n7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,t)}}function s7(n){n=Bn(n,Cd);const e=Bn(n.firestore,$s),t=Pd(e),r=new _w(e);return BR(n._query),W8(t,n._query).then((s=>new va(e,r,n,s)))}function o7(n,e,t){n=Bn(n,Kt);const r=Bn(n.firestore,$s),s=qR(n.converter,e,t);return dm(r,[MR(gw(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,vn.none())])}function i7(n,e,t,...r){n=Bn(n,Kt);const s=Bn(n.firestore,$s),i=gw(s);let l;return l=typeof(e=xn(e))=="string"||e instanceof Ad?LR(i,"updateDoc",n._key,e,t,r):VR(i,"updateDoc",n._key,e),dm(s,[l.toMutation(n._key,vn.exists(!0))])}function a7(n){return dm(Bn(n.firestore,$s),[new bd(n._key,vn.none())])}function l7(n,...e){n=xn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||zI(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(zI(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let i,l,u;if(n instanceof Kt)l=Bn(n.firestore,$s),u=wd(n._key.path),i={next:h=>{e[r]&&e[r](HR(l,n,h))},error:e[r+1],complete:e[r+2]};else{const h=Bn(n,Cd);l=Bn(h.firestore,$s),u=h._query;const p=new _w(l);i={next:g=>{e[r]&&e[r](new va(l,p,h,g))},error:e[r+1],complete:e[r+2]},BR(n._query)}return(function(p,g,m,w){const I=new fw(w),R=new uw(g,I,m);return p.asyncQueue.enqueueAndForget((async()=>aw(await cp(p),R))),()=>{I.Nu(),p.asyncQueue.enqueueAndForget((async()=>lw(await cp(p),R)))}})(Pd(l),u,s,i)}function dm(n,e){return(function(r,s){const i=new Ms;return r.asyncQueue.enqueueAndForget((async()=>D8(await q8(r),s,i))),i.promise})(Pd(n),e)}function HR(n,e,t){const r=t.docs.get(e._key),s=new _w(n);return new ya(n,s,e._key,r,new Pu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gw(e)}set(e,t,r){this._verifyNotCommitted();const s=Ey(e,this._firestore),i=qR(s.converter,t,r),l=MR(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(l.toMutation(s._key,vn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const i=Ey(e,this._firestore);let l;return l=typeof(t=xn(t))=="string"||t instanceof Ad?LR(this._dataReader,"WriteBatch.update",i._key,t,r,s):VR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(l.toMutation(i._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ey(e,this._firestore);return this._mutations=this._mutations.concat(new bd(t._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ey(n,e){if((n=xn(n)).firestore!==e)throw new we(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(n){return Pd(n=Bn(n,$s)),new c7(n,(e=>dm(n,e)))}(function(e,t=!0){(function(s){wc=s})(_c),Xl(new xa("firestore",((r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),u=new $s(new Nz(r.getProvider("auth-internal")),new Mz(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pa(p.options.projectId,g)})(l,s),l);return i={useFetchStreams:t,...i},u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),yi(bS,SS,e),yi(bS,SS,"esm2020")})();function WR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u7=WR,GR=new md("auth","Firebase",WR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=new x_("@firebase/auth");function d7(n,...e){dp.logLevel<=it.WARN&&dp.warn(`Auth (${_c}): ${n}`,...e)}function Tf(n,...e){dp.logLevel<=it.ERROR&&dp.error(`Auth (${_c}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(n,...e){throw ww(n,...e)}function Fs(n,...e){return ww(n,...e)}function KR(n,e,t){const r={...u7(),[e]:t};return new md("auth","Firebase",r).create(e,{appName:n.name})}function _a(n){return KR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ww(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return GR.create(n,...e)}function We(n,e,...t){if(!n)throw ww(e,...t)}function fo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tf(e),new Error(e)}function bo(n,e){n||fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(){return typeof self<"u"&&self.location?.href||""}function h7(){return $I()==="http:"||$I()==="https:"}function $I(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h7()||cU()||"connection"in navigator)?navigator.onLine:!0}function p7(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.shortDelay=e,this.longDelay=t,bo(t>e,"Short delay should be less than long delay!"),this.isMobile=aU()||uU()}get(){return f7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n,e){bo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y7=new Rd(3e4,6e4);function bw(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Sc(n,e,t,r,s={}){return QR(n,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const u=gd({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...i};return lU()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&vc(n.emulatorConfig.host)&&(p.credentials="include"),ZR.fetch()(await YR(n,n.config.apiHost,t,u),p)})}async function QR(n,e,t){n._canInitEmulator=!1;const r={...m7,...e};try{const s=new _7(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw cf(n,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const u=i.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw cf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw cf(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw KR(n,g,p);Eo(n,g)}}catch(s){if(s instanceof Io)throw s;Eo(n,"network-request-failed",{message:String(s)})}}async function v7(n,e,t,r,s={}){const i=await Sc(n,e,t,r,s);return"mfaPendingCredential"in i&&Eo(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function YR(n,e,t,r){const s=`${e}${t}?${r}`,i=n,l=i.config.emulator?Ew(n.config,s):`${n.config.apiScheme}://${s}`;return g7.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(l).toString():l}class _7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),y7.get())})}}function cf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Fs(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(n,e){return Sc(n,"POST","/v1/accounts:delete",e)}async function hp(n,e){return Sc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E7(n,e=!1){const t=xn(n),r=await t.getIdToken(e),s=Sw(r);We(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i?.sign_in_provider;return{claims:s,token:r,authTime:Fu(by(s.auth_time)),issuedAtTime:Fu(by(s.iat)),expirationTime:Fu(by(s.exp)),signInProvider:l||null,signInSecondFactor:i?.sign_in_second_factor||null}}function by(n){return Number(n)*1e3}function Sw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const s=pP(t);return s?JSON.parse(s):(Tf("Failed to decode base64 JWT payload"),null)}catch(s){return Tf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function BI(n){const e=Sw(n);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Io&&b7(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function b7({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(n){const e=n.auth,t=await n.getIdToken(),r=await ad(n,hp(e,{idToken:t}));We(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=s.providerUserInfo?.length?XR(s.providerUserInfo):[],l=x7(n.providerData,i),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,p=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new xv(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function I7(n){const e=xn(n);await fp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x7(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XR(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(n,e){const t=await QR(n,{},async()=>{const r=gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,l=await YR(n,s,"/v1/token",`key=${i}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&vc(n.emulatorConfig.host)&&(h.credentials="include"),ZR.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function C7(n,e){return Sc(n,"POST","/v2/accounts:revokeToken",bw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=BI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await T7(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,l=new Hl;return r&&(We(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(We(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(n,e){We(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ts{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new S7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ad(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return E7(this,e)}reload(){return I7(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await fp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rs(this.auth.app))return Promise.reject(_a(this.auth));const e=await this.getIdToken();return await ad(this,w7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:m,emailVerified:w,isAnonymous:I,providerData:R,stsTokenManager:T}=t;We(m&&T,e,"internal-error");const A=Hl.fromJSON(this.name,T);We(typeof m=="string",e,"internal-error"),oi(r,e.name),oi(s,e.name),We(typeof w=="boolean",e,"internal-error"),We(typeof I=="boolean",e,"internal-error"),oi(i,e.name),oi(l,e.name),oi(u,e.name),oi(h,e.name),oi(p,e.name),oi(g,e.name);const D=new ts({uid:m,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:i,tenantId:u,stsTokenManager:A,createdAt:p,lastLoginAt:g});return R&&Array.isArray(R)&&(D.providerData=R.map(V=>({...V}))),h&&(D._redirectEventId=h),D}static async _fromIdTokenResponse(e,t,r=!1){const s=new Hl;s.updateFromServerResponse(t);const i=new ts({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await fp(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];We(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?XR(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!i?.length,u=new Hl;u.updateFromIdToken(r);const h=new ts({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new xv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new Map;function po(n){bo(n instanceof Function,"Expected a class definition");let e=qI.get(n);return e?(bo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}JR.type="NONE";const HI=JR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(n,e,t){return`firebase:${n}:${e}:${t}`}class Wl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Cf(this.userKey,s.apiKey,i),this.fullPersistenceKey=Cf("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hp(this.auth,{idToken:e}).catch(()=>{});return t?ts._fromGetAccountInfoResponse(this.auth,t,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Wl(po(HI),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let i=s[0]||po(HI);const l=Cf(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const g=await p._get(l);if(g){let m;if(typeof g=="string"){const w=await hp(e,{idToken:g}).catch(()=>{});if(!w)break;m=await ts._fromGetAccountInfoResponse(e,w,g)}else m=ts._fromJSON(e,g);p!==i&&(u=m),i=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new Wl(i,e,r):(i=h[0],u&&await i._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==i)try{await p._remove(l)}catch{}})),new Wl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ek(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ok(e))return"Blackberry";if(ik(e))return"Webos";if(tk(e))return"Safari";if((e.includes("chrome/")||nk(e))&&!e.includes("edge/"))return"Chrome";if(sk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ek(n=cn()){return/firefox\//i.test(n)}function tk(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nk(n=cn()){return/crios\//i.test(n)}function rk(n=cn()){return/iemobile/i.test(n)}function sk(n=cn()){return/android/i.test(n)}function ok(n=cn()){return/blackberry/i.test(n)}function ik(n=cn()){return/webos/i.test(n)}function Iw(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function P7(n=cn()){return Iw(n)&&!!window.navigator?.standalone}function A7(){return dU()&&document.documentMode===10}function ak(n=cn()){return Iw(n)||sk(n)||ik(n)||ok(n)||/windows phone/i.test(n)||rk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n,e=[]){let t;switch(n){case"Browser":t=WI(cn());break;case"Worker":t=`${WI(cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((l,u)=>{try{const h=e(i);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k7(n,e={}){return Sc(n,"GET","/v2/passwordPolicy",bw(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=6;class D7{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??N7,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GI(this),this.idTokenSubscription=new GI(this),this.beforeStateQueue=new R7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=po(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hp(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rs(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!i||i===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rs(this.app))return Promise.reject(_a(this));const t=e?xn(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rs(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rs(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(po(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await k7(this),t=new D7(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new md("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await C7(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&po(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[po(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(u,this,"internal-error"),u.then(()=>{l||i(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&d7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xw(n){return xn(n)}class GI{constructor(e){this.auth=e,this.observer=null,this.addObserver=yU(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M7(n){Tw=n}function V7(n){return Tw.loadJS(n)}function L7(){return Tw.gapiScript}function F7(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(n,e){const t=C_(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(Ia(i,e??{}))return s;Eo(s,"already-initialized")}return t.initialize({options:e})}function U7(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(po);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function z7(n,e,t){const r=xw(n);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=ck(e),{host:l,port:u}=$7(e),h=u===null?"":`:${u}`,p={url:`${i}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Ia(p,r.config.emulator)&&Ia(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,vc(l)?(_P(`${i}//${l}${h}`),wP("Auth",!0)):B7()}function ck(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $7(n){const e=ck(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:KI(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:KI(l)}}}function KI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function B7(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fo("not implemented")}_getIdTokenResponse(e){return fo("not implemented")}_linkToIdToken(e,t){return fo("not implemented")}_getReauthenticationResolver(e){return fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(n,e){return v7(n,"POST","/v1/accounts:signInWithIdp",bw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7="http://localhost";class Oa extends uk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Eo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const l=new Oa(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Gl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Gl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gl(e,t)}buildRequest(){const e={requestUri:q7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends dk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends kd{constructor(){super("facebook.com")}static credential(e){return Oa._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends kd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oa._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ci.credential(t,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends kd{constructor(){super("github.com")}static credential(e){return Oa._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends kd{constructor(){super("twitter.com")}static credential(e,t){return Oa._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return di.credential(t,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await ts._fromIdTokenResponse(e,r,s),l=ZI(r);return new hc({user:i,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=ZI(r);return new hc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function ZI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends Io{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new pp(e,t,r,s)}}function hk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?pp._fromErrorAndOperation(n,i,e,r):i})}async function H7(n,e,t=!1){const r=await ad(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return hc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(n,e,t=!1){const{auth:r}=n;if(Rs(r.app))return Promise.reject(_a(r));const s="reauthenticate";try{const i=await ad(n,hk(r,s,e,n),t);We(i.idToken,r,"internal-error");const l=Sw(i.idToken);We(l,r,"internal-error");const{sub:u}=l;return We(n.uid===u,r,"user-mismatch"),hc._forOperation(n,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Eo(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G7(n,e,t=!1){if(Rs(n.app))return Promise.reject(_a(n));const r="signIn",s=await hk(n,r,e),i=await hc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function K7(n,e,t,r){return xn(n).onIdTokenChanged(e,t,r)}function Z7(n,e,t){return xn(n).beforeAuthStateChanged(e,t)}const mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mp,"1"),this.storage.removeItem(mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=1e3,Y7=10;class pk extends fk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ak(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);A7()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Y7):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Q7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pk.type="LOCAL";const X7=pk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends fk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mk.type="SESSION";const gk=mk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new fm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(t.origin,i)),h=await J7(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((u,h)=>{const p=Cw("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(m){const w=m;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(w.data.response);break;default:clearTimeout(g),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return window}function tq(n){js().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(){return typeof js().WorkerGlobalScope<"u"&&typeof js().importScripts=="function"}async function nq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rq(){return navigator?.serviceWorker?.controller||null}function sq(){return yk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="firebaseLocalStorageDb",oq=1,gp="firebaseLocalStorage",_k="fbase_key";class Nd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pm(n,e){return n.transaction([gp],e?"readwrite":"readonly").objectStore(gp)}function iq(){const n=indexedDB.deleteDatabase(vk);return new Nd(n).toPromise()}function Tv(){const n=indexedDB.open(vk,oq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(gp,{keyPath:_k})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(gp)?e(r):(r.close(),await iq(),e(await Tv()))})})}async function QI(n,e,t){const r=pm(n,!0).put({[_k]:e,value:t});return new Nd(r).toPromise()}async function aq(n,e){const t=pm(n,!1).get(e),r=await new Nd(t).toPromise();return r===void 0?null:r.value}function YI(n,e){const t=pm(n,!0).delete(e);return new Nd(t).toPromise()}const lq=800,cq=3;class wk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fm._getInstance(sq()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nq(),!this.activeServiceWorker)return;this.sender=new eq(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tv();return await QI(e,mp,"1"),await YI(e,mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>QI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>aq(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>YI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=pm(s,!1).getAll();return new Nd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wk.type="LOCAL";const uq=wk;new Rd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(n,e){return e?po(e):(We(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends uk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hq(n){return G7(n.auth,new Pw(n),n.bypassAuthState)}function fq(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),W7(t,new Pw(n),n.bypassAuthState)}async function pq(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),H7(t,new Pw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hq;case"linkViaPopup":case"linkViaRedirect":return pq;case"reauthViaPopup":case"reauthViaRedirect":return fq;default:Eo(this.auth,"internal-error")}}resolve(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=new Rd(2e3,1e4);class Ul extends Ek{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ul.currentPopupAction&&Ul.currentPopupAction.cancel(),Ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){bo(this.filter.length===1,"Popup operations only handle one event");const e=Cw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mq.get())};e()}}Ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq="pendingRedirect",Pf=new Map;class yq extends Ek{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Pf.get(this.auth._key());if(!e){try{const r=await vq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Pf.set(this.auth._key(),e)}return this.bypassAuthState||Pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vq(n,e){const t=Eq(e),r=wq(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function _q(n,e){Pf.set(n._key(),e)}function wq(n){return po(n._redirectPersistence)}function Eq(n){return Cf(gq,n.config.apiKey,n.name)}async function bq(n,e,t=!1){if(Rs(n.app))return Promise.reject(_a(n));const r=xw(n),s=dq(r,e),l=await new yq(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq=600*1e3;class Iq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!bk(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Fs(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sq&&this.cachedEventUids.clear(),this.cachedEventUids.has(XI(e))}saveEventToCache(e){this.cachedEventUids.add(XI(e)),this.lastProcessedEventTime=Date.now()}}function XI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bk({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function xq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tq(n,e={}){return Sc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pq=/^https?/;async function Aq(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Tq(n);for(const t of e)try{if(Rq(t))return}catch{}Eo(n,"unauthorized-domain")}function Rq(n){const e=Iv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!Pq.test(t))return!1;if(Cq.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq=new Rd(3e4,6e4);function JI(){const n=js().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Nq(n){return new Promise((e,t)=>{function r(){JI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JI(),t(Fs(n,"network-request-failed"))},timeout:kq.get()})}if(js().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(js().gapi?.load)r();else{const s=F7("iframefcb");return js()[s]=()=>{gapi.load?r():t(Fs(n,"network-request-failed"))},V7(`${L7()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw Af=null,e})}let Af=null;function Dq(n){return Af=Af||Nq(n),Af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq=new Rd(5e3,15e3),Mq="__/auth/iframe",Vq="emulator/auth/iframe",Lq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jq(n){const e=n.config;We(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ew(e,Vq):`https://${n.config.authDomain}/${Mq}`,r={apiKey:e.apiKey,appName:n.name,v:_c},s=Fq.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${gd(r).slice(1)}`}async function Uq(n){const e=await Dq(n),t=js().gapi;return We(t,n,"internal-error"),e.open({where:document.body,url:jq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lq,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=Fs(n,"network-request-failed"),u=js().setTimeout(()=>{i(l)},Oq.get());function h(){js().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$q=500,Bq=600,qq="_blank",Hq="http://localhost";class ex{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Wq(n,e,t,r=$q,s=Bq){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...zq,width:r.toString(),height:s.toString(),top:i,left:l},p=cn().toLowerCase();t&&(u=nk(p)?qq:t),ek(p)&&(e=e||Hq,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[I,R])=>`${w}${I}=${R},`,"");if(P7(p)&&u!=="_self")return Gq(e||"",u),new ex(null);const m=window.open(e||"",u,g);We(m,n,"popup-blocked");try{m.focus()}catch{}return new ex(m)}function Gq(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq="__/auth/handler",Zq="emulator/auth/handler",Qq=encodeURIComponent("fac");async function tx(n,e,t,r,s,i){We(n.config.authDomain,n,"auth-domain-config-required"),We(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:_c,eventId:s};if(e instanceof dk){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",gU(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries({}))l[g]=m}if(e instanceof kd){const g=e.getScopes().filter(m=>m!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),p=h?`#${Qq}=${encodeURIComponent(h)}`:"";return`${Yq(n)}?${gd(u).slice(1)}${p}`}function Yq({config:n}){return n.emulator?Ew(n,Zq):`https://${n.authDomain}/${Kq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="webStorageSupport";class Xq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gk,this._completeRedirectFn=bq,this._overrideRedirectResult=_q}async _openPopup(e,t,r,s){bo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await tx(e,t,r,Iv(),s);return Wq(e,i,Cw())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await tx(e,t,r,Iv(),s);return tq(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(bo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Uq(e),r=new Iq(e);return t.register("authEvent",s=>(We(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sy,{type:Sy},s=>{const i=s?.[0]?.[Sy];i!==void 0&&t(!!i),Eo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Aq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ak()||tk()||Iw()}}const Jq=Xq;var nx="@firebase/auth",rx="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nH(n){Xl(new xa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lk(n)},p=new O7(r,s,i,h);return U7(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xl(new xa("auth-internal",e=>{const t=xw(e.getProvider("auth").getImmediate());return(r=>new eH(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(nx,rx,tH(n)),yi(nx,rx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=300,sH=vP("authIdTokenMaxAge")||rH;let sx=null;const oH=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>sH)return;const s=t?.token;sx!==s&&(sx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iH(n=PP()){const e=C_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=j7(n,{popupRedirectResolver:Jq,persistence:[uq,X7,gk]}),r=vP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=oH(i.toString());Z7(t,l,()=>l(t.currentUser)),K7(t,u=>l(u))}}const s=gP("auth");return s&&z7(t,`http://${s}`),t}function aH(){return document.getElementsByTagName("head")?.[0]??document}M7({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Fs("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",aH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nH("Browser");const lH={apiKey:"AIzaSyAtQmAaUFEuyJmeOq3M3ZIkI3a1gna_Do8",authDomain:"nosql-demo-e5885.firebaseapp.com",databaseURL:"https://nosql-demo-e5885-default-rtdb.firebaseio.com",projectId:"nosql-demo-e5885",storageBucket:"nosql-demo-e5885.firebasestorage.app",messagingSenderId:"377685820338",appId:"1:377685820338:web:12a7618478c1cdeda79aab",measurementId:"G-EWRZ4F64R6"};let Iy,Ln,cH;try{Iy=CP(lH),Ln=K8(Iy),cH=iH(Iy),Z8(Ln).catch(n=>{n.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):n.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser")})}catch(n){throw console.error("Firebase initialization error:",n),n}const Bs={INVENTORY:"inventory"};function Sk(n){const e={};for(const t of Object.keys(n))n[t]!==void 0&&(e[t]=n[t]);return e}function mm(n,e,t){return n<=0?"Critical":t!==void 0&&n<=t||e?"Low Stock":"In Stock"}async function uH(){const n=await s7(kR(Ln,Bs.INVENTORY));let e=0;return n.forEach(t=>{const s=t.id.match(/INV-(\d+)/);if(s){const i=parseInt(s[1],10);i>e&&(e=i)}}),`INV-${String(e+1).padStart(3,"0")}`}function dH(n,e){return l7(kR(Ln,Bs.INVENTORY),t=>{const r=[];t.forEach(s=>{const i=s.data();r.push({id:s.id,name:i.name,category:i.category,subcategory:i.subcategory,quantity:i.quantity||0,location:i.location,status:i.status||mm(i.quantity||0,i.reorderRequired||!1,i.reorderLevel),brand:i.brand||"",pricePerPiece:i.pricePerPiece||0,supplierId:i.supplierId||"",quantityPurchased:i.quantityPurchased||0,quantitySold:i.quantitySold||0,reorderRequired:i.reorderRequired||!1,reorderLevel:i.reorderLevel,photoUrl:i.photoUrl,description:i.description,archived:i.archived||!1,archivedAt:i.archivedAt})}),n(r)},e)}async function lG(n){const e=n.id&&n.id.trim()!==""?n.id:await uH(),t=Math.max(0,Math.floor(n.quantity)),r=Math.max(0,Math.floor(n.quantityPurchased)),s=Math.max(0,Math.floor(n.quantitySold)),i=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):void 0,l=i!==void 0&&t<=i?!0:n.reorderRequired,u=mm(t,l,i),h={id:e,name:n.name.trim(),category:n.category,subcategory:n.subcategory,quantity:t,location:n.location.trim(),status:u,brand:n.brand.trim(),pricePerPiece:n.pricePerPiece,supplierId:n.supplierId.trim(),quantityPurchased:r,quantitySold:s,reorderRequired:l,reorderLevel:i,photoUrl:n.photoUrl,description:n.description};if((await za(Ci(Ln,Bs.INVENTORY,e))).exists())throw new Error(`Item with id ${e} already exists`);const g=Sk(h);return await o7(Ci(Ln,Bs.INVENTORY,e),g),h}async function cG(n){const e=Ci(Ln,Bs.INVENTORY,n.id),t=await za(e);if(!t.exists())throw new Error("Item not found");const r=t.data(),s=n.quantity!==void 0?Math.max(0,Math.floor(n.quantity)):r.quantity,i=n.quantityPurchased!==void 0?Math.max(0,Math.floor(n.quantityPurchased)):r.quantityPurchased,l=n.quantitySold!==void 0?Math.max(0,Math.floor(n.quantitySold)):r.quantitySold,u=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):r.reorderLevel;let h=n.reorderRequired!==void 0?n.reorderRequired:r.reorderRequired;u!==void 0&&s<=u&&(h=!0);const p={...r,...n,quantity:s,quantityPurchased:i,quantitySold:l,reorderRequired:h,reorderLevel:u,status:mm(s,h,u)},g=Sk(p);return await i7(e,g),p}async function uG(n){const e=Ci(Ln,Bs.INVENTORY,n);if(!(await za(e)).exists())throw new Error("Item not found");await a7(e)}async function dG(n){const e=hm(Ln),t=[];let r=0;for(const s of n){const i=Ci(Ln,Bs.INVENTORY,s);if(!(await za(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!0,archivedAt:new Date().toISOString()}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function hG(n){const e=hm(Ln),t=[];let r=0;for(const s of n){const i=Ci(Ln,Bs.INVENTORY,s);if(!(await za(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!1,archivedAt:null}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function hH(n){const e=hm(Ln),t=[];let r=0;for(const s of n){const i=Ci(Ln,Bs.INVENTORY,s);if(!(await za(i)).exists()){t.push(`Item ${s} not found`);continue}e.delete(i),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function fG(n){return hH(n)}async function pG(n,e){const t=hm(Ln),r=[];let s=0;for(const i of n){const l=Ci(Ln,Bs.INVENTORY,i),u=await za(l);if(!u.exists()){r.push(`Item ${i} not found`);continue}const h=u.data(),p=e.quantity!==void 0?Math.max(0,Math.floor(e.quantity)):h.quantity,g=e.reorderRequired!==void 0?e.reorderRequired:h.reorderRequired,m=mm(p,g);t.update(l,{...e,status:m}),s++}return await t.commit(),{success:r.length===0,successCount:s,failedCount:r.length,errors:r.length>0?r:void 0}}const Ik=b.createContext(void 0);function fH({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(null),[i,l]=b.useState(null),[u,h]=b.useState({inventory:!0,shipments:!0,suppliers:!0}),p=b.useRef(null);b.useEffect(()=>(p.current=dH(T=>{t(T),h(A=>({...A,inventory:!1}))},T=>{console.error("Firebase inventory subscription error:",T),h(A=>({...A,inventory:!1}))}),()=>{p.current&&p.current()}),[]),b.useEffect(()=>{g()},[]);async function g(){await Promise.all([w(),I()])}async function m(){}async function w(){h(T=>({...T,shipments:!0}));try{const T=await B6();s(T)}finally{h(T=>({...T,shipments:!1}))}}async function I(){h(T=>({...T,suppliers:!0}));try{const T=await $6();l(T)}finally{h(T=>({...T,suppliers:!1}))}}const R={inventory:e,shipments:r,suppliers:i,isLoading:u,setInventory:t,setShipments:s,setSuppliers:l,refreshInventory:m,refreshShipments:w,refreshSuppliers:I};return E.jsx(Ik.Provider,{value:R,children:n})}function Aw(){const n=b.useContext(Ik);if(n===void 0)throw new Error("useAppContext must be used within an AppProvider");return n}function mG(){const{inventory:n,isLoading:e,setInventory:t,refreshInventory:r}=Aw();return{inventory:n,isLoading:e.inventory,setInventory:t,refreshInventory:r}}function gG(){const{suppliers:n,isLoading:e,setSuppliers:t,refreshSuppliers:r}=Aw();return{suppliers:n,isLoading:e.suppliers,setSuppliers:t,refreshSuppliers:r}}function pH(n,e=300){const[t,r]=b.useState(n);return b.useEffect(()=>{const s=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(s)}},[n,e]),t}const wu="wms_recent_searches",mH=10,uf=2,Eu=10,xy={inventory:{name:"Inventory",icon:wp,view:"inventory"},orders:{name:"Orders",icon:yx,view:"orders"},"purchase-orders":{name:"Purchase Orders",icon:Pv,view:"purchase-orders"},shipments:{name:"Shipments",icon:Av,view:"shipments"},suppliers:{name:"Suppliers",icon:vx,view:"suppliers"}},gH=[{syntax:"status:critical",description:"Filter by status"},{syntax:"category:electronics",description:"Filter by category"},{syntax:"module:inventory",description:"Search in specific module"},{syntax:"supplier:ABC Corp",description:"Filter by supplier"},{syntax:"location:warehouse-a",description:"Filter by location"},{syntax:"price:>100",description:"Numeric range filter"}];function yH({open:n,onOpenChange:e,onNavigate:t}){const[r,s]=b.useState(""),[i,l]=b.useState(0),[u,h]=b.useState(!1),[p,g]=b.useState([]),[m,w]=b.useState(!1),[I,R]=b.useState([]),T=b.useRef(null),A=b.useRef(null),{inventory:D,orders:V,shipments:U,suppliers:z}=Aw(),{user:$}=fd(),K=pH(r,300);b.useEffect(()=>{if($){const X=localStorage.getItem(wu);if(X)try{const j=JSON.parse(X);R(j[$.id]||[])}catch{R([])}}},[$]),b.useEffect(()=>{n?(q6().then(g).catch(console.error),T.current?.focus()):(s(""),l(0),w(!1))},[n]);const P=b.useCallback(X=>{if(!$||X.length<uf)return;const j=localStorage.getItem(wu);let G={};if(j)try{G=JSON.parse(j)}catch{}const ie=(G[$.id]||[]).filter(xe=>xe!==X),he=[X,...ie].slice(0,mH);G[$.id]=he,localStorage.setItem(wu,JSON.stringify(G)),R(he)},[$]),C=b.useCallback(()=>{if(!$)return;const X=localStorage.getItem(wu);let j={};if(X)try{j=JSON.parse(X)}catch{}delete j[$.id],localStorage.setItem(wu,JSON.stringify(j)),R([])},[$]),N=b.useCallback(X=>{const j=[];let G=X;const oe=/(\w+):([<>=]*)([^\s]+)/g;let ie;for(;(ie=oe.exec(X))!==null;){const[he,xe,ve,Ie]=ie;j.push({key:xe.toLowerCase(),value:Ie,operator:ve}),G=G.replace(he,"").trim()}return{filters:j,cleanQuery:G}},[]),M=b.useMemo(()=>{if(K.length<uf)return[];h(!0);const{filters:X,cleanQuery:j}=N(K),G=j.toLowerCase(),oe=[],ie=X.find(Qe=>Qe.key==="module")?.value.toLowerCase(),he=X.find(Qe=>Qe.key==="status")?.value.toLowerCase(),xe=X.find(Qe=>Qe.key==="category")?.value.toLowerCase(),ve=X.find(Qe=>Qe.key==="supplier")?.value.toLowerCase(),Ie=X.find(Qe=>Qe.key==="location")?.value.toLowerCase(),Ge=X.find(Qe=>Qe.key==="price");return(!ie||ie==="inventory")&&(D||[]).filter(pe=>{if(he&&pe.status.toLowerCase()!==he||xe&&pe.category.toLowerCase()!==xe||Ie&&!pe.location.toLowerCase().includes(Ie))return!1;if(Ge){const St=pe.pricePerPiece,dn=parseFloat(Ge.value);if(Ge.operator===">"&&St<=dn||Ge.operator==="<"&&St>=dn)return!1}return j?pe.id.toLowerCase().includes(G)||pe.name.toLowerCase().includes(G)||pe.brand.toLowerCase().includes(G)||pe.category.toLowerCase().includes(G)||pe.location.toLowerCase().includes(G):!0}).slice(0,Eu).forEach(pe=>{const St=[];pe.id.toLowerCase().includes(G)&&St.push("ID"),pe.name.toLowerCase().includes(G)&&St.push("Name"),pe.brand.toLowerCase().includes(G)&&St.push("Brand"),oe.push({id:pe.id,title:pe.name,subtitle:`${pe.id}  ${pe.brand}  ${pe.category}  ${pe.location}`,module:"inventory",moduleName:"Inventory",icon:wp,matchedFields:St})}),(!ie||ie==="orders")&&(V||[]).filter(pe=>he&&pe.status.toLowerCase()!==he?!1:j?pe.id.toLowerCase().includes(G)||pe.customer.toLowerCase().includes(G)||pe.status.toLowerCase().includes(G):!0).slice(0,Eu).forEach(pe=>{oe.push({id:pe.id,title:pe.customer,subtitle:`${pe.id}  ${pe.status}  ${pe.total}`,module:"orders",moduleName:"Orders",icon:yx,matchedFields:[]})}),(!ie||ie==="purchase-orders"||ie==="po")&&p.filter(pe=>he&&pe.status.toLowerCase().replace(/\s/g,"-")!==he||ve&&!pe.supplierName.toLowerCase().includes(ve)?!1:j?pe.id.toLowerCase().includes(G)||pe.supplierName.toLowerCase().includes(G)||pe.status.toLowerCase().includes(G):!0).slice(0,Eu).forEach(pe=>{oe.push({id:pe.id,title:`${pe.id} - ${pe.supplierName}`,subtitle:`${pe.status}  ${pe.totalAmount.toLocaleString()}`,module:"purchase-orders",moduleName:"Purchase Orders",icon:Pv,matchedFields:[]})}),(!ie||ie==="shipments")&&(U||[]).filter(pe=>he&&pe.status.toLowerCase().replace(/\s/g,"-")!==he?!1:j?pe.id.toLowerCase().includes(G)||pe.orderId.toLowerCase().includes(G)||pe.destination.toLowerCase().includes(G)||pe.carrier.toLowerCase().includes(G):!0).slice(0,Eu).forEach(pe=>{oe.push({id:pe.id,title:`${pe.id}  ${pe.destination}`,subtitle:`Order: ${pe.orderId}  ${pe.carrier}  ${pe.status}`,module:"shipments",moduleName:"Shipments",icon:Av,matchedFields:[]})}),(!ie||ie==="suppliers")&&(z||[]).filter(pe=>he&&pe.status.toLowerCase()!==he||xe&&!pe.category.toLowerCase().includes(xe)?!1:j?pe.id.toLowerCase().includes(G)||pe.name.toLowerCase().includes(G)||pe.contact.toLowerCase().includes(G)||pe.email.toLowerCase().includes(G)||pe.category.toLowerCase().includes(G):!0).slice(0,Eu).forEach(pe=>{oe.push({id:pe.id,title:pe.name,subtitle:`${pe.id}  ${pe.contact}  ${pe.category}`,module:"suppliers",moduleName:"Suppliers",icon:vx,matchedFields:[]})}),h(!1),oe},[K,D,V,p,U,z,N]),F=b.useMemo(()=>{const X={inventory:[],orders:[],"purchase-orders":[],shipments:[],suppliers:[]};return M.forEach(j=>{X[j.module].push(j)}),X},[M]),B=b.useMemo(()=>Object.values(F).flat(),[F]),O=b.useMemo(()=>N(r).filters,[r,N]),Ce=b.useCallback(X=>{P(r),t(xy[X.module].view,X.id),e(!1)},[r,P,t,e]),Be=b.useCallback(X=>{s(X)},[]),me=b.useCallback(X=>{const j=new RegExp(`${X}:[^\\s]+\\s*`,"gi");s(G=>G.replace(j,"").trim())},[]);b.useEffect(()=>{const X=j=>{if(n)switch(j.key){case"ArrowDown":j.preventDefault(),l(G=>Math.min(G+1,B.length-1));break;case"ArrowUp":j.preventDefault(),l(G=>Math.max(G-1,0));break;case"Enter":j.preventDefault(),B[i]&&Ce(B[i]);break;case"Escape":e(!1);break}};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[n,B,i,Ce,e]),b.useEffect(()=>{l(0)},[B]);const _e=(X,j)=>{if(!j||j.length<uf)return X;const{cleanQuery:G}=N(j);if(!G)return X;const oe=new RegExp(`(${G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return X.split(oe).map((he,xe)=>oe.test(he)?E.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-800 rounded px-0.5",children:he},xe):he)},W=r.length===0&&I.length>0,ne=r.length>=uf&&M.length===0&&!u;return E.jsx(i6,{open:n,onOpenChange:e,children:E.jsxs(c6,{className:"max-w-2xl p-0 gap-0 overflow-hidden",children:[E.jsxs("div",{className:"flex items-center border-b px-4 py-3 gap-3",children:[E.jsx(kf,{className:"h-5 w-5 text-muted-foreground shrink-0"}),E.jsx(bu,{ref:T,value:r,onChange:X=>s(X.target.value),placeholder:"Search across all modules... (type ? for help)",className:"border-0 focus-visible:ring-0 p-0 h-auto text-base","aria-label":"Global search"}),u&&E.jsx(Rf,{className:"h-4 w-4 animate-spin text-muted-foreground"}),E.jsx("button",{onClick:()=>w(!m),className:"p-1 hover:bg-muted rounded",title:"Show filter syntax help",children:E.jsx(l2,{className:"h-4 w-4 text-muted-foreground"})})]}),O.length>0&&E.jsx("div",{className:"flex flex-wrap gap-2 px-4 py-2 border-b bg-muted/30",children:O.map((X,j)=>E.jsxs(lS,{variant:"secondary",className:"gap-1 pr-1",children:[E.jsxs("span",{className:"font-medium",children:[X.key,":"]}),E.jsxs("span",{children:[X.operator||"",X.value]}),E.jsx("button",{onClick:()=>me(X.key),className:"ml-1 hover:bg-muted rounded-full p-0.5",children:E.jsx(Rv,{className:"h-3 w-3"})})]},j))}),m&&E.jsxs("div",{className:"px-4 py-3 border-b bg-blue-50 dark:bg-blue-950/30",children:[E.jsx("p",{className:"text-sm font-medium mb-2",children:"Filter Syntax:"}),E.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:gH.map((X,j)=>E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:X.syntax}),E.jsx("span",{className:"text-muted-foreground",children:X.description})]},j))})]}),E.jsxs(uP,{className:"max-h-[400px]",ref:A,children:[W&&E.jsxs("div",{className:"p-2",children:[E.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-1",children:[E.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Recent Searches"}),E.jsx("button",{onClick:C,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear all"})]}),I.map((X,j)=>E.jsxs("button",{onClick:()=>Be(X),className:"flex items-center gap-3 w-full px-3 py-2 text-left hover:bg-muted rounded-md transition-colors",children:[E.jsx(f2,{className:"h-4 w-4 text-muted-foreground"}),E.jsx("span",{className:"text-sm",children:X})]},j))]}),ne&&E.jsxs("div",{className:"p-8 text-center",children:[E.jsx(q2,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),E.jsxs("p",{className:"text-muted-foreground",children:['No results found for "',r,'"']}),E.jsxs("p",{className:"text-sm text-muted-foreground/70 mt-1",children:["Try different keywords or use filters like ",E.jsx("code",{className:"bg-muted px-1 rounded",children:"status:active"})]})]}),M.length>0&&E.jsx("div",{className:"p-2",children:Object.entries(F).filter(([,X])=>X.length>0).map(([X,j])=>E.jsxs("div",{className:"mb-4 last:mb-0",children:[E.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 mb-1",children:[(()=>{const G=xy[X].icon;return E.jsx(G,{className:"h-4 w-4 text-muted-foreground"})})(),E.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:xy[X].name}),E.jsx(lS,{variant:"secondary",className:"h-5 px-1.5 text-xs",children:j.length})]}),j.map((G,oe)=>{const he=B.indexOf(G)===i;return E.jsxs("button",{onClick:()=>Ce(G),className:$e("flex items-start gap-3 w-full px-3 py-2 text-left rounded-md transition-colors",he?"bg-primary/10 text-primary":"hover:bg-muted"),children:[E.jsx(G.icon,{className:"h-4 w-4 mt-0.5 shrink-0"}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("div",{className:"font-medium text-sm truncate",children:_e(G.title,r)}),E.jsx("div",{className:"text-xs text-muted-foreground truncate",children:_e(G.subtitle,r)})]})]},G.id)})]},X))}),r.length===0&&I.length===0&&E.jsxs("div",{className:"p-8 text-center",children:[E.jsx(kf,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),E.jsx("p",{className:"text-muted-foreground",children:"Start typing to search across all modules"}),E.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Search inventory, orders, purchase orders, shipments, and suppliers"})]})]}),E.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t bg-muted/30 text-xs text-muted-foreground",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),"to navigate"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Enter"}),"to select"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Esc"}),"to close"]})]}),E.jsxs("span",{children:[M.length," result",M.length!==1?"s":""]})]})]})})}function vH(){const[n,e]=b.useState(!1);return b.useEffect(()=>{const t=r=>{(r.metaKey||r.ctrlKey)&&r.key==="k"&&(r.preventDefault(),e(s=>!s))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),{open:n,setOpen:e}}function _H({setCurrentView:n,setCommandPaletteOpen:e}){const{user:t,logout:r}=fd(),s=()=>{r(),Jr.success("Logged out successfully")};return E.jsxs("header",{className:"shrink-0 z-50 flex h-14 items-center gap-4 border-b bg-background px-4 sm:px-6",children:[E.jsxs("div",{className:"min-w-0 flex-1",children:[E.jsxs("h1",{className:"text-sm font-semibold truncate sm:text-base",children:[E.jsx("span",{className:"hidden lg:inline",children:"Warehouse Management System "}),E.jsx("span",{className:"lg:hidden",children:"WMS"})]}),E.jsx("p",{className:"text-xs text-muted-foreground truncate lg:hidden",children:"Inventory & Supply Chain"})]}),E.jsxs(ju,{variant:"outline",className:"hidden sm:flex w-64 justify-start text-muted-foreground gap-2",onClick:()=>e(!0),children:[E.jsx(kf,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"truncate",children:"Search everything..."}),E.jsxs("kbd",{className:"ml-auto pointer-events-none hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium md:inline-flex",children:[E.jsx(m2,{className:"h-3 w-3"}),"K"]})]}),E.jsxs(ju,{variant:"outline",size:"icon",className:"sm:hidden shrink-0",onClick:()=>e(!0),children:[E.jsx(kf,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Search"})]}),t&&E.jsxs(YT,{modal:!1,children:[E.jsx(XT,{asChild:!0,children:E.jsxs("button",{type:"button",className:"flex items-center gap-2 px-2 py-1.5 rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:[E.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:E.jsx(Ty,{className:"h-4 w-4 text-primary"})}),E.jsxs("div",{className:"hidden md:flex flex-col items-start text-left",children:[E.jsx("span",{className:"text-sm font-medium truncate max-w-[120px]",children:t.name}),E.jsx("span",{className:"text-xs text-muted-foreground",children:t.role})]}),E.jsx(n2,{className:"h-4 w-4 text-muted-foreground hidden md:block"})]})}),E.jsxs(a_,{align:"end",className:"w-56",sideOffset:8,children:[E.jsx(l_,{className:"font-normal",children:E.jsxs("div",{className:"flex flex-col space-y-1",children:[E.jsx("p",{className:"text-sm font-medium leading-none",children:t.name}),E.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),E.jsx(c_,{}),E.jsxs(Hu,{onSelect:()=>n("profile"),children:[E.jsx(Ty,{className:"mr-2 h-4 w-4"}),"View Profile"]}),E.jsxs(Hu,{onSelect:s,className:"text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400",children:[E.jsx(A2,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})}const ox=ce.lazy(()=>ss(()=>import("./dashboard-BfsAIKFX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(n=>({default:n.Dashboard}))),wH=ce.lazy(()=>ss(()=>import("./inventory-view-DlMkMDpZ.js"),__vite__mapDeps([9,10,11,1,12,7,13,2,14,3,4,15,16,17,18,19,20,21])).then(n=>({default:n.InventoryView}))),EH=ce.lazy(()=>ss(()=>import("./purchase-orders-view-OQFklqtC.js"),__vite__mapDeps([22,10,23,11,1,2,14,20,3,4,15,16,8])).then(n=>({default:n.PurchaseOrdersView}))),bH=ce.lazy(()=>ss(()=>import("./sales-orders-view-CvMEJlg1.js"),__vite__mapDeps([24,2,11,1,10,23,20,3,4,15,16])).then(n=>({default:n.SalesOrdersView}))),SH=ce.lazy(()=>ss(()=>import("./shipments-view-FrmRIF3J.js"),__vite__mapDeps([25,10,11,1,6,12,7,13,2,14,26,4,18])).then(n=>({default:n.ShipmentsView}))),IH=ce.lazy(()=>ss(()=>import("./suppliers-view-2FXQjctH.js"),__vite__mapDeps([27,10,11,1,12,7,13,2,14,26,16,28,21,18,4,3,17])).then(n=>({default:n.SuppliersView}))),xH=ce.lazy(()=>ss(()=>import("./customers-view-Ub7ZGO0z.js"),__vite__mapDeps([29,10,11,1,12,7,13,2,14,26,16,28,17,18,3])).then(n=>({default:n.CustomersView}))),TH=ce.lazy(()=>ss(()=>import("./user-management-view-B0pEnzHC.js"),__vite__mapDeps([30,10,2,13,31])).then(n=>({default:n.UserManagementView}))),CH=ce.lazy(()=>ss(()=>import("./admin-profile-view-BTIGASpW.js"),__vite__mapDeps([32,19,31,26,28,18,6])).then(n=>({default:n.AdminProfileView}))),PH=ce.lazy(()=>ss(()=>import("./cash-bank-view-6ELYB8mU.js"),__vite__mapDeps([33,2,11,1,10,23,15,3,5,16])).then(n=>({default:n.CashBankView}))),AH=ce.lazy(()=>ss(()=>import("./payments-view-BqHyp8pC.js"),__vite__mapDeps([34,2,11,1,10,23,15,3,5,16])).then(n=>({default:n.PaymentsView}))),RH=["dashboard","inventory","purchase-orders","sales-orders","shipments","suppliers","customers","cash-bank","payments","users","profile"];function ix(){const n=window.location.hash.slice(1);return n&&RH.includes(n)?n:"dashboard"}function kH(){const{isAuthenticated:n,isLoading:e}=fd(),[t,r]=b.useState(ix),[s,i]=b.useState(null),[l,u]=b.useState(void 0),{open:h,setOpen:p}=vH();b.useEffect(()=>{const T=t==="dashboard"?"":`#${t}`;window.location.hash!==T&&window.location.hash!==`#${t}`&&window.history.replaceState(null,"",T||window.location.pathname)},[t]),b.useEffect(()=>{const T=()=>{const A=ix();r(A)};return window.addEventListener("hashchange",T),()=>window.removeEventListener("hashchange",T)},[]);const g=b.useCallback((T,A=!1)=>{r(T),A&&T!=="dashboard"&&i(T)},[]),m=b.useCallback((T,A)=>{r(T),u(A)},[]),w=b.useCallback(()=>{i(null)},[]),I=b.useCallback(()=>{u(void 0)},[]);if(e)return E.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx(Rf,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),E.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})});if(!n)return E.jsxs(Vb,{onError:Gy,children:[E.jsx(o6,{}),E.jsx(Mb,{})]});const R=()=>{switch(t){case"dashboard":return E.jsx(ox,{navigateToView:g});case"inventory":return E.jsx(wH,{initialOpenDialog:s==="inventory",onDialogOpened:w,initialItemId:l,onItemDialogOpened:I});case"purchase-orders":return E.jsx(EH,{initialOpenDialog:s==="purchase-orders",onDialogOpened:w});case"sales-orders":return E.jsx(bH,{});case"shipments":return E.jsx(SH,{initialOpenDialog:s==="shipments",onDialogOpened:w});case"suppliers":return E.jsx(IH,{initialOpenDialog:s==="suppliers",onDialogOpened:w,initialSupplierId:l,onSupplierDialogOpened:I});case"customers":return E.jsx(xH,{initialOpenDialog:s==="customers",onDialogOpened:w,initialCustomerId:l,onCustomerDialogOpened:I});case"cash-bank":return E.jsx(PH,{});case"payments":return E.jsx(AH,{});case"users":return E.jsx(TH,{});case"profile":return E.jsx(CH,{});default:return E.jsx(ox,{navigateToView:g})}};return E.jsx(Vb,{onError:Gy,children:E.jsxs(mL,{children:[E.jsx(f5,{currentView:t,setCurrentView:r}),E.jsxs(vL,{className:"flex flex-col bg-muted/30 h-screen overflow-hidden",children:[E.jsx(_H,{setCurrentView:r,setCommandPaletteOpen:p}),E.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-6",children:E.jsx(b.Suspense,{fallback:E.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[E.jsx(Rf,{className:"h-4 w-4 animate-spin"})," Loading..."]}),children:R()})})]}),E.jsx(yH,{open:h,onOpenChange:p,onNavigate:m}),E.jsx(Mb,{})]})})}const ax="wms_favorites",lx="wms_saved_searches",xk=b.createContext(void 0),NH=[{id:"ql-1",label:"Low Stock Items",entityType:"inventory",filters:{status:"Low Stock"},icon:"alert"},{id:"ql-2",label:"Critical Stock",entityType:"inventory",filters:{status:"Critical"},icon:"alert-circle"},{id:"ql-3",label:"Pending Orders",entityType:"orders",filters:{status:"Pending"},icon:"clock"},{id:"ql-4",label:"Processing Orders",entityType:"orders",filters:{status:"Processing"},icon:"loader"},{id:"ql-5",label:"In Transit Shipments",entityType:"shipments",filters:{status:"In Transit"},icon:"truck"},{id:"ql-6",label:"Active Suppliers",entityType:"suppliers",filters:{status:"Active"},icon:"users"}];function DH({children:n}){const[e,t]=b.useState([]),[r,s]=b.useState([]),[i]=b.useState(NH);b.useEffect(()=>{try{const T=localStorage.getItem(ax);T&&t(JSON.parse(T));const A=localStorage.getItem(lx);A&&s(JSON.parse(A))}catch(T){console.error("Failed to load favorites from localStorage:",T)}},[]),b.useEffect(()=>{try{localStorage.setItem(ax,JSON.stringify(e))}catch(T){console.error("Failed to save favorites to localStorage:",T)}},[e]),b.useEffect(()=>{try{localStorage.setItem(lx,JSON.stringify(r))}catch(T){console.error("Failed to save searches to localStorage:",T)}},[r]);const l=b.useCallback((T,A,D)=>{t(V=>V.some($=>$.entityType===T&&$.entityId===A)?V:[{id:`fav-${T}-${A}-${Date.now()}`,entityType:T,entityId:A,entityName:D,favoritedAt:new Date().toISOString()},...V])},[]),u=b.useCallback((T,A)=>{t(D=>D.filter(V=>!(V.entityType===T&&V.entityId===A)))},[]),h=b.useCallback((T,A,D)=>{t(V=>V.some(z=>z.entityType===T&&z.entityId===A)?V.filter(z=>!(z.entityType===T&&z.entityId===A)):[{id:`fav-${T}-${A}-${Date.now()}`,entityType:T,entityId:A,entityName:D,favoritedAt:new Date().toISOString()},...V])},[]),p=b.useCallback((T,A)=>e.some(D=>D.entityType===T&&D.entityId===A),[e]),g=b.useCallback(T=>e.filter(A=>A.entityType===T),[e]),m=b.useCallback((T=10)=>[...e].sort((A,D)=>new Date(D.favoritedAt).getTime()-new Date(A.favoritedAt).getTime()).slice(0,T),[e]),w=b.useCallback((T,A,D,V)=>{const U={id:`search-${Date.now()}`,name:T,entityType:A,searchTerm:D,filters:V||{},createdAt:new Date().toISOString()};s(z=>[U,...z])},[]),I=b.useCallback(T=>{s(A=>A.filter(D=>D.id!==T))},[]),R=b.useCallback(T=>r.filter(A=>A.entityType===T),[r]);return E.jsx(xk.Provider,{value:{favorites:e,savedSearches:r,quickLinks:i,addFavorite:l,removeFavorite:u,toggleFavorite:h,isFavorite:p,getFavoritesByType:g,getRecentFavorites:m,saveSearch:w,deleteSearch:I,getSearchesByType:R},children:n})}function yG(){const n=b.useContext(xk);if(!n)throw new Error("useFavorites must be used within a FavoritesProvider");return n}const OH=a5;UN.createRoot(document.getElementById("root")).render(E.jsx(OH,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:E.jsx(r5,{children:E.jsx(DH,{children:E.jsx(fH,{children:E.jsx(kH,{})})})})}));window.addEventListener("error",n=>{const e=n.error instanceof Error?n.error:new Error(String(n.message));Gy(e)});export{fG as $,c6 as A,ju as B,dC as C,i6 as D,UH as E,$H as F,BH as G,pu as H,bu as I,zH as J,mG as K,S2 as L,gG as M,yG as N,UW as O,wp as P,pH as Q,ce as R,yx as S,eD as T,vx as U,cG as V,aD as W,lG as X,hH as Y,dG as Z,hG as _,MH as a,oW as a$,pG as a0,jH as a1,Rv as a2,kf as a3,YT as a4,XT as a5,a_ as a6,l_ as a7,c_ as a8,K4 as a9,kW as aA,JH as aB,NW as aC,FW as aD,VW as aE,MW as aF,OW as aG,DW as aH,jW as aI,LW as aJ,B6 as aK,dW as aL,fW as aM,pW as aN,uW as aO,hW as aP,WH as aQ,mW as aR,QH as aS,YH as aT,XH as aU,gW as aV,k2 as aW,KH as aX,ZH as aY,GH as aZ,tW as a_,G5 as aa,_2 as ab,uP as ac,cD as ad,zW as ae,$W as af,HH as ag,uG as ah,FH as ai,gx as aj,$6 as ak,qH as al,yW as am,AW as an,vW as ao,_W as ap,wW as aq,EW as ar,bW as as,SW as at,TW as au,CW as av,xW as aw,IW as ax,RW as ay,PW as az,px as b,iW as b0,aW as b1,lW as b2,cW as b3,eW as b4,rW as b5,sW as b6,nW as b7,Z2 as b8,rD as b9,mc as bA,V1 as bB,qs as bC,fa as bD,Y1 as bE,Et as bF,L1 as bG,ht as bH,Le as bI,mo as bJ,bp as bK,Nv as bL,JT as bM,zV as bN,On as bO,qx as bP,Mx as bQ,Ov as bR,Kl as bS,Dv as bT,Ep as bU,F1 as bV,d6 as bW,j1 as bX,i2 as bY,Ty as ba,XE as bb,ZC as bc,Wy as bd,y2 as be,Rf as bf,qW as bg,QW as bh,ZW as bi,GW as bj,KW as bk,HW as bl,WW as bm,YW as bn,JW as bo,oG as bp,sG as bq,nG as br,rG as bs,eG as bt,tG as bu,iG as bv,s2 as bw,n2 as bx,Ap as by,Jv as bz,rt as c,$e as d,_p as e,dx as f,cx as g,yp as h,fd as i,E as j,dD as k,q6 as l,BW as m,XW as n,$2 as o,hC as p,fC as q,b as r,mC as s,Av as t,Aw as u,Pv as v,pC as w,f2 as x,lS as y,Jr as z};
