const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-CkzlbqIw.js","assets/skeleton-DJFGQvr9.js","assets/permissions-DeuZZz56.js","assets/trending-up-CSuAIU8a.js","assets/shopping-bag-DznLoMq6.js","assets/inventory-view-BJXYCbRr.js","assets/sortable-table-head-DvG2CVNm.js","assets/select-all-banner-DOjA-eAP.js","assets/favorite-button-DhBWykv8.js","assets/useTableSort-01rjd5GN.js","assets/editable-cell-pe3bfbNq.js","assets/dollar-sign-z3KR8WJz.js","assets/image-BSjgSFyA.js","assets/square-pen-KtonswJ9.js","assets/circle-alert-CJzONCP1.js","assets/map-pin-D5Z2h77x.js","assets/file-text-BR99B_g4.js","assets/hash-DzikWrKe.js","assets/tag-4yChwwFT.js","assets/purchase-orders-view-CY25SOvc.js","assets/printable-receipt-De9irTxt.js","assets/sales-orders-view-JINCMquz.js","assets/shipments-view-DN4dNvEh.js","assets/calendar-B5G_huQy.js","assets/circle-check-big-CI1QyWAF.js","assets/suppliers-view-BEFiDQFu.js","assets/phone-Bez0KAD0.js","assets/customers-view-HWvYlZWU.js","assets/user-management-view-BHRmqou0.js","assets/crown-TLBZKT6t.js","assets/admin-profile-view-D7EM6iZx.js","assets/cash-bank-view-CWAjgp_b.js","assets/credit-card-BoXjwdEp.js","assets/payments-view-K4Lz-ZN8.js"])))=>i.map(i=>d[i]);
function a2(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var dW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ny={exports:{}},bu={},ry={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function l2(){if(db)return st;db=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,C={};function A(F,G,oe){this.props=F,this.context=G,this.refs=C,this.updater=oe||I}A.prototype.isReactComponent={},A.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=A.prototype;function U(F,G,oe){this.props=F,this.context=G,this.refs=C,this.updater=oe||I}var z=U.prototype=new M;z.constructor=U,P(z,A.prototype),z.isPureReactComponent=!0;var q=Array.isArray,W=Object.prototype.hasOwnProperty,J={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(F,G,oe){var ie,fe={},Ie=null,we=null;if(G!=null)for(ie in G.ref!==void 0&&(we=G.ref),G.key!==void 0&&(Ie=""+G.key),G)W.call(G,ie)&&!k.hasOwnProperty(ie)&&(fe[ie]=G[ie]);var xe=arguments.length-2;if(xe===1)fe.children=oe;else if(1<xe){for(var Ge=Array(xe),Qe=0;Qe<xe;Qe++)Ge[Qe]=arguments[Qe+2];fe.children=Ge}if(F&&F.defaultProps)for(ie in xe=F.defaultProps,xe)fe[ie]===void 0&&(fe[ie]=xe[ie]);return{$$typeof:n,type:F,key:Ie,ref:we,props:fe,_owner:J.current}}function R(F,G){return{$$typeof:n,type:F.type,key:G,ref:F.ref,props:F.props,_owner:F._owner}}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function V(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(oe){return G[oe]})}var L=/\/+/g;function N(F,G){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):G.toString(36)}function de(F,G,oe,ie,fe){var Ie=typeof F;(Ie==="undefined"||Ie==="boolean")&&(F=null);var we=!1;if(F===null)we=!0;else switch(Ie){case"string":case"number":we=!0;break;case"object":switch(F.$$typeof){case n:case e:we=!0}}if(we)return we=F,fe=fe(we),F=ie===""?"."+N(we,0):ie,q(fe)?(oe="",F!=null&&(oe=F.replace(L,"$&/")+"/"),de(fe,G,oe,"",function(Qe){return Qe})):fe!=null&&(O(fe)&&(fe=R(fe,oe+(!fe.key||we&&we.key===fe.key?"":(""+fe.key).replace(L,"$&/")+"/")+F)),G.push(fe)),1;if(we=0,ie=ie===""?".":ie+":",q(F))for(var xe=0;xe<F.length;xe++){Ie=F[xe];var Ge=ie+N(Ie,xe);we+=de(Ie,G,oe,Ge,fe)}else if(Ge=E(F),typeof Ge=="function")for(F=Ge.call(F),xe=0;!(Ie=F.next()).done;)Ie=Ie.value,Ge=ie+N(Ie,xe++),we+=de(Ie,G,oe,Ge,fe);else if(Ie==="object")throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return we}function Ve(F,G,oe){if(F==null)return F;var ie=[],fe=0;return de(F,ie,"","",function(Ie){return G.call(oe,Ie,fe++)}),ie}function pe(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(oe){(F._status===0||F._status===-1)&&(F._status=1,F._result=oe)},function(oe){(F._status===0||F._status===-1)&&(F._status=2,F._result=oe)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var me={current:null},H={transition:null},re={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:H,ReactCurrentOwner:J};function Y(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:Ve,forEach:function(F,G,oe){Ve(F,function(){G.apply(this,arguments)},oe)},count:function(F){var G=0;return Ve(F,function(){G++}),G},toArray:function(F){return Ve(F,function(G){return G})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},st.Component=A,st.Fragment=t,st.Profiler=s,st.PureComponent=U,st.StrictMode=r,st.Suspense=d,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,st.act=Y,st.cloneElement=function(F,G,oe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ie=P({},F.props),fe=F.key,Ie=F.ref,we=F._owner;if(G!=null){if(G.ref!==void 0&&(Ie=G.ref,we=J.current),G.key!==void 0&&(fe=""+G.key),F.type&&F.type.defaultProps)var xe=F.type.defaultProps;for(Ge in G)W.call(G,Ge)&&!k.hasOwnProperty(Ge)&&(ie[Ge]=G[Ge]===void 0&&xe!==void 0?xe[Ge]:G[Ge])}var Ge=arguments.length-2;if(Ge===1)ie.children=oe;else if(1<Ge){xe=Array(Ge);for(var Qe=0;Qe<Ge;Qe++)xe[Qe]=arguments[Qe+2];ie.children=xe}return{$$typeof:n,type:F.type,key:fe,ref:Ie,props:ie,_owner:we}},st.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:i,_context:F},F.Consumer=F},st.createElement=S,st.createFactory=function(F){var G=S.bind(null,F);return G.type=F,G},st.createRef=function(){return{current:null}},st.forwardRef=function(F){return{$$typeof:u,render:F}},st.isValidElement=O,st.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:pe}},st.memo=function(F,G){return{$$typeof:p,type:F,compare:G===void 0?null:G}},st.startTransition=function(F){var G=H.transition;H.transition={};try{F()}finally{H.transition=G}},st.unstable_act=Y,st.useCallback=function(F,G){return me.current.useCallback(F,G)},st.useContext=function(F){return me.current.useContext(F)},st.useDebugValue=function(){},st.useDeferredValue=function(F){return me.current.useDeferredValue(F)},st.useEffect=function(F,G){return me.current.useEffect(F,G)},st.useId=function(){return me.current.useId()},st.useImperativeHandle=function(F,G,oe){return me.current.useImperativeHandle(F,G,oe)},st.useInsertionEffect=function(F,G){return me.current.useInsertionEffect(F,G)},st.useLayoutEffect=function(F,G){return me.current.useLayoutEffect(F,G)},st.useMemo=function(F,G){return me.current.useMemo(F,G)},st.useReducer=function(F,G,oe){return me.current.useReducer(F,G,oe)},st.useRef=function(F){return me.current.useRef(F)},st.useState=function(F){return me.current.useState(F)},st.useSyncExternalStore=function(F,G,oe){return me.current.useSyncExternalStore(F,G,oe)},st.useTransition=function(){return me.current.useTransition()},st.version="18.3.1",st}var hb;function Zv(){return hb||(hb=1,ry.exports=l2()),ry.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function c2(){if(fb)return bu;fb=1;var n=Zv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var g,m={},E=null,I=null;p!==void 0&&(E=""+p),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(I=d.ref);for(g in d)r.call(d,g)&&!i.hasOwnProperty(g)&&(m[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)m[g]===void 0&&(m[g]=d[g]);return{$$typeof:e,type:u,key:E,ref:I,props:m,_owner:s.current}}return bu.Fragment=t,bu.jsx=l,bu.jsxs=l,bu}var pb;function u2(){return pb||(pb=1,ny.exports=c2()),ny.exports}var v=u2(),Xh={},sy={exports:{}},rr={},oy={exports:{}},iy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function d2(){return mb||(mb=1,(function(n){function e(H,re){var Y=H.length;H.push(re);e:for(;0<Y;){var F=Y-1>>>1,G=H[F];if(0<s(G,re))H[F]=re,H[Y]=G,Y=F;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var re=H[0],Y=H.pop();if(Y!==re){H[0]=Y;e:for(var F=0,G=H.length,oe=G>>>1;F<oe;){var ie=2*(F+1)-1,fe=H[ie],Ie=ie+1,we=H[Ie];if(0>s(fe,Y))Ie<G&&0>s(we,fe)?(H[F]=we,H[Ie]=Y,F=Ie):(H[F]=fe,H[ie]=Y,F=ie);else if(Ie<G&&0>s(we,Y))H[F]=we,H[Ie]=Y,F=Ie;else break e}}return re}function s(H,re){var Y=H.sortIndex-re.sortIndex;return Y!==0?Y:H.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,m=null,E=3,I=!1,P=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(H){for(var re=t(p);re!==null;){if(re.callback===null)r(p);else if(re.startTime<=H)r(p),re.sortIndex=re.expirationTime,e(d,re);else break;re=t(p)}}function q(H){if(C=!1,z(H),!P)if(t(d)!==null)P=!0,pe(W);else{var re=t(p);re!==null&&me(q,re.startTime-H)}}function W(H,re){P=!1,C&&(C=!1,M(S),S=-1),I=!0;var Y=E;try{for(z(re),m=t(d);m!==null&&(!(m.expirationTime>re)||H&&!V());){var F=m.callback;if(typeof F=="function"){m.callback=null,E=m.priorityLevel;var G=F(m.expirationTime<=re);re=n.unstable_now(),typeof G=="function"?m.callback=G:m===t(d)&&r(d),z(re)}else r(d);m=t(d)}if(m!==null)var oe=!0;else{var ie=t(p);ie!==null&&me(q,ie.startTime-re),oe=!1}return oe}finally{m=null,E=Y,I=!1}}var J=!1,k=null,S=-1,R=5,O=-1;function V(){return!(n.unstable_now()-O<R)}function L(){if(k!==null){var H=n.unstable_now();O=H;var re=!0;try{re=k(!0,H)}finally{re?N():(J=!1,k=null)}}else J=!1}var N;if(typeof U=="function")N=function(){U(L)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Ve=de.port2;de.port1.onmessage=L,N=function(){Ve.postMessage(null)}}else N=function(){A(L,0)};function pe(H){k=H,J||(J=!0,N())}function me(H,re){S=A(function(){H(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){P||I||(P=!0,pe(W))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(H){switch(E){case 1:case 2:case 3:var re=3;break;default:re=E}var Y=E;E=re;try{return H()}finally{E=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=E;E=H;try{return re()}finally{E=Y}},n.unstable_scheduleCallback=function(H,re,Y){var F=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?F+Y:F):Y=F,H){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Y+G,H={id:g++,callback:re,priorityLevel:H,startTime:Y,expirationTime:G,sortIndex:-1},Y>F?(H.sortIndex=Y,e(p,H),t(d)===null&&H===t(p)&&(C?(M(S),S=-1):C=!0,me(q,Y-F))):(H.sortIndex=G,e(d,H),P||I||(P=!0,pe(W))),H},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(H){var re=E;return function(){var Y=E;E=re;try{return H.apply(this,arguments)}finally{E=Y}}}})(iy)),iy}var gb;function h2(){return gb||(gb=1,oy.exports=d2()),oy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function f2(){if(yb)return rr;yb=1;var n=Zv(),e=h2();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function E(o){return d.call(m,o)?!0:d.call(g,o)?!1:p.test(o)?m[o]=!0:(g[o]=!0,!1)}function I(o,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function P(o,a,c,f){if(a===null||typeof a>"u"||I(o,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(o,a,c,f,y,_,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=_,this.removeEmptyString=T}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){A[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];A[a]=new C(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){A[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){A[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){A[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){A[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){A[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){A[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){A[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function U(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(M,U);A[a]=new C(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(M,U);A[a]=new C(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(M,U);A[a]=new C(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){A[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),A.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){A[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function z(o,a,c,f){var y=A.hasOwnProperty(a)?A[a]:null;(y!==null?y.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(P(a,c,y,f)&&(c=null),f||y===null?E(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,f=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,f?o.setAttributeNS(f,a,c):o.setAttribute(a,c))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),J=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),H=Symbol.iterator;function re(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var Y=Object.assign,F;function G(o){if(F===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+o}var oe=!1;function ie(o,a){if(!o||oe)return"";oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var f=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){f=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){f=ee}o()}}catch(ee){if(ee&&f&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),_=f.stack.split(`
`),T=y.length-1,j=_.length-1;1<=T&&0<=j&&y[T]!==_[j];)j--;for(;1<=T&&0<=j;T--,j--)if(y[T]!==_[j]){if(T!==1||j!==1)do if(T--,j--,0>j||y[T]!==_[j]){var $=`
`+y[T].replace(" at new "," at ");return o.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",o.displayName)),$}while(1<=T&&0<=j);break}}}finally{oe=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?G(o):""}function fe(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function Ie(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case J:return"Portal";case R:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case de:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case V:return(o.displayName||"Context")+".Consumer";case O:return(o._context.displayName||"Context")+".Provider";case L:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ve:return a=o.displayName||null,a!==null?a:Ie(o.type)||"Memo";case pe:a=o._payload,o=o._init;try{return Ie(o(a))}catch{}}return null}function we(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(a);case 8:return a===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function xe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ge(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qe(o){var a=Ge(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),f=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,_=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function ye(o){o._valueTracker||(o._valueTracker=Qe(o))}function It(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return o&&(f=Ge(o)?o.checked?"true":"false":o.value),o=f,o!==c?(a.setValue(o),!0):!1}function pn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ds(o,a){var c=a.checked;return Y({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Qa(o,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=xe(a.value!=null?a.value:c),o._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Zs(o,a){a=a.checked,a!=null&&z(o,"checked",a,!1)}function ar(o,a){Zs(o,a);var c=xe(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?_t(o,a.type,c):a.hasOwnProperty("defaultValue")&&_t(o,a.type,xe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function ko(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function _t(o,a,c){(a!=="number"||pn(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var jt=Array.isArray;function lr(o,a,c,f){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&f&&(o[c].defaultSelected=!0)}else{for(c=""+xe(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,f&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function an(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Sr(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(jt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:xe(c)}}function Ya(o,a){var c=xe(a.value),f=xe(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),f!=null&&(o.defaultValue=""+f)}function hs(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function fs(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function No(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?fs(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Br,Do=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,f,y)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Br.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Qn(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hr=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(o){Hr.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),qr[a]=qr[o]})});function ps(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||qr.hasOwnProperty(o)&&qr[o]?(""+a).trim():a+"px"}function Oo(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,y=ps(c,a[c],f);c==="float"&&(c="cssFloat"),f?o.setProperty(c,y):o[c]=y}}var Mo=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yn(o,a){if(a){if(Mo[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Vo(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tr=null;function $n(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Wr=null,Gr=null,Rt=null;function Lo(o){if(o=au(o)){if(typeof Wr!="function")throw Error(t(280));var a=o.stateNode;a&&(a=fh(a),Wr(o.stateNode,o.type,a))}}function qe(o){Gr?Rt?Rt.push(o):Rt=[o]:Gr=o}function St(){if(Gr){var o=Gr,a=Rt;if(Rt=Gr=null,Lo(o),a)for(o=0;o<a.length;o++)Lo(a[o])}}function Gt(o,a){return o(a)}function mn(){}var Bn=!1;function Bt(o,a,c){if(Bn)return o(a,c);Bn=!0;try{return Gt(o,a,c)}finally{Bn=!1,(Gr!==null||Rt!==null)&&(mn(),St())}}function Xt(o,a){var c=o.stateNode;if(c===null)return null;var f=fh(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var cr=!1;if(u)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{cr=!1}function Rn(o,a,c,f,y,_,T,j,$){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(le){this.onError(le)}}var Cr=!1,gn=null,ji=!1,Ar=null,Hd={onError:function(o){Cr=!0,gn=o}};function Wd(o,a,c,f,y,_,T,j,$){Cr=!1,gn=null,Rn.apply(Hd,arguments)}function Mc(o,a,c,f,y,_,T,j,$){if(Wd.apply(this,arguments),Cr){if(Cr){var ee=gn;Cr=!1,gn=null}else throw Error(t(198));ji||(ji=!0,Ar=ee)}}function Kr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function Vc(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Gd(o){if(Kr(o)!==o)throw Error(t(188))}function Kd(o){var a=o.alternate;if(!a){if(a=Kr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,f=a;;){var y=c.return;if(y===null)break;var _=y.alternate;if(_===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===c)return Gd(y),o;if(_===f)return Gd(y),a;_=_.sibling}throw Error(t(188))}if(c.return!==f.return)c=y,f=_;else{for(var T=!1,j=y.child;j;){if(j===c){T=!0,c=y,f=_;break}if(j===f){T=!0,f=y,c=_;break}j=j.sibling}if(!T){for(j=_.child;j;){if(j===c){T=!0,c=_,f=y;break}if(j===f){T=!0,f=_,c=y;break}j=j.sibling}if(!T)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function Zd(o){return o=Kd(o),o!==null?Fi(o):null}function Fi(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Fi(o);if(a!==null)return a;o=o.sibling}return null}var Lc=e.unstable_scheduleCallback,Xa=e.unstable_cancelCallback,Ui=e.unstable_shouldYield,Qs=e.unstable_requestPaint,Pt=e.unstable_now,Dm=e.unstable_getCurrentPriorityLevel,Ja=e.unstable_ImmediatePriority,jc=e.unstable_UserBlockingPriority,zi=e.unstable_NormalPriority,Fc=e.unstable_LowPriority,el=e.unstable_IdlePriority,$i=null,ur=null;function Qd(o){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot($i,o,void 0,(o.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:Bi,ms=Math.log,Rr=Math.LN2;function Bi(o){return o>>>=0,o===0?32:31-(ms(o)/Rr|0)|0}var gs=64,jo=4194304;function yt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ys(o,a){var c=o.pendingLanes;if(c===0)return 0;var f=0,y=o.suspendedLanes,_=o.pingedLanes,T=c&268435455;if(T!==0){var j=T&~y;j!==0?f=yt(j):(_&=T,_!==0&&(f=yt(_)))}else T=c&~y,T!==0?f=yt(T):_!==0&&(f=yt(_));if(f===0)return 0;if(a!==0&&a!==f&&(a&y)===0&&(y=f&-f,_=a&-a,y>=_||y===16&&(_&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=f;0<a;)c=31-dr(a),y=1<<c,f|=o[c],a&=~y;return f}function qi(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hi(o,a){for(var c=o.suspendedLanes,f=o.pingedLanes,y=o.expirationTimes,_=o.pendingLanes;0<_;){var T=31-dr(_),j=1<<T,$=y[T];$===-1?((j&c)===0||(j&f)!==0)&&(y[T]=qi(j,a)):$<=a&&(o.expiredLanes|=j),_&=~j}}function Uc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function zc(){var o=gs;return gs<<=1,(gs&4194240)===0&&(gs=64),o}function $c(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Wi(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-dr(a),o[a]=c}function Om(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-dr(c),_=1<<y;a[y]=0,f[y]=-1,o[y]=-1,c&=~_}}function Bc(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var f=31-dr(c),y=1<<f;y&a|o[f]&a&&(o[f]|=a),c&=~y}}var ct=0;function ys(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var qc,tl,Hc,Wc,Gc,vs=!1,nl=[],_s=null,ws=null,bn=null,Gi=new Map,Xs=new Map,hr=[],Yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fo(o,a){switch(o){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Gi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(a.pointerId)}}function Zr(o,a,c,f,y,_){return o===null||o.nativeEvent!==_?(o={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:_,targetContainers:[y]},a!==null&&(a=au(a),a!==null&&tl(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function Xd(o,a,c,f,y){switch(a){case"focusin":return _s=Zr(_s,o,a,c,f,y),!0;case"dragenter":return ws=Zr(ws,o,a,c,f,y),!0;case"mouseover":return bn=Zr(bn,o,a,c,f,y),!0;case"pointerover":var _=y.pointerId;return Gi.set(_,Zr(Gi.get(_)||null,o,a,c,f,y)),!0;case"gotpointercapture":return _=y.pointerId,Xs.set(_,Zr(Xs.get(_)||null,o,a,c,f,y)),!0}return!1}function rl(o){var a=Yi(o.target);if(a!==null){var c=Kr(a);if(c!==null){if(a=c.tag,a===13){if(a=Vc(c),a!==null){o.blockedOn=a,Gc(o.priority,function(){Hc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Tt(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=sl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var f=new c.constructor(c.type,c);Tr=f,c.target.dispatchEvent(f),Tr=null}else return a=au(c),a!==null&&tl(a),o.blockedOn=c,!1;a.shift()}return!0}function Jd(o,a,c){Tt(o)&&c.delete(a)}function Mm(){vs=!1,_s!==null&&Tt(_s)&&(_s=null),ws!==null&&Tt(ws)&&(ws=null),bn!==null&&Tt(bn)&&(bn=null),Gi.forEach(Jd),Xs.forEach(Jd)}function Uo(o,a){o.blockedOn===a&&(o.blockedOn=null,vs||(vs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mm)))}function zo(o){function a(y){return Uo(y,o)}if(0<nl.length){Uo(nl[0],o);for(var c=1;c<nl.length;c++){var f=nl[c];f.blockedOn===o&&(f.blockedOn=null)}}for(_s!==null&&Uo(_s,o),ws!==null&&Uo(ws,o),bn!==null&&Uo(bn,o),Gi.forEach(a),Xs.forEach(a),c=0;c<hr.length;c++)f=hr[c],f.blockedOn===o&&(f.blockedOn=null);for(;0<hr.length&&(c=hr[0],c.blockedOn===null);)rl(c),c.blockedOn===null&&hr.shift()}var Js=q.ReactCurrentBatchConfig,eo=!0;function Es(o,a,c,f){var y=ct,_=Js.transition;Js.transition=null;try{ct=1,Kc(o,a,c,f)}finally{ct=y,Js.transition=_}}function eh(o,a,c,f){var y=ct,_=Js.transition;Js.transition=null;try{ct=4,Kc(o,a,c,f)}finally{ct=y,Js.transition=_}}function Kc(o,a,c,f){if(eo){var y=sl(o,a,c,f);if(y===null)Wm(o,a,f,bs,c),Fo(o,f);else if(Xd(y,o,a,c,f))f.stopPropagation();else if(Fo(o,f),a&4&&-1<Yd.indexOf(o)){for(;y!==null;){var _=au(y);if(_!==null&&qc(_),_=sl(o,a,c,f),_===null&&Wm(o,a,f,bs,c),_===y)break;y=_}y!==null&&f.stopPropagation()}else Wm(o,a,f,null,c)}}var bs=null;function sl(o,a,c,f){if(bs=null,o=$n(f),o=Yi(o),o!==null)if(a=Kr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=Vc(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return bs=o,null}function ol(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dm()){case Ja:return 1;case jc:return 4;case zi:case Fc:return 16;case el:return 536870912;default:return 16}default:return 16}}var fr=null,il=null,to=null;function th(){if(to)return to;var o,a=il,c=a.length,f,y="value"in fr?fr.value:fr.textContent,_=y.length;for(o=0;o<c&&a[o]===y[o];o++);var T=c-o;for(f=1;f<=T&&a[c-f]===y[_-f];f++);return to=y.slice(o,1<f?1-f:void 0)}function Ki(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function xs(){return!0}function Zc(){return!1}function Pn(o){function a(c,f,y,_,T){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var j in o)o.hasOwnProperty(j)&&(c=o[j],this[j]=c?c(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?xs:Zc,this.isPropagationStopped=Zc,this}return Y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),a}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=Pn(Is),$o=Y({},Is,{view:0,detail:0}),al=Pn($o),ll,cl,pr,Qi=Y({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ye,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pr&&(pr&&o.type==="mousemove"?(ll=o.screenX-pr.screenX,cl=o.screenY-pr.screenY):cl=ll=0,pr=o),ll)},movementY:function(o){return"movementY"in o?o.movementY:cl}}),Qc=Pn(Qi),nh=Y({},Qi,{dataTransfer:0}),rh=Pn(nh),ul=Y({},$o,{relatedTarget:0}),xn=Pn(ul),sh=Y({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=Pn(sh),Bo=Y({},Is,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),h=Pn(Bo),w=Y({},Is,{data:0}),x=Pn(w),D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _e(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=te[o])?!!a[o]:!1}function Ye(){return _e}var Kt=Y({},$o,{key:function(o){if(o.key){var a=D[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Ki(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Q[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ye,charCode:function(o){return o.type==="keypress"?Ki(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ki(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),wt=Pn(Kt),en=Y({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mr=Pn(en),no=Y({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ye}),Ss=Pn(no),Ts=Y({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),dl=Pn(Ts),Yc=Y({},Qi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),tN=Pn(Yc),nN=[9,13,27,32],Vm=u&&"CompositionEvent"in window,Xc=null;u&&"documentMode"in document&&(Xc=document.documentMode);var rN=u&&"TextEvent"in window&&!Xc,r0=u&&(!Vm||Xc&&8<Xc&&11>=Xc),s0=" ",o0=!1;function i0(o,a){switch(o){case"keyup":return nN.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var hl=!1;function sN(o,a){switch(o){case"compositionend":return a0(a);case"keypress":return a.which!==32?null:(o0=!0,s0);case"textInput":return o=a.data,o===s0&&o0?null:o;default:return null}}function oN(o,a){if(hl)return o==="compositionend"||!Vm&&i0(o,a)?(o=th(),to=il=fr=null,hl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return r0&&a.locale!=="ko"?null:a.data;default:return null}}var iN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l0(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!iN[o.type]:a==="textarea"}function c0(o,a,c,f){qe(f),a=uh(a,"onChange"),0<a.length&&(c=new Zi("onChange","change",null,c,f),o.push({event:c,listeners:a}))}var Jc=null,eu=null;function aN(o){C0(o,0)}function ih(o){var a=yl(o);if(It(a))return o}function lN(o,a){if(o==="change")return a}var u0=!1;if(u){var Lm;if(u){var jm="oninput"in document;if(!jm){var d0=document.createElement("div");d0.setAttribute("oninput","return;"),jm=typeof d0.oninput=="function"}Lm=jm}else Lm=!1;u0=Lm&&(!document.documentMode||9<document.documentMode)}function h0(){Jc&&(Jc.detachEvent("onpropertychange",f0),eu=Jc=null)}function f0(o){if(o.propertyName==="value"&&ih(eu)){var a=[];c0(a,eu,o,$n(o)),Bt(aN,a)}}function cN(o,a,c){o==="focusin"?(h0(),Jc=a,eu=c,Jc.attachEvent("onpropertychange",f0)):o==="focusout"&&h0()}function uN(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ih(eu)}function dN(o,a){if(o==="click")return ih(a)}function hN(o,a){if(o==="input"||o==="change")return ih(a)}function fN(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Qr=typeof Object.is=="function"?Object.is:fN;function tu(o,a){if(Qr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!d.call(a,y)||!Qr(o[y],a[y]))return!1}return!0}function p0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function m0(o,a){var c=p0(o);o=0;for(var f;c;){if(c.nodeType===3){if(f=o+c.textContent.length,o<=a&&f>=a)return{node:c,offset:a-o};o=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=p0(c)}}function g0(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?g0(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function y0(){for(var o=window,a=pn();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=pn(o.document)}return a}function Fm(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function pN(o){var a=y0(),c=o.focusedElem,f=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&g0(c.ownerDocument.documentElement,c)){if(f!==null&&Fm(c)){if(a=f.start,o=f.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,_=Math.min(f.start,y);f=f.end===void 0?_:Math.min(f.end,y),!o.extend&&_>f&&(y=f,f=_,_=y),y=m0(c,_);var T=m0(c,f);y&&T&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==T.node||o.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),_>f?(o.addRange(a),o.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var mN=u&&"documentMode"in document&&11>=document.documentMode,fl=null,Um=null,nu=null,zm=!1;function v0(o,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;zm||fl==null||fl!==pn(f)||(f=fl,"selectionStart"in f&&Fm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),nu&&tu(nu,f)||(nu=f,f=uh(Um,"onSelect"),0<f.length&&(a=new Zi("onSelect","select",null,a,c),o.push({event:a,listeners:f}),a.target=fl)))}function ah(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var pl={animationend:ah("Animation","AnimationEnd"),animationiteration:ah("Animation","AnimationIteration"),animationstart:ah("Animation","AnimationStart"),transitionend:ah("Transition","TransitionEnd")},$m={},_0={};u&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function lh(o){if($m[o])return $m[o];if(!pl[o])return o;var a=pl[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in _0)return $m[o]=a[c];return o}var w0=lh("animationend"),E0=lh("animationiteration"),b0=lh("animationstart"),x0=lh("transitionend"),I0=new Map,S0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(o,a){I0.set(o,a),i(a,[o])}for(var Bm=0;Bm<S0.length;Bm++){var qm=S0[Bm],gN=qm.toLowerCase(),yN=qm[0].toUpperCase()+qm.slice(1);qo(gN,"on"+yN)}qo(w0,"onAnimationEnd"),qo(E0,"onAnimationIteration"),qo(b0,"onAnimationStart"),qo("dblclick","onDoubleClick"),qo("focusin","onFocus"),qo("focusout","onBlur"),qo(x0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function T0(o,a,c){var f=o.type||"unknown-event";o.currentTarget=c,Mc(f,a,void 0,o),o.currentTarget=null}function C0(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var f=o[c],y=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var T=f.length-1;0<=T;T--){var j=f[T],$=j.instance,ee=j.currentTarget;if(j=j.listener,$!==_&&y.isPropagationStopped())break e;T0(y,j,ee),_=$}else for(T=0;T<f.length;T++){if(j=f[T],$=j.instance,ee=j.currentTarget,j=j.listener,$!==_&&y.isPropagationStopped())break e;T0(y,j,ee),_=$}}}if(ji)throw o=Ar,ji=!1,Ar=null,o}function kt(o,a){var c=a[Xm];c===void 0&&(c=a[Xm]=new Set);var f=o+"__bubble";c.has(f)||(A0(a,o,2,!1),c.add(f))}function Hm(o,a,c){var f=0;a&&(f|=4),A0(c,o,f,a)}var ch="_reactListening"+Math.random().toString(36).slice(2);function su(o){if(!o[ch]){o[ch]=!0,r.forEach(function(c){c!=="selectionchange"&&(vN.has(c)||Hm(c,!1,o),Hm(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[ch]||(a[ch]=!0,Hm("selectionchange",!1,a))}}function A0(o,a,c,f){switch(ol(a)){case 1:var y=Es;break;case 4:y=eh;break;default:y=Kc}c=y.bind(null,a,c,o),y=void 0,!cr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function Wm(o,a,c,f,y){var _=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var j=f.stateNode.containerInfo;if(j===y||j.nodeType===8&&j.parentNode===y)break;if(T===4)for(T=f.return;T!==null;){var $=T.tag;if(($===3||$===4)&&($=T.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;T=T.return}for(;j!==null;){if(T=Yi(j),T===null)return;if($=T.tag,$===5||$===6){f=_=T;continue e}j=j.parentNode}}f=f.return}Bt(function(){var ee=_,le=$n(c),ue=[];e:{var ae=I0.get(o);if(ae!==void 0){var Se=Zi,Ae=o;switch(o){case"keypress":if(Ki(c)===0)break e;case"keydown":case"keyup":Se=wt;break;case"focusin":Ae="focus",Se=xn;break;case"focusout":Ae="blur",Se=xn;break;case"beforeblur":case"afterblur":Se=xn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=Ss;break;case w0:case E0:case b0:Se=oh;break;case x0:Se=dl;break;case"scroll":Se=al;break;case"wheel":Se=tN;break;case"copy":case"cut":case"paste":Se=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=mr}var Oe=(a&4)!==0,Zt=!Oe&&o==="scroll",Z=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var B=ee,X;B!==null;){X=B;var ge=X.stateNode;if(X.tag===5&&ge!==null&&(X=ge,Z!==null&&(ge=Xt(B,Z),ge!=null&&Oe.push(ou(B,ge,X)))),Zt)break;B=B.return}0<Oe.length&&(ae=new Se(ae,Ae,null,c,le),ue.push({event:ae,listeners:Oe}))}}if((a&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",Se=o==="mouseout"||o==="pointerout",ae&&c!==Tr&&(Ae=c.relatedTarget||c.fromElement)&&(Yi(Ae)||Ae[ro]))break e;if((Se||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,Se?(Ae=c.relatedTarget||c.toElement,Se=ee,Ae=Ae?Yi(Ae):null,Ae!==null&&(Zt=Kr(Ae),Ae!==Zt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Se=null,Ae=ee),Se!==Ae)){if(Oe=Qc,ge="onMouseLeave",Z="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=mr,ge="onPointerLeave",Z="onPointerEnter",B="pointer"),Zt=Se==null?ae:yl(Se),X=Ae==null?ae:yl(Ae),ae=new Oe(ge,B+"leave",Se,c,le),ae.target=Zt,ae.relatedTarget=X,ge=null,Yi(le)===ee&&(Oe=new Oe(Z,B+"enter",Ae,c,le),Oe.target=X,Oe.relatedTarget=Zt,ge=Oe),Zt=ge,Se&&Ae)t:{for(Oe=Se,Z=Ae,B=0,X=Oe;X;X=ml(X))B++;for(X=0,ge=Z;ge;ge=ml(ge))X++;for(;0<B-X;)Oe=ml(Oe),B--;for(;0<X-B;)Z=ml(Z),X--;for(;B--;){if(Oe===Z||Z!==null&&Oe===Z.alternate)break t;Oe=ml(Oe),Z=ml(Z)}Oe=null}else Oe=null;Se!==null&&R0(ue,ae,Se,Oe,!1),Ae!==null&&Zt!==null&&R0(ue,Zt,Ae,Oe,!0)}}e:{if(ae=ee?yl(ee):window,Se=ae.nodeName&&ae.nodeName.toLowerCase(),Se==="select"||Se==="input"&&ae.type==="file")var Me=lN;else if(l0(ae))if(u0)Me=hN;else{Me=uN;var $e=cN}else(Se=ae.nodeName)&&Se.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Me=dN);if(Me&&(Me=Me(o,ee))){c0(ue,Me,c,le);break e}$e&&$e(o,ae,ee),o==="focusout"&&($e=ae._wrapperState)&&$e.controlled&&ae.type==="number"&&_t(ae,"number",ae.value)}switch($e=ee?yl(ee):window,o){case"focusin":(l0($e)||$e.contentEditable==="true")&&(fl=$e,Um=ee,nu=null);break;case"focusout":nu=Um=fl=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,v0(ue,c,le);break;case"selectionchange":if(mN)break;case"keydown":case"keyup":v0(ue,c,le)}var Be;if(Vm)e:{switch(o){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else hl?i0(o,c)&&(He="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(r0&&c.locale!=="ko"&&(hl||He!=="onCompositionStart"?He==="onCompositionEnd"&&hl&&(Be=th()):(fr=le,il="value"in fr?fr.value:fr.textContent,hl=!0)),$e=uh(ee,He),0<$e.length&&(He=new x(He,o,null,c,le),ue.push({event:He,listeners:$e}),Be?He.data=Be:(Be=a0(c),Be!==null&&(He.data=Be)))),(Be=rN?sN(o,c):oN(o,c))&&(ee=uh(ee,"onBeforeInput"),0<ee.length&&(le=new x("onBeforeInput","beforeinput",null,c,le),ue.push({event:le,listeners:ee}),le.data=Be))}C0(ue,a)})}function ou(o,a,c){return{instance:o,listener:a,currentTarget:c}}function uh(o,a){for(var c=a+"Capture",f=[];o!==null;){var y=o,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=Xt(o,c),_!=null&&f.unshift(ou(o,_,y)),_=Xt(o,a),_!=null&&f.push(ou(o,_,y))),o=o.return}return f}function ml(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function R0(o,a,c,f,y){for(var _=a._reactName,T=[];c!==null&&c!==f;){var j=c,$=j.alternate,ee=j.stateNode;if($!==null&&$===f)break;j.tag===5&&ee!==null&&(j=ee,y?($=Xt(c,_),$!=null&&T.unshift(ou(c,$,j))):y||($=Xt(c,_),$!=null&&T.push(ou(c,$,j)))),c=c.return}T.length!==0&&o.push({event:a,listeners:T})}var _N=/\r\n?/g,wN=/\u0000|\uFFFD/g;function P0(o){return(typeof o=="string"?o:""+o).replace(_N,`
`).replace(wN,"")}function dh(o,a,c){if(a=P0(a),P0(o)!==a&&c)throw Error(t(425))}function hh(){}var Gm=null,Km=null;function Zm(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Qm=typeof setTimeout=="function"?setTimeout:void 0,EN=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,bN=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(o){return k0.resolve(null).then(o).catch(xN)}:Qm;function xN(o){setTimeout(function(){throw o})}function Ym(o,a){var c=a,f=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(f===0){o.removeChild(y),zo(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=y}while(c);zo(a)}function Ho(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function N0(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var gl=Math.random().toString(36).slice(2),Cs="__reactFiber$"+gl,iu="__reactProps$"+gl,ro="__reactContainer$"+gl,Xm="__reactEvents$"+gl,IN="__reactListeners$"+gl,SN="__reactHandles$"+gl;function Yi(o){var a=o[Cs];if(a)return a;for(var c=o.parentNode;c;){if(a=c[ro]||c[Cs]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=N0(o);o!==null;){if(c=o[Cs])return c;o=N0(o)}return a}o=c,c=o.parentNode}return null}function au(o){return o=o[Cs]||o[ro],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function yl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function fh(o){return o[iu]||null}var Jm=[],vl=-1;function Wo(o){return{current:o}}function Nt(o){0>vl||(o.current=Jm[vl],Jm[vl]=null,vl--)}function Ct(o,a){vl++,Jm[vl]=o.current,o.current=a}var Go={},kn=Wo(Go),Xn=Wo(!1),Xi=Go;function _l(o,a){var c=o.type.contextTypes;if(!c)return Go;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in c)y[_]=a[_];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Jn(o){return o=o.childContextTypes,o!=null}function ph(){Nt(Xn),Nt(kn)}function D0(o,a,c){if(kn.current!==Go)throw Error(t(168));Ct(kn,a),Ct(Xn,c)}function O0(o,a,c){var f=o.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var y in f)if(!(y in a))throw Error(t(108,we(o)||"Unknown",y));return Y({},c,f)}function mh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Go,Xi=kn.current,Ct(kn,o),Ct(Xn,Xn.current),!0}function M0(o,a,c){var f=o.stateNode;if(!f)throw Error(t(169));c?(o=O0(o,a,Xi),f.__reactInternalMemoizedMergedChildContext=o,Nt(Xn),Nt(kn),Ct(kn,o)):Nt(Xn),Ct(Xn,c)}var so=null,gh=!1,eg=!1;function V0(o){so===null?so=[o]:so.push(o)}function TN(o){gh=!0,V0(o)}function Ko(){if(!eg&&so!==null){eg=!0;var o=0,a=ct;try{var c=so;for(ct=1;o<c.length;o++){var f=c[o];do f=f(!0);while(f!==null)}so=null,gh=!1}catch(y){throw so!==null&&(so=so.slice(o+1)),Lc(Ja,Ko),y}finally{ct=a,eg=!1}}return null}var wl=[],El=0,yh=null,vh=0,Pr=[],kr=0,Ji=null,oo=1,io="";function ea(o,a){wl[El++]=vh,wl[El++]=yh,yh=o,vh=a}function L0(o,a,c){Pr[kr++]=oo,Pr[kr++]=io,Pr[kr++]=Ji,Ji=o;var f=oo;o=io;var y=32-dr(f)-1;f&=~(1<<y),c+=1;var _=32-dr(a)+y;if(30<_){var T=y-y%5;_=(f&(1<<T)-1).toString(32),f>>=T,y-=T,oo=1<<32-dr(a)+y|c<<y|f,io=_+o}else oo=1<<_|c<<y|f,io=o}function tg(o){o.return!==null&&(ea(o,1),L0(o,1,0))}function ng(o){for(;o===yh;)yh=wl[--El],wl[El]=null,vh=wl[--El],wl[El]=null;for(;o===Ji;)Ji=Pr[--kr],Pr[kr]=null,io=Pr[--kr],Pr[kr]=null,oo=Pr[--kr],Pr[kr]=null}var gr=null,yr=null,Ot=!1,Yr=null;function j0(o,a){var c=Mr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function F0(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,gr=o,yr=Ho(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,gr=o,yr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Ji!==null?{id:oo,overflow:io}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Mr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,gr=o,yr=null,!0):!1;default:return!1}}function rg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function sg(o){if(Ot){var a=yr;if(a){var c=a;if(!F0(o,a)){if(rg(o))throw Error(t(418));a=Ho(c.nextSibling);var f=gr;a&&F0(o,a)?j0(f,c):(o.flags=o.flags&-4097|2,Ot=!1,gr=o)}}else{if(rg(o))throw Error(t(418));o.flags=o.flags&-4097|2,Ot=!1,gr=o}}}function U0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;gr=o}function _h(o){if(o!==gr)return!1;if(!Ot)return U0(o),Ot=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Zm(o.type,o.memoizedProps)),a&&(a=yr)){if(rg(o))throw z0(),Error(t(418));for(;a;)j0(o,a),a=Ho(a.nextSibling)}if(U0(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){yr=Ho(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}yr=null}}else yr=gr?Ho(o.stateNode.nextSibling):null;return!0}function z0(){for(var o=yr;o;)o=Ho(o.nextSibling)}function bl(){yr=gr=null,Ot=!1}function og(o){Yr===null?Yr=[o]:Yr.push(o)}var CN=q.ReactCurrentBatchConfig;function lu(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,o));var y=f,_=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(T){var j=y.refs;T===null?delete j[_]:j[_]=T},a._stringRef=_,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function wh(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function $0(o){var a=o._init;return a(o._payload)}function B0(o){function a(Z,B){if(o){var X=Z.deletions;X===null?(Z.deletions=[B],Z.flags|=16):X.push(B)}}function c(Z,B){if(!o)return null;for(;B!==null;)a(Z,B),B=B.sibling;return null}function f(Z,B){for(Z=new Map;B!==null;)B.key!==null?Z.set(B.key,B):Z.set(B.index,B),B=B.sibling;return Z}function y(Z,B){return Z=ni(Z,B),Z.index=0,Z.sibling=null,Z}function _(Z,B,X){return Z.index=X,o?(X=Z.alternate,X!==null?(X=X.index,X<B?(Z.flags|=2,B):X):(Z.flags|=2,B)):(Z.flags|=1048576,B)}function T(Z){return o&&Z.alternate===null&&(Z.flags|=2),Z}function j(Z,B,X,ge){return B===null||B.tag!==6?(B=Qg(X,Z.mode,ge),B.return=Z,B):(B=y(B,X),B.return=Z,B)}function $(Z,B,X,ge){var Me=X.type;return Me===k?le(Z,B,X.props.children,ge,X.key):B!==null&&(B.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===pe&&$0(Me)===B.type)?(ge=y(B,X.props),ge.ref=lu(Z,B,X),ge.return=Z,ge):(ge=qh(X.type,X.key,X.props,null,Z.mode,ge),ge.ref=lu(Z,B,X),ge.return=Z,ge)}function ee(Z,B,X,ge){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=Yg(X,Z.mode,ge),B.return=Z,B):(B=y(B,X.children||[]),B.return=Z,B)}function le(Z,B,X,ge,Me){return B===null||B.tag!==7?(B=la(X,Z.mode,ge,Me),B.return=Z,B):(B=y(B,X),B.return=Z,B)}function ue(Z,B,X){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Qg(""+B,Z.mode,X),B.return=Z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case W:return X=qh(B.type,B.key,B.props,null,Z.mode,X),X.ref=lu(Z,null,B),X.return=Z,X;case J:return B=Yg(B,Z.mode,X),B.return=Z,B;case pe:var ge=B._init;return ue(Z,ge(B._payload),X)}if(jt(B)||re(B))return B=la(B,Z.mode,X,null),B.return=Z,B;wh(Z,B)}return null}function ae(Z,B,X,ge){var Me=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Me!==null?null:j(Z,B,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case W:return X.key===Me?$(Z,B,X,ge):null;case J:return X.key===Me?ee(Z,B,X,ge):null;case pe:return Me=X._init,ae(Z,B,Me(X._payload),ge)}if(jt(X)||re(X))return Me!==null?null:le(Z,B,X,ge,null);wh(Z,X)}return null}function Se(Z,B,X,ge,Me){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Z=Z.get(X)||null,j(B,Z,""+ge,Me);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case W:return Z=Z.get(ge.key===null?X:ge.key)||null,$(B,Z,ge,Me);case J:return Z=Z.get(ge.key===null?X:ge.key)||null,ee(B,Z,ge,Me);case pe:var $e=ge._init;return Se(Z,B,X,$e(ge._payload),Me)}if(jt(ge)||re(ge))return Z=Z.get(X)||null,le(B,Z,ge,Me,null);wh(B,ge)}return null}function Ae(Z,B,X,ge){for(var Me=null,$e=null,Be=B,He=B=0,_n=null;Be!==null&&He<X.length;He++){Be.index>He?(_n=Be,Be=null):_n=Be.sibling;var pt=ae(Z,Be,X[He],ge);if(pt===null){Be===null&&(Be=_n);break}o&&Be&&pt.alternate===null&&a(Z,Be),B=_(pt,B,He),$e===null?Me=pt:$e.sibling=pt,$e=pt,Be=_n}if(He===X.length)return c(Z,Be),Ot&&ea(Z,He),Me;if(Be===null){for(;He<X.length;He++)Be=ue(Z,X[He],ge),Be!==null&&(B=_(Be,B,He),$e===null?Me=Be:$e.sibling=Be,$e=Be);return Ot&&ea(Z,He),Me}for(Be=f(Z,Be);He<X.length;He++)_n=Se(Be,Z,He,X[He],ge),_n!==null&&(o&&_n.alternate!==null&&Be.delete(_n.key===null?He:_n.key),B=_(_n,B,He),$e===null?Me=_n:$e.sibling=_n,$e=_n);return o&&Be.forEach(function(ri){return a(Z,ri)}),Ot&&ea(Z,He),Me}function Oe(Z,B,X,ge){var Me=re(X);if(typeof Me!="function")throw Error(t(150));if(X=Me.call(X),X==null)throw Error(t(151));for(var $e=Me=null,Be=B,He=B=0,_n=null,pt=X.next();Be!==null&&!pt.done;He++,pt=X.next()){Be.index>He?(_n=Be,Be=null):_n=Be.sibling;var ri=ae(Z,Be,pt.value,ge);if(ri===null){Be===null&&(Be=_n);break}o&&Be&&ri.alternate===null&&a(Z,Be),B=_(ri,B,He),$e===null?Me=ri:$e.sibling=ri,$e=ri,Be=_n}if(pt.done)return c(Z,Be),Ot&&ea(Z,He),Me;if(Be===null){for(;!pt.done;He++,pt=X.next())pt=ue(Z,pt.value,ge),pt!==null&&(B=_(pt,B,He),$e===null?Me=pt:$e.sibling=pt,$e=pt);return Ot&&ea(Z,He),Me}for(Be=f(Z,Be);!pt.done;He++,pt=X.next())pt=Se(Be,Z,He,pt.value,ge),pt!==null&&(o&&pt.alternate!==null&&Be.delete(pt.key===null?He:pt.key),B=_(pt,B,He),$e===null?Me=pt:$e.sibling=pt,$e=pt);return o&&Be.forEach(function(i2){return a(Z,i2)}),Ot&&ea(Z,He),Me}function Zt(Z,B,X,ge){if(typeof X=="object"&&X!==null&&X.type===k&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case W:e:{for(var Me=X.key,$e=B;$e!==null;){if($e.key===Me){if(Me=X.type,Me===k){if($e.tag===7){c(Z,$e.sibling),B=y($e,X.props.children),B.return=Z,Z=B;break e}}else if($e.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===pe&&$0(Me)===$e.type){c(Z,$e.sibling),B=y($e,X.props),B.ref=lu(Z,$e,X),B.return=Z,Z=B;break e}c(Z,$e);break}else a(Z,$e);$e=$e.sibling}X.type===k?(B=la(X.props.children,Z.mode,ge,X.key),B.return=Z,Z=B):(ge=qh(X.type,X.key,X.props,null,Z.mode,ge),ge.ref=lu(Z,B,X),ge.return=Z,Z=ge)}return T(Z);case J:e:{for($e=X.key;B!==null;){if(B.key===$e)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){c(Z,B.sibling),B=y(B,X.children||[]),B.return=Z,Z=B;break e}else{c(Z,B);break}else a(Z,B);B=B.sibling}B=Yg(X,Z.mode,ge),B.return=Z,Z=B}return T(Z);case pe:return $e=X._init,Zt(Z,B,$e(X._payload),ge)}if(jt(X))return Ae(Z,B,X,ge);if(re(X))return Oe(Z,B,X,ge);wh(Z,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,B!==null&&B.tag===6?(c(Z,B.sibling),B=y(B,X),B.return=Z,Z=B):(c(Z,B),B=Qg(X,Z.mode,ge),B.return=Z,Z=B),T(Z)):c(Z,B)}return Zt}var xl=B0(!0),q0=B0(!1),Eh=Wo(null),bh=null,Il=null,ig=null;function ag(){ig=Il=bh=null}function lg(o){var a=Eh.current;Nt(Eh),o._currentValue=a}function cg(o,a,c){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===c)break;o=o.return}}function Sl(o,a){bh=o,ig=Il=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(er=!0),o.firstContext=null)}function Nr(o){var a=o._currentValue;if(ig!==o)if(o={context:o,memoizedValue:a,next:null},Il===null){if(bh===null)throw Error(t(308));Il=o,bh.dependencies={lanes:0,firstContext:o}}else Il=Il.next=o;return a}var ta=null;function ug(o){ta===null?ta=[o]:ta.push(o)}function H0(o,a,c,f){var y=a.interleaved;return y===null?(c.next=c,ug(a)):(c.next=y.next,y.next=c),a.interleaved=c,ao(o,f)}function ao(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Zo=!1;function dg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W0(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function lo(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Qo(o,a,c){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(ft&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,ao(o,c)}return y=f.interleaved,y===null?(a.next=a,ug(f)):(a.next=y.next,y.next=a),f.interleaved=a,ao(o,c)}function xh(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Bc(o,c)}}function G0(o,a){var c=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?y=_=T:_=_.next=T,c=c.next}while(c!==null);_===null?y=_=a:_=_.next=a}else y=_=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:f.shared,effects:f.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function Ih(o,a,c,f){var y=o.updateQueue;Zo=!1;var _=y.firstBaseUpdate,T=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var $=j,ee=$.next;$.next=null,T===null?_=ee:T.next=ee,T=$;var le=o.alternate;le!==null&&(le=le.updateQueue,j=le.lastBaseUpdate,j!==T&&(j===null?le.firstBaseUpdate=ee:j.next=ee,le.lastBaseUpdate=$))}if(_!==null){var ue=y.baseState;T=0,le=ee=$=null,j=_;do{var ae=j.lane,Se=j.eventTime;if((f&ae)===ae){le!==null&&(le=le.next={eventTime:Se,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Ae=o,Oe=j;switch(ae=a,Se=c,Oe.tag){case 1:if(Ae=Oe.payload,typeof Ae=="function"){ue=Ae.call(Se,ue,ae);break e}ue=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Oe.payload,ae=typeof Ae=="function"?Ae.call(Se,ue,ae):Ae,ae==null)break e;ue=Y({},ue,ae);break e;case 2:Zo=!0}}j.callback!==null&&j.lane!==0&&(o.flags|=64,ae=y.effects,ae===null?y.effects=[j]:ae.push(j))}else Se={eventTime:Se,lane:ae,tag:j.tag,payload:j.payload,callback:j.callback,next:null},le===null?(ee=le=Se,$=ue):le=le.next=Se,T|=ae;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;ae=j,j=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);if(le===null&&($=ue),y.baseState=$,y.firstBaseUpdate=ee,y.lastBaseUpdate=le,a=y.shared.interleaved,a!==null){y=a;do T|=y.lane,y=y.next;while(y!==a)}else _===null&&(y.shared.lanes=0);sa|=T,o.lanes=T,o.memoizedState=ue}}function K0(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var f=o[a],y=f.callback;if(y!==null){if(f.callback=null,f=c,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var cu={},As=Wo(cu),uu=Wo(cu),du=Wo(cu);function na(o){if(o===cu)throw Error(t(174));return o}function hg(o,a){switch(Ct(du,a),Ct(uu,o),Ct(As,cu),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:No(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=No(a,o)}Nt(As),Ct(As,a)}function Tl(){Nt(As),Nt(uu),Nt(du)}function Z0(o){na(du.current);var a=na(As.current),c=No(a,o.type);a!==c&&(Ct(uu,o),Ct(As,c))}function fg(o){uu.current===o&&(Nt(As),Nt(uu))}var Ft=Wo(0);function Sh(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var pg=[];function mg(){for(var o=0;o<pg.length;o++)pg[o]._workInProgressVersionPrimary=null;pg.length=0}var Th=q.ReactCurrentDispatcher,gg=q.ReactCurrentBatchConfig,ra=0,Ut=null,ln=null,yn=null,Ch=!1,hu=!1,fu=0,AN=0;function Nn(){throw Error(t(321))}function yg(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!Qr(o[c],a[c]))return!1;return!0}function vg(o,a,c,f,y,_){if(ra=_,Ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Th.current=o===null||o.memoizedState===null?NN:DN,o=c(f,y),hu){_=0;do{if(hu=!1,fu=0,25<=_)throw Error(t(301));_+=1,yn=ln=null,a.updateQueue=null,Th.current=ON,o=c(f,y)}while(hu)}if(Th.current=Ph,a=ln!==null&&ln.next!==null,ra=0,yn=ln=Ut=null,Ch=!1,a)throw Error(t(300));return o}function _g(){var o=fu!==0;return fu=0,o}function Rs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Ut.memoizedState=yn=o:yn=yn.next=o,yn}function Dr(){if(ln===null){var o=Ut.alternate;o=o!==null?o.memoizedState:null}else o=ln.next;var a=yn===null?Ut.memoizedState:yn.next;if(a!==null)yn=a,ln=o;else{if(o===null)throw Error(t(310));ln=o,o={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},yn===null?Ut.memoizedState=yn=o:yn=yn.next=o}return yn}function pu(o,a){return typeof a=="function"?a(o):a}function wg(o){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=ln,y=f.baseQueue,_=c.pending;if(_!==null){if(y!==null){var T=y.next;y.next=_.next,_.next=T}f.baseQueue=y=_,c.pending=null}if(y!==null){_=y.next,f=f.baseState;var j=T=null,$=null,ee=_;do{var le=ee.lane;if((ra&le)===le)$!==null&&($=$.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),f=ee.hasEagerState?ee.eagerState:o(f,ee.action);else{var ue={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};$===null?(j=$=ue,T=f):$=$.next=ue,Ut.lanes|=le,sa|=le}ee=ee.next}while(ee!==null&&ee!==_);$===null?T=f:$.next=j,Qr(f,a.memoizedState)||(er=!0),a.memoizedState=f,a.baseState=T,a.baseQueue=$,c.lastRenderedState=f}if(o=c.interleaved,o!==null){y=o;do _=y.lane,Ut.lanes|=_,sa|=_,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Eg(o){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=c.dispatch,y=c.pending,_=a.memoizedState;if(y!==null){c.pending=null;var T=y=y.next;do _=o(_,T.action),T=T.next;while(T!==y);Qr(_,a.memoizedState)||(er=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,f]}function Q0(){}function Y0(o,a){var c=Ut,f=Dr(),y=a(),_=!Qr(f.memoizedState,y);if(_&&(f.memoizedState=y,er=!0),f=f.queue,bg(eE.bind(null,c,f,o),[o]),f.getSnapshot!==a||_||yn!==null&&yn.memoizedState.tag&1){if(c.flags|=2048,mu(9,J0.bind(null,c,f,y,a),void 0,null),vn===null)throw Error(t(349));(ra&30)!==0||X0(c,a,y)}return y}function X0(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function J0(o,a,c,f){a.value=c,a.getSnapshot=f,tE(a)&&nE(o)}function eE(o,a,c){return c(function(){tE(a)&&nE(o)})}function tE(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!Qr(o,c)}catch{return!0}}function nE(o){var a=ao(o,1);a!==null&&ts(a,o,1,-1)}function rE(o){var a=Rs();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:o},a.queue=o,o=o.dispatch=kN.bind(null,Ut,o),[a.memoizedState,o]}function mu(o,a,c,f){return o={tag:o,create:a,destroy:c,deps:f,next:null},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(f=c.next,c.next=o,o.next=f,a.lastEffect=o)),o}function sE(){return Dr().memoizedState}function Ah(o,a,c,f){var y=Rs();Ut.flags|=o,y.memoizedState=mu(1|a,c,void 0,f===void 0?null:f)}function Rh(o,a,c,f){var y=Dr();f=f===void 0?null:f;var _=void 0;if(ln!==null){var T=ln.memoizedState;if(_=T.destroy,f!==null&&yg(f,T.deps)){y.memoizedState=mu(a,c,_,f);return}}Ut.flags|=o,y.memoizedState=mu(1|a,c,_,f)}function oE(o,a){return Ah(8390656,8,o,a)}function bg(o,a){return Rh(2048,8,o,a)}function iE(o,a){return Rh(4,2,o,a)}function aE(o,a){return Rh(4,4,o,a)}function lE(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function cE(o,a,c){return c=c!=null?c.concat([o]):null,Rh(4,4,lE.bind(null,a,o),c)}function xg(){}function uE(o,a){var c=Dr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&yg(a,f[1])?f[0]:(c.memoizedState=[o,a],o)}function dE(o,a){var c=Dr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&yg(a,f[1])?f[0]:(o=o(),c.memoizedState=[o,a],o)}function hE(o,a,c){return(ra&21)===0?(o.baseState&&(o.baseState=!1,er=!0),o.memoizedState=c):(Qr(c,a)||(c=zc(),Ut.lanes|=c,sa|=c,o.baseState=!0),a)}function RN(o,a){var c=ct;ct=c!==0&&4>c?c:4,o(!0);var f=gg.transition;gg.transition={};try{o(!1),a()}finally{ct=c,gg.transition=f}}function fE(){return Dr().memoizedState}function PN(o,a,c){var f=ei(o);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},pE(o))mE(a,c);else if(c=H0(o,a,c,f),c!==null){var y=Hn();ts(c,o,f,y),gE(c,a,f)}}function kN(o,a,c){var f=ei(o),y={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(pE(o))mE(a,y);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var T=a.lastRenderedState,j=_(T,c);if(y.hasEagerState=!0,y.eagerState=j,Qr(j,T)){var $=a.interleaved;$===null?(y.next=y,ug(a)):(y.next=$.next,$.next=y),a.interleaved=y;return}}catch{}finally{}c=H0(o,a,y,f),c!==null&&(y=Hn(),ts(c,o,f,y),gE(c,a,f))}}function pE(o){var a=o.alternate;return o===Ut||a!==null&&a===Ut}function mE(o,a){hu=Ch=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function gE(o,a,c){if((c&4194240)!==0){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Bc(o,c)}}var Ph={readContext:Nr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},NN={readContext:Nr,useCallback:function(o,a){return Rs().memoizedState=[o,a===void 0?null:a],o},useContext:Nr,useEffect:oE,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,Ah(4194308,4,lE.bind(null,a,o),c)},useLayoutEffect:function(o,a){return Ah(4194308,4,o,a)},useInsertionEffect:function(o,a){return Ah(4,2,o,a)},useMemo:function(o,a){var c=Rs();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var f=Rs();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},f.queue=o,o=o.dispatch=PN.bind(null,Ut,o),[f.memoizedState,o]},useRef:function(o){var a=Rs();return o={current:o},a.memoizedState=o},useState:rE,useDebugValue:xg,useDeferredValue:function(o){return Rs().memoizedState=o},useTransition:function(){var o=rE(!1),a=o[0];return o=RN.bind(null,o[1]),Rs().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var f=Ut,y=Rs();if(Ot){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),vn===null)throw Error(t(349));(ra&30)!==0||X0(f,a,c)}y.memoizedState=c;var _={value:c,getSnapshot:a};return y.queue=_,oE(eE.bind(null,f,_,o),[o]),f.flags|=2048,mu(9,J0.bind(null,f,_,c,a),void 0,null),c},useId:function(){var o=Rs(),a=vn.identifierPrefix;if(Ot){var c=io,f=oo;c=(f&~(1<<32-dr(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=fu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=AN++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},DN={readContext:Nr,useCallback:uE,useContext:Nr,useEffect:bg,useImperativeHandle:cE,useInsertionEffect:iE,useLayoutEffect:aE,useMemo:dE,useReducer:wg,useRef:sE,useState:function(){return wg(pu)},useDebugValue:xg,useDeferredValue:function(o){var a=Dr();return hE(a,ln.memoizedState,o)},useTransition:function(){var o=wg(pu)[0],a=Dr().memoizedState;return[o,a]},useMutableSource:Q0,useSyncExternalStore:Y0,useId:fE,unstable_isNewReconciler:!1},ON={readContext:Nr,useCallback:uE,useContext:Nr,useEffect:bg,useImperativeHandle:cE,useInsertionEffect:iE,useLayoutEffect:aE,useMemo:dE,useReducer:Eg,useRef:sE,useState:function(){return Eg(pu)},useDebugValue:xg,useDeferredValue:function(o){var a=Dr();return ln===null?a.memoizedState=o:hE(a,ln.memoizedState,o)},useTransition:function(){var o=Eg(pu)[0],a=Dr().memoizedState;return[o,a]},useMutableSource:Q0,useSyncExternalStore:Y0,useId:fE,unstable_isNewReconciler:!1};function Xr(o,a){if(o&&o.defaultProps){a=Y({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function Ig(o,a,c,f){a=o.memoizedState,c=c(f,a),c=c==null?a:Y({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var kh={isMounted:function(o){return(o=o._reactInternals)?Kr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var f=Hn(),y=ei(o),_=lo(f,y);_.payload=a,c!=null&&(_.callback=c),a=Qo(o,_,y),a!==null&&(ts(a,o,y,f),xh(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var f=Hn(),y=ei(o),_=lo(f,y);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=Qo(o,_,y),a!==null&&(ts(a,o,y,f),xh(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=Hn(),f=ei(o),y=lo(c,f);y.tag=2,a!=null&&(y.callback=a),a=Qo(o,y,f),a!==null&&(ts(a,o,f,c),xh(a,o,f))}};function yE(o,a,c,f,y,_,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,_,T):a.prototype&&a.prototype.isPureReactComponent?!tu(c,f)||!tu(y,_):!0}function vE(o,a,c){var f=!1,y=Go,_=a.contextType;return typeof _=="object"&&_!==null?_=Nr(_):(y=Jn(a)?Xi:kn.current,f=a.contextTypes,_=(f=f!=null)?_l(o,y):Go),a=new a(c,_),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=kh,o.stateNode=a,a._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=_),a}function _E(o,a,c,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==o&&kh.enqueueReplaceState(a,a.state,null)}function Sg(o,a,c,f){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},dg(o);var _=a.contextType;typeof _=="object"&&_!==null?y.context=Nr(_):(_=Jn(a)?Xi:kn.current,y.context=_l(o,_)),y.state=o.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ig(o,a,_,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&kh.enqueueReplaceState(y,y.state,null),Ih(o,c,y,f),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Cl(o,a){try{var c="",f=a;do c+=fe(f),f=f.return;while(f);var y=c}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:a,stack:y,digest:null}}function Tg(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function Cg(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var MN=typeof WeakMap=="function"?WeakMap:Map;function wE(o,a,c){c=lo(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){jh||(jh=!0,$g=f),Cg(o,a)},c}function EE(o,a,c){c=lo(-1,c),c.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=a.value;c.payload=function(){return f(y)},c.callback=function(){Cg(o,a)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Cg(o,a),typeof f!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),c}function bE(o,a,c){var f=o.pingCache;if(f===null){f=o.pingCache=new MN;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(y.add(c),o=ZN.bind(null,o,a,c),a.then(o,o))}function xE(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function IE(o,a,c,f,y){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=lo(-1,1),a.tag=2,Qo(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var VN=q.ReactCurrentOwner,er=!1;function qn(o,a,c,f){a.child=o===null?q0(a,null,c,f):xl(a,o.child,c,f)}function SE(o,a,c,f,y){c=c.render;var _=a.ref;return Sl(a,y),f=vg(o,a,c,f,_,y),c=_g(),o!==null&&!er?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,co(o,a,y)):(Ot&&c&&tg(a),a.flags|=1,qn(o,a,f,y),a.child)}function TE(o,a,c,f,y){if(o===null){var _=c.type;return typeof _=="function"&&!Zg(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,CE(o,a,_,f,y)):(o=qh(c.type,null,f,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(_=o.child,(o.lanes&y)===0){var T=_.memoizedProps;if(c=c.compare,c=c!==null?c:tu,c(T,f)&&o.ref===a.ref)return co(o,a,y)}return a.flags|=1,o=ni(_,f),o.ref=a.ref,o.return=a,a.child=o}function CE(o,a,c,f,y){if(o!==null){var _=o.memoizedProps;if(tu(_,f)&&o.ref===a.ref)if(er=!1,a.pendingProps=f=_,(o.lanes&y)!==0)(o.flags&131072)!==0&&(er=!0);else return a.lanes=o.lanes,co(o,a,y)}return Ag(o,a,c,f,y)}function AE(o,a,c){var f=a.pendingProps,y=f.children,_=o!==null?o.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(Rl,vr),vr|=c;else{if((c&1073741824)===0)return o=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Ct(Rl,vr),vr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:c,Ct(Rl,vr),vr|=f}else _!==null?(f=_.baseLanes|c,a.memoizedState=null):f=c,Ct(Rl,vr),vr|=f;return qn(o,a,y,c),a.child}function RE(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Ag(o,a,c,f,y){var _=Jn(c)?Xi:kn.current;return _=_l(a,_),Sl(a,y),c=vg(o,a,c,f,_,y),f=_g(),o!==null&&!er?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,co(o,a,y)):(Ot&&f&&tg(a),a.flags|=1,qn(o,a,c,y),a.child)}function PE(o,a,c,f,y){if(Jn(c)){var _=!0;mh(a)}else _=!1;if(Sl(a,y),a.stateNode===null)Dh(o,a),vE(a,c,f),Sg(a,c,f,y),f=!0;else if(o===null){var T=a.stateNode,j=a.memoizedProps;T.props=j;var $=T.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Nr(ee):(ee=Jn(c)?Xi:kn.current,ee=_l(a,ee));var le=c.getDerivedStateFromProps,ue=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==f||$!==ee)&&_E(a,T,f,ee),Zo=!1;var ae=a.memoizedState;T.state=ae,Ih(a,f,T,y),$=a.memoizedState,j!==f||ae!==$||Xn.current||Zo?(typeof le=="function"&&(Ig(a,c,le,f),$=a.memoizedState),(j=Zo||yE(a,c,j,f,ae,$,ee))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=$),T.props=f,T.state=$,T.context=ee,f=j):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{T=a.stateNode,W0(o,a),j=a.memoizedProps,ee=a.type===a.elementType?j:Xr(a.type,j),T.props=ee,ue=a.pendingProps,ae=T.context,$=c.contextType,typeof $=="object"&&$!==null?$=Nr($):($=Jn(c)?Xi:kn.current,$=_l(a,$));var Se=c.getDerivedStateFromProps;(le=typeof Se=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==ue||ae!==$)&&_E(a,T,f,$),Zo=!1,ae=a.memoizedState,T.state=ae,Ih(a,f,T,y);var Ae=a.memoizedState;j!==ue||ae!==Ae||Xn.current||Zo?(typeof Se=="function"&&(Ig(a,c,Se,f),Ae=a.memoizedState),(ee=Zo||yE(a,c,ee,f,ae,Ae,$)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,Ae,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,Ae,$)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||j===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Ae),T.props=f,T.state=Ae,T.context=$,f=ee):(typeof T.componentDidUpdate!="function"||j===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),f=!1)}return Rg(o,a,c,f,_,y)}function Rg(o,a,c,f,y,_){RE(o,a);var T=(a.flags&128)!==0;if(!f&&!T)return y&&M0(a,c,!1),co(o,a,_);f=a.stateNode,VN.current=a;var j=T&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,o!==null&&T?(a.child=xl(a,o.child,null,_),a.child=xl(a,null,j,_)):qn(o,a,j,_),a.memoizedState=f.state,y&&M0(a,c,!0),a.child}function kE(o){var a=o.stateNode;a.pendingContext?D0(o,a.pendingContext,a.pendingContext!==a.context):a.context&&D0(o,a.context,!1),hg(o,a.containerInfo)}function NE(o,a,c,f,y){return bl(),og(y),a.flags|=256,qn(o,a,c,f),a.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function kg(o){return{baseLanes:o,cachePool:null,transitions:null}}function DE(o,a,c){var f=a.pendingProps,y=Ft.current,_=!1,T=(a.flags&128)!==0,j;if((j=T)||(j=o!==null&&o.memoizedState===null?!1:(y&2)!==0),j?(_=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),Ct(Ft,y&1),o===null)return sg(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=f.children,o=f.fallback,_?(f=a.mode,_=a.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=Hh(T,f,0,null),o=la(o,f,c,null),_.return=a,o.return=a,_.sibling=o,a.child=_,a.child.memoizedState=kg(c),a.memoizedState=Pg,o):Ng(a,T));if(y=o.memoizedState,y!==null&&(j=y.dehydrated,j!==null))return LN(o,a,T,f,j,y,c);if(_){_=f.fallback,T=a.mode,y=o.child,j=y.sibling;var $={mode:"hidden",children:f.children};return(T&1)===0&&a.child!==y?(f=a.child,f.childLanes=0,f.pendingProps=$,a.deletions=null):(f=ni(y,$),f.subtreeFlags=y.subtreeFlags&14680064),j!==null?_=ni(j,_):(_=la(_,T,c,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,T=o.child.memoizedState,T=T===null?kg(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=o.childLanes&~c,a.memoizedState=Pg,f}return _=o.child,o=_.sibling,f=ni(_,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=f,a.memoizedState=null,f}function Ng(o,a){return a=Hh({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Nh(o,a,c,f){return f!==null&&og(f),xl(a,o.child,null,c),o=Ng(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function LN(o,a,c,f,y,_,T){if(c)return a.flags&256?(a.flags&=-257,f=Tg(Error(t(422))),Nh(o,a,T,f)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(_=f.fallback,y=a.mode,f=Hh({mode:"visible",children:f.children},y,0,null),_=la(_,y,T,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,(a.mode&1)!==0&&xl(a,o.child,null,T),a.child.memoizedState=kg(T),a.memoizedState=Pg,_);if((a.mode&1)===0)return Nh(o,a,T,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var j=f.dgst;return f=j,_=Error(t(419)),f=Tg(_,f,void 0),Nh(o,a,T,f)}if(j=(T&o.childLanes)!==0,er||j){if(f=vn,f!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|T))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,ao(o,y),ts(f,o,y,-1))}return Kg(),f=Tg(Error(t(421))),Nh(o,a,T,f)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=QN.bind(null,o),y._reactRetry=a,null):(o=_.treeContext,yr=Ho(y.nextSibling),gr=a,Ot=!0,Yr=null,o!==null&&(Pr[kr++]=oo,Pr[kr++]=io,Pr[kr++]=Ji,oo=o.id,io=o.overflow,Ji=a),a=Ng(a,f.children),a.flags|=4096,a)}function OE(o,a,c){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),cg(o.return,a,c)}function Dg(o,a,c,f,y){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=c,_.tailMode=y)}function ME(o,a,c){var f=a.pendingProps,y=f.revealOrder,_=f.tail;if(qn(o,a,f.children,c),f=Ft.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&OE(o,c,a);else if(o.tag===19)OE(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(Ct(Ft,f),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&Sh(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Dg(a,!1,y,c,_);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&Sh(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}Dg(a,!0,c,null,_);break;case"together":Dg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Dh(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function co(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),sa|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=ni(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=ni(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function jN(o,a,c){switch(a.tag){case 3:kE(a),bl();break;case 5:Z0(a);break;case 1:Jn(a.type)&&mh(a);break;case 4:hg(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,y=a.memoizedProps.value;Ct(Eh,f._currentValue),f._currentValue=y;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Ct(Ft,Ft.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?DE(o,a,c):(Ct(Ft,Ft.current&1),o=co(o,a,c),o!==null?o.sibling:null);Ct(Ft,Ft.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(o.flags&128)!==0){if(f)return ME(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ct(Ft,Ft.current),f)break;return null;case 22:case 23:return a.lanes=0,AE(o,a,c)}return co(o,a,c)}var VE,Og,LE,jE;VE=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Og=function(){},LE=function(o,a,c,f){var y=o.memoizedProps;if(y!==f){o=a.stateNode,na(As.current);var _=null;switch(c){case"input":y=ds(o,y),f=ds(o,f),_=[];break;case"select":y=Y({},y,{value:void 0}),f=Y({},f,{value:void 0}),_=[];break;case"textarea":y=an(o,y),f=an(o,f),_=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=hh)}Yn(c,f);var T;c=null;for(ee in y)if(!f.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var j=y[ee];for(T in j)j.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in f){var $=f[ee];if(j=y?.[ee],f.hasOwnProperty(ee)&&$!==j&&($!=null||j!=null))if(ee==="style")if(j){for(T in j)!j.hasOwnProperty(T)||$&&$.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in $)$.hasOwnProperty(T)&&j[T]!==$[T]&&(c||(c={}),c[T]=$[T])}else c||(_||(_=[]),_.push(ee,c)),c=$;else ee==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,j=j?j.__html:void 0,$!=null&&j!==$&&(_=_||[]).push(ee,$)):ee==="children"?typeof $!="string"&&typeof $!="number"||(_=_||[]).push(ee,""+$):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?($!=null&&ee==="onScroll"&&kt("scroll",o),_||j===$||(_=[])):(_=_||[]).push(ee,$))}c&&(_=_||[]).push("style",c);var ee=_;(a.updateQueue=ee)&&(a.flags|=4)}},jE=function(o,a,c,f){c!==f&&(a.flags|=4)};function gu(o,a){if(!Ot)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Dn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,f=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=f,o.childLanes=c,a}function FN(o,a,c){var f=a.pendingProps;switch(ng(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(a),null;case 1:return Jn(a.type)&&ph(),Dn(a),null;case 3:return f=a.stateNode,Tl(),Nt(Xn),Nt(kn),mg(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(_h(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Yr!==null&&(Hg(Yr),Yr=null))),Og(o,a),Dn(a),null;case 5:fg(a);var y=na(du.current);if(c=a.type,o!==null&&a.stateNode!=null)LE(o,a,c,f,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Dn(a),null}if(o=na(As.current),_h(a)){f=a.stateNode,c=a.type;var _=a.memoizedProps;switch(f[Cs]=a,f[iu]=_,o=(a.mode&1)!==0,c){case"dialog":kt("cancel",f),kt("close",f);break;case"iframe":case"object":case"embed":kt("load",f);break;case"video":case"audio":for(y=0;y<ru.length;y++)kt(ru[y],f);break;case"source":kt("error",f);break;case"img":case"image":case"link":kt("error",f),kt("load",f);break;case"details":kt("toggle",f);break;case"input":Qa(f,_),kt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},kt("invalid",f);break;case"textarea":Sr(f,_),kt("invalid",f)}Yn(c,_),y=null;for(var T in _)if(_.hasOwnProperty(T)){var j=_[T];T==="children"?typeof j=="string"?f.textContent!==j&&(_.suppressHydrationWarning!==!0&&dh(f.textContent,j,o),y=["children",j]):typeof j=="number"&&f.textContent!==""+j&&(_.suppressHydrationWarning!==!0&&dh(f.textContent,j,o),y=["children",""+j]):s.hasOwnProperty(T)&&j!=null&&T==="onScroll"&&kt("scroll",f)}switch(c){case"input":ye(f),ko(f,_,!0);break;case"textarea":ye(f),hs(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=hh)}f=y,a.updateQueue=f,f!==null&&(a.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=fs(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=T.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=T.createElement(c,{is:f.is}):(o=T.createElement(c),c==="select"&&(T=o,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):o=T.createElementNS(o,c),o[Cs]=a,o[iu]=f,VE(o,a,!1,!1),a.stateNode=o;e:{switch(T=Vo(c,f),c){case"dialog":kt("cancel",o),kt("close",o),y=f;break;case"iframe":case"object":case"embed":kt("load",o),y=f;break;case"video":case"audio":for(y=0;y<ru.length;y++)kt(ru[y],o);y=f;break;case"source":kt("error",o),y=f;break;case"img":case"image":case"link":kt("error",o),kt("load",o),y=f;break;case"details":kt("toggle",o),y=f;break;case"input":Qa(o,f),y=ds(o,f),kt("invalid",o);break;case"option":y=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},y=Y({},f,{value:void 0}),kt("invalid",o);break;case"textarea":Sr(o,f),y=an(o,f),kt("invalid",o);break;default:y=f}Yn(c,y),j=y;for(_ in j)if(j.hasOwnProperty(_)){var $=j[_];_==="style"?Oo(o,$):_==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Do(o,$)):_==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&Qn(o,$):typeof $=="number"&&Qn(o,""+$):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?$!=null&&_==="onScroll"&&kt("scroll",o):$!=null&&z(o,_,$,T))}switch(c){case"input":ye(o),ko(o,f,!1);break;case"textarea":ye(o),hs(o);break;case"option":f.value!=null&&o.setAttribute("value",""+xe(f.value));break;case"select":o.multiple=!!f.multiple,_=f.value,_!=null?lr(o,!!f.multiple,_,!1):f.defaultValue!=null&&lr(o,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=hh)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Dn(a),null;case 6:if(o&&a.stateNode!=null)jE(o,a,o.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=na(du.current),na(As.current),_h(a)){if(f=a.stateNode,c=a.memoizedProps,f[Cs]=a,(_=f.nodeValue!==c)&&(o=gr,o!==null))switch(o.tag){case 3:dh(f.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&dh(f.nodeValue,c,(o.mode&1)!==0)}_&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Cs]=a,a.stateNode=f}return Dn(a),null;case 13:if(Nt(Ft),f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ot&&yr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)z0(),bl(),a.flags|=98560,_=!1;else if(_=_h(a),f!==null&&f.dehydrated!==null){if(o===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Cs]=a}else bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dn(a),_=!1}else Yr!==null&&(Hg(Yr),Yr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Ft.current&1)!==0?cn===0&&(cn=3):Kg())),a.updateQueue!==null&&(a.flags|=4),Dn(a),null);case 4:return Tl(),Og(o,a),o===null&&su(a.stateNode.containerInfo),Dn(a),null;case 10:return lg(a.type._context),Dn(a),null;case 17:return Jn(a.type)&&ph(),Dn(a),null;case 19:if(Nt(Ft),_=a.memoizedState,_===null)return Dn(a),null;if(f=(a.flags&128)!==0,T=_.rendering,T===null)if(f)gu(_,!1);else{if(cn!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(T=Sh(o),T!==null){for(a.flags|=128,gu(_,!1),f=T.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)_=c,o=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,o=T.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Ct(Ft,Ft.current&1|2),a.child}o=o.sibling}_.tail!==null&&Pt()>Pl&&(a.flags|=128,f=!0,gu(_,!1),a.lanes=4194304)}else{if(!f)if(o=Sh(T),o!==null){if(a.flags|=128,f=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),gu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!Ot)return Dn(a),null}else 2*Pt()-_.renderingStartTime>Pl&&c!==1073741824&&(a.flags|=128,f=!0,gu(_,!1),a.lanes=4194304);_.isBackwards?(T.sibling=a.child,a.child=T):(c=_.last,c!==null?c.sibling=T:a.child=T,_.last=T)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Pt(),a.sibling=null,c=Ft.current,Ct(Ft,f?c&1|2:c&1),a):(Dn(a),null);case 22:case 23:return Gg(),f=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(vr&1073741824)!==0&&(Dn(a),a.subtreeFlags&6&&(a.flags|=8192)):Dn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function UN(o,a){switch(ng(a),a.tag){case 1:return Jn(a.type)&&ph(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Tl(),Nt(Xn),Nt(kn),mg(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return fg(a),null;case 13:if(Nt(Ft),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));bl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Nt(Ft),null;case 4:return Tl(),null;case 10:return lg(a.type._context),null;case 22:case 23:return Gg(),null;case 24:return null;default:return null}}var Oh=!1,On=!1,zN=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Al(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){qt(o,a,f)}else c.current=null}function Mg(o,a,c){try{c()}catch(f){qt(o,a,f)}}var FE=!1;function $N(o,a){if(Gm=eo,o=y0(),Fm(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var T=0,j=-1,$=-1,ee=0,le=0,ue=o,ae=null;t:for(;;){for(var Se;ue!==c||y!==0&&ue.nodeType!==3||(j=T+y),ue!==_||f!==0&&ue.nodeType!==3||($=T+f),ue.nodeType===3&&(T+=ue.nodeValue.length),(Se=ue.firstChild)!==null;)ae=ue,ue=Se;for(;;){if(ue===o)break t;if(ae===c&&++ee===y&&(j=T),ae===_&&++le===f&&($=T),(Se=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=Se}c=j===-1||$===-1?null:{start:j,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(Km={focusedElem:o,selectionRange:c},eo=!1,Te=a;Te!==null;)if(a=Te,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Te=o;else for(;Te!==null;){a=Te;try{var Ae=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Oe=Ae.memoizedProps,Zt=Ae.memoizedState,Z=a.stateNode,B=Z.getSnapshotBeforeUpdate(a.elementType===a.type?Oe:Xr(a.type,Oe),Zt);Z.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var X=a.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){qt(a,a.return,ge)}if(o=a.sibling,o!==null){o.return=a.return,Te=o;break}Te=a.return}return Ae=FE,FE=!1,Ae}function yu(o,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&o)===o){var _=y.destroy;y.destroy=void 0,_!==void 0&&Mg(a,c,_)}y=y.next}while(y!==f)}}function Mh(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function Vg(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function UE(o){var a=o.alternate;a!==null&&(o.alternate=null,UE(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Cs],delete a[iu],delete a[Xm],delete a[IN],delete a[SN])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function zE(o){return o.tag===5||o.tag===3||o.tag===4}function $E(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||zE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Lg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=hh));else if(f!==4&&(o=o.child,o!==null))for(Lg(o,a,c),o=o.sibling;o!==null;)Lg(o,a,c),o=o.sibling}function jg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(jg(o,a,c),o=o.sibling;o!==null;)jg(o,a,c),o=o.sibling}var In=null,Jr=!1;function Yo(o,a,c){for(c=c.child;c!==null;)BE(o,a,c),c=c.sibling}function BE(o,a,c){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount($i,c)}catch{}switch(c.tag){case 5:On||Al(c,a);case 6:var f=In,y=Jr;In=null,Yo(o,a,c),In=f,Jr=y,In!==null&&(Jr?(o=In,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):In.removeChild(c.stateNode));break;case 18:In!==null&&(Jr?(o=In,c=c.stateNode,o.nodeType===8?Ym(o.parentNode,c):o.nodeType===1&&Ym(o,c),zo(o)):Ym(In,c.stateNode));break;case 4:f=In,y=Jr,In=c.stateNode.containerInfo,Jr=!0,Yo(o,a,c),In=f,Jr=y;break;case 0:case 11:case 14:case 15:if(!On&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var _=y,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&Mg(c,a,T),y=y.next}while(y!==f)}Yo(o,a,c);break;case 1:if(!On&&(Al(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(j){qt(c,a,j)}Yo(o,a,c);break;case 21:Yo(o,a,c);break;case 22:c.mode&1?(On=(f=On)||c.memoizedState!==null,Yo(o,a,c),On=f):Yo(o,a,c);break;default:Yo(o,a,c)}}function qE(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new zN),a.forEach(function(f){var y=YN.bind(null,o,f);c.has(f)||(c.add(f),f.then(y,y))})}}function es(o,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];try{var _=o,T=a,j=T;e:for(;j!==null;){switch(j.tag){case 5:In=j.stateNode,Jr=!1;break e;case 3:In=j.stateNode.containerInfo,Jr=!0;break e;case 4:In=j.stateNode.containerInfo,Jr=!0;break e}j=j.return}if(In===null)throw Error(t(160));BE(_,T,y),In=null,Jr=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(ee){qt(y,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)HE(a,o),a=a.sibling}function HE(o,a){var c=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(es(a,o),Ps(o),f&4){try{yu(3,o,o.return),Mh(3,o)}catch(Oe){qt(o,o.return,Oe)}try{yu(5,o,o.return)}catch(Oe){qt(o,o.return,Oe)}}break;case 1:es(a,o),Ps(o),f&512&&c!==null&&Al(c,c.return);break;case 5:if(es(a,o),Ps(o),f&512&&c!==null&&Al(c,c.return),o.flags&32){var y=o.stateNode;try{Qn(y,"")}catch(Oe){qt(o,o.return,Oe)}}if(f&4&&(y=o.stateNode,y!=null)){var _=o.memoizedProps,T=c!==null?c.memoizedProps:_,j=o.type,$=o.updateQueue;if(o.updateQueue=null,$!==null)try{j==="input"&&_.type==="radio"&&_.name!=null&&Zs(y,_),Vo(j,T);var ee=Vo(j,_);for(T=0;T<$.length;T+=2){var le=$[T],ue=$[T+1];le==="style"?Oo(y,ue):le==="dangerouslySetInnerHTML"?Do(y,ue):le==="children"?Qn(y,ue):z(y,le,ue,ee)}switch(j){case"input":ar(y,_);break;case"textarea":Ya(y,_);break;case"select":var ae=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var Se=_.value;Se!=null?lr(y,!!_.multiple,Se,!1):ae!==!!_.multiple&&(_.defaultValue!=null?lr(y,!!_.multiple,_.defaultValue,!0):lr(y,!!_.multiple,_.multiple?[]:"",!1))}y[iu]=_}catch(Oe){qt(o,o.return,Oe)}}break;case 6:if(es(a,o),Ps(o),f&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,_=o.memoizedProps;try{y.nodeValue=_}catch(Oe){qt(o,o.return,Oe)}}break;case 3:if(es(a,o),Ps(o),f&4&&c!==null&&c.memoizedState.isDehydrated)try{zo(a.containerInfo)}catch(Oe){qt(o,o.return,Oe)}break;case 4:es(a,o),Ps(o);break;case 13:es(a,o),Ps(o),y=o.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(zg=Pt())),f&4&&qE(o);break;case 22:if(le=c!==null&&c.memoizedState!==null,o.mode&1?(On=(ee=On)||le,es(a,o),On=ee):es(a,o),Ps(o),f&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!le&&(o.mode&1)!==0)for(Te=o,le=o.child;le!==null;){for(ue=Te=le;Te!==null;){switch(ae=Te,Se=ae.child,ae.tag){case 0:case 11:case 14:case 15:yu(4,ae,ae.return);break;case 1:Al(ae,ae.return);var Ae=ae.stateNode;if(typeof Ae.componentWillUnmount=="function"){f=ae,c=ae.return;try{a=f,Ae.props=a.memoizedProps,Ae.state=a.memoizedState,Ae.componentWillUnmount()}catch(Oe){qt(f,c,Oe)}}break;case 5:Al(ae,ae.return);break;case 22:if(ae.memoizedState!==null){KE(ue);continue}}Se!==null?(Se.return=ae,Te=Se):KE(ue)}le=le.sibling}e:for(le=null,ue=o;;){if(ue.tag===5){if(le===null){le=ue;try{y=ue.stateNode,ee?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(j=ue.stateNode,$=ue.memoizedProps.style,T=$!=null&&$.hasOwnProperty("display")?$.display:null,j.style.display=ps("display",T))}catch(Oe){qt(o,o.return,Oe)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=ee?"":ue.memoizedProps}catch(Oe){qt(o,o.return,Oe)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===o)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===o)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===o)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:es(a,o),Ps(o),f&4&&qE(o);break;case 21:break;default:es(a,o),Ps(o)}}function Ps(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(zE(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(Qn(y,""),f.flags&=-33);var _=$E(o);jg(o,_,y);break;case 3:case 4:var T=f.stateNode.containerInfo,j=$E(o);Lg(o,j,T);break;default:throw Error(t(161))}}catch($){qt(o,o.return,$)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function BN(o,a,c){Te=o,WE(o)}function WE(o,a,c){for(var f=(o.mode&1)!==0;Te!==null;){var y=Te,_=y.child;if(y.tag===22&&f){var T=y.memoizedState!==null||Oh;if(!T){var j=y.alternate,$=j!==null&&j.memoizedState!==null||On;j=Oh;var ee=On;if(Oh=T,(On=$)&&!ee)for(Te=y;Te!==null;)T=Te,$=T.child,T.tag===22&&T.memoizedState!==null?ZE(y):$!==null?($.return=T,Te=$):ZE(y);for(;_!==null;)Te=_,WE(_),_=_.sibling;Te=y,Oh=j,On=ee}GE(o)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,Te=_):GE(o)}}function GE(o){for(;Te!==null;){var a=Te;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:On||Mh(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!On)if(c===null)f.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Xr(a.type,c.memoizedProps);f.componentDidUpdate(y,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&K0(a,_,f);break;case 3:var T=a.updateQueue;if(T!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}K0(a,T,c)}break;case 5:var j=a.stateNode;if(c===null&&a.flags&4){c=j;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&zo(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}On||a.flags&512&&Vg(a)}catch(ae){qt(a,a.return,ae)}}if(a===o){Te=null;break}if(c=a.sibling,c!==null){c.return=a.return,Te=c;break}Te=a.return}}function KE(o){for(;Te!==null;){var a=Te;if(a===o){Te=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Te=c;break}Te=a.return}}function ZE(o){for(;Te!==null;){var a=Te;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Mh(4,a)}catch($){qt(a,c,$)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var y=a.return;try{f.componentDidMount()}catch($){qt(a,y,$)}}var _=a.return;try{Vg(a)}catch($){qt(a,_,$)}break;case 5:var T=a.return;try{Vg(a)}catch($){qt(a,T,$)}}}catch($){qt(a,a.return,$)}if(a===o){Te=null;break}var j=a.sibling;if(j!==null){j.return=a.return,Te=j;break}Te=a.return}}var qN=Math.ceil,Vh=q.ReactCurrentDispatcher,Fg=q.ReactCurrentOwner,Or=q.ReactCurrentBatchConfig,ft=0,vn=null,tn=null,Sn=0,vr=0,Rl=Wo(0),cn=0,vu=null,sa=0,Lh=0,Ug=0,_u=null,tr=null,zg=0,Pl=1/0,uo=null,jh=!1,$g=null,Xo=null,Fh=!1,Jo=null,Uh=0,wu=0,Bg=null,zh=-1,$h=0;function Hn(){return(ft&6)!==0?Pt():zh!==-1?zh:zh=Pt()}function ei(o){return(o.mode&1)===0?1:(ft&2)!==0&&Sn!==0?Sn&-Sn:CN.transition!==null?($h===0&&($h=zc()),$h):(o=ct,o!==0||(o=window.event,o=o===void 0?16:ol(o.type)),o)}function ts(o,a,c,f){if(50<wu)throw wu=0,Bg=null,Error(t(185));Wi(o,c,f),((ft&2)===0||o!==vn)&&(o===vn&&((ft&2)===0&&(Lh|=c),cn===4&&ti(o,Sn)),nr(o,f),c===1&&ft===0&&(a.mode&1)===0&&(Pl=Pt()+500,gh&&Ko()))}function nr(o,a){var c=o.callbackNode;Hi(o,a);var f=Ys(o,o===vn?Sn:0);if(f===0)c!==null&&Xa(c),o.callbackNode=null,o.callbackPriority=0;else if(a=f&-f,o.callbackPriority!==a){if(c!=null&&Xa(c),a===1)o.tag===0?TN(YE.bind(null,o)):V0(YE.bind(null,o)),bN(function(){(ft&6)===0&&Ko()}),c=null;else{switch(ys(f)){case 1:c=Ja;break;case 4:c=jc;break;case 16:c=zi;break;case 536870912:c=el;break;default:c=zi}c=ob(c,QE.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function QE(o,a){if(zh=-1,$h=0,(ft&6)!==0)throw Error(t(327));var c=o.callbackNode;if(kl()&&o.callbackNode!==c)return null;var f=Ys(o,o===vn?Sn:0);if(f===0)return null;if((f&30)!==0||(f&o.expiredLanes)!==0||a)a=Bh(o,f);else{a=f;var y=ft;ft|=2;var _=JE();(vn!==o||Sn!==a)&&(uo=null,Pl=Pt()+500,ia(o,a));do try{GN();break}catch(j){XE(o,j)}while(!0);ag(),Vh.current=_,ft=y,tn!==null?a=0:(vn=null,Sn=0,a=cn)}if(a!==0){if(a===2&&(y=Uc(o),y!==0&&(f=y,a=qg(o,y))),a===1)throw c=vu,ia(o,0),ti(o,f),nr(o,Pt()),c;if(a===6)ti(o,f);else{if(y=o.current.alternate,(f&30)===0&&!HN(y)&&(a=Bh(o,f),a===2&&(_=Uc(o),_!==0&&(f=_,a=qg(o,_))),a===1))throw c=vu,ia(o,0),ti(o,f),nr(o,Pt()),c;switch(o.finishedWork=y,o.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:aa(o,tr,uo);break;case 3:if(ti(o,f),(f&130023424)===f&&(a=zg+500-Pt(),10<a)){if(Ys(o,0)!==0)break;if(y=o.suspendedLanes,(y&f)!==f){Hn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Qm(aa.bind(null,o,tr,uo),a);break}aa(o,tr,uo);break;case 4:if(ti(o,f),(f&4194240)===f)break;for(a=o.eventTimes,y=-1;0<f;){var T=31-dr(f);_=1<<T,T=a[T],T>y&&(y=T),f&=~_}if(f=y,f=Pt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*qN(f/1960))-f,10<f){o.timeoutHandle=Qm(aa.bind(null,o,tr,uo),f);break}aa(o,tr,uo);break;case 5:aa(o,tr,uo);break;default:throw Error(t(329))}}}return nr(o,Pt()),o.callbackNode===c?QE.bind(null,o):null}function qg(o,a){var c=_u;return o.current.memoizedState.isDehydrated&&(ia(o,a).flags|=256),o=Bh(o,a),o!==2&&(a=tr,tr=c,a!==null&&Hg(a)),o}function Hg(o){tr===null?tr=o:tr.push.apply(tr,o)}function HN(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var y=c[f],_=y.getSnapshot;y=y.value;try{if(!Qr(_(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ti(o,a){for(a&=~Ug,a&=~Lh,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-dr(a),f=1<<c;o[c]=-1,a&=~f}}function YE(o){if((ft&6)!==0)throw Error(t(327));kl();var a=Ys(o,0);if((a&1)===0)return nr(o,Pt()),null;var c=Bh(o,a);if(o.tag!==0&&c===2){var f=Uc(o);f!==0&&(a=f,c=qg(o,f))}if(c===1)throw c=vu,ia(o,0),ti(o,a),nr(o,Pt()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,aa(o,tr,uo),nr(o,Pt()),null}function Wg(o,a){var c=ft;ft|=1;try{return o(a)}finally{ft=c,ft===0&&(Pl=Pt()+500,gh&&Ko())}}function oa(o){Jo!==null&&Jo.tag===0&&(ft&6)===0&&kl();var a=ft;ft|=1;var c=Or.transition,f=ct;try{if(Or.transition=null,ct=1,o)return o()}finally{ct=f,Or.transition=c,ft=a,(ft&6)===0&&Ko()}}function Gg(){vr=Rl.current,Nt(Rl)}function ia(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,EN(c)),tn!==null)for(c=tn.return;c!==null;){var f=c;switch(ng(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ph();break;case 3:Tl(),Nt(Xn),Nt(kn),mg();break;case 5:fg(f);break;case 4:Tl();break;case 13:Nt(Ft);break;case 19:Nt(Ft);break;case 10:lg(f.type._context);break;case 22:case 23:Gg()}c=c.return}if(vn=o,tn=o=ni(o.current,null),Sn=vr=a,cn=0,vu=null,Ug=Lh=sa=0,tr=_u=null,ta!==null){for(a=0;a<ta.length;a++)if(c=ta[a],f=c.interleaved,f!==null){c.interleaved=null;var y=f.next,_=c.pending;if(_!==null){var T=_.next;_.next=y,f.next=T}c.pending=f}ta=null}return o}function XE(o,a){do{var c=tn;try{if(ag(),Th.current=Ph,Ch){for(var f=Ut.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}Ch=!1}if(ra=0,yn=ln=Ut=null,hu=!1,fu=0,Fg.current=null,c===null||c.return===null){cn=1,vu=a,tn=null;break}e:{var _=o,T=c.return,j=c,$=a;if(a=Sn,j.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ee=$,le=j,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var Se=xE(T);if(Se!==null){Se.flags&=-257,IE(Se,T,j,_,a),Se.mode&1&&bE(_,ee,a),a=Se,$=ee;var Ae=a.updateQueue;if(Ae===null){var Oe=new Set;Oe.add($),a.updateQueue=Oe}else Ae.add($);break e}else{if((a&1)===0){bE(_,ee,a),Kg();break e}$=Error(t(426))}}else if(Ot&&j.mode&1){var Zt=xE(T);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),IE(Zt,T,j,_,a),og(Cl($,j));break e}}_=$=Cl($,j),cn!==4&&(cn=2),_u===null?_u=[_]:_u.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var Z=wE(_,$,a);G0(_,Z);break e;case 1:j=$;var B=_.type,X=_.stateNode;if((_.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Xo===null||!Xo.has(X)))){_.flags|=65536,a&=-a,_.lanes|=a;var ge=EE(_,j,a);G0(_,ge);break e}}_=_.return}while(_!==null)}tb(c)}catch(Me){a=Me,tn===c&&c!==null&&(tn=c=c.return);continue}break}while(!0)}function JE(){var o=Vh.current;return Vh.current=Ph,o===null?Ph:o}function Kg(){(cn===0||cn===3||cn===2)&&(cn=4),vn===null||(sa&268435455)===0&&(Lh&268435455)===0||ti(vn,Sn)}function Bh(o,a){var c=ft;ft|=2;var f=JE();(vn!==o||Sn!==a)&&(uo=null,ia(o,a));do try{WN();break}catch(y){XE(o,y)}while(!0);if(ag(),ft=c,Vh.current=f,tn!==null)throw Error(t(261));return vn=null,Sn=0,cn}function WN(){for(;tn!==null;)eb(tn)}function GN(){for(;tn!==null&&!Ui();)eb(tn)}function eb(o){var a=sb(o.alternate,o,vr);o.memoizedProps=o.pendingProps,a===null?tb(o):tn=a,Fg.current=null}function tb(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=FN(c,a,vr),c!==null){tn=c;return}}else{if(c=UN(c,a),c!==null){c.flags&=32767,tn=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{cn=6,tn=null;return}}if(a=a.sibling,a!==null){tn=a;return}tn=a=o}while(a!==null);cn===0&&(cn=5)}function aa(o,a,c){var f=ct,y=Or.transition;try{Or.transition=null,ct=1,KN(o,a,c,f)}finally{Or.transition=y,ct=f}return null}function KN(o,a,c,f){do kl();while(Jo!==null);if((ft&6)!==0)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var _=c.lanes|c.childLanes;if(Om(o,_),o===vn&&(tn=vn=null,Sn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Fh||(Fh=!0,ob(zi,function(){return kl(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=Or.transition,Or.transition=null;var T=ct;ct=1;var j=ft;ft|=4,Fg.current=null,$N(o,c),HE(c,o),pN(Km),eo=!!Gm,Km=Gm=null,o.current=c,BN(c),Qs(),ft=j,ct=T,Or.transition=_}else o.current=c;if(Fh&&(Fh=!1,Jo=o,Uh=y),_=o.pendingLanes,_===0&&(Xo=null),Qd(c.stateNode),nr(o,Pt()),a!==null)for(f=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],f(y.value,{componentStack:y.stack,digest:y.digest});if(jh)throw jh=!1,o=$g,$g=null,o;return(Uh&1)!==0&&o.tag!==0&&kl(),_=o.pendingLanes,(_&1)!==0?o===Bg?wu++:(wu=0,Bg=o):wu=0,Ko(),null}function kl(){if(Jo!==null){var o=ys(Uh),a=Or.transition,c=ct;try{if(Or.transition=null,ct=16>o?16:o,Jo===null)var f=!1;else{if(o=Jo,Jo=null,Uh=0,(ft&6)!==0)throw Error(t(331));var y=ft;for(ft|=4,Te=o.current;Te!==null;){var _=Te,T=_.child;if((Te.flags&16)!==0){var j=_.deletions;if(j!==null){for(var $=0;$<j.length;$++){var ee=j[$];for(Te=ee;Te!==null;){var le=Te;switch(le.tag){case 0:case 11:case 15:yu(8,le,_)}var ue=le.child;if(ue!==null)ue.return=le,Te=ue;else for(;Te!==null;){le=Te;var ae=le.sibling,Se=le.return;if(UE(le),le===ee){Te=null;break}if(ae!==null){ae.return=Se,Te=ae;break}Te=Se}}}var Ae=_.alternate;if(Ae!==null){var Oe=Ae.child;if(Oe!==null){Ae.child=null;do{var Zt=Oe.sibling;Oe.sibling=null,Oe=Zt}while(Oe!==null)}}Te=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,Te=T;else e:for(;Te!==null;){if(_=Te,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:yu(9,_,_.return)}var Z=_.sibling;if(Z!==null){Z.return=_.return,Te=Z;break e}Te=_.return}}var B=o.current;for(Te=B;Te!==null;){T=Te;var X=T.child;if((T.subtreeFlags&2064)!==0&&X!==null)X.return=T,Te=X;else e:for(T=B;Te!==null;){if(j=Te,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Mh(9,j)}}catch(Me){qt(j,j.return,Me)}if(j===T){Te=null;break e}var ge=j.sibling;if(ge!==null){ge.return=j.return,Te=ge;break e}Te=j.return}}if(ft=y,Ko(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot($i,o)}catch{}f=!0}return f}finally{ct=c,Or.transition=a}}return!1}function nb(o,a,c){a=Cl(c,a),a=wE(o,a,1),o=Qo(o,a,1),a=Hn(),o!==null&&(Wi(o,1,a),nr(o,a))}function qt(o,a,c){if(o.tag===3)nb(o,o,c);else for(;a!==null;){if(a.tag===3){nb(a,o,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xo===null||!Xo.has(f))){o=Cl(c,o),o=EE(a,o,1),a=Qo(a,o,1),o=Hn(),a!==null&&(Wi(a,1,o),nr(a,o));break}}a=a.return}}function ZN(o,a,c){var f=o.pingCache;f!==null&&f.delete(a),a=Hn(),o.pingedLanes|=o.suspendedLanes&c,vn===o&&(Sn&c)===c&&(cn===4||cn===3&&(Sn&130023424)===Sn&&500>Pt()-zg?ia(o,0):Ug|=c),nr(o,a)}function rb(o,a){a===0&&((o.mode&1)===0?a=1:(a=jo,jo<<=1,(jo&130023424)===0&&(jo=4194304)));var c=Hn();o=ao(o,a),o!==null&&(Wi(o,a,c),nr(o,c))}function QN(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),rb(o,c)}function YN(o,a){var c=0;switch(o.tag){case 13:var f=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),rb(o,c)}var sb;sb=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Xn.current)er=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return er=!1,jN(o,a,c);er=(o.flags&131072)!==0}else er=!1,Ot&&(a.flags&1048576)!==0&&L0(a,vh,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Dh(o,a),o=a.pendingProps;var y=_l(a,kn.current);Sl(a,c),y=vg(null,a,f,o,y,c);var _=_g();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Jn(f)?(_=!0,mh(a)):_=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,dg(a),y.updater=kh,a.stateNode=y,y._reactInternals=a,Sg(a,f,o,c),a=Rg(null,a,f,!0,_,c)):(a.tag=0,Ot&&_&&tg(a),qn(null,a,y,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Dh(o,a),o=a.pendingProps,y=f._init,f=y(f._payload),a.type=f,y=a.tag=JN(f),o=Xr(f,o),y){case 0:a=Ag(null,a,f,o,c);break e;case 1:a=PE(null,a,f,o,c);break e;case 11:a=SE(null,a,f,o,c);break e;case 14:a=TE(null,a,f,Xr(f.type,o),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Xr(f,y),Ag(o,a,f,y,c);case 1:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Xr(f,y),PE(o,a,f,y,c);case 3:e:{if(kE(a),o===null)throw Error(t(387));f=a.pendingProps,_=a.memoizedState,y=_.element,W0(o,a),Ih(a,f,null,c);var T=a.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){y=Cl(Error(t(423)),a),a=NE(o,a,f,c,y);break e}else if(f!==y){y=Cl(Error(t(424)),a),a=NE(o,a,f,c,y);break e}else for(yr=Ho(a.stateNode.containerInfo.firstChild),gr=a,Ot=!0,Yr=null,c=q0(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(bl(),f===y){a=co(o,a,c);break e}qn(o,a,f,c)}a=a.child}return a;case 5:return Z0(a),o===null&&sg(a),f=a.type,y=a.pendingProps,_=o!==null?o.memoizedProps:null,T=y.children,Zm(f,y)?T=null:_!==null&&Zm(f,_)&&(a.flags|=32),RE(o,a),qn(o,a,T,c),a.child;case 6:return o===null&&sg(a),null;case 13:return DE(o,a,c);case 4:return hg(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=xl(a,null,f,c):qn(o,a,f,c),a.child;case 11:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Xr(f,y),SE(o,a,f,y,c);case 7:return qn(o,a,a.pendingProps,c),a.child;case 8:return qn(o,a,a.pendingProps.children,c),a.child;case 12:return qn(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,y=a.pendingProps,_=a.memoizedProps,T=y.value,Ct(Eh,f._currentValue),f._currentValue=T,_!==null)if(Qr(_.value,T)){if(_.children===y.children&&!Xn.current){a=co(o,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var j=_.dependencies;if(j!==null){T=_.child;for(var $=j.firstContext;$!==null;){if($.context===f){if(_.tag===1){$=lo(-1,c&-c),$.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?$.next=$:($.next=le.next,le.next=$),ee.pending=$}}_.lanes|=c,$=_.alternate,$!==null&&($.lanes|=c),cg(_.return,c,a),j.lanes|=c;break}$=$.next}}else if(_.tag===10)T=_.type===a.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=c,j=T.alternate,j!==null&&(j.lanes|=c),cg(T,c,a),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===a){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}qn(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,f=a.pendingProps.children,Sl(a,c),y=Nr(y),f=f(y),a.flags|=1,qn(o,a,f,c),a.child;case 14:return f=a.type,y=Xr(f,a.pendingProps),y=Xr(f.type,y),TE(o,a,f,y,c);case 15:return CE(o,a,a.type,a.pendingProps,c);case 17:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Xr(f,y),Dh(o,a),a.tag=1,Jn(f)?(o=!0,mh(a)):o=!1,Sl(a,c),vE(a,f,y),Sg(a,f,y,c),Rg(null,a,f,!0,o,c);case 19:return ME(o,a,c);case 22:return AE(o,a,c)}throw Error(t(156,a.tag))};function ob(o,a){return Lc(o,a)}function XN(o,a,c,f){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(o,a,c,f){return new XN(o,a,c,f)}function Zg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function JN(o){if(typeof o=="function")return Zg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===L)return 11;if(o===Ve)return 14}return 2}function ni(o,a){var c=o.alternate;return c===null?(c=Mr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function qh(o,a,c,f,y,_){var T=2;if(f=o,typeof o=="function")Zg(o)&&(T=1);else if(typeof o=="string")T=5;else e:switch(o){case k:return la(c.children,y,_,a);case S:T=8,y|=8;break;case R:return o=Mr(12,c,a,y|2),o.elementType=R,o.lanes=_,o;case N:return o=Mr(13,c,a,y),o.elementType=N,o.lanes=_,o;case de:return o=Mr(19,c,a,y),o.elementType=de,o.lanes=_,o;case me:return Hh(c,y,_,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:T=10;break e;case V:T=9;break e;case L:T=11;break e;case Ve:T=14;break e;case pe:T=16,f=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Mr(T,c,a,y),a.elementType=o,a.type=f,a.lanes=_,a}function la(o,a,c,f){return o=Mr(7,o,f,a),o.lanes=c,o}function Hh(o,a,c,f){return o=Mr(22,o,f,a),o.elementType=me,o.lanes=c,o.stateNode={isHidden:!1},o}function Qg(o,a,c){return o=Mr(6,o,null,a),o.lanes=c,o}function Yg(o,a,c){return a=Mr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function e2(o,a,c,f,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$c(0),this.expirationTimes=$c(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$c(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Xg(o,a,c,f,y,_,T,j,$){return o=new e2(o,a,c,j,$),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Mr(3,null,null,a),o.current=_,_.stateNode=o,_.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},dg(_),o}function t2(o,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:o,containerInfo:a,implementation:c}}function ib(o){if(!o)return Go;o=o._reactInternals;e:{if(Kr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Jn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Jn(c))return O0(o,c,a)}return a}function ab(o,a,c,f,y,_,T,j,$){return o=Xg(c,f,!0,o,y,_,T,j,$),o.context=ib(null),c=o.current,f=Hn(),y=ei(c),_=lo(f,y),_.callback=a??null,Qo(c,_,y),o.current.lanes=y,Wi(o,y,f),nr(o,f),o}function Wh(o,a,c,f){var y=a.current,_=Hn(),T=ei(y);return c=ib(c),a.context===null?a.context=c:a.pendingContext=c,a=lo(_,T),a.payload={element:o},f=f===void 0?null:f,f!==null&&(a.callback=f),o=Qo(y,a,T),o!==null&&(ts(o,y,T,_),xh(o,y,T)),T}function Gh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function lb(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function Jg(o,a){lb(o,a),(o=o.alternate)&&lb(o,a)}function n2(){return null}var cb=typeof reportError=="function"?reportError:function(o){console.error(o)};function ey(o){this._internalRoot=o}Kh.prototype.render=ey.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Wh(o,a,null,null)},Kh.prototype.unmount=ey.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;oa(function(){Wh(null,o,null,null)}),a[ro]=null}};function Kh(o){this._internalRoot=o}Kh.prototype.unstable_scheduleHydration=function(o){if(o){var a=Wc();o={blockedOn:null,target:o,priority:a};for(var c=0;c<hr.length&&a!==0&&a<hr[c].priority;c++);hr.splice(c,0,o),c===0&&rl(o)}};function ty(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Zh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ub(){}function r2(o,a,c,f,y){if(y){if(typeof f=="function"){var _=f;f=function(){var ee=Gh(T);_.call(ee)}}var T=ab(a,f,o,0,null,!1,!1,"",ub);return o._reactRootContainer=T,o[ro]=T.current,su(o.nodeType===8?o.parentNode:o),oa(),T}for(;y=o.lastChild;)o.removeChild(y);if(typeof f=="function"){var j=f;f=function(){var ee=Gh($);j.call(ee)}}var $=Xg(o,0,!1,null,null,!1,!1,"",ub);return o._reactRootContainer=$,o[ro]=$.current,su(o.nodeType===8?o.parentNode:o),oa(function(){Wh(a,$,c,f)}),$}function Qh(o,a,c,f,y){var _=c._reactRootContainer;if(_){var T=_;if(typeof y=="function"){var j=y;y=function(){var $=Gh(T);j.call($)}}Wh(a,T,o,y)}else T=r2(c,a,o,y,f);return Gh(T)}qc=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=yt(a.pendingLanes);c!==0&&(Bc(a,c|1),nr(a,Pt()),(ft&6)===0&&(Pl=Pt()+500,Ko()))}break;case 13:oa(function(){var f=ao(o,1);if(f!==null){var y=Hn();ts(f,o,1,y)}}),Jg(o,1)}},tl=function(o){if(o.tag===13){var a=ao(o,134217728);if(a!==null){var c=Hn();ts(a,o,134217728,c)}Jg(o,134217728)}},Hc=function(o){if(o.tag===13){var a=ei(o),c=ao(o,a);if(c!==null){var f=Hn();ts(c,o,a,f)}Jg(o,a)}},Wc=function(){return ct},Gc=function(o,a){var c=ct;try{return ct=o,a()}finally{ct=c}},Wr=function(o,a,c){switch(a){case"input":if(ar(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==o&&f.form===o.form){var y=fh(f);if(!y)throw Error(t(90));It(f),ar(f,y)}}}break;case"textarea":Ya(o,c);break;case"select":a=c.value,a!=null&&lr(o,!!c.multiple,a,!1)}},Gt=Wg,mn=oa;var s2={usingClientEntryPoint:!1,Events:[au,yl,fh,qe,St,Wg]},Eu={findFiberByHostInstance:Yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o2={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zd(o),o===null?null:o.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||n2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{$i=Yh.inject(o2),ur=Yh}catch{}}return rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s2,rr.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ty(a))throw Error(t(200));return t2(o,a,null,c)},rr.createRoot=function(o,a){if(!ty(o))throw Error(t(299));var c=!1,f="",y=cb;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Xg(o,1,!1,null,null,c,!1,f,y),o[ro]=a.current,su(o.nodeType===8?o.parentNode:o),new ey(a)},rr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Zd(a),o=o===null?null:o.stateNode,o},rr.flushSync=function(o){return oa(o)},rr.hydrate=function(o,a,c){if(!Zh(a))throw Error(t(200));return Qh(null,o,a,!0,c)},rr.hydrateRoot=function(o,a,c){if(!ty(o))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,y=!1,_="",T=cb;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),a=ab(a,null,o,1,c??null,y,!1,_,T),o[ro]=a.current,su(o),f)for(o=0;o<f.length;o++)c=f[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Kh(a)},rr.render=function(o,a,c){if(!Zh(a))throw Error(t(200));return Qh(null,o,a,!1,c)},rr.unmountComponentAtNode=function(o){if(!Zh(o))throw Error(t(40));return o._reactRootContainer?(oa(function(){Qh(null,null,o,!1,function(){o._reactRootContainer=null,o[ro]=null})}),!0):!1},rr.unstable_batchedUpdates=Wg,rr.unstable_renderSubtreeIntoContainer=function(o,a,c,f){if(!Zh(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Qh(o,a,c,!1,f)},rr.version="18.3.1-next-f1338f8080-20240426",rr}var vb;function $S(){if(vb)return sy.exports;vb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sy.exports=f2(),sy.exports}var _b;function p2(){if(_b)return Xh;_b=1;var n=$S();return Xh.createRoot=n.createRoot,Xh.hydrateRoot=n.hydrateRoot,Xh}var m2=p2();const g2="modulepreload",y2=function(n){return"/"+n},wb={},cs=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=l(t.map(p=>{if(p=y2(p),p in wb)return;wb[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":g2,g||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),g)return new Promise((I,P)=>{E.addEventListener("load",I),E.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};var b=Zv();const ce=zS(b),BS=a2({__proto__:null,default:ce},[b]);function Eb(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Np(...n){return e=>{let t=!1;const r=n.map(s=>{const i=Eb(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Eb(n[s],null)}}}}function xt(...n){return b.useCallback(Np(...n),n)}function rc(n){const e=v2(n),t=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),d=u.find(w2);if(d){const p=d.props.children,g=u.map(m=>m===d?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return v.jsx(e,{...l,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return v.jsx(e,{...l,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var Dp=rc("Slot");function v2(n){const e=b.forwardRef((t,r)=>{const{children:s,...i}=t;if(b.isValidElement(s)){const l=b2(s),u=E2(i,s.props);return s.type!==b.Fragment&&(u.ref=r?Np(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var qS=Symbol("radix.slottable");function _2(n){const e=({children:t})=>v.jsx(v.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=qS,e}function w2(n){return b.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===qS}function E2(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function b2(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function HS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=HS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function WS(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=HS(n))&&(r&&(r+=" "),r+=e);return r}const bb=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,xb=WS,Op=(n,e)=>t=>{var r;if(e?.variants==null)return xb(n,t?.class,t?.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(p=>{const g=t?.[p],m=i?.[p];if(g===null)return null;const E=bb(g)||bb(m);return s[p][E]}),u=t&&Object.entries(t).reduce((p,g)=>{let[m,E]=g;return E===void 0||(p[m]=E),p},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:m,className:E,...I}=g;return Object.entries(I).every(P=>{let[C,A]=P;return Array.isArray(A)?A.includes({...i,...u}[C]):{...i,...u}[C]===A})?[...p,m,E]:p},[]);return xb(n,l,d,t?.class,t?.className)};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I2=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Ib=n=>{const e=I2(n);return e.charAt(0).toUpperCase()+e.slice(1)},GS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...u},d)=>b.createElement("svg",{ref:d,...S2,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:GS("lucide",s),...u},[...l.map(([p,g])=>b.createElement(p,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(n,e)=>{const t=b.forwardRef(({className:r,...s},i)=>b.createElement(T2,{ref:i,iconNode:e,className:GS(`lucide-${x2(Ib(n))}`,`lucide-${n}`,r),...s}));return t.displayName=Ib(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],KS=rt("bell",C2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qv=rt("check",A2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],P2=rt("chevron-down",R2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N2=rt("chevron-right",k2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],O2=rt("chevron-up",D2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],V2=rt("circle-help",M2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],j2=rt("circle",L2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Yv=rt("clipboard-list",F2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],z2=rt("clock",U2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],B2=rt("command",$2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],H2=rt("eye-off",q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],G2=rt("eye",W2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],Z2=rt("factory",K2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],Y2=rt("landmark",Q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],J2=rt("layout-dashboard",X2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zu=rt("loader-circle",eD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Sb=rt("lock",tD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],rD=rt("log-out",nD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],oD=rt("mail",sD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],aD=rt("moon",iD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Mp=rt("package",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],uD=rt("panel-left-close",cD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],hD=rt("panel-left",dD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Tb=rt("receipt",fD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mD=rt("refresh-cw",pD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],yD=rt("search-x",gD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],$f=rt("search",vD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wD=rt("settings",_D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bD=rt("shield",ED);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Xv=rt("shopping-cart",xD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],SD=rt("sun",ID);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CD=rt("triangle-alert",TD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Bf=rt("truck",AD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],PD=rt("user-check",RD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],By=rt("user",kD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ZS=rt("users",ND);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],OD=rt("wallet",DD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],VD=rt("warehouse",MD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jv=rt("x",LD),ay=768;function jD(){const[n,e]=b.useState(void 0);return b.useEffect(()=>{const t=window.matchMedia(`(max-width: ${ay-1}px)`),r=()=>{e(window.innerWidth<ay)};return t.addEventListener("change",r),e(window.innerWidth<ay),()=>t.removeEventListener("change",r)},[]),!!n}const e_="-",FD=n=>{const e=zD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(e_);return u[0]===""&&u.length!==1&&u.shift(),QS(u,e)||UD(l)},getConflictingClassGroupIds:(l,u)=>{const d=t[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},QS=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?QS(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(e_);return e.validators.find(({validator:l})=>l(i))?.classGroupId},Cb=/^\[(.+)\]$/,UD=n=>{if(Cb.test(n)){const e=Cb.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},zD=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)qy(t[s],r,s,e);return r},qy=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Ab(e,s);i.classGroupId=t;return}if(typeof s=="function"){if($D(s)){qy(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,l])=>{qy(l,Ab(e,i),t,r)})})},Ab=(n,e)=>{let t=n;return e.split(e_).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},$D=n=>n.isThemeGetter,BD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,l)=>{t.set(i,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let l=t.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){t.has(i)?t.set(i,l):s(i,l)}}},Hy="!",Wy=":",qD=Wy.length,HD=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const i=[];let l=0,u=0,d=0,p;for(let P=0;P<s.length;P++){let C=s[P];if(l===0&&u===0){if(C===Wy){i.push(s.slice(d,P)),d=P+qD;continue}if(C==="/"){p=P;continue}}C==="["?l++:C==="]"?l--:C==="("?u++:C===")"&&u--}const g=i.length===0?s:s.substring(d),m=WD(g),E=m!==g,I=p&&p>d?p-d:void 0;return{modifiers:i,hasImportantModifier:E,baseClassName:m,maybePostfixModifierPosition:I}};if(e){const s=e+Wy,i=r;r=l=>l.startsWith(s)?i(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=i=>t({className:i,parseClassName:s})}return r},WD=n=>n.endsWith(Hy)?n.substring(0,n.length-1):n.startsWith(Hy)?n.substring(1):n,GD=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...i.sort(),l),i=[]):i.push(l)}),s.push(...i.sort()),s}},KD=n=>({cache:BD(n.cacheSize),parseClassName:HD(n),sortModifiers:GD(n),...FD(n)}),ZD=/\s+/,QD=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,l=[],u=n.trim().split(ZD);let d="";for(let p=u.length-1;p>=0;p-=1){const g=u[p],{isExternal:m,modifiers:E,hasImportantModifier:I,baseClassName:P,maybePostfixModifierPosition:C}=t(g);if(m){d=g+(d.length>0?" "+d:d);continue}let A=!!C,M=r(A?P.substring(0,C):P);if(!M){if(!A){d=g+(d.length>0?" "+d:d);continue}if(M=r(P),!M){d=g+(d.length>0?" "+d:d);continue}A=!1}const U=i(E).join(":"),z=I?U+Hy:U,q=z+M;if(l.includes(q))continue;l.push(q);const W=s(M,A);for(let J=0;J<W.length;++J){const k=W[J];l.push(z+k)}d=g+(d.length>0?" "+d:d)}return d};function YD(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=YS(e))&&(r&&(r+=" "),r+=t);return r}const YS=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=YS(n[r]))&&(t&&(t+=" "),t+=e);return t};function XD(n,...e){let t,r,s,i=l;function l(d){const p=e.reduce((g,m)=>m(g),n());return t=KD(p),r=t.cache.get,s=t.cache.set,i=u,u(d)}function u(d){const p=r(d);if(p)return p;const g=QD(d,t);return s(d,g),g}return function(){return i(YD.apply(null,arguments))}}const un=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},XS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,JS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,JD=/^\d+\/\d+$/,eO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nl=n=>JD.test(n),Je=n=>!!n&&!Number.isNaN(Number(n)),si=n=>!!n&&Number.isInteger(Number(n)),ly=n=>n.endsWith("%")&&Je(n.slice(0,-1)),ho=n=>eO.test(n),oO=()=>!0,iO=n=>tO.test(n)&&!nO.test(n),e1=()=>!1,aO=n=>rO.test(n),lO=n=>sO.test(n),cO=n=>!Re(n)&&!Pe(n),uO=n=>bc(n,r1,e1),Re=n=>XS.test(n),ca=n=>bc(n,s1,iO),cy=n=>bc(n,mO,Je),Rb=n=>bc(n,t1,e1),dO=n=>bc(n,n1,lO),Jh=n=>bc(n,o1,aO),Pe=n=>JS.test(n),xu=n=>xc(n,s1),hO=n=>xc(n,gO),Pb=n=>xc(n,t1),fO=n=>xc(n,r1),pO=n=>xc(n,n1),ef=n=>xc(n,o1,!0),bc=(n,e,t)=>{const r=XS.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},xc=(n,e,t=!1)=>{const r=JS.exec(n);return r?r[1]?e(r[1]):t:!1},t1=n=>n==="position"||n==="percentage",n1=n=>n==="image"||n==="url",r1=n=>n==="length"||n==="size"||n==="bg-size",s1=n=>n==="length",mO=n=>n==="number",gO=n=>n==="family-name",o1=n=>n==="shadow",yO=()=>{const n=un("color"),e=un("font"),t=un("text"),r=un("font-weight"),s=un("tracking"),i=un("leading"),l=un("breakpoint"),u=un("container"),d=un("spacing"),p=un("radius"),g=un("shadow"),m=un("inset-shadow"),E=un("text-shadow"),I=un("drop-shadow"),P=un("blur"),C=un("perspective"),A=un("aspect"),M=un("ease"),U=un("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...q(),Pe,Re],J=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],S=()=>[Pe,Re,d],R=()=>[Nl,"full","auto",...S()],O=()=>[si,"none","subgrid",Pe,Re],V=()=>["auto",{span:["full",si,Pe,Re]},si,Pe,Re],L=()=>[si,"auto",Pe,Re],N=()=>["auto","min","max","fr",Pe,Re],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ve=()=>["start","end","center","stretch","center-safe","end-safe"],pe=()=>["auto",...S()],me=()=>[Nl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],H=()=>[n,Pe,Re],re=()=>[...q(),Pb,Rb,{position:[Pe,Re]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",fO,uO,{size:[Pe,Re]}],G=()=>[ly,xu,ca],oe=()=>["","none","full",p,Pe,Re],ie=()=>["",Je,xu,ca],fe=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[Je,ly,Pb,Rb],xe=()=>["","none",P,Pe,Re],Ge=()=>["none",Je,Pe,Re],Qe=()=>["none",Je,Pe,Re],ye=()=>[Je,Pe,Re],It=()=>[Nl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ho],breakpoint:[ho],color:[oO],container:[ho],"drop-shadow":[ho],ease:["in","out","in-out"],font:[cO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ho],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ho],shadow:[ho],spacing:["px",Je],text:[ho],"text-shadow":[ho],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nl,Re,Pe,A]}],container:["container"],columns:[{columns:[Je,Re,Pe,u]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[si,"auto",Pe,Re]}],basis:[{basis:[Nl,"full","auto",u,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,Nl,"auto","initial","none",Re]}],grow:[{grow:["",Je,Pe,Re]}],shrink:[{shrink:["",Je,Pe,Re]}],order:[{order:[si,"first","last","none",Pe,Re]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...Ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ve()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...Ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...Ve(),"baseline"]}],"place-self":[{"place-self":["auto",...Ve()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:pe()}],mx:[{mx:pe()}],my:[{my:pe()}],ms:[{ms:pe()}],me:[{me:pe()}],mt:[{mt:pe()}],mr:[{mr:pe()}],mb:[{mb:pe()}],ml:[{ml:pe()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:me()}],w:[{w:[u,"screen",...me()]}],"min-w":[{"min-w":[u,"screen","none",...me()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...me()]}],h:[{h:["screen","lh",...me()]}],"min-h":[{"min-h":["screen","lh","none",...me()]}],"max-h":[{"max-h":["screen","lh",...me()]}],"font-size":[{text:["base",t,xu,ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Pe,cy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ly,Re]}],"font-family":[{font:[hO,Re,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Pe,Re]}],"line-clamp":[{"line-clamp":[Je,"none",Pe,cy]}],leading:[{leading:[i,...S()]}],"list-image":[{"list-image":["none",Pe,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pe,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Pe,ca]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Je,"auto",Pe,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},si,Pe,Re],radial:["",Pe,Re],conic:[si,Pe,Re]},pO,dO]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Pe,Re]}],"outline-w":[{outline:["",Je,xu,ca]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",g,ef,Jh]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",m,ef,Jh]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Je,ca]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",E,ef,Jh]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Je,Pe,Re]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Pe,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":q()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pe,Re]}],filter:[{filter:["","none",Pe,Re]}],blur:[{blur:xe()}],brightness:[{brightness:[Je,Pe,Re]}],contrast:[{contrast:[Je,Pe,Re]}],"drop-shadow":[{"drop-shadow":["","none",I,ef,Jh]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Je,Pe,Re]}],"hue-rotate":[{"hue-rotate":[Je,Pe,Re]}],invert:[{invert:["",Je,Pe,Re]}],saturate:[{saturate:[Je,Pe,Re]}],sepia:[{sepia:["",Je,Pe,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",Pe,Re]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Pe,Re]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Pe,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Pe,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Pe,Re]}],"backdrop-invert":[{"backdrop-invert":["",Je,Pe,Re]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Pe,Re]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Pe,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Pe,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pe,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Pe,Re]}],ease:[{ease:["linear","initial",M,Pe,Re]}],delay:[{delay:[Je,Pe,Re]}],animate:[{animate:["none",U,Pe,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Pe,Re]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[Pe,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:It()}],"translate-x":[{"translate-x":It()}],"translate-y":[{"translate-y":It()}],"translate-z":[{"translate-z":It()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe,Re]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Je,xu,ca,cy]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},vO=XD(yO);function ze(...n){return vO(WS(n))}const _O=Op("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function mo({className:n,variant:e,size:t,asChild:r=!1,...s}){const i=r?Dp:"button";return v.jsx(i,{"data-slot":"button",className:ze(_O({variant:e,size:t,className:n})),...s})}function ku({className:n,type:e,...t}){return v.jsx("input",{type:e,"data-slot":"input",className:ze("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var t_=$S();const i1=zS(t_);var wO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=wO.reduce((n,e)=>{const t=rc(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(d,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function a1(n,e){n&&t_.flushSync(()=>n.dispatchEvent(e))}var EO="Separator",kb="horizontal",bO=["horizontal","vertical"],l1=b.forwardRef((n,e)=>{const{decorative:t,orientation:r=kb,...s}=n,i=xO(r)?r:kb,u=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return v.jsx(ht.div,{"data-orientation":i,...u,...s,ref:e})});l1.displayName=EO;function xO(n){return bO.includes(n)}var IO=l1;function SO({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return v.jsx(IO,{"data-slot":"separator-root",decorative:t,orientation:e,className:ze("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function je(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function TO(n,e){const t=b.createContext(e),r=i=>{const{children:l,...u}=i,d=b.useMemo(()=>u,Object.values(u));return v.jsx(t.Provider,{value:d,children:l})};r.displayName=n+"Provider";function s(i){const l=b.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function Ws(n,e=[]){let t=[];function r(i,l){const u=b.createContext(l),d=t.length;t=[...t,l];const p=m=>{const{scope:E,children:I,...P}=m,C=E?.[n]?.[d]||u,A=b.useMemo(()=>P,Object.values(P));return v.jsx(C.Provider,{value:A,children:I})};p.displayName=i+"Provider";function g(m,E){const I=E?.[n]?.[d]||u,P=b.useContext(I);if(P)return P;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[p,g]}const s=()=>{const i=t.map(l=>b.createContext(l));return function(u){const d=u?.[n]||i;return b.useMemo(()=>({[`__scope${n}`]:{...u,[n]:d}}),[u,d])}};return s.scopeName=n,[r,CO(s,...e)]}function CO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((u,{useScope:d,scopeName:p})=>{const m=d(i)[`__scope${p}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var _o=globalThis?.document?b.useLayoutEffect:()=>{},AO=BS[" useId ".trim().toString()]||(()=>{}),RO=0;function Ea(n){const[e,t]=b.useState(AO());return _o(()=>{t(r=>r??String(RO++))},[n]),e?`radix-${e}`:""}var PO=BS[" useInsertionEffect ".trim().toString()]||_o;function Ic({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,l]=kO({defaultProp:e,onChange:t}),u=n!==void 0,d=u?n:s;{const g=b.useRef(n!==void 0);b.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const p=b.useCallback(g=>{if(u){const m=NO(g)?g(n):g;m!==n&&l.current?.(m)}else i(g)},[u,n,i,l]);return[d,p]}function kO({defaultProp:n,onChange:e}){const[t,r]=b.useState(n),s=b.useRef(t),i=b.useRef(e);return PO(()=>{i.current=e},[e]),b.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,r,i]}function NO(n){return typeof n=="function"}function jn(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}function DO(n,e=globalThis?.document){const t=jn(n);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var OO="DismissableLayer",Gy="dismissableLayer.update",MO="dismissableLayer.pointerDownOutside",VO="dismissableLayer.focusOutside",Nb,c1=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vp=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...d}=n,p=b.useContext(c1),[g,m]=b.useState(null),E=g?.ownerDocument??globalThis?.document,[,I]=b.useState({}),P=xt(e,k=>m(k)),C=Array.from(p.layers),[A]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=C.indexOf(A),U=g?C.indexOf(g):-1,z=p.layersWithOutsidePointerEventsDisabled.size>0,q=U>=M,W=FO(k=>{const S=k.target,R=[...p.branches].some(O=>O.contains(S));!q||R||(s?.(k),l?.(k),k.defaultPrevented||u?.())},E),J=UO(k=>{const S=k.target;[...p.branches].some(O=>O.contains(S))||(i?.(k),l?.(k),k.defaultPrevented||u?.())},E);return DO(k=>{U===p.layers.size-1&&(r?.(k),!k.defaultPrevented&&u&&(k.preventDefault(),u()))},E),b.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Nb=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Db(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=Nb)}},[g,E,t,p]),b.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Db())},[g,p]),b.useEffect(()=>{const k=()=>I({});return document.addEventListener(Gy,k),()=>document.removeEventListener(Gy,k)},[]),v.jsx(ht.div,{...d,ref:P,style:{pointerEvents:z?q?"auto":"none":void 0,...n.style},onFocusCapture:je(n.onFocusCapture,J.onFocusCapture),onBlurCapture:je(n.onBlurCapture,J.onBlurCapture),onPointerDownCapture:je(n.onPointerDownCapture,W.onPointerDownCapture)})});Vp.displayName=OO;var LO="DismissableLayerBranch",jO=b.forwardRef((n,e)=>{const t=b.useContext(c1),r=b.useRef(null),s=xt(e,r);return b.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),v.jsx(ht.div,{...n,ref:s})});jO.displayName=LO;function FO(n,e=globalThis?.document){const t=jn(n),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let d=function(){u1(MO,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function UO(n,e=globalThis?.document){const t=jn(n),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&u1(VO,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Db(){const n=new CustomEvent(Gy);document.dispatchEvent(n)}function u1(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?a1(s,i):s.dispatchEvent(i)}var uy="focusScope.autoFocusOnMount",dy="focusScope.autoFocusOnUnmount",Ob={bubbles:!1,cancelable:!0},zO="FocusScope",n_=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=n,[u,d]=b.useState(null),p=jn(s),g=jn(i),m=b.useRef(null),E=xt(e,C=>d(C)),I=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let C=function(z){if(I.paused||!u)return;const q=z.target;u.contains(q)?m.current=q:ui(m.current,{select:!0})},A=function(z){if(I.paused||!u)return;const q=z.relatedTarget;q!==null&&(u.contains(q)||ui(m.current,{select:!0}))},M=function(z){if(document.activeElement===document.body)for(const W of z)W.removedNodes.length>0&&ui(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",A);const U=new MutationObserver(M);return u&&U.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",A),U.disconnect()}}},[r,u,I.paused]),b.useEffect(()=>{if(u){Vb.add(I);const C=document.activeElement;if(!u.contains(C)){const M=new CustomEvent(uy,Ob);u.addEventListener(uy,p),u.dispatchEvent(M),M.defaultPrevented||($O(GO(d1(u)),{select:!0}),document.activeElement===C&&ui(u))}return()=>{u.removeEventListener(uy,p),setTimeout(()=>{const M=new CustomEvent(dy,Ob);u.addEventListener(dy,g),u.dispatchEvent(M),M.defaultPrevented||ui(C??document.body,{select:!0}),u.removeEventListener(dy,g),Vb.remove(I)},0)}}},[u,p,g,I]);const P=b.useCallback(C=>{if(!t&&!r||I.paused)return;const A=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,M=document.activeElement;if(A&&M){const U=C.currentTarget,[z,q]=BO(U);z&&q?!C.shiftKey&&M===q?(C.preventDefault(),t&&ui(z,{select:!0})):C.shiftKey&&M===z&&(C.preventDefault(),t&&ui(q,{select:!0})):M===U&&C.preventDefault()}},[t,r,I.paused]);return v.jsx(ht.div,{tabIndex:-1,...l,ref:E,onKeyDown:P})});n_.displayName=zO;function $O(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ui(r,{select:e}),document.activeElement!==t)return}function BO(n){const e=d1(n),t=Mb(e,n),r=Mb(e.reverse(),n);return[t,r]}function d1(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Mb(n,e){for(const t of n)if(!qO(t,{upTo:e}))return t}function qO(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function HO(n){return n instanceof HTMLInputElement&&"select"in n}function ui(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&HO(n)&&e&&n.select()}}var Vb=WO();function WO(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Lb(n,e),n.unshift(e)},remove(e){n=Lb(n,e),n[0]?.resume()}}}function Lb(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function GO(n){return n.filter(e=>e.tagName!=="A")}var KO="Portal",Lp=b.forwardRef((n,e)=>{const{container:t,...r}=n,[s,i]=b.useState(!1);_o(()=>i(!0),[]);const l=t||s&&globalThis?.document?.body;return l?i1.createPortal(v.jsx(ht.div,{...r,ref:e}),l):null});Lp.displayName=KO;function ZO(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Kn=n=>{const{present:e,children:t}=n,r=QO(e),s=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),i=xt(r.ref,YO(s));return typeof t=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};Kn.displayName="Presence";function QO(n){const[e,t]=b.useState(),r=b.useRef(null),s=b.useRef(n),i=b.useRef("none"),l=n?"mounted":"unmounted",[u,d]=ZO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=tf(r.current);i.current=u==="mounted"?p:"none"},[u]),_o(()=>{const p=r.current,g=s.current;if(g!==n){const E=i.current,I=tf(p);n?d("MOUNT"):I==="none"||p?.display==="none"?d("UNMOUNT"):d(g&&E!==I?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,d]),_o(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,m=I=>{const C=tf(r.current).includes(CSS.escape(I.animationName));if(I.target===e&&C&&(d("ANIMATION_END"),!s.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},E=I=>{I.target===e&&(i.current=tf(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function tf(n){return n?.animationName||"none"}function YO(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var hy=0;function h1(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??jb()),document.body.insertAdjacentElement("beforeend",n[1]??jb()),hy++,()=>{hy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hy--}},[])}function jb(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ds=function(){return Ds=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ds.apply(this,arguments)};function f1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function XO(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var xf="right-scroll-bar-position",If="width-before-scroll-bar",JO="with-scroll-bars-hidden",eM="--removed-body-scroll-bar-size";function fy(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function tM(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var nM=typeof window<"u"?b.useLayoutEffect:b.useEffect,Fb=new WeakMap;function rM(n,e){var t=tM(null,function(r){return n.forEach(function(s){return fy(s,r)})});return nM(function(){var r=Fb.get(t);if(r){var s=new Set(r),i=new Set(n),l=t.current;s.forEach(function(u){i.has(u)||fy(u,null)}),i.forEach(function(u){s.has(u)||fy(u,l)})}Fb.set(t,n)},[n]),t}function sM(n){return n}function oM(n,e){e===void 0&&(e=sM);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var l=e(i,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(r=!0;t.length;){var l=t;t=[],l.forEach(i)}t={push:function(u){return i(u)},filter:function(){return t}}},assignMedium:function(i){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(i),l=t}var d=function(){var g=l;l=[],g.forEach(i)},p=function(){return Promise.resolve().then(d)};p(),t={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),t}}}};return s}function iM(n){n===void 0&&(n={});var e=oM(null);return e.options=Ds({async:!0,ssr:!1},n),e}var p1=function(n){var e=n.sideCar,t=f1(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ds({},t))};p1.isSideCarExport=!0;function aM(n,e){return n.useMedium(e),p1}var m1=iM(),py=function(){},jp=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:py,onWheelCapture:py,onTouchMoveCapture:py}),s=r[0],i=r[1],l=n.forwardProps,u=n.children,d=n.className,p=n.removeScrollBar,g=n.enabled,m=n.shards,E=n.sideCar,I=n.noRelative,P=n.noIsolation,C=n.inert,A=n.allowPinchZoom,M=n.as,U=M===void 0?"div":M,z=n.gapMode,q=f1(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),W=E,J=rM([t,e]),k=Ds(Ds({},q),s);return b.createElement(b.Fragment,null,g&&b.createElement(W,{sideCar:m1,removeScrollBar:p,shards:m,noRelative:I,noIsolation:P,inert:C,setCallbacks:i,allowPinchZoom:!!A,lockRef:t,gapMode:z}),l?b.cloneElement(b.Children.only(u),Ds(Ds({},k),{ref:J})):b.createElement(U,Ds({},k,{className:d,ref:J}),u))});jp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jp.classNames={fullWidth:If,zeroRight:xf};var lM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cM(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=lM();return e&&n.setAttribute("nonce",e),n}function uM(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function dM(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var hM=function(){var n=0,e=null;return{add:function(t){n==0&&(e=cM())&&(uM(e,t),dM(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},fM=function(){var n=hM();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},g1=function(){var n=fM(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},pM={left:0,top:0,right:0,gap:0},my=function(n){return parseInt(n||"",10)||0},mM=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[my(t),my(r),my(s)]},gM=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return pM;var e=mM(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},yM=g1(),Zl="data-scroll-locked",vM=function(n,e,t,r){var s=n.left,i=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(JO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Zl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xf,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(If,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(xf," .").concat(xf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(If," .").concat(If,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zl,`] {
    `).concat(eM,": ").concat(u,`px;
  }
`)},Ub=function(){var n=parseInt(document.body.getAttribute(Zl)||"0",10);return isFinite(n)?n:0},_M=function(){b.useEffect(function(){return document.body.setAttribute(Zl,(Ub()+1).toString()),function(){var n=Ub()-1;n<=0?document.body.removeAttribute(Zl):document.body.setAttribute(Zl,n.toString())}},[])},wM=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;_M();var i=b.useMemo(function(){return gM(s)},[s]);return b.createElement(yM,{styles:vM(i,!e,s,t?"":"!important")})},Ky=!1;if(typeof window<"u")try{var nf=Object.defineProperty({},"passive",{get:function(){return Ky=!0,!0}});window.addEventListener("test",nf,nf),window.removeEventListener("test",nf,nf)}catch{Ky=!1}var Dl=Ky?{passive:!1}:!1,EM=function(n){return n.tagName==="TEXTAREA"},y1=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!EM(n)&&t[e]==="visible")},bM=function(n){return y1(n,"overflowY")},xM=function(n){return y1(n,"overflowX")},zb=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=v1(n,r);if(s){var i=_1(n,r),l=i[1],u=i[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},IM=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},SM=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},v1=function(n,e){return n==="v"?bM(e):xM(e)},_1=function(n,e){return n==="v"?IM(e):SM(e)},TM=function(n,e){return n==="h"&&e==="rtl"?-1:1},CM=function(n,e,t,r,s){var i=TM(n,window.getComputedStyle(e).direction),l=i*r,u=t.target,d=e.contains(u),p=!1,g=l>0,m=0,E=0;do{if(!u)break;var I=_1(n,u),P=I[0],C=I[1],A=I[2],M=C-A-i*P;(P||M)&&v1(n,u)&&(m+=M,E+=P);var U=u.parentNode;u=U&&U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?U.host:U}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(g&&Math.abs(m)<1||!g&&Math.abs(E)<1)&&(p=!0),p},rf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},$b=function(n){return[n.deltaX,n.deltaY]},Bb=function(n){return n&&"current"in n?n.current:n},AM=function(n,e){return n[0]===e[0]&&n[1]===e[1]},RM=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},PM=0,Ol=[];function kM(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),s=b.useState(PM++)[0],i=b.useState(g1)[0],l=b.useRef(n);b.useEffect(function(){l.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var C=XO([n.lockRef.current],(n.shards||[]).map(Bb),!0).filter(Boolean);return C.forEach(function(A){return A.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var u=b.useCallback(function(C,A){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var M=rf(C),U=t.current,z="deltaX"in C?C.deltaX:U[0]-M[0],q="deltaY"in C?C.deltaY:U[1]-M[1],W,J=C.target,k=Math.abs(z)>Math.abs(q)?"h":"v";if("touches"in C&&k==="h"&&J.type==="range")return!1;var S=zb(k,J);if(!S)return!0;if(S?W=k:(W=k==="v"?"h":"v",S=zb(k,J)),!S)return!1;if(!r.current&&"changedTouches"in C&&(z||q)&&(r.current=W),!W)return!0;var R=r.current||W;return CM(R,A,C,R==="h"?z:q)},[]),d=b.useCallback(function(C){var A=C;if(!(!Ol.length||Ol[Ol.length-1]!==i)){var M="deltaY"in A?$b(A):rf(A),U=e.current.filter(function(W){return W.name===A.type&&(W.target===A.target||A.target===W.shadowParent)&&AM(W.delta,M)})[0];if(U&&U.should){A.cancelable&&A.preventDefault();return}if(!U){var z=(l.current.shards||[]).map(Bb).filter(Boolean).filter(function(W){return W.contains(A.target)}),q=z.length>0?u(A,z[0]):!l.current.noIsolation;q&&A.cancelable&&A.preventDefault()}}},[]),p=b.useCallback(function(C,A,M,U){var z={name:C,delta:A,target:M,should:U,shadowParent:NM(M)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(q){return q!==z})},1)},[]),g=b.useCallback(function(C){t.current=rf(C),r.current=void 0},[]),m=b.useCallback(function(C){p(C.type,$b(C),C.target,u(C,n.lockRef.current))},[]),E=b.useCallback(function(C){p(C.type,rf(C),C.target,u(C,n.lockRef.current))},[]);b.useEffect(function(){return Ol.push(i),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:E}),document.addEventListener("wheel",d,Dl),document.addEventListener("touchmove",d,Dl),document.addEventListener("touchstart",g,Dl),function(){Ol=Ol.filter(function(C){return C!==i}),document.removeEventListener("wheel",d,Dl),document.removeEventListener("touchmove",d,Dl),document.removeEventListener("touchstart",g,Dl)}},[]);var I=n.removeScrollBar,P=n.inert;return b.createElement(b.Fragment,null,P?b.createElement(i,{styles:RM(s)}):null,I?b.createElement(wM,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function NM(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const DM=aM(m1,kM);var r_=b.forwardRef(function(n,e){return b.createElement(jp,Ds({},n,{ref:e,sideCar:DM}))});r_.classNames=jp.classNames;var OM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ml=new WeakMap,sf=new WeakMap,of={},gy=0,w1=function(n){return n&&(n.host||w1(n.parentNode))},MM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=w1(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},VM=function(n,e,t,r){var s=MM(e,Array.isArray(n)?n:[n]);of[t]||(of[t]=new WeakMap);var i=of[t],l=[],u=new Set,d=new Set(s),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};s.forEach(p);var g=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(E){if(u.has(E))g(E);else try{var I=E.getAttribute(r),P=I!==null&&I!=="false",C=(Ml.get(E)||0)+1,A=(i.get(E)||0)+1;Ml.set(E,C),i.set(E,A),l.push(E),C===1&&P&&sf.set(E,!0),A===1&&E.setAttribute(t,"true"),P||E.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",E,M)}})};return g(e),u.clear(),gy++,function(){l.forEach(function(m){var E=Ml.get(m)-1,I=i.get(m)-1;Ml.set(m,E),i.set(m,I),E||(sf.has(m)||m.removeAttribute(r),sf.delete(m)),I||m.removeAttribute(t)}),gy--,gy||(Ml=new WeakMap,Ml=new WeakMap,sf=new WeakMap,of={})}},E1=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=OM(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),VM(r,s,t,"aria-hidden")):function(){return null}},Fp="Dialog",[b1]=Ws(Fp),[LM,us]=b1(Fp),x1=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=n,u=b.useRef(null),d=b.useRef(null),[p,g]=Ic({prop:r,defaultProp:s??!1,onChange:i,caller:Fp});return v.jsx(LM,{scope:e,triggerRef:u,contentRef:d,contentId:Ea(),titleId:Ea(),descriptionId:Ea(),open:p,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(m=>!m),[g]),modal:l,children:t})};x1.displayName=Fp;var I1="DialogTrigger",S1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=us(I1,t),i=xt(e,s.triggerRef);return v.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":i_(s.open),...r,ref:i,onClick:je(n.onClick,s.onOpenToggle)})});S1.displayName=I1;var s_="DialogPortal",[jM,T1]=b1(s_,{forceMount:void 0}),C1=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=us(s_,e);return v.jsx(jM,{scope:e,forceMount:t,children:b.Children.map(r,l=>v.jsx(Kn,{present:t||i.open,children:v.jsx(Lp,{asChild:!0,container:s,children:l})}))})};C1.displayName=s_;var qf="DialogOverlay",A1=b.forwardRef((n,e)=>{const t=T1(qf,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=us(qf,n.__scopeDialog);return i.modal?v.jsx(Kn,{present:r||i.open,children:v.jsx(UM,{...s,ref:e})}):null});A1.displayName=qf;var FM=rc("DialogOverlay.RemoveScroll"),UM=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=us(qf,t);return v.jsx(r_,{as:FM,allowPinchZoom:!0,shards:[s.contentRef],children:v.jsx(ht.div,{"data-state":i_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Aa="DialogContent",R1=b.forwardRef((n,e)=>{const t=T1(Aa,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=us(Aa,n.__scopeDialog);return v.jsx(Kn,{present:r||i.open,children:i.modal?v.jsx(zM,{...s,ref:e}):v.jsx($M,{...s,ref:e})})});R1.displayName=Aa;var zM=b.forwardRef((n,e)=>{const t=us(Aa,n.__scopeDialog),r=b.useRef(null),s=xt(e,t.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return E1(i)},[]),v.jsx(P1,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(n.onCloseAutoFocus,i=>{i.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:je(n.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:je(n.onFocusOutside,i=>i.preventDefault())})}),$M=b.forwardRef((n,e)=>{const t=us(Aa,n.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return v.jsx(P1,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{n.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{n.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;t.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),P1=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=n,u=us(Aa,t),d=b.useRef(null),p=xt(e,d);return h1(),v.jsxs(v.Fragment,{children:[v.jsx(n_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:v.jsx(Vp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":i_(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(BM,{titleId:u.titleId}),v.jsx(HM,{contentRef:d,descriptionId:u.descriptionId})]})]})}),o_="DialogTitle",k1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=us(o_,t);return v.jsx(ht.h2,{id:s.titleId,...r,ref:e})});k1.displayName=o_;var N1="DialogDescription",D1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=us(N1,t);return v.jsx(ht.p,{id:s.descriptionId,...r,ref:e})});D1.displayName=N1;var O1="DialogClose",M1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=us(O1,t);return v.jsx(ht.button,{type:"button",...r,ref:e,onClick:je(n.onClick,()=>s.onOpenChange(!1))})});M1.displayName=O1;function i_(n){return n?"open":"closed"}var V1="DialogTitleWarning",[hW,L1]=TO(V1,{contentName:Aa,titleName:o_,docsSlug:"dialog"}),BM=({titleId:n})=>{const e=L1(V1),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},qM="DialogDescriptionWarning",HM=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${L1(qM).contentName}}.`;return b.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},j1=x1,WM=S1,F1=C1,a_=A1,l_=R1,c_=k1,u_=D1,U1=M1;const GM=j1,KM=F1,z1=b.forwardRef(({className:n,...e},t)=>v.jsx(a_,{className:ze("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));z1.displayName=a_.displayName;const ZM=Op("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$1=b.forwardRef(({side:n="right",className:e,children:t,...r},s)=>v.jsxs(KM,{children:[v.jsx(z1,{}),v.jsxs(l_,{ref:s,className:ze(ZM({side:n}),e),...r,children:[t,v.jsxs(U1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[v.jsx(Jv,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$1.displayName=l_.displayName;const B1=({className:n,...e})=>v.jsx("div",{className:ze("flex flex-col space-y-2 text-center sm:text-left",n),...e});B1.displayName="SheetHeader";const q1=b.forwardRef(({className:n,...e},t)=>v.jsx(c_,{ref:t,className:ze("text-lg font-semibold text-foreground",n),...e}));q1.displayName=c_.displayName;const H1=b.forwardRef(({className:n,...e},t)=>v.jsx(u_,{ref:t,className:ze("text-sm text-muted-foreground",n),...e}));H1.displayName=u_.displayName;const QM=["top","right","bottom","left"],Ti=Math.min,Er=Math.max,Hf=Math.round,af=Math.floor,js=n=>({x:n,y:n}),YM={left:"right",right:"left",bottom:"top",top:"bottom"},XM={start:"end",end:"start"};function Zy(n,e,t){return Er(n,Ti(e,t))}function wo(n,e){return typeof n=="function"?n(e):n}function Eo(n){return n.split("-")[0]}function Sc(n){return n.split("-")[1]}function d_(n){return n==="x"?"y":"x"}function h_(n){return n==="y"?"height":"width"}const JM=new Set(["top","bottom"]);function Ms(n){return JM.has(Eo(n))?"y":"x"}function f_(n){return d_(Ms(n))}function eV(n,e,t){t===void 0&&(t=!1);const r=Sc(n),s=f_(n),i=h_(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=Wf(l)),[l,Wf(l)]}function tV(n){const e=Wf(n);return[Qy(n),e,Qy(e)]}function Qy(n){return n.replace(/start|end/g,e=>XM[e])}const qb=["left","right"],Hb=["right","left"],nV=["top","bottom"],rV=["bottom","top"];function sV(n,e,t){switch(n){case"top":case"bottom":return t?e?Hb:qb:e?qb:Hb;case"left":case"right":return e?nV:rV;default:return[]}}function oV(n,e,t,r){const s=Sc(n);let i=sV(Eo(n),t==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(Qy)))),i}function Wf(n){return n.replace(/left|right|bottom|top/g,e=>YM[e])}function iV(n){return{top:0,right:0,bottom:0,left:0,...n}}function W1(n){return typeof n!="number"?iV(n):{top:n,right:n,bottom:n,left:n}}function Gf(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function Wb(n,e,t){let{reference:r,floating:s}=n;const i=Ms(e),l=f_(e),u=h_(l),d=Eo(e),p=i==="y",g=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,E=r[u]/2-s[u]/2;let I;switch(d){case"top":I={x:g,y:r.y-s.height};break;case"bottom":I={x:g,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y:m};break;case"left":I={x:r.x-s.width,y:m};break;default:I={x:r.x,y:r.y}}switch(Sc(e)){case"start":I[l]-=E*(t&&p?-1:1);break;case"end":I[l]+=E*(t&&p?-1:1);break}return I}const aV=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=t,u=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y:m}=Wb(p,r,d),E=r,I={},P=0;for(let C=0;C<u.length;C++){const{name:A,fn:M}=u[C],{x:U,y:z,data:q,reset:W}=await M({x:g,y:m,initialPlacement:r,placement:E,strategy:s,middlewareData:I,rects:p,platform:l,elements:{reference:n,floating:e}});g=U??g,m=z??m,I={...I,[A]:{...I[A],...q}},W&&P<=50&&(P++,typeof W=="object"&&(W.placement&&(E=W.placement),W.rects&&(p=W.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):W.rects),{x:g,y:m}=Wb(p,E,d)),C=-1)}return{x:g,y:m,placement:E,strategy:s,middlewareData:I}};async function Qu(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:u,strategy:d}=n,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:E=!1,padding:I=0}=wo(e,n),P=W1(I),A=u[E?m==="floating"?"reference":"floating":m],M=Gf(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(A)))==null||t?A:A.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:d})),U=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,z=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),q=await(i.isElement==null?void 0:i.isElement(z))?await(i.getScale==null?void 0:i.getScale(z))||{x:1,y:1}:{x:1,y:1},W=Gf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:U,offsetParent:z,strategy:d}):U);return{top:(M.top-W.top+P.top)/q.y,bottom:(W.bottom-M.bottom+P.bottom)/q.y,left:(M.left-W.left+P.left)/q.x,right:(W.right-M.right+P.right)/q.x}}const lV=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:l,elements:u,middlewareData:d}=e,{element:p,padding:g=0}=wo(n,e)||{};if(p==null)return{};const m=W1(g),E={x:t,y:r},I=f_(s),P=h_(I),C=await l.getDimensions(p),A=I==="y",M=A?"top":"left",U=A?"bottom":"right",z=A?"clientHeight":"clientWidth",q=i.reference[P]+i.reference[I]-E[I]-i.floating[P],W=E[I]-i.reference[I],J=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let k=J?J[z]:0;(!k||!await(l.isElement==null?void 0:l.isElement(J)))&&(k=u.floating[z]||i.floating[P]);const S=q/2-W/2,R=k/2-C[P]/2-1,O=Ti(m[M],R),V=Ti(m[U],R),L=O,N=k-C[P]-V,de=k/2-C[P]/2+S,Ve=Zy(L,de,N),pe=!d.arrow&&Sc(s)!=null&&de!==Ve&&i.reference[P]/2-(de<L?O:V)-C[P]/2<0,me=pe?de<L?de-L:de-N:0;return{[I]:E[I]+me,data:{[I]:Ve,centerOffset:de-Ve-me,...pe&&{alignmentOffset:me}},reset:pe}}}),cV=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:d,elements:p}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:E,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:C=!0,...A}=wo(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const M=Eo(s),U=Ms(u),z=Eo(u)===u,q=await(d.isRTL==null?void 0:d.isRTL(p.floating)),W=E||(z||!C?[Wf(u)]:tV(u)),J=P!=="none";!E&&J&&W.push(...oV(u,C,P,q));const k=[u,...W],S=await Qu(e,A),R=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&R.push(S[M]),m){const de=eV(s,l,q);R.push(S[de[0]],S[de[1]])}if(O=[...O,{placement:s,overflows:R}],!R.every(de=>de<=0)){var V,L;const de=(((V=i.flip)==null?void 0:V.index)||0)+1,Ve=k[de];if(Ve&&(!(m==="alignment"?U!==Ms(Ve):!1)||O.every(H=>Ms(H.placement)===U?H.overflows[0]>0:!0)))return{data:{index:de,overflows:O},reset:{placement:Ve}};let pe=(L=O.filter(me=>me.overflows[0]<=0).sort((me,H)=>me.overflows[1]-H.overflows[1])[0])==null?void 0:L.placement;if(!pe)switch(I){case"bestFit":{var N;const me=(N=O.filter(H=>{if(J){const re=Ms(H.placement);return re===U||re==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(re=>re>0).reduce((re,Y)=>re+Y,0)]).sort((H,re)=>H[1]-re[1])[0])==null?void 0:N[0];me&&(pe=me);break}case"initialPlacement":pe=u;break}if(s!==pe)return{reset:{placement:pe}}}return{}}}};function Gb(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Kb(n){return QM.some(e=>n[e]>=0)}const uV=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=wo(n,e);switch(r){case"referenceHidden":{const i=await Qu(e,{...s,elementContext:"reference"}),l=Gb(i,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Kb(l)}}}case"escaped":{const i=await Qu(e,{...s,altBoundary:!0}),l=Gb(i,t.floating);return{data:{escapedOffsets:l,escaped:Kb(l)}}}default:return{}}}}},G1=new Set(["left","top"]);async function dV(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Eo(t),u=Sc(t),d=Ms(t)==="y",p=G1.has(l)?-1:1,g=i&&d?-1:1,m=wo(e,n);let{mainAxis:E,crossAxis:I,alignmentAxis:P}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof P=="number"&&(I=u==="end"?P*-1:P),d?{x:I*g,y:E*p}:{x:E*p,y:I*g}}const hV=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:l,middlewareData:u}=e,d=await dV(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:l}}}}},fV=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:A=>{let{x:M,y:U}=A;return{x:M,y:U}}},...d}=wo(n,e),p={x:t,y:r},g=await Qu(e,d),m=Ms(Eo(s)),E=d_(m);let I=p[E],P=p[m];if(i){const A=E==="y"?"top":"left",M=E==="y"?"bottom":"right",U=I+g[A],z=I-g[M];I=Zy(U,I,z)}if(l){const A=m==="y"?"top":"left",M=m==="y"?"bottom":"right",U=P+g[A],z=P-g[M];P=Zy(U,P,z)}const C=u.fn({...e,[E]:I,[m]:P});return{...C,data:{x:C.x-t,y:C.y-r,enabled:{[E]:i,[m]:l}}}}}},pV=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:u=0,mainAxis:d=!0,crossAxis:p=!0}=wo(n,e),g={x:t,y:r},m=Ms(s),E=d_(m);let I=g[E],P=g[m];const C=wo(u,e),A=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const z=E==="y"?"height":"width",q=i.reference[E]-i.floating[z]+A.mainAxis,W=i.reference[E]+i.reference[z]-A.mainAxis;I<q?I=q:I>W&&(I=W)}if(p){var M,U;const z=E==="y"?"width":"height",q=G1.has(Eo(s)),W=i.reference[m]-i.floating[z]+(q&&((M=l.offset)==null?void 0:M[m])||0)+(q?0:A.crossAxis),J=i.reference[m]+i.reference[z]+(q?0:((U=l.offset)==null?void 0:U[m])||0)-(q?A.crossAxis:0);P<W?P=W:P>J&&(P=J)}return{[E]:I,[m]:P}}}},mV=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:l,elements:u}=e,{apply:d=()=>{},...p}=wo(n,e),g=await Qu(e,p),m=Eo(s),E=Sc(s),I=Ms(s)==="y",{width:P,height:C}=i.floating;let A,M;m==="top"||m==="bottom"?(A=m,M=E===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(M=m,A=E==="end"?"top":"bottom");const U=C-g.top-g.bottom,z=P-g.left-g.right,q=Ti(C-g[A],U),W=Ti(P-g[M],z),J=!e.middlewareData.shift;let k=q,S=W;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=U),J&&!E){const O=Er(g.left,0),V=Er(g.right,0),L=Er(g.top,0),N=Er(g.bottom,0);I?S=P-2*(O!==0||V!==0?O+V:Er(g.left,g.right)):k=C-2*(L!==0||N!==0?L+N:Er(g.top,g.bottom))}await d({...e,availableWidth:S,availableHeight:k});const R=await l.getDimensions(u.floating);return P!==R.width||C!==R.height?{reset:{rects:!0}}:{}}}};function Up(){return typeof window<"u"}function Tc(n){return K1(n)?(n.nodeName||"").toLowerCase():"#document"}function xr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Gs(n){var e;return(e=(K1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function K1(n){return Up()?n instanceof Node||n instanceof xr(n).Node:!1}function is(n){return Up()?n instanceof Element||n instanceof xr(n).Element:!1}function Bs(n){return Up()?n instanceof HTMLElement||n instanceof xr(n).HTMLElement:!1}function Zb(n){return!Up()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof xr(n).ShadowRoot}const gV=new Set(["inline","contents"]);function _d(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=as(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!gV.has(s)}const yV=new Set(["table","td","th"]);function vV(n){return yV.has(Tc(n))}const _V=[":popover-open",":modal"];function zp(n){return _V.some(e=>{try{return n.matches(e)}catch{return!1}})}const wV=["transform","translate","scale","rotate","perspective"],EV=["transform","translate","scale","rotate","perspective","filter"],bV=["paint","layout","strict","content"];function p_(n){const e=m_(),t=is(n)?as(n):n;return wV.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||EV.some(r=>(t.willChange||"").includes(r))||bV.some(r=>(t.contain||"").includes(r))}function xV(n){let e=Ci(n);for(;Bs(e)&&!sc(e);){if(p_(e))return e;if(zp(e))return null;e=Ci(e)}return null}function m_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IV=new Set(["html","body","#document"]);function sc(n){return IV.has(Tc(n))}function as(n){return xr(n).getComputedStyle(n)}function $p(n){return is(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ci(n){if(Tc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Zb(n)&&n.host||Gs(n);return Zb(e)?e.host:e}function Z1(n){const e=Ci(n);return sc(e)?n.ownerDocument?n.ownerDocument.body:n.body:Bs(e)&&_d(e)?e:Z1(e)}function Yu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=Z1(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),l=xr(s);if(i){const u=Yy(l);return e.concat(l,l.visualViewport||[],_d(s)?s:[],u&&t?Yu(u):[])}return e.concat(s,Yu(s,[],t))}function Yy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Q1(n){const e=as(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Bs(n),i=s?n.offsetWidth:t,l=s?n.offsetHeight:r,u=Hf(t)!==i||Hf(r)!==l;return u&&(t=i,r=l),{width:t,height:r,$:u}}function g_(n){return is(n)?n:n.contextElement}function Ql(n){const e=g_(n);if(!Bs(e))return js(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=Q1(e);let l=(i?Hf(t.width):t.width)/r,u=(i?Hf(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const SV=js(0);function Y1(n){const e=xr(n);return!m_()||!e.visualViewport?SV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TV(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==xr(n)?!1:e}function Ra(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=g_(n);let l=js(1);e&&(r?is(r)&&(l=Ql(r)):l=Ql(n));const u=TV(i,t,r)?Y1(i):js(0);let d=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,g=s.width/l.x,m=s.height/l.y;if(i){const E=xr(i),I=r&&is(r)?xr(r):r;let P=E,C=Yy(P);for(;C&&r&&I!==P;){const A=Ql(C),M=C.getBoundingClientRect(),U=as(C),z=M.left+(C.clientLeft+parseFloat(U.paddingLeft))*A.x,q=M.top+(C.clientTop+parseFloat(U.paddingTop))*A.y;d*=A.x,p*=A.y,g*=A.x,m*=A.y,d+=z,p+=q,P=xr(C),C=Yy(P)}}return Gf({width:g,height:m,x:d,y:p})}function Bp(n,e){const t=$p(n).scrollLeft;return e?e.left+t:Ra(Gs(n)).left+t}function X1(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Bp(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function CV(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",l=Gs(r),u=e?zp(e.floating):!1;if(r===l||u&&i)return t;let d={scrollLeft:0,scrollTop:0},p=js(1);const g=js(0),m=Bs(r);if((m||!m&&!i)&&((Tc(r)!=="body"||_d(l))&&(d=$p(r)),Bs(r))){const I=Ra(r);p=Ql(r),g.x=I.x+r.clientLeft,g.y=I.y+r.clientTop}const E=l&&!m&&!i?X1(l,d):js(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-d.scrollLeft*p.x+g.x+E.x,y:t.y*p.y-d.scrollTop*p.y+g.y+E.y}}function AV(n){return Array.from(n.getClientRects())}function RV(n){const e=Gs(n),t=$p(n),r=n.ownerDocument.body,s=Er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Bp(n);const u=-t.scrollTop;return as(r).direction==="rtl"&&(l+=Er(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:u}}const Qb=25;function PV(n,e){const t=xr(n),r=Gs(n),s=t.visualViewport;let i=r.clientWidth,l=r.clientHeight,u=0,d=0;if(s){i=s.width,l=s.height;const g=m_();(!g||g&&e==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const p=Bp(r);if(p<=0){const g=r.ownerDocument,m=g.body,E=getComputedStyle(m),I=g.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,P=Math.abs(r.clientWidth-m.clientWidth-I);P<=Qb&&(i-=P)}else p<=Qb&&(i+=p);return{width:i,height:l,x:u,y:d}}const kV=new Set(["absolute","fixed"]);function NV(n,e){const t=Ra(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=Bs(n)?Ql(n):js(1),l=n.clientWidth*i.x,u=n.clientHeight*i.y,d=s*i.x,p=r*i.y;return{width:l,height:u,x:d,y:p}}function Yb(n,e,t){let r;if(e==="viewport")r=PV(n,t);else if(e==="document")r=RV(Gs(n));else if(is(e))r=NV(e,t);else{const s=Y1(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Gf(r)}function J1(n,e){const t=Ci(n);return t===e||!is(t)||sc(t)?!1:as(t).position==="fixed"||J1(t,e)}function DV(n,e){const t=e.get(n);if(t)return t;let r=Yu(n,[],!1).filter(u=>is(u)&&Tc(u)!=="body"),s=null;const i=as(n).position==="fixed";let l=i?Ci(n):n;for(;is(l)&&!sc(l);){const u=as(l),d=p_(l);!d&&u.position==="fixed"&&(s=null),(i?!d&&!s:!d&&u.position==="static"&&!!s&&kV.has(s.position)||_d(l)&&!d&&J1(n,l))?r=r.filter(g=>g!==l):s=u,l=Ci(l)}return e.set(n,r),r}function OV(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?zp(e)?[]:DV(e,this._c):[].concat(t),r],u=l[0],d=l.reduce((p,g)=>{const m=Yb(e,g,s);return p.top=Er(m.top,p.top),p.right=Ti(m.right,p.right),p.bottom=Ti(m.bottom,p.bottom),p.left=Er(m.left,p.left),p},Yb(e,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function MV(n){const{width:e,height:t}=Q1(n);return{width:e,height:t}}function VV(n,e,t){const r=Bs(e),s=Gs(e),i=t==="fixed",l=Ra(n,!0,i,e);let u={scrollLeft:0,scrollTop:0};const d=js(0);function p(){d.x=Bp(s)}if(r||!r&&!i)if((Tc(e)!=="body"||_d(s))&&(u=$p(e)),r){const I=Ra(e,!0,i,e);d.x=I.x+e.clientLeft,d.y=I.y+e.clientTop}else s&&p();i&&!r&&s&&p();const g=s&&!r&&!i?X1(s,u):js(0),m=l.left+u.scrollLeft-d.x-g.x,E=l.top+u.scrollTop-d.y-g.y;return{x:m,y:E,width:l.width,height:l.height}}function yy(n){return as(n).position==="static"}function Xb(n,e){if(!Bs(n)||as(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Gs(n)===t&&(t=t.ownerDocument.body),t}function eT(n,e){const t=xr(n);if(zp(n))return t;if(!Bs(n)){let s=Ci(n);for(;s&&!sc(s);){if(is(s)&&!yy(s))return s;s=Ci(s)}return t}let r=Xb(n,e);for(;r&&vV(r)&&yy(r);)r=Xb(r,e);return r&&sc(r)&&yy(r)&&!p_(r)?t:r||xV(n)||t}const LV=async function(n){const e=this.getOffsetParent||eT,t=this.getDimensions,r=await t(n.floating);return{reference:VV(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jV(n){return as(n).direction==="rtl"}const FV={convertOffsetParentRelativeRectToViewportRelativeRect:CV,getDocumentElement:Gs,getClippingRect:OV,getOffsetParent:eT,getElementRects:LV,getClientRects:AV,getDimensions:MV,getScale:Ql,isElement:is,isRTL:jV};function tT(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function UV(n,e){let t=null,r;const s=Gs(n);function i(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const p=n.getBoundingClientRect(),{left:g,top:m,width:E,height:I}=p;if(u||e(),!E||!I)return;const P=af(m),C=af(s.clientWidth-(g+E)),A=af(s.clientHeight-(m+I)),M=af(g),z={rootMargin:-P+"px "+-C+"px "+-A+"px "+-M+"px",threshold:Er(0,Ti(1,d))||1};let q=!0;function W(J){const k=J[0].intersectionRatio;if(k!==d){if(!q)return l();k?l(!1,k):r=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!tT(p,n.getBoundingClientRect())&&l(),q=!1}try{t=new IntersectionObserver(W,{...z,root:s.ownerDocument})}catch{t=new IntersectionObserver(W,z)}t.observe(n)}return l(!0),i}function zV(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=g_(n),g=s||i?[...p?Yu(p):[],...Yu(e)]:[];g.forEach(M=>{s&&M.addEventListener("scroll",t,{passive:!0}),i&&M.addEventListener("resize",t)});const m=p&&u?UV(p,t):null;let E=-1,I=null;l&&(I=new ResizeObserver(M=>{let[U]=M;U&&U.target===p&&I&&(I.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var z;(z=I)==null||z.observe(e)})),t()}),p&&!d&&I.observe(p),I.observe(e));let P,C=d?Ra(n):null;d&&A();function A(){const M=Ra(n);C&&!tT(C,M)&&t(),C=M,P=requestAnimationFrame(A)}return t(),()=>{var M;g.forEach(U=>{s&&U.removeEventListener("scroll",t),i&&U.removeEventListener("resize",t)}),m?.(),(M=I)==null||M.disconnect(),I=null,d&&cancelAnimationFrame(P)}}const $V=hV,BV=fV,qV=cV,HV=mV,WV=uV,Jb=lV,GV=pV,KV=(n,e,t)=>{const r=new Map,s={platform:FV,...t},i={...s.platform,_c:r};return aV(n,e,{...s,platform:i})};var ZV=typeof document<"u",QV=function(){},Sf=ZV?b.useLayoutEffect:QV;function Kf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Kf(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Kf(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function nT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function ex(n,e){const t=nT(n);return Math.round(e*t)/t}function vy(n){const e=b.useRef(n);return Sf(()=>{e.current=n}),e}function YV(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:d,open:p}=n,[g,m]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,I]=b.useState(r);Kf(E,r)||I(r);const[P,C]=b.useState(null),[A,M]=b.useState(null),U=b.useCallback(H=>{H!==J.current&&(J.current=H,C(H))},[]),z=b.useCallback(H=>{H!==k.current&&(k.current=H,M(H))},[]),q=i||P,W=l||A,J=b.useRef(null),k=b.useRef(null),S=b.useRef(g),R=d!=null,O=vy(d),V=vy(s),L=vy(p),N=b.useCallback(()=>{if(!J.current||!k.current)return;const H={placement:e,strategy:t,middleware:E};V.current&&(H.platform=V.current),KV(J.current,k.current,H).then(re=>{const Y={...re,isPositioned:L.current!==!1};de.current&&!Kf(S.current,Y)&&(S.current=Y,t_.flushSync(()=>{m(Y)}))})},[E,e,t,V,L]);Sf(()=>{p===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[p]);const de=b.useRef(!1);Sf(()=>(de.current=!0,()=>{de.current=!1}),[]),Sf(()=>{if(q&&(J.current=q),W&&(k.current=W),q&&W){if(O.current)return O.current(q,W,N);N()}},[q,W,N,O,R]);const Ve=b.useMemo(()=>({reference:J,floating:k,setReference:U,setFloating:z}),[U,z]),pe=b.useMemo(()=>({reference:q,floating:W}),[q,W]),me=b.useMemo(()=>{const H={position:t,left:0,top:0};if(!pe.floating)return H;const re=ex(pe.floating,g.x),Y=ex(pe.floating,g.y);return u?{...H,transform:"translate("+re+"px, "+Y+"px)",...nT(pe.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:re,top:Y}},[t,u,pe.floating,g.x,g.y]);return b.useMemo(()=>({...g,update:N,refs:Ve,elements:pe,floatingStyles:me}),[g,N,Ve,pe,me])}const XV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Jb({element:r.current,padding:s}).fn(t):{}:r?Jb({element:r,padding:s}).fn(t):{}}}},JV=(n,e)=>({...$V(n),options:[n,e]}),eL=(n,e)=>({...BV(n),options:[n,e]}),tL=(n,e)=>({...GV(n),options:[n,e]}),nL=(n,e)=>({...qV(n),options:[n,e]}),rL=(n,e)=>({...HV(n),options:[n,e]}),sL=(n,e)=>({...WV(n),options:[n,e]}),oL=(n,e)=>({...XV(n),options:[n,e]});var iL="Arrow",rT=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return v.jsx(ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});rT.displayName=iL;var aL=rT;function y_(n){const[e,t]=b.useState(void 0);return _o(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const d=i.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var v_="Popper",[sT,qp]=Ws(v_),[lL,oT]=sT(v_),iT=n=>{const{__scopePopper:e,children:t}=n,[r,s]=b.useState(null);return v.jsx(lL,{scope:e,anchor:r,onAnchorChange:s,children:t})};iT.displayName=v_;var aT="PopperAnchor",lT=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=oT(aT,t),l=b.useRef(null),u=xt(e,l),d=b.useRef(null);return b.useEffect(()=>{const p=d.current;d.current=r?.current||l.current,p!==d.current&&i.onAnchorChange(d.current)}),r?null:v.jsx(ht.div,{...s,ref:u})});lT.displayName=aT;var __="PopperContent",[cL,uL]=sT(__),cT=b.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:E=!1,updatePositionStrategy:I="optimized",onPlaced:P,...C}=n,A=oT(__,t),[M,U]=b.useState(null),z=xt(e,we=>U(we)),[q,W]=b.useState(null),J=y_(q),k=J?.width??0,S=J?.height??0,R=r+(i!=="center"?"-"+i:""),O=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},V=Array.isArray(p)?p:[p],L=V.length>0,N={padding:O,boundary:V.filter(hL),altBoundary:L},{refs:de,floatingStyles:Ve,placement:pe,isPositioned:me,middlewareData:H}=YV({strategy:"fixed",placement:R,whileElementsMounted:(...we)=>zV(...we,{animationFrame:I==="always"}),elements:{reference:A.anchor},middleware:[JV({mainAxis:s+S,alignmentAxis:l}),d&&eL({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?tL():void 0,...N}),d&&nL({...N}),rL({...N,apply:({elements:we,rects:xe,availableWidth:Ge,availableHeight:Qe})=>{const{width:ye,height:It}=xe.reference,pn=we.floating.style;pn.setProperty("--radix-popper-available-width",`${Ge}px`),pn.setProperty("--radix-popper-available-height",`${Qe}px`),pn.setProperty("--radix-popper-anchor-width",`${ye}px`),pn.setProperty("--radix-popper-anchor-height",`${It}px`)}}),q&&oL({element:q,padding:u}),fL({arrowWidth:k,arrowHeight:S}),E&&sL({strategy:"referenceHidden",...N})]}),[re,Y]=hT(pe),F=jn(P);_o(()=>{me&&F?.()},[me,F]);const G=H.arrow?.x,oe=H.arrow?.y,ie=H.arrow?.centerOffset!==0,[fe,Ie]=b.useState();return _o(()=>{M&&Ie(window.getComputedStyle(M).zIndex)},[M]),v.jsx("div",{ref:de.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ve,transform:me?Ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:v.jsx(cL,{scope:t,placedSide:re,onArrowChange:W,arrowX:G,arrowY:oe,shouldHideArrow:ie,children:v.jsx(ht.div,{"data-side":re,"data-align":Y,...C,ref:z,style:{...C.style,animation:me?void 0:"none"}})})})});cT.displayName=__;var uT="PopperArrow",dL={top:"bottom",right:"left",bottom:"top",left:"right"},dT=b.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=uL(uT,r),l=dL[i.placedSide];return v.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:v.jsx(aL,{...s,ref:t,style:{...s.style,display:"block"}})})});dT.displayName=uT;function hL(n){return n!==null}var fL=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,u=l?0:n.arrowWidth,d=l?0:n.arrowHeight,[p,g]=hT(t),m={start:"0%",center:"50%",end:"100%"}[g],E=(s.arrow?.x??0)+u/2,I=(s.arrow?.y??0)+d/2;let P="",C="";return p==="bottom"?(P=l?m:`${E}px`,C=`${-d}px`):p==="top"?(P=l?m:`${E}px`,C=`${r.floating.height+d}px`):p==="right"?(P=`${-d}px`,C=l?m:`${I}px`):p==="left"&&(P=`${r.floating.width+d}px`,C=l?m:`${I}px`),{data:{x:P,y:C}}}});function hT(n){const[e,t="center"]=n.split("-");return[e,t]}var fT=iT,pT=lT,mT=cT,gT=dT,pL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mL="VisuallyHidden",yT=b.forwardRef((n,e)=>v.jsx(ht.span,{...n,ref:e,style:{...pL,...n.style}}));yT.displayName=mL;var gL=yT,[Hp]=Ws("Tooltip",[qp]),Wp=qp(),vT="TooltipProvider",yL=700,Xy="tooltip.open",[vL,w_]=Hp(vT),_T=n=>{const{__scopeTooltip:e,delayDuration:t=yL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,l=b.useRef(!0),u=b.useRef(!1),d=b.useRef(0);return b.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),v.jsx(vL,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(p=>{u.current=p},[]),disableHoverableContent:s,children:i})};_T.displayName=vT;var Xu="Tooltip",[_L,wd]=Hp(Xu),wT=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:u}=n,d=w_(Xu,n.__scopeTooltip),p=Wp(e),[g,m]=b.useState(null),E=Ea(),I=b.useRef(0),P=l??d.disableHoverableContent,C=u??d.delayDuration,A=b.useRef(!1),[M,U]=Ic({prop:r,defaultProp:s??!1,onChange:k=>{k?(d.onOpen(),document.dispatchEvent(new CustomEvent(Xy))):d.onClose(),i?.(k)},caller:Xu}),z=b.useMemo(()=>M?A.current?"delayed-open":"instant-open":"closed",[M]),q=b.useCallback(()=>{window.clearTimeout(I.current),I.current=0,A.current=!1,U(!0)},[U]),W=b.useCallback(()=>{window.clearTimeout(I.current),I.current=0,U(!1)},[U]),J=b.useCallback(()=>{window.clearTimeout(I.current),I.current=window.setTimeout(()=>{A.current=!0,U(!0),I.current=0},C)},[C,U]);return b.useEffect(()=>()=>{I.current&&(window.clearTimeout(I.current),I.current=0)},[]),v.jsx(fT,{...p,children:v.jsx(_L,{scope:e,contentId:E,open:M,stateAttribute:z,trigger:g,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{d.isOpenDelayedRef.current?J():q()},[d.isOpenDelayedRef,J,q]),onTriggerLeave:b.useCallback(()=>{P?W():(window.clearTimeout(I.current),I.current=0)},[W,P]),onOpen:q,onClose:W,disableHoverableContent:P,children:t})})};wT.displayName=Xu;var Jy="TooltipTrigger",ET=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=wd(Jy,t),i=w_(Jy,t),l=Wp(t),u=b.useRef(null),d=xt(e,u,s.onTriggerChange),p=b.useRef(!1),g=b.useRef(!1),m=b.useCallback(()=>p.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),v.jsx(pT,{asChild:!0,...l,children:v.jsx(ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:je(n.onPointerMove,E=>{E.pointerType!=="touch"&&!g.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:je(n.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:je(n.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:je(n.onFocus,()=>{p.current||s.onOpen()}),onBlur:je(n.onBlur,s.onClose),onClick:je(n.onClick,s.onClose)})})});ET.displayName=Jy;var E_="TooltipPortal",[wL,EL]=Hp(E_,{forceMount:void 0}),bT=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:s}=n,i=wd(E_,e);return v.jsx(wL,{scope:e,forceMount:t,children:v.jsx(Kn,{present:t||i.open,children:v.jsx(Lp,{asChild:!0,container:s,children:r})})})};bT.displayName=E_;var oc="TooltipContent",xT=b.forwardRef((n,e)=>{const t=EL(oc,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,l=wd(oc,n.__scopeTooltip);return v.jsx(Kn,{present:r||l.open,children:l.disableHoverableContent?v.jsx(IT,{side:s,...i,ref:e}):v.jsx(bL,{side:s,...i,ref:e})})}),bL=b.forwardRef((n,e)=>{const t=wd(oc,n.__scopeTooltip),r=w_(oc,n.__scopeTooltip),s=b.useRef(null),i=xt(e,s),[l,u]=b.useState(null),{trigger:d,onClose:p}=t,g=s.current,{onPointerInTransitChange:m}=r,E=b.useCallback(()=>{u(null),m(!1)},[m]),I=b.useCallback((P,C)=>{const A=P.currentTarget,M={x:P.clientX,y:P.clientY},U=CL(M,A.getBoundingClientRect()),z=AL(M,U),q=RL(C.getBoundingClientRect()),W=kL([...z,...q]);u(W),m(!0)},[m]);return b.useEffect(()=>()=>E(),[E]),b.useEffect(()=>{if(d&&g){const P=A=>I(A,g),C=A=>I(A,d);return d.addEventListener("pointerleave",P),g.addEventListener("pointerleave",C),()=>{d.removeEventListener("pointerleave",P),g.removeEventListener("pointerleave",C)}}},[d,g,I,E]),b.useEffect(()=>{if(l){const P=C=>{const A=C.target,M={x:C.clientX,y:C.clientY},U=d?.contains(A)||g?.contains(A),z=!PL(M,l);U?E():z&&(E(),p())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[d,g,l,p,E]),v.jsx(IT,{...n,ref:i})}),[xL,IL]=Hp(Xu,{isInside:!1}),SL=_2("TooltipContent"),IT=b.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=n,d=wd(oc,t),p=Wp(t),{onClose:g}=d;return b.useEffect(()=>(document.addEventListener(Xy,g),()=>document.removeEventListener(Xy,g)),[g]),b.useEffect(()=>{if(d.trigger){const m=E=>{E.target?.contains(d.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,g]),v.jsx(Vp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:v.jsxs(mT,{"data-state":d.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(SL,{children:r}),v.jsx(xL,{scope:t,isInside:!0,children:v.jsx(gL,{id:d.contentId,role:"tooltip",children:s||r})})]})})});xT.displayName=oc;var ST="TooltipArrow",TL=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Wp(t);return IL(ST,t).isInside?null:v.jsx(gT,{...s,...r,ref:e})});TL.displayName=ST;function CL(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function AL(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function RL(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function PL(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],d=e[l],p=u.x,g=u.y,m=d.x,E=d.y;g>r!=E>r&&t<(m-p)*(r-g)/(E-g)+p&&(s=!s)}return s}function kL(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),NL(e)}function NL(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var DL=_T,OL=wT,ML=ET,VL=bT,TT=xT;const ev=DL,tv=OL,nv=ML,Zf=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>v.jsx(VL,{children:v.jsx(TT,{ref:r,sideOffset:e,className:ze("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Zf.displayName=TT.displayName;const LL="sidebar_state",jL=3600*24*7,FL="12rem",tx="18rem",UL="3rem",zL="b",CT=b.createContext(null);function Gp(){const n=b.useContext(CT);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function $L({defaultOpen:n=!0,open:e,onOpenChange:t,className:r,style:s,children:i,...l}){const u=jD(),[d,p]=b.useState(!1),[g,m]=b.useState(n),E=e??g,I=b.useCallback(M=>{const U=typeof M=="function"?M(E):M;t?t(U):m(U),document.cookie=`${LL}=${U}; path=/; max-age=${jL}`},[t,E]),P=b.useCallback(()=>u?p(M=>!M):I(M=>!M),[u,I,p]);b.useEffect(()=>{const M=U=>{U.key===zL&&(U.metaKey||U.ctrlKey)&&(U.preventDefault(),P())};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[P]);const C=E?"expanded":"collapsed",A=b.useMemo(()=>({state:C,open:E,setOpen:I,isMobile:u,openMobile:d,setOpenMobile:p,toggleSidebar:P}),[C,E,I,u,d,p,P]);return v.jsx(CT.Provider,{value:A,children:v.jsx(ev,{delayDuration:0,children:v.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":FL,"--sidebar-width-icon":UL,...s},className:ze("group/sidebar-wrapper flex min-h-screen w-full",r),...l,children:i})})})}function BL({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:s,...i}){const{isMobile:l,state:u,openMobile:d,setOpenMobile:p}=Gp();return t==="none"?v.jsx("div",{"data-slot":"sidebar",className:ze("bg-sidebar text-sidebar-foreground flex h-full flex-col",r),style:{width:"var(--sidebar-width)"},...i,children:s}):l?v.jsx(GM,{open:d,onOpenChange:p,...i,children:v.jsxs($1,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground p-0 [&>button]:hidden",style:{"--sidebar-width":tx,width:tx},side:n,children:[v.jsxs(B1,{className:"sr-only",children:[v.jsx(q1,{children:"Sidebar"}),v.jsx(H1,{children:"Displays the mobile sidebar."})]}),v.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):v.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[v.jsx("div",{"data-slot":"sidebar-gap",className:ze("relative shrink-0 bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:!w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)]"),style:{width:"var(--sidebar-width)"}}),v.jsx("div",{"data-slot":"sidebar-container",className:ze("fixed inset-y-0 z-10 hidden h-screen transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem+2px)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),style:{width:"var(--sidebar-width)"},...i,children:v.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function qL({className:n,...e}){const{toggleSidebar:t}=Gp();return v.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:t,title:"Toggle Sidebar",className:ze("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","cursor-ew-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...e})}function HL({className:n,...e}){return v.jsx("main",{"data-slot":"sidebar-inset",className:ze("bg-background relative flex min-w-0 flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",n),...e})}function WL({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:ze("flex flex-col gap-2 p-2",n),...e})}function GL({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:ze("flex flex-col gap-2 p-2",n),...e})}function KL({className:n,...e}){return v.jsx(SO,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:ze("bg-sidebar-border mx-2 w-auto",n),...e})}function ZL({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:ze("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function nx({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:ze("relative flex w-full min-w-0 flex-col p-2",n),...e})}function rx({className:n,asChild:e=!1,...t}){const r=e?Dp:"div";return v.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:ze("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})}function sx({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:ze("w-full text-sm",n),...e})}function _y({className:n,...e}){return v.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:ze("flex w-full min-w-0 flex-col gap-1",n),...e})}function lf({className:n,...e}){return v.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:ze("group/menu-item relative",n),...e})}const QL=Op("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function wy({asChild:n=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:s,className:i,...l}){const u=n?Dp:"button",{isMobile:d,state:p}=Gp(),g=v.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:ze(QL({variant:t,size:r}),i),...l});return s?(typeof s=="string"&&(s={children:s}),v.jsxs(tv,{children:[v.jsx(nv,{asChild:!0,children:g}),v.jsx(Zf,{side:"right",align:"center",hidden:p!=="collapsed"||d,...s})]})):g}function AT(n){const e=n+"CollectionProvider",[t,r]=Ws(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:A,children:M}=C,U=ce.useRef(null),z=ce.useRef(new Map).current;return v.jsx(s,{scope:A,itemMap:z,collectionRef:U,children:M})};l.displayName=e;const u=n+"CollectionSlot",d=rc(u),p=ce.forwardRef((C,A)=>{const{scope:M,children:U}=C,z=i(u,M),q=xt(A,z.collectionRef);return v.jsx(d,{ref:q,children:U})});p.displayName=u;const g=n+"CollectionItemSlot",m="data-radix-collection-item",E=rc(g),I=ce.forwardRef((C,A)=>{const{scope:M,children:U,...z}=C,q=ce.useRef(null),W=xt(A,q),J=i(g,M);return ce.useEffect(()=>(J.itemMap.set(q,{ref:q,...z}),()=>void J.itemMap.delete(q))),v.jsx(E,{[m]:"",ref:W,children:U})});I.displayName=g;function P(C){const A=i(n+"CollectionConsumer",C);return ce.useCallback(()=>{const U=A.collectionRef.current;if(!U)return[];const z=Array.from(U.querySelectorAll(`[${m}]`));return Array.from(A.itemMap.values()).sort((J,k)=>z.indexOf(J.ref.current)-z.indexOf(k.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:p,ItemSlot:I},P,r]}var YL=b.createContext(void 0);function b_(n){const e=b.useContext(YL);return n||e||"ltr"}var Ey="rovingFocusGroup.onEntryFocus",XL={bubbles:!1,cancelable:!0},Ed="RovingFocusGroup",[rv,RT,JL]=AT(Ed),[e4,PT]=Ws(Ed,[JL]),[t4,n4]=e4(Ed),kT=b.forwardRef((n,e)=>v.jsx(rv.Provider,{scope:n.__scopeRovingFocusGroup,children:v.jsx(rv.Slot,{scope:n.__scopeRovingFocusGroup,children:v.jsx(r4,{...n,ref:e})})}));kT.displayName=Ed;var r4=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=n,E=b.useRef(null),I=xt(e,E),P=b_(i),[C,A]=Ic({prop:l,defaultProp:u??null,onChange:d,caller:Ed}),[M,U]=b.useState(!1),z=jn(p),q=RT(t),W=b.useRef(!1),[J,k]=b.useState(0);return b.useEffect(()=>{const S=E.current;if(S)return S.addEventListener(Ey,z),()=>S.removeEventListener(Ey,z)},[z]),v.jsx(t4,{scope:t,orientation:r,dir:P,loop:s,currentTabStopId:C,onItemFocus:b.useCallback(S=>A(S),[A]),onItemShiftTab:b.useCallback(()=>U(!0),[]),onFocusableItemAdd:b.useCallback(()=>k(S=>S+1),[]),onFocusableItemRemove:b.useCallback(()=>k(S=>S-1),[]),children:v.jsx(ht.div,{tabIndex:M||J===0?-1:0,"data-orientation":r,...m,ref:I,style:{outline:"none",...n.style},onMouseDown:je(n.onMouseDown,()=>{W.current=!0}),onFocus:je(n.onFocus,S=>{const R=!W.current;if(S.target===S.currentTarget&&R&&!M){const O=new CustomEvent(Ey,XL);if(S.currentTarget.dispatchEvent(O),!O.defaultPrevented){const V=q().filter(pe=>pe.focusable),L=V.find(pe=>pe.active),N=V.find(pe=>pe.id===C),Ve=[L,N,...V].filter(Boolean).map(pe=>pe.ref.current);OT(Ve,g)}}W.current=!1}),onBlur:je(n.onBlur,()=>U(!1))})})}),NT="RovingFocusGroupItem",DT=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...u}=n,d=Ea(),p=i||d,g=n4(NT,t),m=g.currentTabStopId===p,E=RT(t),{onFocusableItemAdd:I,onFocusableItemRemove:P,currentTabStopId:C}=g;return b.useEffect(()=>{if(r)return I(),()=>P()},[r,I,P]),v.jsx(rv.ItemSlot,{scope:t,id:p,focusable:r,active:s,children:v.jsx(ht.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...u,ref:e,onMouseDown:je(n.onMouseDown,A=>{r?g.onItemFocus(p):A.preventDefault()}),onFocus:je(n.onFocus,()=>g.onItemFocus(p)),onKeyDown:je(n.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){g.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const M=i4(A,g.orientation,g.dir);if(M!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let z=E().filter(q=>q.focusable).map(q=>q.ref.current);if(M==="last")z.reverse();else if(M==="prev"||M==="next"){M==="prev"&&z.reverse();const q=z.indexOf(A.currentTarget);z=g.loop?a4(z,q+1):z.slice(q+1)}setTimeout(()=>OT(z))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:C!=null}):l})})});DT.displayName=NT;var s4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function o4(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function i4(n,e,t){const r=o4(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return s4[r]}function OT(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function a4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var l4=kT,c4=DT,sv=["Enter"," "],u4=["ArrowDown","PageUp","Home"],MT=["ArrowUp","PageDown","End"],d4=[...u4,...MT],h4={ltr:[...sv,"ArrowRight"],rtl:[...sv,"ArrowLeft"]},f4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bd="Menu",[Ju,p4,m4]=AT(bd),[Ba,VT]=Ws(bd,[m4,qp,PT]),Kp=qp(),LT=PT(),[g4,qa]=Ba(bd),[y4,xd]=Ba(bd),jT=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=n,u=Kp(e),[d,p]=b.useState(null),g=b.useRef(!1),m=jn(i),E=b_(s);return b.useEffect(()=>{const I=()=>{g.current=!0,document.addEventListener("pointerdown",P,{capture:!0,once:!0}),document.addEventListener("pointermove",P,{capture:!0,once:!0})},P=()=>g.current=!1;return document.addEventListener("keydown",I,{capture:!0}),()=>{document.removeEventListener("keydown",I,{capture:!0}),document.removeEventListener("pointerdown",P,{capture:!0}),document.removeEventListener("pointermove",P,{capture:!0})}},[]),v.jsx(fT,{...u,children:v.jsx(g4,{scope:e,open:t,onOpenChange:m,content:d,onContentChange:p,children:v.jsx(y4,{scope:e,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:E,modal:l,children:r})})})};jT.displayName=bd;var v4="MenuAnchor",x_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Kp(t);return v.jsx(pT,{...s,...r,ref:e})});x_.displayName=v4;var I_="MenuPortal",[_4,FT]=Ba(I_,{forceMount:void 0}),UT=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,i=qa(I_,e);return v.jsx(_4,{scope:e,forceMount:t,children:v.jsx(Kn,{present:t||i.open,children:v.jsx(Lp,{asChild:!0,container:s,children:r})})})};UT.displayName=I_;var Fr="MenuContent",[w4,S_]=Ba(Fr),zT=b.forwardRef((n,e)=>{const t=FT(Fr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=qa(Fr,n.__scopeMenu),l=xd(Fr,n.__scopeMenu);return v.jsx(Ju.Provider,{scope:n.__scopeMenu,children:v.jsx(Kn,{present:r||i.open,children:v.jsx(Ju.Slot,{scope:n.__scopeMenu,children:l.modal?v.jsx(E4,{...s,ref:e}):v.jsx(b4,{...s,ref:e})})})})}),E4=b.forwardRef((n,e)=>{const t=qa(Fr,n.__scopeMenu),r=b.useRef(null),s=xt(e,r);return b.useEffect(()=>{const i=r.current;if(i)return E1(i)},[]),v.jsx(T_,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:je(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),b4=b.forwardRef((n,e)=>{const t=qa(Fr,n.__scopeMenu);return v.jsx(T_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),x4=rc("MenuContent.ScrollLock"),T_=b.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:E,onDismiss:I,disableOutsideScroll:P,...C}=n,A=qa(Fr,t),M=xd(Fr,t),U=Kp(t),z=LT(t),q=p4(t),[W,J]=b.useState(null),k=b.useRef(null),S=xt(e,k,A.onContentChange),R=b.useRef(0),O=b.useRef(""),V=b.useRef(0),L=b.useRef(null),N=b.useRef("right"),de=b.useRef(0),Ve=P?r_:b.Fragment,pe=P?{as:x4,allowPinchZoom:!0}:void 0,me=re=>{const Y=O.current+re,F=q().filter(we=>!we.disabled),G=document.activeElement,oe=F.find(we=>we.ref.current===G)?.textValue,ie=F.map(we=>we.textValue),fe=M4(ie,Y,oe),Ie=F.find(we=>we.textValue===fe)?.ref.current;(function we(xe){O.current=xe,window.clearTimeout(R.current),xe!==""&&(R.current=window.setTimeout(()=>we(""),1e3))})(Y),Ie&&setTimeout(()=>Ie.focus())};b.useEffect(()=>()=>window.clearTimeout(R.current),[]),h1();const H=b.useCallback(re=>N.current===L.current?.side&&L4(re,L.current?.area),[]);return v.jsx(w4,{scope:t,searchRef:O,onItemEnter:b.useCallback(re=>{H(re)&&re.preventDefault()},[H]),onItemLeave:b.useCallback(re=>{H(re)||(k.current?.focus(),J(null))},[H]),onTriggerLeave:b.useCallback(re=>{H(re)&&re.preventDefault()},[H]),pointerGraceTimerRef:V,onPointerGraceIntentChange:b.useCallback(re=>{L.current=re},[]),children:v.jsx(Ve,{...pe,children:v.jsx(n_,{asChild:!0,trapped:s,onMountAutoFocus:je(i,re=>{re.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:v.jsx(Vp,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:E,onDismiss:I,children:v.jsx(l4,{asChild:!0,...z,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:W,onCurrentTabStopIdChange:J,onEntryFocus:je(d,re=>{M.isUsingKeyboardRef.current||re.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(mT,{role:"menu","aria-orientation":"vertical","data-state":rC(A.open),"data-radix-menu-content":"",dir:M.dir,...U,...C,ref:S,style:{outline:"none",...C.style},onKeyDown:je(C.onKeyDown,re=>{const F=re.target.closest("[data-radix-menu-content]")===re.currentTarget,G=re.ctrlKey||re.altKey||re.metaKey,oe=re.key.length===1;F&&(re.key==="Tab"&&re.preventDefault(),!G&&oe&&me(re.key));const ie=k.current;if(re.target!==ie||!d4.includes(re.key))return;re.preventDefault();const Ie=q().filter(we=>!we.disabled).map(we=>we.ref.current);MT.includes(re.key)&&Ie.reverse(),D4(Ie)}),onBlur:je(n.onBlur,re=>{re.currentTarget.contains(re.target)||(window.clearTimeout(R.current),O.current="")}),onPointerMove:je(n.onPointerMove,ed(re=>{const Y=re.target,F=de.current!==re.clientX;if(re.currentTarget.contains(Y)&&F){const G=re.clientX>de.current?"right":"left";N.current=G,de.current=re.clientX}}))})})})})})})});zT.displayName=Fr;var I4="MenuGroup",C_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(ht.div,{role:"group",...r,ref:e})});C_.displayName=I4;var S4="MenuLabel",$T=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(ht.div,{...r,ref:e})});$T.displayName=S4;var Qf="MenuItem",ox="menu.itemSelect",Zp=b.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,i=b.useRef(null),l=xd(Qf,n.__scopeMenu),u=S_(Qf,n.__scopeMenu),d=xt(e,i),p=b.useRef(!1),g=()=>{const m=i.current;if(!t&&m){const E=new CustomEvent(ox,{bubbles:!0,cancelable:!0});m.addEventListener(ox,I=>r?.(I),{once:!0}),a1(m,E),E.defaultPrevented?p.current=!1:l.onClose()}};return v.jsx(BT,{...s,ref:d,disabled:t,onClick:je(n.onClick,g),onPointerDown:m=>{n.onPointerDown?.(m),p.current=!0},onPointerUp:je(n.onPointerUp,m=>{p.current||m.currentTarget?.click()}),onKeyDown:je(n.onKeyDown,m=>{const E=u.searchRef.current!=="";t||E&&m.key===" "||sv.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Zp.displayName=Qf;var BT=b.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...i}=n,l=S_(Qf,t),u=LT(t),d=b.useRef(null),p=xt(e,d),[g,m]=b.useState(!1),[E,I]=b.useState("");return b.useEffect(()=>{const P=d.current;P&&I((P.textContent??"").trim())},[i.children]),v.jsx(Ju.ItemSlot,{scope:t,disabled:r,textValue:s??E,children:v.jsx(c4,{asChild:!0,...u,focusable:!r,children:v.jsx(ht.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:p,onPointerMove:je(n.onPointerMove,ed(P=>{r?l.onItemLeave(P):(l.onItemEnter(P),P.defaultPrevented||P.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(n.onPointerLeave,ed(P=>l.onItemLeave(P))),onFocus:je(n.onFocus,()=>m(!0)),onBlur:je(n.onBlur,()=>m(!1))})})})}),T4="MenuCheckboxItem",qT=b.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return v.jsx(ZT,{scope:n.__scopeMenu,checked:t,children:v.jsx(Zp,{role:"menuitemcheckbox","aria-checked":Yf(t)?"mixed":t,...s,ref:e,"data-state":R_(t),onSelect:je(s.onSelect,()=>r?.(Yf(t)?!0:!t),{checkForDefaultPrevented:!1})})})});qT.displayName=T4;var HT="MenuRadioGroup",[C4,A4]=Ba(HT,{value:void 0,onValueChange:()=>{}}),WT=b.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,i=jn(r);return v.jsx(C4,{scope:n.__scopeMenu,value:t,onValueChange:i,children:v.jsx(C_,{...s,ref:e})})});WT.displayName=HT;var GT="MenuRadioItem",KT=b.forwardRef((n,e)=>{const{value:t,...r}=n,s=A4(GT,n.__scopeMenu),i=t===s.value;return v.jsx(ZT,{scope:n.__scopeMenu,checked:i,children:v.jsx(Zp,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":R_(i),onSelect:je(r.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});KT.displayName=GT;var A_="MenuItemIndicator",[ZT,R4]=Ba(A_,{checked:!1}),QT=b.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,i=R4(A_,t);return v.jsx(Kn,{present:r||Yf(i.checked)||i.checked===!0,children:v.jsx(ht.span,{...s,ref:e,"data-state":R_(i.checked)})})});QT.displayName=A_;var P4="MenuSeparator",YT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(ht.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});YT.displayName=P4;var k4="MenuArrow",XT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Kp(t);return v.jsx(gT,{...s,...r,ref:e})});XT.displayName=k4;var N4="MenuSub",[fW,JT]=Ba(N4),Nu="MenuSubTrigger",eC=b.forwardRef((n,e)=>{const t=qa(Nu,n.__scopeMenu),r=xd(Nu,n.__scopeMenu),s=JT(Nu,n.__scopeMenu),i=S_(Nu,n.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=i,p={__scopeMenu:n.__scopeMenu},g=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>g,[g]),b.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),d(null)}},[u,d]),v.jsx(x_,{asChild:!0,...p,children:v.jsx(BT,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":rC(t.open),...n,ref:Np(e,s.onTriggerChange),onClick:m=>{n.onClick?.(m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:je(n.onPointerMove,ed(m=>{i.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),g()},100))})),onPointerLeave:je(n.onPointerLeave,ed(m=>{g();const E=t.content?.getBoundingClientRect();if(E){const I=t.content?.dataset.side,P=I==="right",C=P?-5:5,A=E[P?"left":"right"],M=E[P?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+C,y:m.clientY},{x:A,y:E.top},{x:M,y:E.top},{x:M,y:E.bottom},{x:A,y:E.bottom}],side:I}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:je(n.onKeyDown,m=>{const E=i.searchRef.current!=="";n.disabled||E&&m.key===" "||h4[r.dir].includes(m.key)&&(t.onOpenChange(!0),t.content?.focus(),m.preventDefault())})})})});eC.displayName=Nu;var tC="MenuSubContent",nC=b.forwardRef((n,e)=>{const t=FT(Fr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=qa(Fr,n.__scopeMenu),l=xd(Fr,n.__scopeMenu),u=JT(tC,n.__scopeMenu),d=b.useRef(null),p=xt(e,d);return v.jsx(Ju.Provider,{scope:n.__scopeMenu,children:v.jsx(Kn,{present:r||i.open,children:v.jsx(Ju.Slot,{scope:n.__scopeMenu,children:v.jsx(T_,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&d.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:je(n.onFocusOutside,g=>{g.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:je(n.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:je(n.onKeyDown,g=>{const m=g.currentTarget.contains(g.target),E=f4[l.dir].includes(g.key);m&&E&&(i.onOpenChange(!1),u.trigger?.focus(),g.preventDefault())})})})})})});nC.displayName=tC;function rC(n){return n?"open":"closed"}function Yf(n){return n==="indeterminate"}function R_(n){return Yf(n)?"indeterminate":n?"checked":"unchecked"}function D4(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function O4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function M4(n,e,t){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let l=O4(n,Math.max(i,0));s.length===1&&(l=l.filter(p=>p!==t));const d=l.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return d!==t?d:void 0}function V4(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],d=e[l],p=u.x,g=u.y,m=d.x,E=d.y;g>r!=E>r&&t<(m-p)*(r-g)/(E-g)+p&&(s=!s)}return s}function L4(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return V4(t,e)}function ed(n){return e=>e.pointerType==="mouse"?n(e):void 0}var j4=jT,F4=x_,U4=UT,z4=zT,$4=C_,B4=$T,q4=Zp,H4=qT,W4=WT,G4=KT,K4=QT,Z4=YT,Q4=XT,Y4=eC,X4=nC,Qp="DropdownMenu",[J4]=Ws(Qp,[VT]),Zn=VT(),[ej,sC]=J4(Qp),oC=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=n,d=Zn(e),p=b.useRef(null),[g,m]=Ic({prop:s,defaultProp:i??!1,onChange:l,caller:Qp});return v.jsx(ej,{scope:e,triggerId:Ea(),triggerRef:p,contentId:Ea(),open:g,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(E=>!E),[m]),modal:u,children:v.jsx(j4,{...d,open:g,onOpenChange:m,dir:r,modal:u,children:t})})};oC.displayName=Qp;var iC="DropdownMenuTrigger",aC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,i=sC(iC,t),l=Zn(t);return v.jsx(F4,{asChild:!0,...l,children:v.jsx(ht.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Np(e,i.triggerRef),onPointerDown:je(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:je(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});aC.displayName=iC;var tj="DropdownMenuPortal",lC=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Zn(e);return v.jsx(U4,{...r,...t})};lC.displayName=tj;var cC="DropdownMenuContent",uC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=sC(cC,t),i=Zn(t),l=b.useRef(!1);return v.jsx(z4,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:je(n.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:je(n.onInteractOutside,u=>{const d=u.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,g=d.button===2||p;(!s.modal||g)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uC.displayName=cC;var nj="DropdownMenuGroup",rj=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zn(t);return v.jsx($4,{...s,...r,ref:e})});rj.displayName=nj;var sj="DropdownMenuLabel",dC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zn(t);return v.jsx(B4,{...s,...r,ref:e})});dC.displayName=sj;var oj="DropdownMenuItem",hC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zn(t);return v.jsx(q4,{...s,...r,ref:e})});hC.displayName=oj;var ij="DropdownMenuCheckboxItem",fC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zn(t);return v.jsx(H4,{...s,...r,ref:e})});fC.displayName=ij;var aj="DropdownMenuRadioGroup",lj=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zn(t);return v.jsx(W4,{...s,...r,ref:e})});lj.displayName=aj;var cj="DropdownMenuRadioItem",pC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zn(t);return v.jsx(G4,{...s,...r,ref:e})});pC.displayName=cj;var uj="DropdownMenuItemIndicator",mC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zn(t);return v.jsx(K4,{...s,...r,ref:e})});mC.displayName=uj;var dj="DropdownMenuSeparator",gC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zn(t);return v.jsx(Z4,{...s,...r,ref:e})});gC.displayName=dj;var hj="DropdownMenuArrow",fj=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zn(t);return v.jsx(Q4,{...s,...r,ref:e})});fj.displayName=hj;var pj="DropdownMenuSubTrigger",yC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zn(t);return v.jsx(Y4,{...s,...r,ref:e})});yC.displayName=pj;var mj="DropdownMenuSubContent",vC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zn(t);return v.jsx(X4,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vC.displayName=mj;var gj=oC,yj=aC,vj=lC,_C=uC,wC=dC,EC=hC,bC=fC,xC=pC,IC=mC,SC=gC,TC=yC,CC=vC;const ov=gj,iv=yj,_j=b.forwardRef(({className:n,inset:e,children:t,...r},s)=>v.jsxs(TC,{ref:s,className:ze("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,v.jsx(N2,{className:"ml-auto"})]}));_j.displayName=TC.displayName;const wj=b.forwardRef(({className:n,...e},t)=>v.jsx(CC,{ref:t,className:ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));wj.displayName=CC.displayName;const Xf=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>v.jsx(vj,{children:v.jsx(_C,{ref:r,sideOffset:e,className:ze("z-[100] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Xf.displayName=_C.displayName;const Yl=b.forwardRef(({className:n,inset:e,...t},r)=>v.jsx(EC,{ref:r,className:ze("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));Yl.displayName=EC.displayName;const Ej=b.forwardRef(({className:n,children:e,checked:t,...r},s)=>v.jsxs(bC,{ref:s,className:ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(IC,{children:v.jsx(Qv,{className:"h-4 w-4"})})}),e]}));Ej.displayName=bC.displayName;const bj=b.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(xC,{ref:r,className:ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(IC,{children:v.jsx(j2,{className:"h-2 w-2 fill-current"})})}),e]}));bj.displayName=xC.displayName;const Jf=b.forwardRef(({className:n,inset:e,...t},r)=>v.jsx(wC,{ref:r,className:ze("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));Jf.displayName=wC.displayName;const ep=b.forwardRef(({className:n,...e},t)=>v.jsx(SC,{ref:t,className:ze("-mx-1 my-1 h-px bg-muted",n),...e}));ep.displayName=SC.displayName;function AC(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Yp="Switch",[xj]=Ws(Yp),[Ij,Sj]=xj(Yp),RC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:d="on",onCheckedChange:p,form:g,...m}=n,[E,I]=b.useState(null),P=xt(e,z=>I(z)),C=b.useRef(!1),A=E?g||!!E.closest("form"):!0,[M,U]=Ic({prop:s,defaultProp:i??!1,onChange:p,caller:Yp});return v.jsxs(Ij,{scope:t,checked:M,disabled:u,children:[v.jsx(ht.button,{type:"button",role:"switch","aria-checked":M,"aria-required":l,"data-state":DC(M),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:P,onClick:je(n.onClick,z=>{U(q=>!q),A&&(C.current=z.isPropagationStopped(),C.current||z.stopPropagation())})}),A&&v.jsx(NC,{control:E,bubbles:!C.current,name:r,value:d,checked:M,required:l,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});RC.displayName=Yp;var PC="SwitchThumb",kC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,s=Sj(PC,t);return v.jsx(ht.span,{"data-state":DC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});kC.displayName=PC;var Tj="SwitchBubbleInput",NC=b.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...s},i)=>{const l=b.useRef(null),u=xt(l,i),d=AC(t),p=y_(e);return b.useEffect(()=>{const g=l.current;if(!g)return;const m=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==t&&I){const P=new Event("click",{bubbles:r});I.call(g,t),g.dispatchEvent(P)}},[d,t,r]),v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:u,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});NC.displayName=Tj;function DC(n){return n?"checked":"unchecked"}var OC=RC,Cj=kC;const MC=b.forwardRef(({className:n,...e},t)=>v.jsx(OC,{className:ze("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:v.jsx(Cj,{className:ze("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));MC.displayName=OC.displayName;const Aj=()=>{};var ix={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Rj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],l=n[t++],u=n[t++],d=((s&7)<<18|(i&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const i=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},LC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],l=s+1<n.length,u=l?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,g=i>>2,m=(i&3)<<4|u>>4;let E=(u&15)<<2|p>>6,I=p&63;d||(I=64,l||(E=64)),r.push(t[g],t[m],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Rj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const m=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||u==null||p==null||m==null)throw new Pj;const E=i<<2|u>>4;if(r.push(E),p!==64){const I=u<<4&240|p>>2;if(r.push(I),m!==64){const P=p<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Pj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kj=function(n){const e=VC(n);return LC.encodeByteArray(e,!0)},tp=function(n){return kj(n).replace(/\./g,"")},jC=function(n){try{return LC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=()=>FC().__FIREBASE_DEFAULTS__,Dj=()=>{if(typeof process>"u"||typeof ix>"u")return;const n=ix.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Oj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jC(n[1]);return e&&JSON.parse(e)},Xp=()=>{try{return Aj()||Nj()||Dj()||Oj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UC=n=>Xp()?.emulatorHosts?.[n],Mj=n=>{const e=UC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},zC=()=>Xp()?.config,$C=n=>Xp()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BC(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[tp(JSON.stringify(t)),tp(JSON.stringify(l)),""].join(".")}const ju={};function jj(){const n={prod:[],emulator:[]};for(const e of Object.keys(ju))ju[e]?n.emulator.push(e):n.prod.push(e);return n}function Fj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ax=!1;function qC(n,e){if(typeof window>"u"||typeof document>"u"||!Cc(window.location.host)||ju[n]===e||ju[n]||ax)return;ju[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",i=jj().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{ax=!0,l()},E}function g(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function m(){const E=Fj(r),I=t("text"),P=document.getElementById(I)||document.createElement("span"),C=t("learnmore"),A=document.getElementById(C)||document.createElement("a"),M=t("preprendIcon"),U=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;u(z),g(A,C);const q=p();d(U,M),z.append(U,P,A,q),document.body.appendChild(z)}i?(P.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function HC(){const n=Xp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $j(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Bj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qj(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WC(){return!HC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GC(){return!HC()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function KC(){try{return typeof indexedDB=="object"}catch{return!1}}function Hj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="FirebaseError";class Co extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Wj,Object.setPrototypeOf(this,Co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Id.prototype.create)}}class Id{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?Gj(i,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Co(s,u,r)}}function Gj(n,e){return n.replace(Kj,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Kj=/\{\$([^}]+)}/g;function Zj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],l=e[s];if(lx(i)&&lx(l)){if(!Pa(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function lx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qj(n,e){const t=new Yj(n,e);return t.subscribe.bind(t)}class Yj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Xj(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=by),s.error===void 0&&(s.error=by),s.complete===void 0&&(s.complete=by);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function by(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n){return n&&n._delegate?n._delegate:n}class ka{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Vj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tF(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eF(n){return n===da?void 0:n}function tF(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Jj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const rF={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},sF=it.INFO,oF={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},iF=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=oF[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P_{constructor(e){this.name=e,this._logLevel=sF,this._logHandler=iF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const aF=(n,e)=>e.some(t=>n instanceof t);let cx,ux;function lF(){return cx||(cx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cF(){return ux||(ux=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZC=new WeakMap,av=new WeakMap,QC=new WeakMap,xy=new WeakMap,k_=new WeakMap;function uF(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",l)},i=()=>{t(_i(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&ZC.set(t,n)}).catch(()=>{}),k_.set(e,n),e}function dF(n){if(av.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",l),n.removeEventListener("abort",l)},i=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",l),n.addEventListener("abort",l)});av.set(n,e)}let lv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return av.get(n);if(e==="objectStoreNames")return n.objectStoreNames||QC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hF(n){lv=n(lv)}function fF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Iy(this),e,...t);return QC.set(r,e.sort?e.sort():[e]),_i(r)}:cF().includes(n)?function(...e){return n.apply(Iy(this),e),_i(ZC.get(this))}:function(...e){return _i(n.apply(Iy(this),e))}}function pF(n){return typeof n=="function"?fF(n):(n instanceof IDBTransaction&&dF(n),aF(n,lF())?new Proxy(n,lv):n)}function _i(n){if(n instanceof IDBRequest)return uF(n);if(xy.has(n))return xy.get(n);const e=pF(n);return e!==n&&(xy.set(n,e),k_.set(e,n)),e}const Iy=n=>k_.get(n);function mF(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(n,e),u=_i(l);return r&&l.addEventListener("upgradeneeded",d=>{r(_i(l.result),d.oldVersion,d.newVersion,_i(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const gF=["get","getKey","getAll","getAllKeys","count"],yF=["put","add","delete","clear"],Sy=new Map;function dx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sy.get(e))return Sy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=yF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gF.includes(t)))return;const i=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),s&&d.done]))[0]};return Sy.set(e,i),i}hF(n=>({...n,get:(e,t,r)=>dx(e,t)||n.get(e,t,r),has:(e,t)=>!!dx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_F(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function _F(n){return n.getComponent()?.type==="VERSION"}const cv="@firebase/app",hx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new P_("@firebase/app"),wF="@firebase/app-compat",EF="@firebase/analytics-compat",bF="@firebase/analytics",xF="@firebase/app-check-compat",IF="@firebase/app-check",SF="@firebase/auth",TF="@firebase/auth-compat",CF="@firebase/database",AF="@firebase/data-connect",RF="@firebase/database-compat",PF="@firebase/functions",kF="@firebase/functions-compat",NF="@firebase/installations",DF="@firebase/installations-compat",OF="@firebase/messaging",MF="@firebase/messaging-compat",VF="@firebase/performance",LF="@firebase/performance-compat",jF="@firebase/remote-config",FF="@firebase/remote-config-compat",UF="@firebase/storage",zF="@firebase/storage-compat",$F="@firebase/firestore",BF="@firebase/ai",qF="@firebase/firestore-compat",HF="firebase",WF="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="[DEFAULT]",GF={[cv]:"fire-core",[wF]:"fire-core-compat",[bF]:"fire-analytics",[EF]:"fire-analytics-compat",[IF]:"fire-app-check",[xF]:"fire-app-check-compat",[SF]:"fire-auth",[TF]:"fire-auth-compat",[CF]:"fire-rtdb",[AF]:"fire-data-connect",[RF]:"fire-rtdb-compat",[PF]:"fire-fn",[kF]:"fire-fn-compat",[NF]:"fire-iid",[DF]:"fire-iid-compat",[OF]:"fire-fcm",[MF]:"fire-fcm-compat",[VF]:"fire-perf",[LF]:"fire-perf-compat",[jF]:"fire-rc",[FF]:"fire-rc-compat",[UF]:"fire-gcs",[zF]:"fire-gcs-compat",[$F]:"fire-fst",[qF]:"fire-fst-compat",[BF]:"fire-vertex","fire-js":"fire-js",[HF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new Map,KF=new Map,dv=new Map;function fx(n,e){try{n.container.addComponent(e)}catch(t){bo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ic(n){const e=n.name;if(dv.has(e))return bo.debug(`There were multiple attempts to register component ${e}.`),!1;dv.set(e,n);for(const t of np.values())fx(t,n);for(const t of KF.values())fx(t,n);return!0}function N_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new Id("app","Firebase",ZF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=WF;function YC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:uv,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw wi.create("bad-app-name",{appName:String(s)});if(t||(t=zC()),!t)throw wi.create("no-options");const i=np.get(s);if(i){if(Pa(t,i.options)&&Pa(r,i.config))return i;throw wi.create("duplicate-app",{appName:s})}const l=new nF(s);for(const d of dv.values())l.addComponent(d);const u=new QF(t,r,l);return np.set(s,u),u}function XC(n=uv){const e=np.get(n);if(!e&&n===uv&&zC())return YC();if(!e)throw wi.create("no-app",{appName:n});return e}function Ei(n,e,t){let r=GF[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bo.warn(l.join(" "));return}ic(new ka(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF="firebase-heartbeat-database",XF=1,td="firebase-heartbeat-store";let Ty=null;function JC(){return Ty||(Ty=mF(YF,XF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(td)}catch(t){console.warn(t)}}}}).catch(n=>{throw wi.create("idb-open",{originalErrorMessage:n.message})})),Ty}async function JF(n){try{const t=(await JC()).transaction(td),r=await t.objectStore(td).get(eA(n));return await t.done,r}catch(e){if(e instanceof Co)bo.warn(e.message);else{const t=wi.create("idb-get",{originalErrorMessage:e?.message});bo.warn(t.message)}}}async function px(n,e){try{const r=(await JC()).transaction(td,"readwrite");await r.objectStore(td).put(e,eA(n)),await r.done}catch(t){if(t instanceof Co)bo.warn(t.message);else{const r=wi.create("idb-set",{originalErrorMessage:t?.message});bo.warn(r.message)}}}function eA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=1024,t5=30;class n5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new s5(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>t5){const s=o5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mx(),{heartbeatsToSend:t,unsentEntries:r}=r5(this._heartbeatsCache.heartbeats),s=tp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return bo.warn(e),""}}}function mx(){return new Date().toISOString().substring(0,10)}function r5(n,e=e5){const t=[];let r=n.slice();for(const s of n){const i=t.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),gx(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),gx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class s5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KC()?Hj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await JF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return px(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return px(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gx(n){return tp(JSON.stringify({version:2,heartbeats:n})).length}function o5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(n){ic(new ka("platform-logger",e=>new vF(e),"PRIVATE")),ic(new ka("heartbeat",e=>new n5(e),"PRIVATE")),Ei(cv,hx,n),Ei(cv,hx,"esm2020"),Ei("fire-js","")}i5("");function tA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a5=tA,nA=new Id("auth","Firebase",tA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=new P_("@firebase/auth");function l5(n,...e){rp.logLevel<=it.WARN&&rp.warn(`Auth (${Ac}): ${n}`,...e)}function Tf(n,...e){rp.logLevel<=it.ERROR&&rp.error(`Auth (${Ac}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(n,...e){throw O_(n,...e)}function os(n,...e){return O_(n,...e)}function D_(n,e,t){const r={...a5(),[e]:t};return new Id("auth","Firebase",r).create(e,{appName:n.name})}function ba(n){return D_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c5(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&qs(n,"argument-error"),D_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function O_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nA.create(n,...e)}function We(n,e,...t){if(!n)throw O_(e,...t)}function go(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tf(e),new Error(e)}function xo(n,e){n||go(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(){return typeof self<"u"&&self.location?.href||""}function u5(){return yx()==="http:"||yx()==="https:"}function yx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u5()||$j()||"connection"in navigator)?navigator.onLine:!0}function h5(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t){this.shortDelay=e,this.longDelay=t,xo(t>e,"Short delay should be less than long delay!"),this.isMobile=Uj()||Bj()}get(){return d5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n,e){xo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;go("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;go("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;go("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],m5=new Td(3e4,6e4);function V_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Rc(n,e,t,r,s={}){return sA(n,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const u=Sd({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:d,...i};return zj()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Cc(n.emulatorConfig.host)&&(p.credentials="include"),rA.fetch()(await oA(n,n.config.apiHost,t,u),p)})}async function sA(n,e,t){n._canInitEmulator=!1;const r={...f5,...e};try{const s=new y5(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw cf(n,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const u=i.ok?l.errorMessage:l.error.message,[d,p]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw cf(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw cf(n,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw D_(n,g,p);qs(n,g)}}catch(s){if(s instanceof Co)throw s;qs(n,"network-request-failed",{message:String(s)})}}async function g5(n,e,t,r,s={}){const i=await Rc(n,e,t,r,s);return"mfaPendingCredential"in i&&qs(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function oA(n,e,t,r){const s=`${e}${t}?${r}`,i=n,l=i.config.emulator?M_(n.config,s):`${n.config.apiScheme}://${s}`;return p5.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(l).toString():l}class y5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),m5.get())})}}function cf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=os(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(n,e){return Rc(n,"POST","/v1/accounts:delete",e)}async function sp(n,e){return Rc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _5(n,e=!1){const t=En(n),r=await t.getIdToken(e),s=L_(r);We(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i?.sign_in_provider;return{claims:s,token:r,authTime:Fu(Cy(s.auth_time)),issuedAtTime:Fu(Cy(s.iat)),expirationTime:Fu(Cy(s.exp)),signInProvider:l||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Cy(n){return Number(n)*1e3}function L_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const s=jC(t);return s?JSON.parse(s):(Tf("Failed to decode base64 JWT payload"),null)}catch(s){return Tf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function vx(n){const e=L_(n);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Co&&w5(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function w5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(n){const e=n.auth,t=await n.getIdToken(),r=await nd(n,sp(e,{idToken:t}));We(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=s.providerUserInfo?.length?iA(s.providerUserInfo):[],l=x5(n.providerData,i),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!l?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new fv(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function b5(n){const e=En(n);await op(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x5(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function iA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(n,e){const t=await sA(n,{},async()=>{const r=Sd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,l=await oA(n,s,"/v1/token",`key=${i}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&Cc(n.emulatorConfig.host)&&(d.credentials="include"),rA.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function S5(n,e){return Rc(n,"POST","/v2/accounts:revokeToken",V_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=vx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await I5(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,l=new Xl;return r&&(We(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(We(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xl,this.toJSON())}_performRefresh(){return go("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(n,e){We(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ss{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new E5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await nd(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _5(this,e)}reload(){return b5(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ss({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await op(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(ba(this.auth));const e=await this.getIdToken();return await nd(this,v5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:m,emailVerified:E,isAnonymous:I,providerData:P,stsTokenManager:C}=t;We(m&&C,e,"internal-error");const A=Xl.fromJSON(this.name,C);We(typeof m=="string",e,"internal-error"),oi(r,e.name),oi(s,e.name),We(typeof E=="boolean",e,"internal-error"),We(typeof I=="boolean",e,"internal-error"),oi(i,e.name),oi(l,e.name),oi(u,e.name),oi(d,e.name),oi(p,e.name),oi(g,e.name);const M=new ss({uid:m,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:i,tenantId:u,stsTokenManager:A,createdAt:p,lastLoginAt:g});return P&&Array.isArray(P)&&(M.providerData=P.map(U=>({...U}))),d&&(M._redirectEventId=d),M}static async _fromIdTokenResponse(e,t,r=!1){const s=new Xl;s.updateFromServerResponse(t);const i=new ss({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await op(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];We(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?iA(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!i?.length,u=new Xl;u.updateFromIdToken(r);const d=new ss({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new fv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Map;function yo(n){xo(n instanceof Function,"Expected a class definition");let e=_x.get(n);return e?(xo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_x.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aA.type="NONE";const wx=aA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(n,e,t){return`firebase:${n}:${e}:${t}`}class Jl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Cf(this.userKey,s.apiKey,i),this.fullPersistenceKey=Cf("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sp(this.auth,{idToken:e}).catch(()=>{});return t?ss._fromGetAccountInfoResponse(this.auth,t,e):null}return ss._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Jl(yo(wx),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let i=s[0]||yo(wx);const l=Cf(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const g=await p._get(l);if(g){let m;if(typeof g=="string"){const E=await sp(e,{idToken:g}).catch(()=>{});if(!E)break;m=await ss._fromGetAccountInfoResponse(e,E,g)}else m=ss._fromJSON(e,g);p!==i&&(u=m),i=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new Jl(i,e,r):(i=d[0],u&&await i._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==i)try{await p._remove(l)}catch{}})),new Jl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(pA(e))return"Webos";if(cA(e))return"Safari";if((e.includes("chrome/")||uA(e))&&!e.includes("edge/"))return"Chrome";if(hA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function lA(n=hn()){return/firefox\//i.test(n)}function cA(n=hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uA(n=hn()){return/crios\//i.test(n)}function dA(n=hn()){return/iemobile/i.test(n)}function hA(n=hn()){return/android/i.test(n)}function fA(n=hn()){return/blackberry/i.test(n)}function pA(n=hn()){return/webos/i.test(n)}function j_(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function T5(n=hn()){return j_(n)&&!!window.navigator?.standalone}function C5(){return qj()&&document.documentMode===10}function mA(n=hn()){return j_(n)||hA(n)||pA(n)||fA(n)||/windows phone/i.test(n)||dA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n,e=[]){let t;switch(n){case"Browser":t=Ex(hn());break;case"Worker":t=`${Ex(hn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ac}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((l,u)=>{try{const d=e(i);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(n,e={}){return Rc(n,"GET","/v2/passwordPolicy",V_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=6;class k5{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??P5,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bx(this),this.idTokenSubscription=new bx(this),this.beforeStateQueue=new A5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yo(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sp(this,{idToken:e}),r=await ss._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rs(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!i||i===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await op(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=h5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rs(this.app))return Promise.reject(ba(this));const t=e?En(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rs(this.app)?Promise.reject(ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R5(this),t=new k5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Id("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await S5(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yo(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await Jl.create(this,[yo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(u,this,"internal-error"),u.then(()=>{l||i(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&l5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jp(n){return En(n)}class bx{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qj(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D5(n){F_=n}function O5(n){return F_.loadJS(n)}function M5(){return F_.gapiScript}function V5(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(n,e){const t=N_(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(Pa(i,e??{}))return s;qs(s,"already-initialized")}return t.initialize({options:e})}function j5(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(yo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function F5(n,e,t){const r=Jp(n);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=yA(e),{host:l,port:u}=U5(e),d=u===null?"":`:${u}`,p={url:`${i}//${l}${d}/`},g=Object.freeze({host:l,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Pa(p,r.config.emulator)&&Pa(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Cc(l)?(BC(`${i}//${l}${d}`),qC("Auth",!0)):z5()}function yA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function U5(n){const e=yA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:xx(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:xx(l)}}}function xx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function z5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return go("not implemented")}_getIdTokenResponse(e){return go("not implemented")}_linkToIdToken(e,t){return go("not implemented")}_getReauthenticationResolver(e){return go("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(n,e){return g5(n,"POST","/v1/accounts:signInWithIdp",V_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="http://localhost";class Na extends vA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const l=new Na(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ec(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ec(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ec(e,t)}buildRequest(){const e={requestUri:$5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends U_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Cd{constructor(){super("facebook.com")}static credential(e){return Na._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Na._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Os.credential(t,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Cd{constructor(){super("github.com")}static credential(e){return Na._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Cd{constructor(){super("twitter.com")}static credential(e,t){return Na._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return pi.credential(t,r)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await ss._fromIdTokenResponse(e,r,s),l=Ix(r);return new ac({user:i,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Ix(r);return new ac({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Ix(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends Co{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ip.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ip(e,t,r,s)}}function _A(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ip._fromErrorAndOperation(n,i,e,r):i})}async function B5(n,e,t=!1){const r=await nd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ac._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(n,e,t=!1){const{auth:r}=n;if(rs(r.app))return Promise.reject(ba(r));const s="reauthenticate";try{const i=await nd(n,_A(r,s,e,n),t);We(i.idToken,r,"internal-error");const l=L_(i.idToken);We(l,r,"internal-error");const{sub:u}=l;return We(n.uid===u,r,"user-mismatch"),ac._forOperation(n,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&qs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(n,e,t=!1){if(rs(n.app))return Promise.reject(ba(n));const r="signIn",s=await _A(n,r,e),i=await ac._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function W5(n,e,t,r){return En(n).onIdTokenChanged(e,t,r)}function G5(n,e,t){return En(n).beforeAuthStateChanged(e,t)}const ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ap,"1"),this.storage.removeItem(ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=1e3,Z5=10;class EA extends wA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);C5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Z5):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},K5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}EA.type="LOCAL";const Q5=EA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA extends wA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bA.type="SESSION";const xA=bA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new em(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(t.origin,i)),d=await Y5(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}em.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((u,d)=>{const p=z_("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(m){const E=m;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(E.data.response);break;default:clearTimeout(g),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(){return window}function J5(n){Fs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return typeof Fs().WorkerGlobalScope<"u"&&typeof Fs().importScripts=="function"}async function e3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t3(){return navigator?.serviceWorker?.controller||null}function n3(){return IA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firebaseLocalStorageDb",r3=1,lp="firebaseLocalStorage",TA="fbase_key";class Ad{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tm(n,e){return n.transaction([lp],e?"readwrite":"readonly").objectStore(lp)}function s3(){const n=indexedDB.deleteDatabase(SA);return new Ad(n).toPromise()}function pv(){const n=indexedDB.open(SA,r3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(lp,{keyPath:TA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(lp)?e(r):(r.close(),await s3(),e(await pv()))})})}async function Sx(n,e,t){const r=tm(n,!0).put({[TA]:e,value:t});return new Ad(r).toPromise()}async function o3(n,e){const t=tm(n,!1).get(e),r=await new Ad(t).toPromise();return r===void 0?null:r.value}function Tx(n,e){const t=tm(n,!0).delete(e);return new Ad(t).toPromise()}const i3=800,a3=3;class CA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>a3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=em._getInstance(n3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await e3(),!this.activeServiceWorker)return;this.sender=new X5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pv();return await Sx(e,ap,"1"),await Tx(e,ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>o3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Tx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=tm(s,!1).getAll();return new Ad(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CA.type="LOCAL";const l3=CA;new Td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n,e){return e?yo(e):(We(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends vA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ec(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ec(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function c3(n){return H5(n.auth,new $_(n),n.bypassAuthState)}function u3(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),q5(t,new $_(n),n.bypassAuthState)}async function d3(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),B5(t,new $_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c3;case"linkViaPopup":case"linkViaRedirect":return d3;case"reauthViaPopup":case"reauthViaRedirect":return u3;default:qs(this.auth,"internal-error")}}resolve(e){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new Td(2e3,1e4);async function Cx(n,e,t){if(rs(n.app))return Promise.reject(os(n,"operation-not-supported-in-this-environment"));const r=Jp(n);c5(n,e,U_);const s=AA(r,t);return new _a(r,"signInViaPopup",e,s).executeNotNull()}class _a extends RA{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){xo(this.filter.length===1,"Popup operations only handle one event");const e=z_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h3.get())};e()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="pendingRedirect",Af=new Map;class p3 extends RA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const r=await m3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m3(n,e){const t=v3(e),r=y3(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function g3(n,e){Af.set(n._key(),e)}function y3(n){return yo(n._redirectPersistence)}function v3(n){return Cf(f3,n.config.apiKey,n.name)}async function _3(n,e,t=!1){if(rs(n.app))return Promise.reject(ba(n));const r=Jp(n),s=AA(r,e),l=await new p3(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=600*1e3;class E3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!PA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(os(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ax(e))}saveEventToCache(e){this.cachedEventUids.add(Ax(e)),this.lastProcessedEventTime=Date.now()}}function Ax(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function b3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(n,e={}){return Rc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S3=/^https?/;async function T3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await x3(n);for(const t of e)try{if(C3(t))return}catch{}qs(n,"unauthorized-domain")}function C3(n){const e=hv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!S3.test(t))return!1;if(I3.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=new Td(3e4,6e4);function Rx(){const n=Fs().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function R3(n){return new Promise((e,t)=>{function r(){Rx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rx(),t(os(n,"network-request-failed"))},timeout:A3.get()})}if(Fs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fs().gapi?.load)r();else{const s=V5("iframefcb");return Fs()[s]=()=>{gapi.load?r():t(os(n,"network-request-failed"))},O5(`${M5()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function P3(n){return Rf=Rf||R3(n),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new Td(5e3,15e3),N3="__/auth/iframe",D3="emulator/auth/iframe",O3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V3(n){const e=n.config;We(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?M_(e,D3):`https://${n.config.authDomain}/${N3}`,r={apiKey:e.apiKey,appName:n.name,v:Ac},s=M3.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Sd(r).slice(1)}`}async function L3(n){const e=await P3(n),t=Fs().gapi;return We(t,n,"internal-error"),e.open({where:document.body,url:V3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=os(n,"network-request-failed"),u=Fs().setTimeout(()=>{i(l)},k3.get());function d(){Fs().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F3=500,U3=600,z3="_blank",$3="http://localhost";class Px{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B3(n,e,t,r=F3,s=U3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...j3,width:r.toString(),height:s.toString(),top:i,left:l},p=hn().toLowerCase();t&&(u=uA(p)?z3:t),lA(p)&&(e=e||$3,d.scrollbars="yes");const g=Object.entries(d).reduce((E,[I,P])=>`${E}${I}=${P},`,"");if(T5(p)&&u!=="_self")return q3(e||"",u),new Px(null);const m=window.open(e||"",u,g);We(m,n,"popup-blocked");try{m.focus()}catch{}return new Px(m)}function q3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="__/auth/handler",W3="emulator/auth/handler",G3=encodeURIComponent("fac");async function kx(n,e,t,r,s,i){We(n.config.authDomain,n,"auth-domain-config-required"),We(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ac,eventId:s};if(e instanceof U_){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Zj(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries({}))l[g]=m}if(e instanceof Cd){const g=e.getScopes().filter(m=>m!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await n._getAppCheckToken(),p=d?`#${G3}=${encodeURIComponent(d)}`:"";return`${K3(n)}?${Sd(u).slice(1)}${p}`}function K3({config:n}){return n.emulator?M_(n,W3):`https://${n.authDomain}/${H3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="webStorageSupport";class Z3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xA,this._completeRedirectFn=_3,this._overrideRedirectResult=g3}async _openPopup(e,t,r,s){xo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await kx(e,t,r,hv(),s);return B3(e,i,z_())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await kx(e,t,r,hv(),s);return J5(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(xo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await L3(e),r=new E3(e);return t.register("authEvent",s=>(We(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ay,{type:Ay},s=>{const i=s?.[0]?.[Ay];i!==void 0&&t(!!i),qs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=T3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mA()||cA()||j_()}}const Q3=Z3;var Nx="@firebase/auth",Dx="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J3(n){ic(new ka("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gA(n)},p=new N5(r,s,i,d);return j5(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ic(new ka("auth-internal",e=>{const t=Jp(e.getProvider("auth").getImmediate());return(r=>new Y3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(Nx,Dx,X3(n)),Ei(Nx,Dx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=300,t6=$C("authIdTokenMaxAge")||e6;let Ox=null;const n6=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>t6)return;const s=t?.token;Ox!==s&&(Ox=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function r6(n=XC()){const e=N_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=L5(n,{popupRedirectResolver:Q3,persistence:[l3,Q5,xA]}),r=$C("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=n6(i.toString());G5(t,l,()=>l(t.currentUser)),W5(t,u=>l(u))}}const s=UC("auth");return s&&F5(t,`http://${s}`),t}function s6(){return document.getElementsByTagName("head")?.[0]??document}D5({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=os("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",s6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J3("Browser");var o6="firebase",i6="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(o6,i6,"app");var Mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,kA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function R(){}R.prototype=S.prototype,k.F=S.prototype,k.prototype=new R,k.prototype.constructor=k,k.D=function(O,V,L){for(var N=Array(arguments.length-2),de=2;de<arguments.length;de++)N[de-2]=arguments[de];return S.prototype[V].apply(O,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,S,R){R||(R=0);const O=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)O[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;V<16;++V)O[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=k.g[0],R=k.g[1],V=k.g[2];let L=k.g[3],N;N=S+(L^R&(V^L))+O[0]+3614090360&4294967295,S=R+(N<<7&4294967295|N>>>25),N=L+(V^S&(R^V))+O[1]+3905402710&4294967295,L=S+(N<<12&4294967295|N>>>20),N=V+(R^L&(S^R))+O[2]+606105819&4294967295,V=L+(N<<17&4294967295|N>>>15),N=R+(S^V&(L^S))+O[3]+3250441966&4294967295,R=V+(N<<22&4294967295|N>>>10),N=S+(L^R&(V^L))+O[4]+4118548399&4294967295,S=R+(N<<7&4294967295|N>>>25),N=L+(V^S&(R^V))+O[5]+1200080426&4294967295,L=S+(N<<12&4294967295|N>>>20),N=V+(R^L&(S^R))+O[6]+2821735955&4294967295,V=L+(N<<17&4294967295|N>>>15),N=R+(S^V&(L^S))+O[7]+4249261313&4294967295,R=V+(N<<22&4294967295|N>>>10),N=S+(L^R&(V^L))+O[8]+1770035416&4294967295,S=R+(N<<7&4294967295|N>>>25),N=L+(V^S&(R^V))+O[9]+2336552879&4294967295,L=S+(N<<12&4294967295|N>>>20),N=V+(R^L&(S^R))+O[10]+4294925233&4294967295,V=L+(N<<17&4294967295|N>>>15),N=R+(S^V&(L^S))+O[11]+2304563134&4294967295,R=V+(N<<22&4294967295|N>>>10),N=S+(L^R&(V^L))+O[12]+1804603682&4294967295,S=R+(N<<7&4294967295|N>>>25),N=L+(V^S&(R^V))+O[13]+4254626195&4294967295,L=S+(N<<12&4294967295|N>>>20),N=V+(R^L&(S^R))+O[14]+2792965006&4294967295,V=L+(N<<17&4294967295|N>>>15),N=R+(S^V&(L^S))+O[15]+1236535329&4294967295,R=V+(N<<22&4294967295|N>>>10),N=S+(V^L&(R^V))+O[1]+4129170786&4294967295,S=R+(N<<5&4294967295|N>>>27),N=L+(R^V&(S^R))+O[6]+3225465664&4294967295,L=S+(N<<9&4294967295|N>>>23),N=V+(S^R&(L^S))+O[11]+643717713&4294967295,V=L+(N<<14&4294967295|N>>>18),N=R+(L^S&(V^L))+O[0]+3921069994&4294967295,R=V+(N<<20&4294967295|N>>>12),N=S+(V^L&(R^V))+O[5]+3593408605&4294967295,S=R+(N<<5&4294967295|N>>>27),N=L+(R^V&(S^R))+O[10]+38016083&4294967295,L=S+(N<<9&4294967295|N>>>23),N=V+(S^R&(L^S))+O[15]+3634488961&4294967295,V=L+(N<<14&4294967295|N>>>18),N=R+(L^S&(V^L))+O[4]+3889429448&4294967295,R=V+(N<<20&4294967295|N>>>12),N=S+(V^L&(R^V))+O[9]+568446438&4294967295,S=R+(N<<5&4294967295|N>>>27),N=L+(R^V&(S^R))+O[14]+3275163606&4294967295,L=S+(N<<9&4294967295|N>>>23),N=V+(S^R&(L^S))+O[3]+4107603335&4294967295,V=L+(N<<14&4294967295|N>>>18),N=R+(L^S&(V^L))+O[8]+1163531501&4294967295,R=V+(N<<20&4294967295|N>>>12),N=S+(V^L&(R^V))+O[13]+2850285829&4294967295,S=R+(N<<5&4294967295|N>>>27),N=L+(R^V&(S^R))+O[2]+4243563512&4294967295,L=S+(N<<9&4294967295|N>>>23),N=V+(S^R&(L^S))+O[7]+1735328473&4294967295,V=L+(N<<14&4294967295|N>>>18),N=R+(L^S&(V^L))+O[12]+2368359562&4294967295,R=V+(N<<20&4294967295|N>>>12),N=S+(R^V^L)+O[5]+4294588738&4294967295,S=R+(N<<4&4294967295|N>>>28),N=L+(S^R^V)+O[8]+2272392833&4294967295,L=S+(N<<11&4294967295|N>>>21),N=V+(L^S^R)+O[11]+1839030562&4294967295,V=L+(N<<16&4294967295|N>>>16),N=R+(V^L^S)+O[14]+4259657740&4294967295,R=V+(N<<23&4294967295|N>>>9),N=S+(R^V^L)+O[1]+2763975236&4294967295,S=R+(N<<4&4294967295|N>>>28),N=L+(S^R^V)+O[4]+1272893353&4294967295,L=S+(N<<11&4294967295|N>>>21),N=V+(L^S^R)+O[7]+4139469664&4294967295,V=L+(N<<16&4294967295|N>>>16),N=R+(V^L^S)+O[10]+3200236656&4294967295,R=V+(N<<23&4294967295|N>>>9),N=S+(R^V^L)+O[13]+681279174&4294967295,S=R+(N<<4&4294967295|N>>>28),N=L+(S^R^V)+O[0]+3936430074&4294967295,L=S+(N<<11&4294967295|N>>>21),N=V+(L^S^R)+O[3]+3572445317&4294967295,V=L+(N<<16&4294967295|N>>>16),N=R+(V^L^S)+O[6]+76029189&4294967295,R=V+(N<<23&4294967295|N>>>9),N=S+(R^V^L)+O[9]+3654602809&4294967295,S=R+(N<<4&4294967295|N>>>28),N=L+(S^R^V)+O[12]+3873151461&4294967295,L=S+(N<<11&4294967295|N>>>21),N=V+(L^S^R)+O[15]+530742520&4294967295,V=L+(N<<16&4294967295|N>>>16),N=R+(V^L^S)+O[2]+3299628645&4294967295,R=V+(N<<23&4294967295|N>>>9),N=S+(V^(R|~L))+O[0]+4096336452&4294967295,S=R+(N<<6&4294967295|N>>>26),N=L+(R^(S|~V))+O[7]+1126891415&4294967295,L=S+(N<<10&4294967295|N>>>22),N=V+(S^(L|~R))+O[14]+2878612391&4294967295,V=L+(N<<15&4294967295|N>>>17),N=R+(L^(V|~S))+O[5]+4237533241&4294967295,R=V+(N<<21&4294967295|N>>>11),N=S+(V^(R|~L))+O[12]+1700485571&4294967295,S=R+(N<<6&4294967295|N>>>26),N=L+(R^(S|~V))+O[3]+2399980690&4294967295,L=S+(N<<10&4294967295|N>>>22),N=V+(S^(L|~R))+O[10]+4293915773&4294967295,V=L+(N<<15&4294967295|N>>>17),N=R+(L^(V|~S))+O[1]+2240044497&4294967295,R=V+(N<<21&4294967295|N>>>11),N=S+(V^(R|~L))+O[8]+1873313359&4294967295,S=R+(N<<6&4294967295|N>>>26),N=L+(R^(S|~V))+O[15]+4264355552&4294967295,L=S+(N<<10&4294967295|N>>>22),N=V+(S^(L|~R))+O[6]+2734768916&4294967295,V=L+(N<<15&4294967295|N>>>17),N=R+(L^(V|~S))+O[13]+1309151649&4294967295,R=V+(N<<21&4294967295|N>>>11),N=S+(V^(R|~L))+O[4]+4149444226&4294967295,S=R+(N<<6&4294967295|N>>>26),N=L+(R^(S|~V))+O[11]+3174756917&4294967295,L=S+(N<<10&4294967295|N>>>22),N=V+(S^(L|~R))+O[2]+718787259&4294967295,V=L+(N<<15&4294967295|N>>>17),N=R+(L^(V|~S))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+L&4294967295}r.prototype.v=function(k,S){S===void 0&&(S=k.length);const R=S-this.blockSize,O=this.C;let V=this.h,L=0;for(;L<S;){if(V==0)for(;L<=R;)s(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<S;)if(O[V++]=k.charCodeAt(L++),V==this.blockSize){s(this,O),V=0;break}}else for(;L<S;)if(O[V++]=k[L++],V==this.blockSize){s(this,O),V=0;break}}this.h=V,this.o+=S},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var R=k.length-8;R<k.length;++R)k[R]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)k[S++]=this.g[R]>>>O&255;return k};function i(k,S){var R=u;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=S(k)}function l(k,S){this.h=S;const R=[];let O=!0;for(let V=k.length-1;V>=0;V--){const L=k[V]|0;O&&L==S||(R[V]=L,O=!1)}this.g=R}var u={};function d(k){return-128<=k&&k<128?i(k,function(S){return new l([S|0],S<0?-1:0)}):new l([k|0],k<0?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return m;if(k<0)return A(p(-k));const S=[];let R=1;for(let O=0;k>=R;O++)S[O]=k/R|0,R*=4294967296;return new l(S,0)}function g(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return A(g(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(S,8));let O=m;for(let L=0;L<k.length;L+=8){var V=Math.min(8,k.length-L);const N=parseInt(k.substring(L,L+V),S);V<8?(V=p(Math.pow(S,V)),O=O.j(V).add(p(N))):(O=O.j(R),O=O.add(p(N)))}return O}var m=d(0),E=d(1),I=d(16777216);n=l.prototype,n.m=function(){if(C(this))return-A(this).m();let k=0,S=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);k+=(O>=0?O:4294967296+O)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(P(this))return"0";if(C(this))return"-"+A(this).toString(k);const S=p(Math.pow(k,6));var R=this;let O="";for(;;){const V=q(R,S).g;R=M(R,V.j(S));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(k);if(R=V,P(R))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function P(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function C(k){return k.h==-1}n.l=function(k){return k=M(this,k),C(k)?-1:P(k)?0:1};function A(k){const S=k.g.length,R=[];for(let O=0;O<S;O++)R[O]=~k.g[O];return new l(R,~k.h).add(E)}n.abs=function(){return C(this)?A(this):this},n.add=function(k){const S=Math.max(this.g.length,k.g.length),R=[];let O=0;for(let V=0;V<=S;V++){let L=O+(this.i(V)&65535)+(k.i(V)&65535),N=(L>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);O=N>>>16,L&=65535,N&=65535,R[V]=N<<16|L}return new l(R,R[R.length-1]&-2147483648?-1:0)};function M(k,S){return k.add(A(S))}n.j=function(k){if(P(this)||P(k))return m;if(C(this))return C(k)?A(this).j(A(k)):A(A(this).j(k));if(C(k))return A(this.j(A(k)));if(this.l(I)<0&&k.l(I)<0)return p(this.m()*k.m());const S=this.g.length+k.g.length,R=[];for(var O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<k.g.length;V++){const L=this.i(O)>>>16,N=this.i(O)&65535,de=k.i(V)>>>16,Ve=k.i(V)&65535;R[2*O+2*V]+=N*Ve,U(R,2*O+2*V),R[2*O+2*V+1]+=L*Ve,U(R,2*O+2*V+1),R[2*O+2*V+1]+=N*de,U(R,2*O+2*V+1),R[2*O+2*V+2]+=L*de,U(R,2*O+2*V+2)}for(k=0;k<S;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=S;k<2*S;k++)R[k]=0;return new l(R,0)};function U(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function z(k,S){this.g=k,this.h=S}function q(k,S){if(P(S))throw Error("division by zero");if(P(k))return new z(m,m);if(C(k))return S=q(A(k),S),new z(A(S.g),A(S.h));if(C(S))return S=q(k,A(S)),new z(A(S.g),S.h);if(k.g.length>30){if(C(k)||C(S))throw Error("slowDivide_ only works with positive integers.");for(var R=E,O=S;O.l(k)<=0;)R=W(R),O=W(O);var V=J(R,1),L=J(O,1);for(O=J(O,2),R=J(R,2);!P(O);){var N=L.add(O);N.l(k)<=0&&(V=V.add(R),L=N),O=J(O,1),R=J(R,1)}return S=M(k,V.j(S)),new z(V,S)}for(V=m;k.l(S)>=0;){for(R=Math.max(1,Math.floor(k.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=p(R),N=L.j(S);C(N)||N.l(k)>0;)R-=O,L=p(R),N=L.j(S);P(L)&&(L=E),V=V.add(L),k=M(k,N)}return new z(V,k)}n.B=function(k){return q(this,k).h},n.and=function(k){const S=Math.max(this.g.length,k.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)&k.i(O);return new l(R,this.h&k.h)},n.or=function(k){const S=Math.max(this.g.length,k.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)|k.i(O);return new l(R,this.h|k.h)},n.xor=function(k){const S=Math.max(this.g.length,k.g.length),R=[];for(let O=0;O<S;O++)R[O]=this.i(O)^k.i(O);return new l(R,this.h^k.h)};function W(k){const S=k.g.length+1,R=[];for(let O=0;O<S;O++)R[O]=k.i(O)<<1|k.i(O-1)>>>31;return new l(R,k.h)}function J(k,S){const R=S>>5;S%=32;const O=k.g.length-R,V=[];for(let L=0;L<O;L++)V[L]=S>0?k.i(L+R)>>>S|k.i(L+R+1)<<32-S:k.i(L+R);return new l(V,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,bi=l}).apply(typeof Mx<"u"?Mx:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NA,Du,DA,Pf,mv,OA,MA,VA;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var w=0;w<h.length;++w){var x=h[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function s(h,w){if(w)e:{var x=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var Q=h[D];if(!(Q in x))break e;x=x[Q]}h=h[h.length-1],D=x[h],w=w(D),w!=D&&w!=null&&e(x,h,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(w){var x=[],D;for(D in w)Object.prototype.hasOwnProperty.call(w,D)&&x.push([D,w[D]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function u(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function d(h,w,x){return h.call.apply(h.bind,arguments)}function p(h,w,x){return p=d,p.apply(null,arguments)}function g(h,w){var x=Array.prototype.slice.call(arguments,1);return function(){var D=x.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function m(h,w){function x(){}x.prototype=w.prototype,h.Z=w.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(D,Q,te){for(var _e=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)_e[Ye-2]=arguments[Ye];return w.prototype[Q].apply(D,_e)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const w=h.length;if(w>0){const x=Array(w);for(let D=0;D<w;D++)x[D]=h[D];return x}return[]}function P(h,w){for(let D=1;D<arguments.length;D++){const Q=arguments[D];var x=typeof Q;if(x=x!="object"?x:Q?Array.isArray(Q)?"array":x:"null",x=="array"||x=="object"&&typeof Q.length=="number"){x=h.length||0;const te=Q.length||0;h.length=x+te;for(let _e=0;_e<te;_e++)h[x+_e]=Q[_e]}else h.push(Q)}}class C{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function A(h){l.setTimeout(()=>{throw h},0)}function M(){var h=k;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class U{constructor(){this.h=this.g=null}add(w,x){const D=z.get();D.set(w,x),this.h?this.h.next=D:this.g=D,this.h=D}}var z=new C(()=>new q,h=>h.reset());class q{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let W,J=!1,k=new U,S=()=>{const h=Promise.resolve(void 0);W=()=>{h.then(R)}};function R(){for(var h;h=M();){try{h.h.call(h.g)}catch(x){A(x)}var w=z;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}J=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};l.addEventListener("test",x,w),l.removeEventListener("test",x,w)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function de(h,w){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}m(de,V),de.prototype.init=function(h,w){const x=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(x=="mouseover"?w=h.fromElement:x=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),pe=0;function me(h,w,x,D,Q){this.listener=h,this.proxy=null,this.src=w,this.type=x,this.capture=!!D,this.ha=Q,this.key=++pe,this.da=this.fa=!1}function H(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function re(h,w,x){for(const D in h)w.call(x,h[D],D,h)}function Y(h,w){for(const x in h)w.call(void 0,h[x],x,h)}function F(h){const w={};for(const x in h)w[x]=h[x];return w}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,w){let x,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(x in D)h[x]=D[x];for(let te=0;te<G.length;te++)x=G[te],Object.prototype.hasOwnProperty.call(D,x)&&(h[x]=D[x])}}function ie(h){this.src=h,this.g={},this.h=0}ie.prototype.add=function(h,w,x,D,Q){const te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);const _e=Ie(h,w,D,Q);return _e>-1?(w=h[_e],x||(w.fa=!1)):(w=new me(w,this.src,te,!!D,Q),w.fa=x,h.push(w)),w};function fe(h,w){const x=w.type;if(x in h.g){var D=h.g[x],Q=Array.prototype.indexOf.call(D,w,void 0),te;(te=Q>=0)&&Array.prototype.splice.call(D,Q,1),te&&(H(w),h.g[x].length==0&&(delete h.g[x],h.h--))}}function Ie(h,w,x,D){for(let Q=0;Q<h.length;++Q){const te=h[Q];if(!te.da&&te.listener==w&&te.capture==!!x&&te.ha==D)return Q}return-1}var we="closure_lm_"+(Math.random()*1e6|0),xe={};function Ge(h,w,x,D,Q){if(Array.isArray(w)){for(let te=0;te<w.length;te++)Ge(h,w[te],x,D,Q);return null}return x=ko(x),h&&h[Ve]?h.J(w,x,u(D)?!!D.capture:!1,Q):Qe(h,w,x,!1,D,Q)}function Qe(h,w,x,D,Q,te){if(!w)throw Error("Invalid event type");const _e=u(Q)?!!Q.capture:!!Q;let Ye=Zs(h);if(Ye||(h[we]=Ye=new ie(h)),x=Ye.add(w,x,D,_e,te),x.proxy)return x;if(D=ye(),x.proxy=D,D.src=h,D.listener=x,h.addEventListener)L||(Q=_e),Q===void 0&&(Q=!1),h.addEventListener(w.toString(),D,Q);else if(h.attachEvent)h.attachEvent(ds(w.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ye(){function h(x){return w.call(h.src,h.listener,x)}const w=Qa;return h}function It(h,w,x,D,Q){if(Array.isArray(w))for(var te=0;te<w.length;te++)It(h,w[te],x,D,Q);else D=u(D)?!!D.capture:!!D,x=ko(x),h&&h[Ve]?(h=h.i,te=String(w).toString(),te in h.g&&(w=h.g[te],x=Ie(w,x,D,Q),x>-1&&(H(w[x]),Array.prototype.splice.call(w,x,1),w.length==0&&(delete h.g[te],h.h--)))):h&&(h=Zs(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Ie(w,x,D,Q)),(x=h>-1?w[h]:null)&&pn(x))}function pn(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[Ve])fe(w.i,h);else{var x=h.type,D=h.proxy;w.removeEventListener?w.removeEventListener(x,D,h.capture):w.detachEvent?w.detachEvent(ds(x),D):w.addListener&&w.removeListener&&w.removeListener(D),(x=Zs(w))?(fe(x,h),x.h==0&&(x.src=null,w[we]=null)):H(h)}}}function ds(h){return h in xe?xe[h]:xe[h]="on"+h}function Qa(h,w){if(h.da)h=!0;else{w=new de(w,this);const x=h.listener,D=h.ha||h.src;h.fa&&pn(h),h=x.call(D,w)}return h}function Zs(h){return h=h[we],h instanceof ie?h:null}var ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(h){return typeof h=="function"?h:(h[ar]||(h[ar]=function(w){return h.handleEvent(w)}),h[ar])}function _t(){O.call(this),this.i=new ie(this),this.M=this,this.G=null}m(_t,O),_t.prototype[Ve]=!0,_t.prototype.removeEventListener=function(h,w,x,D){It(this,h,w,x,D)};function jt(h,w){var x,D=h.G;if(D)for(x=[];D;D=D.G)x.push(D);if(h=h.M,D=w.type||w,typeof w=="string")w=new V(w,h);else if(w instanceof V)w.target=w.target||h;else{var Q=w;w=new V(D,h),oe(w,Q)}Q=!0;let te,_e;if(x)for(_e=x.length-1;_e>=0;_e--)te=w.g=x[_e],Q=lr(te,D,!0,w)&&Q;if(te=w.g=h,Q=lr(te,D,!0,w)&&Q,Q=lr(te,D,!1,w)&&Q,x)for(_e=0;_e<x.length;_e++)te=w.g=x[_e],Q=lr(te,D,!1,w)&&Q}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const x=h.g[w];for(let D=0;D<x.length;D++)H(x[D]);delete h.g[w],h.h--}}this.G=null},_t.prototype.J=function(h,w,x,D){return this.i.add(String(h),w,!1,x,D)},_t.prototype.K=function(h,w,x,D){return this.i.add(String(h),w,!0,x,D)};function lr(h,w,x,D){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let Q=!0;for(let te=0;te<w.length;++te){const _e=w[te];if(_e&&!_e.da&&_e.capture==x){const Ye=_e.listener,Kt=_e.ha||_e.src;_e.fa&&fe(h.i,_e),Q=Ye.call(Kt,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function an(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(h,w||0)}function Sr(h){h.g=an(()=>{h.g=null,h.i&&(h.i=!1,Sr(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Ya extends O{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Sr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(h){O.call(this),this.h=h,this.g={}}m(hs,O);var fs=[];function No(h){re(h.g,function(w,x){this.g.hasOwnProperty(x)&&pn(w)},h),h.g={}}hs.prototype.N=function(){hs.Z.N.call(this),No(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Br=l.JSON.stringify,Do=l.JSON.parse,Qn=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function qr(){}function Hr(){}var ps={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oo(){V.call(this,"d")}m(Oo,V);function Mo(){V.call(this,"c")}m(Mo,V);var Yn={},Vo=null;function Tr(){return Vo=Vo||new _t}Yn.Ia="serverreachability";function $n(h){V.call(this,Yn.Ia,h)}m($n,V);function Wr(h){const w=Tr();jt(w,new $n(w))}Yn.STAT_EVENT="statevent";function Gr(h,w){V.call(this,Yn.STAT_EVENT,h),this.stat=w}m(Gr,V);function Rt(h){const w=Tr();jt(w,new Gr(w,h))}Yn.Ja="timingevent";function Lo(h,w){V.call(this,Yn.Ja,h),this.size=w}m(Lo,V);function qe(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},w)}function St(){this.g=!0}St.prototype.ua=function(){this.g=!1};function Gt(h,w,x,D,Q,te){h.info(function(){if(h.g)if(te){var _e="",Ye=te.split("&");for(let wt=0;wt<Ye.length;wt++){var Kt=Ye[wt].split("=");if(Kt.length>1){const en=Kt[0];Kt=Kt[1];const mr=en.split("_");_e=mr.length>=2&&mr[1]=="type"?_e+(en+"="+Kt+"&"):_e+(en+"=redacted&")}}}else _e=null;else _e=te;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+w+`
`+x+`
`+_e})}function mn(h,w,x,D,Q,te,_e){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+w+`
`+x+`
`+te+" "+_e})}function Bn(h,w,x,D){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Xt(h,x)+(D?" "+D:"")})}function Bt(h,w){h.info(function(){return"TIMEOUT: "+w})}St.prototype.info=function(){};function Xt(h,w){if(!h.g)return w;if(!w)return null;try{const te=JSON.parse(w);if(te){for(h=0;h<te.length;h++)if(Array.isArray(te[h])){var x=te[h];if(!(x.length<2)){var D=x[1];if(Array.isArray(D)&&!(D.length<1)){var Q=D[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let _e=1;_e<D.length;_e++)D[_e]=""}}}}return Br(te)}catch{return w}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rn;function Cr(){}m(Cr,qr),Cr.prototype.g=function(){return new XMLHttpRequest},Rn=new Cr;function gn(h){return encodeURIComponent(String(h))}function ji(h){var w=1;h=h.split(":");const x=[];for(;w>0&&h.length;)x.push(h.shift()),w--;return h.length&&x.push(h.join(":")),x}function Ar(h,w,x,D){this.j=h,this.i=w,this.l=x,this.S=D||1,this.V=new hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hd}function Hd(){this.i=null,this.g="",this.h=!1}var Wd={},Mc={};function Kr(h,w,x){h.M=1,h.A=Ys(Rr(w)),h.u=x,h.R=!0,Vc(h,null)}function Vc(h,w){h.F=Date.now(),Fi(h),h.B=Rr(h.A);var x=h.B,D=h.S;Array.isArray(D)||(D=[String(D)]),Wc(x.i,"t",D),h.C=0,x=h.j.L,h.h=new Hd,h.g=nh(h.j,x?w:null,!h.u),h.P>0&&(h.O=new Ya(p(h.Y,h,h.g),h.P)),w=h.V,x=h.g,D=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(fs[0]=Q.toString()),Q=fs);for(let te=0;te<Q.length;te++){const _e=Ge(x,Q[te],D||w.handleEvent,!1,w.h||w);if(!_e)break;w.g[_e.key]=_e}w=h.J?F(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),Wr(),Gt(h.i,h.v,h.B,h.l,h.S,h.u)}Ar.prototype.ba=function(h){h=h.target;const w=this.O;w&&Es(h)==3?w.j():this.Y(h)},Ar.prototype.Y=function(h){try{if(h==this.g)e:{const Ye=Es(this.g),Kt=this.g.ya(),wt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||eh(this.g)))){this.K||Ye!=4||Kt==7||(Kt==8||wt<=0?Wr(3):Wr(2)),Xa(this);var w=this.g.ca();this.X=w;var x=Gd(this);if(this.o=w==200,mn(this.i,this.v,this.B,this.l,this.S,Ye,w),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Q=this.g;if((D=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(D)){var te=D;break t}}te=null}if(h=te)Bn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pt(this,h);else{this.o=!1,this.m=3,Rt(12),Qs(this),Ui(this);break e}}if(this.R){h=!0;let en;for(;!this.K&&this.C<x.length;)if(en=Zd(this,x),en==Mc){Ye==4&&(this.m=4,Rt(14),h=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Wd){this.m=4,Rt(15),Bn(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Bn(this.i,this.l,en,null),Pt(this,en);if(Kd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||x.length!=0||this.h.h||(this.m=1,Rt(16),h=!1),this.o=this.o&&h,!h)Bn(this.i,this.l,x,"[Invalid Chunked Response]"),Qs(this),Ui(this);else if(x.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Zi(_e),_e.P=!0,Rt(11))}}else Bn(this.i,this.l,x,null),Pt(this,x);Ye==4&&Qs(this),this.o&&!this.K&&(Ye==4?ll(this.j,this):(this.o=!1,Fi(this)))}else Kc(this.g),w==400&&x.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Qs(this),Ui(this)}}}catch{}finally{}};function Gd(h){if(!Kd(h))return h.g.la();const w=eh(h.g);if(w==="")return"";let x="";const D=w.length,Q=Es(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Qs(h),Ui(h),"";h.h.i=new l.TextDecoder}for(let te=0;te<D;te++)h.h.h=!0,x+=h.h.i.decode(w[te],{stream:!(Q&&te==D-1)});return w.length=0,h.h.g+=x,h.C=0,h.h.g}function Kd(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Zd(h,w){var x=h.C,D=w.indexOf(`
`,x);return D==-1?Mc:(x=Number(w.substring(x,D)),isNaN(x)?Wd:(D+=1,D+x>w.length?Mc:(w=w.slice(D,D+x),h.C=D+x,w)))}Ar.prototype.cancel=function(){this.K=!0,Qs(this)};function Fi(h){h.T=Date.now()+h.H,Lc(h,h.H)}function Lc(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=qe(p(h.aa,h),w)}function Xa(h){h.D&&(l.clearTimeout(h.D),h.D=null)}Ar.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Bt(this.i,this.B),this.M!=2&&(Wr(),Rt(17)),Qs(this),this.m=2,Ui(this)):Lc(this,this.T-h)};function Ui(h){h.j.I==0||h.K||ll(h.j,h)}function Qs(h){Xa(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,No(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function Pt(h,w){try{var x=h.j;if(x.I!=0&&(x.g==h||Fc(x.h,h))){if(!h.L&&Fc(x.h,h)&&x.I==3){try{var D=x.Ba.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)al(x),fr(x);else break e;Is(x),Rt(18)}}else x.xa=Q[1],0<x.xa-x.K&&Q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=qe(p(x.Va,x),6e3));zi(x.h)<=1&&x.ta&&(x.ta=void 0)}else pr(x,11)}else if((h.L||x.g==h)&&al(x),!N(w))for(Q=x.Ba.g.parse(w),w=0;w<Q.length;w++){let wt=Q[w];const en=wt[0];if(!(en<=x.K))if(x.K=en,wt=wt[1],x.I==2)if(wt[0]=="c"){x.M=wt[1],x.ba=wt[2];const mr=wt[3];mr!=null&&(x.ka=mr,x.j.info("VER="+x.ka));const no=wt[4];no!=null&&(x.za=no,x.j.info("SVER="+x.za));const Ss=wt[5];Ss!=null&&typeof Ss=="number"&&Ss>0&&(D=1.5*Ss,x.O=D,x.j.info("backChannelRequestTimeoutMs_="+D)),D=x;const Ts=h.g;if(Ts){const dl=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dl){var te=D.h;te.g||dl.indexOf("spdy")==-1&&dl.indexOf("quic")==-1&&dl.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(el(te,te.h),te.h=null))}if(D.G){const Yc=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;Yc&&(D.wa=Yc,yt(D.J,D.G,Yc))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),D=x;var _e=h;if(D.na=Qc(D,D.L?D.ba:null,D.W),_e.L){$i(D.h,_e);var Ye=_e,Kt=D.O;Kt&&(Ye.H=Kt),Ye.D&&(Xa(Ye),Fi(Ye)),D.g=_e}else Pn(D);x.i.length>0&&to(x)}else wt[0]!="stop"&&wt[0]!="close"||pr(x,7);else x.I==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?pr(x,7):ol(x):wt[0]!="noop"&&x.l&&x.l.qa(wt),x.A=0)}}Wr(4)}catch{}}var Dm=class{constructor(h,w){this.g=h,this.map=w}};function Ja(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zi(h){return h.h?1:h.g?h.g.size:0}function Fc(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function el(h,w){h.g?h.g.add(w):h.h=w}function $i(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Ja.prototype.cancel=function(){if(this.i=ur(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ur(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const x of h.g.values())w=w.concat(x.G);return w}return I(h.i)}var Qd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dr(h,w){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const D=h[x].indexOf("=");let Q,te=null;D>=0?(Q=h[x].substring(0,D),te=h[x].substring(D+1)):Q=h[x],w(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function ms(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof ms?(this.l=h.l,Bi(this,h.j),this.o=h.o,this.g=h.g,gs(this,h.u),this.h=h.h,jo(this,Gc(h.i)),this.m=h.m):h&&(w=String(h).match(Qd))?(this.l=!1,Bi(this,w[1]||"",!0),this.o=qi(w[2]||""),this.g=qi(w[3]||"",!0),gs(this,w[4]),this.h=qi(w[5]||"",!0),jo(this,w[6]||"",!0),this.m=qi(w[7]||"")):(this.l=!1,this.i=new ct(null,this.l))}ms.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(Hi(w,zc,!0),":");var x=this.g;return(x||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Hi(w,zc,!0),"@"),h.push(gn(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Hi(x,x.charAt(0)=="/"?Wi:$c,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Hi(x,Bc)),h.join("")},ms.prototype.resolve=function(h){const w=Rr(this);let x=!!h.j;x?Bi(w,h.j):x=!!h.o,x?w.o=h.o:x=!!h.g,x?w.g=h.g:x=h.u!=null;var D=h.h;if(x)gs(w,h.u);else if(x=!!h.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Q=w.h.lastIndexOf("/");Q!=-1&&(D=w.h.slice(0,Q+1)+D)}if(Q=D,Q==".."||Q==".")D="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){D=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let _e=0;_e<Q.length;){const Ye=Q[_e++];Ye=="."?D&&_e==Q.length&&te.push(""):Ye==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),D&&_e==Q.length&&te.push("")):(te.push(Ye),D=!0)}D=te.join("/")}else D=Q}return x?w.h=D:x=h.i.toString()!=="",x?jo(w,Gc(h.i)):x=!!h.m,x&&(w.m=h.m),w};function Rr(h){return new ms(h)}function Bi(h,w,x){h.j=x?qi(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function gs(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function jo(h,w,x){w instanceof ct?(h.i=w,nl(h.i,h.l)):(x||(w=Hi(w,Om)),h.i=new ct(w,h.l))}function yt(h,w,x){h.i.set(w,x)}function Ys(h){return yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function qi(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hi(h,w,x){return typeof h=="string"?(h=encodeURI(h).replace(w,Uc),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Uc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var zc=/[#\/\?@]/g,$c=/[#\?:]/g,Wi=/[#\?]/g,Om=/[#\?@]/g,Bc=/#/g;function ct(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function ys(h){h.g||(h.g=new Map,h.h=0,h.i&&dr(h.i,function(w,x){h.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}n=ct.prototype,n.add=function(h,w){ys(this),this.i=null,h=vs(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(w),this.h+=1,this};function qc(h,w){ys(h),w=vs(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function tl(h,w){return ys(h),w=vs(h,w),h.g.has(w)}n.forEach=function(h,w){ys(this),this.g.forEach(function(x,D){x.forEach(function(Q){h.call(w,Q,D,this)},this)},this)};function Hc(h,w){ys(h);let x=[];if(typeof w=="string")tl(h,w)&&(x=x.concat(h.g.get(vs(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)x=x.concat(h[w]);return x}n.set=function(h,w){return ys(this),this.i=null,h=vs(this,h),tl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},n.get=function(h,w){return h?(h=Hc(this,h),h.length>0?String(h[0]):w):w};function Wc(h,w,x){qc(h,w),x.length>0&&(h.i=null,h.g.set(vs(h,w),I(x)),h.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let D=0;D<w.length;D++){var x=w[D];const Q=gn(x);x=Hc(this,x);for(let te=0;te<x.length;te++){let _e=Q;x[te]!==""&&(_e+="="+gn(x[te])),h.push(_e)}}return this.i=h.join("&")};function Gc(h){const w=new ct;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function vs(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function nl(h,w){w&&!h.j&&(ys(h),h.i=null,h.g.forEach(function(x,D){const Q=D.toLowerCase();D!=Q&&(qc(this,D),Wc(this,Q,x))},h)),h.j=w}function _s(h,w){const x=new St;if(l.Image){const D=new Image;D.onload=g(bn,x,"TestLoadImage: loaded",!0,w,D),D.onerror=g(bn,x,"TestLoadImage: error",!1,w,D),D.onabort=g(bn,x,"TestLoadImage: abort",!1,w,D),D.ontimeout=g(bn,x,"TestLoadImage: timeout",!1,w,D),l.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else w(!1)}function ws(h,w){const x=new St,D=new AbortController,Q=setTimeout(()=>{D.abort(),bn(x,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:D.signal}).then(te=>{clearTimeout(Q),te.ok?bn(x,"TestPingServer: ok",!0,w):bn(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),bn(x,"TestPingServer: error",!1,w)})}function bn(h,w,x,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(x)}catch{}}function Gi(){this.g=new Qn}function Xs(h){this.i=h.Sb||null,this.h=h.ab||!1}m(Xs,qr),Xs.prototype.g=function(){return new hr(this.i,this.h)};function hr(h,w){_t.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(hr,_t),n=hr.prototype,n.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,Zr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fo(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yd(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yd(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Fo(this):Zr(this),this.readyState==3&&Yd(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Fo(this))},n.Na=function(h){this.g&&(this.response=h,Fo(this))},n.ga=function(){this.g&&Fo(this)};function Fo(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Zr(h)}n.setRequestHeader=function(h,w){this.A.append(h,w)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=w.next();return h.join(`\r
`)};function Zr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xd(h){let w="";return re(h,function(x,D){w+=D,w+=":",w+=x,w+=`\r
`}),w}function rl(h,w,x){e:{for(D in x){var D=!1;break e}D=!0}D||(x=Xd(x),typeof h=="string"?x!=null&&gn(x):yt(h,w,x))}function Tt(h){_t.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Tt,_t);var Jd=/^https?$/i,Mm=["POST","PUT"];n=Tt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,w,x,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rn.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(te){Uo(this,te);return}if(h=x||"",x=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)x.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())x.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(x.keys()).find(te=>te.toLowerCase()=="content-type"),Q=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(Mm,w,void 0)>=0)||D||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,_e]of x)this.g.setRequestHeader(te,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(te){Uo(this,te)}};function Uo(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,zo(h),eo(h)}function zo(h){h.A||(h.A=!0,jt(h,"complete"),jt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,jt(this,"complete"),jt(this,"abort"),eo(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eo(this,!0)),Tt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Js(this):this.Xa())},n.Xa=function(){Js(this)};function Js(h){if(h.h&&typeof i<"u"){if(h.v&&Es(h)==4)setTimeout(h.Ca.bind(h),0);else if(jt(h,"readystatechange"),Es(h)==4){h.h=!1;try{const te=h.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var D;if(D=te===0){let _e=String(h.D).match(Qd)[1]||null;!_e&&l.self&&l.self.location&&(_e=l.self.location.protocol.slice(0,-1)),D=!Jd.test(_e?_e.toLowerCase():"")}x=D}if(x)jt(h,"complete"),jt(h,"success");else{h.o=6;try{var Q=Es(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",zo(h)}}finally{eo(h)}}}}function eo(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,w||jt(h,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Es(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Es(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Do(w)}};function eh(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Kc(h){const w={};h=(h.g&&Es(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(N(h[D]))continue;var x=ji(h[D]);const Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const te=w[Q]||[];w[Q]=te,te.push(x)}Y(w,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(h,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||w}function sl(h){this.za=0,this.i=[],this.j=new St,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bs("baseRetryDelayMs",5e3,h),this.Za=bs("retryDelaySeedMs",1e4,h),this.Ta=bs("forwardChannelMaxRetries",2,h),this.va=bs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ja(h&&h.concurrentRequestLimit),this.Ba=new Gi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=sl.prototype,n.ka=8,n.I=1,n.connect=function(h,w,x,D){Rt(0),this.W=h,this.H=w||{},x&&D!==void 0&&(this.H.OSID=x,this.H.OAID=D),this.F=this.X,this.J=Qc(this,null,this.W),to(this)};function ol(h){if(il(h),h.I==3){var w=h.V++,x=Rr(h.J);if(yt(x,"SID",h.M),yt(x,"RID",w),yt(x,"TYPE","terminate"),xs(h,x),w=new Ar(h,h.j,w),w.M=2,w.A=Ys(Rr(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=w.A,x=!0),x||(w.g=nh(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Fi(w)}Qi(h)}function fr(h){h.g&&(Zi(h),h.g.cancel(),h.g=null)}function il(h){fr(h),h.v&&(l.clearTimeout(h.v),h.v=null),al(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function to(h){if(!jc(h.h)&&!h.m){h.m=!0;var w=h.Ea;W||S(),J||(W(),J=!0),k.add(w,h),h.D=0}}function th(h,w){return zi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=qe(p(h.Ea,h,w),cl(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new Ar(this,this.j,h);let te=this.o;if(this.U&&(te?(te=F(te),oe(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var D=this.i[x];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,w>4096){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=Zc(this,Q,w),x=Rr(this.J),yt(x,"RID",h),yt(x,"CVER",22),this.G&&yt(x,"X-HTTP-Session-Id",this.G),xs(this,x),te&&(this.R?w="headers="+gn(Xd(te))+"&"+w:this.u&&rl(x,this.u,te)),el(this.h,Q),this.Ra&&yt(x,"TYPE","init"),this.S?(yt(x,"$req",w),yt(x,"SID","null"),Q.U=!0,Kr(Q,x,null)):Kr(Q,x,w),this.I=2}}else this.I==3&&(h?Ki(this,h):this.i.length==0||jc(this.h)||Ki(this))};function Ki(h,w){var x;w?x=w.l:x=h.V++;const D=Rr(h.J);yt(D,"SID",h.M),yt(D,"RID",x),yt(D,"AID",h.K),xs(h,D),h.u&&h.o&&rl(D,h.u,h.o),x=new Ar(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),w&&(h.i=w.G.concat(h.i)),w=Zc(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),el(h.h,x),Kr(x,D,w)}function xs(h,w){h.H&&re(h.H,function(x,D){yt(w,D,x)}),h.l&&re({},function(x,D){yt(w,D,x)})}function Zc(h,w,x){x=Math.min(h.i.length,x);const D=h.l?p(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Ye=-1;for(;;){const Kt=["count="+x];Ye==-1?x>0?(Ye=Q[0].g,Kt.push("ofs="+Ye)):Ye=0:Kt.push("ofs="+Ye);let wt=!0;for(let en=0;en<x;en++){var te=Q[en].g;const mr=Q[en].map;if(te-=Ye,te<0)Ye=Math.max(0,Q[en].g-100),wt=!1;else try{te="req"+te+"_"||"";try{var _e=mr instanceof Map?mr:Object.entries(mr);for(const[no,Ss]of _e){let Ts=Ss;u(Ss)&&(Ts=Br(Ss)),Kt.push(te+no+"="+encodeURIComponent(Ts))}}catch(no){throw Kt.push(te+"type="+encodeURIComponent("_badmap")),no}}catch{D&&D(mr)}}if(wt){_e=Kt.join("&");break e}}_e=void 0}return h=h.i.splice(0,x),w.G=h,_e}function Pn(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;W||S(),J||(W(),J=!0),k.add(w,h),h.A=0}}function Is(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=qe(p(h.Da,h),cl(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,$o(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=qe(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),fr(this),$o(this))};function Zi(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function $o(h){h.g=new Ar(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=Rr(h.na);yt(w,"RID","rpc"),yt(w,"SID",h.M),yt(w,"AID",h.K),yt(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&yt(w,"TO",h.ia),yt(w,"TYPE","xmlhttp"),xs(h,w),h.u&&h.o&&rl(w,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=Ys(Rr(w)),x.u=null,x.R=!0,Vc(x,h)}n.Va=function(){this.C!=null&&(this.C=null,fr(this),Is(this),Rt(19))};function al(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function ll(h,w){var x=null;if(h.g==w){al(h),Zi(h),h.g=null;var D=2}else if(Fc(h.h,w))x=w.G,$i(h.h,w),D=1;else return;if(h.I!=0){if(w.o)if(D==1){x=w.u?w.u.length:0,w=Date.now()-w.F;var Q=h.D;D=Tr(),jt(D,new Lo(D,x)),to(h)}else Pn(h);else if(Q=w.m,Q==3||Q==0&&w.X>0||!(D==1&&th(h,w)||D==2&&Is(h)))switch(x&&x.length>0&&(w=h.h,w.i=w.i.concat(x)),Q){case 1:pr(h,5);break;case 4:pr(h,10);break;case 3:pr(h,6);break;default:pr(h,2)}}}function cl(h,w){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*w}function pr(h,w){if(h.j.info("Error code "+w),w==2){var x=p(h.bb,h),D=h.Ua;const Q=!D;D=new ms(D||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Bi(D,"https"),Ys(D),Q?_s(D.toString(),x):ws(D.toString(),x)}else Rt(2);h.I=0,h.l&&h.l.pa(w),Qi(h),il(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Qi(h){if(h.I=0,h.ja=[],h.l){const w=ur(h.h);(w.length!=0||h.i.length!=0)&&(P(h.ja,w),P(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Qc(h,w,x){var D=x instanceof ms?Rr(x):new ms(x);if(D.g!="")w&&(D.g=w+"."+D.g),gs(D,D.u);else{var Q=l.location;D=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new ms(null);D&&Bi(te,D),w&&(te.g=w),Q&&gs(te,Q),x&&(te.h=x),D=te}return x=h.G,w=h.wa,x&&w&&yt(D,x,w),yt(D,"VER",h.ka),xs(h,D),D}function nh(h,w,x){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new Tt(new Xs({ab:x})):new Tt(h.ma),w.Fa(h.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rh(){}n=rh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ul(){}ul.prototype.g=function(h,w){return new xn(h,w)};function xn(h,w){_t.call(this),this.g=new sl(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!N(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!N(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Bo(this)}m(xn,_t),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){ol(this.g)},xn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=Br(h),h=x);w.i.push(new Dm(w.Ya++,h)),w.I==3&&to(w)},xn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,xn.Z.N.call(this)};function sh(h){Oo.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const x in w){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}m(sh,Oo);function oh(){Mo.call(this),this.status=1}m(oh,Mo);function Bo(h){this.g=h}m(Bo,rh),Bo.prototype.ra=function(){jt(this.g,"a")},Bo.prototype.qa=function(h){jt(this.g,new sh(h))},Bo.prototype.pa=function(h){jt(this.g,new oh)},Bo.prototype.oa=function(){jt(this.g,"b")},ul.prototype.createWebChannel=ul.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,VA=function(){return new ul},MA=function(){return Tr()},OA=Yn,mv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Pf=cr,Jt.COMPLETE="complete",DA=Jt,Hr.EventType=ps,ps.OPEN="a",ps.CLOSE="b",ps.ERROR="c",ps.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Du=Hr,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,NA=Tt}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const Vx="@firebase/firestore",Lx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new P_("@firebase/firestore");function Bl(){return Da.logLevel}function he(n,...e){if(Da.logLevel<=it.DEBUG){const t=e.map(B_);Da.debug(`Firestore (${Pc}): ${n}`,...t)}}function Wn(n,...e){if(Da.logLevel<=it.ERROR){const t=e.map(B_);Da.error(`Firestore (${Pc}): ${n}`,...t)}}function Oa(n,...e){if(Da.logLevel<=it.WARN){const t=e.map(B_);Da.warn(`Firestore (${Pc}): ${n}`,...t)}}function B_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,LA(n,r,t)}function LA(n,e,t){let r=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Wn(r),new Error(r)}function Le(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||LA(e,s,r)}function Ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Co{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Tn.UNAUTHENTICATED)))}shutdown(){}}class l6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class c6{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let i=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Us,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=i;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Us)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new jA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class u6{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d6{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new u6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0,3512);const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Le(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new jx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=f6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function gv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return Ry(s)===Ry(i)?Ke(s,i):Ry(s)?1:-1}return Ke(n.length,e.length)}const p6=55296,m6=57343;function Ry(n){const e=n.charCodeAt(0);return e>=p6&&e<=m6}function lc(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function FA(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="__name__";class Ns{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ke(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ns.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=Ns.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return Ke(e.length,t.length)}static compareSegments(e,t){const r=Ns.isNumericId(e),s=Ns.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ns.extractNumericId(e).compare(Ns.extractNumericId(t)):gv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bi.fromString(e.substring(4,e.length-2))}}class vt extends Ns{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new vt(t)}static emptyPath(){return new vt([])}}const g6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Ns{construct(e,t,r){return new zt(e,t,r)}static isValidIdentifier(e){return g6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fx}static keyField(){return new zt([Fx])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ve(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ve(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(i(),s++)}if(i(),l)throw new ve(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(vt.fromString(e))}static fromName(e){return new Ee(vt.fromString(e).popFirst(5))}static empty(){return new Ee(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(n,e,t){if(!t)throw new ve(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function y6(n,e,t,r){if(e===!0&&r===!0)throw new ve(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ux(n){if(!Ee.isDocumentKey(n))throw new ve(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zx(n){if(Ee.isDocumentKey(n))throw new ve(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function nm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function Un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nm(n);throw new ve(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Rd(n,e){if(!zA(n))throw new ve(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&l!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new ve(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=-62135596800,Bx=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Bx);return new mt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$x)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bx}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rd(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$x;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:rn("string",mt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new mt(0,0))}static max(){return new Ue(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;class cp{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function yv(n){return n.fields.find((e=>e.kind===2))}function ha(n){return n.fields.filter((e=>e.kind!==2))}cp.UNKNOWN_ID=-1;class kf{constructor(e,t){this.fieldPath=e,this.kind=t}}class sd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sd(0,Ir.min())}}function v6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(r===1e9?new mt(t+1,0):new mt(t,r));return new Ir(s,Ee.empty(),e)}function $A(n){return new Ir(n.readTime,n.key,rd)}class Ir{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ir(Ue.min(),Ee.empty(),rd)}static max(){return new Ir(Ue.max(),Ee.empty(),rd)}}function H_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==BA)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,r)=>{t(e)}))}static reject(e){return new K(((t,r)=>{r(e)}))}static waitFor(e){return new K(((t,r)=>{let s=0,i=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++i,l&&i===s&&t()}),(d=>r(d)))})),l=!0,i===s&&t()}))}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next((s=>s?K.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new K(((r,s)=>{const i=e.length,l=new Array(i);let u=0;for(let d=0;d<i;d++){const p=d;t(e[p]).next((g=>{l[p]=g,++u,u===i&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new K(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="SimpleDb";class rm{static open(e,t,r,s){try{return new rm(t,e.transaction(s,r))}catch(i){throw new Uu(t,i)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Us,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Uu(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=W_(r.target.error);this.S.reject(new Uu(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(wr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new w6(t)}}class xi{static delete(e){return he(wr,"Removing database:",e),ma(FC().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!KC())return!1;if(xi.F())return!0;const e=hn(),t=xi.M(e),r=0<t&&t<10,s=HA(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,xi.M(hn())===12.2&&Wn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(wr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const l=i.target.result;t(l)},s.onblocked=()=>{r(new Uu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const l=i.target.error;l.name==="VersionError"?r(new ve(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ve(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Uu(e,l))},s.onupgradeneeded=i=>{he(wr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const l=i.target.result;this.N.k(l,s.transaction,i.oldVersion,this.version).next((()=>{he(wr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const i=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=rm.open(this.db,e,i?"readonly":"readwrite",r),d=s(u).next((p=>(u.C(),p))).catch((p=>(u.abort(p),K.reject(p)))).toPromise();return d.catch((()=>{})),await u.D,d}catch(u){const d=u,p=d.name!=="FirebaseError"&&l<3;if(he(wr,"Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function HA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class _6{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ma(this.U.delete())}}class Uu extends ve{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Di(n){return n.name==="IndexedDbTransactionError"}class w6{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(he(wr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(he(wr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ma(r)}add(e){return he(wr,"ADD",this.store.name,e,e),ma(this.store.add(e))}get(e){return ma(this.store.get(e)).next((t=>(t===void 0&&(t=null),he(wr,"GET",this.store.name,e,t),t)))}delete(e){return he(wr,"DELETE",this.store.name,e),ma(this.store.delete(e))}count(){return he(wr,"COUNT",this.store.name),ma(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new K(((l,u)=>{i.onerror=d=>{u(d.target.error)},i.onsuccess=d=>{l(d.target.result)}}))}{const i=this.cursor(r),l=[];return this.H(i,((u,d)=>{l.push(d)})).next((()=>l))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new K(((s,i)=>{r.onerror=l=>{i(l.target.error)},r.onsuccess=l=>{s(l.target.result)}}))}Z(e,t){he(wr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,((i,l,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}te(e){const t=this.cursor({});return new K(((r,s)=>{t.onerror=i=>{const l=W_(i.target.error);s(l)},t.onsuccess=i=>{const l=i.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,t){const r=[];return new K(((s,i)=>{e.onerror=l=>{i(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void s();const d=new _6(u),p=t(u.primaryKey,u.value,d);if(p instanceof K){const g=p.catch((m=>(d.done(),K.reject(m))));r.push(g)}d.isDone?s():d.G===null?u.continue():u.continue(d.G)}})).next((()=>K.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ma(n){return new K(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=W_(r.target.error);t(s)}}))}let qx=!1;function W_(n){const e=xi.M(hn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qx||(qx=!0,setTimeout((()=>{throw r}),0)),r}}return n}const zu="IndexBackfiller";class E6{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(zu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();he(zu,`Documents written: ${t}`)}catch(t){Di(t)?he(zu,"Ignoring IndexedDB error during index backfill: ",t):await Ha(t)}await this.re(6e4)}))}}class b6{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,i=!0;return K.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return he(zu,`Processing collection: ${l}`),this.oe(e,l,s).next((u=>{s-=u,r.add(l)}));i=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((i=>{const l=i.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(s,i))).next((u=>(he(zu,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,i)=>{const l=$A(i);H_(l,r)>0&&(r=l)})),new Ir(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=-1;function sm(n){return n==null}function od(n){return n===0&&1/n==-1/0}function x6(n){return typeof n=="number"&&Number.isInteger(n)&&!od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="";function zn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hx(e)),e=I6(n.get(t),e);return Hx(e)}function I6(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case up:t+="";break;default:t+=i}}return t}function Hx(n){return n+up+""}function Vs(n){const e=n.length;if(Le(e>=2,64408,{path:n}),e===2)return Le(n.charAt(0)===up&&n.charAt(1)==="",56145,{path:n}),vt.emptyPath();const t=e-2,r=[];let s="";for(let i=0;i<e;){const l=n.indexOf(up,i);switch((l<0||l>t)&&ke(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(i,l);let d;s.length===0?d=u:(s+=u,d=s,s=""),r.push(d);break;case"":s+=n.substring(i,l),s+="\0";break;case"":s+=n.substring(i,l+1);break;default:ke(61167,{path:n})}i=l+2}return new vt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="remoteDocuments",Pd="owner",Vl="owner",id="mutationQueues",S6="userId",ns="mutations",Wx="batchId",wa="userMutationsIndex",Gx=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n,e){return[n,zn(e)]}function WA(n,e,t){return[n,zn(e),t]}const T6={},cc="documentMutations",dp="remoteDocumentsV14",C6=["prefixPath","collectionGroup","readTime","documentId"],Df="documentKeyIndex",A6=["prefixPath","collectionGroup","documentId"],GA="collectionGroupIndex",R6=["collectionGroup","readTime","prefixPath","documentId"],ad="remoteDocumentGlobal",vv="remoteDocumentGlobalKey",uc="targets",KA="queryTargetsIndex",P6=["canonicalId","targetId"],dc="targetDocuments",k6=["targetId","path"],G_="documentTargetsIndex",N6=["path","targetId"],hp="targetGlobalKey",Ia="targetGlobal",ld="collectionParents",D6=["collectionId","parent"],hc="clientMetadata",O6="clientId",om="bundles",M6="bundleId",im="namedQueries",V6="name",K_="indexConfiguration",L6="indexId",_v="collectionGroupIndex",j6="collectionGroup",$u="indexState",F6=["indexId","uid"],ZA="sequenceNumberIndex",U6=["uid","sequenceNumber"],Bu="indexEntries",z6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],QA="documentKeyIndex",$6=["indexId","uid","orderedDocumentKey"],am="documentOverlays",B6=["userId","collectionPath","documentId"],wv="collectionPathOverlayIndex",q6=["userId","collectionPath","largestBatchId"],YA="collectionGroupOverlayIndex",H6=["userId","collectionGroup","largestBatchId"],Z_="globals",W6="name",XA=[id,ns,cc,fa,uc,Pd,Ia,dc,hc,ad,ld,om,im],G6=[...XA,am],JA=[id,ns,cc,dp,uc,Pd,Ia,dc,hc,ad,ld,om,im,am],eR=JA,Q_=[...eR,K_,$u,Bu],K6=Q_,tR=[...Q_,Z_],Z6=tR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends qA{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function fn(n,e){const t=Ze(n);return xi.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t){this.comparator=e,this.root=t||Cn.EMPTY}insert(e,t){return new Vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new df(this.root,e,this.comparator,!1)}getReverseIterator(){return new df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new df(this.root,e,this.comparator,!0)}}class df{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Cn.RED,this.left=s??Cn.EMPTY,this.right=i??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Cn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Cn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new Cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zx(this.data.getIterator())}getIteratorFrom(e){return new Zx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class Zx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ll(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new or([])}unionWith(e){let t=new bt(zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rR("Invalid base64 string: "+i):i}})(e);return new sn(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i})(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const Q6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(n){if(Le(!!n,39018),typeof n=="string"){let e=0;const t=Q6.exec(n);if(Le(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function So(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="server_timestamp",oR="__type__",iR="__previous_value__",aR="__local_write_time__";function Y_(n){return(n?.mapValue?.fields||{})[oR]?.stringValue===sR}function lm(n){const e=n.mapValue.fields[iR];return Y_(e)?lm(e):e}function cd(n){const e=Io(n.mapValue.fields[aR].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,t,r,s,i,l,u,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g}}const fp="(default)";class Ma{constructor(e,t){this.projectId=e,this.database=t||fp}static empty(){return new Ma("","")}get isDefaultDatabase(){return this.database===fp}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__type__",lR="__max__",yi={mapValue:{fields:{__type__:{stringValue:lR}}}},J_="__vector__",fc="value",Of={nullValue:"NULL_VALUE"};function Ai(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Y_(n)?4:cR(n)?9007199254740991:cm(n)?10:11:ke(28295,{value:n})}function Hs(n,e){if(n===e)return!0;const t=Ai(n);if(t!==Ai(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cd(n).isEqual(cd(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=Io(s.timestampValue),u=Io(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return So(s.bytesValue).isEqual(So(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return Mt(s.geoPointValue.latitude)===Mt(i.geoPointValue.latitude)&&Mt(s.geoPointValue.longitude)===Mt(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Mt(s.integerValue)===Mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Mt(s.doubleValue),u=Mt(i.doubleValue);return l===u?od(l)===od(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return lc(n.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return(function(s,i){const l=s.mapValue.fields||{},u=i.mapValue.fields||{};if(Kx(l)!==Kx(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Hs(l[d],u[d])))return!1;return!0})(n,e);default:return ke(52216,{left:n})}}function ud(n,e){return(n.values||[]).find((t=>Hs(t,e)))!==void 0}function Ri(n,e){if(n===e)return 0;const t=Ai(n),r=Ai(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return(function(i,l){const u=Mt(i.integerValue||i.doubleValue),d=Mt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,e);case 3:return Qx(n.timestampValue,e.timestampValue);case 4:return Qx(cd(n),cd(e));case 5:return gv(n.stringValue,e.stringValue);case 6:return(function(i,l){const u=So(i),d=So(l);return u.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(i,l){const u=i.split("/"),d=l.split("/");for(let p=0;p<u.length&&p<d.length;p++){const g=Ke(u[p],d[p]);if(g!==0)return g}return Ke(u.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,l){const u=Ke(Mt(i.latitude),Mt(l.latitude));return u!==0?u:Ke(Mt(i.longitude),Mt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Yx(n.arrayValue,e.arrayValue);case 10:return(function(i,l){const u=i.fields||{},d=l.fields||{},p=u[fc]?.arrayValue,g=d[fc]?.arrayValue,m=Ke(p?.values?.length||0,g?.values?.length||0);return m!==0?m:Yx(p,g)})(n.mapValue,e.mapValue);case 11:return(function(i,l){if(i===yi.mapValue&&l===yi.mapValue)return 0;if(i===yi.mapValue)return 1;if(l===yi.mapValue)return-1;const u=i.fields||{},d=Object.keys(u),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let m=0;m<d.length&&m<g.length;++m){const E=gv(d[m],g[m]);if(E!==0)return E;const I=Ri(u[d[m]],p[g[m]]);if(I!==0)return I}return Ke(d.length,g.length)})(n.mapValue,e.mapValue);default:throw ke(23264,{he:t})}}function Qx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=Io(n),r=Io(e),s=Ke(t.seconds,r.seconds);return s!==0?s:Ke(t.nanos,r.nanos)}function Yx(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Ri(t[s],r[s]);if(i)return i}return Ke(t.length,r.length)}function pc(n){return bv(n)}function bv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Io(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return So(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=bv(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${bv(t.fields[l])}`;return s+"}"})(n.mapValue):ke(61005,{value:n})}function Mf(n){switch(Ai(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lm(n);return e?16+Mf(e):16;case 5:return 2*n.stringValue.length;case 6:return So(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Mf(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Oi(r.fields,((i,l)=>{s+=i.length+Mf(l)})),s})(n.mapValue);default:throw ke(13486,{value:n})}}function dd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xv(n){return!!n&&"integerValue"in n}function hd(n){return!!n&&"arrayValue"in n}function Xx(n){return!!n&&"nullValue"in n}function Jx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vf(n){return!!n&&"mapValue"in n}function cm(n){return(n?.mapValue?.fields||{})[X_]?.stringValue===J_}function qu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Oi(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=qu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qu(n.arrayValue.values[t]);return e}return{...n}}function cR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lR}const uR={mapValue:{fields:{[X_]:{stringValue:J_},[fc]:{arrayValue:{}}}}};function X6(n){return"nullValue"in n?Of:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?dd(Ma.empty(),Ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?cm(n)?uR:{mapValue:{}}:ke(35942,{value:n})}function J6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?dd(Ma.empty(),Ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?uR:"mapValue"in n?cm(n)?{mapValue:{}}:yi:ke(61959,{value:n})}function eI(n,e){const t=Ri(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function tI(n,e){const t=Ri(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(t)}setAll(e){let t=zt.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=qu(l):s.push(u.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Vf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Vf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Oi(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Fn(qu(this.value))}}function dR(n){const e=[];return Oi(n.fields,((t,r)=>{const s=new zt([t]);if(Vf(r)){const i=dR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)})),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,r,s,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Ht(e,0,Ue.min(),Ue.min(),Ue.min(),Fn.empty(),0)}static newFoundDocument(e,t,r,s){return new Ht(e,1,t,Ue.min(),r,s,0)}static newNoDocument(e,t){return new Ht(e,2,t,Ue.min(),Ue.min(),Fn.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,Ue.min(),Ue.min(),Fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t){this.position=e,this.inclusive=t}}function nI(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],l=n.position[s];if(i.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),t.key):r=Ri(l,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function rI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t="asc"){this.field=e,this.dir=t}}function eU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{}class lt extends hR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new tU(e,t,r):t==="array-contains"?new sU(e,r):t==="in"?new vR(e,r):t==="not-in"?new oU(e,r):t==="array-contains-any"?new iU(e,r):new lt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new nU(e,r):new rU(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ri(t,this.value)):t!==null&&Ai(this.value)===Ai(t)&&this.matchesComparison(Ri(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Et extends hR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Et(e,t)}matches(e){return gc(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gc(n){return n.op==="and"}function Iv(n){return n.op==="or"}function ew(n){return fR(n)&&gc(n)}function fR(n){for(const e of n.filters)if(e instanceof Et)return!1;return!0}function Sv(n){if(n instanceof lt)return n.field.canonicalString()+n.op.toString()+pc(n.value);if(ew(n))return n.filters.map((e=>Sv(e))).join(",");{const e=n.filters.map((t=>Sv(t))).join(",");return`${n.op}(${e})`}}function pR(n,e){return n instanceof lt?(function(r,s){return s instanceof lt&&r.op===s.op&&r.field.isEqual(s.field)&&Hs(r.value,s.value)})(n,e):n instanceof Et?(function(r,s){return s instanceof Et&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,l,u)=>i&&pR(l,s.filters[u])),!0):!1})(n,e):void ke(19439)}function mR(n,e){const t=n.filters.concat(e);return Et.create(t,n.op)}function gR(n){return n instanceof lt?(function(t){return`${t.field.canonicalString()} ${t.op} ${pc(t.value)}`})(n):n instanceof Et?(function(t){return t.op.toString()+" {"+t.getFilters().map(gR).join(" ,")+"}"})(n):"Filter"}class tU extends lt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class nU extends lt{constructor(e,t){super(e,"in",t),this.keys=yR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class rU extends lt{constructor(e,t){super(e,"not-in",t),this.keys=yR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yR(n,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class sU extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hd(t)&&ud(t.arrayValue,this.value)}}class vR extends lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ud(this.value.arrayValue,t)}}class oU extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ud(this.value.arrayValue,t)}}class iU extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>ud(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,t=null,r=[],s=[],i=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=u,this.Te=null}}function Tv(n,e=null,t=[],r=[],s=null,i=null,l=null){return new aU(n,e,t,r,s,i,l)}function Va(n){const e=Ze(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Sv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),sm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>pc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>pc(r))).join(",")),e.Te=t}return e.Te}function kd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rI(n.startAt,e.startAt)&&rI(n.endAt,e.endAt)}function pp(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function mp(n,e){return n.filters.filter((t=>t instanceof lt&&t.field.isEqual(e)))}function sI(n,e,t){let r=Of,s=!0;for(const i of mp(n,e)){let l=Of,u=!0;switch(i.op){case"<":case"<=":l=X6(i.value);break;case"==":case"in":case">=":l=i.value;break;case">":l=i.value,u=!1;break;case"!=":case"not-in":l=Of}eI({value:r,inclusive:s},{value:l,inclusive:u})<0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];eI({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}function oI(n,e,t){let r=yi,s=!0;for(const i of mp(n,e)){let l=yi,u=!0;switch(i.op){case">=":case">":l=J6(i.value),u=!1;break;case"==":case"in":case"<=":l=i.value;break;case"<":l=i.value,u=!1;break;case"!=":case"not-in":l=yi}tI({value:r,inclusive:s},{value:l,inclusive:u})>0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];tI({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t=null,r=[],s=[],i=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lU(n,e,t,r,s,i,l,u){return new kc(n,e,t,r,s,i,l,u)}function Nd(n){return new kc(n)}function iI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _R(n){return n.collectionGroup!==null}function Hu(n){const e=Ze(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new bt(zt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new fd(i,r))})),t.has(zt.keyField().canonicalString())||e.Ie.push(new fd(zt.keyField(),r))}return e.Ie}function Ur(n){const e=Ze(n);return e.Ee||(e.Ee=cU(e,Hu(n))),e.Ee}function cU(n,e){if(n.limitType==="F")return Tv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new fd(s.field,i)}));const t=n.endAt?new mc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new mc(n.startAt.position,n.startAt.inclusive):null;return Tv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Cv(n,e){const t=n.filters.concat([e]);return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Av(n,e,t){return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function um(n,e){return kd(Ur(n),Ur(e))&&n.limitType===e.limitType}function wR(n){return`${Va(Ur(n))}|lt:${n.limitType}`}function ql(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>gR(s))).join(", ")}]`),sm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>pc(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>pc(s))).join(",")),`Target(${r})`})(Ur(n))}; limitType=${n.limitType})`}function Dd(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of Hu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,d){const p=nI(l,u,d);return l.inclusive?p<=0:p<0})(r.startAt,Hu(r),s)||r.endAt&&!(function(l,u,d){const p=nI(l,u,d);return l.inclusive?p>=0:p>0})(r.endAt,Hu(r),s))})(n,e)}function uU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ER(n){return(e,t)=>{let r=!1;for(const s of Hu(n)){const i=dU(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function dU(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(i,l,u){const d=l.data.field(i),p=u.data.field(i);return d!==null&&p!==null?Ri(d,p):ke(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return nR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=new Vt(Ee.comparator);function br(){return hU}const bR=new Vt(Ee.comparator);function Ou(...n){let e=bR;for(const t of n)e=e.insert(t.key,t);return e}function xR(n){let e=bR;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ls(){return Wu()}function IR(){return Wu()}function Wu(){return new Ao((n=>n.toString()),((n,e)=>n.isEqual(e)))}const fU=new Vt(Ee.comparator),pU=new bt(Ee.comparator);function et(...n){let e=pU;for(const t of n)e=e.add(t);return e}const mU=new bt(Ke);function gU(){return mU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function SR(n){return{integerValue:""+n}}function yU(n,e){return x6(e)?SR(e):tw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this._=void 0}}function vU(n,e,t){return n instanceof pd?(function(s,i){const l={fields:{[oR]:{stringValue:sR},[aR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Y_(i)&&(i=lm(i)),i&&(l.fields[iR]=i),{mapValue:l}})(t,e):n instanceof yc?CR(n,e):n instanceof vc?AR(n,e):(function(s,i){const l=TR(s,i),u=aI(l)+aI(s.Ae);return xv(l)&&xv(s.Ae)?SR(u):tw(s.serializer,u)})(n,e)}function _U(n,e,t){return n instanceof yc?CR(n,e):n instanceof vc?AR(n,e):t}function TR(n,e){return n instanceof md?(function(r){return xv(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class pd extends dm{}class yc extends dm{constructor(e){super(),this.elements=e}}function CR(n,e){const t=RR(e);for(const r of n.elements)t.some((s=>Hs(s,r)))||t.push(r);return{arrayValue:{values:t}}}class vc extends dm{constructor(e){super(),this.elements=e}}function AR(n,e){let t=RR(e);for(const r of n.elements)t=t.filter((s=>!Hs(s,r)));return{arrayValue:{values:t}}}class md extends dm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function aI(n){return Mt(n.integerValue||n.doubleValue)}function RR(n){return hd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,t){this.field=e,this.transform=t}}function EU(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof yc&&s instanceof yc||r instanceof vc&&s instanceof vc?lc(r.elements,s.elements,Hs):r instanceof md&&s instanceof md?Hs(r.Ae,s.Ae):r instanceof pd&&s instanceof pd})(n.transform,e.transform)}class bU{constructor(e,t){this.version=e,this.transformResults=t}}class dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hm{}function PR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Od(n.key,dn.none()):new Nc(n.key,n.data,dn.none());{const t=n.data,r=Fn.empty();let s=new bt(zt.comparator);for(let i of e.fields)if(!s.has(i)){let l=t.field(i);l===null&&i.length>1&&(i=i.popLast(),l=t.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new Ro(n.key,r,new or(s.toArray()),dn.none())}}function xU(n,e,t){n instanceof Nc?(function(s,i,l){const u=s.value.clone(),d=cI(s.fieldTransforms,i,l.transformResults);u.setAll(d),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Ro?(function(s,i,l){if(!Lf(s.precondition,i))return void i.convertToUnknownDocument(l.version);const u=cI(s.fieldTransforms,i,l.transformResults),d=i.data;d.setAll(kR(s)),d.setAll(u),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):(function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Gu(n,e,t,r){return n instanceof Nc?(function(i,l,u,d){if(!Lf(i.precondition,l))return u;const p=i.value.clone(),g=uI(i.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ro?(function(i,l,u,d){if(!Lf(i.precondition,l))return u;const p=uI(i.fieldTransforms,d,l),g=l.data;return g.setAll(kR(i)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(i,l,u){return Lf(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function IU(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=TR(r.transform,s||null);i!=null&&(t===null&&(t=Fn.empty()),t.set(r.field,i))}return t||null}function lI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&lc(r,s,((i,l)=>EU(i,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Nc extends hm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ro extends hm{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function cI(n,e,t){const r=new Map;Le(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],l=i.transform,u=e.data.field(i.field);r.set(i.field,_U(l,u,t[s]))}return r}function uI(n,e,t){const r=new Map;for(const s of n){const i=s.transform,l=t.data.field(s.field);r.set(s.field,vU(i,l,e))}return r}class Od extends hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NR extends hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&xU(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=IR();return this.mutations.forEach((s=>{const i=e.get(s.key),l=i.overlayedDocument;let u=this.applyToLocalView(l,i.mutatedFields);u=t.has(s.key)?null:u;const d=PR(l,u);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),et())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,((t,r)=>lI(t,r)))&&lc(this.baseMutations,e.baseMutations,((t,r)=>lI(t,r)))}}class rw{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return fU})();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new rw(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,dt;function TU(n){switch(n){case ne.OK:return ke(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function DR(n){if(n===void 0)return Wn("GRPC error has no .code"),ne.UNKNOWN;switch(n){case nn.OK:return ne.OK;case nn.CANCELLED:return ne.CANCELLED;case nn.UNKNOWN:return ne.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ne.INTERNAL;case nn.UNAVAILABLE:return ne.UNAVAILABLE;case nn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case nn.NOT_FOUND:return ne.NOT_FOUND;case nn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case nn.ABORTED:return ne.ABORTED;case nn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case nn.DATA_LOSS:return ne.DATA_LOSS;default:return ke(39323,{code:n})}}(dt=nn||(nn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new bi([4294967295,4294967295],0);function dI(n){const e=CU().encode(n),t=new kA;return t.update(e),new Uint8Array(t.digest())}function hI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new bi([t,r],0),new bi([s,i],0)]}class ow{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mu(`Invalid padding: ${t}`);if(r<0)throw new Mu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=bi.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(bi.fromNumber(r)));return s.compare(AU)===1&&(s=new bi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=dI(e),[r,s]=hI(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new ow(i,s,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=dI(e),[r,s]=hI(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new fm(Ue.min(),s,new Vt(Ke),br(),et())}}class Md{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Md(r,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class OR{constructor(e,t){this.targetId=e,this.Ce=t}}class MR{constructor(e,t,r=sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class fI{constructor(){this.ve=0,this.Fe=pI(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),t=et(),r=et();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ke(38017,{changeType:i})}})),new Md(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=pI()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RU{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.Je=hf(),this.He=hf(),this.Ye=new Vt(Ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(pp(i))if(r===0){const l=new Ee(i.path);this.et(t,l,Ht.newNoDocument(l,Ue.min()))}else Le(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let l,u;try{l=So(r).toUint8Array()}catch(d){if(d instanceof rR)return Oa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new ow(l,s,i)}catch(d){return Oa(d instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,l)=>{const u=this.ot(l);if(u){if(i.current&&pp(u.target)){const d=new Ee(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Ht.newNoDocument(d,e))}i.Be&&(t.set(l,i.ke()),i.qe())}}));let r=et();this.He.forEach(((i,l)=>{let u=!0;l.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,l)=>l.setReadTime(e)));const s=new fm(e,t,this.Ye,this.je,r);return this.je=br(),this.Je=hf(),this.He=hf(),this.Ye=new Vt(Ke),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new fI,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new bt(Ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new bt(Ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fI),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hf(){return new Vt(Ee.comparator)}function pI(){return new Vt(Ee.comparator)}const PU={asc:"ASCENDING",desc:"DESCENDING"},kU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NU={and:"AND",or:"OR"};class DU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rv(n,e){return n.useProto3Json||sm(e)?e:{value:e}}function _c(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OU(n,e){return _c(n,e.toTimestamp())}function Gn(n){return Le(!!n,49232),Ue.fromTimestamp((function(t){const r=Io(t);return new mt(r.seconds,r.nanos)})(n))}function iw(n,e){return Pv(n,e).canonicalString()}function Pv(n,e){const t=(function(s){return new vt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function LR(n){const e=vt.fromString(n);return Le(WR(e),10190,{key:e.toString()}),e}function gp(n,e){return iw(n.databaseId,e.path)}function Sa(n,e){const t=LR(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(UR(t))}function jR(n,e){return iw(n.databaseId,e)}function FR(n){const e=LR(n);return e.length===4?vt.emptyPath():UR(e)}function kv(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UR(n){return Le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mI(n,e,t){return{name:gp(n,e),fields:t.value.mapValue.fields}}function MU(n,e,t){const r=Sa(n,e.name),s=Gn(e.updateTime),i=e.createTime?Gn(e.createTime):Ue.min(),l=new Fn({mapValue:{fields:e.fields}}),u=Ht.newFoundDocument(r,s,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function VU(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(p,g){return p.useProto3Json?(Le(g===void 0||typeof g=="string",58123),sn.fromBase64String(g||"")):(Le(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),sn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const g=p.code===void 0?ne.UNKNOWN:DR(p.code);return new ve(g,p.message||"")})(l);t=new MR(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sa(n,r.document.name),i=Gn(r.document.updateTime),l=r.document.createTime?Gn(r.document.createTime):Ue.min(),u=new Fn({mapValue:{fields:r.document.fields}}),d=Ht.newFoundDocument(s,i,l,u),p=r.targetIds||[],g=r.removedTargetIds||[];t=new jf(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sa(n,r.document),i=r.readTime?Gn(r.readTime):Ue.min(),l=Ht.newNoDocument(s,i),u=r.removedTargetIds||[];t=new jf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sa(n,r.document),i=r.removedTargetIds||[];t=new jf([],i,s,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new SU(s,i),u=r.targetId;t=new OR(u,l)}}return t}function yp(n,e){let t;if(e instanceof Nc)t={update:mI(n,e.key,e.value)};else if(e instanceof Od)t={delete:gp(n,e.key)};else if(e instanceof Ro)t={update:mI(n,e.key,e.data),updateMask:$U(e.fieldMask)};else{if(!(e instanceof NR))return ke(16599,{Vt:e.type});t={verify:gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,l){const u=l.transform;if(u instanceof pd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof yc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof vc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof md)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw ke(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:OU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ke(27497)})(n,e.precondition)),t}function Nv(n,e){const t=e.currentDocument?(function(i){return i.updateTime!==void 0?dn.updateTime(Gn(i.updateTime)):i.exists!==void 0?dn.exists(i.exists):dn.none()})(e.currentDocument):dn.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(l,u){let d=null;if("setToServerValue"in u)Le(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),d=new pd;else if("appendMissingElements"in u){const g=u.appendMissingElements.values||[];d=new yc(g)}else if("removeAllFromArray"in u){const g=u.removeAllFromArray.values||[];d=new vc(g)}else"increment"in u?d=new md(l,u.increment):ke(16584,{proto:u});const p=zt.fromServerFormat(u.fieldPath);return new wU(p,d)})(n,s))):[];if(e.update){e.update.name;const s=Sa(n,e.update.name),i=new Fn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const p=d.fieldPaths||[];return new or(p.map((g=>zt.fromServerFormat(g))))})(e.updateMask);return new Ro(s,i,l,t,r)}return new Nc(s,i,t,r)}if(e.delete){const s=Sa(n,e.delete);return new Od(s,t)}if(e.verify){const s=Sa(n,e.verify);return new NR(s,t)}return ke(1463,{proto:e})}function LU(n,e){return n&&n.length>0?(Le(e!==void 0,14353),n.map((t=>(function(s,i){let l=s.updateTime?Gn(s.updateTime):Gn(i);return l.isEqual(Ue.min())&&(l=Gn(i)),new bU(l,s.transformResults||[])})(t,e)))):[]}function zR(n,e){return{documents:[jR(n,e.path)]}}function $R(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=jR(n,s);const i=(function(p){if(p.length!==0)return HR(Et.create(p,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const l=(function(p){if(p.length!==0)return p.map((g=>(function(E){return{field:Hl(E.field),direction:FU(E.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Rv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function BR(n){let e=FR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Le(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let i=[];t.where&&(i=(function(m){const E=qR(m);return E instanceof Et&&ew(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(m){return m.map((E=>(function(P){return new fd(Wl(P.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(E)))})(t.orderBy));let u=null;t.limit&&(u=(function(m){let E;return E=typeof m=="object"?m.value:m,sm(E)?null:E})(t.limit));let d=null;t.startAt&&(d=(function(m){const E=!!m.before,I=m.values||[];return new mc(I,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(m){const E=!m.before,I=m.values||[];return new mc(I,E)})(t.endAt)),lU(e,s,l,i,u,"F",d,p)}function jU(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wl(t.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wl(t.unaryFilter.field);return lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wl(t.unaryFilter.field);return lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wl(t.unaryFilter.field);return lt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(n):n.fieldFilter!==void 0?(function(t){return lt.create(Wl(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Et.create(t.compositeFilter.filters.map((r=>qR(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(t.compositeFilter.op))})(n):ke(30097,{filter:n})}function FU(n){return PU[n]}function UU(n){return kU[n]}function zU(n){return NU[n]}function Hl(n){return{fieldPath:n.canonicalString()}}function Wl(n){return zt.fromServerFormat(n.fieldPath)}function HR(n){return n instanceof lt?(function(t){if(t.op==="=="){if(Jx(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NAN"}};if(Xx(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jx(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NOT_NAN"}};if(Xx(t.value))return{unaryFilter:{field:Hl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(t.field),op:UU(t.op),value:t.value}}})(n):n instanceof Et?(function(t){const r=t.getFilters().map((s=>HR(s)));return r.length===1?r[0]:{compositeFilter:{op:zU(t.op),filters:r}}})(n):ke(54877,{filter:n})}function $U(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function WR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,t,r,s,i=Ue.min(),l=Ue.min(),u=sn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.yt=e}}function BU(n,e){let t;if(e.document)t=MU(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ee.fromSegments(e.noDocument.path),s=ja(e.noDocument.readTime);t=Ht.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ke(56709);{const r=Ee.fromSegments(e.unknownDocument.path),s=ja(e.unknownDocument.version);t=Ht.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const i=new mt(s[0],s[1]);return Ue.fromTimestamp(i)})(e.readTime)),t}function gI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,l){return{name:gp(i,l.key),fields:l.data.value.mapValue.fields,updateTime:_c(i,l.version.toTimestamp()),createTime:_c(i,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:La(e.version)};else{if(!e.isUnknownDocument())return ke(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:La(e.version)}}return r}function vp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function La(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ja(n){const e=new mt(n.seconds,n.nanoseconds);return Ue.fromTimestamp(e)}function ga(n,e){const t=(e.baseMutations||[]).map((i=>Nv(n.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const l=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>Nv(n.yt,i))),s=mt.fromMillis(e.localWriteTimeMs);return new nw(e.batchId,s,t,r)}function Vu(n){const e=ja(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ja(n.lastLimboFreeSnapshotVersion):Ue.min();let r;return r=(function(i){return i.documents!==void 0})(n.query)?(function(i){const l=i.documents.length;return Le(l===1,1966,{count:l}),Ur(Nd(FR(i.documents[0])))})(n.query):(function(i){return Ur(BR(i))})(n.query),new vo(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,sn.fromBase64String(n.resumeToken))}function KR(n,e){const t=La(e.snapshotVersion),r=La(e.lastLimboFreeSnapshotVersion);let s;s=pp(e.target)?zR(n.yt,e.target):$R(n.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Va(e.target),readTime:t,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function ZR(n){const e=BR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Av(e,e.limit,"L"):e}function Py(n,e){return new sw(e.largestBatchId,Nv(n.yt,e.overlayMutation))}function yI(n,e){const t=e.path.lastSegment();return[n,zn(e.path.popLast()),t]}function vI(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:La(r.readTime),documentKey:zn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{getBundleMetadata(e,t){return _I(e).get(t).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:ja(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,t){return _I(e).put((function(s){return{bundleId:s.id,createTime:La(Gn(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return wI(e).get(t).next((r=>{if(r)return(function(i){return{name:i.name,query:ZR(i.bundledQuery),readTime:ja(i.readTime)}})(r)}))}saveNamedQuery(e,t){return wI(e).put((function(s){return{name:s.name,readTime:La(Gn(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function _I(n){return fn(n,om)}function wI(n){return fn(n,im)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new pm(e,r)}getOverlay(e,t){return Iu(e).get(yI(this.userId,t)).next((r=>r?Py(this.serializer,r):null))}getOverlays(e,t){const r=Ls();return K.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((i,l)=>{const u=new sw(t,l);s.push(this.St(e,u))})),K.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((l=>s.add(zn(l.getCollectionPath()))));const i=[];return s.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);i.push(Iu(e).Z(wv,u))})),K.waitFor(i)}getOverlaysForCollection(e,t,r){const s=Ls(),i=zn(t),l=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Iu(e).J(wv,l).next((u=>{for(const d of u){const p=Py(this.serializer,d);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const i=Ls();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Iu(e).ee({index:YA,range:u},((d,p,g)=>{const m=Py(this.serializer,p);i.size()<s||m.largestBatchId===l?(i.set(m.getKey(),m),l=m.largestBatchId):g.done()})).next((()=>i))}St(e,t){return Iu(e).put((function(s,i,l){const[u,d,p]=yI(i,l.mutation.key);return{userId:i,collectionPath:d,documentId:p,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:yp(s.yt,l.mutation)}})(this.serializer,this.userId,t))}}function Iu(n){return fn(n,am)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{bt(e){return fn(e,Z_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?sn.fromUint8Array(r):sn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Mt(e.integerValue));else if("doubleValue"in e){const r=Mt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),od(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Io(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(So(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?cR(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):cm(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ke(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=fc,i=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Mt(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),Ee.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ya.Kt=new ya;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=255;function WU(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function EI(n){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const l=WU(255&r[i]);if(s+=l,l!==8)break}return s})(n);return Math.ceil(e/8)}class GU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),r=EI(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=EI(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(jl),this.sn(255)}_n(){this.an(jl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===jl?(this.sn(jl),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===jl?(this.an(jl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class KU{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class ZU{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Su{constructor(){this.cn=new GU,this.ln=new KU(this.cn),this.hn=new ZU(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,r,s){this.Tn=e,this.In=t,this.En=r,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new va(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:Ff(this.En),directionalValue:Ff(this.dn),orderedDocumentKey:Ff(t),documentKey:r.path.toArray()}}Vn(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ii(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=bI(n.En,e.En),t!==0?t:(t=bI(n.dn,e.dn),t!==0?t:Ee.comparator(n.In,e.In)))}function bI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Ff(n){return GC()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function xI(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class II{constructor(e){this.mn=new bt(((t,r)=>zt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Le(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=yv(e);if(t!==void 0&&!this.wn(t))return!1;const r=ha(e);let s=new Set,i=0,l=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const d=r[i];if(!this.Sn(u,d)||!this.bn(this.fn[l++],d))return!1}++i}for(;i<r.length;++i){const u=r[i];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new bt(zt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new kf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new kf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new kf(r.field,r.dir==="asc"?0:1)));return new cp(cp.UNKNOWN_ID,this.collectionId,t,sd.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n){if(Le(n instanceof lt||n instanceof Et,20012),n instanceof lt){if(n instanceof vR){const t=n.value.arrayValue?.values?.map((r=>lt.create(n.field,"==",r)))||[];return Et.create(t,"or")}return n}const e=n.filters.map((t=>QR(t)));return Et.create(e,n.op)}function QU(n){if(n.getFilters().length===0)return[];const e=Mv(QR(n));return Le(YR(e),7391),Dv(e)||Ov(e)?[e]:e.getFilters()}function Dv(n){return n instanceof lt}function Ov(n){return n instanceof Et&&ew(n)}function YR(n){return Dv(n)||Ov(n)||(function(t){if(t instanceof Et&&Iv(t)){for(const r of t.getFilters())if(!Dv(r)&&!Ov(r))return!1;return!0}return!1})(n)}function Mv(n){if(Le(n instanceof lt||n instanceof Et,34018),n instanceof lt)return n;if(n.filters.length===1)return Mv(n.filters[0]);const e=n.filters.map((r=>Mv(r)));let t=Et.create(e,n.op);return t=_p(t),YR(t)?t:(Le(t instanceof Et,64498),Le(gc(t),40251),Le(t.filters.length>1,57927),t.filters.reduce(((r,s)=>aw(r,s))))}function aw(n,e){let t;return Le(n instanceof lt||n instanceof Et,38388),Le(e instanceof lt||e instanceof Et,25473),t=n instanceof lt?e instanceof lt?(function(s,i){return Et.create([s,i],"and")})(n,e):SI(n,e):e instanceof lt?SI(e,n):(function(s,i){if(Le(s.filters.length>0&&i.filters.length>0,48005),gc(s)&&gc(i))return mR(s,i.getFilters());const l=Iv(s)?s:i,u=Iv(s)?i:s,d=l.filters.map((p=>aw(p,u)));return Et.create(d,"or")})(n,e),_p(t)}function SI(n,e){if(gc(e))return mR(e,n.getFilters());{const t=e.filters.map((r=>aw(n,r)));return Et.create(t,"or")}}function _p(n){if(Le(n instanceof lt||n instanceof Et,11850),n instanceof lt)return n;const e=n.getFilters();if(e.length===1)return _p(e[0]);if(fR(n))return n;const t=e.map((s=>_p(s))),r=[];return t.forEach((s=>{s instanceof lt?r.push(s):s instanceof Et&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:Et.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.Cn=new lw}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Ir.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class lw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new bt(vt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="IndexedDbIndexManager",ff=new Uint8Array(0);class XU{constructor(e,t){this.databaseId=t,this.vn=new lw,this.Fn=new Ao((r=>Va(r)),((r,s)=>kd(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const i={collectionId:r,parent:zn(s)};return CI(e).put(i)}return K.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[FA(t),""],!1,!0);return CI(e).J(s).next((i=>{for(const l of i){if(l.collectionId!==t)break;r.push(Vs(l.parent))}return r}))}addFieldIndex(e,t){const r=Tu(e),s=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete s.indexId;const i=r.add(s);if(t.indexState){const l=Ul(e);return i.next((u=>{l.put(vI(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const r=Tu(e),s=Ul(e),i=Fl(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Tu(e),r=Fl(e),s=Ul(e);return t.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return K.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new II(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,t){const r=Fl(e);let s=!0;const i=new Map;return K.forEach(this.Mn(t),(l=>this.xn(e,l).next((u=>{s&&(s=!!u),i.set(l,u)})))).next((()=>{if(s){let l=et();const u=[];return K.forEach(i,((d,p)=>{he(TI,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map((q=>`${q.fieldPath}:${q.kind}`)).join(",")}`})(d)} to execute ${Va(t)}`);const g=(function(z,q){const W=yv(q);if(W===void 0)return null;for(const J of mp(z,W.fieldPath))switch(J.op){case"array-contains-any":return J.value.arrayValue.values||[];case"array-contains":return[J.value]}return null})(p,d),m=(function(z,q){const W=new Map;for(const J of ha(q))for(const k of mp(z,J.fieldPath))switch(k.op){case"==":case"in":W.set(J.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return W.set(J.fieldPath.canonicalString(),k.value),Array.from(W.values())}return null})(p,d),E=(function(z,q){const W=[];let J=!0;for(const k of ha(q)){const S=k.kind===0?sI(z,k.fieldPath,z.startAt):oI(z,k.fieldPath,z.startAt);W.push(S.value),J&&(J=S.inclusive)}return new mc(W,J)})(p,d),I=(function(z,q){const W=[];let J=!0;for(const k of ha(q)){const S=k.kind===0?oI(z,k.fieldPath,z.endAt):sI(z,k.fieldPath,z.endAt);W.push(S.value),J&&(J=S.inclusive)}return new mc(W,J)})(p,d),P=this.On(d,p,E),C=this.On(d,p,I),A=this.Nn(d,p,m),M=this.Bn(d.indexId,g,P,E.inclusive,C,I.inclusive,A);return K.forEach(M,(U=>r.Y(U,t.limit).next((z=>{z.forEach((q=>{const W=Ee.fromSegments(q.documentKey);l.has(W)||(l=l.add(W),u.push(W))}))}))))})).next((()=>u))}return K.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=QU(Et.create(e.filters,"and")).map((r=>Tv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,s,i,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,i.length),p=d/(t!=null?t.length:1),g=[];for(let m=0;m<d;++m){const E=t?this.Ln(t[m/p]):ff,I=this.kn(e,E,r[m%p],s),P=this.qn(e,E,i[m%p],l),C=u.map((A=>this.kn(e,E,A,!0)));g.push(...this.createRange(I,P,C))}return g}kn(e,t,r,s){const i=new va(e,Ee.empty(),t,r);return s?i:i.An()}qn(e,t,r,s){const i=new va(e,Ee.empty(),t,r);return s?i.An():i}xn(e,t){const r=new II(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let l=null;for(const u of i)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,t){let r=2;const s=this.Mn(t);return K.forEach(s,(i=>this.xn(e,i).next((l=>{l?r!==0&&l.fields.length<(function(d){let p=new bt(zt.comparator),g=!1;for(const m of d.filters)for(const E of m.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?g=!0:p=p.add(E.field));for(const m of d.orderBy)m.field.isKeyField()||(p=p.add(m.field));return p.size+(g?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&s.length>1&&r===2?1:r))}Qn(e,t){const r=new Su;for(const s of ha(e)){const i=t.data.field(s.fieldPath);if(i==null)return null;const l=r.Pn(s.kind);ya.Kt.Dt(i,l)}return r.un()}Ln(e){const t=new Su;return ya.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Su;return ya.Kt.Dt(dd(this.databaseId,t),r.Pn((function(i){const l=ha(i);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let s=[];s.push(new Su);let i=0;for(const l of ha(e)){const u=r[i++];for(const d of s)if(this.Un(t,l.fieldPath)&&hd(u))s=this.Kn(s,l,u);else{const p=d.Pn(l.kind);ya.Kt.Dt(u,p)}}return this.Wn(s)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const s=[...e],i=[];for(const l of r.arrayValue.values||[])for(const u of s){const d=new Su;d.seed(u.un()),ya.Kt.Dt(l,d.Pn(t.kind)),i.push(d)}return i}Un(e,t){return!!e.filters.find((r=>r instanceof lt&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Tu(e),s=Ul(e);return(t?r.J(_v,IDBKeyRange.bound(t,t)):r.J()).next((i=>{const l=[];return K.forEach(i,(u=>s.get([u.indexId,this.uid]).next((d=>{l.push((function(g,m){const E=m?new sd(m.sequenceNumber,new Ir(ja(m.readTime),new Ee(Vs(m.documentKey)),m.largestBatchId)):sd.empty(),I=g.fields.map((([P,C])=>new kf(zt.fromServerFormat(P),C)));return new cp(g.indexId,g.collectionGroup,I,E)})(u,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ke(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=Tu(e),i=Ul(e);return this.Gn(e).next((l=>s.J(_v,IDBKeyRange.bound(t,t)).next((u=>K.forEach(u,(d=>i.put(vI(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return K.forEach(t,((s,i)=>{const l=r.get(s.collectionGroup);return(l?K.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),K.forEach(u,(d=>this.zn(e,s,d).next((p=>{const g=this.jn(i,d);return p.isEqual(g)?K.resolve():this.Jn(e,i,d,p,g)})))))))}))}Hn(e,t,r,s){return Fl(e).put(s.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,s){return Fl(e).delete(s.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const s=Fl(e);let i=new bt(ii);return s.ee({index:QA,range:IDBKeyRange.only([r.indexId,this.uid,Ff(this.$n(r,t))])},((l,u)=>{i=i.add(new va(r.indexId,t,xI(u.arrayValue),xI(u.directionalValue)))})).next((()=>i))}jn(e,t){let r=new bt(ii);const s=this.Qn(t,e);if(s==null)return r;const i=yv(t);if(i!=null){const l=e.data.field(i.fieldPath);if(hd(l))for(const u of l.arrayValue.values||[])r=r.add(new va(t.indexId,e.key,this.Ln(u),s))}else r=r.add(new va(t.indexId,e.key,ff,s));return r}Jn(e,t,r,s,i){he(TI,"Updating index entries for document '%s'",t.key);const l=[];return(function(d,p,g,m,E){const I=d.getIterator(),P=p.getIterator();let C=Ll(I),A=Ll(P);for(;C||A;){let M=!1,U=!1;if(C&&A){const z=g(C,A);z<0?U=!0:z>0&&(M=!0)}else C!=null?U=!0:M=!0;M?(m(A),A=Ll(P)):U?(E(C),C=Ll(I)):(C=Ll(I),A=Ll(P))}})(s,i,ii,(u=>{l.push(this.Hn(e,t,r,u))}),(u=>{l.push(this.Yn(e,t,r,u))})),K.waitFor(l)}Gn(e){let t=1;return Ul(e).ee({index:ZA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,u)=>ii(l,u))).filter(((l,u,d)=>!u||ii(l,d[u-1])!==0));const s=[];s.push(e);for(const l of r){const u=ii(l,e),d=ii(l,t);if(u===0)s[0]=e.An();else if(u>0&&d<0)s.push(l),s.push(l.An());else if(d>0)break}s.push(t);const i=[];for(let l=0;l<s.length;l+=2){if(this.Zn(s[l],s[l+1]))return[];const u=s[l].Vn(this.uid,ff,Ee.empty()),d=s[l+1].Vn(this.uid,ff,Ee.empty());i.push(IDBKeyRange.bound(u,d))}return i}Zn(e,t){return ii(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(AI)}getMinOffset(e,t){return K.mapArray(this.Mn(t),(r=>this.xn(e,r).next((s=>s||ke(44426))))).next(AI)}}function CI(n){return fn(n,ld)}function Fl(n){return fn(n,Bu)}function Tu(n){return fn(n,K_)}function Ul(n){return fn(n,$u)}function AI(n){Le(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;H_(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Ir(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XR=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n,e,t){const r=n.store(ns),s=n.store(cc),i=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.ee({range:l},((g,m,E)=>(u++,E.delete())));i.push(d.next((()=>{Le(u===1,47070,{batchId:t.batchId})})));const p=[];for(const g of t.mutations){const m=WA(e,g.key.path,t.batchId);i.push(s.delete(m)),p.push(g.key)}return K.waitFor(i).next((()=>p))}function wp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ke(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(XR,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class mm{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,t,r,s){Le(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new mm(i,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ai(e).ee({index:wa,range:r},((s,i,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const i=Gl(e),l=ai(e);return l.add({}).next((u=>{Le(typeof u=="number",49019);const d=new nw(u,t,r,s),p=(function(I,P,C){const A=C.baseMutations.map((U=>yp(I.yt,U))),M=C.mutations.map((U=>yp(I.yt,U)));return{userId:P,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:A,mutations:M}})(this.serializer,this.userId,d),g=[];let m=new bt(((E,I)=>Ke(E.canonicalString(),I.canonicalString())));for(const E of s){const I=WA(this.userId,E.key.path,u);m=m.add(E.key.path.popLast()),g.push(l.put(p)),g.push(i.put(I,T6))}return m.forEach((E=>{g.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[u]=d.keys()})),K.waitFor(g).next((()=>d))}))}lookupMutationBatch(e,t){return ai(e).get(t).next((r=>r?(Le(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),ga(this.serializer,r)):null))}er(e,t){return this.Xn[t]?K.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return ai(e).ee({index:wa,range:s},((l,u,d)=>{u.userId===this.userId&&(Le(u.batchId>=r,47524,{tr:r}),i=ga(this.serializer,u)),d.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=xa;return ai(e).ee({index:wa,range:t,reverse:!0},((s,i,l)=>{r=i.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,xa],[this.userId,Number.POSITIVE_INFINITY]);return ai(e).J(wa,t).next((r=>r.map((s=>ga(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Nf(this.userId,t.path),s=IDBKeyRange.lowerBound(r),i=[];return Gl(e).ee({range:s},((l,u,d)=>{const[p,g,m]=l,E=Vs(g);if(p===this.userId&&t.path.isEqual(E))return ai(e).get(m).next((I=>{if(!I)throw ke(61480,{nr:l,batchId:m});Le(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:m}),i.push(ga(this.serializer,I))}));d.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bt(Ke);const s=[];return t.forEach((i=>{const l=Nf(this.userId,i.path),u=IDBKeyRange.lowerBound(l),d=Gl(e).ee({range:u},((p,g,m)=>{const[E,I,P]=p,C=Vs(I);E===this.userId&&i.path.isEqual(C)?r=r.add(P):m.done()}));s.push(d)})),K.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,i=Nf(this.userId,r),l=IDBKeyRange.lowerBound(i);let u=new bt(Ke);return Gl(e).ee({range:l},((d,p,g)=>{const[m,E,I]=d,P=Vs(E);m===this.userId&&r.isPrefixOf(P)?P.length===s&&(u=u.add(I)):g.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],s=[];return t.forEach((i=>{s.push(ai(e).get(i).next((l=>{if(l===null)throw ke(35274,{batchId:i});Le(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:i}),r.push(ga(this.serializer,l))})))})),K.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return JR(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),K.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return K.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return Gl(e).ee({range:r},((i,l,u)=>{if(i[0]===this.userId){const d=Vs(i[1]);s.push(d)}else u.done()})).next((()=>{Le(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,t){return eP(e,this.userId,t)}_r(e){return tP(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:xa,lastStreamToken:""}))}}function eP(n,e,t){const r=Nf(e,t.path),s=r[1],i=IDBKeyRange.lowerBound(r);let l=!1;return Gl(n).ee({range:i,X:!0},((u,d,p)=>{const[g,m,E]=u;g===e&&m===s&&(l=!0),p.done()})).next((()=>l))}function ai(n){return fn(n,ns)}function Gl(n){return fn(n,cc)}function tP(n){return fn(n,id)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fa(0)}static cr(){return new Fa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Fa(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Ue.fromTimestamp(new mt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>zl(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Le(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let s=0;const i=[];return zl(e).ee(((l,u)=>{const d=Vu(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(s++,i.push(this.removeTargetData(e,d)))})).next((()=>K.waitFor(i))).next((()=>s))}forEachTarget(e,t){return zl(e).ee(((r,s)=>{const i=Vu(s);t(i)}))}lr(e){return PI(e).get(hp).next((t=>(Le(t!==null,2888),t)))}hr(e,t){return PI(e).put(hp,t)}Pr(e,t){return zl(e).put(KR(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Va(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return zl(e).ee({range:s,index:KA},((l,u,d)=>{const p=Vu(u);kd(t,p.target)&&(i=p,d.done())})).next((()=>i))}addMatchingKeys(e,t,r){const s=[],i=mi(e);return t.forEach((l=>{const u=zn(l.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,l))})),K.waitFor(s)}removeMatchingKeys(e,t,r){const s=mi(e);return K.forEach(t,(i=>{const l=zn(i.path);return K.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,t){const r=mi(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=mi(e);let i=et();return s.ee({range:r,X:!0},((l,u,d)=>{const p=Vs(l[1]),g=new Ee(p);i=i.add(g)})).next((()=>i))}containsKey(e,t){const r=zn(t.path),s=IDBKeyRange.bound([r],[FA(r)],!1,!0);let i=0;return mi(e).ee({index:G_,X:!0,range:s},(([l,u],d,p)=>{l!==0&&(i++,p.done())})).next((()=>i>0))}At(e,t){return zl(e).get(t).next((r=>r?Vu(r):null))}}function zl(n){return fn(n,uc)}function PI(n){return fn(n,Ia)}function mi(n){return fn(n,dc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="LruGarbageCollector",ez=1048576;function NI([n,e],[t,r]){const s=Ke(n,t);return s===0?Ke(e,r):s}class tz{constructor(e){this.Ir=e,this.buffer=new bt(NI),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();NI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(kI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Di(t)?he(kI,"Ignoring IndexedDB error during garbage collection: ",t):await Ha(t)}await this.Vr(3e5)}))}}class nz{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(jr.ce);const r=new tz(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(RI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RI):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,l,u,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,l=Date.now(),this.nthSequenceNumber(e,s)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,t)))).next((m=>(i=m,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(p=Date.now(),Bl()<=it.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${i} targets in `+(d-u)+`ms
	Removed ${m} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m}))))}}function rP(n,e){return new nz(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,t){this.db=e,this.garbageCollector=rP(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,s)=>t(s)))}addReference(e,t,r){return pf(e,r)}removeReference(e,t,r){return pf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return pf(e,t)}br(e,t){return(function(s,i){let l=!1;return tP(s).te((u=>eP(s,u,i).next((d=>(d&&(l=!0),K.resolve(!d)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((l,u)=>{if(u<=t){const d=this.br(e,l).next((p=>{if(!p)return i++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Ue.min()),mi(e).delete((function(m){return[0,zn(m.path)]})(l)))))}));s.push(d)}})).next((()=>K.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return pf(e,t)}Sr(e,t){const r=mi(e);let s,i=jr.ce;return r.ee({index:G_},(([l,u],{path:d,sequenceNumber:p})=>{l===0?(i!==jr.ce&&t(new Ee(Vs(s)),i),i=p,s=d):i=jr.ce})).next((()=>{i!==jr.ce&&t(new Ee(Vs(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pf(n,e){return mi(n).put((function(r,s){return{targetId:0,path:zn(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.changes=new Ao((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ua(e).put(r)}removeEntry(e,t,r){return ua(e).delete((function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],vp(l),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Ht.newInvalidDocument(t);return ua(e).ee({index:Df,range:IDBKeyRange.only(Cu(t))},((s,i)=>{r=this.Cr(t,i)})).next((()=>r))}vr(e,t){let r={size:0,document:Ht.newInvalidDocument(t)};return ua(e).ee({index:Df,range:IDBKeyRange.only(Cu(t))},((s,i)=>{r={document:this.Cr(t,i),size:wp(i)}})).next((()=>r))}getEntries(e,t){let r=br();return this.Fr(e,t,((s,i)=>{const l=this.Cr(s,i);r=r.insert(s,l)})).next((()=>r))}Mr(e,t){let r=br(),s=new Vt(Ee.comparator);return this.Fr(e,t,((i,l)=>{const u=this.Cr(i,l);r=r.insert(i,u),s=s.insert(i,wp(l))})).next((()=>({documents:r,Or:s})))}Fr(e,t,r){if(t.isEmpty())return K.resolve();let s=new bt(MI);t.forEach((d=>s=s.add(d)));const i=IDBKeyRange.bound(Cu(s.first()),Cu(s.last())),l=s.getIterator();let u=l.getNext();return ua(e).ee({index:Df,range:i},((d,p,g)=>{const m=Ee.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&MI(u,m)<0;)r(u,null),u=l.getNext();u&&u.isEqual(m)&&(r(u,p),u=l.hasNext()?l.getNext():null),u?g.j(Cu(u)):g.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,i){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),vp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ua(e).J(IDBKeyRange.bound(u,d,!0)).next((p=>{i?.incrementDocumentReadCount(p.length);let g=br();for(const m of p){const E=this.Cr(Ee.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);E.isFoundDocument()&&(Dd(t,E)||s.has(E.key))&&(g=g.insert(E.key,E))}return g}))}getAllFromCollectionGroup(e,t,r,s){let i=br();const l=OI(t,r),u=OI(t,Ir.max());return ua(e).ee({index:GA,range:IDBKeyRange.bound(l,u,!0)},((d,p,g)=>{const m=this.Cr(Ee.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);i=i.insert(m.key,m),i.size===s&&g.done()})).next((()=>i))}newChangeBuffer(e){return new oz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return DI(e).get(vv).next((t=>(Le(!!t,20021),t)))}Dr(e,t){return DI(e).put(vv,t)}Cr(e,t){if(t){const r=BU(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ue.min())))return r}return Ht.newInvalidDocument(e)}}function oP(n){return new sz(n)}class oz extends sP{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Ao((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new bt(((i,l)=>Ke(i.canonicalString(),l.canonicalString())));return this.changes.forEach(((i,l)=>{const u=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,u.readTime)),l.isValidDocument()){const d=gI(this.Nr.serializer,l);s=s.add(i.path.popLast());const p=wp(d);r+=p-u.size,t.push(this.Nr.addEntry(e,i,d))}else if(r-=u.size,this.trackRemovals){const d=gI(this.Nr.serializer,l.convertToNoDocument(Ue.min()));t.push(this.Nr.addEntry(e,i,d))}})),s.forEach((i=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),t.push(this.Nr.updateMetadata(e,r)),K.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:s})=>(s.forEach(((i,l)=>{this.Br.set(i,{size:l,readTime:r.get(i).readTime})})),r)))}}function DI(n){return fn(n,ad)}function ua(n){return fn(n,dp)}function Cu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function OI(n,e){const t=e.documentKey.path.toArray();return[n,vp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function MI(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<t.length-2&&i<r.length-2;++i)if(s=Ke(t[i],r[i]),s)return s;return s=Ke(t.length,r.length),s||(s=Ke(t[t.length-2],r[r.length-2]),s||Ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Gu(r.mutation,s,or.empty(),mt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=et()){const s=Ls();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let l=Ou();return i.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Ls();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,et())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,s){let i=br();const l=Wu(),u=(function(){return Wu()})();return t.forEach(((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Ro)?i=i.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Gu(g.mutation,p,g.mutation.getFieldMask(),mt.now())):l.set(p.key,or.empty())})),this.recalculateAndSaveOverlays(e,i).next((d=>(d.forEach(((p,g)=>l.set(p,g))),t.forEach(((p,g)=>u.set(p,new iz(g,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Wu();let s=new Vt(((l,u)=>l-u)),i=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((d=>{const p=t.get(d);if(p===null)return;let g=r.get(d)||or.empty();g=u.applyToLocalView(p,g),r.set(d,g);const m=(s.get(u.batchId)||et()).add(d);s=s.insert(u.batchId,m)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),p=d.key,g=d.value,m=IR();g.forEach((E=>{if(!i.has(E)){const I=PR(t.get(E),r.get(E));I!==null&&m.set(E,I),i=i.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,m))}return K.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_R(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):K.resolve(Ls());let u=rd,d=i;return l.next((p=>K.forEach(p,((g,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),i.get(g)?K.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{d=d.insert(g,E)}))))).next((()=>this.populateOverlays(e,p,i))).next((()=>this.computeViews(e,d,p,et()))).next((g=>({batchId:u,changes:xR(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let s=Ou();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let l=Ou();return this.indexManager.getCollectionParents(e,i).next((u=>K.forEach(u,(d=>{const p=(function(m,E){return new kc(E,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((m,E)=>{l=l.insert(m,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((l=>{i.forEach(((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Ht.newInvalidDocument(g)))}));let u=Ou();return l.forEach(((d,p)=>{const g=i.get(d);g!==void 0&&Gu(g.mutation,p,or.empty(),mt.now()),Dd(t,p)&&(u=u.insert(d,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Gn(s.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:ZR(s.bundledQuery),readTime:Gn(s.readTime)}})(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(){this.overlays=new Vt(Ee.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ls();return K.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.St(e,t,i)})),K.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const s=Ls(),i=t.length+1,l=new Ee(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===i&&d.largestBatchId>r&&s.set(d.getKey(),d)}return K.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Vt(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=i.get(p.largestBatchId);g===null&&(g=Ls(),i=i.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=Ls(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>u.set(p,g))),!(u.size()>=s)););return K.resolve(u)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new sw(t,r));let i=this.qr.get(t);i===void 0&&(i=et(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.Qr=new bt(wn.$r),this.Ur=new bt(wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new wn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new wn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ee(new vt([])),r=new wn(t,e),s=new wn(t,e+1),i=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),i.push(l.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new vt([])),r=new wn(t,e),s=new wn(t,e+1);let i=et();return this.Ur.forEachInRange([r,s],(l=>{i=i.add(l.key)})),i}containsKey(e){const t=new wn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||Ke(e.Yr,t.Yr)}static Kr(e,t){return Ke(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new bt(wn.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new nw(i,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new wn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return K.resolve(l)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?xa:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wn(t,0),s=new wn(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);i.push(u)})),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bt(Ke);return t.forEach((s=>{const i=new wn(s,0),l=new wn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],(u=>{r=r.add(u.Yr)}))})),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;Ee.isDocumentKey(i)||(i=i.child(""));const l=new wn(new Ee(i),0);let u=new bt(Ke);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(d.Yr)),!0)}),l),K.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Le(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(t.mutations,(s=>{const i=new wn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new wn(t,0),s=this.Zr.firstAfterOrEqual(r);return K.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.ri=e,this.docs=(function(){return new Vt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let r=br();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ht.newInvalidDocument(s))})),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=br();const l=t.path,u=new Ee(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||H_($A(g),r)<=0||(s.has(g.key)||Dd(t,g))&&(i=i.insert(g.key,g.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,t,r,s){ke(9500)}ii(e,t){return K.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new hz(this)}getSize(e){return K.resolve(this.size)}}class hz extends sP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.persistence=e,this.si=new Ao((t=>Va(t)),kd),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new cw,this.targetCount=0,this.ai=Fa.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Fa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),K.waitFor(i).next((()=>s))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),K.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((l=>{i.push(s.markPotentiallyOrphaned(e,l))})),K.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t){this.ui={},this.overlays={},this.ci=new jr(0),this.li=!1,this.li=!0,this.hi=new cz,this.referenceDelegate=e(this),this.Pi=new fz(this),this.indexManager=new YU,this.remoteDocumentCache=(function(s){return new dz(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new GR(t),this.Ii=new az(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new uz(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const s=new pz(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,t){return K.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class pz extends qA{constructor(e){super(),this.currentSequenceNumber=e}}class gm{constructor(e){this.persistence=e,this.Ri=new cw,this.Vi=null}static mi(e){return new gm(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(r=>{const s=Ee.fromPath(r);return this.gi(e,s).next((i=>{i||t.removeEntry(s,Ue.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ep{constructor(e,t){this.persistence=e,this.pi=new Ao((r=>zn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=rP(this,t)}static mi(e,t){return new Ep(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return K.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?K.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,i.removeEntry(l,Ue.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mf(e.data.value)),t}br(e,t,r){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.serializer=e}k(e,t,r,s){const i=new rm("createOrUpgrade",t);r<1&&s>=1&&((function(d){d.createObjectStore(Pd)})(e),(function(d){d.createObjectStore(id,{keyPath:S6}),d.createObjectStore(ns,{keyPath:Wx,autoIncrement:!0}).createIndex(wa,Gx,{unique:!0}),d.createObjectStore(cc)})(e),VI(e),(function(d){d.createObjectStore(fa)})(e));let l=K.resolve();return r<3&&s>=3&&(r!==0&&((function(d){d.deleteObjectStore(dc),d.deleteObjectStore(uc),d.deleteObjectStore(Ia)})(e),VI(e)),l=l.next((()=>(function(d){const p=d.store(Ia),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ue.min().toTimestamp(),targetCount:0};return p.put(hp,g)})(i)))),r<4&&s>=4&&(r!==0&&(l=l.next((()=>(function(d,p){return p.store(ns).J().next((m=>{d.deleteObjectStore(ns),d.createObjectStore(ns,{keyPath:Wx,autoIncrement:!0}).createIndex(wa,Gx,{unique:!0});const E=p.store(ns),I=m.map((P=>E.put(P)));return K.waitFor(I)}))})(e,i)))),l=l.next((()=>{(function(d){d.createObjectStore(hc,{keyPath:O6})})(e)}))),r<5&&s>=5&&(l=l.next((()=>this.yi(i)))),r<6&&s>=6&&(l=l.next((()=>((function(d){d.createObjectStore(ad)})(e),this.wi(i))))),r<7&&s>=7&&(l=l.next((()=>this.Si(i)))),r<8&&s>=8&&(l=l.next((()=>this.bi(e,i)))),r<9&&s>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(l=l.next((()=>this.Di(i)))),r<11&&s>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(om,{keyPath:M6})})(e),(function(d){d.createObjectStore(im,{keyPath:V6})})(e)}))),r<12&&s>=12&&(l=l.next((()=>{(function(d){const p=d.createObjectStore(am,{keyPath:B6});p.createIndex(wv,q6,{unique:!1}),p.createIndex(YA,H6,{unique:!1})})(e)}))),r<13&&s>=13&&(l=l.next((()=>(function(d){const p=d.createObjectStore(dp,{keyPath:C6});p.createIndex(Df,A6),p.createIndex(GA,R6)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(fa)))),r<14&&s>=14&&(l=l.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(l=l.next((()=>(function(d){d.createObjectStore(K_,{keyPath:L6,autoIncrement:!0}).createIndex(_v,j6,{unique:!1}),d.createObjectStore($u,{keyPath:F6}).createIndex(ZA,U6,{unique:!1}),d.createObjectStore(Bu,{keyPath:z6}).createIndex(QA,$6,{unique:!1})})(e)))),r<16&&s>=16&&(l=l.next((()=>{t.objectStore($u).clear()})).next((()=>{t.objectStore(Bu).clear()}))),r<17&&s>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(Z_,{keyPath:W6})})(e)}))),r<18&&s>=18&&GC()&&(l=l.next((()=>{t.objectStore($u).clear()})).next((()=>{t.objectStore(Bu).clear()}))),l}wi(e){let t=0;return e.store(fa).ee(((r,s)=>{t+=wp(s)})).next((()=>{const r={byteSize:t};return e.store(ad).put(vv,r)}))}yi(e){const t=e.store(id),r=e.store(ns);return t.J().next((s=>K.forEach(s,(i=>{const l=IDBKeyRange.bound([i.userId,xa],[i.userId,i.lastAcknowledgedBatchId]);return r.J(wa,l).next((u=>K.forEach(u,(d=>{Le(d.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const p=ga(this.serializer,d);return JR(e,i.userId,p).next((()=>{}))}))))}))))}Si(e){const t=e.store(dc),r=e.store(fa);return e.store(Ia).get(hp).next((s=>{const i=[];return r.ee(((l,u)=>{const d=new vt(l),p=(function(m){return[0,zn(m)]})(d);i.push(t.get(p).next((g=>g?K.resolve():(m=>t.put({targetId:0,path:zn(m),sequenceNumber:s.highestListenSequenceNumber}))(d))))})).next((()=>K.waitFor(i)))}))}bi(e,t){e.createObjectStore(ld,{keyPath:D6});const r=t.store(ld),s=new lw,i=l=>{if(s.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:zn(d)})}};return t.store(fa).ee({X:!0},((l,u)=>{const d=new vt(l);return i(d.popLast())})).next((()=>t.store(cc).ee({X:!0},(([l,u,d],p)=>{const g=Vs(u);return i(g.popLast())}))))}Di(e){const t=e.store(uc);return t.ee(((r,s)=>{const i=Vu(s),l=KR(this.serializer,i);return t.put(l)}))}Ci(e,t){const r=t.store(fa),s=[];return r.ee(((i,l)=>{const u=t.store(dp),d=(function(m){return m.document?new Ee(vt.fromString(m.document.name).popFirst(5)):m.noDocument?Ee.fromSegments(m.noDocument.path):m.unknownDocument?Ee.fromSegments(m.unknownDocument.path):ke(36783)})(l).path.toArray(),p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(u.put(p))})).next((()=>K.waitFor(s)))}Fi(e,t){const r=t.store(ns),s=oP(this.serializer),i=new uw(gm.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((d=>{let p=u.get(d.userId)??et();ga(this.serializer,d).keys().forEach((g=>p=p.add(g))),u.set(d.userId,p)})),K.forEach(u,((d,p)=>{const g=new Tn(p),m=pm.wt(this.serializer,g),E=i.getIndexManager(g),I=mm.wt(g,this.serializer,E,i.referenceDelegate);return new iP(s,I,m,E).recalculateAndSaveOverlaysForDocumentKeys(new Ev(t,jr.ce),d).next()}))}))}}function VI(n){n.createObjectStore(dc,{keyPath:k6}).createIndex(G_,N6,{unique:!0}),n.createObjectStore(uc,{keyPath:"targetId"}).createIndex(KA,P6,{unique:!0}),n.createObjectStore(Ia)}const li="IndexedDbPersistence",ky=18e5,Ny=5e3,Dy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gz="main";class dw{constructor(e,t,r,s,i,l,u,d,p,g,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=i,this.window=l,this.document=u,this.xi=p,this.Oi=g,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!dw.v())throw new ve(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rz(this,s),this.$i=t+gz,this.serializer=new GR(d),this.Ui=new xi(this.$i,this.Ni,new mz(this.serializer)),this.hi=new HU,this.Pi=new JU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oP(this.serializer),this.Ii=new qU,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&Wn(li,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ve(ne.FAILED_PRECONDITION,Dy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new jr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>mf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Di(e))return he(li,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(li,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Au(e).get(Vl).next((t=>K.resolve(this.es(t))))}ts(e){return mf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,ky)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=fn(t,hc);return r.J().next((s=>{const i=this.ss(s,ky),l=s.filter((u=>i.indexOf(u)===-1));return K.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?K.resolve(!0):Au(e).get(Vl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Ny)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new ve(ne.FAILED_PRECONDITION,Dy);return!1}}return!(!this.networkEnabled||!this.inForeground)||mf(e).J().next((r=>this.ss(r,Ny).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||l&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&he(li,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Pd,hc],(e=>{const t=new Ev(e,jr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>mf(e).J().next((t=>this.ss(t,ky).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return mm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new XU(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return pm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){he(li,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",i=(function(d){return d===18?Z6:d===17?tR:d===16?K6:d===15?Q_:d===14?eR:d===13?JA:d===12?G6:d===11?XA:void ke(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,s,i,(u=>(l=new Ev(u,this.ci?this.ci.next():jr.ce),t==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw Wn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ve(ne.FAILED_PRECONDITION,BA);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return Au(e).get(Vl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Ny)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ve(ne.FAILED_PRECONDITION,Dy)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Au(e).put(Vl,t)}static v(){return xi.v()}Zi(e){const t=Au(e);return t.get(Vl).next((r=>this.es(r)?(he(li,"Releasing primary lease."),t.delete(Vl)):K.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Wn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;WC()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return he(li,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Wn(li,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Wn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Au(n){return fn(n,Pd)}function mf(n){return fn(n,hc)}function yz(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=et(),s=et();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new hw(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WC()?8:HA(hn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next((l=>{i.result=l})).next((()=>{if(!i.result)return this.ws(e,t,s,r).next((l=>{i.result=l}))})).next((()=>{if(i.result)return;const l=new vz;return this.Ss(e,t,l).next((u=>{if(i.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>i.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Bl()<=it.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ql(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Bl()<=it.DEBUG&&he("QueryEngine","Query:",ql(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Bl()<=it.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ql(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(t))):K.resolve())}ys(e,t){if(iI(t))return K.resolve(null);let r=Ur(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Av(t,null,"F"),r=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const l=et(...i);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(t,u);return this.Cs(t,p,l,d.readTime)?this.ys(e,Av(t,null,"F")):this.vs(e,p,t,d)}))))})))))}ws(e,t,r,s){return iI(t)||s.isEqual(Ue.min())?K.resolve(null):this.ps.getDocuments(e,r).next((i=>{const l=this.Ds(t,i);return this.Cs(t,l,r,s)?K.resolve(null):(Bl()<=it.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ql(t)),this.vs(e,l,t,v6(s,rd)).next((u=>u)))}))}Ds(e,t){let r=new bt(ER(e));return t.forEach(((s,i)=>{Dd(e,i)&&(r=r.add(i))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return Bl()<=it.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ql(t)),this.ps.getDocumentsMatchingQuery(e,t,Ir.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((l=>{i=i.insert(l.key,l)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="LocalStore",_z=3e8;class wz{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Vt(Ke),this.xs=new Ao((i=>Va(i)),kd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function lP(n,e,t,r){return new wz(n,e,t,r)}async function cP(n,e){const t=Ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const l=[],u=[];let d=et();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of i){u.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function Ez(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,p,g){const m=p.batch,E=m.keys();let I=K.resolve();return E.forEach((P=>{I=I.next((()=>g.getEntry(d,P))).next((C=>{const A=p.docVersions.get(P);Le(A!==null,48541),C.version.compareTo(A)<0&&(m.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),g.addEntry(C)))}))})),I.next((()=>u.mutationQueue.removeMutationBatch(d,m)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=et();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(d=d.add(u.batch.mutations[p].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function uP(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function bz(n,e){const t=Ze(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((g,m)=>{const E=s.get(m);if(!E)return;u.push(t.Pi.removeMatchingKeys(i,g.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(i,g.addedDocuments,m))));let I=E.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?I=I.withResumeToken(sn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(m,I),(function(C,A,M){return C.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=_z?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(E,I,g)&&u.push(t.Pi.updateTargetData(i,I))}));let d=br(),p=et();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(i,g))})),u.push(xz(i,l,e.documentUpdates).next((g=>{d=g.ks,p=g.qs}))),!r.isEqual(Ue.min())){const g=t.Pi.getLastRemoteSnapshotVersion(i).next((m=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(g)}return K.waitFor(u).next((()=>l.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,d,p))).next((()=>d))})).then((i=>(t.Ms=s,i)))}function xz(n,e,t){let r=et(),s=et();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let l=br();return t.forEach(((u,d)=>{const p=i.get(u);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Ue.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):he(fw,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function Iz(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Sz(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((i=>i?(s=i,K.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new vo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Vv(n,e,t){const r=Ze(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Di(l))throw l;he(fw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function LI(n,e,t){const r=Ze(n);let s=Ue.min(),i=et();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,g){const m=Ze(d),E=m.xs.get(g);return E!==void 0?K.resolve(m.Ms.get(E)):m.Pi.getTargetData(p,g)})(r,l,Ur(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{i=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:Ue.min(),t?i:et()))).next((u=>(Tz(r,uU(e),u),{documents:u,Qs:i})))))}function Tz(n,e,t){let r=n.Os.get(e)||Ue.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(e,r)}class jI{constructor(){this.activeTargetIds=gU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dP{constructor(){this.Mo=new jI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="ConnectivityMonitor";class UI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(FI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(FI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf=null;function Lv(){return gf===null?gf=(function(){return 268435456+Math.round(2147483648*Math.random())})():gf++,"0x"+gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="RestConnection",Az={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===fp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const l=Lv(),u=this.zo(e,t.toUriEncodedString());he(Oy,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,i);const{host:p}=new URL(u),g=Cc(p);return this.Jo(e,u,d,r,g).then((m=>(he(Oy,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw Oa(Oy,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,t,r,s,i,l){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,t){const r=Az[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class kz extends Rz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const l=Lv();return new Promise(((u,d)=>{const p=new NA;p.setWithCredentials(!0),p.listenOnce(DA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Pf.NO_ERROR:const m=p.getResponseJson();he(Mn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case Pf.TIMEOUT:he(Mn,`RPC '${e}' ${l} timed out`),d(new ve(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const E=p.getStatus();if(he(Mn,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I?.error;if(P&&P.status&&P.message){const C=(function(M){const U=M.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(U)>=0?U:ne.UNKNOWN})(P.status);d(new ve(C,P.message))}else d(new ve(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ve(ne.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(Mn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);he(Mn,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=Lv(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=VA(),u=MA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=i.join("");he(Mn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const m=l.createWebChannel(g,d);this.I_(m);let E=!1,I=!1;const P=new Pz({Yo:A=>{I?he(Mn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(E||(he(Mn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),E=!0),he(Mn,`RPC '${e}' stream ${s} sending:`,A),m.send(A))},Zo:()=>m.close()}),C=(A,M,U)=>{A.listen(M,(z=>{try{U(z)}catch(q){setTimeout((()=>{throw q}),0)}}))};return C(m,Du.EventType.OPEN,(()=>{I||(he(Mn,`RPC '${e}' stream ${s} transport opened.`),P.o_())})),C(m,Du.EventType.CLOSE,(()=>{I||(I=!0,he(Mn,`RPC '${e}' stream ${s} transport closed`),P.a_(),this.E_(m))})),C(m,Du.EventType.ERROR,(A=>{I||(I=!0,Oa(Mn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),P.a_(new ve(ne.UNAVAILABLE,"The operation could not be completed")))})),C(m,Du.EventType.MESSAGE,(A=>{if(!I){const M=A.data[0];Le(!!M,16349);const U=M,z=U?.error||U[0]?.error;if(z){he(Mn,`RPC '${e}' stream ${s} received error:`,z);const q=z.status;let W=(function(S){const R=nn[S];if(R!==void 0)return DR(R)})(q),J=z.message;W===void 0&&(W=ne.INTERNAL,J="Unknown error status: "+q+" with message "+z.message),I=!0,P.a_(new ve(W,J)),m.close()}else he(Mn,`RPC '${e}' stream ${s} received:`,M),P.u_(M)}})),C(u,OA.STAT_EVENT,(A=>{A.stat===mv.PROXY?he(Mn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===mv.NOPROXY&&he(Mn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(){return typeof window<"u"?window:null}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(n){return new DU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="PersistentStream";class fP{constructor(e,t,r,s,i,l,u,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hP(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Wn(t.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new ve(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(zI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(zI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Dz extends fP{constructor(e,t,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=VU(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Ue.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?Gn(l.readTime):Ue.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=kv(this.serializer),t.addTarget=(function(i,l){let u;const d=l.target;if(u=pp(d)?{documents:zR(i,d)}:{query:$R(i,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=VR(i,l.resumeToken);const p=Rv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ue.min())>0){u.readTime=_c(i,l.snapshotVersion.toTimestamp());const p=Rv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=jU(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=kv(this.serializer),t.removeTarget=e,this.q_(t)}}class Oz extends fP{constructor(e,t,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=LU(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=kv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>yp(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{}class Vz extends Mz{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,l])=>this.connection.Go(e,Pv(t,r),s,i,l))).catch((i=>{throw i.name==="FirebaseError"?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ve(ne.UNKNOWN,i.toString())}))}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Pv(t,r),s,l,u,i))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ne.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Lz{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wn(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class jz{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Wa(this)&&(he(Ua,"Restarting streams for network reachability change."),await(async function(d){const p=Ze(d);p.Ea.add(4),await Vd(p),p.Ra.set("Unknown"),p.Ea.delete(4),await vm(p)})(this))}))})),this.Ra=new Lz(r,s)}}async function vm(n){if(Wa(n))for(const e of n.da)await e(!0)}async function Vd(n){for(const e of n.da)await e(!1)}function pP(n,e){const t=Ze(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),yw(t)?gw(t):Dc(t).O_()&&mw(t,e))}function pw(n,e){const t=Ze(n),r=Dc(t);t.Ia.delete(e),r.O_()&&mP(t,e),t.Ia.size===0&&(r.O_()?r.L_():Wa(t)&&t.Ra.set("Unknown"))}function mw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Dc(n).Y_(e)}function mP(n,e){n.Va.Ue(e),Dc(n).Z_(e)}function gw(n){n.Va=new RU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Dc(n).start(),n.Ra.ua()}function yw(n){return Wa(n)&&!Dc(n).x_()&&n.Ia.size>0}function Wa(n){return Ze(n).Ea.size===0}function gP(n){n.Va=void 0}async function Fz(n){n.Ra.set("Online")}async function Uz(n){n.Ia.forEach(((e,t)=>{mw(n,e)}))}async function zz(n,e){gP(n),yw(n)?(n.Ra.ha(e),gw(n)):n.Ra.set("Unknown")}async function $z(n,e,t){if(n.Ra.set("Online"),e instanceof MR&&e.state===2&&e.cause)try{await(async function(s,i){const l=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(n,e)}catch(r){he(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bp(n,r)}else if(e instanceof jf?n.Va.Ze(e):e instanceof OR?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ue.min()))try{const r=await uP(n.localStore);t.compareTo(r)>=0&&await(function(i,l){const u=i.Va.Tt(l);return u.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=i.Ia.get(p);g&&i.Ia.set(p,g.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,p)=>{const g=i.Ia.get(d);if(!g)return;i.Ia.set(d,g.withResumeToken(sn.EMPTY_BYTE_STRING,g.snapshotVersion)),mP(i,d);const m=new vo(g.target,d,p,g.sequenceNumber);mw(i,m)})),i.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){he(Ua,"Failed to raise snapshot:",r),await bp(n,r)}}async function bp(n,e,t){if(!Di(e))throw e;n.Ea.add(1),await Vd(n),n.Ra.set("Offline"),t||(t=()=>uP(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(Ua,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await vm(n)}))}function yP(n,e){return e().catch((t=>bp(n,t,e)))}async function Ld(n){const e=Ze(n),t=Pi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xa;for(;Bz(e);)try{const s=await Iz(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,qz(e,s)}catch(s){await bp(e,s)}vP(e)&&_P(e)}function Bz(n){return Wa(n)&&n.Ta.length<10}function qz(n,e){n.Ta.push(e);const t=Pi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function vP(n){return Wa(n)&&!Pi(n).x_()&&n.Ta.length>0}function _P(n){Pi(n).start()}async function Hz(n){Pi(n).ra()}async function Wz(n){const e=Pi(n);for(const t of n.Ta)e.ea(t.mutations)}async function Gz(n,e,t){const r=n.Ta.shift(),s=rw.from(r,e,t);await yP(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Ld(n)}async function Kz(n,e){e&&Pi(n).X_&&await(async function(r,s){if((function(l){return TU(l)&&l!==ne.ABORTED})(s.code)){const i=r.Ta.shift();Pi(r).B_(),await yP(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Ld(r)}})(n,e),vP(n)&&_P(n)}async function $I(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),he(Ua,"RemoteStore received new credentials");const r=Wa(t);t.Ea.add(3),await Vd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await vm(t)}async function Zz(n,e){const t=Ze(n);e?(t.Ea.delete(2),await vm(t)):e||(t.Ea.add(2),await Vd(t),t.Ra.set("Unknown"))}function Dc(n){return n.ma||(n.ma=(function(t,r,s){const i=Ze(t);return i.sa(),new Dz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:Fz.bind(null,n),t_:Uz.bind(null,n),r_:zz.bind(null,n),H_:$z.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),yw(n)?gw(n):n.Ra.set("Unknown")):(await n.ma.stop(),gP(n))}))),n.ma}function Pi(n){return n.fa||(n.fa=(function(t,r,s){const i=Ze(t);return i.sa(),new Oz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Hz.bind(null,n),r_:Kz.bind(null,n),ta:Wz.bind(null,n),na:Gz.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Ld(n)):(await n.fa.stop(),n.Ta.length>0&&(he(Ua,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const l=Date.now()+r,u=new vw(e,t,l,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _w(n,e){if(Wn("AsyncQueue",`${e}: ${n}`),Di(n))return new ve(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{static emptySet(e){return new tc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Ou(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new tc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.ga=new Vt(Ee.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class wc{constructor(e,t,r,s,i,l,u,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,i){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new wc(e,t,tc.emptySet(t),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Yz{constructor(){this.queries=qI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ze(t),i=s.queries;s.queries=qI(),i.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new ve(ne.ABORTED,"Firestore shutting down"))}}function qI(){return new Ao((n=>wR(n)),um)}async function ww(n,e){const t=Ze(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Qz,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=_w(l,`Initialization of query '${ql(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&bw(t)}async function Ew(n,e){const t=Ze(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const l=i.Sa.indexOf(e);l>=0&&(i.Sa.splice(l,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Xz(n,e){const t=Ze(n);let r=!1;for(const s of e){const i=s.query,l=t.queries.get(i);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&bw(t)}function Jz(n,e,t){const r=Ze(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function bw(n){n.Ca.forEach((e=>{e.next()}))}var jv,HI;(HI=jv||(jv={})).Ma="default",HI.Cache="cache";class xw{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.key=e}}class EP{constructor(e){this.key=e}}class e9{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=ER(e),this.tu=new tc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new BI,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,m)=>{const E=s.get(g),I=Dd(this.query,m)?m:null,P=!!E&&this.mutatedKeys.has(E.key),C=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let A=!1;E&&I?E.data.isEqual(I.data)?P!==C&&(r.track({type:3,doc:I}),A=!0):this.su(E,I)||(r.track({type:2,doc:I}),A=!0,(d&&this.eu(I,d)>0||p&&this.eu(I,p)<0)&&(u=!0)):!E&&I?(r.track({type:0,doc:I}),A=!0):E&&!I&&(r.track({type:1,doc:E}),A=!0,(d||p)&&(u=!0)),A&&(I?(l=l.add(I),i=C?i.add(g):i.delete(g)):(l=l.delete(g),i=i.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),i=i.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,m)=>(function(I,P){const C=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:A})}};return C(I)-C(P)})(g.type,m.type)||this.eu(g.doc,m.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,p=d!==this.Za;return this.Za=d,l.length!==0||p?{snapshot:new wc(this.query,e.tu,i,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new EP(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new wP(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return wc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Iw="SyncEngine";class t9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class n9{constructor(e){this.key=e,this.hu=!1}}class r9{constructor(e,t,r,s,i,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ao((u=>wR(u)),um),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Ee.comparator),this.Au=new Map,this.Ru=new cw,this.Vu={},this.mu=new Map,this.fu=Fa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s9(n,e,t=!0){const r=CP(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await bP(r,e,t,!0),s}async function o9(n,e){const t=CP(n);await bP(t,e,!0,!1)}async function bP(n,e,t,r){const s=await Sz(n.localStore,Ur(e)),i=s.targetId,l=n.sharedClientState.addLocalQueryTarget(i,t);let u;return r&&(u=await i9(n,e,i,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&pP(n.remoteStore,s),u}async function i9(n,e,t,r,s){n.pu=(m,E,I)=>(async function(C,A,M,U){let z=A.view.ru(M);z.Cs&&(z=await LI(C.localStore,A.query,!1).then((({documents:k})=>A.view.ru(k,z))));const q=U&&U.targetChanges.get(A.targetId),W=U&&U.targetMismatches.get(A.targetId)!=null,J=A.view.applyChanges(z,C.isPrimaryClient,q,W);return GI(C,A.targetId,J.au),J.snapshot})(n,m,E,I);const i=await LI(n.localStore,e,!0),l=new e9(e,i.Qs),u=l.ru(i.documents),d=Md.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(u,n.isPrimaryClient,d);GI(n,t,p.au);const g=new t9(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function a9(n,e,t){const r=Ze(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((l=>!um(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Vv(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&pw(r.remoteStore,s.targetId),Fv(r,s.targetId)})).catch(Ha)):(Fv(r,s.targetId),await Vv(r.localStore,s.targetId,!0))}async function l9(n,e){const t=Ze(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),pw(t.remoteStore,r.targetId))}async function c9(n,e,t){const r=AP(n);try{const s=await(function(l,u){const d=Ze(l),p=mt.now(),g=u.reduce(((I,P)=>I.add(P.key)),et());let m,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let P=br(),C=et();return d.Ns.getEntries(I,g).next((A=>{P=A,P.forEach(((M,U)=>{U.isValidDocument()||(C=C.add(M))}))})).next((()=>d.localDocuments.getOverlayedDocuments(I,P))).next((A=>{m=A;const M=[];for(const U of u){const z=IU(U,m.get(U.key).overlayedDocument);z!=null&&M.push(new Ro(U.key,z,dR(z.value.mapValue),dn.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,M,u)})).next((A=>{E=A;const M=A.applyToLocalDocumentSet(m,C);return d.documentOverlayCache.saveOverlays(I,A.batchId,M)}))})).then((()=>({batchId:E.batchId,changes:xR(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,d){let p=l.Vu[l.currentUser.toKey()];p||(p=new Vt(Ke)),p=p.insert(u,d),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,t),await jd(r,s.changes),await Ld(r.remoteStore)}catch(s){const i=_w(s,"Failed to persist write");t.reject(i)}}async function xP(n,e){const t=Ze(n);try{const r=await bz(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const l=t.Au.get(i);l&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Le(l.hu,14607):s.removedDocuments.size>0&&(Le(l.hu,42227),l.hu=!1))})),await jd(t,r,e)}catch(r){await Ha(r)}}function WI(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const d=Ze(l);d.onlineState=u;let p=!1;d.queries.forEach(((g,m)=>{for(const E of m.Sa)E.va(u)&&(p=!0)})),p&&bw(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function u9(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let l=new Vt(Ee.comparator);l=l.insert(i,Ht.newNoDocument(i,Ue.min()));const u=et().add(i),d=new fm(Ue.min(),new Map,new Vt(Ke),l,u);await xP(r,d),r.du=r.du.remove(i),r.Au.delete(e),Sw(r)}else await Vv(r.localStore,e,!1).then((()=>Fv(r,e,t))).catch(Ha)}async function d9(n,e){const t=Ze(n),r=e.batch.batchId;try{const s=await Ez(t.localStore,e);SP(t,r,null),IP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await jd(t,s)}catch(s){await Ha(s)}}async function h9(n,e,t){const r=Ze(n);try{const s=await(function(l,u){const d=Ze(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return d.mutationQueue.lookupMutationBatch(p,u).next((m=>(Le(m!==null,37113),g=m.keys(),d.mutationQueue.removeMutationBatch(p,m)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>d.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);SP(r,e,t),IP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await jd(r,s)}catch(s){await Ha(s)}}function IP(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function SP(n,e,t){const r=Ze(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Fv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||TP(n,r)}))}function TP(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(pw(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Sw(n))}function GI(n,e,t){for(const r of t)r instanceof wP?(n.Ru.addReference(r.key,e),f9(n,r)):r instanceof EP?(he(Iw,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||TP(n,r.key)):ke(19791,{wu:r})}function f9(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(he(Iw,"New document in limbo: "+t),n.Eu.add(r),Sw(n))}function Sw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(vt.fromString(e)),r=n.fu.next();n.Au.set(r,new n9(t)),n.du=n.du.insert(t,r),pP(n.remoteStore,new vo(Ur(Nd(t.path)),r,"TargetPurposeLimboResolution",jr.ce))}}async function jd(n,e,t){const r=Ze(n),s=[],i=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(p){s.push(p);const g=hw.As(d.targetId,p);i.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(d,p){const g=Ze(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>K.forEach(p,(E=>K.forEach(E.Es,(I=>g.persistence.referenceDelegate.addReference(m,E.targetId,I))).next((()=>K.forEach(E.ds,(I=>g.persistence.referenceDelegate.removeReference(m,E.targetId,I)))))))))}catch(m){if(!Di(m))throw m;he(fw,"Failed to update sequence numbers: "+m)}for(const m of p){const E=m.targetId;if(!m.fromCache){const I=g.Ms.get(E),P=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(P);g.Ms=g.Ms.insert(E,C)}}})(r.localStore,i))}async function p9(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){he(Iw,"User change. New user:",e.toKey());const r=await cP(t.localStore,e);t.currentUser=e,(function(i,l){i.mu.forEach((u=>{u.forEach((d=>{d.reject(new ve(ne.CANCELLED,l))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jd(t,r.Ls)}}function m9(n,e){const t=Ze(n),r=t.Au.get(e);if(r&&r.hu)return et().add(r.key);{let s=et();const i=t.Iu.get(e);if(!i)return s;for(const l of i){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function CP(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u9.bind(null,e),e.Pu.H_=Xz.bind(null,e.eventManager),e.Pu.yu=Jz.bind(null,e.eventManager),e}function AP(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h9.bind(null,e),e}class gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ym(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return lP(this.persistence,new aP,e.initialUser,this.serializer)}Cu(e){return new uw(gm.mi,this.serializer)}Du(e){return new dP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gd.provider={build:()=>new gd};class g9 extends gd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Le(this.persistence.referenceDelegate instanceof Ep,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new uw((r=>Ep.mi(r,t)),this.serializer)}}class y9 extends gd{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await AP(this.xu.syncEngine),await Ld(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return lP(this.persistence,new aP,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new nP(r,e.asyncQueue,t)}Mu(e,t){const r=new b6(t,this.persistence);return new E6(e.asyncQueue,r)}Cu(e){const t=yz(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new dw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Nz(),Uf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new dP}}class xp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p9.bind(null,this.syncEngine),await Zz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Yz})()}createDatastore(e){const t=ym(e.databaseInfo.databaseId),r=(function(i){return new kz(i)})(e.databaseInfo);return(function(i,l,u,d){return new Vz(i,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,l,u){return new jz(r,s,i,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>WI(this.syncEngine,t,0)),(function(){return UI.v()?new UI:new Cz})())}createSyncEngine(e,t){return(function(s,i,l,u,d,p,g){const m=new r9(s,i,l,u,d,p);return g&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ze(t);he(Ua,"RemoteStore shutting down."),r.Ea.add(5),await Vd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="FirestoreClient";class v9{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=q_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async l=>{he(ki,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(ki,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=_w(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function My(n,e){n.asyncQueue.verifyOperationInProgress(),he(ki,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await cP(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function KI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _9(n);he(ki,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>$I(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>$I(e.remoteStore,s))),n._onlineComponents=e}async function _9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(ki,"Using user provided OfflineComponentProvider");try{await My(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Oa("Error using user provided cache. Falling back to memory cache: "+t),await My(n,new gd)}}else he(ki,"Using default OfflineComponentProvider"),await My(n,new g9(void 0));return n._offlineComponents}async function RP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(ki,"Using user provided OnlineComponentProvider"),await KI(n,n._uninitializedComponentsProvider._online)):(he(ki,"Using default OnlineComponentProvider"),await KI(n,new xp))),n._onlineComponents}function w9(n){return RP(n).then((e=>e.syncEngine))}async function Ip(n){const e=await RP(n),t=e.eventManager;return t.onListen=s9.bind(null,e.syncEngine),t.onUnlisten=a9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=o9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=l9.bind(null,e.syncEngine),t}function E9(n,e,t={}){const r=new Us;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,d,p){const g=new Tw({next:E=>{g.Nu(),l.enqueueAndForget((()=>Ew(i,m)));const I=E.docs.has(u);!I&&E.fromCache?p.reject(new ve(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&d&&d.source==="server"?p.reject(new ve(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),m=new xw(Nd(u.path),g,{includeMetadataChanges:!0,qa:!0});return ww(i,m)})(await Ip(n),n.asyncQueue,e,t,r))),r.promise}function b9(n,e,t={}){const r=new Us;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,d,p){const g=new Tw({next:E=>{g.Nu(),l.enqueueAndForget((()=>Ew(i,m))),E.fromCache&&d.source==="server"?p.reject(new ve(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),m=new xw(u,g,{includeMetadataChanges:!0,qa:!0});return ww(i,m)})(await Ip(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="firestore.googleapis.com",QI=!0;class YI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kP,this.ssl=QI}else this.host=e.host,this.ssl=e.ssl??QI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ez)throw new ve(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PP(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _m{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new a6;switch(r.type){case"firstParty":return new d6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=ZI.get(t);r&&(he("ComponentProvider","Removing Datastore"),ZI.delete(t),r.terminate())})(this),Promise.resolve()}}function x9(n,e,t,r={}){n=Un(n,_m);const s=Cc(e),i=n._getSettings(),l={...i,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(BC(`https://${u}`),qC("Firestore",!0)),i.host!==kP&&i.host!==u&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...i,host:u,ssl:s,emulatorOptions:r};if(!Pa(d,l)&&(n._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Tn.MOCK_USER;else{p=Lj(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ve(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Tn(m)}n._authCredentials=new l6(new jA(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class Wt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Rd(t,Wt._jsonSchema))return new Wt(e,r||null,new Ee(vt.fromString(t.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:rn("string",Wt._jsonSchemaVersion),referencePath:rn("string")};class Ii extends Mi{constructor(e,t,r){super(e,t,Nd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ee(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function Ni(n,e,...t){if(n=En(n),UA("collection","path",e),n instanceof _m){const r=vt.fromString(e,...t);return zx(r),new Ii(n,null,r)}{if(!(n instanceof Wt||n instanceof Ii))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return zx(r),new Ii(n.firestore,null,r)}}function Dt(n,e,...t){if(n=En(n),arguments.length===1&&(e=q_.newId()),UA("doc","path",e),n instanceof _m){const r=vt.fromString(e,...t);return Ux(r),new Wt(n,null,new Ee(r))}{if(!(n instanceof Wt||n instanceof Ii))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return Ux(r),new Wt(n.firestore,n instanceof Ii?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="AsyncQueue";class JI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hP(this,"async_queue_retry"),this._c=()=>{const r=Uf();r&&he(XI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Uf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Uf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Di(e))throw e;he(XI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Wn("INTERNAL UNHANDLED ERROR: ",eS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=vw.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&ke(47125,{Pc:eS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function eS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(n,["next","error","complete"])}class ls extends _m{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new JI,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JI(e),this._firestoreClient=void 0,await e}}}function I9(n,e){const t=typeof n=="object"?n:XC(),r=typeof n=="string"?n:fp,s=N_(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Mj("firestore");i&&x9(s,...i)}return s}function Fd(n){if(n._terminated)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NP(n),n._firestoreClient}function NP(n){const e=n._freezeSettings(),t=(function(s,i,l,u){return new Y6(s,i,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,PP(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new v9(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}function S9(n,e){Oa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return T9(n,xp.provider,{build:r=>new y9(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function T9(n,e,t){if((n=Un(n,ls))._firestoreClient||n._terminated)throw new ve(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ve(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},NP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lr(sn.fromBase64String(e))}catch(t){throw new ve(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lr(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rd(e,Lr._jsonSchema))return Lr.fromBase64String(e.bytes)}}Lr._jsonSchemaVersion="firestore/bytes/1.0",Lr._jsonSchema={type:rn("string",Lr._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zs._jsonSchemaVersion}}static fromJSON(e){if(Rd(e,zs._jsonSchema))return new zs(e.latitude,e.longitude)}}zs._jsonSchemaVersion="firestore/geoPoint/1.0",zs._jsonSchema={type:rn("string",zs._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rd(e,$s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new $s(e.vectorValues);throw new ve(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:rn("string",$s._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=/^__.*__$/;class A9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nc(e,this.data,t,this.fieldTransforms)}}class DP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:n})}}class Aw{constructor(e,t,r,s,i,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Aw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OP(this.Ac)&&C9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class R9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ym(e)}Cc(e,t,r,s=!1){return new Aw({Ac:e,methodName:t,Dc:r,path:zt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(n){const e=n._freezeSettings(),t=ym(n._databaseId);return new R9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Rw(n,e,t,r,s,i={}){const l=n.Cc(i.merge||i.mergeFields?2:0,e,t,s);Pw("Data must be an object, but it was:",l,r);const u=LP(r,l);let d,p;if(i.merge)d=new or(l.fieldMask),p=l.fieldTransforms;else if(i.mergeFields){const g=[];for(const m of i.mergeFields){const E=Uv(e,m,t);if(!l.contains(E))throw new ve(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);FP(g,E)||g.push(E)}d=new or(g),p=l.fieldTransforms.filter((m=>d.covers(m.field)))}else d=null,p=l.fieldTransforms;return new A9(new Fn(u),d,p)}class wm extends Cw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}function MP(n,e,t,r){const s=n.Cc(1,e,t);Pw("Data must be an object, but it was:",s,r);const i=[],l=Fn.empty();Oi(r,((d,p)=>{const g=kw(e,d,t);p=En(p);const m=s.yc(g);if(p instanceof wm)i.push(g);else{const E=$d(p,m);E!=null&&(i.push(g),l.set(g,E))}}));const u=new or(i);return new DP(l,u,s.fieldTransforms)}function VP(n,e,t,r,s,i){const l=n.Cc(1,e,t),u=[Uv(e,r,t)],d=[s];if(i.length%2!=0)throw new ve(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<i.length;E+=2)u.push(Uv(e,i[E])),d.push(i[E+1]);const p=[],g=Fn.empty();for(let E=u.length-1;E>=0;--E)if(!FP(p,u[E])){const I=u[E];let P=d[E];P=En(P);const C=l.yc(I);if(P instanceof wm)p.push(I);else{const A=$d(P,C);A!=null&&(p.push(I),g.set(I,A))}}const m=new or(p);return new DP(g,m,l.fieldTransforms)}function P9(n,e,t,r=!1){return $d(t,n.Cc(r?4:3,e))}function $d(n,e){if(jP(n=En(n)))return Pw("Unsupported field value:",e,n),LP(n,e);if(n instanceof Cw)return(function(r,s){if(!OP(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let l=0;for(const u of r){let d=$d(u,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),l++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=mt.fromDate(r);return{timestampValue:_c(s.serializer,i)}}if(r instanceof mt){const i=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_c(s.serializer,i)}}if(r instanceof zs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lr)return{bytesValue:VR(s.serializer,r._byteString)};if(r instanceof Wt){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof $s)return(function(l,u){return{mapValue:{fields:{[X_]:{stringValue:J_},[fc]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return tw(u.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${nm(r)}`)})(n,e)}function LP(n,e){const t={};return nR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oi(n,((r,s)=>{const i=$d(s,e.mc(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function jP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mt||n instanceof zs||n instanceof Lr||n instanceof Wt||n instanceof Cw||n instanceof $s)}function Pw(n,e,t){if(!jP(t)||!zA(t)){const r=nm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Uv(n,e,t){if((e=En(e))instanceof Ud)return e._internalPath;if(typeof e=="string")return kw(n,e);throw Sp("Field path arguments must be of type string or ",n,!1,void 0,t)}const k9=new RegExp("[~\\*/\\[\\]]");function kw(n,e,t){if(e.search(k9)>=0)throw Sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ud(...e.split("."))._internalPath}catch{throw Sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sp(n,e,t,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(i||l)&&(d+=" (found",i&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new ve(ne.INVALID_ARGUMENT,u+n+d)}function FP(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N9 extends UP{data(){return super.data()}}function Nw(n,e){return typeof e=="string"?kw(n,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{}class $P extends Dw{}function D9(n,e,...t){let r=[];e instanceof Dw&&r.push(e),r=r.concat(t),(function(i){const l=i.filter((d=>d instanceof Mw)).length,u=i.filter((d=>d instanceof Ow)).length;if(l>1||l>0&&u>0)throw new ve(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Ow extends $P{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ow(e,t,r)}_apply(e){const t=this._parse(e);return BP(e._query,t),new Mi(e.firestore,e.converter,Cv(e._query,t))}_parse(e){const t=zd(e.firestore);return(function(i,l,u,d,p,g,m){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){rS(m,g);const P=[];for(const C of m)P.push(nS(d,i,C));E={arrayValue:{values:P}}}else E=nS(d,i,m)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||rS(m,g),E=P9(u,l,m,g==="in"||g==="not-in");return lt.create(p,g,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Mw extends Dw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mw(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Et.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,i){let l=s;const u=i.getFlattenedFilters();for(const d of u)BP(l,d),l=Cv(l,d)})(e._query,t),new Mi(e.firestore,e.converter,Cv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vw extends $P{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vw(e,t)}_apply(e){const t=(function(s,i,l){if(s.startAt!==null)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fd(i,l)})(e._query,this._field,this._direction);return new Mi(e.firestore,e.converter,(function(s,i){const l=s.explicitOrderBy.concat([i]);return new kc(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function O9(n,e="asc"){const t=e,r=Nw("orderBy",n);return Vw._create(r,t)}function nS(n,e,t){if(typeof(t=En(t))=="string"){if(t==="")throw new ve(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_R(e)&&t.indexOf("/")!==-1)throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vt.fromString(t));if(!Ee.isDocumentKey(r))throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dd(n,new Ee(r))}if(t instanceof Wt)return dd(n,t._key);throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(t)}.`)}function rS(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BP(n,e){const t=(function(s,i){for(const l of s)for(const u of l.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ve(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class M9{convertValue(e,t="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Oi(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){const t=e.fields?.[fc].arrayValue?.values?.map((r=>Mt(r.doubleValue)));return new $s(t)}convertGeoPoint(e){return new zs(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(cd(e));default:return null}}convertTimestamp(e){const t=Io(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vt.fromString(e);Le(WR(r),9688,{name:e});const s=new Ma(r.get(1),r.get(3)),i=new Ee(r.popFirst(5));return s.isEqual(t)||Wn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Lu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ta extends UP{constructor(e,t,r,s,i,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Nw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ta._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ta._jsonSchema={type:rn("string",Ta._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class zf extends Ta{data(e={}){return super.data(e)}}class Ca{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Lu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new zf(this._firestore,this._userDataWriter,r.key,r,new Lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const d=new zf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Lu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>i||u.type!==3)).map((u=>{const d=new zf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Lu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:V9(u.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=q_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function V9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){n=Un(n,Wt);const e=Un(n.firestore,ls);return E9(Fd(e),n._key).then((t=>qP(e,n,t)))}Ca._jsonSchemaVersion="firestore/querySnapshot/1.0",Ca._jsonSchema={type:rn("string",Ca._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class jw extends M9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}}function Fw(n){n=Un(n,Mi);const e=Un(n.firestore,ls),t=Fd(e),r=new jw(e);return zP(n._query),b9(t,n._query).then((s=>new Ca(e,r,n,s)))}function Em(n,e,t){n=Un(n,Wt);const r=Un(n.firestore,ls),s=Lw(n.converter,e,t);return Bd(r,[Rw(zd(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,dn.none())])}function To(n,e,t,...r){n=Un(n,Wt);const s=Un(n.firestore,ls),i=zd(s);let l;return l=typeof(e=En(e))=="string"||e instanceof Ud?VP(i,"updateDoc",n._key,e,t,r):MP(i,"updateDoc",n._key,e),Bd(s,[l.toMutation(n._key,dn.exists(!0))])}function Uw(n){return Bd(Un(n.firestore,ls),[new Od(n._key,dn.none())])}function L9(n,e){const t=Un(n.firestore,ls),r=Dt(n),s=Lw(n.converter,e);return Bd(t,[Rw(zd(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,dn.exists(!1))]).then((()=>r))}function bm(n,...e){n=En(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||tS(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(tS(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let i,l,u;if(n instanceof Wt)l=Un(n.firestore,ls),u=Nd(n._key.path),i={next:d=>{e[r]&&e[r](qP(l,n,d))},error:e[r+1],complete:e[r+2]};else{const d=Un(n,Mi);l=Un(d.firestore,ls),u=d._query;const p=new jw(l);i={next:g=>{e[r]&&e[r](new Ca(l,p,d,g))},error:e[r+1],complete:e[r+2]},zP(n._query)}return(function(p,g,m,E){const I=new Tw(E),P=new xw(g,I,m);return p.asyncQueue.enqueueAndForget((async()=>ww(await Ip(p),P))),()=>{I.Nu(),p.asyncQueue.enqueueAndForget((async()=>Ew(await Ip(p),P)))}})(Fd(l),u,s,i)}function Bd(n,e){return(function(r,s){const i=new Us;return r.asyncQueue.enqueueAndForget((async()=>c9(await w9(r),s,i))),i.promise})(Fd(n),e)}function qP(n,e,t){const r=t.docs.get(e._key),s=new jw(n);return new Ta(n,s,e._key,r,new Lu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zd(e)}set(e,t,r){this._verifyNotCommitted();const s=Vy(e,this._firestore),i=Lw(s.converter,t,r),l=Rw(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(l.toMutation(s._key,dn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const i=Vy(e,this._firestore);let l;return l=typeof(t=En(t))=="string"||t instanceof Ud?VP(this._dataReader,"WriteBatch.update",i._key,t,r,s):MP(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(l.toMutation(i._key,dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Vy(e,this._firestore);return this._mutations=this._mutations.concat(new Od(t._key,dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vy(n,e){if((n=En(n)).firestore!==e)throw new ve(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(n){return Fd(n=Un(n,ls)),new j9(n,(e=>Bd(n,e)))}(function(e,t=!0){(function(s){Pc=s})(Ac),ic(new ka("firestore",((r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),u=new ls(new c6(r.getProvider("auth-internal")),new h6(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(p.options.projectId,g)})(l,s),l);return i={useFetchStreams:t,...i},u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),Ei(Vx,Lx,e),Ei(Vx,Lx,"esm2020")})();const F9={apiKey:"AIzaSyAtQmAaUFEuyJmeOq3M3ZIkI3a1gna_Do8",authDomain:"nosql-demo-e5885.firebaseapp.com",databaseURL:"https://nosql-demo-e5885-default-rtdb.firebaseio.com",projectId:"nosql-demo-e5885",storageBucket:"nosql-demo-e5885.firebasestorage.app",messagingSenderId:"377685820338",appId:"1:377685820338:web:12a7618478c1cdeda79aab",measurementId:"G-EWRZ4F64R6"};let Ly,Xe,zv;try{Ly=YC(F9),Xe=I9(Ly),zv=r6(Ly),S9(Xe).catch(n=>{n.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):n.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser")})}catch(n){throw console.error("Firebase initialization error:",n),n}const gt={INVENTORY:"inventory",CUSTOMERS:"customers",WMS_SUPPLIERS:"wms_suppliers",SALES_ORDERS:"sales_orders",PURCHASE_ORDERS:"purchase_orders",CASH_BANK_TRANSACTIONS:"cash_bank_transactions",PAYMENT_TRANSACTIONS:"payment_transactions",SHIPMENTS:"shipments",ORDERS:"orders",USERS:"users",CATEGORIES:"categories",NOTIFICATIONS:"notifications"},HP=b.createContext(void 0),_r="wms_auth_user",ci="wms_remember_me",WP="wms_users",gi=[{id:"0",email:"owner@wms.com",password:"owner123",name:"System Owner",role:"Owner",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"1",email:"admin@wms.com",password:"admin123",name:"Admin User",role:"Admin",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"2",email:"customer@wms.com",password:"customer123",name:"Customer User",role:"Customer",status:"Active",createdAt:"2024-01-15T00:00:00Z"}];function di(){try{const n=localStorage.getItem(WP);if(n)return JSON.parse(n)}catch(n){console.error("Error reading users from storage:",n)}return[]}function Ku(n){localStorage.setItem(WP,JSON.stringify(n))}async function $v(n){try{const e=Dt(Xe,gt.USERS,n.id);await Em(e,n)}catch(e){throw console.error("Error saving user to Firestore:",e),e}}async function pa(){try{const n=Ni(Xe,gt.USERS),e=await Fw(n),t=[];return e.forEach(r=>{t.push(r.data())}),t}catch(n){console.error("Error getting users from Firestore:",n);const e=di();return e.length===0?(console.log("Falling back to DEFAULT_USERS"),gi):e}}async function fo(n,e){try{const t=Dt(Xe,gt.USERS,n);try{await To(t,e)}catch(r){if(r instanceof Error&&r.message.includes("No document to update")){const s=gi.find(i=>i.id===n);if(s)await Em(t,{...s,...e}),console.log("Created default user in Firestore:",n);else throw r}else throw r}}catch(t){throw console.error("Error updating user in Firestore:",t),t}}async function sS(n){try{const e=Dt(Xe,gt.USERS,n);await Uw(e)}catch(e){throw console.error("Error deleting user from Firestore:",e),e}}async function U9(){try{const n=await pa();if(n.length===0){console.log("Seeding default users to Firestore...");for(const e of gi)await $v(e);return Ku(gi),console.log("Default users seeded successfully"),gi}else return Ku(n),n}catch(n){console.error("Error initializing default users:",n);const e=di();return e.length===0?(Ku(gi),gi):e}}function z9({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(!0),[i,l]=b.useState([]);b.useEffect(()=>{let S;return(async()=>{await U9();try{const O=Ni(Xe,gt.USERS);S=bm(O,V=>{const L=[];V.forEach(N=>{L.push(N.data())}),l(L),Ku(L)},V=>{console.error("Error listening to users:",V),l(di())})}catch(O){console.error("Error setting up users listener:",O),l(di())}})(),()=>{S&&S()}},[]),b.useEffect(()=>{(async()=>{try{const R=localStorage.getItem(_r),O=localStorage.getItem(ci);if(R&&O==="true"){const V=JSON.parse(R),N=di().find(de=>de.id===V.id);N&&N.status==="Active"&&t({id:N.id,email:N.email,name:N.name,role:N.role,status:N.status,createdAt:N.createdAt,lastLogin:N.lastLogin})}else{const V=sessionStorage.getItem(_r);if(V){const L=JSON.parse(V),de=di().find(Ve=>Ve.id===L.id);de&&de.status==="Active"&&t({id:de.id,email:de.email,name:de.name,role:de.role,status:de.status,createdAt:de.createdAt,lastLogin:de.lastLogin})}}}catch(R){console.error("Error checking authentication:",R)}finally{s(!1)}})()},[]);const u=async(S,R,O=!1)=>{console.log("[Login] Attempting login for:",S);let V=await pa();console.log("[Login] Users from Firestore:",V.length,V.map(me=>me.email));const L=new Set(V.map(me=>me.email.toLowerCase()));for(const me of gi)L.has(me.email.toLowerCase())||(V.push(me),console.log("[Login] Added default user:",me.email));console.log("[Login] Final users list:",V.length,V.map(me=>me.email));const N=V.find(me=>me.email.toLowerCase()===S.toLowerCase());if(console.log("[Login] Found user:",N?.email||"NOT FOUND"),!N)throw new Error("NO_ACCOUNT:No account found with this email address. Would you like to create one?");if(N.password!==R)throw new Error("WRONG_PASSWORD:Incorrect password. Please try again.");const de=N;if(de.status==="Pending")throw new Error("PENDING:Your account is pending approval. Please wait for an administrator to approve your account.");if(de.status==="Inactive")throw new Error("INACTIVE:Your account has been deactivated. Please contact an administrator.");const Ve=new Date().toISOString();try{await fo(de.id,{lastLogin:Ve})}catch(me){console.warn("Could not update lastLogin in Firestore:",me)}const pe={id:de.id,email:de.email,name:de.name,role:de.role,status:de.status,createdAt:de.createdAt,lastLogin:Ve};t(pe),O?(localStorage.setItem(_r,JSON.stringify(pe)),localStorage.setItem(ci,"true")):(sessionStorage.setItem(_r,JSON.stringify(pe)),localStorage.removeItem(ci))},d=async(S,R,O)=>{if((await pa()).some(N=>N.email.toLowerCase()===S.toLowerCase()))throw new Error("An account with this email already exists");const L={id:`user_${Date.now()}`,email:S,password:R,name:O,role:"Customer",status:"Pending",createdAt:new Date().toISOString()};await $v(L)},p=async()=>{const S=new Os;try{const O=(await Cx(zv,S)).user;if(!O.email)throw new Error("No email associated with this Google account");const V=await pa();let L=V.find(N=>N.googleUserId===O.uid);if(L||(L=V.find(N=>N.email.toLowerCase()===O.email.toLowerCase())),L){if(L.status==="Pending")throw new Error("PENDING:Your account is pending approval. Please wait for an administrator to approve your account.");if(L.status==="Inactive")throw new Error("INACTIVE:Your account has been deactivated. Please contact an administrator.");const N=new Date().toISOString();await fo(L.id,{lastLogin:N});const de={id:L.id,email:L.email,name:L.name,role:L.role,status:L.status,createdAt:L.createdAt,lastLogin:N,phone:L.phone,address:L.address,googleUserId:L.googleUserId,googleEmail:L.googleEmail};t(de),localStorage.setItem(_r,JSON.stringify(de)),localStorage.setItem(ci,"true")}else{const N={id:`google_${O.uid}`,email:O.email,password:"",name:O.displayName||O.email.split("@")[0],role:"Customer",status:"Pending",createdAt:new Date().toISOString(),googleUserId:O.uid,googleEmail:O.email};throw await $v(N),new Error("PENDING:Your account has been created and is pending approval. Please wait for an administrator to approve your account.")}}catch(R){throw R instanceof Error?R.message.startsWith("PENDING:")||R.message.startsWith("INACTIVE:")||R.message.includes("popup-closed-by-user")?R:R.message.includes("auth/")?new Error("Google sign-in failed. Please try again."):R:new Error("Google sign-in failed. Please try again.")}},g=()=>{t(null),localStorage.removeItem(_r),localStorage.removeItem(ci),sessionStorage.removeItem(_r)},m=b.useCallback(()=>i.length>0?i:di(),[i]),E=b.useCallback(()=>(i.length>0?i:di()).filter(R=>R.status==="Pending"),[i]),I=b.useCallback(async()=>{const S=await pa();l(S),Ku(S)},[]),P=b.useCallback(async S=>{await fo(S,{status:"Active"})},[]),C=b.useCallback(async S=>{await sS(S)},[]),A=b.useCallback(async(S,R)=>{await fo(S,{role:R}),e&&e.id===S&&t({...e,role:R})},[e]),M=b.useCallback(async(S,R)=>{await fo(S,{status:R}),e&&e.id===S&&R!=="Active"&&g()},[e]),U=b.useCallback(async S=>{await sS(S),e&&e.id===S&&g()},[e]),z=b.useCallback(async S=>{if(!e)return;await fo(e.id,S);const R={...e,...S};t(R),localStorage.getItem(ci)==="true"?localStorage.setItem(_r,JSON.stringify(R)):sessionStorage.setItem(_r,JSON.stringify(R))},[e]),q=b.useCallback(async(S,R)=>{if(!e)throw new Error("Not authenticated");const V=(await pa()).find(L=>L.id===e.id);if(!V||V.password!==S)throw new Error("Current password is incorrect");await fo(e.id,{password:R})},[e]),W=b.useCallback(async()=>{if(!e)throw new Error("Not authenticated");const S=new Os;try{const O=(await Cx(zv,S)).user;if(!O.email)throw new Error("No email associated with this Google account");if((await pa()).find(Ve=>Ve.googleUserId===O.uid&&Ve.id!==e.id))throw new Error("This Google account is already linked to another WMS account");await fo(e.id,{googleUserId:O.uid,googleEmail:O.email});const N={...e,googleUserId:O.uid,googleEmail:O.email};t(N),localStorage.getItem(ci)==="true"?localStorage.setItem(_r,JSON.stringify(N)):sessionStorage.setItem(_r,JSON.stringify(N))}catch(R){throw R instanceof Error?R.message.includes("popup-closed-by-user")?new Error("Google sign-in was cancelled"):R.message.includes("auth/")?new Error("Google sign-in failed. Please try again."):R:new Error("Failed to link Google account. Please try again.")}},[e]),J=b.useCallback(async()=>{if(!e)throw new Error("Not authenticated");if(!e.googleUserId)throw new Error("No Google account is currently linked");await fo(e.id,{googleUserId:null,googleEmail:null});const S={...e,googleUserId:void 0,googleEmail:void 0};t(S),localStorage.getItem(ci)==="true"?localStorage.setItem(_r,JSON.stringify(S)):sessionStorage.setItem(_r,JSON.stringify(S))},[e]),k={user:e,isAuthenticated:!!e,isLoading:r,login:u,loginWithGoogle:p,logout:g,register:d,getAllUsers:m,getPendingUsers:E,approveUser:P,rejectUser:C,updateUserRole:A,updateUserStatus:M,deleteUser:U,updateProfile:z,changePassword:q,linkGoogleAccount:W,unlinkGoogleAccount:J,refreshUsers:I};return v.jsx(HP.Provider,{value:k,children:n})}function Oc(){const n=b.useContext(HP);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}var $9=(n,e,t,r,s,i,l,u)=>{let d=document.documentElement,p=["light","dark"];function g(I){(Array.isArray(n)?n:[n]).forEach(P=>{let C=P==="class",A=C&&i?s.map(M=>i[M]||M):s;C?(d.classList.remove(...A),d.classList.add(i&&i[I]?i[I]:I)):d.setAttribute(P,I)}),m(I)}function m(I){u&&p.includes(I)&&(d.style.colorScheme=I)}function E(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let I=localStorage.getItem(e)||t,P=l&&I==="system"?E():I;g(P)}catch{}},oS=["light","dark"],GP="(prefers-color-scheme: dark)",B9=typeof window>"u",zw=b.createContext(void 0),q9={setTheme:n=>{},themes:[]},KP=()=>{var n;return(n=b.useContext(zw))!=null?n:q9},H9=n=>b.useContext(zw)?b.createElement(b.Fragment,null,n.children):b.createElement(G9,{...n}),W9=["light","dark"],G9=({forcedTheme:n,disableTransitionOnChange:e=!1,enableSystem:t=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=W9,defaultTheme:l=t?"system":"light",attribute:u="data-theme",value:d,children:p,nonce:g,scriptProps:m})=>{let[E,I]=b.useState(()=>Z9(s,l)),[P,C]=b.useState(()=>E==="system"?jy():E),A=d?Object.values(d):i,M=b.useCallback(W=>{let J=W;if(!J)return;W==="system"&&t&&(J=jy());let k=d?d[J]:J,S=e?Q9(g):null,R=document.documentElement,O=V=>{V==="class"?(R.classList.remove(...A),k&&R.classList.add(k)):V.startsWith("data-")&&(k?R.setAttribute(V,k):R.removeAttribute(V))};if(Array.isArray(u)?u.forEach(O):O(u),r){let V=oS.includes(l)?l:null,L=oS.includes(J)?J:V;R.style.colorScheme=L}S?.()},[g]),U=b.useCallback(W=>{let J=typeof W=="function"?W(E):W;I(J);try{localStorage.setItem(s,J)}catch{}},[E]),z=b.useCallback(W=>{let J=jy(W);C(J),E==="system"&&t&&!n&&M("system")},[E,n]);b.useEffect(()=>{let W=window.matchMedia(GP);return W.addListener(z),z(W),()=>W.removeListener(z)},[z]),b.useEffect(()=>{let W=J=>{J.key===s&&(J.newValue?I(J.newValue):U(l))};return window.addEventListener("storage",W),()=>window.removeEventListener("storage",W)},[U]),b.useEffect(()=>{M(n??E)},[n,E]);let q=b.useMemo(()=>({theme:E,setTheme:U,forcedTheme:n,resolvedTheme:E==="system"?P:E,themes:t?[...i,"system"]:i,systemTheme:t?P:void 0}),[E,U,n,P,t,i]);return b.createElement(zw.Provider,{value:q},b.createElement(K9,{forcedTheme:n,storageKey:s,attribute:u,enableSystem:t,enableColorScheme:r,defaultTheme:l,value:d,themes:i,nonce:g,scriptProps:m}),p)},K9=b.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:l,themes:u,nonce:d,scriptProps:p})=>{let g=JSON.stringify([t,e,i,n,u,l,r,s]).slice(1,-1);return b.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${$9.toString()})(${g})`}})}),Z9=(n,e)=>{if(B9)return;let t;try{t=localStorage.getItem(n)||void 0}catch{}return t||e},Q9=n=>{let e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},jy=n=>(n||(n=window.matchMedia(GP)),n.matches?"dark":"light");function Y9({currentView:n,setCurrentView:e}){const{user:t}=Oc(),{state:r,toggleSidebar:s}=Gp(),{theme:i,setTheme:l}=KP(),u=r==="collapsed",[d,p]=b.useState(!0),I=t?.role==="Customer"?[{id:"sales-orders",label:"My Orders",icon:Tb},{id:"shipments",label:"My Shipments",icon:Bf}]:[{id:"dashboard",label:"Dashboard",icon:J2},{id:"inventory",label:"Inventory",icon:Mp},{id:"purchase-orders",label:"Purchase Orders",icon:Yv},{id:"sales-orders",label:"Sales Orders",icon:Tb},{id:"shipments",label:"Shipments",icon:Bf},{id:"suppliers",label:"WMS Suppliers",icon:Z2},{id:"customers",label:"Customers",icon:PD},{id:"cash-bank",label:"Cash and Bank",icon:Y2},{id:"payments",label:"Payments",icon:OD}],P=[{id:"users",label:"User Management",icon:bD}],C=()=>{window.location.reload()};return v.jsxs(BL,{collapsible:"icon",children:[v.jsx(WL,{className:"h-14 border-b border-sidebar-border px-3 flex items-center",children:v.jsx(ev,{children:v.jsxs(tv,{children:[v.jsx(nv,{asChild:!0,children:v.jsxs("button",{onClick:C,className:"flex items-center gap-2 justify-start group-data-[collapsible=icon]:justify-center w-full cursor-pointer","aria-label":"Refresh application",children:[v.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary hover:bg-primary/90 transition-colors",children:v.jsx(VD,{className:"h-5 w-5 text-primary-foreground"})}),v.jsx("span",{className:"font-semibold text-sidebar-foreground group-data-[collapsible=icon]:hidden",children:"WMS"})]})}),v.jsx(Zf,{side:"right",children:v.jsx("p",{children:"Refresh Application"})})]})})}),v.jsxs(ZL,{children:[v.jsxs(nx,{children:[v.jsx(rx,{children:"Management"}),v.jsx(sx,{children:v.jsx(_y,{children:I.map(A=>v.jsx(lf,{children:v.jsxs(wy,{onClick:()=>e(A.id),isActive:n===A.id,tooltip:A.label,children:[v.jsx(A.icon,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:A.label})]})},A.id))})})]}),(t?.role==="Admin"||t?.role==="Owner")&&v.jsxs(nx,{children:[v.jsx(rx,{children:"Administration"}),v.jsx(sx,{children:v.jsx(_y,{children:P.map(A=>v.jsx(lf,{children:v.jsxs(wy,{onClick:()=>e(A.id),isActive:n===A.id,tooltip:A.label,children:[v.jsx(A.icon,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:A.label})]})},A.id))})})]})]}),v.jsx(GL,{className:"border-t border-sidebar-border p-2",children:v.jsxs(_y,{children:[v.jsx(lf,{children:v.jsxs(ov,{modal:!1,children:[v.jsx(ev,{children:v.jsxs(tv,{children:[v.jsx(nv,{asChild:!0,children:v.jsx(iv,{asChild:!0,children:v.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground transition-colors",children:[v.jsx(wD,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden flex-1 text-left",children:"Settings"}),v.jsx(O2,{className:"h-4 w-4 shrink-0 group-data-[collapsible=icon]:hidden"})]})})}),v.jsx(Zf,{side:"right",className:"group-data-[collapsible=icon]:block hidden",children:"Settings"})]})}),v.jsxs(Xf,{side:u?"right":"top",align:"start",className:"w-56",sideOffset:8,children:[v.jsx(Jf,{children:"Settings"}),v.jsx(ep,{}),v.jsxs(Yl,{onSelect:A=>A.preventDefault(),className:"flex items-center justify-between cursor-pointer",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(KS,{className:"h-4 w-4"}),v.jsx("span",{children:"Notifications"})]}),v.jsx(MC,{checked:d,onCheckedChange:p})]}),v.jsxs(Yl,{onSelect:()=>l(i==="dark"?"light":"dark"),className:"cursor-pointer",children:[i==="dark"?v.jsx(SD,{className:"mr-2 h-4 w-4"}):v.jsx(aD,{className:"mr-2 h-4 w-4"}),i==="dark"?"Light Mode":"Dark Mode"]})]})]})}),v.jsx(KL,{className:"my-1"}),v.jsx(lf,{children:v.jsxs(wy,{onClick:s,tooltip:u?"Expand Sidebar":"Collapse Sidebar",children:[u?v.jsx(hD,{className:"h-4 w-4 shrink-0"}):v.jsx(uD,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Collapse"})]})})]})}),v.jsx(qL,{})]})}function X9(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const J9=n=>{switch(n){case"success":return n$;case"info":return s$;case"warning":return r$;case"error":return o$;default:return null}},e$=Array(12).fill(0),t$=({visible:n,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ce.createElement("div",{className:"sonner-spinner"},e$.map((t,r)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),n$=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),r$=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),s$=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),o$=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),i$=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),a$=()=>{const[n,e]=ce.useState(document.hidden);return ce.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Bv=1;class l${constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Bv++,l=this.toasts.find(d=>d.id===i),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:r}),{...d,...e,id:i,dismissible:u,title:r}):d):this.addToast({title:r,...s,dismissible:u,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,l;const u=s.then(async p=>{if(l=["resolve",p],ce.isValidElement(p))i=!1,this.create({id:r,type:"default",message:p});else if(u$(p)&&!p.ok){i=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,E=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,P=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:E,...P})}else if(p instanceof Error){i=!1;const m=typeof t.error=="function"?await t.error(p):t.error,E=typeof t.description=="function"?await t.description(p):t.description,P=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:E,...P})}else if(t.success!==void 0){i=!1;const m=typeof t.success=="function"?await t.success(p):t.success,E=typeof t.description=="function"?await t.description(p):t.description,P=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:E,...P})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){i=!1;const g=typeof t.error=="function"?await t.error(p):t.error,m=typeof t.description=="function"?await t.description(p):t.description,I=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:m,...I})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((p,g)=>u.then(()=>l[0]==="reject"?g(l[1]):p(l[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,t)=>{const r=t?.id||Bv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const sr=new l$,c$=(n,e)=>{const t=e?.id||Bv++;return sr.addToast({title:n,...e,id:t}),t},u$=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",d$=c$,h$=()=>sr.toasts,f$=()=>sr.getActiveToasts(),Vn=Object.assign(d$,{success:sr.success,info:sr.info,warning:sr.warning,error:sr.error,custom:sr.custom,message:sr.message,promise:sr.promise,dismiss:sr.dismiss,loading:sr.loading},{getHistory:h$,getToasts:f$});X9("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function yf(n){return n.label!==void 0}const p$=3,m$="24px",g$="16px",iS=4e3,y$=356,v$=14,_$=45,w$=200;function ks(...n){return n.filter(Boolean).join(" ")}function E$(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const b$=n=>{var e,t,r,s,i,l,u,d,p;const{invert:g,toast:m,unstyled:E,interacting:I,setHeights:P,visibleToasts:C,heights:A,index:M,toasts:U,expanded:z,removeToast:q,defaultRichColors:W,closeButton:J,style:k,cancelButtonStyle:S,actionButtonStyle:R,className:O="",descriptionClassName:V="",duration:L,position:N,gap:de,expandByDefault:Ve,classNames:pe,icons:me,closeButtonAriaLabel:H="Close toast"}=n,[re,Y]=ce.useState(null),[F,G]=ce.useState(null),[oe,ie]=ce.useState(!1),[fe,Ie]=ce.useState(!1),[we,xe]=ce.useState(!1),[Ge,Qe]=ce.useState(!1),[ye,It]=ce.useState(!1),[pn,ds]=ce.useState(0),[Qa,Zs]=ce.useState(0),ar=ce.useRef(m.duration||L||iS),ko=ce.useRef(null),_t=ce.useRef(null),jt=M===0,lr=M+1<=C,an=m.type,Sr=m.dismissible!==!1,Ya=m.className||"",hs=m.descriptionClassName||"",fs=ce.useMemo(()=>A.findIndex(qe=>qe.toastId===m.id)||0,[A,m.id]),No=ce.useMemo(()=>{var qe;return(qe=m.closeButton)!=null?qe:J},[m.closeButton,J]),Br=ce.useMemo(()=>m.duration||L||iS,[m.duration,L]),Do=ce.useRef(0),Qn=ce.useRef(0),qr=ce.useRef(0),Hr=ce.useRef(null),[ps,Oo]=N.split("-"),Mo=ce.useMemo(()=>A.reduce((qe,St,Gt)=>Gt>=fs?qe:qe+St.height,0),[A,fs]),Yn=a$(),Vo=m.invert||g,Tr=an==="loading";Qn.current=ce.useMemo(()=>fs*de+Mo,[fs,Mo]),ce.useEffect(()=>{ar.current=Br},[Br]),ce.useEffect(()=>{ie(!0)},[]),ce.useEffect(()=>{const qe=_t.current;if(qe){const St=qe.getBoundingClientRect().height;return Zs(St),P(Gt=>[{toastId:m.id,height:St,position:m.position},...Gt]),()=>P(Gt=>Gt.filter(mn=>mn.toastId!==m.id))}},[P,m.id]),ce.useLayoutEffect(()=>{if(!oe)return;const qe=_t.current,St=qe.style.height;qe.style.height="auto";const Gt=qe.getBoundingClientRect().height;qe.style.height=St,Zs(Gt),P(mn=>mn.find(Bt=>Bt.toastId===m.id)?mn.map(Bt=>Bt.toastId===m.id?{...Bt,height:Gt}:Bt):[{toastId:m.id,height:Gt,position:m.position},...mn])},[oe,m.title,m.description,P,m.id,m.jsx,m.action,m.cancel]);const $n=ce.useCallback(()=>{Ie(!0),ds(Qn.current),P(qe=>qe.filter(St=>St.toastId!==m.id)),setTimeout(()=>{q(m)},w$)},[m,q,P,Qn]);ce.useEffect(()=>{if(m.promise&&an==="loading"||m.duration===1/0||m.type==="loading")return;let qe;return z||I||Yn?(()=>{if(qr.current<Do.current){const mn=new Date().getTime()-Do.current;ar.current=ar.current-mn}qr.current=new Date().getTime()})():(()=>{ar.current!==1/0&&(Do.current=new Date().getTime(),qe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),$n()},ar.current))})(),()=>clearTimeout(qe)},[z,I,m,an,Yn,$n]),ce.useEffect(()=>{m.delete&&($n(),m.onDismiss==null||m.onDismiss.call(m,m))},[$n,m.delete]);function Wr(){var qe;if(me?.loading){var St;return ce.createElement("div",{className:ks(pe?.loader,m==null||(St=m.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":an==="loading"},me.loading)}return ce.createElement(t$,{className:ks(pe?.loader,m==null||(qe=m.classNames)==null?void 0:qe.loader),visible:an==="loading"})}const Gr=m.icon||me?.[an]||J9(an);var Rt,Lo;return ce.createElement("li",{tabIndex:0,ref:_t,className:ks(O,Ya,pe?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,pe?.default,pe?.[an],m==null||(t=m.classNames)==null?void 0:t[an]),"data-sonner-toast":"","data-rich-colors":(Rt=m.richColors)!=null?Rt:W,"data-styled":!(m.jsx||m.unstyled||E),"data-mounted":oe,"data-promise":!!m.promise,"data-swiped":ye,"data-removed":fe,"data-visible":lr,"data-y-position":ps,"data-x-position":Oo,"data-index":M,"data-front":jt,"data-swiping":we,"data-dismissible":Sr,"data-type":an,"data-invert":Vo,"data-swipe-out":Ge,"data-swipe-direction":F,"data-expanded":!!(z||Ve&&oe),"data-testid":m.testId,style:{"--index":M,"--toasts-before":M,"--z-index":U.length-M,"--offset":`${fe?pn:Qn.current}px`,"--initial-height":Ve?"auto":`${Qa}px`,...k,...m.style},onDragEnd:()=>{xe(!1),Y(null),Hr.current=null},onPointerDown:qe=>{qe.button!==2&&(Tr||!Sr||(ko.current=new Date,ds(Qn.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(xe(!0),Hr.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,St,Gt;if(Ge||!Sr)return;Hr.current=null;const mn=Number(((qe=_t.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Bn=Number(((St=_t.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Bt=new Date().getTime()-((Gt=ko.current)==null?void 0:Gt.getTime()),Xt=re==="x"?mn:Bn,cr=Math.abs(Xt)/Bt;if(Math.abs(Xt)>=_$||cr>.11){ds(Qn.current),m.onDismiss==null||m.onDismiss.call(m,m),G(re==="x"?mn>0?"right":"left":Bn>0?"down":"up"),$n(),Qe(!0);return}else{var Jt,Rn;(Jt=_t.current)==null||Jt.style.setProperty("--swipe-amount-x","0px"),(Rn=_t.current)==null||Rn.style.setProperty("--swipe-amount-y","0px")}It(!1),xe(!1),Y(null)},onPointerMove:qe=>{var St,Gt,mn;if(!Hr.current||!Sr||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;const Bt=qe.clientY-Hr.current.y,Xt=qe.clientX-Hr.current.x;var cr;const Jt=(cr=n.swipeDirections)!=null?cr:E$(N);!re&&(Math.abs(Xt)>1||Math.abs(Bt)>1)&&Y(Math.abs(Xt)>Math.abs(Bt)?"x":"y");let Rn={x:0,y:0};const Cr=gn=>1/(1.5+Math.abs(gn)/20);if(re==="y"){if(Jt.includes("top")||Jt.includes("bottom"))if(Jt.includes("top")&&Bt<0||Jt.includes("bottom")&&Bt>0)Rn.y=Bt;else{const gn=Bt*Cr(Bt);Rn.y=Math.abs(gn)<Math.abs(Bt)?gn:Bt}}else if(re==="x"&&(Jt.includes("left")||Jt.includes("right")))if(Jt.includes("left")&&Xt<0||Jt.includes("right")&&Xt>0)Rn.x=Xt;else{const gn=Xt*Cr(Xt);Rn.x=Math.abs(gn)<Math.abs(Xt)?gn:Xt}(Math.abs(Rn.x)>0||Math.abs(Rn.y)>0)&&It(!0),(Gt=_t.current)==null||Gt.style.setProperty("--swipe-amount-x",`${Rn.x}px`),(mn=_t.current)==null||mn.style.setProperty("--swipe-amount-y",`${Rn.y}px`)}},No&&!m.jsx&&an!=="loading"?ce.createElement("button",{"aria-label":H,"data-disabled":Tr,"data-close-button":!0,onClick:Tr||!Sr?()=>{}:()=>{$n(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ks(pe?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Lo=me?.close)!=null?Lo:i$):null,(an||m.icon||m.promise)&&m.icon!==null&&(me?.[an]!==null||m.icon)?ce.createElement("div",{"data-icon":"",className:ks(pe?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Wr():null,m.type!=="loading"?Gr:null):null,ce.createElement("div",{"data-content":"",className:ks(pe?.content,m==null||(i=m.classNames)==null?void 0:i.content)},ce.createElement("div",{"data-title":"",className:ks(pe?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ce.createElement("div",{"data-description":"",className:ks(V,hs,pe?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),ce.isValidElement(m.cancel)?m.cancel:m.cancel&&yf(m.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||S,onClick:qe=>{yf(m.cancel)&&Sr&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,qe),$n())},className:ks(pe?.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,ce.isValidElement(m.action)?m.action:m.action&&yf(m.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:qe=>{yf(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,qe),!qe.defaultPrevented&&$n())},className:ks(pe?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function aS(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function x$(n,e){const t={};return[n,e].forEach((r,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",u=i?g$:m$;function d(p){["top","right","bottom","left"].forEach(g=>{t[`${l}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=u:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):d(u)}),t}const I$=ce.forwardRef(function(e,t){const{id:r,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:d,className:p,offset:g,mobileOffset:m,theme:E="light",richColors:I,duration:P,style:C,visibleToasts:A=p$,toastOptions:M,dir:U=aS(),gap:z=v$,icons:q,containerAriaLabel:W="Notifications"}=e,[J,k]=ce.useState([]),S=ce.useMemo(()=>r?J.filter(oe=>oe.toasterId===r):J.filter(oe=>!oe.toasterId),[J,r]),R=ce.useMemo(()=>Array.from(new Set([i].concat(S.filter(oe=>oe.position).map(oe=>oe.position)))),[S,i]),[O,V]=ce.useState([]),[L,N]=ce.useState(!1),[de,Ve]=ce.useState(!1),[pe,me]=ce.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=ce.useRef(null),re=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Y=ce.useRef(null),F=ce.useRef(!1),G=ce.useCallback(oe=>{k(ie=>{var fe;return(fe=ie.find(Ie=>Ie.id===oe.id))!=null&&fe.delete||sr.dismiss(oe.id),ie.filter(({id:Ie})=>Ie!==oe.id)})},[]);return ce.useEffect(()=>sr.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{k(ie=>ie.map(fe=>fe.id===oe.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{i1.flushSync(()=>{k(ie=>{const fe=ie.findIndex(Ie=>Ie.id===oe.id);return fe!==-1?[...ie.slice(0,fe),{...ie[fe],...oe},...ie.slice(fe+1)]:[oe,...ie]})})})}),[J]),ce.useEffect(()=>{if(E!=="system"){me(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?me("dark"):me("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:ie})=>{me(ie?"dark":"light")})}catch{oe.addListener(({matches:fe})=>{try{me(fe?"dark":"light")}catch(Ie){console.error(Ie)}})}},[E]),ce.useEffect(()=>{J.length<=1&&N(!1)},[J]),ce.useEffect(()=>{const oe=ie=>{var fe;if(l.every(xe=>ie[xe]||ie.code===xe)){var we;N(!0),(we=H.current)==null||we.focus()}ie.code==="Escape"&&(document.activeElement===H.current||(fe=H.current)!=null&&fe.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[l]),ce.useEffect(()=>{if(H.current)return()=>{Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null,F.current=!1)}},[H.current]),ce.createElement("section",{ref:t,"aria-label":`${W} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((oe,ie)=>{var fe;const[Ie,we]=oe.split("-");return S.length?ce.createElement("ol",{key:oe,dir:U==="auto"?aS():U,tabIndex:-1,ref:H,className:p,"data-sonner-toaster":!0,"data-sonner-theme":pe,"data-y-position":Ie,"data-x-position":we,style:{"--front-toast-height":`${((fe=O[0])==null?void 0:fe.height)||0}px`,"--width":`${y$}px`,"--gap":`${z}px`,...C,...x$(g,m)},onBlur:xe=>{F.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(F.current=!1,Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||F.current||(F.current=!0,Y.current=xe.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{de||N(!1)},onDragEnd:()=>N(!1),onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||Ve(!0)},onPointerUp:()=>Ve(!1)},S.filter(xe=>!xe.position&&ie===0||xe.position===oe).map((xe,Ge)=>{var Qe,ye;return ce.createElement(b$,{key:xe.id,icons:q,index:Ge,toast:xe,defaultRichColors:I,duration:(Qe=M?.duration)!=null?Qe:P,className:M?.className,descriptionClassName:M?.descriptionClassName,invert:s,visibleToasts:A,closeButton:(ye=M?.closeButton)!=null?ye:d,interacting:de,position:oe,style:M?.style,unstyled:M?.unstyled,classNames:M?.classNames,cancelButtonStyle:M?.cancelButtonStyle,actionButtonStyle:M?.actionButtonStyle,closeButtonAriaLabel:M?.closeButtonAriaLabel,removeToast:G,toasts:S.filter(It=>It.position==xe.position),heights:O.filter(It=>It.position==xe.position),setHeights:V,expandByDefault:u,gap:z,expanded:L,swipeDirections:e.swipeDirections})})):null}))}),lS=({...n})=>{const{theme:e="system"}=KP();return v.jsx(I$,{theme:e,className:"toaster group",position:"top-right",richColors:!0,closeButton:!0,duration:4e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",success:"group-[.toaster]:border-green-500/50 group-[.toaster]:bg-green-50 dark:group-[.toaster]:bg-green-950/30 group-[.toaster]:text-green-700 dark:group-[.toaster]:text-green-400",error:"group-[.toaster]:border-red-500/50 group-[.toaster]:bg-red-50 dark:group-[.toaster]:bg-red-950/30 group-[.toaster]:text-red-700 dark:group-[.toaster]:text-red-400",warning:"group-[.toaster]:border-yellow-500/50 group-[.toaster]:bg-yellow-50 dark:group-[.toaster]:bg-yellow-950/30 group-[.toaster]:text-yellow-700 dark:group-[.toaster]:text-yellow-400",info:"group-[.toaster]:border-blue-500/50 group-[.toaster]:bg-blue-50 dark:group-[.toaster]:bg-blue-950/30 group-[.toaster]:text-blue-700 dark:group-[.toaster]:text-blue-400"}},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function ZP({className:n,...e}){return v.jsx("div",{"data-slot":"card",className:ze("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function QP({className:n,...e}){return v.jsx("div",{"data-slot":"card-header",className:ze("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function YP({className:n,...e}){return v.jsx("h4",{"data-slot":"card-title",className:ze("leading-none",n),...e})}function XP({className:n,...e}){return v.jsx("p",{"data-slot":"card-description",className:ze("text-muted-foreground",n),...e})}function JP({className:n,...e}){return v.jsx("div",{"data-slot":"card-content",className:ze("px-6 [&:last-child]:pb-6",n),...e})}function mW({className:n,...e}){return v.jsx("div",{"data-slot":"card-footer",className:ze("flex items-center px-6 pb-6 [.border-t]:pt-6",n),...e})}class cS extends b.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t),this.props.onError?.(e,t),this.setState({errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:v.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-4",children:v.jsxs(ZP,{className:"max-w-lg w-full",children:[v.jsxs(QP,{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(CD,{className:"h-6 w-6 text-red-500"}),v.jsx(YP,{children:"Something went wrong"})]}),v.jsx(XP,{children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."})]}),v.jsxs(JP,{className:"space-y-4",children:[this.state.error&&v.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-950 p-4",children:v.jsx("p",{className:"text-sm font-mono text-red-800 dark:text-red-200",children:this.state.error.message})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(mo,{onClick:this.handleReset,className:"flex-1",children:[v.jsx(mD,{className:"h-4 w-4 mr-2"}),"Try Again"]}),v.jsx(mo,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]}),!1]})]})}):this.props.children}}var S$="Label",ek=b.forwardRef((n,e)=>v.jsx(ht.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));ek.displayName=S$;var T$=ek;function $l({className:n,...e}){return v.jsx(T$,{"data-slot":"label",className:ze("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}var xm="Checkbox",[C$]=Ws(xm),[A$,$w]=C$(xm);function R$(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:d,required:p,value:g="on",internal_do_not_use_render:m}=n,[E,I]=Ic({prop:t,defaultProp:s??!1,onChange:d,caller:xm}),[P,C]=b.useState(null),[A,M]=b.useState(null),U=b.useRef(!1),z=P?!!l||!!P.closest("form"):!0,q={checked:E,disabled:i,setChecked:I,control:P,setControl:C,name:u,form:l,value:g,hasConsumerStoppedPropagationRef:U,required:p,defaultChecked:Si(s)?!1:s,isFormControl:z,bubbleInput:A,setBubbleInput:M};return v.jsx(A$,{scope:e,...q,children:P$(m)?m(q):r})}var tk="CheckboxTrigger",nk=b.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:i,value:l,disabled:u,checked:d,required:p,setControl:g,setChecked:m,hasConsumerStoppedPropagationRef:E,isFormControl:I,bubbleInput:P}=$w(tk,n),C=xt(s,g),A=b.useRef(d);return b.useEffect(()=>{const M=i?.form;if(M){const U=()=>m(A.current);return M.addEventListener("reset",U),()=>M.removeEventListener("reset",U)}},[i,m]),v.jsx(ht.button,{type:"button",role:"checkbox","aria-checked":Si(d)?"mixed":d,"aria-required":p,"data-state":lk(d),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:C,onKeyDown:je(e,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:je(t,M=>{m(U=>Si(U)?!0:!U),P&&I&&(E.current=M.isPropagationStopped(),E.current||M.stopPropagation())})})});nk.displayName=tk;var rk=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:d,onCheckedChange:p,form:g,...m}=n;return v.jsx(R$,{__scopeCheckbox:t,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:p,name:r,form:g,value:d,internal_do_not_use_render:({isFormControl:E})=>v.jsxs(v.Fragment,{children:[v.jsx(nk,{...m,ref:e,__scopeCheckbox:t}),E&&v.jsx(ak,{__scopeCheckbox:t})]})})});rk.displayName=xm;var sk="CheckboxIndicator",ok=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,i=$w(sk,t);return v.jsx(Kn,{present:r||Si(i.checked)||i.checked===!0,children:v.jsx(ht.span,{"data-state":lk(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});ok.displayName=sk;var ik="CheckboxBubbleInput",ak=b.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:d,name:p,value:g,form:m,bubbleInput:E,setBubbleInput:I}=$w(ik,n),P=xt(t,I),C=AC(i),A=y_(r);b.useEffect(()=>{const U=E;if(!U)return;const z=window.HTMLInputElement.prototype,W=Object.getOwnPropertyDescriptor(z,"checked").set,J=!s.current;if(C!==i&&W){const k=new Event("click",{bubbles:J});U.indeterminate=Si(i),W.call(U,Si(i)?!1:i),U.dispatchEvent(k)}},[E,C,i,s]);const M=b.useRef(Si(i)?!1:i);return v.jsx(ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??M.current,required:u,disabled:d,name:p,value:g,form:m,...e,tabIndex:-1,ref:P,style:{...e.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ak.displayName=ik;function P$(n){return typeof n=="function"}function Si(n){return n==="indeterminate"}function lk(n){return Si(n)?"indeterminate":n?"checked":"unchecked"}function uS({className:n,...e}){return v.jsx(rk,{"data-slot":"checkbox",className:ze("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:v.jsx(ok,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:v.jsx(Qv,{className:"size-3.5"})})})}function se(n,e,t){function r(u,d){var p;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(p=u._zod).traits??(p.traits=new Set),u._zod.traits.add(n),e(u,d);for(const g in l.prototype)g in u||Object.defineProperty(u,g,{value:l.prototype[g].bind(u)});u._zod.constr=l,u._zod.def=d}const s=t?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:n});function l(u){var d;const p=t?.Parent?new i:this;r(p,u),(d=p._zod).deferred??(d.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>t?.Parent&&u instanceof t.Parent?!0:u?._zod?.traits?.has(n)}),Object.defineProperty(l,"name",{value:n}),l}class nc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ck extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const uk={};function za(n){return uk}function k$(n){const e=Object.values(n).filter(r=>typeof r=="number");return Object.entries(n).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function qv(n,e){return typeof e=="bigint"?e.toString():e}function Bw(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function qw(n){return n==null}function Hw(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}function N$(n,e){const t=(n.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d?.[1]&&(s=Number.parseInt(d[1]))}const i=t>s?t:s,l=Number.parseInt(n.toFixed(i).replace(".","")),u=Number.parseInt(e.toFixed(i).replace(".",""));return l%u/10**i}const dS=Symbol("evaluating");function At(n,e,t){let r;Object.defineProperty(n,e,{get(){if(r!==dS)return r===void 0&&(r=dS,r=t()),r},set(s){Object.defineProperty(n,e,{value:s})},configurable:!0})}function Ka(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function Za(...n){const e={};for(const t of n){const r=Object.getOwnPropertyDescriptors(t);Object.assign(e,r)}return Object.defineProperties({},e)}function hS(n){return JSON.stringify(n)}const dk="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function Tp(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const D$=Bw(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function yd(n){if(Tp(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(Tp(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function hk(n){return yd(n)?{...n}:Array.isArray(n)?[...n]:n}const O$=new Set(["string","number","symbol"]);function Im(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Vi(n,e,t){const r=new n._zod.constr(e??n._zod.def);return(!e||t?.parent)&&(r._zod.parent=n),r}function Fe(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function M$(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}const V$={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function L$(n,e){const t=n._zod.def,r=Za(n._zod.def,{get shape(){const s={};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=t.shape[i])}return Ka(this,"shape",s),s},checks:[]});return Vi(n,r)}function j$(n,e){const t=n._zod.def,r=Za(n._zod.def,{get shape(){const s={...n._zod.def.shape};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return Ka(this,"shape",s),s},checks:[]});return Vi(n,r)}function F$(n,e){if(!yd(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Za(n._zod.def,{get shape(){const i={...n._zod.def.shape,...e};return Ka(this,"shape",i),i},checks:[]});return Vi(n,s)}function U$(n,e){if(!yd(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const r={...n._zod.def.shape,...e};return Ka(this,"shape",r),r},checks:n._zod.def.checks};return Vi(n,t)}function z$(n,e){const t=Za(n._zod.def,{get shape(){const r={...n._zod.def.shape,...e._zod.def.shape};return Ka(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Vi(n,t)}function $$(n,e,t){const r=Za(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=n?new n({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)i[l]=n?new n({type:"optional",innerType:s[l]}):s[l];return Ka(this,"shape",i),i},checks:[]});return Vi(e,r)}function B$(n,e,t){const r=Za(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=new n({type:"nonoptional",innerType:s[l]}))}else for(const l in s)i[l]=new n({type:"nonoptional",innerType:s[l]});return Ka(this,"shape",i),i},checks:[]});return Vi(e,r)}function Kl(n,e=0){if(n.aborted===!0)return!0;for(let t=e;t<n.issues.length;t++)if(n.issues[t]?.continue!==!0)return!0;return!1}function fk(n,e){return e.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(n),t})}function vf(n){return typeof n=="string"?n:n?.message}function $a(n,e,t){const r={...n,path:n.path??[]};if(!n.message){const s=vf(n.inst?._zod.def?.error?.(n))??vf(e?.error?.(n))??vf(t.customError?.(n))??vf(t.localeError?.(n))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Ww(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function vd(...n){const[e,t,r]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:r}:{...e}}const pk=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,qv,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},mk=se("$ZodError",pk),gk=se("$ZodError",pk,{Parent:Error});function q$(n,e=t=>t.message){const t={},r=[];for(const s of n.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}function H$(n,e=t=>t.message){const t={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>r({issues:l}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)t._errors.push(e(i));else{let l=t,u=0;for(;u<i.path.length;){const d=i.path[u];u===i.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(e(i))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return r(n),t}const Gw=n=>(e,t,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise)throw new nc;if(l.issues.length){const u=new(s?.Err??n)(l.issues.map(d=>$a(d,i,za())));throw dk(u,s?.callee),u}return l.value},Kw=n=>async(e,t,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(s?.Err??n)(l.issues.map(d=>$a(d,i,za())));throw dk(u,s?.callee),u}return l.value},Sm=n=>(e,t,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:t,issues:[]},s);if(i instanceof Promise)throw new nc;return i.issues.length?{success:!1,error:new(n??mk)(i.issues.map(l=>$a(l,s,za())))}:{success:!0,data:i.value}},W$=Sm(gk),Tm=n=>async(e,t,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:t,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new n(i.issues.map(l=>$a(l,s,za())))}:{success:!0,data:i.value}},G$=Tm(gk),K$=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Gw(n)(e,t,s)},Z$=n=>(e,t,r)=>Gw(n)(e,t,r),Q$=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Kw(n)(e,t,s)},Y$=n=>async(e,t,r)=>Kw(n)(e,t,r),X$=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Sm(n)(e,t,s)},J$=n=>(e,t,r)=>Sm(n)(e,t,r),eB=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Tm(n)(e,t,s)},tB=n=>async(e,t,r)=>Tm(n)(e,t,r),nB=/^[cC][^\s-]{8,}$/,rB=/^[0-9a-z]+$/,sB=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,oB=/^[0-9a-vA-V]{20}$/,iB=/^[A-Za-z0-9]{27}$/,aB=/^[a-zA-Z0-9_-]{21}$/,lB=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,cB=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,fS=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,uB=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,dB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function hB(){return new RegExp(dB,"u")}const fB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,mB=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,gB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yB=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,yk=/^[A-Za-z0-9_-]*$/,vB=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,_B=/^\+(?:[0-9]){6,14}[0-9]$/,vk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",wB=new RegExp(`^${vk}$`);function _k(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function EB(n){return new RegExp(`^${_k(n)}$`)}function bB(n){const e=_k({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${t.join("|")})`;return new RegExp(`^${vk}T(?:${r})$`)}const xB=n=>{const e=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},IB=/^-?\d+$/,SB=/^-?\d+(?:\.\d+)?/,TB=/^(?:true|false)$/i,CB=/^[^A-Z]*$/,AB=/^[^a-z]*$/,ir=se("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),wk={number:"number",bigint:"bigint",object:"date"},Ek=se("$ZodCheckLessThan",(n,e)=>{ir.init(n,e);const t=wk[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:t,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),bk=se("$ZodCheckGreaterThan",(n,e)=>{ir.init(n,e);const t=wk[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:t,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),RB=se("$ZodCheckMultipleOf",(n,e)=>{ir.init(n,e),n._zod.onattach.push(t=>{var r;(r=t._zod.bag).multipleOf??(r.multipleOf=e.value)}),n._zod.check=t=>{if(typeof t.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%e.value===BigInt(0):N$(t.value,e.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:e.value,input:t.value,inst:n,continue:!e.abort})}}),PB=se("$ZodCheckNumberFormat",(n,e)=>{ir.init(n,e),e.format=e.format||"float64";const t=e.format?.includes("int"),r=t?"int":"number",[s,i]=V$[e.format];n._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=s,u.maximum=i,t&&(u.pattern=IB)}),n._zod.check=l=>{const u=l.value;if(t){if(!Number.isInteger(u)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:u,inst:n});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort});return}}u<s&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:n,continue:!e.abort}),u>i&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:n})}}),kB=se("$ZodCheckMaxLength",(n,e)=>{var t;ir.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!qw(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),n._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const l=Ww(s);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),NB=se("$ZodCheckMinLength",(n,e)=>{var t;ir.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!qw(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),n._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const l=Ww(s);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),DB=se("$ZodCheckLengthEquals",(n,e)=>{var t;ir.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!qw(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),n._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const l=Ww(s),u=i>e.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:n,continue:!e.abort})}}),Cm=se("$ZodCheckStringFormat",(n,e)=>{var t,r;ir.init(n,e),n._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(r=n._zod).check??(r.check=()=>{})}),OB=se("$ZodCheckRegex",(n,e)=>{Cm.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),MB=se("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=CB),Cm.init(n,e)}),VB=se("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=AB),Cm.init(n,e)}),LB=se("$ZodCheckIncludes",(n,e)=>{ir.init(n,e);const t=Im(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=r,n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),n._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:n,continue:!e.abort})}}),jB=se("$ZodCheckStartsWith",(n,e)=>{ir.init(n,e);const t=new RegExp(`^${Im(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:n,continue:!e.abort})}}),FB=se("$ZodCheckEndsWith",(n,e)=>{ir.init(n,e);const t=new RegExp(`.*${Im(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:n,continue:!e.abort})}}),UB=se("$ZodCheckOverwrite",(n,e)=>{ir.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class zB{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),s=Math.min(...r.map(l=>l.length-l.trimStart().length)),i=r.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const e=Function,t=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...t,s.join(`
`))}}const $B={major:4,minor:1,patch:12},Yt=se("$ZodType",(n,e)=>{var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=$B;const r=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&r.unshift(n);for(const s of r)for(const i of s._zod.onattach)i(n);if(r.length===0)(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const s=(l,u,d)=>{let p=Kl(l),g;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(p)continue;const E=l.issues.length,I=m._zod.check(l);if(I instanceof Promise&&d?.async===!1)throw new nc;if(g||I instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await I,l.issues.length!==E&&(p||(p=Kl(l,E)))});else{if(l.issues.length===E)continue;p||(p=Kl(l,E))}}return g?g.then(()=>l):l},i=(l,u,d)=>{if(Kl(l))return l.aborted=!0,l;const p=s(u,r,d);if(p instanceof Promise){if(d.async===!1)throw new nc;return p.then(g=>n._zod.parse(g,d))}return n._zod.parse(p,d)};n._zod.run=(l,u)=>{if(u.skipChecks)return n._zod.parse(l,u);if(u.direction==="backward"){const p=n._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return p instanceof Promise?p.then(g=>i(g,l,u)):i(p,l,u)}const d=n._zod.parse(l,u);if(d instanceof Promise){if(u.async===!1)throw new nc;return d.then(p=>s(p,r,u))}return s(d,r,u)}}n["~standard"]={validate:s=>{try{const i=W$(n,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return G$(n,s).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),Zw=se("$ZodString",(n,e)=>{Yt.init(n,e),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??xB(n._zod.bag),n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:n}),t}}),Lt=se("$ZodStringFormat",(n,e)=>{Cm.init(n,e),Zw.init(n,e)}),BB=se("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=cB),Lt.init(n,e)}),qB=se("$ZodUUID",(n,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=fS(r))}else e.pattern??(e.pattern=fS());Lt.init(n,e)}),HB=se("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=uB),Lt.init(n,e)}),WB=se("$ZodURL",(n,e)=>{Lt.init(n,e),n._zod.check=t=>{try{const r=t.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:vB.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=s.href:t.value=r;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),GB=se("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=hB()),Lt.init(n,e)}),KB=se("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=aB),Lt.init(n,e)}),ZB=se("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=nB),Lt.init(n,e)}),QB=se("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=rB),Lt.init(n,e)}),YB=se("$ZodULID",(n,e)=>{e.pattern??(e.pattern=sB),Lt.init(n,e)}),XB=se("$ZodXID",(n,e)=>{e.pattern??(e.pattern=oB),Lt.init(n,e)}),JB=se("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=iB),Lt.init(n,e)}),e8=se("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=bB(e)),Lt.init(n,e)}),t8=se("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=wB),Lt.init(n,e)}),n8=se("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=EB(e)),Lt.init(n,e)}),r8=se("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=lB),Lt.init(n,e)}),s8=se("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=fB),Lt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv4"})}),o8=se("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=pB),Lt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),i8=se("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=mB),Lt.init(n,e)}),a8=se("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=gB),Lt.init(n,e),n._zod.check=t=>{const r=t.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const l=Number(i);if(`${l}`!==i)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${s}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function xk(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const l8=se("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=yB),Lt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{xk(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function c8(n){if(!yk.test(n))return!1;const e=n.replace(/[-_]/g,r=>r==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return xk(t)}const u8=se("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=yk),Lt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{c8(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),d8=se("$ZodE164",(n,e)=>{e.pattern??(e.pattern=_B),Lt.init(n,e)});function h8(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[r]=t;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const f8=se("$ZodJWT",(n,e)=>{Lt.init(n,e),n._zod.check=t=>{h8(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),Ik=se("$ZodNumber",(n,e)=>{Yt.init(n,e),n._zod.pattern=n._zod.bag.pattern??SB,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=Number(t.value)}catch{}const s=t.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return t;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:s,inst:n,...i?{received:i}:{}}),t}}),p8=se("$ZodNumber",(n,e)=>{PB.init(n,e),Ik.init(n,e)}),m8=se("$ZodBoolean",(n,e)=>{Yt.init(n,e),n._zod.pattern=TB,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=!!t.value}catch{}const s=t.value;return typeof s=="boolean"||t.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:n}),t}}),g8=se("$ZodUnknown",(n,e)=>{Yt.init(n,e),n._zod.parse=t=>t}),y8=se("$ZodNever",(n,e)=>{Yt.init(n,e),n._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)});function pS(n,e,t){n.issues.length&&e.issues.push(...fk(t,n.issues)),e.value[t]=n.value}const v8=se("$ZodArray",(n,e)=>{Yt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value;if(!Array.isArray(s))return t.issues.push({expected:"array",code:"invalid_type",input:s,inst:n}),t;t.value=Array(s.length);const i=[];for(let l=0;l<s.length;l++){const u=s[l],d=e.element._zod.run({value:u,issues:[]},r);d instanceof Promise?i.push(d.then(p=>pS(p,t,l))):pS(d,t,l)}return i.length?Promise.all(i).then(()=>t):t}});function Cp(n,e,t,r){n.issues.length&&e.issues.push(...fk(t,n.issues)),n.value===void 0?t in r&&(e.value[t]=void 0):e.value[t]=n.value}function Sk(n){const e=Object.keys(n.shape);for(const r of e)if(!n.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const t=M$(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function Tk(n,e,t,r,s,i){const l=[],u=s.keySet,d=s.catchall._zod,p=d.def.type;for(const g of Object.keys(e)){if(u.has(g))continue;if(p==="never"){l.push(g);continue}const m=d.run({value:e[g],issues:[]},r);m instanceof Promise?n.push(m.then(E=>Cp(E,t,g,e))):Cp(m,t,g,e)}return l.length&&t.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:i}),n.length?Promise.all(n).then(()=>t):t}const _8=se("$ZodObject",(n,e)=>{if(Yt.init(n,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const u=e.shape;Object.defineProperty(e,"shape",{get:()=>{const d={...u};return Object.defineProperty(e,"shape",{value:d}),d}})}const r=Bw(()=>Sk(e));At(n._zod,"propValues",()=>{const u=e.shape,d={};for(const p in u){const g=u[p]._zod;if(g.values){d[p]??(d[p]=new Set);for(const m of g.values)d[p].add(m)}}return d});const s=Tp,i=e.catchall;let l;n._zod.parse=(u,d)=>{l??(l=r.value);const p=u.value;if(!s(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:n}),u;u.value={};const g=[],m=l.shape;for(const E of l.keys){const P=m[E]._zod.run({value:p[E],issues:[]},d);P instanceof Promise?g.push(P.then(C=>Cp(C,u,E,p))):Cp(P,u,E,p)}return i?Tk(g,p,u,d,r.value,n):g.length?Promise.all(g).then(()=>u):u}}),w8=se("$ZodObjectJIT",(n,e)=>{_8.init(n,e);const t=n._zod.parse,r=Bw(()=>Sk(e)),s=E=>{const I=new zB(["shape","payload","ctx"]),P=r.value,C=z=>{const q=hS(z);return`shape[${q}]._zod.run({ value: input[${q}], issues: [] }, ctx)`};I.write("const input = payload.value;");const A=Object.create(null);let M=0;for(const z of P.keys)A[z]=`key_${M++}`;I.write("const newResult = {};");for(const z of P.keys){const q=A[z],W=hS(z);I.write(`const ${q} = ${C(z)};`),I.write(`
        if (${q}.issues.length) {
          payload.issues = payload.issues.concat(${q}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${W}, ...iss.path] : [${W}]
          })));
        }
        
        
        if (${q}.value === undefined) {
          if (${W} in input) {
            newResult[${W}] = undefined;
          }
        } else {
          newResult[${W}] = ${q}.value;
        }
        
      `)}I.write("payload.value = newResult;"),I.write("return payload;");const U=I.compile();return(z,q)=>U(E,z,q)};let i;const l=Tp,u=!uk.jitless,p=u&&D$.value,g=e.catchall;let m;n._zod.parse=(E,I)=>{m??(m=r.value);const P=E.value;return l(P)?u&&p&&I?.async===!1&&I.jitless!==!0?(i||(i=s(e.shape)),E=i(E,I),g?Tk([],P,E,I,m,n):E):t(E,I):(E.issues.push({expected:"object",code:"invalid_type",input:P,inst:n}),E)}});function mS(n,e,t,r){for(const i of n)if(i.issues.length===0)return e.value=i.value,e;const s=n.filter(i=>!Kl(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(i=>i.issues.map(l=>$a(l,r,za())))}),e)}const E8=se("$ZodUnion",(n,e)=>{Yt.init(n,e),At(n._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),At(n._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),At(n._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),At(n._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>Hw(i.source)).join("|")})$`)}});const t=e.options.length===1,r=e.options[0]._zod.run;n._zod.parse=(s,i)=>{if(t)return r(s,i);let l=!1;const u=[];for(const d of e.options){const p=d._zod.run({value:s.value,issues:[]},i);if(p instanceof Promise)u.push(p),l=!0;else{if(p.issues.length===0)return p;u.push(p)}}return l?Promise.all(u).then(d=>mS(d,s,n,i)):mS(u,s,n,i)}}),b8=se("$ZodIntersection",(n,e)=>{Yt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value,i=e.left._zod.run({value:s,issues:[]},r),l=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([d,p])=>gS(t,d,p)):gS(t,i,l)}});function Hv(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(yd(n)&&yd(e)){const t=Object.keys(e),r=Object.keys(n).filter(i=>t.indexOf(i)!==-1),s={...n,...e};for(const i of r){const l=Hv(n[i],e[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};s[i]=l.data}return{valid:!0,data:s}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let r=0;r<n.length;r++){const s=n[r],i=e[r],l=Hv(s,i);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};t.push(l.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function gS(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),Kl(n))return n;const r=Hv(e.value,t.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return n.value=r.data,n}const x8=se("$ZodEnum",(n,e)=>{Yt.init(n,e);const t=k$(e.entries),r=new Set(t);n._zod.values=r,n._zod.pattern=new RegExp(`^(${t.filter(s=>O$.has(typeof s)).map(s=>typeof s=="string"?Im(s):s.toString()).join("|")})$`),n._zod.parse=(s,i)=>{const l=s.value;return r.has(l)||s.issues.push({code:"invalid_value",values:t,input:l,inst:n}),s}}),I8=se("$ZodTransform",(n,e)=>{Yt.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new ck(n.constructor.name);const s=e.transform(t.value,t);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(t.value=l,t));if(s instanceof Promise)throw new nc;return t.value=s,t}});function yS(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const S8=se("$ZodOptional",(n,e)=>{Yt.init(n,e),n._zod.optin="optional",n._zod.optout="optional",At(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),At(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${Hw(t.source)})?$`):void 0}),n._zod.parse=(t,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>yS(i,t.value)):yS(s,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,r)}}),T8=se("$ZodNullable",(n,e)=>{Yt.init(n,e),At(n._zod,"optin",()=>e.innerType._zod.optin),At(n._zod,"optout",()=>e.innerType._zod.optout),At(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${Hw(t.source)}|null)$`):void 0}),At(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,r)=>t.value===null?t:e.innerType._zod.run(t,r)}),C8=se("$ZodDefault",(n,e)=>{Yt.init(n,e),n._zod.optin="optional",At(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);if(t.value===void 0)return t.value=e.defaultValue,t;const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>vS(i,e)):vS(s,e)}});function vS(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const A8=se("$ZodPrefault",(n,e)=>{Yt.init(n,e),n._zod.optin="optional",At(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>(r.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,r))}),R8=se("$ZodNonOptional",(n,e)=>{Yt.init(n,e),At(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(r=>r!==void 0)):void 0}),n._zod.parse=(t,r)=>{const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>_S(i,n)):_S(s,n)}});function _S(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const P8=se("$ZodCatch",(n,e)=>{Yt.init(n,e),At(n._zod,"optin",()=>e.innerType._zod.optin),At(n._zod,"optout",()=>e.innerType._zod.optout),At(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(l=>$a(l,r,za()))},input:t.value}),t.issues=[]),t)):(t.value=s.value,s.issues.length&&(t.value=e.catchValue({...t,error:{issues:s.issues.map(i=>$a(i,r,za()))},input:t.value}),t.issues=[]),t)}}),k8=se("$ZodPipe",(n,e)=>{Yt.init(n,e),At(n._zod,"values",()=>e.in._zod.values),At(n._zod,"optin",()=>e.in._zod.optin),At(n._zod,"optout",()=>e.out._zod.optout),At(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(t,r);return i instanceof Promise?i.then(l=>_f(l,e.in,r)):_f(i,e.in,r)}const s=e.in._zod.run(t,r);return s instanceof Promise?s.then(i=>_f(i,e.out,r)):_f(s,e.out,r)}});function _f(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const N8=se("$ZodReadonly",(n,e)=>{Yt.init(n,e),At(n._zod,"propValues",()=>e.innerType._zod.propValues),At(n._zod,"values",()=>e.innerType._zod.values),At(n._zod,"optin",()=>e.innerType._zod.optin),At(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(wS):wS(s)}});function wS(n){return n.value=Object.freeze(n.value),n}const D8=se("$ZodCustom",(n,e)=>{ir.init(n,e),Yt.init(n,e),n._zod.parse=(t,r)=>t,n._zod.check=t=>{const r=t.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>ES(i,t,r,n));ES(s,t,r,n)}});function ES(n,e,t,r){if(!n){const s={code:"custom",input:t,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(vd(s))}}class O8{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const r=t[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function M8(){return new O8}const wf=M8();function V8(n,e){return new n({type:"string",...Fe(e)})}function L8(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Fe(e)})}function bS(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(e)})}function j8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(e)})}function F8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(e)})}function U8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(e)})}function z8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(e)})}function $8(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Fe(e)})}function B8(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(e)})}function q8(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(e)})}function H8(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(e)})}function W8(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(e)})}function G8(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(e)})}function K8(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(e)})}function Z8(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(e)})}function Q8(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(e)})}function Y8(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(e)})}function X8(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(e)})}function J8(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(e)})}function e7(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(e)})}function t7(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(e)})}function n7(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(e)})}function r7(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(e)})}function s7(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(e)})}function o7(n,e){return new n({type:"string",format:"date",check:"string_format",...Fe(e)})}function i7(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...Fe(e)})}function a7(n,e){return new n({type:"string",format:"duration",check:"string_format",...Fe(e)})}function l7(n,e){return new n({type:"number",checks:[],...Fe(e)})}function c7(n,e){return new n({type:"number",coerce:!0,checks:[],...Fe(e)})}function u7(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Fe(e)})}function d7(n,e){return new n({type:"boolean",...Fe(e)})}function h7(n){return new n({type:"unknown"})}function f7(n,e){return new n({type:"never",...Fe(e)})}function xS(n,e){return new Ek({check:"less_than",...Fe(e),value:n,inclusive:!1})}function Fy(n,e){return new Ek({check:"less_than",...Fe(e),value:n,inclusive:!0})}function IS(n,e){return new bk({check:"greater_than",...Fe(e),value:n,inclusive:!1})}function Uy(n,e){return new bk({check:"greater_than",...Fe(e),value:n,inclusive:!0})}function SS(n,e){return new RB({check:"multiple_of",...Fe(e),value:n})}function Ck(n,e){return new kB({check:"max_length",...Fe(e),maximum:n})}function Ap(n,e){return new NB({check:"min_length",...Fe(e),minimum:n})}function Ak(n,e){return new DB({check:"length_equals",...Fe(e),length:n})}function p7(n,e){return new OB({check:"string_format",format:"regex",...Fe(e),pattern:n})}function m7(n){return new MB({check:"string_format",format:"lowercase",...Fe(n)})}function g7(n){return new VB({check:"string_format",format:"uppercase",...Fe(n)})}function y7(n,e){return new LB({check:"string_format",format:"includes",...Fe(e),includes:n})}function v7(n,e){return new jB({check:"string_format",format:"starts_with",...Fe(e),prefix:n})}function _7(n,e){return new FB({check:"string_format",format:"ends_with",...Fe(e),suffix:n})}function qd(n){return new UB({check:"overwrite",tx:n})}function w7(n){return qd(e=>e.normalize(n))}function E7(){return qd(n=>n.trim())}function b7(){return qd(n=>n.toLowerCase())}function x7(){return qd(n=>n.toUpperCase())}function I7(n,e,t){return new n({type:"array",element:e,...Fe(t)})}function S7(n,e,t){return new n({type:"custom",check:"custom",fn:e,...Fe(t)})}function T7(n){const e=C7(t=>(t.addIssue=r=>{if(typeof r=="string")t.issues.push(vd(r,t.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=t.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),t.issues.push(vd(s))}},n(t.value,t)));return e}function C7(n,e){const t=new ir({check:"custom",...Fe(e)});return t._zod.check=n,t}const A7=se("ZodISODateTime",(n,e)=>{e8.init(n,e),$t.init(n,e)});function R7(n){return s7(A7,n)}const P7=se("ZodISODate",(n,e)=>{t8.init(n,e),$t.init(n,e)});function k7(n){return o7(P7,n)}const N7=se("ZodISOTime",(n,e)=>{n8.init(n,e),$t.init(n,e)});function D7(n){return i7(N7,n)}const O7=se("ZodISODuration",(n,e)=>{r8.init(n,e),$t.init(n,e)});function M7(n){return a7(O7,n)}const V7=(n,e)=>{mk.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>H$(n,t)},flatten:{value:t=>q$(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,qv,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,qv,2)}},isEmpty:{get(){return n.issues.length===0}}})},zr=se("ZodError",V7,{Parent:Error}),L7=Gw(zr),j7=Kw(zr),F7=Sm(zr),U7=Tm(zr),z7=K$(zr),$7=Z$(zr),B7=Q$(zr),q7=Y$(zr),H7=X$(zr),W7=J$(zr),G7=eB(zr),K7=tB(zr),on=se("ZodType",(n,e)=>(Yt.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone(Za(e,{checks:[...e.checks??[],...t.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),n.clone=(t,r)=>Vi(n,t,r),n.brand=()=>n,n.register=((t,r)=>(t.add(n,r),n)),n.parse=(t,r)=>L7(n,t,r,{callee:n.parse}),n.safeParse=(t,r)=>F7(n,t,r),n.parseAsync=async(t,r)=>j7(n,t,r,{callee:n.parseAsync}),n.safeParseAsync=async(t,r)=>U7(n,t,r),n.spa=n.safeParseAsync,n.encode=(t,r)=>z7(n,t,r),n.decode=(t,r)=>$7(n,t,r),n.encodeAsync=async(t,r)=>B7(n,t,r),n.decodeAsync=async(t,r)=>q7(n,t,r),n.safeEncode=(t,r)=>H7(n,t,r),n.safeDecode=(t,r)=>W7(n,t,r),n.safeEncodeAsync=async(t,r)=>G7(n,t,r),n.safeDecodeAsync=async(t,r)=>K7(n,t,r),n.refine=(t,r)=>n.check(Fq(t,r)),n.superRefine=t=>n.check(Uq(t)),n.overwrite=t=>n.check(qd(t)),n.optional=()=>RS(n),n.nullable=()=>PS(n),n.nullish=()=>RS(PS(n)),n.nonoptional=t=>Nq(n,t),n.array=()=>Pk(n),n.or=t=>bq([n,t]),n.and=t=>Iq(n,t),n.transform=t=>kS(n,Tq(t)),n.default=t=>Rq(n,t),n.prefault=t=>kq(n,t),n.catch=t=>Oq(n,t),n.pipe=t=>kS(n,t),n.readonly=()=>Lq(n),n.describe=t=>{const r=n.clone();return wf.add(r,{description:t}),r},Object.defineProperty(n,"description",{get(){return wf.get(n)?.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return wf.get(n);const r=n.clone();return wf.add(r,t[0]),r},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),Rk=se("_ZodString",(n,e)=>{Zw.init(n,e),on.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...r)=>n.check(p7(...r)),n.includes=(...r)=>n.check(y7(...r)),n.startsWith=(...r)=>n.check(v7(...r)),n.endsWith=(...r)=>n.check(_7(...r)),n.min=(...r)=>n.check(Ap(...r)),n.max=(...r)=>n.check(Ck(...r)),n.length=(...r)=>n.check(Ak(...r)),n.nonempty=(...r)=>n.check(Ap(1,...r)),n.lowercase=r=>n.check(m7(r)),n.uppercase=r=>n.check(g7(r)),n.trim=()=>n.check(E7()),n.normalize=(...r)=>n.check(w7(...r)),n.toLowerCase=()=>n.check(b7()),n.toUpperCase=()=>n.check(x7())}),Z7=se("ZodString",(n,e)=>{Zw.init(n,e),Rk.init(n,e),n.email=t=>n.check(L8(Q7,t)),n.url=t=>n.check($8(Y7,t)),n.jwt=t=>n.check(r7(hq,t)),n.emoji=t=>n.check(B8(X7,t)),n.guid=t=>n.check(bS(TS,t)),n.uuid=t=>n.check(j8(Ef,t)),n.uuidv4=t=>n.check(F8(Ef,t)),n.uuidv6=t=>n.check(U8(Ef,t)),n.uuidv7=t=>n.check(z8(Ef,t)),n.nanoid=t=>n.check(q8(J7,t)),n.guid=t=>n.check(bS(TS,t)),n.cuid=t=>n.check(H8(eq,t)),n.cuid2=t=>n.check(W8(tq,t)),n.ulid=t=>n.check(G8(nq,t)),n.base64=t=>n.check(e7(cq,t)),n.base64url=t=>n.check(t7(uq,t)),n.xid=t=>n.check(K8(rq,t)),n.ksuid=t=>n.check(Z8(sq,t)),n.ipv4=t=>n.check(Q8(oq,t)),n.ipv6=t=>n.check(Y8(iq,t)),n.cidrv4=t=>n.check(X8(aq,t)),n.cidrv6=t=>n.check(J8(lq,t)),n.e164=t=>n.check(n7(dq,t)),n.datetime=t=>n.check(R7(t)),n.date=t=>n.check(k7(t)),n.time=t=>n.check(D7(t)),n.duration=t=>n.check(M7(t))});function at(n){return V8(Z7,n)}const $t=se("ZodStringFormat",(n,e)=>{Lt.init(n,e),Rk.init(n,e)}),Q7=se("ZodEmail",(n,e)=>{HB.init(n,e),$t.init(n,e)}),TS=se("ZodGUID",(n,e)=>{BB.init(n,e),$t.init(n,e)}),Ef=se("ZodUUID",(n,e)=>{qB.init(n,e),$t.init(n,e)}),Y7=se("ZodURL",(n,e)=>{WB.init(n,e),$t.init(n,e)}),X7=se("ZodEmoji",(n,e)=>{GB.init(n,e),$t.init(n,e)}),J7=se("ZodNanoID",(n,e)=>{KB.init(n,e),$t.init(n,e)}),eq=se("ZodCUID",(n,e)=>{ZB.init(n,e),$t.init(n,e)}),tq=se("ZodCUID2",(n,e)=>{QB.init(n,e),$t.init(n,e)}),nq=se("ZodULID",(n,e)=>{YB.init(n,e),$t.init(n,e)}),rq=se("ZodXID",(n,e)=>{XB.init(n,e),$t.init(n,e)}),sq=se("ZodKSUID",(n,e)=>{JB.init(n,e),$t.init(n,e)}),oq=se("ZodIPv4",(n,e)=>{s8.init(n,e),$t.init(n,e)}),iq=se("ZodIPv6",(n,e)=>{o8.init(n,e),$t.init(n,e)}),aq=se("ZodCIDRv4",(n,e)=>{i8.init(n,e),$t.init(n,e)}),lq=se("ZodCIDRv6",(n,e)=>{a8.init(n,e),$t.init(n,e)}),cq=se("ZodBase64",(n,e)=>{l8.init(n,e),$t.init(n,e)}),uq=se("ZodBase64URL",(n,e)=>{u8.init(n,e),$t.init(n,e)}),dq=se("ZodE164",(n,e)=>{d8.init(n,e),$t.init(n,e)}),hq=se("ZodJWT",(n,e)=>{f8.init(n,e),$t.init(n,e)}),Qw=se("ZodNumber",(n,e)=>{Ik.init(n,e),on.init(n,e),n.gt=(r,s)=>n.check(IS(r,s)),n.gte=(r,s)=>n.check(Uy(r,s)),n.min=(r,s)=>n.check(Uy(r,s)),n.lt=(r,s)=>n.check(xS(r,s)),n.lte=(r,s)=>n.check(Fy(r,s)),n.max=(r,s)=>n.check(Fy(r,s)),n.int=r=>n.check(CS(r)),n.safe=r=>n.check(CS(r)),n.positive=r=>n.check(IS(0,r)),n.nonnegative=r=>n.check(Uy(0,r)),n.negative=r=>n.check(xS(0,r)),n.nonpositive=r=>n.check(Fy(0,r)),n.multipleOf=(r,s)=>n.check(SS(r,s)),n.step=(r,s)=>n.check(SS(r,s)),n.finite=()=>n;const t=n._zod.bag;n.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),n.isFinite=!0,n.format=t.format??null});function zy(n){return l7(Qw,n)}const fq=se("ZodNumberFormat",(n,e)=>{p8.init(n,e),Qw.init(n,e)});function CS(n){return u7(fq,n)}const pq=se("ZodBoolean",(n,e)=>{m8.init(n,e),on.init(n,e)});function mq(n){return d7(pq,n)}const gq=se("ZodUnknown",(n,e)=>{g8.init(n,e),on.init(n,e)});function AS(){return h7(gq)}const yq=se("ZodNever",(n,e)=>{y8.init(n,e),on.init(n,e)});function vq(n){return f7(yq,n)}const _q=se("ZodArray",(n,e)=>{v8.init(n,e),on.init(n,e),n.element=e.element,n.min=(t,r)=>n.check(Ap(t,r)),n.nonempty=t=>n.check(Ap(1,t)),n.max=(t,r)=>n.check(Ck(t,r)),n.length=(t,r)=>n.check(Ak(t,r)),n.unwrap=()=>n.element});function Pk(n,e){return I7(_q,n,e)}const wq=se("ZodObject",(n,e)=>{w8.init(n,e),on.init(n,e),At(n,"shape",()=>e.shape),n.keyof=()=>Yw(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:AS()}),n.loose=()=>n.clone({...n._zod.def,catchall:AS()}),n.strict=()=>n.clone({...n._zod.def,catchall:vq()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>F$(n,t),n.safeExtend=t=>U$(n,t),n.merge=t=>z$(n,t),n.pick=t=>L$(n,t),n.omit=t=>j$(n,t),n.partial=(...t)=>$$(kk,n,t[0]),n.required=(...t)=>B$(Nk,n,t[0])});function Li(n,e){const t={type:"object",shape:n??{},...Fe(e)};return new wq(t)}const Eq=se("ZodUnion",(n,e)=>{E8.init(n,e),on.init(n,e),n.options=e.options});function bq(n,e){return new Eq({type:"union",options:n,...Fe(e)})}const xq=se("ZodIntersection",(n,e)=>{b8.init(n,e),on.init(n,e)});function Iq(n,e){return new xq({type:"intersection",left:n,right:e})}const Wv=se("ZodEnum",(n,e)=>{x8.init(n,e),on.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(r,s)=>{const i={};for(const l of r)if(t.has(l))i[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Wv({...e,checks:[],...Fe(s),entries:i})},n.exclude=(r,s)=>{const i={...e.entries};for(const l of r)if(t.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new Wv({...e,checks:[],...Fe(s),entries:i})}});function Yw(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(r=>[r,r])):n;return new Wv({type:"enum",entries:t,...Fe(e)})}const Sq=se("ZodTransform",(n,e)=>{I8.init(n,e),on.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new ck(n.constructor.name);t.addIssue=i=>{if(typeof i=="string")t.issues.push(vd(i,t.value,e));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=t.value),l.inst??(l.inst=n),t.issues.push(vd(l))}};const s=e.transform(t.value,t);return s instanceof Promise?s.then(i=>(t.value=i,t)):(t.value=s,t)}});function Tq(n){return new Sq({type:"transform",transform:n})}const kk=se("ZodOptional",(n,e)=>{S8.init(n,e),on.init(n,e),n.unwrap=()=>n._zod.def.innerType});function RS(n){return new kk({type:"optional",innerType:n})}const Cq=se("ZodNullable",(n,e)=>{T8.init(n,e),on.init(n,e),n.unwrap=()=>n._zod.def.innerType});function PS(n){return new Cq({type:"nullable",innerType:n})}const Aq=se("ZodDefault",(n,e)=>{C8.init(n,e),on.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function Rq(n,e){return new Aq({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():hk(e)}})}const Pq=se("ZodPrefault",(n,e)=>{A8.init(n,e),on.init(n,e),n.unwrap=()=>n._zod.def.innerType});function kq(n,e){return new Pq({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():hk(e)}})}const Nk=se("ZodNonOptional",(n,e)=>{R8.init(n,e),on.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Nq(n,e){return new Nk({type:"nonoptional",innerType:n,...Fe(e)})}const Dq=se("ZodCatch",(n,e)=>{P8.init(n,e),on.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function Oq(n,e){return new Dq({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const Mq=se("ZodPipe",(n,e)=>{k8.init(n,e),on.init(n,e),n.in=e.in,n.out=e.out});function kS(n,e){return new Mq({type:"pipe",in:n,out:e})}const Vq=se("ZodReadonly",(n,e)=>{N8.init(n,e),on.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Lq(n){return new Vq({type:"readonly",innerType:n})}const jq=se("ZodCustom",(n,e)=>{D8.init(n,e),on.init(n,e)});function Fq(n,e={}){return S7(jq,n,e)}function Uq(n){return T7(n)}function vi(n){return c7(Qw,n)}const Dk=8,Gv=`Password must be at least ${Dk} characters`,Ok=at().min(1,"Password is required").min(Dk,Gv),NS=Li({email:at().min(1,"Email is required").email("Please enter a valid email address"),password:at().min(1,"Password is required")}),DS=Li({name:at().min(1,"Name is required").min(2,"Name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),password:Ok,confirmPassword:at().min(1,"Please confirm your password")}).refine(n=>n.password===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});Li({currentPassword:at().min(1,"Current password is required"),newPassword:Ok,confirmPassword:at().min(1,"Please confirm your new password")}).refine(n=>n.newPassword===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});const gW=Li({name:at().min(1,"Item name is required").min(3,"Item name must be at least 3 characters").max(100,"Item name must be less than 100 characters"),category:at().min(1,"Category is required"),subcategory:at().optional(),quantity:vi().int("Quantity must be a whole number").min(0,"Quantity cannot be negative"),location:at().min(1,"Location is required").regex(/^[A-Z]-\d+$/,"Location must be in format A-12 (Letter-Number)"),brand:at().min(1,"Brand is required").min(2,"Brand must be at least 2 characters").max(100,"Brand must be less than 100 characters"),pricePerPiece:vi().positive("Price per piece must be a positive number").max(1e6,"Price per piece seems too high"),supplierId:at().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Supplier ID must be in format SUP-001"),quantityPurchased:vi().int("Quantity purchased must be a whole number").min(0,"Quantity purchased cannot be negative"),quantitySold:vi().int("Quantity sold must be a whole number").min(0,"Quantity sold cannot be negative"),reorderRequired:mq()});Li({name:at().min(1,"Company name is required").min(2,"Company name must be at least 2 characters").max(100,"Company name must be less than 100 characters"),contact:at().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),phone:at().min(1,"Phone number is required"),category:at().min(1,"Category is required"),status:Yw(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:at().max(100,"Country must be less than 100 characters").optional(),city:at().max(100,"City must be less than 100 characters").optional(),address:at().max(200,"Address must be less than 200 characters").optional(),purchases:vi().min(0,"Purchases cannot be negative").optional(),payments:vi().min(0,"Payments cannot be negative").optional()});Li({name:at().min(1,"Customer name is required").min(2,"Customer name must be at least 2 characters").max(100,"Customer name must be less than 100 characters"),contact:at().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),phone:at().min(1,"Phone number is required"),category:at().min(1,"Category is required"),status:Yw(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:at().max(100,"Country must be less than 100 characters").optional(),city:at().max(100,"City must be less than 100 characters").optional(),address:at().max(200,"Address must be less than 200 characters").optional(),purchases:vi().min(0,"Purchases cannot be negative").optional(),payments:vi().min(0,"Payments cannot be negative").optional()});const zq=Li({inventoryItemId:at().min(1,"Item is required"),itemName:at().min(1,"Item name is required"),quantity:zy().int("Quantity must be a whole number").min(1,"Quantity must be at least 1"),unitPrice:zy().positive("Unit price must be positive"),totalPrice:zy().positive("Total price must be positive")});Li({supplierId:at().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Invalid supplier ID format"),supplierName:at().min(1,"Supplier name is required"),items:Pk(zq).min(1,"At least one item is required"),expectedDeliveryDate:at().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format").refine(n=>{const e=new Date(n),t=new Date;return t.setHours(0,0,0,0),e>=t},"Expected delivery date must be today or in the future"),notes:at().optional()});function Mk({...n}){return v.jsx(j1,{"data-slot":"dialog",...n})}function yW({...n}){return v.jsx(WM,{"data-slot":"dialog-trigger",...n})}function $q({...n}){return v.jsx(F1,{"data-slot":"dialog-portal",...n})}function Bq({className:n,...e}){return v.jsx(a_,{"data-slot":"dialog-overlay",className:ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function Vk({className:n,children:e,...t}){return v.jsxs($q,{"data-slot":"dialog-portal",children:[v.jsx(Bq,{}),v.jsxs(l_,{"data-slot":"dialog-content",className:ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,v.jsxs(U1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[v.jsx(Jv,{}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function qq({className:n,...e}){return v.jsx("div",{"data-slot":"dialog-header",className:ze("flex flex-col gap-2 text-center sm:text-left",n),...e})}function Hq({className:n,...e}){return v.jsx("div",{"data-slot":"dialog-footer",className:ze("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function Wq({className:n,...e}){return v.jsx(c_,{"data-slot":"dialog-title",className:ze("text-lg leading-none font-semibold",n),...e})}function Gq({className:n,...e}){return v.jsx(u_,{"data-slot":"dialog-description",className:ze("text-muted-foreground text-sm",n),...e})}function Kq(n,[e,t]){return Math.min(t,Math.max(e,n))}function Zq(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Xw="ScrollArea",[Lk]=Ws(Xw),[Qq,$r]=Lk(Xw),jk=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...l}=n,[u,d]=b.useState(null),[p,g]=b.useState(null),[m,E]=b.useState(null),[I,P]=b.useState(null),[C,A]=b.useState(null),[M,U]=b.useState(0),[z,q]=b.useState(0),[W,J]=b.useState(!1),[k,S]=b.useState(!1),R=xt(e,V=>d(V)),O=b_(s);return v.jsx(Qq,{scope:t,type:r,dir:O,scrollHideDelay:i,scrollArea:u,viewport:p,onViewportChange:g,content:m,onContentChange:E,scrollbarX:I,onScrollbarXChange:P,scrollbarXEnabled:W,onScrollbarXEnabledChange:J,scrollbarY:C,onScrollbarYChange:A,scrollbarYEnabled:k,onScrollbarYEnabledChange:S,onCornerWidthChange:U,onCornerHeightChange:q,children:v.jsx(ht.div,{dir:O,...l,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":M+"px","--radix-scroll-area-corner-height":z+"px",...n.style}})})});jk.displayName=Xw;var Fk="ScrollAreaViewport",Uk=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=n,l=$r(Fk,t),u=b.useRef(null),d=xt(e,u,l.onViewportChange);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),v.jsx(ht.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:v.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Uk.displayName=Fk;var Ks="ScrollAreaScrollbar",Jw=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=$r(Ks,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,u=n.orientation==="horizontal";return b.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),s.type==="hover"?v.jsx(Yq,{...r,ref:e,forceMount:t}):s.type==="scroll"?v.jsx(Xq,{...r,ref:e,forceMount:t}):s.type==="auto"?v.jsx(zk,{...r,ref:e,forceMount:t}):s.type==="always"?v.jsx(e0,{...r,ref:e}):null});Jw.displayName=Ks;var Yq=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=$r(Ks,n.__scopeScrollArea),[i,l]=b.useState(!1);return b.useEffect(()=>{const u=s.scrollArea;let d=0;if(u){const p=()=>{window.clearTimeout(d),l(!0)},g=()=>{d=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),v.jsx(Kn,{present:t||i,children:v.jsx(zk,{"data-state":i?"visible":"hidden",...r,ref:e})})}),Xq=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=$r(Ks,n.__scopeScrollArea),i=n.orientation==="horizontal",l=Rm(()=>d("SCROLL_END"),100),[u,d]=Zq("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,s.scrollHideDelay,d]),b.useEffect(()=>{const p=s.viewport,g=i?"scrollLeft":"scrollTop";if(p){let m=p[g];const E=()=>{const I=p[g];m!==I&&(d("SCROLL"),l()),m=I};return p.addEventListener("scroll",E),()=>p.removeEventListener("scroll",E)}},[s.viewport,i,d,l]),v.jsx(Kn,{present:t||u!=="hidden",children:v.jsx(e0,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:je(n.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:je(n.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),zk=b.forwardRef((n,e)=>{const t=$r(Ks,n.__scopeScrollArea),{forceMount:r,...s}=n,[i,l]=b.useState(!1),u=n.orientation==="horizontal",d=Rm(()=>{if(t.viewport){const p=t.viewport.offsetWidth<t.viewport.scrollWidth,g=t.viewport.offsetHeight<t.viewport.scrollHeight;l(u?p:g)}},10);return Ec(t.viewport,d),Ec(t.content,d),v.jsx(Kn,{present:r||i,children:v.jsx(e0,{"data-state":i?"visible":"hidden",...s,ref:e})})}),e0=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=$r(Ks,n.__scopeScrollArea),i=b.useRef(null),l=b.useRef(0),[u,d]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=Wk(u.viewport,u.content),g={...r,sizes:u,onSizesChange:d,hasThumb:p>0&&p<1,onThumbChange:E=>i.current=E,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:E=>l.current=E};function m(E,I){return sH(E,l.current,u,I)}return t==="horizontal"?v.jsx(Jq,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const E=s.viewport.scrollLeft,I=OS(E,u,s.dir);i.current.style.transform=`translate3d(${I}px, 0, 0)`}},onWheelScroll:E=>{s.viewport&&(s.viewport.scrollLeft=E)},onDragScroll:E=>{s.viewport&&(s.viewport.scrollLeft=m(E,s.dir))}}):t==="vertical"?v.jsx(eH,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const E=s.viewport.scrollTop,I=OS(E,u);i.current.style.transform=`translate3d(0, ${I}px, 0)`}},onWheelScroll:E=>{s.viewport&&(s.viewport.scrollTop=E)},onDragScroll:E=>{s.viewport&&(s.viewport.scrollTop=m(E))}}):null}),Jq=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=$r(Ks,n.__scopeScrollArea),[l,u]=b.useState(),d=b.useRef(null),p=xt(e,d,i.onScrollbarXChange);return b.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),v.jsx(Bk,{"data-orientation":"horizontal",...s,ref:p,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Am(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.x),onDragScroll:g=>n.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(i.viewport){const E=i.viewport.scrollLeft+g.deltaX;n.onWheelScroll(E),Kk(E,m)&&g.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Pp(l.paddingLeft),paddingEnd:Pp(l.paddingRight)}})}})}),eH=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=$r(Ks,n.__scopeScrollArea),[l,u]=b.useState(),d=b.useRef(null),p=xt(e,d,i.onScrollbarYChange);return b.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),v.jsx(Bk,{"data-orientation":"vertical",...s,ref:p,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Am(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.y),onDragScroll:g=>n.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(i.viewport){const E=i.viewport.scrollTop+g.deltaY;n.onWheelScroll(E),Kk(E,m)&&g.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Pp(l.paddingTop),paddingEnd:Pp(l.paddingBottom)}})}})}),[tH,$k]=Lk(Ks),Bk=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:p,onWheelScroll:g,onResize:m,...E}=n,I=$r(Ks,t),[P,C]=b.useState(null),A=xt(e,R=>C(R)),M=b.useRef(null),U=b.useRef(""),z=I.viewport,q=r.content-r.viewport,W=jn(g),J=jn(d),k=Rm(m,10);function S(R){if(M.current){const O=R.clientX-M.current.left,V=R.clientY-M.current.top;p({x:O,y:V})}}return b.useEffect(()=>{const R=O=>{const V=O.target;P?.contains(V)&&W(O,q)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[z,P,q,W]),b.useEffect(J,[r,J]),Ec(P,k),Ec(I.content,k),v.jsx(tH,{scope:t,scrollbar:P,hasThumb:s,onThumbChange:jn(i),onThumbPointerUp:jn(l),onThumbPositionChange:J,onThumbPointerDown:jn(u),children:v.jsx(ht.div,{...E,ref:A,style:{position:"absolute",...E.style},onPointerDown:je(n.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),M.current=P.getBoundingClientRect(),U.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I.viewport&&(I.viewport.style.scrollBehavior="auto"),S(R))}),onPointerMove:je(n.onPointerMove,S),onPointerUp:je(n.onPointerUp,R=>{const O=R.target;O.hasPointerCapture(R.pointerId)&&O.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=U.current,I.viewport&&(I.viewport.style.scrollBehavior=""),M.current=null})})})}),Rp="ScrollAreaThumb",qk=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=$k(Rp,n.__scopeScrollArea);return v.jsx(Kn,{present:t||s.hasThumb,children:v.jsx(nH,{ref:e,...r})})}),nH=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,i=$r(Rp,t),l=$k(Rp,t),{onThumbPositionChange:u}=l,d=xt(e,m=>l.onThumbChange(m)),p=b.useRef(void 0),g=Rm(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const E=()=>{if(g(),!p.current){const I=oH(m,u);p.current=I,u()}};return u(),m.addEventListener("scroll",E),()=>m.removeEventListener("scroll",E)}},[i.viewport,g,u]),v.jsx(ht.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:je(n.onPointerDownCapture,m=>{const I=m.target.getBoundingClientRect(),P=m.clientX-I.left,C=m.clientY-I.top;l.onThumbPointerDown({x:P,y:C})}),onPointerUp:je(n.onPointerUp,l.onThumbPointerUp)})});qk.displayName=Rp;var t0="ScrollAreaCorner",Hk=b.forwardRef((n,e)=>{const t=$r(t0,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?v.jsx(rH,{...n,ref:e}):null});Hk.displayName=t0;var rH=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=$r(t0,t),[i,l]=b.useState(0),[u,d]=b.useState(0),p=!!(i&&u);return Ec(s.scrollbarX,()=>{const g=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(g),d(g)}),Ec(s.scrollbarY,()=>{const g=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(g),l(g)}),p?v.jsx(ht.div,{...r,ref:e,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Pp(n){return n?parseInt(n,10):0}function Wk(n,e){const t=n/e;return isNaN(t)?0:t}function Am(n){const e=Wk(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function sH(n,e,t,r="ltr"){const s=Am(t),i=s/2,l=e||i,u=s-l,d=t.scrollbar.paddingStart+l,p=t.scrollbar.size-t.scrollbar.paddingEnd-u,g=t.content-t.viewport,m=r==="ltr"?[0,g]:[g*-1,0];return Gk([d,p],m)(n)}function OS(n,e,t="ltr"){const r=Am(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,l=e.content-e.viewport,u=i-r,d=t==="ltr"?[0,l]:[l*-1,0],p=Kq(n,d);return Gk([0,l],[0,u])(p)}function Gk(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function Kk(n,e){return n>0&&n<e}var oH=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const i={left:n.scrollLeft,top:n.scrollTop},l=t.left!==i.left,u=t.top!==i.top;(l||u)&&e(),t=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Rm(n,e){const t=jn(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Ec(n,e){const t=jn(e);_o(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var Zk=jk,iH=Uk,aH=Hk;const Pm=b.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(Zk,{ref:r,className:ze("relative overflow-hidden",n),...t,children:[v.jsx(iH,{className:"h-full w-full rounded-[inherit]",children:e}),v.jsx(Qk,{}),v.jsx(aH,{})]}));Pm.displayName=Zk.displayName;const Qk=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>v.jsx(Jw,{ref:r,orientation:e,className:ze("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:v.jsx(qk,{className:"relative flex-1 rounded-full bg-border"})}));Qk.displayName=Jw.displayName;function lH({open:n,onOpenChange:e}){return v.jsx(Mk,{open:n,onOpenChange:e,children:v.jsxs(Vk,{className:"max-w-2xl max-h-[80vh]",children:[v.jsxs(qq,{children:[v.jsx(Wq,{children:"Terms and Conditions"}),v.jsx(Gq,{children:"Please read these terms carefully before using our Warehouse Management System."})]}),v.jsx(Pm,{className:"h-[400px] pr-4",children:v.jsxs("div",{className:"space-y-4 text-sm text-muted-foreground",children:[v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"1. Acceptance of Terms"}),v.jsx("p",{children:'By accessing and using this Warehouse Management System ("WMS"), you accept and agree to be bound by the terms and provisions of this agreement. If you do not agree to these terms, please do not use this system.'})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"2. User Accounts"}),v.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials. You agree to notify the system administrator immediately of any unauthorized use of your account. You are responsible for all activities that occur under your account."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"3. Acceptable Use"}),v.jsx("p",{children:"You agree to use this system only for lawful purposes and in accordance with these Terms. You agree not to:"}),v.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[v.jsx("li",{children:"Use the system in any way that violates any applicable laws or regulations"}),v.jsx("li",{children:"Attempt to gain unauthorized access to other user accounts or system resources"}),v.jsx("li",{children:"Introduce any viruses, malware, or other harmful code"}),v.jsx("li",{children:"Interfere with or disrupt the system's operation"}),v.jsx("li",{children:"Share your login credentials with unauthorized parties"})]})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"4. Data Privacy"}),v.jsx("p",{children:"Your use of this system is also governed by our Privacy Policy. By using this system, you consent to the collection and use of information as described in our Privacy Policy. We are committed to protecting your personal information and business data."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"5. System Availability"}),v.jsx("p",{children:"While we strive to maintain high availability, we do not guarantee uninterrupted access to the system. We may perform maintenance, updates, or experience technical issues that temporarily affect system availability."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"6. Intellectual Property"}),v.jsx("p",{children:"All content, features, and functionality of this system are owned by the system provider and are protected by intellectual property laws. You may not copy, modify, or distribute any part of the system without prior written consent."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"7. Limitation of Liability"}),v.jsx("p",{children:"To the maximum extent permitted by law, the system provider shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of or inability to use the system."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"8. Changes to Terms"}),v.jsx("p",{children:"We reserve the right to modify these terms at any time. We will notify users of any material changes. Your continued use of the system after such modifications constitutes acceptance of the updated terms."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"9. Termination"}),v.jsx("p",{children:"We may terminate or suspend your account and access to the system immediately, without prior notice, for conduct that we believe violates these Terms or is harmful to other users or the system."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"10. Contact Information"}),v.jsx("p",{children:"If you have any questions about these Terms, please contact the system administrator."})]}),v.jsx("p",{className:"text-xs text-muted-foreground pt-4 border-t",children:"Last updated: December 2024"})]})}),v.jsx(Hq,{children:v.jsx(mo,{onClick:()=>e(!1),children:"Close"})})]})})}function cH({className:n}){return v.jsxs("svg",{className:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),v.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),v.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),v.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function uH(){const{login:n,register:e,loginWithGoogle:t}=Oc(),[r,s]=b.useState("login"),[i,l]=b.useState({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1}),[u,d]=b.useState({}),[p,g]=b.useState(!1),[m,E]=b.useState(!1),[I,P]=b.useState(!1),[C,A]=b.useState(!1),M=()=>{l({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1}),d({})},U=k=>{s(k),M()};function z(k,S){try{const R=r==="login"?NS:DS,O=r==="login"?{email:k==="email"?S:i.email,password:k==="password"?S:i.password}:{name:k==="name"?S:i.name,email:k==="email"?S:i.email,password:k==="password"?S:i.password,confirmPassword:k==="confirmPassword"?S:i.confirmPassword},V=R.safeParse(O);if(!V.success&&V.error?.errors){const L=V.error.errors.find(N=>N.path[0]===k);d(L?N=>({...N,[k]:L.message}):N=>{const de={...N};return delete de[k],de})}else d(L=>{const N={...L};return delete N[k],N})}catch(R){console.error("Validation error:",R)}}function q(){try{const k=r==="login"?NS:DS,S=r==="login"?{email:i.email,password:i.password}:{name:i.name,email:i.email,password:i.password,confirmPassword:i.confirmPassword},R=k.safeParse(S);if(!R.success&&R.error?.errors){const O={};return R.error.errors.forEach(V=>{const L=V.path.join(".");O[L]=V.message}),d(O),Object.values(O)[0]}return r==="register"&&!i.acceptTerms?(d(O=>({...O,acceptTerms:"You must accept the Terms and Conditions"})),"You must accept the Terms and Conditions to create an account"):(d({}),null)}catch(k){return console.error("Form validation error:",k),null}}async function W(k){k.preventDefault();const S=q();if(S){Vn.error(S);return}E(!0);try{r==="login"?(await n(i.email,i.password,i.rememberMe),Vn.success("Welcome back!")):(await e(i.email,i.password,i.name),Vn.success("Registration successful! Your account is pending approval by an administrator."),U("login"))}catch(R){if(R instanceof Error){const O=R.message;if(O.startsWith("NO_ACCOUNT:")){const V=O.replace("NO_ACCOUNT:","");Vn.error(V,{action:{label:"Sign Up",onClick:()=>U("register")},duration:8e3})}else O.startsWith("WRONG_PASSWORD:")?Vn.error(O.replace("WRONG_PASSWORD:","")):O.startsWith("PENDING:")?Vn.warning(O.replace("PENDING:",""),{duration:6e3}):O.startsWith("INACTIVE:")?Vn.error(O.replace("INACTIVE:",""),{duration:6e3}):Vn.error(O)}else Vn.error("An error occurred. Please try again.")}finally{E(!1)}}async function J(){P(!0);try{await t(),Vn.success("Welcome!")}catch(k){if(k instanceof Error){const S=k.message;S.startsWith("PENDING:")?Vn.warning(S.replace("PENDING:",""),{duration:6e3}):S.startsWith("INACTIVE:")?Vn.error(S.replace("INACTIVE:",""),{duration:6e3}):S.includes("popup-closed-by-user")||Vn.error(S)}else Vn.error("Google sign-in failed. Please try again.")}finally{P(!1)}}return v.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:[v.jsxs(ZP,{className:"w-full max-w-[360px] shadow-xl mx-auto",children:[v.jsxs(QP,{className:"space-y-4 text-center",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:v.jsx(Mp,{className:"h-8 w-8 text-primary"})})}),v.jsxs("div",{children:[v.jsx(YP,{className:"text-2xl font-bold",children:r==="login"?"Welcome Back":"Create Account"}),v.jsx(XP,{className:"mt-2",children:r==="login"?"Sign in to your Warehouse Management System":"Register for a new account (requires admin approval)"})]})]}),v.jsx(JP,{children:v.jsxs("form",{onSubmit:W,className:"space-y-4",children:[r==="register"&&v.jsxs("div",{className:"space-y-2",children:[v.jsx($l,{htmlFor:"name",children:"Full Name"}),v.jsxs("div",{className:"relative",children:[v.jsx(By,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(ku,{id:"name",type:"text",placeholder:"John Doe",value:i.name,onChange:k=>{l({...i,name:k.target.value}),z("name",k.target.value)},className:`pl-9 ${u.name?"border-red-500":""}`,disabled:m,autoComplete:"name"})]}),u.name&&v.jsx("p",{className:"text-sm text-red-500",children:u.name})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx($l,{htmlFor:"email",children:"Email"}),v.jsxs("div",{className:"relative",children:[v.jsx(oD,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(ku,{id:"email",type:"email",placeholder:"admin@wms.com",value:i.email,onChange:k=>{l({...i,email:k.target.value}),z("email",k.target.value)},className:`pl-9 ${u.email?"border-red-500":""}`,disabled:m,autoComplete:"email"})]}),u.email&&v.jsx("p",{className:"text-sm text-red-500",children:u.email})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx($l,{htmlFor:"password",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(Sb,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(ku,{id:"password",type:p?"text":"password",placeholder:r==="register"?`Min ${Gv.split(" ").pop()} characters`:"Enter your password",value:i.password,onChange:k=>{l({...i,password:k.target.value}),z("password",k.target.value)},className:`pl-9 pr-9 ${u.password?"border-red-500":""}`,disabled:m,autoComplete:r==="login"?"current-password":"new-password"}),v.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:m,tabIndex:-1,children:p?v.jsx(H2,{className:"h-4 w-4"}):v.jsx(G2,{className:"h-4 w-4"})})]}),u.password?v.jsx("p",{className:"text-sm text-red-500",children:u.password}):r==="register"&&v.jsx("p",{className:"text-xs text-muted-foreground",children:Gv})]}),r==="register"&&v.jsxs("div",{className:"space-y-2",children:[v.jsx($l,{htmlFor:"confirmPassword",children:"Confirm Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(Sb,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(ku,{id:"confirmPassword",type:p?"text":"password",placeholder:"Confirm your password",value:i.confirmPassword,onChange:k=>{l({...i,confirmPassword:k.target.value}),z("confirmPassword",k.target.value)},className:`pl-9 ${u.confirmPassword?"border-red-500":""}`,disabled:m,autoComplete:"new-password"})]}),u.confirmPassword&&v.jsx("p",{className:"text-sm text-red-500",children:u.confirmPassword})]}),r==="login"&&v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(uS,{id:"remember",checked:i.rememberMe,onCheckedChange:k=>l({...i,rememberMe:k}),disabled:m}),v.jsx($l,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),v.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",disabled:m,onClick:()=>Vn.info("Password reset feature coming soon!"),children:"Forgot password?"})]}),r==="register"&&v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx(uS,{id:"acceptTerms",checked:i.acceptTerms,onCheckedChange:k=>{l({...i,acceptTerms:k}),k&&d(S=>{const{acceptTerms:R,...O}=S;return O})},disabled:m,className:u.acceptTerms?"border-red-500":""}),v.jsxs($l,{htmlFor:"acceptTerms",className:`text-sm font-normal cursor-pointer leading-tight ${u.acceptTerms?"text-red-500":""}`,children:["I agree to the"," ",v.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>A(!0),children:"Terms and Conditions"})]})]}),u.acceptTerms&&v.jsx("p",{className:"text-sm text-red-500",children:u.acceptTerms})]}),v.jsx(mo,{type:"submit",className:"w-full",disabled:m||I,children:m?v.jsxs(v.Fragment,{children:[v.jsx(Zu,{className:"mr-2 h-4 w-4 animate-spin"}),r==="login"?"Signing in...":"Creating account..."]}):r==="login"?"Sign In":"Create Account"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("span",{className:"w-full border-t"})}),v.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:v.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),v.jsx(mo,{type:"button",variant:"outline",className:"w-full",onClick:J,disabled:m||I,children:I?v.jsxs(v.Fragment,{children:[v.jsx(Zu,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in with Google..."]}):v.jsxs(v.Fragment,{children:[v.jsx(cH,{className:"mr-2 h-4 w-4"}),"Sign in with Google"]})}),v.jsx("div",{className:"text-center text-sm",children:r==="login"?v.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",v.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>U("register"),disabled:m,children:"Sign up"})]}):v.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",v.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>U("login"),disabled:m,children:"Sign in"})]})}),r==="register"&&v.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:v.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:[v.jsx("strong",{children:"Note:"})," New accounts require administrator approval before you can access the system. You will be notified once your account is approved."]})})]})})]}),v.jsx(lH,{open:C,onOpenChange:A})]})}const MS="wms_error_logs",VS=100;function Kv(n,e){const t={message:n?.message??String(n),stack:n?.stack,componentStack:e?.componentStack,timestamp:Date.now()};try{const r=localStorage.getItem(MS),s=r?JSON.parse(r):[];s.unshift(t),s.length>VS&&(s.length=VS),localStorage.setItem(MS,JSON.stringify(s))}catch{}}const dH=Op("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function kp({className:n,variant:e,asChild:t=!1,...r}){const s=t?Dp:"span";return v.jsx(s,{"data-slot":"badge",className:ze(dH({variant:e}),n),...r})}const be={INVENTORY:"wms_inventory",SUPPLIERS:"wms_suppliers",CUSTOMERS:"wms_customers",SHIPMENTS:"wms_shipments",PURCHASE_ORDERS:"wms_purchase_orders",SALES_ORDERS:"wms_sales_orders",CASH_BANK:"wms_cash_bank",PAYMENTS:"wms_payments",CATEGORIES:"wms_categories"};function Ne(n,e){try{const t=JSON.stringify(e);localStorage.setItem(n,t)}catch(t){console.error(`Failed to save to localStorage (${n}):`,t)}}function Po(n,e){try{const t=localStorage.getItem(n);return t===null?e:JSON.parse(t)}catch(t){return console.error(`Failed to load from localStorage (${n}):`,t),e}}const hH=[{id:"INV-001",name:"Laptop Computer",category:"Electronics",quantity:145,location:"A-12",status:"In Stock",brand:"Dell",pricePerPiece:899.99,supplierId:"SUP-001",quantityPurchased:200,quantitySold:55,reorderRequired:!1,description:"15.6-inch display, Intel Core i7 processor, 16GB RAM, 512GB SSD. Perfect for business and professional use with long battery life and lightweight design."},{id:"INV-002",name:"Office Chair",category:"Furniture",quantity:23,location:"B-08",status:"Low Stock",brand:"Herman Miller",pricePerPiece:549,supplierId:"SUP-002",quantityPurchased:100,quantitySold:77,reorderRequired:!0,description:"Ergonomic office chair with adjustable lumbar support, armrests, and seat height. Breathable mesh back for all-day comfort."},{id:"INV-003",name:"Standing Desk",category:"Furniture",quantity:67,location:"B-05",status:"In Stock",brand:"Uplift",pricePerPiece:799,supplierId:"SUP-002",quantityPurchased:120,quantitySold:53,reorderRequired:!1,description:"Electric height-adjustable standing desk with memory presets. 60x30 inch bamboo top with cable management system."},{id:"INV-004",name:"Wireless Mouse",category:"Electronics",quantity:8,location:"A-15",status:"Critical",brand:"Logitech",pricePerPiece:29.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:142,reorderRequired:!0,description:"Ergonomic wireless mouse with customizable buttons and long battery life. 2.4GHz wireless connection with USB receiver."},{id:"INV-005",name:"USB-C Cable",category:"Electronics",quantity:234,location:"A-20",status:"In Stock",brand:"Anker",pricePerPiece:12.99,supplierId:"SUP-001",quantityPurchased:500,quantitySold:266,reorderRequired:!1,description:"Premium braided USB-C to USB-C cable, 6ft length. Supports fast charging up to 100W and data transfer speeds up to 480Mbps."},{id:"INV-006",name:'Monitor 27"',category:"Electronics",quantity:89,location:"A-10",status:"In Stock",brand:"LG",pricePerPiece:349.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:61,reorderRequired:!1,description:"27-inch 4K UHD IPS display with HDR10 support. USB-C connectivity with 65W power delivery. Ideal for creative professionals."},{id:"INV-007",name:"Keyboard Mechanical",category:"Electronics",quantity:156,location:"A-14",status:"In Stock",brand:"Corsair",pricePerPiece:129.99,supplierId:"SUP-001",quantityPurchased:250,quantitySold:94,reorderRequired:!1,description:"Full-size mechanical keyboard with Cherry MX Brown switches. RGB backlighting with dedicated media controls and USB passthrough."},{id:"INV-008",name:"Filing Cabinet",category:"Furniture",quantity:34,location:"B-03",status:"In Stock",brand:"Steelcase",pricePerPiece:299,supplierId:"SUP-002",quantityPurchased:60,quantitySold:26,reorderRequired:!1,description:"4-drawer vertical filing cabinet with full-extension drawers. Built-in lock for security. Holds letter and legal size documents."}],fH=[],pH=[],mH=[],gH=[],yH=[];function vH(n){return n.map(e=>{if(e.quantityPurchased===void 0||e.quantitySold===void 0||e.reorderRequired===void 0){const{reorderLevel:r,maintainStockAt:s,minimumStock:i,...l}=e,u=e.quantityPurchased??Math.floor(e.quantity*1.5),d=e.quantitySold??Math.floor(u-e.quantity),p=e.reorderRequired??e.quantity<=(e.minimumStock??e.reorderLevel??20);return{...l,brand:e.brand||"Unknown",pricePerPiece:e.pricePerPiece??0,supplierId:e.supplierId||"SUP-001",quantityPurchased:u,quantitySold:d,reorderRequired:p}}return e})}function _H(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalPaid??0,s=e.poDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,poDate:s,supplierCountry:e.supplierCountry??"",supplierCity:e.supplierCity??"",billNumber:e.billNumber??"",items:e.items??[],totalAmount:t,totalPaid:r,poBalance:e.poBalance??t-r,status:e.status??"Draft",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s}})}function wH(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function EH(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function bH(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalReceived??0,s=e.amountPaid??0,i=e.soDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,soDate:i,customerCountry:e.customerCountry??"",customerCity:e.customerCity??"",invoiceNumber:e.invoiceNumber??"",items:e.items??[],totalAmount:t,totalReceived:r,amountPaid:s,soBalance:e.soBalance??t-r,receiptStatus:e.receiptStatus??"Unpaid",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??i,archived:e.archived??!1}})}const xH=[{name:"Electronics",subcategories:["Phones","Laptops","Tablets","Accessories","Monitors"]},{name:"Furniture",subcategories:["Desks","Chairs","Cabinets","Shelving"]},{name:"Clothing",subcategories:["Shirts","Pants","Shoes","Accessories"]},{name:"Food & Beverages",subcategories:["Beverages","Snacks","Canned Goods","Fresh Produce"]}];let po=vH(Po(be.INVENTORY,hH)),Yk=wH(Po(be.SUPPLIERS,fH)),ot=EH(Po(be.CUSTOMERS,pH)),Qt=Po(be.SHIPMENTS,mH),Ce=_H(Po(be.PURCHASE_ORDERS,gH)),ut=bH(Po(be.SALES_ORDERS,yH)),Vr=Po(be.CATEGORIES,xH);Ne(be.INVENTORY,po);Ne(be.SUPPLIERS,Yk);Ne(be.CUSTOMERS,ot);Ne(be.PURCHASE_ORDERS,Ce);Ne(be.SALES_ORDERS,ut);Ne(be.CATEGORIES,Vr);function IH(n,e){return n<=0?"Critical":e?"Low Stock":"In Stock"}function SH(){const e=ot.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`CUS-${String(e).padStart(3,"0")}`}function TH(){const e=Ce.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`PO-${String(e).padStart(3,"0")}`}function CH(){const e=ut.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SO-${String(e).padStart(3,"0")}`}function De(n,e=150){return new Promise(t=>setTimeout(()=>t(n),e))}async function vW(){return De([...po])}async function _W(){return De([...Yk])}async function wW(){return De([...ot])}async function EW(n){const e=n.id&&n.id.trim()!==""?n.id:SH(),t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name,contact:n.contact,email:n.email,phone:n.phone,category:n.category,status:n.status??"Active",country:n.country??"",city:n.city??"",address:n.address??"",purchases:t,payments:r,balance:s};return ot.push(i),Ne(be.CUSTOMERS,ot),De(i)}async function bW(n){const e=ot.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Customer not found");const t=ot[e],r=n.purchases??t.purchases,s=n.payments??t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return ot[e]=l,Ne(be.CUSTOMERS,ot),De(l)}async function xW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!0,archivedAt:new Date().toISOString()};return ot[e]=t,Ne(be.CUSTOMERS,ot),De(t)}async function IW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!1,archivedAt:void 0};return ot[e]=t,Ne(be.CUSTOMERS,ot),De(t)}async function SW(n){const e=ot.findIndex(t=>t.id===n);if(e===-1)throw new Error("Customer not found");return ot.splice(e,1),Ne(be.CUSTOMERS,ot),De(void 0)}async function TW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return Ne(be.CUSTOMERS,ot),De({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function CW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!0,archivedAt:new Date().toISOString()},t++}return Ne(be.CUSTOMERS,ot),De({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function AW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!1,archivedAt:void 0},t++}return Ne(be.CUSTOMERS,ot),De({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function RW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return Ne(be.CUSTOMERS,ot),De({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function PW(n,e){const t=[];let r=0;for(const s of n){const i=ot.findIndex(l=>l.id===s);if(i===-1){t.push(`Customer ${s} not found`);continue}ot[i]={...ot[i],status:e},r++}return Ne(be.CUSTOMERS,ot),De({successCount:r,failedCount:t.length,errors:t.length>0?t:void 0})}async function AH(){return De([...Qt])}async function kW(n){const e=n.id&&n.id.trim()!==""?n.id:(()=>{const s=Qt.map(i=>Number(i.id.replace(/[^0-9]/g,""))||0).reduce((i,l)=>Math.max(i,l),0)+1;return`SHIP-${String(s).padStart(4,"0")}`})();if(Qt.some(r=>r.id===e))throw new Error(`Shipment with id ${e} already exists`);const t={id:e,...n};return Qt=[t,...Qt],Ne(be.SHIPMENTS,Qt),De(t)}async function NW(n){const e=Qt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Shipment not found");const r={...Qt[e],...n};return Qt[e]=r,Ne(be.SHIPMENTS,Qt),De(r)}async function DW(n){const e=Qt.findIndex(t=>t.id===n);if(e===-1)throw new Error("Shipment not found");Qt[e],Qt.splice(e,1),Ne(be.SHIPMENTS,Qt),await De(void 0)}async function OW(n){const e=[];let t=0;for(const r of n){const s=Qt.findIndex(i=>i.id===r);s===-1?e.push(`Shipment ${r} not found`):(Qt.splice(s,1),t++)}return Ne(be.SHIPMENTS,Qt),De({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function MW(n,e){const t=[];let r=0;for(const s of n){const i=Qt.findIndex(l=>l.id===s);i===-1?t.push(`Shipment ${s} not found`):(Qt[i]={...Qt[i],status:e},r++)}return Ne(be.SHIPMENTS,Qt),De({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function RH(){return De([...Ce])}async function VW(n){const e=n.id&&n.id.trim()!==""?n.id:TH();if(Ce.some(l=>l.id===e))throw new Error(`Purchase Order with id ${e} already exists`);const t=n.items.reduce((l,u)=>l+u.totalPrice,0),r=n.totalPaid??0,s=n.poDate??new Date().toISOString().split("T")[0],i={id:e,poDate:s,supplierId:n.supplierId,supplierName:n.supplierName,supplierCountry:n.supplierCountry??"",supplierCity:n.supplierCity??"",billNumber:n.billNumber??"",items:n.items.map(l=>({...l,quantityReceived:0})),totalAmount:t,totalPaid:r,poBalance:t-r,status:"Draft",shippingStatus:"Pending",createdBy:n.createdBy,createdDate:s,approvedBy:null,approvedDate:null,receivedDate:null,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return Ce=[i,...Ce],Ne(be.PURCHASE_ORDERS,Ce),De(i)}async function LW(n){const e=Ce.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Purchase Order not found");const r={...Ce[e],...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),(n.items!==void 0||n.totalPaid!==void 0)&&(r.poBalance=r.totalAmount-r.totalPaid),Ce[e]=r,Ne(be.PURCHASE_ORDERS,Ce),De(r)}async function jW(n){const e=Ce.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ce[e];if(t.status!=="Draft")throw new Error("Only Draft purchase orders can be submitted for approval");return Ce[e]={...t,status:"Pending Approval"},Ne(be.PURCHASE_ORDERS,Ce),De(Ce[e])}async function FW(n,e){const t=Ce.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Ce[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be approved");return Ce[t]={...r,status:"Approved",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},Ne(be.PURCHASE_ORDERS,Ce),De(Ce[t])}async function UW(n,e){const t=Ce.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Ce[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be rejected");return Ce[t]={...r,status:"Rejected",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},Ne(be.PURCHASE_ORDERS,Ce),De(Ce[t])}async function zW(n){const e=Ce.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ce[e];if(t.status!=="Approved")throw new Error("Only Approved purchase orders can be marked as ordered");return Ce[e]={...t,status:"Ordered"},Ne(be.PURCHASE_ORDERS,Ce),De(Ce[e])}async function $W(n){const e=Ce.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ce[e];if(["Received","Cancelled"].includes(t.status))throw new Error("Cannot cancel received or already cancelled purchase orders");return Ce[e]={...t,status:"Cancelled"},Ne(be.PURCHASE_ORDERS,Ce),De(Ce[e])}async function BW(n,e,t){const r=Ce.findIndex(m=>m.id===n);if(r===-1)throw new Error("Purchase Order not found");const s=Ce[r];if(!["Ordered","Partially Received"].includes(s.status))throw new Error("Can only receive items for Ordered or Partially Received purchase orders");const i=[],l=s.items.map(m=>{const E=e.find(A=>A.inventoryItemId===m.inventoryItemId);if(!E)return m;const P=(m.quantityReceived??0)+E.quantityReceived;if(P>m.quantity)throw new Error(`Cannot receive more than ordered quantity for ${m.itemName}`);const C=po.findIndex(A=>A.id===m.inventoryItemId);if(C!==-1){const A=po[C].quantity,M=A+E.quantityReceived;po[C]={...po[C],quantity:M,status:IH(M,po[C].reorderLevel,po[C].maintainStockAt)},i.push({itemId:m.inventoryItemId,itemName:m.itemName,previousQty:A,newQty:M})}return{...m,quantityReceived:P}}),u=l.every(m=>(m.quantityReceived??0)>=m.quantity),d=l.some(m=>(m.quantityReceived??0)>0);let p=s.status,g=s.receivedDate;return u?(p="Received",g=new Date().toISOString().split("T")[0]):d&&(p="Partially Received"),Ce[r]={...s,items:l,status:p,receivedDate:g,actualCost:t??s.actualCost},Ne(be.PURCHASE_ORDERS,Ce),Ne(be.INVENTORY,po),De({purchaseOrder:Ce[r],inventoryUpdates:i})}async function qW(n){const e=Ce.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Ce[e]={...Ce[e],archived:!0,archivedAt:new Date().toISOString()},Ne(be.PURCHASE_ORDERS,Ce),De(Ce[e])}async function HW(n){const e=Ce.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Ce[e]={...Ce[e],archived:!1,archivedAt:void 0},Ne(be.PURCHASE_ORDERS,Ce),De(Ce[e])}async function WW(n){const e=Ce.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");Ce.splice(e,1),Ne(be.PURCHASE_ORDERS,Ce),await De(void 0)}async function GW(n){const e=[];let t=0;for(const r of n){const s=Ce.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ce[s]={...Ce[s],archived:!0,archivedAt:new Date().toISOString()},t++)}return Ne(be.PURCHASE_ORDERS,Ce),De({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function KW(n){const e=[];let t=0;for(const r of n){const s=Ce.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ce[s]={...Ce[s],archived:!1,archivedAt:void 0},t++)}return Ne(be.PURCHASE_ORDERS,Ce),De({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function ZW(n){const e=[];let t=0;for(const r of n){const s=Ce.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ce.splice(s,1),t++)}return Ne(be.PURCHASE_ORDERS,Ce),De({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function QW(){return De([...ut])}async function YW(n){const e=n.id&&n.id.trim()!==""?n.id:CH();if(ut.some(p=>p.id===e))throw new Error(`Sales Order with id ${e} already exists`);const t=n.items.reduce((p,g)=>p+g.totalPrice,0),r=n.totalReceived??0,s=n.amountPaid??0,i=t-r,l=n.soDate??new Date().toISOString().split("T")[0];let u=n.receiptStatus??"Unpaid";n.receiptStatus||(r>=t?u="Paid":r>0&&(u="Partially Paid"));const d={id:e,soDate:l,customerId:n.customerId,customerName:n.customerName,customerCountry:n.customerCountry??"",customerCity:n.customerCity??"",invoiceNumber:n.invoiceNumber??"",items:n.items.map(p=>({...p,quantityShipped:0})),totalAmount:t,totalReceived:r,amountPaid:s,soBalance:i,receiptStatus:u,shippingStatus:n.shippingStatus??"Pending",createdBy:n.createdBy,createdDate:l,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate??""};return ut.push(d),Ne(be.SALES_ORDERS,ut),De(d)}async function XW(n){const e=ut.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Sales Order not found");const t=ut[e],r={...t,...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),r.soBalance=r.totalAmount-r.totalReceived,n.totalReceived!==void 0&&n.receiptStatus===void 0&&(r.totalReceived>=r.totalAmount&&r.totalAmount>0?r.receiptStatus="Paid":r.totalReceived>0?r.receiptStatus="Partially Paid":t.receiptStatus!=="Overdue"&&(r.receiptStatus="Unpaid")),ut[e]=r,Ne(be.SALES_ORDERS,ut),De(r)}async function JW(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut.splice(e,1),Ne(be.SALES_ORDERS,ut),De(void 0)}async function eG(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut[e]={...ut[e],archived:!0,archivedAt:new Date().toISOString()},Ne(be.SALES_ORDERS,ut),De(ut[e])}async function tG(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut[e]={...ut[e],archived:!1,archivedAt:void 0},Ne(be.SALES_ORDERS,ut),De(ut[e])}async function nG(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ut[s]={...ut[s],archived:!0,archivedAt:new Date().toISOString()},t++}return Ne(be.SALES_ORDERS,ut),De({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function rG(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ut[s]={...ut[s],archived:!1,archivedAt:void 0},t++}return Ne(be.SALES_ORDERS,ut),De({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function sG(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}if(!ut[s].archived){e.push(`Sales Order ${r} must be archived before permanent deletion`);continue}ut.splice(s,1),t++}return Ne(be.SALES_ORDERS,ut),De({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function oG(){return De([...Vr])}async function iG(n){if(Vr.find(r=>r.name.toLowerCase()===n.toLowerCase()))throw new Error(`Category "${n}" already exists`);const t={name:n,subcategories:[]};return Vr=[...Vr,t],Ne(be.CATEGORIES,Vr),De(t)}async function aG(n,e){const t=Vr.findIndex(i=>i.name===n);if(t===-1)throw new Error(`Category "${n}" not found`);const r=Vr[t];if(r.subcategories.some(i=>i.toLowerCase()===e.toLowerCase()))throw new Error(`Subcategory "${e}" already exists in "${n}"`);const s={...r,subcategories:[...r.subcategories,e]};return Vr=[...Vr.slice(0,t),s,...Vr.slice(t+1)],Ne(be.CATEGORIES,Vr),De(s)}const PH=[{id:"TRX-001",trxDate:"2025-10-10",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Bank Transfer",amountReceived:14699.8,notes:"Full payment for SO-001",createdAt:"2025-10-10T10:30:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-002",invoiceNumber:"INV-2025-0502",paymentMode:"Credit Card",amountReceived:12e3,notes:"Partial payment for SO-002",createdAt:"2025-10-20T14:15:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Bank Transfer",amountReceived:7188,notes:"Full payment for furniture order",createdAt:"2025-11-05T09:00:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-005",invoiceNumber:"INV-2025-0495",paymentMode:"Check",amountReceived:3e3,notes:"Partial payment - overdue balance",createdAt:"2025-09-20T11:45:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-11-01",customerId:"CUS-002",customerName:"TechStart Inc",country:"United States",city:"Austin",soId:"SO-003",invoiceNumber:"INV-2025-0503",paymentMode:"Cash",amountReceived:500,notes:"Deposit for order",createdAt:"2025-11-01T16:30:00Z",createdBy:"2",archived:!1},{id:"TRX-006",trxDate:"2025-10-25",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Online Payment",amountReceived:2500,notes:"Additional payment for extended warranty",createdAt:"2025-10-25T13:00:00Z",createdBy:"1",archived:!1},{id:"TRX-007",trxDate:"2025-11-10",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Credit Card",amountReceived:1500,notes:"Additional items added to order",createdAt:"2025-11-10T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-10-15",customerId:"CUS-005",customerName:"Metro Supplies",country:"United States",city:"New York",soId:"SO-003",invoiceNumber:"INV-2025-0499",paymentMode:"Bank Transfer",amountReceived:850,notes:"Final payment clearing balance",createdAt:"2025-10-15T09:30:00Z",createdBy:"1",archived:!1}];let tt=Po(be.CASH_BANK,PH);tt=tt.map(n=>({...n,archived:n.archived??!1}));Ne(be.CASH_BANK,tt);function kH(){const n=tt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function lG(){return De([...tt])}async function cG(n){const e=n.id||kH(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,customerId:n.customerId,customerName:n.customerName,country:n.country||"",city:n.city||"",soId:n.soId,invoiceNumber:n.invoiceNumber||"",paymentMode:n.paymentMode,amountReceived:n.amountReceived,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return tt=[...tt,r],Ne(be.CASH_BANK,tt),De(r)}async function uG(n){const e=tt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n.id} not found`);const t=tt[e],r={...t,trxDate:n.trxDate??t.trxDate,customerId:n.customerId??t.customerId,customerName:n.customerName??t.customerName,country:n.country??t.country,city:n.city??t.city,soId:n.soId??t.soId,invoiceNumber:n.invoiceNumber??t.invoiceNumber,paymentMode:n.paymentMode??t.paymentMode,amountReceived:n.amountReceived??t.amountReceived,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),r,...tt.slice(e+1)],Ne(be.CASH_BANK,tt),De(r)}async function dG(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...tt[e],archived:!0,archivedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],Ne(be.CASH_BANK,tt),De(t)}async function hG(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...tt[e],archived:!1,archivedAt:void 0};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],Ne(be.CASH_BANK,tt),De(t)}async function fG(n){if(tt.findIndex(t=>t.id===n)===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);return tt=tt.filter(t=>t.id!==n),Ne(be.CASH_BANK,tt),De(void 0)}async function pG(n){const e=new Date().toISOString(),t=[];return tt=tt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),Ne(be.CASH_BANK,tt),De(t)}async function mG(n){const e=[];return tt=tt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),Ne(be.CASH_BANK,tt),De(e)}async function gG(n){return tt=tt.filter(e=>!n.includes(e.id)),Ne(be.CASH_BANK,tt),De(void 0)}const NH=[{id:"TRX-001",trxDate:"2025-10-05",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-001",billNumber:"INV-2025-0142",paymentMode:"Bank Transfer",amountPaid:57998.5,notes:"Full payment for PO-001 - Q4 restock",createdAt:"2025-10-05T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Check",amountPaid:16225,notes:"50% deposit for office furniture",createdAt:"2025-10-20T14:30:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-005",billNumber:"FC-INV-4590",paymentMode:"Bank Transfer",amountPaid:4485,notes:"Full payment for filing cabinets",createdAt:"2025-11-05T09:15:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-28",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Credit Card",amountPaid:25e3,notes:"Partial payment for electronics shipment",createdAt:"2025-09-28T11:00:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-10-30",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Bank Transfer",amountPaid:25e3,notes:"Final payment for electronics shipment",createdAt:"2025-10-30T15:45:00Z",createdBy:"1",archived:!1},{id:"TRX-006",trxDate:"2025-11-02",supplierId:"SUP-005",supplierName:"Premium Parts Ltd",country:"United Kingdom",city:"London",poId:"PO-003",billNumber:"PP-UK-2025-456",paymentMode:"Online Payment",amountPaid:15e3,notes:"Payment for premium components",createdAt:"2025-11-02T08:30:00Z",createdBy:"2",archived:!1},{id:"TRX-007",trxDate:"2025-10-12",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-004",billNumber:"TS-INV-2025-234",paymentMode:"Cash",amountPaid:3500,notes:"Advance payment for monitor order",createdAt:"2025-10-12T13:20:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-11-08",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Bank Transfer",amountPaid:8e3,notes:"Second installment for furniture order",createdAt:"2025-11-08T10:00:00Z",createdBy:"1",archived:!1}];let nt=Po(be.PAYMENTS,NH);nt=nt.map(n=>({...n,archived:n.archived??!1}));Ne(be.PAYMENTS,nt);function DH(){const n=nt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function yG(){return De([...nt])}async function vG(n){const e=n.id||DH(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,supplierId:n.supplierId,supplierName:n.supplierName,country:n.country||"",city:n.city||"",poId:n.poId,billNumber:n.billNumber||"",paymentMode:n.paymentMode,amountPaid:n.amountPaid,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return nt=[...nt,r],Ne(be.PAYMENTS,nt),De(r)}async function _G(n){const e=nt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Payment transaction with ID ${n.id} not found`);const t=nt[e],r={...t,trxDate:n.trxDate??t.trxDate,supplierId:n.supplierId??t.supplierId,supplierName:n.supplierName??t.supplierName,country:n.country??t.country,city:n.city??t.city,poId:n.poId??t.poId,billNumber:n.billNumber??t.billNumber,paymentMode:n.paymentMode??t.paymentMode,amountPaid:n.amountPaid??t.amountPaid,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return nt=[...nt.slice(0,e),r,...nt.slice(e+1)],Ne(be.PAYMENTS,nt),De(r)}async function wG(n){const e=nt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...nt[e],archived:!0,archivedAt:new Date().toISOString()};return nt=[...nt.slice(0,e),t,...nt.slice(e+1)],Ne(be.PAYMENTS,nt),De(t)}async function EG(n){const e=nt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...nt[e],archived:!1,archivedAt:void 0};return nt=[...nt.slice(0,e),t,...nt.slice(e+1)],Ne(be.PAYMENTS,nt),De(t)}async function bG(n){if(nt.findIndex(t=>t.id===n)===-1)throw new Error(`Payment transaction with ID ${n} not found`);return nt=nt.filter(t=>t.id!==n),Ne(be.PAYMENTS,nt),De(void 0)}async function xG(n){const e=new Date().toISOString(),t=[];return nt=nt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),Ne(be.PAYMENTS,nt),De(t)}async function IG(n){const e=[];return nt=nt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),Ne(be.PAYMENTS,nt),De(e)}async function SG(n){return nt=nt.filter(e=>!n.includes(e.id)),Ne(be.PAYMENTS,nt),De(void 0)}function km(n){const e={};for(const t of Object.keys(n))n[t]!==void 0&&(e[t]=n[t]);return e}function Nm(n,e,t){return n<=0?"Critical":t!==void 0&&n<=t||e?"Low Stock":"In Stock"}async function OH(){const n=await Fw(Ni(Xe,gt.INVENTORY));let e=0;return n.forEach(t=>{const s=t.id.match(/INV-(\d+)/);if(s){const i=parseInt(s[1],10);i>e&&(e=i)}}),`INV-${String(e+1).padStart(3,"0")}`}function MH(n,e){return bm(Ni(Xe,gt.INVENTORY),t=>{const r=[];t.forEach(s=>{const i=s.data();r.push({id:s.id,name:i.name,category:i.category,subcategory:i.subcategory,quantity:i.quantity||0,location:i.location,status:i.status||Nm(i.quantity||0,i.reorderRequired||!1,i.reorderLevel),brand:i.brand||"",pricePerPiece:i.pricePerPiece||0,supplierId:i.supplierId||"",quantityPurchased:i.quantityPurchased||0,quantitySold:i.quantitySold||0,reorderRequired:i.reorderRequired||!1,reorderLevel:i.reorderLevel,photoUrl:i.photoUrl,description:i.description,archived:i.archived||!1,archivedAt:i.archivedAt})}),n(r)},e)}async function TG(n){const e=n.id&&n.id.trim()!==""?n.id:await OH(),t=Math.max(0,Math.floor(n.quantity)),r=Math.max(0,Math.floor(n.quantityPurchased)),s=Math.max(0,Math.floor(n.quantitySold)),i=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):void 0,l=i!==void 0&&t<=i?!0:n.reorderRequired,u=Nm(t,l,i),d={id:e,name:n.name.trim(),category:n.category,subcategory:n.subcategory,quantity:t,location:n.location.trim(),status:u,brand:n.brand.trim(),pricePerPiece:n.pricePerPiece,supplierId:n.supplierId.trim(),quantityPurchased:r,quantitySold:s,reorderRequired:l,reorderLevel:i,photoUrl:n.photoUrl,description:n.description};if((await An(Dt(Xe,gt.INVENTORY,e))).exists())throw new Error(`Item with id ${e} already exists`);const g=km(d);return await Em(Dt(Xe,gt.INVENTORY,e),g),d}async function CG(n){const e=Dt(Xe,gt.INVENTORY,n.id),t=await An(e);if(!t.exists())throw new Error("Item not found");const r=t.data(),s=n.quantity!==void 0?Math.max(0,Math.floor(n.quantity)):r.quantity,i=n.quantityPurchased!==void 0?Math.max(0,Math.floor(n.quantityPurchased)):r.quantityPurchased,l=n.quantitySold!==void 0?Math.max(0,Math.floor(n.quantitySold)):r.quantitySold,u=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):r.reorderLevel;let d=n.reorderRequired!==void 0?n.reorderRequired:r.reorderRequired;u!==void 0&&s<=u&&(d=!0);const p={...r,...n,quantity:s,quantityPurchased:i,quantitySold:l,reorderRequired:d,reorderLevel:u,status:Nm(s,d,u)},g=km(p);return await To(e,g),p}async function VH(n){const e=Dt(Xe,gt.INVENTORY,n);if(!(await An(e)).exists())throw new Error("Item not found");await Uw(e)}async function AG(n){const e=Dt(Xe,gt.INVENTORY,n),t=await An(e);if(!t.exists())throw new Error("Item not found");const s={...t.data(),id:n,archived:!0,archivedAt:new Date().toISOString()};return await To(e,{archived:!0,archivedAt:new Date().toISOString()}),s}async function RG(n){const e=Dt(Xe,gt.INVENTORY,n),t=await An(e);if(!t.exists())throw new Error("Item not found");const s={...t.data(),id:n,archived:!1,archivedAt:void 0};return await To(e,{archived:!1,archivedAt:null}),s}async function PG(n){await VH(n)}async function kG(n){const e=Ga(Xe),t=[];let r=0;for(const s of n){const i=Dt(Xe,gt.INVENTORY,s);if(!(await An(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!0,archivedAt:new Date().toISOString()}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function NG(n){const e=Ga(Xe),t=[];let r=0;for(const s of n){const i=Dt(Xe,gt.INVENTORY,s);if(!(await An(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!1,archivedAt:null}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function LH(n){const e=Ga(Xe),t=[];let r=0;for(const s of n){const i=Dt(Xe,gt.INVENTORY,s);if(!(await An(i)).exists()){t.push(`Item ${s} not found`);continue}e.delete(i),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function DG(n){return LH(n)}async function OG(n,e){const t=Ga(Xe),r=[];let s=0;for(const i of n){const l=Dt(Xe,gt.INVENTORY,i),u=await An(l);if(!u.exists()){r.push(`Item ${i} not found`);continue}const d=u.data(),p=e.quantity!==void 0?Math.max(0,Math.floor(e.quantity)):d.quantity,g=e.reorderRequired!==void 0?e.reorderRequired:d.reorderRequired,m=Nm(p,g);t.update(l,{...e,status:m}),s++}return await t.commit(),{success:r.length===0,successCount:s,failedCount:r.length,errors:r.length>0?r:void 0}}async function jH(){const n=Ni(Xe,gt.WMS_SUPPLIERS),e=await Fw(n);let t=0;return e.forEach(r=>{const i=r.id.match(/^SUP-(\d+)$/);if(i){const l=parseInt(i[1],10);l>t&&(t=l)}}),`SUP-${String(t+1).padStart(3,"0")}`}function FH(n,e){const t=Ni(Xe,gt.WMS_SUPPLIERS);return bm(t,r=>{const s=[];r.forEach(i=>{const l=i.data();s.push({id:i.id,name:l.name||"",contact:l.contact||"",email:l.email||"",phone:l.phone||"",category:l.category||"",status:l.status||"Active",country:l.country||"",city:l.city||"",address:l.address||"",purchases:l.purchases||0,payments:l.payments||0,balance:l.balance||0,archived:l.archived||!1,archivedAt:l.archivedAt})}),n(s)},e)}async function MG(n){const e=n.id&&n.id.trim()!==""?n.id:await jH();if((await An(Dt(Xe,gt.WMS_SUPPLIERS,e))).exists())throw new Error(`Supplier with id ${e} already exists`);const r=n.purchases??0,s=n.payments??0,i=r-s,l={id:e,name:n.name.trim(),contact:n.contact.trim(),email:n.email.trim(),phone:n.phone.trim(),category:n.category.trim(),status:n.status??"Active",country:n.country?.trim()??"",city:n.city?.trim()??"",address:n.address?.trim()??"",purchases:r,payments:s,balance:i},u=km(l);return await Em(Dt(Xe,gt.WMS_SUPPLIERS,e),u),l}async function VG(n){const e=Dt(Xe,gt.WMS_SUPPLIERS,n.id),t=await An(e);if(!t.exists())throw new Error("Supplier not found");const r=t.data(),s=n.purchases!==void 0?n.purchases:r.purchases,i=n.payments!==void 0?n.payments:r.payments,l=s-i,u={...r,...n,purchases:s,payments:i,balance:l},d=km(u);return await To(e,d),u}async function UH(n){const e=Dt(Xe,gt.WMS_SUPPLIERS,n);if(!(await An(e)).exists())throw new Error("Supplier not found");await Uw(e)}async function LG(n){const e=Dt(Xe,gt.WMS_SUPPLIERS,n),t=await An(e);if(!t.exists())throw new Error("Supplier not found");const s={...t.data(),archived:!0,archivedAt:new Date().toISOString()};return await To(e,{archived:!0,archivedAt:s.archivedAt}),s}async function jG(n){const e=Dt(Xe,gt.WMS_SUPPLIERS,n),t=await An(e);if(!t.exists())throw new Error("Supplier not found");const s={...t.data(),archived:!1,archivedAt:void 0};return await To(e,{archived:!1,archivedAt:null}),s}async function FG(n){await UH(n)}async function UG(n){const e=Ga(Xe),t=[];let r=0;for(const s of n){const i=Dt(Xe,gt.WMS_SUPPLIERS,s);if(!(await An(i)).exists()){t.push(`Supplier ${s} not found`);continue}e.update(i,{archived:!0,archivedAt:new Date().toISOString()}),r++}return await e.commit(),{successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function zG(n){const e=Ga(Xe),t=[];let r=0;for(const s of n){const i=Dt(Xe,gt.WMS_SUPPLIERS,s);if(!(await An(i)).exists()){t.push(`Supplier ${s} not found`);continue}e.update(i,{archived:!1,archivedAt:null}),r++}return await e.commit(),{successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function $G(n){const e=Ga(Xe),t=[];let r=0;for(const s of n){const i=Dt(Xe,gt.WMS_SUPPLIERS,s);if(!(await An(i)).exists()){t.push(`Supplier ${s} not found`);continue}e.delete(i),r++}return await e.commit(),{successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}const Xk=b.createContext(void 0);function zH({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(null),[i,l]=b.useState(null),[u,d]=b.useState({inventory:!0,shipments:!0,suppliers:!0}),p=b.useRef(null),g=b.useRef(null);b.useEffect(()=>(p.current=MH(A=>{t(A),d(M=>({...M,inventory:!1}))},A=>{console.error("Firebase inventory subscription error:",A),d(M=>({...M,inventory:!1}))}),()=>{p.current&&p.current()}),[]),b.useEffect(()=>(g.current=FH(A=>{l(A),d(M=>({...M,suppliers:!1}))},A=>{console.error("Firebase suppliers subscription error:",A),d(M=>({...M,suppliers:!1}))}),()=>{g.current&&g.current()}),[]),b.useEffect(()=>{m()},[]);async function m(){await I()}async function E(){}async function I(){d(A=>({...A,shipments:!0}));try{const A=await AH();s(A)}finally{d(A=>({...A,shipments:!1}))}}async function P(){}const C={inventory:e,shipments:r,suppliers:i,isLoading:u,setInventory:t,setShipments:s,setSuppliers:l,refreshInventory:E,refreshShipments:I,refreshSuppliers:P};return v.jsx(Xk.Provider,{value:C,children:n})}function n0(){const n=b.useContext(Xk);if(n===void 0)throw new Error("useAppContext must be used within an AppProvider");return n}function BG(){const{inventory:n,isLoading:e,setInventory:t,refreshInventory:r}=n0();return{inventory:n,isLoading:e.inventory,setInventory:t,refreshInventory:r}}function qG(){const{suppliers:n,isLoading:e,setSuppliers:t,refreshSuppliers:r}=n0();return{suppliers:n,isLoading:e.suppliers,setSuppliers:t,refreshSuppliers:r}}function $H(n,e=300){const[t,r]=b.useState(n);return b.useEffect(()=>{const s=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(s)}},[n,e]),t}const Ru="wms_recent_searches",BH=10,bf=2,Pu=10,$y={inventory:{name:"Inventory",icon:Mp,view:"inventory"},orders:{name:"Orders",icon:Xv,view:"orders"},"purchase-orders":{name:"Purchase Orders",icon:Yv,view:"purchase-orders"},shipments:{name:"Shipments",icon:Bf,view:"shipments"},suppliers:{name:"WMS Suppliers",icon:ZS,view:"suppliers"}},qH=[{syntax:"status:critical",description:"Filter by status"},{syntax:"category:electronics",description:"Filter by category"},{syntax:"module:inventory",description:"Search in specific module"},{syntax:"supplier:ABC Corp",description:"Filter by supplier"},{syntax:"location:warehouse-a",description:"Filter by location"},{syntax:"price:>100",description:"Numeric range filter"}];function HH({open:n,onOpenChange:e,onNavigate:t}){const[r,s]=b.useState(""),[i,l]=b.useState(0),[u,d]=b.useState(!1),[p,g]=b.useState([]),[m,E]=b.useState(!1),[I,P]=b.useState([]),C=b.useRef(null),A=b.useRef(null),{inventory:M,orders:U,shipments:z,suppliers:q}=n0(),{user:W}=Oc(),J=$H(r,300);b.useEffect(()=>{if(W){const Y=localStorage.getItem(Ru);if(Y)try{const F=JSON.parse(Y);P(F[W.id]||[])}catch{P([])}}},[W]),b.useEffect(()=>{n?(RH().then(g).catch(console.error),C.current?.focus()):(s(""),l(0),E(!1))},[n]);const k=b.useCallback(Y=>{if(!W||Y.length<bf)return;const F=localStorage.getItem(Ru);let G={};if(F)try{G=JSON.parse(F)}catch{}const ie=(G[W.id]||[]).filter(Ie=>Ie!==Y),fe=[Y,...ie].slice(0,BH);G[W.id]=fe,localStorage.setItem(Ru,JSON.stringify(G)),P(fe)},[W]),S=b.useCallback(()=>{if(!W)return;const Y=localStorage.getItem(Ru);let F={};if(Y)try{F=JSON.parse(Y)}catch{}delete F[W.id],localStorage.setItem(Ru,JSON.stringify(F)),P([])},[W]),R=b.useCallback(Y=>{const F=[];let G=Y;const oe=/(\w+):([<>=]*)([^\s]+)/g;let ie;for(;(ie=oe.exec(Y))!==null;){const[fe,Ie,we,xe]=ie;F.push({key:Ie.toLowerCase(),value:xe,operator:we}),G=G.replace(fe,"").trim()}return{filters:F,cleanQuery:G}},[]),O=b.useMemo(()=>{if(J.length<bf)return[];d(!0);const{filters:Y,cleanQuery:F}=R(J),G=F.toLowerCase(),oe=[],ie=Y.find(Qe=>Qe.key==="module")?.value.toLowerCase(),fe=Y.find(Qe=>Qe.key==="status")?.value.toLowerCase(),Ie=Y.find(Qe=>Qe.key==="category")?.value.toLowerCase(),we=Y.find(Qe=>Qe.key==="supplier")?.value.toLowerCase(),xe=Y.find(Qe=>Qe.key==="location")?.value.toLowerCase(),Ge=Y.find(Qe=>Qe.key==="price");return(!ie||ie==="inventory")&&(M||[]).filter(ye=>{if(fe&&ye.status.toLowerCase()!==fe||Ie&&ye.category.toLowerCase()!==Ie||xe&&!ye.location.toLowerCase().includes(xe))return!1;if(Ge){const It=ye.pricePerPiece,pn=parseFloat(Ge.value);if(Ge.operator===">"&&It<=pn||Ge.operator==="<"&&It>=pn)return!1}return F?ye.id.toLowerCase().includes(G)||ye.name.toLowerCase().includes(G)||ye.brand.toLowerCase().includes(G)||ye.category.toLowerCase().includes(G)||ye.location.toLowerCase().includes(G):!0}).slice(0,Pu).forEach(ye=>{const It=[];ye.id.toLowerCase().includes(G)&&It.push("ID"),ye.name.toLowerCase().includes(G)&&It.push("Name"),ye.brand.toLowerCase().includes(G)&&It.push("Brand"),oe.push({id:ye.id,title:ye.name,subtitle:`${ye.id}  ${ye.brand}  ${ye.category}  ${ye.location}`,module:"inventory",moduleName:"Inventory",icon:Mp,matchedFields:It})}),(!ie||ie==="orders")&&(U||[]).filter(ye=>fe&&ye.status.toLowerCase()!==fe?!1:F?ye.id.toLowerCase().includes(G)||ye.customer.toLowerCase().includes(G)||ye.status.toLowerCase().includes(G):!0).slice(0,Pu).forEach(ye=>{oe.push({id:ye.id,title:ye.customer,subtitle:`${ye.id}  ${ye.status}  ${ye.total}`,module:"orders",moduleName:"Orders",icon:Xv,matchedFields:[]})}),(!ie||ie==="purchase-orders"||ie==="po")&&p.filter(ye=>fe&&ye.status.toLowerCase().replace(/\s/g,"-")!==fe||we&&!ye.supplierName.toLowerCase().includes(we)?!1:F?ye.id.toLowerCase().includes(G)||ye.supplierName.toLowerCase().includes(G)||ye.status.toLowerCase().includes(G):!0).slice(0,Pu).forEach(ye=>{oe.push({id:ye.id,title:`${ye.id} - ${ye.supplierName}`,subtitle:`${ye.status}  ${ye.totalAmount.toLocaleString()}`,module:"purchase-orders",moduleName:"Purchase Orders",icon:Yv,matchedFields:[]})}),(!ie||ie==="shipments")&&(z||[]).filter(ye=>fe&&ye.status.toLowerCase().replace(/\s/g,"-")!==fe?!1:F?ye.id.toLowerCase().includes(G)||ye.orderId.toLowerCase().includes(G)||ye.destination.toLowerCase().includes(G)||ye.carrier.toLowerCase().includes(G):!0).slice(0,Pu).forEach(ye=>{oe.push({id:ye.id,title:`${ye.id}  ${ye.destination}`,subtitle:`Order: ${ye.orderId}  ${ye.carrier}  ${ye.status}`,module:"shipments",moduleName:"Shipments",icon:Bf,matchedFields:[]})}),(!ie||ie==="suppliers")&&(q||[]).filter(ye=>fe&&ye.status.toLowerCase()!==fe||Ie&&!ye.category.toLowerCase().includes(Ie)?!1:F?ye.id.toLowerCase().includes(G)||ye.name.toLowerCase().includes(G)||ye.contact.toLowerCase().includes(G)||ye.email.toLowerCase().includes(G)||ye.category.toLowerCase().includes(G):!0).slice(0,Pu).forEach(ye=>{oe.push({id:ye.id,title:ye.name,subtitle:`${ye.id}  ${ye.contact}  ${ye.category}`,module:"suppliers",moduleName:"WMS Suppliers",icon:ZS,matchedFields:[]})}),d(!1),oe},[J,M,U,p,z,q,R]),V=b.useMemo(()=>{const Y={inventory:[],orders:[],"purchase-orders":[],shipments:[],suppliers:[]};return O.forEach(F=>{Y[F.module].push(F)}),Y},[O]),L=b.useMemo(()=>Object.values(V).flat(),[V]),N=b.useMemo(()=>R(r).filters,[r,R]),de=b.useCallback(Y=>{k(r),t($y[Y.module].view,Y.id),e(!1)},[r,k,t,e]),Ve=b.useCallback(Y=>{s(Y)},[]),pe=b.useCallback(Y=>{const F=new RegExp(`${Y}:[^\\s]+\\s*`,"gi");s(G=>G.replace(F,"").trim())},[]);b.useEffect(()=>{const Y=F=>{if(n)switch(F.key){case"ArrowDown":F.preventDefault(),l(G=>Math.min(G+1,L.length-1));break;case"ArrowUp":F.preventDefault(),l(G=>Math.max(G-1,0));break;case"Enter":F.preventDefault(),L[i]&&de(L[i]);break;case"Escape":e(!1);break}};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[n,L,i,de,e]),b.useEffect(()=>{l(0)},[L]);const me=(Y,F)=>{if(!F||F.length<bf)return Y;const{cleanQuery:G}=R(F);if(!G)return Y;const oe=new RegExp(`(${G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return Y.split(oe).map((fe,Ie)=>oe.test(fe)?v.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-800 rounded px-0.5",children:fe},Ie):fe)},H=r.length===0&&I.length>0,re=r.length>=bf&&O.length===0&&!u;return v.jsx(Mk,{open:n,onOpenChange:e,children:v.jsxs(Vk,{className:"max-w-2xl p-0 gap-0 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center border-b px-4 py-3 gap-3",children:[v.jsx($f,{className:"h-5 w-5 text-muted-foreground shrink-0"}),v.jsx(ku,{ref:C,value:r,onChange:Y=>s(Y.target.value),placeholder:"Search across all modules... (type ? for help)",className:"border-0 focus-visible:ring-0 p-0 h-auto text-base","aria-label":"Global search"}),u&&v.jsx(Zu,{className:"h-4 w-4 animate-spin text-muted-foreground"}),v.jsx("button",{onClick:()=>E(!m),className:"p-1 hover:bg-muted rounded",title:"Show filter syntax help",children:v.jsx(V2,{className:"h-4 w-4 text-muted-foreground"})})]}),N.length>0&&v.jsx("div",{className:"flex flex-wrap gap-2 px-4 py-2 border-b bg-muted/30",children:N.map((Y,F)=>v.jsxs(kp,{variant:"secondary",className:"gap-1 pr-1",children:[v.jsxs("span",{className:"font-medium",children:[Y.key,":"]}),v.jsxs("span",{children:[Y.operator||"",Y.value]}),v.jsx("button",{onClick:()=>pe(Y.key),className:"ml-1 hover:bg-muted rounded-full p-0.5",children:v.jsx(Jv,{className:"h-3 w-3"})})]},F))}),m&&v.jsxs("div",{className:"px-4 py-3 border-b bg-blue-50 dark:bg-blue-950/30",children:[v.jsx("p",{className:"text-sm font-medium mb-2",children:"Filter Syntax:"}),v.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:qH.map((Y,F)=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:Y.syntax}),v.jsx("span",{className:"text-muted-foreground",children:Y.description})]},F))})]}),v.jsxs(Pm,{className:"max-h-[400px]",ref:A,children:[H&&v.jsxs("div",{className:"p-2",children:[v.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-1",children:[v.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Recent Searches"}),v.jsx("button",{onClick:S,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear all"})]}),I.map((Y,F)=>v.jsxs("button",{onClick:()=>Ve(Y),className:"flex items-center gap-3 w-full px-3 py-2 text-left hover:bg-muted rounded-md transition-colors",children:[v.jsx(z2,{className:"h-4 w-4 text-muted-foreground"}),v.jsx("span",{className:"text-sm",children:Y})]},F))]}),re&&v.jsxs("div",{className:"p-8 text-center",children:[v.jsx(yD,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),v.jsxs("p",{className:"text-muted-foreground",children:['No results found for "',r,'"']}),v.jsxs("p",{className:"text-sm text-muted-foreground/70 mt-1",children:["Try different keywords or use filters like ",v.jsx("code",{className:"bg-muted px-1 rounded",children:"status:active"})]})]}),O.length>0&&v.jsx("div",{className:"p-2",children:Object.entries(V).filter(([,Y])=>Y.length>0).map(([Y,F])=>v.jsxs("div",{className:"mb-4 last:mb-0",children:[v.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 mb-1",children:[(()=>{const G=$y[Y].icon;return v.jsx(G,{className:"h-4 w-4 text-muted-foreground"})})(),v.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:$y[Y].name}),v.jsx(kp,{variant:"secondary",className:"h-5 px-1.5 text-xs",children:F.length})]}),F.map((G,oe)=>{const fe=L.indexOf(G)===i;return v.jsxs("button",{onClick:()=>de(G),className:ze("flex items-start gap-3 w-full px-3 py-2 text-left rounded-md transition-colors",fe?"bg-primary/10 text-primary":"hover:bg-muted"),children:[v.jsx(G.icon,{className:"h-4 w-4 mt-0.5 shrink-0"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"font-medium text-sm truncate",children:me(G.title,r)}),v.jsx("div",{className:"text-xs text-muted-foreground truncate",children:me(G.subtitle,r)})]})]},G.id)})]},Y))}),r.length===0&&I.length===0&&v.jsxs("div",{className:"p-8 text-center",children:[v.jsx($f,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),v.jsx("p",{className:"text-muted-foreground",children:"Start typing to search across all modules"}),v.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Search inventory, orders, purchase orders, shipments, and WMS suppliers"})]})]}),v.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t bg-muted/30 text-xs text-muted-foreground",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),"to navigate"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Enter"}),"to select"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Esc"}),"to close"]})]}),v.jsxs("span",{children:[O.length," result",O.length!==1?"s":""]})]})]})})}function WH(){const[n,e]=b.useState(!1);return b.useEffect(()=>{const t=r=>{(r.metaKey||r.ctrlKey)&&r.key==="k"&&(r.preventDefault(),e(s=>!s))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),{open:n,setOpen:e}}const Jk=b.createContext(void 0);function GH({children:n}){const{user:e}=Oc(),[t,r]=b.useState([]),[s,i]=b.useState(!0),l=e?.role==="Owner"||e?.role==="Admin";b.useEffect(()=>{if(!l){r([]),i(!1);return}const m=Ni(Xe,gt.NOTIFICATIONS),E=D9(m,O9("createdAt","desc")),I=bm(E,P=>{const C=[];P.forEach(A=>{const M=A.data();e?.role&&M.targetRoles?.includes(e.role)&&C.push({id:A.id,type:M.type,title:M.title,message:M.message,salesOrderId:M.salesOrderId,customerName:M.customerName,createdBy:M.createdBy,createdAt:M.createdAt?.toDate?.()?.toISOString()||M.createdAt,read:M.read||!1,readAt:M.readAt?.toDate?.()?.toISOString()||M.readAt,targetRoles:M.targetRoles})}),r(C),i(!1)},P=>{console.error("Error fetching notifications:",P),i(!1)});return()=>I()},[l,e?.role]);const u=t.filter(m=>!m.read).length,d=b.useCallback(async m=>{try{const E=Dt(Xe,gt.NOTIFICATIONS,m);await To(E,{read:!0,readAt:mt.now()})}catch(E){console.error("Error marking notification as read:",E)}},[]),p=b.useCallback(async()=>{try{const m=t.filter(E=>!E.read);await Promise.all(m.map(E=>{const I=Dt(Xe,gt.NOTIFICATIONS,E.id);return To(I,{read:!0,readAt:mt.now()})}))}catch(m){console.error("Error marking all notifications as read:",m)}},[t]),g=b.useCallback(async m=>{try{const E=Ni(Xe,gt.NOTIFICATIONS);await L9(E,{...m,createdAt:mt.now(),read:!1})}catch(E){console.error("Error creating notification:",E)}},[]);return v.jsx(Jk.Provider,{value:{notifications:t,unreadCount:u,markAsRead:d,markAllAsRead:p,createNotification:g,isLoading:s},children:n})}function KH(){const n=b.useContext(Jk);if(n===void 0)throw new Error("useNotifications must be used within a NotificationsProvider");return n}function ZH({setCurrentView:n,setCommandPaletteOpen:e}){const{user:t,logout:r}=Oc(),{notifications:s,unreadCount:i,markAsRead:l,markAllAsRead:u}=KH(),d=t?.role==="Owner"||t?.role==="Admin",p=m=>{const E=new Date(m),P=new Date().getTime()-E.getTime(),C=Math.floor(P/6e4),A=Math.floor(P/36e5),M=Math.floor(P/864e5);return C<1?"Just now":C<60?`${C}m ago`:A<24?`${A}h ago`:`${M}d ago`},g=()=>{r(),Vn.success("Logged out successfully")};return v.jsxs("header",{className:"shrink-0 z-50 flex h-14 items-center gap-4 border-b bg-background px-4 sm:px-6",children:[v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsxs("h1",{className:"text-sm font-semibold truncate sm:text-base",children:[v.jsx("span",{className:"hidden lg:inline",children:"Warehouse Management System "}),v.jsx("span",{className:"lg:hidden",children:"WMS"})]}),v.jsx("p",{className:"text-xs text-muted-foreground truncate lg:hidden",children:"Inventory & Supply Chain"})]}),v.jsxs(mo,{variant:"outline",className:"hidden sm:flex w-64 justify-start text-muted-foreground gap-2",onClick:()=>e(!0),children:[v.jsx($f,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"truncate",children:"Search everything..."}),v.jsxs("kbd",{className:"ml-auto pointer-events-none hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium md:inline-flex",children:[v.jsx(B2,{className:"h-3 w-3"}),"K"]})]}),v.jsxs(mo,{variant:"outline",size:"icon",className:"sm:hidden shrink-0",onClick:()=>e(!0),children:[v.jsx($f,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Search"})]}),d&&v.jsxs(ov,{modal:!1,children:[v.jsx(iv,{asChild:!0,children:v.jsxs(mo,{variant:"ghost",size:"icon",className:"relative shrink-0",children:[v.jsx(KS,{className:"h-5 w-5"}),i>0&&v.jsx(kp,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:i>9?"9+":i}),v.jsx("span",{className:"sr-only",children:"Notifications"})]})}),v.jsxs(Xf,{align:"end",className:"w-80",sideOffset:8,children:[v.jsxs(Jf,{className:"flex items-center justify-between",children:[v.jsx("span",{children:"Notifications"}),i>0&&v.jsxs(mo,{variant:"ghost",size:"sm",className:"h-auto py-1 px-2 text-xs",onClick:m=>{m.preventDefault(),u()},children:[v.jsx(Qv,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]}),v.jsx(ep,{}),v.jsx(Pm,{className:"h-[300px]",children:s.length===0?v.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications yet"}):s.slice(0,10).map(m=>v.jsx(Yl,{className:`flex flex-col items-start gap-1 p-3 cursor-pointer ${m.read?"":"bg-accent/50"}`,onSelect:()=>l(m.id),children:v.jsxs("div",{className:"flex items-start gap-2 w-full",children:[v.jsx(Xv,{className:"h-4 w-4 mt-0.5 text-primary shrink-0"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"text-sm font-medium truncate",children:m.title}),v.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:m.message}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.salesOrderId&&v.jsx(kp,{variant:"outline",className:"text-xs",children:m.salesOrderId}),v.jsx("span",{className:"text-xs text-muted-foreground",children:p(m.createdAt)})]})]}),!m.read&&v.jsx("div",{className:"h-2 w-2 rounded-full bg-primary shrink-0"})]})},m.id))})]})]}),t&&v.jsxs(ov,{modal:!1,children:[v.jsx(iv,{asChild:!0,children:v.jsxs("button",{type:"button",className:"flex items-center gap-2 px-2 py-1.5 rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:[v.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:v.jsx(By,{className:"h-4 w-4 text-primary"})}),v.jsxs("div",{className:"hidden md:flex flex-col items-start text-left",children:[v.jsx("span",{className:"text-sm font-medium truncate max-w-[120px]",children:t.name}),v.jsx("span",{className:"text-xs text-muted-foreground",children:t.role})]}),v.jsx(P2,{className:"h-4 w-4 text-muted-foreground hidden md:block"})]})}),v.jsxs(Xf,{align:"end",className:"w-56",sideOffset:8,children:[v.jsx(Jf,{className:"font-normal",children:v.jsxs("div",{className:"flex flex-col space-y-1",children:[v.jsx("p",{className:"text-sm font-medium leading-none",children:t.name}),v.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),v.jsx(ep,{}),v.jsxs(Yl,{onSelect:()=>n("profile"),children:[v.jsx(By,{className:"mr-2 h-4 w-4"}),"View Profile"]}),v.jsxs(Yl,{onSelect:g,className:"text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400",children:[v.jsx(rD,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})}const LS=ce.lazy(()=>cs(()=>import("./dashboard-CkzlbqIw.js"),__vite__mapDeps([0,1,2,3,4])).then(n=>({default:n.Dashboard}))),QH=ce.lazy(()=>cs(()=>import("./inventory-view-BJXYCbRr.js"),__vite__mapDeps([5,6,7,1,8,9,2,10,11,3,12,13,14,15,16,17,18])).then(n=>({default:n.InventoryView}))),YH=ce.lazy(()=>cs(()=>import("./purchase-orders-view-CY25SOvc.js"),__vite__mapDeps([19,6,20,7,1,2,10,16,11,3,4,14])).then(n=>({default:n.PurchaseOrdersView}))),XH=ce.lazy(()=>cs(()=>import("./sales-orders-view-JINCMquz.js"),__vite__mapDeps([21,2,7,1,6,20,12,18,3,16,11,14])).then(n=>({default:n.SalesOrdersView}))),JH=ce.lazy(()=>cs(()=>import("./shipments-view-DN4dNvEh.js"),__vite__mapDeps([22,6,7,1,23,8,9,2,10,24,3,14,15])).then(n=>({default:n.ShipmentsView}))),eW=ce.lazy(()=>cs(()=>import("./suppliers-view-BEFiDQFu.js"),__vite__mapDeps([25,6,7,1,8,9,2,10,24,11,14,26,17,18,15,3,13])).then(n=>({default:n.SuppliersView}))),tW=ce.lazy(()=>cs(()=>import("./customers-view-HWvYlZWU.js"),__vite__mapDeps([27,6,7,1,8,9,2,10,24,11,14,26,13,15])).then(n=>({default:n.CustomersView}))),nW=ce.lazy(()=>cs(()=>import("./user-management-view-BHRmqou0.js"),__vite__mapDeps([28,6,2,9,4,29])).then(n=>({default:n.UserManagementView}))),rW=ce.lazy(()=>cs(()=>import("./admin-profile-view-D7EM6iZx.js"),__vite__mapDeps([30,14,29,24,26,15,23])).then(n=>({default:n.AdminProfileView}))),sW=ce.lazy(()=>cs(()=>import("./cash-bank-view-CWAjgp_b.js"),__vite__mapDeps([31,2,7,1,6,20,11,32,14])).then(n=>({default:n.CashBankView}))),oW=ce.lazy(()=>cs(()=>import("./payments-view-K4Lz-ZN8.js"),__vite__mapDeps([33,2,7,1,6,20,11,32,14])).then(n=>({default:n.PaymentsView}))),iW=["dashboard","inventory","purchase-orders","sales-orders","shipments","suppliers","customers","cash-bank","payments","users","profile"];function jS(){const n=window.location.hash.slice(1);return n&&iW.includes(n)?n:"dashboard"}function aW(){const{isAuthenticated:n,isLoading:e}=Oc(),[t,r]=b.useState(jS),[s,i]=b.useState(null),[l,u]=b.useState(void 0),{open:d,setOpen:p}=WH();b.useEffect(()=>{const C=t==="dashboard"?"":`#${t}`;window.location.hash!==C&&window.location.hash!==`#${t}`&&window.history.replaceState(null,"",C||window.location.pathname)},[t]),b.useEffect(()=>{const C=()=>{const A=jS();r(A)};return window.addEventListener("hashchange",C),()=>window.removeEventListener("hashchange",C)},[]);const g=b.useCallback((C,A=!1)=>{r(C),A&&C!=="dashboard"&&i(C)},[]),m=b.useCallback((C,A)=>{r(C),u(A)},[]),E=b.useCallback(()=>{i(null)},[]),I=b.useCallback(()=>{u(void 0)},[]);if(e)return v.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx(Zu,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),v.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})});if(!n)return v.jsxs(cS,{onError:Kv,children:[v.jsx(uH,{}),v.jsx(lS,{})]});const P=()=>{switch(t){case"dashboard":return v.jsx(LS,{navigateToView:g});case"inventory":return v.jsx(QH,{initialOpenDialog:s==="inventory",onDialogOpened:E,initialItemId:l,onItemDialogOpened:I});case"purchase-orders":return v.jsx(YH,{initialOpenDialog:s==="purchase-orders",onDialogOpened:E});case"sales-orders":return v.jsx(XH,{});case"shipments":return v.jsx(JH,{initialOpenDialog:s==="shipments",onDialogOpened:E});case"suppliers":return v.jsx(eW,{initialOpenDialog:s==="suppliers",onDialogOpened:E,initialSupplierId:l,onSupplierDialogOpened:I});case"customers":return v.jsx(tW,{initialOpenDialog:s==="customers",onDialogOpened:E,initialCustomerId:l,onCustomerDialogOpened:I});case"cash-bank":return v.jsx(sW,{});case"payments":return v.jsx(oW,{});case"users":return v.jsx(nW,{});case"profile":return v.jsx(rW,{});default:return v.jsx(LS,{navigateToView:g})}};return v.jsx(cS,{onError:Kv,children:v.jsxs($L,{children:[v.jsx(Y9,{currentView:t,setCurrentView:r}),v.jsxs(HL,{className:"flex flex-col bg-muted/30 h-screen overflow-hidden",children:[v.jsx(ZH,{setCurrentView:r,setCommandPaletteOpen:p}),v.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-6",children:v.jsx(b.Suspense,{fallback:v.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[v.jsx(Zu,{className:"h-4 w-4 animate-spin"})," Loading..."]}),children:P()})})]}),v.jsx(HH,{open:d,onOpenChange:p,onNavigate:m}),v.jsx(lS,{})]})})}const FS="wms_favorites",US="wms_saved_searches",eN=b.createContext(void 0),lW=[{id:"ql-1",label:"Low Stock Items",entityType:"inventory",filters:{status:"Low Stock"},icon:"alert"},{id:"ql-2",label:"Critical Stock",entityType:"inventory",filters:{status:"Critical"},icon:"alert-circle"},{id:"ql-3",label:"Pending Orders",entityType:"orders",filters:{status:"Pending"},icon:"clock"},{id:"ql-4",label:"Processing Orders",entityType:"orders",filters:{status:"Processing"},icon:"loader"},{id:"ql-5",label:"In Transit Shipments",entityType:"shipments",filters:{status:"In Transit"},icon:"truck"},{id:"ql-6",label:"Active WMS Suppliers",entityType:"suppliers",filters:{status:"Active"},icon:"users"}];function cW({children:n}){const[e,t]=b.useState([]),[r,s]=b.useState([]),[i]=b.useState(lW);b.useEffect(()=>{try{const C=localStorage.getItem(FS);C&&t(JSON.parse(C));const A=localStorage.getItem(US);A&&s(JSON.parse(A))}catch(C){console.error("Failed to load favorites from localStorage:",C)}},[]),b.useEffect(()=>{try{localStorage.setItem(FS,JSON.stringify(e))}catch(C){console.error("Failed to save favorites to localStorage:",C)}},[e]),b.useEffect(()=>{try{localStorage.setItem(US,JSON.stringify(r))}catch(C){console.error("Failed to save searches to localStorage:",C)}},[r]);const l=b.useCallback((C,A,M)=>{t(U=>U.some(W=>W.entityType===C&&W.entityId===A)?U:[{id:`fav-${C}-${A}-${Date.now()}`,entityType:C,entityId:A,entityName:M,favoritedAt:new Date().toISOString()},...U])},[]),u=b.useCallback((C,A)=>{t(M=>M.filter(U=>!(U.entityType===C&&U.entityId===A)))},[]),d=b.useCallback((C,A,M)=>{t(U=>U.some(q=>q.entityType===C&&q.entityId===A)?U.filter(q=>!(q.entityType===C&&q.entityId===A)):[{id:`fav-${C}-${A}-${Date.now()}`,entityType:C,entityId:A,entityName:M,favoritedAt:new Date().toISOString()},...U])},[]),p=b.useCallback((C,A)=>e.some(M=>M.entityType===C&&M.entityId===A),[e]),g=b.useCallback(C=>e.filter(A=>A.entityType===C),[e]),m=b.useCallback((C=10)=>[...e].sort((A,M)=>new Date(M.favoritedAt).getTime()-new Date(A.favoritedAt).getTime()).slice(0,C),[e]),E=b.useCallback((C,A,M,U)=>{const z={id:`search-${Date.now()}`,name:C,entityType:A,searchTerm:M,filters:U||{},createdAt:new Date().toISOString()};s(q=>[z,...q])},[]),I=b.useCallback(C=>{s(A=>A.filter(M=>M.id!==C))},[]),P=b.useCallback(C=>r.filter(A=>A.entityType===C),[r]);return v.jsx(eN.Provider,{value:{favorites:e,savedSearches:r,quickLinks:i,addFavorite:l,removeFavorite:u,toggleFavorite:d,isFavorite:p,getFavoritesByType:g,getRecentFavorites:m,saveSearch:E,deleteSearch:I,getSearchesByType:P},children:n})}function HG(){const n=b.useContext(eN);if(!n)throw new Error("useFavorites must be used within a FavoritesProvider");return n}const uW=H9;m2.createRoot(document.getElementById("root")).render(v.jsx(uW,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:v.jsx(z9,{children:v.jsx(GH,{children:v.jsx(cW,{children:v.jsx(zH,{children:v.jsx(aW,{})})})})})}));window.addEventListener("error",n=>{const e=n.error instanceof Error?n.error:new Error(String(n.message));Kv(e)});export{yW as $,Wq as A,mo as B,ZP as C,Mk as D,Gq as E,Hq as F,BG as G,qG as H,ku as I,HG as J,oG as K,$l as L,$H as M,CG as N,MG as O,Mp as P,TG as Q,ce as R,Xv as S,CD as T,ZS as U,LH as V,kG as W,NG as X,DG as Y,OG as Z,z2 as _,dW as a,CW as a$,Jv as a0,$f as a1,ov as a2,iv as a3,Xf as a4,Jf as a5,ep as a6,Ej as a7,uS as a8,G2 as a9,mW as aA,KH as aB,wW as aC,YW as aD,rG as aE,tG as aF,eG as aG,JW as aH,XW as aI,sG as aJ,nG as aK,AH as aL,NW as aM,OW as aN,MW as aO,kW as aP,DW as aQ,VG as aR,UG as aS,zG as aT,$G as aU,oD as aV,jG as aW,FG as aX,LG as aY,bW as aZ,TW as a_,Pm as aa,VD as ab,iG as ac,aG as ad,RG as ae,AG as af,PG as ag,gW as ah,Qv as ai,_W as aj,vW as ak,VW as al,KW as am,LW as an,jW as ao,FW as ap,UW as aq,zW as ar,$W as as,HW as at,WW as au,qW as av,BW as aw,ZW as ax,GW as ay,SO as az,WS as b,O2 as b$,AW as b0,RW as b1,PW as b2,EW as b3,IW as b4,SW as b5,xW as b6,bD as b7,PD as b8,By as b9,P2 as bA,qp as bB,b_ as bC,Ic as bD,fT as bE,Ws as bF,Ea as bG,AT as bH,xt as bI,pT as bJ,ht as bK,je as bL,_o as bM,Lp as bN,t_ as bO,AC as bP,pL as bQ,jn as bR,E1 as bS,h1 as bT,r_ as bU,rc as bV,n_ as bW,Vp as bX,mT as bY,Kq as bZ,gT as b_,Sb as ba,Dk as bb,Gv as bc,H2 as bd,Zu as be,Y2 as bf,lG as bg,cG as bh,mG as bi,pG as bj,hG as bk,fG as bl,uG as bm,dG as bn,gG as bo,OD as bp,yG as bq,vG as br,IG as bs,xG as bt,EG as bu,bG as bv,_G as bw,wG as bx,SG as by,N2 as bz,rt as c,ze as d,Op as e,BS as f,zS as g,Np as h,Oc as i,v as j,jD as k,RH as l,QW as m,mD as n,QP as o,YP as p,JP as q,b as r,Bf as s,Yv as t,n0 as u,XP as v,kp as w,Vn as x,Vk as y,qq as z};
