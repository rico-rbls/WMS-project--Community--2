const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-DlT5QjMV.js","assets/skeleton-D3swnGbN.js","assets/permissions-DJnvoGTW.js","assets/dollar-sign-D18KLZmD.js","assets/trending-up-B4STctua.js","assets/credit-card-C-ECXHlo.js","assets/calendar-CEf3U8VW.js","assets/star-BuoQnG8K.js","assets/shopping-bag-HzIJHbbn.js","assets/inventory-view-DpGdo21e.js","assets/sortable-table-head-DKzV_Dxm.js","assets/select-all-banner-KEgGjz2t.js","assets/favorite-button-CmR0gkd8.js","assets/useTableSort-BoOw0ghu.js","assets/editable-cell-BrQAxNBM.js","assets/archive-BMIfGaQ-.js","assets/square-pen-BZhR9KUt.js","assets/circle-alert-BSKgIFc2.js","assets/map-pin-BbNJKPVX.js","assets/file-text-DQByhMhz.js","assets/tag-bFFiPjWW.js","assets/purchase-orders-view-D9rp5M4o.js","assets/printable-receipt-C9utwEBI.js","assets/bulk-delete-dialog-CNy_neio.js","assets/sales-orders-view-41Rf6k0G.js","assets/shipments-view-DOoOKOvG.js","assets/circle-check-big-C47guISx.js","assets/suppliers-view-rQlQK4jO.js","assets/phone-DFzlHkSe.js","assets/customers-view-C1S6GJB6.js","assets/user-management-view-Bj1Nbh51.js","assets/crown-m5RK6ik_.js","assets/admin-profile-view-CXiJxNWq.js","assets/cash-bank-view-BRuLLiod.js","assets/payments-view-DCB1P6SW.js"])))=>i.map(i=>d[i]);
function KN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var KH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hg={exports:{}},gu={},Wg={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function ZN(){if(ZE)return st;ZE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function R(F,G,oe){this.props=F,this.context=G,this.refs=C,this.updater=oe||S}R.prototype.isReactComponent={},R.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},R.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function V(){}V.prototype=R.prototype;function U(F,G,oe){this.props=F,this.context=G,this.refs=C,this.updater=oe||S}var z=U.prototype=new V;z.constructor=U,k(z,R.prototype),z.isPureReactComponent=!0;var q=Array.isArray,W=Object.prototype.hasOwnProperty,J={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(F,G,oe){var ie,fe={},Te=null,we=null;if(G!=null)for(ie in G.ref!==void 0&&(we=G.ref),G.key!==void 0&&(Te=""+G.key),G)W.call(G,ie)&&!P.hasOwnProperty(ie)&&(fe[ie]=G[ie]);var Ie=arguments.length-2;if(Ie===1)fe.children=oe;else if(1<Ie){for(var Ge=Array(Ie),Qe=0;Qe<Ie;Qe++)Ge[Qe]=arguments[Qe+2];fe.children=Ge}if(F&&F.defaultProps)for(ie in Ie=F.defaultProps,Ie)fe[ie]===void 0&&(fe[ie]=Ie[ie]);return{$$typeof:n,type:F,key:Te,ref:we,props:fe,_owner:J.current}}function A(F,G){return{$$typeof:n,type:F.type,key:G,ref:F.ref,props:F.props,_owner:F._owner}}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function M(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(oe){return G[oe]})}var L=/\/+/g;function N(F,G){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):G.toString(36)}function de(F,G,oe,ie,fe){var Te=typeof F;(Te==="undefined"||Te==="boolean")&&(F=null);var we=!1;if(F===null)we=!0;else switch(Te){case"string":case"number":we=!0;break;case"object":switch(F.$$typeof){case n:case e:we=!0}}if(we)return we=F,fe=fe(we),F=ie===""?"."+N(we,0):ie,q(fe)?(oe="",F!=null&&(oe=F.replace(L,"$&/")+"/"),de(fe,G,oe,"",function(Qe){return Qe})):fe!=null&&(O(fe)&&(fe=A(fe,oe+(!fe.key||we&&we.key===fe.key?"":(""+fe.key).replace(L,"$&/")+"/")+F)),G.push(fe)),1;if(we=0,ie=ie===""?".":ie+":",q(F))for(var Ie=0;Ie<F.length;Ie++){Te=F[Ie];var Ge=ie+N(Te,Ie);we+=de(Te,G,oe,Ge,fe)}else if(Ge=E(F),typeof Ge=="function")for(F=Ge.call(F),Ie=0;!(Te=F.next()).done;)Te=Te.value,Ge=ie+N(Te,Ie++),we+=de(Te,G,oe,Ge,fe);else if(Te==="object")throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return we}function Ve(F,G,oe){if(F==null)return F;var ie=[],fe=0;return de(F,ie,"","",function(Te){return G.call(oe,Te,fe++)}),ie}function pe(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(oe){(F._status===0||F._status===-1)&&(F._status=1,F._result=oe)},function(oe){(F._status===0||F._status===-1)&&(F._status=2,F._result=oe)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var me={current:null},H={transition:null},ne={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:H,ReactCurrentOwner:J};function Y(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:Ve,forEach:function(F,G,oe){Ve(F,function(){G.apply(this,arguments)},oe)},count:function(F){var G=0;return Ve(F,function(){G++}),G},toArray:function(F){return Ve(F,function(G){return G})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},st.Component=R,st.Fragment=t,st.Profiler=s,st.PureComponent=U,st.StrictMode=r,st.Suspense=h,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,st.act=Y,st.cloneElement=function(F,G,oe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ie=k({},F.props),fe=F.key,Te=F.ref,we=F._owner;if(G!=null){if(G.ref!==void 0&&(Te=G.ref,we=J.current),G.key!==void 0&&(fe=""+G.key),F.type&&F.type.defaultProps)var Ie=F.type.defaultProps;for(Ge in G)W.call(G,Ge)&&!P.hasOwnProperty(Ge)&&(ie[Ge]=G[Ge]===void 0&&Ie!==void 0?Ie[Ge]:G[Ge])}var Ge=arguments.length-2;if(Ge===1)ie.children=oe;else if(1<Ge){Ie=Array(Ge);for(var Qe=0;Qe<Ge;Qe++)Ie[Qe]=arguments[Qe+2];ie.children=Ie}return{$$typeof:n,type:F.type,key:fe,ref:Te,props:ie,_owner:we}},st.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:i,_context:F},F.Consumer=F},st.createElement=I,st.createFactory=function(F){var G=I.bind(null,F);return G.type=F,G},st.createRef=function(){return{current:null}},st.forwardRef=function(F){return{$$typeof:u,render:F}},st.isValidElement=O,st.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:pe}},st.memo=function(F,G){return{$$typeof:p,type:F,compare:G===void 0?null:G}},st.startTransition=function(F){var G=H.transition;H.transition={};try{F()}finally{H.transition=G}},st.unstable_act=Y,st.useCallback=function(F,G){return me.current.useCallback(F,G)},st.useContext=function(F){return me.current.useContext(F)},st.useDebugValue=function(){},st.useDeferredValue=function(F){return me.current.useDeferredValue(F)},st.useEffect=function(F,G){return me.current.useEffect(F,G)},st.useId=function(){return me.current.useId()},st.useImperativeHandle=function(F,G,oe){return me.current.useImperativeHandle(F,G,oe)},st.useInsertionEffect=function(F,G){return me.current.useInsertionEffect(F,G)},st.useLayoutEffect=function(F,G){return me.current.useLayoutEffect(F,G)},st.useMemo=function(F,G){return me.current.useMemo(F,G)},st.useReducer=function(F,G,oe){return me.current.useReducer(F,G,oe)},st.useRef=function(F){return me.current.useRef(F)},st.useState=function(F){return me.current.useState(F)},st.useSyncExternalStore=function(F,G,oe){return me.current.useSyncExternalStore(F,G,oe)},st.useTransition=function(){return me.current.useTransition()},st.version="18.3.1",st}var QE;function Mv(){return QE||(QE=1,Wg.exports=ZN()),Wg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function QN(){if(YE)return gu;YE=1;var n=Mv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var g,m={},E=null,S=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)r.call(h,g)&&!i.hasOwnProperty(g)&&(m[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:e,type:u,key:E,ref:S,props:m,_owner:s.current}}return gu.Fragment=t,gu.jsx=l,gu.jsxs=l,gu}var XE;function YN(){return XE||(XE=1,Hg.exports=QN()),Hg.exports}var v=YN(),qh={},Gg={exports:{}},nr={},Kg={exports:{}},Zg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function XN(){return JE||(JE=1,(function(n){function e(H,ne){var Y=H.length;H.push(ne);e:for(;0<Y;){var F=Y-1>>>1,G=H[F];if(0<s(G,ne))H[F]=ne,H[Y]=G,Y=F;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ne=H[0],Y=H.pop();if(Y!==ne){H[0]=Y;e:for(var F=0,G=H.length,oe=G>>>1;F<oe;){var ie=2*(F+1)-1,fe=H[ie],Te=ie+1,we=H[Te];if(0>s(fe,Y))Te<G&&0>s(we,fe)?(H[F]=we,H[Te]=Y,F=Te):(H[F]=fe,H[ie]=Y,F=ie);else if(Te<G&&0>s(we,Y))H[F]=we,H[Te]=Y,F=Te;else break e}}return ne}function s(H,ne){var Y=H.sortIndex-ne.sortIndex;return Y!==0?Y:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],g=1,m=null,E=3,S=!1,k=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(H){for(var ne=t(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=H)r(p),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=t(p)}}function q(H){if(C=!1,z(H),!k)if(t(h)!==null)k=!0,pe(W);else{var ne=t(p);ne!==null&&me(q,ne.startTime-H)}}function W(H,ne){k=!1,C&&(C=!1,V(I),I=-1),S=!0;var Y=E;try{for(z(ne),m=t(h);m!==null&&(!(m.expirationTime>ne)||H&&!M());){var F=m.callback;if(typeof F=="function"){m.callback=null,E=m.priorityLevel;var G=F(m.expirationTime<=ne);ne=n.unstable_now(),typeof G=="function"?m.callback=G:m===t(h)&&r(h),z(ne)}else r(h);m=t(h)}if(m!==null)var oe=!0;else{var ie=t(p);ie!==null&&me(q,ie.startTime-ne),oe=!1}return oe}finally{m=null,E=Y,S=!1}}var J=!1,P=null,I=-1,A=5,O=-1;function M(){return!(n.unstable_now()-O<A)}function L(){if(P!==null){var H=n.unstable_now();O=H;var ne=!0;try{ne=P(!0,H)}finally{ne?N():(J=!1,P=null)}}else J=!1}var N;if(typeof U=="function")N=function(){U(L)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Ve=de.port2;de.port1.onmessage=L,N=function(){Ve.postMessage(null)}}else N=function(){R(L,0)};function pe(H){P=H,J||(J=!0,N())}function me(H,ne){I=R(function(){H(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){k||S||(k=!0,pe(W))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(H){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var Y=E;E=ne;try{return H()}finally{E=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=E;E=H;try{return ne()}finally{E=Y}},n.unstable_scheduleCallback=function(H,ne,Y){var F=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?F+Y:F):Y=F,H){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Y+G,H={id:g++,callback:ne,priorityLevel:H,startTime:Y,expirationTime:G,sortIndex:-1},Y>F?(H.sortIndex=Y,e(p,H),t(h)===null&&H===t(p)&&(C?(V(I),I=-1):C=!0,me(q,Y-F))):(H.sortIndex=G,e(h,H),k||S||(k=!0,pe(W))),H},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(H){var ne=E;return function(){var Y=E;E=ne;try{return H.apply(this,arguments)}finally{E=Y}}}})(Zg)),Zg}var eb;function JN(){return eb||(eb=1,Kg.exports=XN()),Kg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function e2(){if(tb)return nr;tb=1;var n=Mv(),e=JN();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function E(o){return h.call(m,o)?!0:h.call(g,o)?!1:p.test(o)?m[o]=!0:(g[o]=!0,!1)}function S(o,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,a,c,f){if(a===null||typeof a>"u"||S(o,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(o,a,c,f,y,_,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=_,this.removeEmptyString=T}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){R[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];R[a]=new C(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){R[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){R[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){R[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){R[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){R[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){R[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){R[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function U(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(V,U);R[a]=new C(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(V,U);R[a]=new C(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(V,U);R[a]=new C(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){R[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),R.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){R[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function z(o,a,c,f){var y=R.hasOwnProperty(a)?R[a]:null;(y!==null?y.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,c,y,f)&&(c=null),f||y===null?E(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,f=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,f?o.setAttributeNS(f,a,c):o.setAttribute(a,c))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),J=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),H=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var Y=Object.assign,F;function G(o){if(F===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+o}var oe=!1;function ie(o,a){if(!o||oe)return"";oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var f=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){f=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){f=ee}o()}}catch(ee){if(ee&&f&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),_=f.stack.split(`
`),T=y.length-1,j=_.length-1;1<=T&&0<=j&&y[T]!==_[j];)j--;for(;1<=T&&0<=j;T--,j--)if(y[T]!==_[j]){if(T!==1||j!==1)do if(T--,j--,0>j||y[T]!==_[j]){var $=`
`+y[T].replace(" at new "," at ");return o.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",o.displayName)),$}while(1<=T&&0<=j);break}}}finally{oe=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?G(o):""}function fe(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function Te(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case J:return"Portal";case A:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case de:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case O:return(o._context.displayName||"Context")+".Provider";case L:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ve:return a=o.displayName||null,a!==null?a:Te(o.type)||"Memo";case pe:a=o._payload,o=o._init;try{return Te(o(a))}catch{}}return null}function we(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(a);case 8:return a===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ge(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qe(o){var a=Ge(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),f=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,_=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function ye(o){o._valueTracker||(o._valueTracker=Qe(o))}function xt(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return o&&(f=Ge(o)?o.checked?"true":"false":o.value),o=f,o!==c?(a.setValue(o),!0):!1}function hn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function us(o,a){var c=a.checked;return Y({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Ga(o,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Ie(a.value!=null?a.value:c),o._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Zs(o,a){a=a.checked,a!=null&&z(o,"checked",a,!1)}function ir(o,a){Zs(o,a);var c=Ie(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?gt(o,a.type,c):a.hasOwnProperty("defaultValue")&&gt(o,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Ro(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function gt(o,a,c){(a!=="number"||hn(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var Vt=Array.isArray;function ar(o,a,c,f){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&f&&(o[c].defaultSelected=!0)}else{for(c=""+Ie(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,f&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function on(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ir(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Vt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:Ie(c)}}function Ka(o,a){var c=Ie(a.value),f=Ie(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),f!=null&&(o.defaultValue=""+f)}function ds(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function hs(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ko(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?hs(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Br,No=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,f,y)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Br.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Zn(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hr=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(o){Hr.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),qr[a]=qr[o]})});function fs(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||qr.hasOwnProperty(o)&&qr[o]?(""+a).trim():a+"px"}function Do(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,y=fs(c,a[c],f);c==="float"&&(c="cssFloat"),f?o.setProperty(c,y):o[c]=y}}var Oo=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qn(o,a){if(a){if(Oo[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Mo(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tr=null;function Un(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Wr=null,Gr=null,At=null;function Vo(o){if(o=tu(o)){if(typeof Wr!="function")throw Error(t(280));var a=o.stateNode;a&&(a=oh(a),Wr(o.stateNode,o.type,a))}}function qe(o){Gr?At?At.push(o):At=[o]:Gr=o}function St(){if(Gr){var o=Gr,a=At;if(At=Gr=null,Vo(o),a)for(o=0;o<a.length;o++)Vo(a[o])}}function Ht(o,a){return o(a)}function fn(){}var zn=!1;function $t(o,a,c){if(zn)return o(a,c);zn=!0;try{return Ht(o,a,c)}finally{zn=!1,(Gr!==null||At!==null)&&(fn(),St())}}function Yt(o,a){var c=o.stateNode;if(c===null)return null;var f=oh(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var lr=!1;if(u)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{lr=!1}function An(o,a,c,f,y,_,T,j,$){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(le){this.onError(le)}}var Cr=!1,pn=null,Mi=!1,Ar=null,Ld={onError:function(o){Cr=!0,pn=o}};function jd(o,a,c,f,y,_,T,j,$){Cr=!1,pn=null,An.apply(Ld,arguments)}function Pc(o,a,c,f,y,_,T,j,$){if(jd.apply(this,arguments),Cr){if(Cr){var ee=pn;Cr=!1,pn=null}else throw Error(t(198));Mi||(Mi=!0,Ar=ee)}}function Kr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function Rc(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Fd(o){if(Kr(o)!==o)throw Error(t(188))}function Ud(o){var a=o.alternate;if(!a){if(a=Kr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,f=a;;){var y=c.return;if(y===null)break;var _=y.alternate;if(_===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===c)return Fd(y),o;if(_===f)return Fd(y),a;_=_.sibling}throw Error(t(188))}if(c.return!==f.return)c=y,f=_;else{for(var T=!1,j=y.child;j;){if(j===c){T=!0,c=y,f=_;break}if(j===f){T=!0,f=y,c=_;break}j=j.sibling}if(!T){for(j=_.child;j;){if(j===c){T=!0,c=_,f=y;break}if(j===f){T=!0,f=_,c=y;break}j=j.sibling}if(!T)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function zd(o){return o=Ud(o),o!==null?Vi(o):null}function Vi(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Vi(o);if(a!==null)return a;o=o.sibling}return null}var kc=e.unstable_scheduleCallback,Za=e.unstable_cancelCallback,Li=e.unstable_shouldYield,Qs=e.unstable_requestPaint,Pt=e.unstable_now,bm=e.unstable_getCurrentPriorityLevel,Qa=e.unstable_ImmediatePriority,Nc=e.unstable_UserBlockingPriority,ji=e.unstable_NormalPriority,Dc=e.unstable_LowPriority,Ya=e.unstable_IdlePriority,Fi=null,cr=null;function $d(o){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Fi,o,void 0,(o.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Ui,ps=Math.log,Pr=Math.LN2;function Ui(o){return o>>>=0,o===0?32:31-(ps(o)/Pr|0)|0}var ms=64,Lo=4194304;function mt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ys(o,a){var c=o.pendingLanes;if(c===0)return 0;var f=0,y=o.suspendedLanes,_=o.pingedLanes,T=c&268435455;if(T!==0){var j=T&~y;j!==0?f=mt(j):(_&=T,_!==0&&(f=mt(_)))}else T=c&~y,T!==0?f=mt(T):_!==0&&(f=mt(_));if(f===0)return 0;if(a!==0&&a!==f&&(a&y)===0&&(y=f&-f,_=a&-a,y>=_||y===16&&(_&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=f;0<a;)c=31-ur(a),y=1<<c,f|=o[c],a&=~y;return f}function zi(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(o,a){for(var c=o.suspendedLanes,f=o.pingedLanes,y=o.expirationTimes,_=o.pendingLanes;0<_;){var T=31-ur(_),j=1<<T,$=y[T];$===-1?((j&c)===0||(j&f)!==0)&&(y[T]=zi(j,a)):$<=a&&(o.expiredLanes|=j),_&=~j}}function Oc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Mc(){var o=ms;return ms<<=1,(ms&4194240)===0&&(ms=64),o}function Vc(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Bi(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-ur(a),o[a]=c}function xm(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-ur(c),_=1<<y;a[y]=0,f[y]=-1,o[y]=-1,c&=~_}}function Lc(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var f=31-ur(c),y=1<<f;y&a|o[f]&a&&(o[f]|=a),c&=~y}}var lt=0;function gs(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var jc,Xa,Fc,Uc,zc,ys=!1,Ja=[],vs=null,_s=null,wn=null,qi=new Map,Xs=new Map,dr=[],Bd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jo(o,a){switch(o){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":qi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(a.pointerId)}}function Zr(o,a,c,f,y,_){return o===null||o.nativeEvent!==_?(o={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:_,targetContainers:[y]},a!==null&&(a=tu(a),a!==null&&Xa(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function qd(o,a,c,f,y){switch(a){case"focusin":return vs=Zr(vs,o,a,c,f,y),!0;case"dragenter":return _s=Zr(_s,o,a,c,f,y),!0;case"mouseover":return wn=Zr(wn,o,a,c,f,y),!0;case"pointerover":var _=y.pointerId;return qi.set(_,Zr(qi.get(_)||null,o,a,c,f,y)),!0;case"gotpointercapture":return _=y.pointerId,Xs.set(_,Zr(Xs.get(_)||null,o,a,c,f,y)),!0}return!1}function el(o){var a=Ki(o.target);if(a!==null){var c=Kr(a);if(c!==null){if(a=c.tag,a===13){if(a=Rc(c),a!==null){o.blockedOn=a,zc(o.priority,function(){Fc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function It(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=tl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var f=new c.constructor(c.type,c);Tr=f,c.target.dispatchEvent(f),Tr=null}else return a=tu(c),a!==null&&Xa(a),o.blockedOn=c,!1;a.shift()}return!0}function Hd(o,a,c){It(o)&&c.delete(a)}function Sm(){ys=!1,vs!==null&&It(vs)&&(vs=null),_s!==null&&It(_s)&&(_s=null),wn!==null&&It(wn)&&(wn=null),qi.forEach(Hd),Xs.forEach(Hd)}function Fo(o,a){o.blockedOn===a&&(o.blockedOn=null,ys||(ys=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sm)))}function Uo(o){function a(y){return Fo(y,o)}if(0<Ja.length){Fo(Ja[0],o);for(var c=1;c<Ja.length;c++){var f=Ja[c];f.blockedOn===o&&(f.blockedOn=null)}}for(vs!==null&&Fo(vs,o),_s!==null&&Fo(_s,o),wn!==null&&Fo(wn,o),qi.forEach(a),Xs.forEach(a),c=0;c<dr.length;c++)f=dr[c],f.blockedOn===o&&(f.blockedOn=null);for(;0<dr.length&&(c=dr[0],c.blockedOn===null);)el(c),c.blockedOn===null&&dr.shift()}var Js=q.ReactCurrentBatchConfig,eo=!0;function ws(o,a,c,f){var y=lt,_=Js.transition;Js.transition=null;try{lt=1,$c(o,a,c,f)}finally{lt=y,Js.transition=_}}function Wd(o,a,c,f){var y=lt,_=Js.transition;Js.transition=null;try{lt=4,$c(o,a,c,f)}finally{lt=y,Js.transition=_}}function $c(o,a,c,f){if(eo){var y=tl(o,a,c,f);if(y===null)Mm(o,a,f,Es,c),jo(o,f);else if(qd(y,o,a,c,f))f.stopPropagation();else if(jo(o,f),a&4&&-1<Bd.indexOf(o)){for(;y!==null;){var _=tu(y);if(_!==null&&jc(_),_=tl(o,a,c,f),_===null&&Mm(o,a,f,Es,c),_===y)break;y=_}y!==null&&f.stopPropagation()}else Mm(o,a,f,null,c)}}var Es=null;function tl(o,a,c,f){if(Es=null,o=Un(f),o=Ki(o),o!==null)if(a=Kr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=Rc(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return Es=o,null}function nl(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bm()){case Qa:return 1;case Nc:return 4;case ji:case Dc:return 16;case Ya:return 536870912;default:return 16}default:return 16}}var hr=null,rl=null,to=null;function Gd(){if(to)return to;var o,a=rl,c=a.length,f,y="value"in hr?hr.value:hr.textContent,_=y.length;for(o=0;o<c&&a[o]===y[o];o++);var T=c-o;for(f=1;f<=T&&a[c-f]===y[_-f];f++);return to=y.slice(o,1<f?1-f:void 0)}function Hi(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function bs(){return!0}function Bc(){return!1}function Pn(o){function a(c,f,y,_,T){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var j in o)o.hasOwnProperty(j)&&(c=o[j],this[j]=c?c(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?bs:Bc,this.isPropagationStopped=Bc,this}return Y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),a}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=Pn(xs),zo=Y({},xs,{view:0,detail:0}),sl=Pn(zo),ol,il,fr,Gi=Y({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ye,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==fr&&(fr&&o.type==="mousemove"?(ol=o.screenX-fr.screenX,il=o.screenY-fr.screenY):il=ol=0,fr=o),ol)},movementY:function(o){return"movementY"in o?o.movementY:il}}),qc=Pn(Gi),Kd=Y({},Gi,{dataTransfer:0}),Zd=Pn(Kd),al=Y({},zo,{relatedTarget:0}),En=Pn(al),Qd=Y({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Yd=Pn(Qd),$o=Y({},xs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),d=Pn($o),w=Y({},xs,{data:0}),x=Pn(w),D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ve(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=te[o])?!!a[o]:!1}function Ye(){return ve}var Wt=Y({},zo,{key:function(o){if(o.key){var a=D[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Hi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Q[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ye,charCode:function(o){return o.type==="keypress"?Hi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Hi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),vt=Pn(Wt),Jt=Y({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=Pn(Jt),no=Y({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ye}),Ss=Pn(no),Is=Y({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ll=Pn(Is),Hc=Y({},Gi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),$k=Pn(Hc),Bk=[9,13,27,32],Im=u&&"CompositionEvent"in window,Wc=null;u&&"documentMode"in document&&(Wc=document.documentMode);var qk=u&&"TextEvent"in window&&!Wc,zw=u&&(!Im||Wc&&8<Wc&&11>=Wc),$w=" ",Bw=!1;function qw(o,a){switch(o){case"keyup":return Bk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var cl=!1;function Hk(o,a){switch(o){case"compositionend":return Hw(a);case"keypress":return a.which!==32?null:(Bw=!0,$w);case"textInput":return o=a.data,o===$w&&Bw?null:o;default:return null}}function Wk(o,a){if(cl)return o==="compositionend"||!Im&&qw(o,a)?(o=Gd(),to=rl=hr=null,cl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return zw&&a.locale!=="ko"?null:a.data;default:return null}}var Gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ww(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!Gk[o.type]:a==="textarea"}function Gw(o,a,c,f){qe(f),a=nh(a,"onChange"),0<a.length&&(c=new Wi("onChange","change",null,c,f),o.push({event:c,listeners:a}))}var Gc=null,Kc=null;function Kk(o){d0(o,0)}function Xd(o){var a=pl(o);if(xt(a))return o}function Zk(o,a){if(o==="change")return a}var Kw=!1;if(u){var Tm;if(u){var Cm="oninput"in document;if(!Cm){var Zw=document.createElement("div");Zw.setAttribute("oninput","return;"),Cm=typeof Zw.oninput=="function"}Tm=Cm}else Tm=!1;Kw=Tm&&(!document.documentMode||9<document.documentMode)}function Qw(){Gc&&(Gc.detachEvent("onpropertychange",Yw),Kc=Gc=null)}function Yw(o){if(o.propertyName==="value"&&Xd(Kc)){var a=[];Gw(a,Kc,o,Un(o)),$t(Kk,a)}}function Qk(o,a,c){o==="focusin"?(Qw(),Gc=a,Kc=c,Gc.attachEvent("onpropertychange",Yw)):o==="focusout"&&Qw()}function Yk(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Xd(Kc)}function Xk(o,a){if(o==="click")return Xd(a)}function Jk(o,a){if(o==="input"||o==="change")return Xd(a)}function eN(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Qr=typeof Object.is=="function"?Object.is:eN;function Zc(o,a){if(Qr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!h.call(a,y)||!Qr(o[y],a[y]))return!1}return!0}function Xw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Jw(o,a){var c=Xw(o);o=0;for(var f;c;){if(c.nodeType===3){if(f=o+c.textContent.length,o<=a&&f>=a)return{node:c,offset:a-o};o=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Xw(c)}}function e0(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?e0(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function t0(){for(var o=window,a=hn();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=hn(o.document)}return a}function Am(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function tN(o){var a=t0(),c=o.focusedElem,f=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&e0(c.ownerDocument.documentElement,c)){if(f!==null&&Am(c)){if(a=f.start,o=f.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,_=Math.min(f.start,y);f=f.end===void 0?_:Math.min(f.end,y),!o.extend&&_>f&&(y=f,f=_,_=y),y=Jw(c,_);var T=Jw(c,f);y&&T&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==T.node||o.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),_>f?(o.addRange(a),o.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var nN=u&&"documentMode"in document&&11>=document.documentMode,ul=null,Pm=null,Qc=null,Rm=!1;function n0(o,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Rm||ul==null||ul!==hn(f)||(f=ul,"selectionStart"in f&&Am(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Qc&&Zc(Qc,f)||(Qc=f,f=nh(Pm,"onSelect"),0<f.length&&(a=new Wi("onSelect","select",null,a,c),o.push({event:a,listeners:f}),a.target=ul)))}function Jd(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var dl={animationend:Jd("Animation","AnimationEnd"),animationiteration:Jd("Animation","AnimationIteration"),animationstart:Jd("Animation","AnimationStart"),transitionend:Jd("Transition","TransitionEnd")},km={},r0={};u&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function eh(o){if(km[o])return km[o];if(!dl[o])return o;var a=dl[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in r0)return km[o]=a[c];return o}var s0=eh("animationend"),o0=eh("animationiteration"),i0=eh("animationstart"),a0=eh("transitionend"),l0=new Map,c0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bo(o,a){l0.set(o,a),i(a,[o])}for(var Nm=0;Nm<c0.length;Nm++){var Dm=c0[Nm],rN=Dm.toLowerCase(),sN=Dm[0].toUpperCase()+Dm.slice(1);Bo(rN,"on"+sN)}Bo(s0,"onAnimationEnd"),Bo(o0,"onAnimationIteration"),Bo(i0,"onAnimationStart"),Bo("dblclick","onDoubleClick"),Bo("focusin","onFocus"),Bo("focusout","onBlur"),Bo(a0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yc));function u0(o,a,c){var f=o.type||"unknown-event";o.currentTarget=c,Pc(f,a,void 0,o),o.currentTarget=null}function d0(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var f=o[c],y=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var T=f.length-1;0<=T;T--){var j=f[T],$=j.instance,ee=j.currentTarget;if(j=j.listener,$!==_&&y.isPropagationStopped())break e;u0(y,j,ee),_=$}else for(T=0;T<f.length;T++){if(j=f[T],$=j.instance,ee=j.currentTarget,j=j.listener,$!==_&&y.isPropagationStopped())break e;u0(y,j,ee),_=$}}}if(Mi)throw o=Ar,Mi=!1,Ar=null,o}function Rt(o,a){var c=a[zm];c===void 0&&(c=a[zm]=new Set);var f=o+"__bubble";c.has(f)||(h0(a,o,2,!1),c.add(f))}function Om(o,a,c){var f=0;a&&(f|=4),h0(c,o,f,a)}var th="_reactListening"+Math.random().toString(36).slice(2);function Xc(o){if(!o[th]){o[th]=!0,r.forEach(function(c){c!=="selectionchange"&&(oN.has(c)||Om(c,!1,o),Om(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[th]||(a[th]=!0,Om("selectionchange",!1,a))}}function h0(o,a,c,f){switch(nl(a)){case 1:var y=ws;break;case 4:y=Wd;break;default:y=$c}c=y.bind(null,a,c,o),y=void 0,!lr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function Mm(o,a,c,f,y){var _=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var j=f.stateNode.containerInfo;if(j===y||j.nodeType===8&&j.parentNode===y)break;if(T===4)for(T=f.return;T!==null;){var $=T.tag;if(($===3||$===4)&&($=T.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;T=T.return}for(;j!==null;){if(T=Ki(j),T===null)return;if($=T.tag,$===5||$===6){f=_=T;continue e}j=j.parentNode}}f=f.return}$t(function(){var ee=_,le=Un(c),ue=[];e:{var ae=l0.get(o);if(ae!==void 0){var Ce=Wi,Re=o;switch(o){case"keypress":if(Hi(c)===0)break e;case"keydown":case"keyup":Ce=vt;break;case"focusin":Re="focus",Ce=En;break;case"focusout":Re="blur",Ce=En;break;case"beforeblur":case"afterblur":Ce=En;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Zd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Ss;break;case s0:case o0:case i0:Ce=Yd;break;case a0:Ce=ll;break;case"scroll":Ce=sl;break;case"wheel":Ce=$k;break;case"copy":case"cut":case"paste":Ce=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=pr}var Oe=(a&4)!==0,Gt=!Oe&&o==="scroll",Z=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var B=ee,X;B!==null;){X=B;var ge=X.stateNode;if(X.tag===5&&ge!==null&&(X=ge,Z!==null&&(ge=Yt(B,Z),ge!=null&&Oe.push(Jc(B,ge,X)))),Gt)break;B=B.return}0<Oe.length&&(ae=new Ce(ae,Re,null,c,le),ue.push({event:ae,listeners:Oe}))}}if((a&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",Ce=o==="mouseout"||o==="pointerout",ae&&c!==Tr&&(Re=c.relatedTarget||c.fromElement)&&(Ki(Re)||Re[ro]))break e;if((Ce||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,Ce?(Re=c.relatedTarget||c.toElement,Ce=ee,Re=Re?Ki(Re):null,Re!==null&&(Gt=Kr(Re),Re!==Gt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Ce=null,Re=ee),Ce!==Re)){if(Oe=qc,ge="onMouseLeave",Z="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=pr,ge="onPointerLeave",Z="onPointerEnter",B="pointer"),Gt=Ce==null?ae:pl(Ce),X=Re==null?ae:pl(Re),ae=new Oe(ge,B+"leave",Ce,c,le),ae.target=Gt,ae.relatedTarget=X,ge=null,Ki(le)===ee&&(Oe=new Oe(Z,B+"enter",Re,c,le),Oe.target=X,Oe.relatedTarget=Gt,ge=Oe),Gt=ge,Ce&&Re)t:{for(Oe=Ce,Z=Re,B=0,X=Oe;X;X=hl(X))B++;for(X=0,ge=Z;ge;ge=hl(ge))X++;for(;0<B-X;)Oe=hl(Oe),B--;for(;0<X-B;)Z=hl(Z),X--;for(;B--;){if(Oe===Z||Z!==null&&Oe===Z.alternate)break t;Oe=hl(Oe),Z=hl(Z)}Oe=null}else Oe=null;Ce!==null&&f0(ue,ae,Ce,Oe,!1),Re!==null&&Gt!==null&&f0(ue,Gt,Re,Oe,!0)}}e:{if(ae=ee?pl(ee):window,Ce=ae.nodeName&&ae.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ae.type==="file")var Me=Zk;else if(Ww(ae))if(Kw)Me=Jk;else{Me=Yk;var ze=Qk}else(Ce=ae.nodeName)&&Ce.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Me=Xk);if(Me&&(Me=Me(o,ee))){Gw(ue,Me,c,le);break e}ze&&ze(o,ae,ee),o==="focusout"&&(ze=ae._wrapperState)&&ze.controlled&&ae.type==="number"&&gt(ae,"number",ae.value)}switch(ze=ee?pl(ee):window,o){case"focusin":(Ww(ze)||ze.contentEditable==="true")&&(ul=ze,Pm=ee,Qc=null);break;case"focusout":Qc=Pm=ul=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,n0(ue,c,le);break;case"selectionchange":if(nN)break;case"keydown":case"keyup":n0(ue,c,le)}var $e;if(Im)e:{switch(o){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else cl?qw(o,c)&&(He="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(zw&&c.locale!=="ko"&&(cl||He!=="onCompositionStart"?He==="onCompositionEnd"&&cl&&($e=Gd()):(hr=le,rl="value"in hr?hr.value:hr.textContent,cl=!0)),ze=nh(ee,He),0<ze.length&&(He=new x(He,o,null,c,le),ue.push({event:He,listeners:ze}),$e?He.data=$e:($e=Hw(c),$e!==null&&(He.data=$e)))),($e=qk?Hk(o,c):Wk(o,c))&&(ee=nh(ee,"onBeforeInput"),0<ee.length&&(le=new x("onBeforeInput","beforeinput",null,c,le),ue.push({event:le,listeners:ee}),le.data=$e))}d0(ue,a)})}function Jc(o,a,c){return{instance:o,listener:a,currentTarget:c}}function nh(o,a){for(var c=a+"Capture",f=[];o!==null;){var y=o,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=Yt(o,c),_!=null&&f.unshift(Jc(o,_,y)),_=Yt(o,a),_!=null&&f.push(Jc(o,_,y))),o=o.return}return f}function hl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function f0(o,a,c,f,y){for(var _=a._reactName,T=[];c!==null&&c!==f;){var j=c,$=j.alternate,ee=j.stateNode;if($!==null&&$===f)break;j.tag===5&&ee!==null&&(j=ee,y?($=Yt(c,_),$!=null&&T.unshift(Jc(c,$,j))):y||($=Yt(c,_),$!=null&&T.push(Jc(c,$,j)))),c=c.return}T.length!==0&&o.push({event:a,listeners:T})}var iN=/\r\n?/g,aN=/\u0000|\uFFFD/g;function p0(o){return(typeof o=="string"?o:""+o).replace(iN,`
`).replace(aN,"")}function rh(o,a,c){if(a=p0(a),p0(o)!==a&&c)throw Error(t(425))}function sh(){}var Vm=null,Lm=null;function jm(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,lN=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,cN=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(o){return m0.resolve(null).then(o).catch(uN)}:Fm;function uN(o){setTimeout(function(){throw o})}function Um(o,a){var c=a,f=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(f===0){o.removeChild(y),Uo(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=y}while(c);Uo(a)}function qo(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function g0(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var fl=Math.random().toString(36).slice(2),Ts="__reactFiber$"+fl,eu="__reactProps$"+fl,ro="__reactContainer$"+fl,zm="__reactEvents$"+fl,dN="__reactListeners$"+fl,hN="__reactHandles$"+fl;function Ki(o){var a=o[Ts];if(a)return a;for(var c=o.parentNode;c;){if(a=c[ro]||c[Ts]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=g0(o);o!==null;){if(c=o[Ts])return c;o=g0(o)}return a}o=c,c=o.parentNode}return null}function tu(o){return o=o[Ts]||o[ro],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function pl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function oh(o){return o[eu]||null}var $m=[],ml=-1;function Ho(o){return{current:o}}function kt(o){0>ml||(o.current=$m[ml],$m[ml]=null,ml--)}function Tt(o,a){ml++,$m[ml]=o.current,o.current=a}var Wo={},Rn=Ho(Wo),Yn=Ho(!1),Zi=Wo;function gl(o,a){var c=o.type.contextTypes;if(!c)return Wo;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in c)y[_]=a[_];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Xn(o){return o=o.childContextTypes,o!=null}function ih(){kt(Yn),kt(Rn)}function y0(o,a,c){if(Rn.current!==Wo)throw Error(t(168));Tt(Rn,a),Tt(Yn,c)}function v0(o,a,c){var f=o.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var y in f)if(!(y in a))throw Error(t(108,we(o)||"Unknown",y));return Y({},c,f)}function ah(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Wo,Zi=Rn.current,Tt(Rn,o),Tt(Yn,Yn.current),!0}function _0(o,a,c){var f=o.stateNode;if(!f)throw Error(t(169));c?(o=v0(o,a,Zi),f.__reactInternalMemoizedMergedChildContext=o,kt(Yn),kt(Rn),Tt(Rn,o)):kt(Yn),Tt(Yn,c)}var so=null,lh=!1,Bm=!1;function w0(o){so===null?so=[o]:so.push(o)}function fN(o){lh=!0,w0(o)}function Go(){if(!Bm&&so!==null){Bm=!0;var o=0,a=lt;try{var c=so;for(lt=1;o<c.length;o++){var f=c[o];do f=f(!0);while(f!==null)}so=null,lh=!1}catch(y){throw so!==null&&(so=so.slice(o+1)),kc(Qa,Go),y}finally{lt=a,Bm=!1}}return null}var yl=[],vl=0,ch=null,uh=0,Rr=[],kr=0,Qi=null,oo=1,io="";function Yi(o,a){yl[vl++]=uh,yl[vl++]=ch,ch=o,uh=a}function E0(o,a,c){Rr[kr++]=oo,Rr[kr++]=io,Rr[kr++]=Qi,Qi=o;var f=oo;o=io;var y=32-ur(f)-1;f&=~(1<<y),c+=1;var _=32-ur(a)+y;if(30<_){var T=y-y%5;_=(f&(1<<T)-1).toString(32),f>>=T,y-=T,oo=1<<32-ur(a)+y|c<<y|f,io=_+o}else oo=1<<_|c<<y|f,io=o}function qm(o){o.return!==null&&(Yi(o,1),E0(o,1,0))}function Hm(o){for(;o===ch;)ch=yl[--vl],yl[vl]=null,uh=yl[--vl],yl[vl]=null;for(;o===Qi;)Qi=Rr[--kr],Rr[kr]=null,io=Rr[--kr],Rr[kr]=null,oo=Rr[--kr],Rr[kr]=null}var mr=null,gr=null,Nt=!1,Yr=null;function b0(o,a){var c=Mr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function x0(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,mr=o,gr=qo(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,mr=o,gr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Qi!==null?{id:oo,overflow:io}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Mr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,mr=o,gr=null,!0):!1;default:return!1}}function Wm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Gm(o){if(Nt){var a=gr;if(a){var c=a;if(!x0(o,a)){if(Wm(o))throw Error(t(418));a=qo(c.nextSibling);var f=mr;a&&x0(o,a)?b0(f,c):(o.flags=o.flags&-4097|2,Nt=!1,mr=o)}}else{if(Wm(o))throw Error(t(418));o.flags=o.flags&-4097|2,Nt=!1,mr=o}}}function S0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;mr=o}function dh(o){if(o!==mr)return!1;if(!Nt)return S0(o),Nt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!jm(o.type,o.memoizedProps)),a&&(a=gr)){if(Wm(o))throw I0(),Error(t(418));for(;a;)b0(o,a),a=qo(a.nextSibling)}if(S0(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){gr=qo(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}gr=null}}else gr=mr?qo(o.stateNode.nextSibling):null;return!0}function I0(){for(var o=gr;o;)o=qo(o.nextSibling)}function _l(){gr=mr=null,Nt=!1}function Km(o){Yr===null?Yr=[o]:Yr.push(o)}var pN=q.ReactCurrentBatchConfig;function nu(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,o));var y=f,_=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(T){var j=y.refs;T===null?delete j[_]:j[_]=T},a._stringRef=_,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function hh(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function T0(o){var a=o._init;return a(o._payload)}function C0(o){function a(Z,B){if(o){var X=Z.deletions;X===null?(Z.deletions=[B],Z.flags|=16):X.push(B)}}function c(Z,B){if(!o)return null;for(;B!==null;)a(Z,B),B=B.sibling;return null}function f(Z,B){for(Z=new Map;B!==null;)B.key!==null?Z.set(B.key,B):Z.set(B.index,B),B=B.sibling;return Z}function y(Z,B){return Z=ti(Z,B),Z.index=0,Z.sibling=null,Z}function _(Z,B,X){return Z.index=X,o?(X=Z.alternate,X!==null?(X=X.index,X<B?(Z.flags|=2,B):X):(Z.flags|=2,B)):(Z.flags|=1048576,B)}function T(Z){return o&&Z.alternate===null&&(Z.flags|=2),Z}function j(Z,B,X,ge){return B===null||B.tag!==6?(B=Fg(X,Z.mode,ge),B.return=Z,B):(B=y(B,X),B.return=Z,B)}function $(Z,B,X,ge){var Me=X.type;return Me===P?le(Z,B,X.props.children,ge,X.key):B!==null&&(B.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===pe&&T0(Me)===B.type)?(ge=y(B,X.props),ge.ref=nu(Z,B,X),ge.return=Z,ge):(ge=Vh(X.type,X.key,X.props,null,Z.mode,ge),ge.ref=nu(Z,B,X),ge.return=Z,ge)}function ee(Z,B,X,ge){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=Ug(X,Z.mode,ge),B.return=Z,B):(B=y(B,X.children||[]),B.return=Z,B)}function le(Z,B,X,ge,Me){return B===null||B.tag!==7?(B=oa(X,Z.mode,ge,Me),B.return=Z,B):(B=y(B,X),B.return=Z,B)}function ue(Z,B,X){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Fg(""+B,Z.mode,X),B.return=Z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case W:return X=Vh(B.type,B.key,B.props,null,Z.mode,X),X.ref=nu(Z,null,B),X.return=Z,X;case J:return B=Ug(B,Z.mode,X),B.return=Z,B;case pe:var ge=B._init;return ue(Z,ge(B._payload),X)}if(Vt(B)||ne(B))return B=oa(B,Z.mode,X,null),B.return=Z,B;hh(Z,B)}return null}function ae(Z,B,X,ge){var Me=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Me!==null?null:j(Z,B,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case W:return X.key===Me?$(Z,B,X,ge):null;case J:return X.key===Me?ee(Z,B,X,ge):null;case pe:return Me=X._init,ae(Z,B,Me(X._payload),ge)}if(Vt(X)||ne(X))return Me!==null?null:le(Z,B,X,ge,null);hh(Z,X)}return null}function Ce(Z,B,X,ge,Me){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Z=Z.get(X)||null,j(B,Z,""+ge,Me);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case W:return Z=Z.get(ge.key===null?X:ge.key)||null,$(B,Z,ge,Me);case J:return Z=Z.get(ge.key===null?X:ge.key)||null,ee(B,Z,ge,Me);case pe:var ze=ge._init;return Ce(Z,B,X,ze(ge._payload),Me)}if(Vt(ge)||ne(ge))return Z=Z.get(X)||null,le(B,Z,ge,Me,null);hh(B,ge)}return null}function Re(Z,B,X,ge){for(var Me=null,ze=null,$e=B,He=B=0,yn=null;$e!==null&&He<X.length;He++){$e.index>He?(yn=$e,$e=null):yn=$e.sibling;var pt=ae(Z,$e,X[He],ge);if(pt===null){$e===null&&($e=yn);break}o&&$e&&pt.alternate===null&&a(Z,$e),B=_(pt,B,He),ze===null?Me=pt:ze.sibling=pt,ze=pt,$e=yn}if(He===X.length)return c(Z,$e),Nt&&Yi(Z,He),Me;if($e===null){for(;He<X.length;He++)$e=ue(Z,X[He],ge),$e!==null&&(B=_($e,B,He),ze===null?Me=$e:ze.sibling=$e,ze=$e);return Nt&&Yi(Z,He),Me}for($e=f(Z,$e);He<X.length;He++)yn=Ce($e,Z,He,X[He],ge),yn!==null&&(o&&yn.alternate!==null&&$e.delete(yn.key===null?He:yn.key),B=_(yn,B,He),ze===null?Me=yn:ze.sibling=yn,ze=yn);return o&&$e.forEach(function(ni){return a(Z,ni)}),Nt&&Yi(Z,He),Me}function Oe(Z,B,X,ge){var Me=ne(X);if(typeof Me!="function")throw Error(t(150));if(X=Me.call(X),X==null)throw Error(t(151));for(var ze=Me=null,$e=B,He=B=0,yn=null,pt=X.next();$e!==null&&!pt.done;He++,pt=X.next()){$e.index>He?(yn=$e,$e=null):yn=$e.sibling;var ni=ae(Z,$e,pt.value,ge);if(ni===null){$e===null&&($e=yn);break}o&&$e&&ni.alternate===null&&a(Z,$e),B=_(ni,B,He),ze===null?Me=ni:ze.sibling=ni,ze=ni,$e=yn}if(pt.done)return c(Z,$e),Nt&&Yi(Z,He),Me;if($e===null){for(;!pt.done;He++,pt=X.next())pt=ue(Z,pt.value,ge),pt!==null&&(B=_(pt,B,He),ze===null?Me=pt:ze.sibling=pt,ze=pt);return Nt&&Yi(Z,He),Me}for($e=f(Z,$e);!pt.done;He++,pt=X.next())pt=Ce($e,Z,He,pt.value,ge),pt!==null&&(o&&pt.alternate!==null&&$e.delete(pt.key===null?He:pt.key),B=_(pt,B,He),ze===null?Me=pt:ze.sibling=pt,ze=pt);return o&&$e.forEach(function(GN){return a(Z,GN)}),Nt&&Yi(Z,He),Me}function Gt(Z,B,X,ge){if(typeof X=="object"&&X!==null&&X.type===P&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case W:e:{for(var Me=X.key,ze=B;ze!==null;){if(ze.key===Me){if(Me=X.type,Me===P){if(ze.tag===7){c(Z,ze.sibling),B=y(ze,X.props.children),B.return=Z,Z=B;break e}}else if(ze.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===pe&&T0(Me)===ze.type){c(Z,ze.sibling),B=y(ze,X.props),B.ref=nu(Z,ze,X),B.return=Z,Z=B;break e}c(Z,ze);break}else a(Z,ze);ze=ze.sibling}X.type===P?(B=oa(X.props.children,Z.mode,ge,X.key),B.return=Z,Z=B):(ge=Vh(X.type,X.key,X.props,null,Z.mode,ge),ge.ref=nu(Z,B,X),ge.return=Z,Z=ge)}return T(Z);case J:e:{for(ze=X.key;B!==null;){if(B.key===ze)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){c(Z,B.sibling),B=y(B,X.children||[]),B.return=Z,Z=B;break e}else{c(Z,B);break}else a(Z,B);B=B.sibling}B=Ug(X,Z.mode,ge),B.return=Z,Z=B}return T(Z);case pe:return ze=X._init,Gt(Z,B,ze(X._payload),ge)}if(Vt(X))return Re(Z,B,X,ge);if(ne(X))return Oe(Z,B,X,ge);hh(Z,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,B!==null&&B.tag===6?(c(Z,B.sibling),B=y(B,X),B.return=Z,Z=B):(c(Z,B),B=Fg(X,Z.mode,ge),B.return=Z,Z=B),T(Z)):c(Z,B)}return Gt}var wl=C0(!0),A0=C0(!1),fh=Ho(null),ph=null,El=null,Zm=null;function Qm(){Zm=El=ph=null}function Ym(o){var a=fh.current;kt(fh),o._currentValue=a}function Xm(o,a,c){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===c)break;o=o.return}}function bl(o,a){ph=o,Zm=El=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Jn=!0),o.firstContext=null)}function Nr(o){var a=o._currentValue;if(Zm!==o)if(o={context:o,memoizedValue:a,next:null},El===null){if(ph===null)throw Error(t(308));El=o,ph.dependencies={lanes:0,firstContext:o}}else El=El.next=o;return a}var Xi=null;function Jm(o){Xi===null?Xi=[o]:Xi.push(o)}function P0(o,a,c,f){var y=a.interleaved;return y===null?(c.next=c,Jm(a)):(c.next=y.next,y.next=c),a.interleaved=c,ao(o,f)}function ao(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Ko=!1;function eg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R0(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function lo(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Zo(o,a,c){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(ft&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,ao(o,c)}return y=f.interleaved,y===null?(a.next=a,Jm(f)):(a.next=y.next,y.next=a),f.interleaved=a,ao(o,c)}function mh(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Lc(o,c)}}function k0(o,a){var c=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?y=_=T:_=_.next=T,c=c.next}while(c!==null);_===null?y=_=a:_=_.next=a}else y=_=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:f.shared,effects:f.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function gh(o,a,c,f){var y=o.updateQueue;Ko=!1;var _=y.firstBaseUpdate,T=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var $=j,ee=$.next;$.next=null,T===null?_=ee:T.next=ee,T=$;var le=o.alternate;le!==null&&(le=le.updateQueue,j=le.lastBaseUpdate,j!==T&&(j===null?le.firstBaseUpdate=ee:j.next=ee,le.lastBaseUpdate=$))}if(_!==null){var ue=y.baseState;T=0,le=ee=$=null,j=_;do{var ae=j.lane,Ce=j.eventTime;if((f&ae)===ae){le!==null&&(le=le.next={eventTime:Ce,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Re=o,Oe=j;switch(ae=a,Ce=c,Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){ue=Re.call(Ce,ue,ae);break e}ue=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,ae=typeof Re=="function"?Re.call(Ce,ue,ae):Re,ae==null)break e;ue=Y({},ue,ae);break e;case 2:Ko=!0}}j.callback!==null&&j.lane!==0&&(o.flags|=64,ae=y.effects,ae===null?y.effects=[j]:ae.push(j))}else Ce={eventTime:Ce,lane:ae,tag:j.tag,payload:j.payload,callback:j.callback,next:null},le===null?(ee=le=Ce,$=ue):le=le.next=Ce,T|=ae;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;ae=j,j=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);if(le===null&&($=ue),y.baseState=$,y.firstBaseUpdate=ee,y.lastBaseUpdate=le,a=y.shared.interleaved,a!==null){y=a;do T|=y.lane,y=y.next;while(y!==a)}else _===null&&(y.shared.lanes=0);ta|=T,o.lanes=T,o.memoizedState=ue}}function N0(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var f=o[a],y=f.callback;if(y!==null){if(f.callback=null,f=c,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var ru={},Cs=Ho(ru),su=Ho(ru),ou=Ho(ru);function Ji(o){if(o===ru)throw Error(t(174));return o}function tg(o,a){switch(Tt(ou,a),Tt(su,o),Tt(Cs,ru),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ko(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=ko(a,o)}kt(Cs),Tt(Cs,a)}function xl(){kt(Cs),kt(su),kt(ou)}function D0(o){Ji(ou.current);var a=Ji(Cs.current),c=ko(a,o.type);a!==c&&(Tt(su,o),Tt(Cs,c))}function ng(o){su.current===o&&(kt(Cs),kt(su))}var Lt=Ho(0);function yh(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var rg=[];function sg(){for(var o=0;o<rg.length;o++)rg[o]._workInProgressVersionPrimary=null;rg.length=0}var vh=q.ReactCurrentDispatcher,og=q.ReactCurrentBatchConfig,ea=0,jt=null,an=null,mn=null,_h=!1,iu=!1,au=0,mN=0;function kn(){throw Error(t(321))}function ig(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!Qr(o[c],a[c]))return!1;return!0}function ag(o,a,c,f,y,_){if(ea=_,jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,vh.current=o===null||o.memoizedState===null?_N:wN,o=c(f,y),iu){_=0;do{if(iu=!1,au=0,25<=_)throw Error(t(301));_+=1,mn=an=null,a.updateQueue=null,vh.current=EN,o=c(f,y)}while(iu)}if(vh.current=bh,a=an!==null&&an.next!==null,ea=0,mn=an=jt=null,_h=!1,a)throw Error(t(300));return o}function lg(){var o=au!==0;return au=0,o}function As(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?jt.memoizedState=mn=o:mn=mn.next=o,mn}function Dr(){if(an===null){var o=jt.alternate;o=o!==null?o.memoizedState:null}else o=an.next;var a=mn===null?jt.memoizedState:mn.next;if(a!==null)mn=a,an=o;else{if(o===null)throw Error(t(310));an=o,o={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},mn===null?jt.memoizedState=mn=o:mn=mn.next=o}return mn}function lu(o,a){return typeof a=="function"?a(o):a}function cg(o){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=an,y=f.baseQueue,_=c.pending;if(_!==null){if(y!==null){var T=y.next;y.next=_.next,_.next=T}f.baseQueue=y=_,c.pending=null}if(y!==null){_=y.next,f=f.baseState;var j=T=null,$=null,ee=_;do{var le=ee.lane;if((ea&le)===le)$!==null&&($=$.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),f=ee.hasEagerState?ee.eagerState:o(f,ee.action);else{var ue={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};$===null?(j=$=ue,T=f):$=$.next=ue,jt.lanes|=le,ta|=le}ee=ee.next}while(ee!==null&&ee!==_);$===null?T=f:$.next=j,Qr(f,a.memoizedState)||(Jn=!0),a.memoizedState=f,a.baseState=T,a.baseQueue=$,c.lastRenderedState=f}if(o=c.interleaved,o!==null){y=o;do _=y.lane,jt.lanes|=_,ta|=_,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function ug(o){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=c.dispatch,y=c.pending,_=a.memoizedState;if(y!==null){c.pending=null;var T=y=y.next;do _=o(_,T.action),T=T.next;while(T!==y);Qr(_,a.memoizedState)||(Jn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,f]}function O0(){}function M0(o,a){var c=jt,f=Dr(),y=a(),_=!Qr(f.memoizedState,y);if(_&&(f.memoizedState=y,Jn=!0),f=f.queue,dg(j0.bind(null,c,f,o),[o]),f.getSnapshot!==a||_||mn!==null&&mn.memoizedState.tag&1){if(c.flags|=2048,cu(9,L0.bind(null,c,f,y,a),void 0,null),gn===null)throw Error(t(349));(ea&30)!==0||V0(c,a,y)}return y}function V0(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function L0(o,a,c,f){a.value=c,a.getSnapshot=f,F0(a)&&U0(o)}function j0(o,a,c){return c(function(){F0(a)&&U0(o)})}function F0(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!Qr(o,c)}catch{return!0}}function U0(o){var a=ao(o,1);a!==null&&ts(a,o,1,-1)}function z0(o){var a=As();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:o},a.queue=o,o=o.dispatch=vN.bind(null,jt,o),[a.memoizedState,o]}function cu(o,a,c,f){return o={tag:o,create:a,destroy:c,deps:f,next:null},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(f=c.next,c.next=o,o.next=f,a.lastEffect=o)),o}function $0(){return Dr().memoizedState}function wh(o,a,c,f){var y=As();jt.flags|=o,y.memoizedState=cu(1|a,c,void 0,f===void 0?null:f)}function Eh(o,a,c,f){var y=Dr();f=f===void 0?null:f;var _=void 0;if(an!==null){var T=an.memoizedState;if(_=T.destroy,f!==null&&ig(f,T.deps)){y.memoizedState=cu(a,c,_,f);return}}jt.flags|=o,y.memoizedState=cu(1|a,c,_,f)}function B0(o,a){return wh(8390656,8,o,a)}function dg(o,a){return Eh(2048,8,o,a)}function q0(o,a){return Eh(4,2,o,a)}function H0(o,a){return Eh(4,4,o,a)}function W0(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function G0(o,a,c){return c=c!=null?c.concat([o]):null,Eh(4,4,W0.bind(null,a,o),c)}function hg(){}function K0(o,a){var c=Dr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&ig(a,f[1])?f[0]:(c.memoizedState=[o,a],o)}function Z0(o,a){var c=Dr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&ig(a,f[1])?f[0]:(o=o(),c.memoizedState=[o,a],o)}function Q0(o,a,c){return(ea&21)===0?(o.baseState&&(o.baseState=!1,Jn=!0),o.memoizedState=c):(Qr(c,a)||(c=Mc(),jt.lanes|=c,ta|=c,o.baseState=!0),a)}function gN(o,a){var c=lt;lt=c!==0&&4>c?c:4,o(!0);var f=og.transition;og.transition={};try{o(!1),a()}finally{lt=c,og.transition=f}}function Y0(){return Dr().memoizedState}function yN(o,a,c){var f=Jo(o);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},X0(o))J0(a,c);else if(c=P0(o,a,c,f),c!==null){var y=Bn();ts(c,o,f,y),eE(c,a,f)}}function vN(o,a,c){var f=Jo(o),y={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(X0(o))J0(a,y);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var T=a.lastRenderedState,j=_(T,c);if(y.hasEagerState=!0,y.eagerState=j,Qr(j,T)){var $=a.interleaved;$===null?(y.next=y,Jm(a)):(y.next=$.next,$.next=y),a.interleaved=y;return}}catch{}finally{}c=P0(o,a,y,f),c!==null&&(y=Bn(),ts(c,o,f,y),eE(c,a,f))}}function X0(o){var a=o.alternate;return o===jt||a!==null&&a===jt}function J0(o,a){iu=_h=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function eE(o,a,c){if((c&4194240)!==0){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Lc(o,c)}}var bh={readContext:Nr,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},_N={readContext:Nr,useCallback:function(o,a){return As().memoizedState=[o,a===void 0?null:a],o},useContext:Nr,useEffect:B0,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,wh(4194308,4,W0.bind(null,a,o),c)},useLayoutEffect:function(o,a){return wh(4194308,4,o,a)},useInsertionEffect:function(o,a){return wh(4,2,o,a)},useMemo:function(o,a){var c=As();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var f=As();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},f.queue=o,o=o.dispatch=yN.bind(null,jt,o),[f.memoizedState,o]},useRef:function(o){var a=As();return o={current:o},a.memoizedState=o},useState:z0,useDebugValue:hg,useDeferredValue:function(o){return As().memoizedState=o},useTransition:function(){var o=z0(!1),a=o[0];return o=gN.bind(null,o[1]),As().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var f=jt,y=As();if(Nt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),gn===null)throw Error(t(349));(ea&30)!==0||V0(f,a,c)}y.memoizedState=c;var _={value:c,getSnapshot:a};return y.queue=_,B0(j0.bind(null,f,_,o),[o]),f.flags|=2048,cu(9,L0.bind(null,f,_,c,a),void 0,null),c},useId:function(){var o=As(),a=gn.identifierPrefix;if(Nt){var c=io,f=oo;c=(f&~(1<<32-ur(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=au++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=mN++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},wN={readContext:Nr,useCallback:K0,useContext:Nr,useEffect:dg,useImperativeHandle:G0,useInsertionEffect:q0,useLayoutEffect:H0,useMemo:Z0,useReducer:cg,useRef:$0,useState:function(){return cg(lu)},useDebugValue:hg,useDeferredValue:function(o){var a=Dr();return Q0(a,an.memoizedState,o)},useTransition:function(){var o=cg(lu)[0],a=Dr().memoizedState;return[o,a]},useMutableSource:O0,useSyncExternalStore:M0,useId:Y0,unstable_isNewReconciler:!1},EN={readContext:Nr,useCallback:K0,useContext:Nr,useEffect:dg,useImperativeHandle:G0,useInsertionEffect:q0,useLayoutEffect:H0,useMemo:Z0,useReducer:ug,useRef:$0,useState:function(){return ug(lu)},useDebugValue:hg,useDeferredValue:function(o){var a=Dr();return an===null?a.memoizedState=o:Q0(a,an.memoizedState,o)},useTransition:function(){var o=ug(lu)[0],a=Dr().memoizedState;return[o,a]},useMutableSource:O0,useSyncExternalStore:M0,useId:Y0,unstable_isNewReconciler:!1};function Xr(o,a){if(o&&o.defaultProps){a=Y({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function fg(o,a,c,f){a=o.memoizedState,c=c(f,a),c=c==null?a:Y({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var xh={isMounted:function(o){return(o=o._reactInternals)?Kr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var f=Bn(),y=Jo(o),_=lo(f,y);_.payload=a,c!=null&&(_.callback=c),a=Zo(o,_,y),a!==null&&(ts(a,o,y,f),mh(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var f=Bn(),y=Jo(o),_=lo(f,y);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=Zo(o,_,y),a!==null&&(ts(a,o,y,f),mh(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=Bn(),f=Jo(o),y=lo(c,f);y.tag=2,a!=null&&(y.callback=a),a=Zo(o,y,f),a!==null&&(ts(a,o,f,c),mh(a,o,f))}};function tE(o,a,c,f,y,_,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,_,T):a.prototype&&a.prototype.isPureReactComponent?!Zc(c,f)||!Zc(y,_):!0}function nE(o,a,c){var f=!1,y=Wo,_=a.contextType;return typeof _=="object"&&_!==null?_=Nr(_):(y=Xn(a)?Zi:Rn.current,f=a.contextTypes,_=(f=f!=null)?gl(o,y):Wo),a=new a(c,_),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=xh,o.stateNode=a,a._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=_),a}function rE(o,a,c,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==o&&xh.enqueueReplaceState(a,a.state,null)}function pg(o,a,c,f){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},eg(o);var _=a.contextType;typeof _=="object"&&_!==null?y.context=Nr(_):(_=Xn(a)?Zi:Rn.current,y.context=gl(o,_)),y.state=o.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(fg(o,a,_,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&xh.enqueueReplaceState(y,y.state,null),gh(o,c,y,f),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Sl(o,a){try{var c="",f=a;do c+=fe(f),f=f.return;while(f);var y=c}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:a,stack:y,digest:null}}function mg(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function gg(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var bN=typeof WeakMap=="function"?WeakMap:Map;function sE(o,a,c){c=lo(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){Rh||(Rh=!0,kg=f),gg(o,a)},c}function oE(o,a,c){c=lo(-1,c),c.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=a.value;c.payload=function(){return f(y)},c.callback=function(){gg(o,a)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){gg(o,a),typeof f!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),c}function iE(o,a,c){var f=o.pingCache;if(f===null){f=o.pingCache=new bN;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(y.add(c),o=VN.bind(null,o,a,c),a.then(o,o))}function aE(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function lE(o,a,c,f,y){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=lo(-1,1),a.tag=2,Zo(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var xN=q.ReactCurrentOwner,Jn=!1;function $n(o,a,c,f){a.child=o===null?A0(a,null,c,f):wl(a,o.child,c,f)}function cE(o,a,c,f,y){c=c.render;var _=a.ref;return bl(a,y),f=ag(o,a,c,f,_,y),c=lg(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,co(o,a,y)):(Nt&&c&&qm(a),a.flags|=1,$n(o,a,f,y),a.child)}function uE(o,a,c,f,y){if(o===null){var _=c.type;return typeof _=="function"&&!jg(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,dE(o,a,_,f,y)):(o=Vh(c.type,null,f,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(_=o.child,(o.lanes&y)===0){var T=_.memoizedProps;if(c=c.compare,c=c!==null?c:Zc,c(T,f)&&o.ref===a.ref)return co(o,a,y)}return a.flags|=1,o=ti(_,f),o.ref=a.ref,o.return=a,a.child=o}function dE(o,a,c,f,y){if(o!==null){var _=o.memoizedProps;if(Zc(_,f)&&o.ref===a.ref)if(Jn=!1,a.pendingProps=f=_,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Jn=!0);else return a.lanes=o.lanes,co(o,a,y)}return yg(o,a,c,f,y)}function hE(o,a,c){var f=a.pendingProps,y=f.children,_=o!==null?o.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Tl,yr),yr|=c;else{if((c&1073741824)===0)return o=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Tt(Tl,yr),yr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:c,Tt(Tl,yr),yr|=f}else _!==null?(f=_.baseLanes|c,a.memoizedState=null):f=c,Tt(Tl,yr),yr|=f;return $n(o,a,y,c),a.child}function fE(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function yg(o,a,c,f,y){var _=Xn(c)?Zi:Rn.current;return _=gl(a,_),bl(a,y),c=ag(o,a,c,f,_,y),f=lg(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,co(o,a,y)):(Nt&&f&&qm(a),a.flags|=1,$n(o,a,c,y),a.child)}function pE(o,a,c,f,y){if(Xn(c)){var _=!0;ah(a)}else _=!1;if(bl(a,y),a.stateNode===null)Ih(o,a),nE(a,c,f),pg(a,c,f,y),f=!0;else if(o===null){var T=a.stateNode,j=a.memoizedProps;T.props=j;var $=T.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Nr(ee):(ee=Xn(c)?Zi:Rn.current,ee=gl(a,ee));var le=c.getDerivedStateFromProps,ue=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==f||$!==ee)&&rE(a,T,f,ee),Ko=!1;var ae=a.memoizedState;T.state=ae,gh(a,f,T,y),$=a.memoizedState,j!==f||ae!==$||Yn.current||Ko?(typeof le=="function"&&(fg(a,c,le,f),$=a.memoizedState),(j=Ko||tE(a,c,j,f,ae,$,ee))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=$),T.props=f,T.state=$,T.context=ee,f=j):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{T=a.stateNode,R0(o,a),j=a.memoizedProps,ee=a.type===a.elementType?j:Xr(a.type,j),T.props=ee,ue=a.pendingProps,ae=T.context,$=c.contextType,typeof $=="object"&&$!==null?$=Nr($):($=Xn(c)?Zi:Rn.current,$=gl(a,$));var Ce=c.getDerivedStateFromProps;(le=typeof Ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==ue||ae!==$)&&rE(a,T,f,$),Ko=!1,ae=a.memoizedState,T.state=ae,gh(a,f,T,y);var Re=a.memoizedState;j!==ue||ae!==Re||Yn.current||Ko?(typeof Ce=="function"&&(fg(a,c,Ce,f),Re=a.memoizedState),(ee=Ko||tE(a,c,ee,f,ae,Re,$)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,Re,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,Re,$)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||j===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Re),T.props=f,T.state=Re,T.context=$,f=ee):(typeof T.componentDidUpdate!="function"||j===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),f=!1)}return vg(o,a,c,f,_,y)}function vg(o,a,c,f,y,_){fE(o,a);var T=(a.flags&128)!==0;if(!f&&!T)return y&&_0(a,c,!1),co(o,a,_);f=a.stateNode,xN.current=a;var j=T&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,o!==null&&T?(a.child=wl(a,o.child,null,_),a.child=wl(a,null,j,_)):$n(o,a,j,_),a.memoizedState=f.state,y&&_0(a,c,!0),a.child}function mE(o){var a=o.stateNode;a.pendingContext?y0(o,a.pendingContext,a.pendingContext!==a.context):a.context&&y0(o,a.context,!1),tg(o,a.containerInfo)}function gE(o,a,c,f,y){return _l(),Km(y),a.flags|=256,$n(o,a,c,f),a.child}var _g={dehydrated:null,treeContext:null,retryLane:0};function wg(o){return{baseLanes:o,cachePool:null,transitions:null}}function yE(o,a,c){var f=a.pendingProps,y=Lt.current,_=!1,T=(a.flags&128)!==0,j;if((j=T)||(j=o!==null&&o.memoizedState===null?!1:(y&2)!==0),j?(_=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),Tt(Lt,y&1),o===null)return Gm(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=f.children,o=f.fallback,_?(f=a.mode,_=a.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=Lh(T,f,0,null),o=oa(o,f,c,null),_.return=a,o.return=a,_.sibling=o,a.child=_,a.child.memoizedState=wg(c),a.memoizedState=_g,o):Eg(a,T));if(y=o.memoizedState,y!==null&&(j=y.dehydrated,j!==null))return SN(o,a,T,f,j,y,c);if(_){_=f.fallback,T=a.mode,y=o.child,j=y.sibling;var $={mode:"hidden",children:f.children};return(T&1)===0&&a.child!==y?(f=a.child,f.childLanes=0,f.pendingProps=$,a.deletions=null):(f=ti(y,$),f.subtreeFlags=y.subtreeFlags&14680064),j!==null?_=ti(j,_):(_=oa(_,T,c,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,T=o.child.memoizedState,T=T===null?wg(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=o.childLanes&~c,a.memoizedState=_g,f}return _=o.child,o=_.sibling,f=ti(_,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=f,a.memoizedState=null,f}function Eg(o,a){return a=Lh({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Sh(o,a,c,f){return f!==null&&Km(f),wl(a,o.child,null,c),o=Eg(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function SN(o,a,c,f,y,_,T){if(c)return a.flags&256?(a.flags&=-257,f=mg(Error(t(422))),Sh(o,a,T,f)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(_=f.fallback,y=a.mode,f=Lh({mode:"visible",children:f.children},y,0,null),_=oa(_,y,T,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,(a.mode&1)!==0&&wl(a,o.child,null,T),a.child.memoizedState=wg(T),a.memoizedState=_g,_);if((a.mode&1)===0)return Sh(o,a,T,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var j=f.dgst;return f=j,_=Error(t(419)),f=mg(_,f,void 0),Sh(o,a,T,f)}if(j=(T&o.childLanes)!==0,Jn||j){if(f=gn,f!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|T))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,ao(o,y),ts(f,o,y,-1))}return Lg(),f=mg(Error(t(421))),Sh(o,a,T,f)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=LN.bind(null,o),y._reactRetry=a,null):(o=_.treeContext,gr=qo(y.nextSibling),mr=a,Nt=!0,Yr=null,o!==null&&(Rr[kr++]=oo,Rr[kr++]=io,Rr[kr++]=Qi,oo=o.id,io=o.overflow,Qi=a),a=Eg(a,f.children),a.flags|=4096,a)}function vE(o,a,c){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),Xm(o.return,a,c)}function bg(o,a,c,f,y){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=c,_.tailMode=y)}function _E(o,a,c){var f=a.pendingProps,y=f.revealOrder,_=f.tail;if($n(o,a,f.children,c),f=Lt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vE(o,c,a);else if(o.tag===19)vE(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(Tt(Lt,f),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&yh(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),bg(a,!1,y,c,_);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&yh(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}bg(a,!0,c,null,_);break;case"together":bg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ih(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function co(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),ta|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=ti(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=ti(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function IN(o,a,c){switch(a.tag){case 3:mE(a),_l();break;case 5:D0(a);break;case 1:Xn(a.type)&&ah(a);break;case 4:tg(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,y=a.memoizedProps.value;Tt(fh,f._currentValue),f._currentValue=y;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Tt(Lt,Lt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?yE(o,a,c):(Tt(Lt,Lt.current&1),o=co(o,a,c),o!==null?o.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(o.flags&128)!==0){if(f)return _E(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Tt(Lt,Lt.current),f)break;return null;case 22:case 23:return a.lanes=0,hE(o,a,c)}return co(o,a,c)}var wE,xg,EE,bE;wE=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},xg=function(){},EE=function(o,a,c,f){var y=o.memoizedProps;if(y!==f){o=a.stateNode,Ji(Cs.current);var _=null;switch(c){case"input":y=us(o,y),f=us(o,f),_=[];break;case"select":y=Y({},y,{value:void 0}),f=Y({},f,{value:void 0}),_=[];break;case"textarea":y=on(o,y),f=on(o,f),_=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=sh)}Qn(c,f);var T;c=null;for(ee in y)if(!f.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var j=y[ee];for(T in j)j.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in f){var $=f[ee];if(j=y?.[ee],f.hasOwnProperty(ee)&&$!==j&&($!=null||j!=null))if(ee==="style")if(j){for(T in j)!j.hasOwnProperty(T)||$&&$.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in $)$.hasOwnProperty(T)&&j[T]!==$[T]&&(c||(c={}),c[T]=$[T])}else c||(_||(_=[]),_.push(ee,c)),c=$;else ee==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,j=j?j.__html:void 0,$!=null&&j!==$&&(_=_||[]).push(ee,$)):ee==="children"?typeof $!="string"&&typeof $!="number"||(_=_||[]).push(ee,""+$):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?($!=null&&ee==="onScroll"&&Rt("scroll",o),_||j===$||(_=[])):(_=_||[]).push(ee,$))}c&&(_=_||[]).push("style",c);var ee=_;(a.updateQueue=ee)&&(a.flags|=4)}},bE=function(o,a,c,f){c!==f&&(a.flags|=4)};function uu(o,a){if(!Nt)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Nn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,f=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=f,o.childLanes=c,a}function TN(o,a,c){var f=a.pendingProps;switch(Hm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(a),null;case 1:return Xn(a.type)&&ih(),Nn(a),null;case 3:return f=a.stateNode,xl(),kt(Yn),kt(Rn),sg(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(dh(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Yr!==null&&(Og(Yr),Yr=null))),xg(o,a),Nn(a),null;case 5:ng(a);var y=Ji(ou.current);if(c=a.type,o!==null&&a.stateNode!=null)EE(o,a,c,f,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Nn(a),null}if(o=Ji(Cs.current),dh(a)){f=a.stateNode,c=a.type;var _=a.memoizedProps;switch(f[Ts]=a,f[eu]=_,o=(a.mode&1)!==0,c){case"dialog":Rt("cancel",f),Rt("close",f);break;case"iframe":case"object":case"embed":Rt("load",f);break;case"video":case"audio":for(y=0;y<Yc.length;y++)Rt(Yc[y],f);break;case"source":Rt("error",f);break;case"img":case"image":case"link":Rt("error",f),Rt("load",f);break;case"details":Rt("toggle",f);break;case"input":Ga(f,_),Rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Rt("invalid",f);break;case"textarea":Ir(f,_),Rt("invalid",f)}Qn(c,_),y=null;for(var T in _)if(_.hasOwnProperty(T)){var j=_[T];T==="children"?typeof j=="string"?f.textContent!==j&&(_.suppressHydrationWarning!==!0&&rh(f.textContent,j,o),y=["children",j]):typeof j=="number"&&f.textContent!==""+j&&(_.suppressHydrationWarning!==!0&&rh(f.textContent,j,o),y=["children",""+j]):s.hasOwnProperty(T)&&j!=null&&T==="onScroll"&&Rt("scroll",f)}switch(c){case"input":ye(f),Ro(f,_,!0);break;case"textarea":ye(f),ds(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=sh)}f=y,a.updateQueue=f,f!==null&&(a.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=hs(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=T.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=T.createElement(c,{is:f.is}):(o=T.createElement(c),c==="select"&&(T=o,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):o=T.createElementNS(o,c),o[Ts]=a,o[eu]=f,wE(o,a,!1,!1),a.stateNode=o;e:{switch(T=Mo(c,f),c){case"dialog":Rt("cancel",o),Rt("close",o),y=f;break;case"iframe":case"object":case"embed":Rt("load",o),y=f;break;case"video":case"audio":for(y=0;y<Yc.length;y++)Rt(Yc[y],o);y=f;break;case"source":Rt("error",o),y=f;break;case"img":case"image":case"link":Rt("error",o),Rt("load",o),y=f;break;case"details":Rt("toggle",o),y=f;break;case"input":Ga(o,f),y=us(o,f),Rt("invalid",o);break;case"option":y=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},y=Y({},f,{value:void 0}),Rt("invalid",o);break;case"textarea":Ir(o,f),y=on(o,f),Rt("invalid",o);break;default:y=f}Qn(c,y),j=y;for(_ in j)if(j.hasOwnProperty(_)){var $=j[_];_==="style"?Do(o,$):_==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&No(o,$)):_==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&Zn(o,$):typeof $=="number"&&Zn(o,""+$):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?$!=null&&_==="onScroll"&&Rt("scroll",o):$!=null&&z(o,_,$,T))}switch(c){case"input":ye(o),Ro(o,f,!1);break;case"textarea":ye(o),ds(o);break;case"option":f.value!=null&&o.setAttribute("value",""+Ie(f.value));break;case"select":o.multiple=!!f.multiple,_=f.value,_!=null?ar(o,!!f.multiple,_,!1):f.defaultValue!=null&&ar(o,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=sh)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Nn(a),null;case 6:if(o&&a.stateNode!=null)bE(o,a,o.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ji(ou.current),Ji(Cs.current),dh(a)){if(f=a.stateNode,c=a.memoizedProps,f[Ts]=a,(_=f.nodeValue!==c)&&(o=mr,o!==null))switch(o.tag){case 3:rh(f.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&rh(f.nodeValue,c,(o.mode&1)!==0)}_&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Ts]=a,a.stateNode=f}return Nn(a),null;case 13:if(kt(Lt),f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Nt&&gr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)I0(),_l(),a.flags|=98560,_=!1;else if(_=dh(a),f!==null&&f.dehydrated!==null){if(o===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Ts]=a}else _l(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nn(a),_=!1}else Yr!==null&&(Og(Yr),Yr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Lt.current&1)!==0?ln===0&&(ln=3):Lg())),a.updateQueue!==null&&(a.flags|=4),Nn(a),null);case 4:return xl(),xg(o,a),o===null&&Xc(a.stateNode.containerInfo),Nn(a),null;case 10:return Ym(a.type._context),Nn(a),null;case 17:return Xn(a.type)&&ih(),Nn(a),null;case 19:if(kt(Lt),_=a.memoizedState,_===null)return Nn(a),null;if(f=(a.flags&128)!==0,T=_.rendering,T===null)if(f)uu(_,!1);else{if(ln!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(T=yh(o),T!==null){for(a.flags|=128,uu(_,!1),f=T.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)_=c,o=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,o=T.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Tt(Lt,Lt.current&1|2),a.child}o=o.sibling}_.tail!==null&&Pt()>Cl&&(a.flags|=128,f=!0,uu(_,!1),a.lanes=4194304)}else{if(!f)if(o=yh(T),o!==null){if(a.flags|=128,f=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),uu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!Nt)return Nn(a),null}else 2*Pt()-_.renderingStartTime>Cl&&c!==1073741824&&(a.flags|=128,f=!0,uu(_,!1),a.lanes=4194304);_.isBackwards?(T.sibling=a.child,a.child=T):(c=_.last,c!==null?c.sibling=T:a.child=T,_.last=T)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Pt(),a.sibling=null,c=Lt.current,Tt(Lt,f?c&1|2:c&1),a):(Nn(a),null);case 22:case 23:return Vg(),f=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(yr&1073741824)!==0&&(Nn(a),a.subtreeFlags&6&&(a.flags|=8192)):Nn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function CN(o,a){switch(Hm(a),a.tag){case 1:return Xn(a.type)&&ih(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return xl(),kt(Yn),kt(Rn),sg(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return ng(a),null;case 13:if(kt(Lt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));_l()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return kt(Lt),null;case 4:return xl(),null;case 10:return Ym(a.type._context),null;case 22:case 23:return Vg(),null;case 24:return null;default:return null}}var Th=!1,Dn=!1,AN=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Il(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Bt(o,a,f)}else c.current=null}function Sg(o,a,c){try{c()}catch(f){Bt(o,a,f)}}var xE=!1;function PN(o,a){if(Vm=eo,o=t0(),Am(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var T=0,j=-1,$=-1,ee=0,le=0,ue=o,ae=null;t:for(;;){for(var Ce;ue!==c||y!==0&&ue.nodeType!==3||(j=T+y),ue!==_||f!==0&&ue.nodeType!==3||($=T+f),ue.nodeType===3&&(T+=ue.nodeValue.length),(Ce=ue.firstChild)!==null;)ae=ue,ue=Ce;for(;;){if(ue===o)break t;if(ae===c&&++ee===y&&(j=T),ae===_&&++le===f&&($=T),(Ce=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=Ce}c=j===-1||$===-1?null:{start:j,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(Lm={focusedElem:o,selectionRange:c},eo=!1,Ae=a;Ae!==null;)if(a=Ae,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ae=o;else for(;Ae!==null;){a=Ae;try{var Re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Oe=Re.memoizedProps,Gt=Re.memoizedState,Z=a.stateNode,B=Z.getSnapshotBeforeUpdate(a.elementType===a.type?Oe:Xr(a.type,Oe),Gt);Z.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var X=a.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Bt(a,a.return,ge)}if(o=a.sibling,o!==null){o.return=a.return,Ae=o;break}Ae=a.return}return Re=xE,xE=!1,Re}function du(o,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&o)===o){var _=y.destroy;y.destroy=void 0,_!==void 0&&Sg(a,c,_)}y=y.next}while(y!==f)}}function Ch(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function Ig(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function SE(o){var a=o.alternate;a!==null&&(o.alternate=null,SE(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Ts],delete a[eu],delete a[zm],delete a[dN],delete a[hN])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function IE(o){return o.tag===5||o.tag===3||o.tag===4}function TE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||IE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Tg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=sh));else if(f!==4&&(o=o.child,o!==null))for(Tg(o,a,c),o=o.sibling;o!==null;)Tg(o,a,c),o=o.sibling}function Cg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(Cg(o,a,c),o=o.sibling;o!==null;)Cg(o,a,c),o=o.sibling}var bn=null,Jr=!1;function Qo(o,a,c){for(c=c.child;c!==null;)CE(o,a,c),c=c.sibling}function CE(o,a,c){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Fi,c)}catch{}switch(c.tag){case 5:Dn||Il(c,a);case 6:var f=bn,y=Jr;bn=null,Qo(o,a,c),bn=f,Jr=y,bn!==null&&(Jr?(o=bn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):bn.removeChild(c.stateNode));break;case 18:bn!==null&&(Jr?(o=bn,c=c.stateNode,o.nodeType===8?Um(o.parentNode,c):o.nodeType===1&&Um(o,c),Uo(o)):Um(bn,c.stateNode));break;case 4:f=bn,y=Jr,bn=c.stateNode.containerInfo,Jr=!0,Qo(o,a,c),bn=f,Jr=y;break;case 0:case 11:case 14:case 15:if(!Dn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var _=y,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&Sg(c,a,T),y=y.next}while(y!==f)}Qo(o,a,c);break;case 1:if(!Dn&&(Il(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(j){Bt(c,a,j)}Qo(o,a,c);break;case 21:Qo(o,a,c);break;case 22:c.mode&1?(Dn=(f=Dn)||c.memoizedState!==null,Qo(o,a,c),Dn=f):Qo(o,a,c);break;default:Qo(o,a,c)}}function AE(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new AN),a.forEach(function(f){var y=jN.bind(null,o,f);c.has(f)||(c.add(f),f.then(y,y))})}}function es(o,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];try{var _=o,T=a,j=T;e:for(;j!==null;){switch(j.tag){case 5:bn=j.stateNode,Jr=!1;break e;case 3:bn=j.stateNode.containerInfo,Jr=!0;break e;case 4:bn=j.stateNode.containerInfo,Jr=!0;break e}j=j.return}if(bn===null)throw Error(t(160));CE(_,T,y),bn=null,Jr=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(ee){Bt(y,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)PE(a,o),a=a.sibling}function PE(o,a){var c=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(es(a,o),Ps(o),f&4){try{du(3,o,o.return),Ch(3,o)}catch(Oe){Bt(o,o.return,Oe)}try{du(5,o,o.return)}catch(Oe){Bt(o,o.return,Oe)}}break;case 1:es(a,o),Ps(o),f&512&&c!==null&&Il(c,c.return);break;case 5:if(es(a,o),Ps(o),f&512&&c!==null&&Il(c,c.return),o.flags&32){var y=o.stateNode;try{Zn(y,"")}catch(Oe){Bt(o,o.return,Oe)}}if(f&4&&(y=o.stateNode,y!=null)){var _=o.memoizedProps,T=c!==null?c.memoizedProps:_,j=o.type,$=o.updateQueue;if(o.updateQueue=null,$!==null)try{j==="input"&&_.type==="radio"&&_.name!=null&&Zs(y,_),Mo(j,T);var ee=Mo(j,_);for(T=0;T<$.length;T+=2){var le=$[T],ue=$[T+1];le==="style"?Do(y,ue):le==="dangerouslySetInnerHTML"?No(y,ue):le==="children"?Zn(y,ue):z(y,le,ue,ee)}switch(j){case"input":ir(y,_);break;case"textarea":Ka(y,_);break;case"select":var ae=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var Ce=_.value;Ce!=null?ar(y,!!_.multiple,Ce,!1):ae!==!!_.multiple&&(_.defaultValue!=null?ar(y,!!_.multiple,_.defaultValue,!0):ar(y,!!_.multiple,_.multiple?[]:"",!1))}y[eu]=_}catch(Oe){Bt(o,o.return,Oe)}}break;case 6:if(es(a,o),Ps(o),f&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,_=o.memoizedProps;try{y.nodeValue=_}catch(Oe){Bt(o,o.return,Oe)}}break;case 3:if(es(a,o),Ps(o),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Uo(a.containerInfo)}catch(Oe){Bt(o,o.return,Oe)}break;case 4:es(a,o),Ps(o);break;case 13:es(a,o),Ps(o),y=o.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(Rg=Pt())),f&4&&AE(o);break;case 22:if(le=c!==null&&c.memoizedState!==null,o.mode&1?(Dn=(ee=Dn)||le,es(a,o),Dn=ee):es(a,o),Ps(o),f&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!le&&(o.mode&1)!==0)for(Ae=o,le=o.child;le!==null;){for(ue=Ae=le;Ae!==null;){switch(ae=Ae,Ce=ae.child,ae.tag){case 0:case 11:case 14:case 15:du(4,ae,ae.return);break;case 1:Il(ae,ae.return);var Re=ae.stateNode;if(typeof Re.componentWillUnmount=="function"){f=ae,c=ae.return;try{a=f,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(Oe){Bt(f,c,Oe)}}break;case 5:Il(ae,ae.return);break;case 22:if(ae.memoizedState!==null){NE(ue);continue}}Ce!==null?(Ce.return=ae,Ae=Ce):NE(ue)}le=le.sibling}e:for(le=null,ue=o;;){if(ue.tag===5){if(le===null){le=ue;try{y=ue.stateNode,ee?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(j=ue.stateNode,$=ue.memoizedProps.style,T=$!=null&&$.hasOwnProperty("display")?$.display:null,j.style.display=fs("display",T))}catch(Oe){Bt(o,o.return,Oe)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=ee?"":ue.memoizedProps}catch(Oe){Bt(o,o.return,Oe)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===o)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===o)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===o)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:es(a,o),Ps(o),f&4&&AE(o);break;case 21:break;default:es(a,o),Ps(o)}}function Ps(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(IE(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(Zn(y,""),f.flags&=-33);var _=TE(o);Cg(o,_,y);break;case 3:case 4:var T=f.stateNode.containerInfo,j=TE(o);Tg(o,j,T);break;default:throw Error(t(161))}}catch($){Bt(o,o.return,$)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function RN(o,a,c){Ae=o,RE(o)}function RE(o,a,c){for(var f=(o.mode&1)!==0;Ae!==null;){var y=Ae,_=y.child;if(y.tag===22&&f){var T=y.memoizedState!==null||Th;if(!T){var j=y.alternate,$=j!==null&&j.memoizedState!==null||Dn;j=Th;var ee=Dn;if(Th=T,(Dn=$)&&!ee)for(Ae=y;Ae!==null;)T=Ae,$=T.child,T.tag===22&&T.memoizedState!==null?DE(y):$!==null?($.return=T,Ae=$):DE(y);for(;_!==null;)Ae=_,RE(_),_=_.sibling;Ae=y,Th=j,Dn=ee}kE(o)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,Ae=_):kE(o)}}function kE(o){for(;Ae!==null;){var a=Ae;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Dn||Ch(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Dn)if(c===null)f.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Xr(a.type,c.memoizedProps);f.componentDidUpdate(y,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&N0(a,_,f);break;case 3:var T=a.updateQueue;if(T!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}N0(a,T,c)}break;case 5:var j=a.stateNode;if(c===null&&a.flags&4){c=j;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&Uo(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Dn||a.flags&512&&Ig(a)}catch(ae){Bt(a,a.return,ae)}}if(a===o){Ae=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ae=c;break}Ae=a.return}}function NE(o){for(;Ae!==null;){var a=Ae;if(a===o){Ae=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ae=c;break}Ae=a.return}}function DE(o){for(;Ae!==null;){var a=Ae;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Ch(4,a)}catch($){Bt(a,c,$)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var y=a.return;try{f.componentDidMount()}catch($){Bt(a,y,$)}}var _=a.return;try{Ig(a)}catch($){Bt(a,_,$)}break;case 5:var T=a.return;try{Ig(a)}catch($){Bt(a,T,$)}}}catch($){Bt(a,a.return,$)}if(a===o){Ae=null;break}var j=a.sibling;if(j!==null){j.return=a.return,Ae=j;break}Ae=a.return}}var kN=Math.ceil,Ah=q.ReactCurrentDispatcher,Ag=q.ReactCurrentOwner,Or=q.ReactCurrentBatchConfig,ft=0,gn=null,en=null,xn=0,yr=0,Tl=Ho(0),ln=0,hu=null,ta=0,Ph=0,Pg=0,fu=null,er=null,Rg=0,Cl=1/0,uo=null,Rh=!1,kg=null,Yo=null,kh=!1,Xo=null,Nh=0,pu=0,Ng=null,Dh=-1,Oh=0;function Bn(){return(ft&6)!==0?Pt():Dh!==-1?Dh:Dh=Pt()}function Jo(o){return(o.mode&1)===0?1:(ft&2)!==0&&xn!==0?xn&-xn:pN.transition!==null?(Oh===0&&(Oh=Mc()),Oh):(o=lt,o!==0||(o=window.event,o=o===void 0?16:nl(o.type)),o)}function ts(o,a,c,f){if(50<pu)throw pu=0,Ng=null,Error(t(185));Bi(o,c,f),((ft&2)===0||o!==gn)&&(o===gn&&((ft&2)===0&&(Ph|=c),ln===4&&ei(o,xn)),tr(o,f),c===1&&ft===0&&(a.mode&1)===0&&(Cl=Pt()+500,lh&&Go()))}function tr(o,a){var c=o.callbackNode;$i(o,a);var f=Ys(o,o===gn?xn:0);if(f===0)c!==null&&Za(c),o.callbackNode=null,o.callbackPriority=0;else if(a=f&-f,o.callbackPriority!==a){if(c!=null&&Za(c),a===1)o.tag===0?fN(ME.bind(null,o)):w0(ME.bind(null,o)),cN(function(){(ft&6)===0&&Go()}),c=null;else{switch(gs(f)){case 1:c=Qa;break;case 4:c=Nc;break;case 16:c=ji;break;case 536870912:c=Ya;break;default:c=ji}c=BE(c,OE.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function OE(o,a){if(Dh=-1,Oh=0,(ft&6)!==0)throw Error(t(327));var c=o.callbackNode;if(Al()&&o.callbackNode!==c)return null;var f=Ys(o,o===gn?xn:0);if(f===0)return null;if((f&30)!==0||(f&o.expiredLanes)!==0||a)a=Mh(o,f);else{a=f;var y=ft;ft|=2;var _=LE();(gn!==o||xn!==a)&&(uo=null,Cl=Pt()+500,ra(o,a));do try{ON();break}catch(j){VE(o,j)}while(!0);Qm(),Ah.current=_,ft=y,en!==null?a=0:(gn=null,xn=0,a=ln)}if(a!==0){if(a===2&&(y=Oc(o),y!==0&&(f=y,a=Dg(o,y))),a===1)throw c=hu,ra(o,0),ei(o,f),tr(o,Pt()),c;if(a===6)ei(o,f);else{if(y=o.current.alternate,(f&30)===0&&!NN(y)&&(a=Mh(o,f),a===2&&(_=Oc(o),_!==0&&(f=_,a=Dg(o,_))),a===1))throw c=hu,ra(o,0),ei(o,f),tr(o,Pt()),c;switch(o.finishedWork=y,o.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:sa(o,er,uo);break;case 3:if(ei(o,f),(f&130023424)===f&&(a=Rg+500-Pt(),10<a)){if(Ys(o,0)!==0)break;if(y=o.suspendedLanes,(y&f)!==f){Bn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Fm(sa.bind(null,o,er,uo),a);break}sa(o,er,uo);break;case 4:if(ei(o,f),(f&4194240)===f)break;for(a=o.eventTimes,y=-1;0<f;){var T=31-ur(f);_=1<<T,T=a[T],T>y&&(y=T),f&=~_}if(f=y,f=Pt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*kN(f/1960))-f,10<f){o.timeoutHandle=Fm(sa.bind(null,o,er,uo),f);break}sa(o,er,uo);break;case 5:sa(o,er,uo);break;default:throw Error(t(329))}}}return tr(o,Pt()),o.callbackNode===c?OE.bind(null,o):null}function Dg(o,a){var c=fu;return o.current.memoizedState.isDehydrated&&(ra(o,a).flags|=256),o=Mh(o,a),o!==2&&(a=er,er=c,a!==null&&Og(a)),o}function Og(o){er===null?er=o:er.push.apply(er,o)}function NN(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var y=c[f],_=y.getSnapshot;y=y.value;try{if(!Qr(_(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ei(o,a){for(a&=~Pg,a&=~Ph,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-ur(a),f=1<<c;o[c]=-1,a&=~f}}function ME(o){if((ft&6)!==0)throw Error(t(327));Al();var a=Ys(o,0);if((a&1)===0)return tr(o,Pt()),null;var c=Mh(o,a);if(o.tag!==0&&c===2){var f=Oc(o);f!==0&&(a=f,c=Dg(o,f))}if(c===1)throw c=hu,ra(o,0),ei(o,a),tr(o,Pt()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,sa(o,er,uo),tr(o,Pt()),null}function Mg(o,a){var c=ft;ft|=1;try{return o(a)}finally{ft=c,ft===0&&(Cl=Pt()+500,lh&&Go())}}function na(o){Xo!==null&&Xo.tag===0&&(ft&6)===0&&Al();var a=ft;ft|=1;var c=Or.transition,f=lt;try{if(Or.transition=null,lt=1,o)return o()}finally{lt=f,Or.transition=c,ft=a,(ft&6)===0&&Go()}}function Vg(){yr=Tl.current,kt(Tl)}function ra(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,lN(c)),en!==null)for(c=en.return;c!==null;){var f=c;switch(Hm(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ih();break;case 3:xl(),kt(Yn),kt(Rn),sg();break;case 5:ng(f);break;case 4:xl();break;case 13:kt(Lt);break;case 19:kt(Lt);break;case 10:Ym(f.type._context);break;case 22:case 23:Vg()}c=c.return}if(gn=o,en=o=ti(o.current,null),xn=yr=a,ln=0,hu=null,Pg=Ph=ta=0,er=fu=null,Xi!==null){for(a=0;a<Xi.length;a++)if(c=Xi[a],f=c.interleaved,f!==null){c.interleaved=null;var y=f.next,_=c.pending;if(_!==null){var T=_.next;_.next=y,f.next=T}c.pending=f}Xi=null}return o}function VE(o,a){do{var c=en;try{if(Qm(),vh.current=bh,_h){for(var f=jt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}_h=!1}if(ea=0,mn=an=jt=null,iu=!1,au=0,Ag.current=null,c===null||c.return===null){ln=1,hu=a,en=null;break}e:{var _=o,T=c.return,j=c,$=a;if(a=xn,j.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ee=$,le=j,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var Ce=aE(T);if(Ce!==null){Ce.flags&=-257,lE(Ce,T,j,_,a),Ce.mode&1&&iE(_,ee,a),a=Ce,$=ee;var Re=a.updateQueue;if(Re===null){var Oe=new Set;Oe.add($),a.updateQueue=Oe}else Re.add($);break e}else{if((a&1)===0){iE(_,ee,a),Lg();break e}$=Error(t(426))}}else if(Nt&&j.mode&1){var Gt=aE(T);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),lE(Gt,T,j,_,a),Km(Sl($,j));break e}}_=$=Sl($,j),ln!==4&&(ln=2),fu===null?fu=[_]:fu.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var Z=sE(_,$,a);k0(_,Z);break e;case 1:j=$;var B=_.type,X=_.stateNode;if((_.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Yo===null||!Yo.has(X)))){_.flags|=65536,a&=-a,_.lanes|=a;var ge=oE(_,j,a);k0(_,ge);break e}}_=_.return}while(_!==null)}FE(c)}catch(Me){a=Me,en===c&&c!==null&&(en=c=c.return);continue}break}while(!0)}function LE(){var o=Ah.current;return Ah.current=bh,o===null?bh:o}function Lg(){(ln===0||ln===3||ln===2)&&(ln=4),gn===null||(ta&268435455)===0&&(Ph&268435455)===0||ei(gn,xn)}function Mh(o,a){var c=ft;ft|=2;var f=LE();(gn!==o||xn!==a)&&(uo=null,ra(o,a));do try{DN();break}catch(y){VE(o,y)}while(!0);if(Qm(),ft=c,Ah.current=f,en!==null)throw Error(t(261));return gn=null,xn=0,ln}function DN(){for(;en!==null;)jE(en)}function ON(){for(;en!==null&&!Li();)jE(en)}function jE(o){var a=$E(o.alternate,o,yr);o.memoizedProps=o.pendingProps,a===null?FE(o):en=a,Ag.current=null}function FE(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=TN(c,a,yr),c!==null){en=c;return}}else{if(c=CN(c,a),c!==null){c.flags&=32767,en=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{ln=6,en=null;return}}if(a=a.sibling,a!==null){en=a;return}en=a=o}while(a!==null);ln===0&&(ln=5)}function sa(o,a,c){var f=lt,y=Or.transition;try{Or.transition=null,lt=1,MN(o,a,c,f)}finally{Or.transition=y,lt=f}return null}function MN(o,a,c,f){do Al();while(Xo!==null);if((ft&6)!==0)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var _=c.lanes|c.childLanes;if(xm(o,_),o===gn&&(en=gn=null,xn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||kh||(kh=!0,BE(ji,function(){return Al(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=Or.transition,Or.transition=null;var T=lt;lt=1;var j=ft;ft|=4,Ag.current=null,PN(o,c),PE(c,o),tN(Lm),eo=!!Vm,Lm=Vm=null,o.current=c,RN(c),Qs(),ft=j,lt=T,Or.transition=_}else o.current=c;if(kh&&(kh=!1,Xo=o,Nh=y),_=o.pendingLanes,_===0&&(Yo=null),$d(c.stateNode),tr(o,Pt()),a!==null)for(f=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],f(y.value,{componentStack:y.stack,digest:y.digest});if(Rh)throw Rh=!1,o=kg,kg=null,o;return(Nh&1)!==0&&o.tag!==0&&Al(),_=o.pendingLanes,(_&1)!==0?o===Ng?pu++:(pu=0,Ng=o):pu=0,Go(),null}function Al(){if(Xo!==null){var o=gs(Nh),a=Or.transition,c=lt;try{if(Or.transition=null,lt=16>o?16:o,Xo===null)var f=!1;else{if(o=Xo,Xo=null,Nh=0,(ft&6)!==0)throw Error(t(331));var y=ft;for(ft|=4,Ae=o.current;Ae!==null;){var _=Ae,T=_.child;if((Ae.flags&16)!==0){var j=_.deletions;if(j!==null){for(var $=0;$<j.length;$++){var ee=j[$];for(Ae=ee;Ae!==null;){var le=Ae;switch(le.tag){case 0:case 11:case 15:du(8,le,_)}var ue=le.child;if(ue!==null)ue.return=le,Ae=ue;else for(;Ae!==null;){le=Ae;var ae=le.sibling,Ce=le.return;if(SE(le),le===ee){Ae=null;break}if(ae!==null){ae.return=Ce,Ae=ae;break}Ae=Ce}}}var Re=_.alternate;if(Re!==null){var Oe=Re.child;if(Oe!==null){Re.child=null;do{var Gt=Oe.sibling;Oe.sibling=null,Oe=Gt}while(Oe!==null)}}Ae=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,Ae=T;else e:for(;Ae!==null;){if(_=Ae,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:du(9,_,_.return)}var Z=_.sibling;if(Z!==null){Z.return=_.return,Ae=Z;break e}Ae=_.return}}var B=o.current;for(Ae=B;Ae!==null;){T=Ae;var X=T.child;if((T.subtreeFlags&2064)!==0&&X!==null)X.return=T,Ae=X;else e:for(T=B;Ae!==null;){if(j=Ae,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Ch(9,j)}}catch(Me){Bt(j,j.return,Me)}if(j===T){Ae=null;break e}var ge=j.sibling;if(ge!==null){ge.return=j.return,Ae=ge;break e}Ae=j.return}}if(ft=y,Go(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Fi,o)}catch{}f=!0}return f}finally{lt=c,Or.transition=a}}return!1}function UE(o,a,c){a=Sl(c,a),a=sE(o,a,1),o=Zo(o,a,1),a=Bn(),o!==null&&(Bi(o,1,a),tr(o,a))}function Bt(o,a,c){if(o.tag===3)UE(o,o,c);else for(;a!==null;){if(a.tag===3){UE(a,o,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Yo===null||!Yo.has(f))){o=Sl(c,o),o=oE(a,o,1),a=Zo(a,o,1),o=Bn(),a!==null&&(Bi(a,1,o),tr(a,o));break}}a=a.return}}function VN(o,a,c){var f=o.pingCache;f!==null&&f.delete(a),a=Bn(),o.pingedLanes|=o.suspendedLanes&c,gn===o&&(xn&c)===c&&(ln===4||ln===3&&(xn&130023424)===xn&&500>Pt()-Rg?ra(o,0):Pg|=c),tr(o,a)}function zE(o,a){a===0&&((o.mode&1)===0?a=1:(a=Lo,Lo<<=1,(Lo&130023424)===0&&(Lo=4194304)));var c=Bn();o=ao(o,a),o!==null&&(Bi(o,a,c),tr(o,c))}function LN(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),zE(o,c)}function jN(o,a){var c=0;switch(o.tag){case 13:var f=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),zE(o,c)}var $E;$E=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Yn.current)Jn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return Jn=!1,IN(o,a,c);Jn=(o.flags&131072)!==0}else Jn=!1,Nt&&(a.flags&1048576)!==0&&E0(a,uh,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Ih(o,a),o=a.pendingProps;var y=gl(a,Rn.current);bl(a,c),y=ag(null,a,f,o,y,c);var _=lg();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Xn(f)?(_=!0,ah(a)):_=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,eg(a),y.updater=xh,a.stateNode=y,y._reactInternals=a,pg(a,f,o,c),a=vg(null,a,f,!0,_,c)):(a.tag=0,Nt&&_&&qm(a),$n(null,a,y,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Ih(o,a),o=a.pendingProps,y=f._init,f=y(f._payload),a.type=f,y=a.tag=UN(f),o=Xr(f,o),y){case 0:a=yg(null,a,f,o,c);break e;case 1:a=pE(null,a,f,o,c);break e;case 11:a=cE(null,a,f,o,c);break e;case 14:a=uE(null,a,f,Xr(f.type,o),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Xr(f,y),yg(o,a,f,y,c);case 1:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Xr(f,y),pE(o,a,f,y,c);case 3:e:{if(mE(a),o===null)throw Error(t(387));f=a.pendingProps,_=a.memoizedState,y=_.element,R0(o,a),gh(a,f,null,c);var T=a.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){y=Sl(Error(t(423)),a),a=gE(o,a,f,c,y);break e}else if(f!==y){y=Sl(Error(t(424)),a),a=gE(o,a,f,c,y);break e}else for(gr=qo(a.stateNode.containerInfo.firstChild),mr=a,Nt=!0,Yr=null,c=A0(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(_l(),f===y){a=co(o,a,c);break e}$n(o,a,f,c)}a=a.child}return a;case 5:return D0(a),o===null&&Gm(a),f=a.type,y=a.pendingProps,_=o!==null?o.memoizedProps:null,T=y.children,jm(f,y)?T=null:_!==null&&jm(f,_)&&(a.flags|=32),fE(o,a),$n(o,a,T,c),a.child;case 6:return o===null&&Gm(a),null;case 13:return yE(o,a,c);case 4:return tg(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=wl(a,null,f,c):$n(o,a,f,c),a.child;case 11:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Xr(f,y),cE(o,a,f,y,c);case 7:return $n(o,a,a.pendingProps,c),a.child;case 8:return $n(o,a,a.pendingProps.children,c),a.child;case 12:return $n(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,y=a.pendingProps,_=a.memoizedProps,T=y.value,Tt(fh,f._currentValue),f._currentValue=T,_!==null)if(Qr(_.value,T)){if(_.children===y.children&&!Yn.current){a=co(o,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var j=_.dependencies;if(j!==null){T=_.child;for(var $=j.firstContext;$!==null;){if($.context===f){if(_.tag===1){$=lo(-1,c&-c),$.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?$.next=$:($.next=le.next,le.next=$),ee.pending=$}}_.lanes|=c,$=_.alternate,$!==null&&($.lanes|=c),Xm(_.return,c,a),j.lanes|=c;break}$=$.next}}else if(_.tag===10)T=_.type===a.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=c,j=T.alternate,j!==null&&(j.lanes|=c),Xm(T,c,a),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===a){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}$n(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,f=a.pendingProps.children,bl(a,c),y=Nr(y),f=f(y),a.flags|=1,$n(o,a,f,c),a.child;case 14:return f=a.type,y=Xr(f,a.pendingProps),y=Xr(f.type,y),uE(o,a,f,y,c);case 15:return dE(o,a,a.type,a.pendingProps,c);case 17:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Xr(f,y),Ih(o,a),a.tag=1,Xn(f)?(o=!0,ah(a)):o=!1,bl(a,c),nE(a,f,y),pg(a,f,y,c),vg(null,a,f,!0,o,c);case 19:return _E(o,a,c);case 22:return hE(o,a,c)}throw Error(t(156,a.tag))};function BE(o,a){return kc(o,a)}function FN(o,a,c,f){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(o,a,c,f){return new FN(o,a,c,f)}function jg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function UN(o){if(typeof o=="function")return jg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===L)return 11;if(o===Ve)return 14}return 2}function ti(o,a){var c=o.alternate;return c===null?(c=Mr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Vh(o,a,c,f,y,_){var T=2;if(f=o,typeof o=="function")jg(o)&&(T=1);else if(typeof o=="string")T=5;else e:switch(o){case P:return oa(c.children,y,_,a);case I:T=8,y|=8;break;case A:return o=Mr(12,c,a,y|2),o.elementType=A,o.lanes=_,o;case N:return o=Mr(13,c,a,y),o.elementType=N,o.lanes=_,o;case de:return o=Mr(19,c,a,y),o.elementType=de,o.lanes=_,o;case me:return Lh(c,y,_,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:T=10;break e;case M:T=9;break e;case L:T=11;break e;case Ve:T=14;break e;case pe:T=16,f=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Mr(T,c,a,y),a.elementType=o,a.type=f,a.lanes=_,a}function oa(o,a,c,f){return o=Mr(7,o,f,a),o.lanes=c,o}function Lh(o,a,c,f){return o=Mr(22,o,f,a),o.elementType=me,o.lanes=c,o.stateNode={isHidden:!1},o}function Fg(o,a,c){return o=Mr(6,o,null,a),o.lanes=c,o}function Ug(o,a,c){return a=Mr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function zN(o,a,c,f,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vc(0),this.expirationTimes=Vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function zg(o,a,c,f,y,_,T,j,$){return o=new zN(o,a,c,j,$),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Mr(3,null,null,a),o.current=_,_.stateNode=o,_.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},eg(_),o}function $N(o,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:o,containerInfo:a,implementation:c}}function qE(o){if(!o)return Wo;o=o._reactInternals;e:{if(Kr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Xn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Xn(c))return v0(o,c,a)}return a}function HE(o,a,c,f,y,_,T,j,$){return o=zg(c,f,!0,o,y,_,T,j,$),o.context=qE(null),c=o.current,f=Bn(),y=Jo(c),_=lo(f,y),_.callback=a??null,Zo(c,_,y),o.current.lanes=y,Bi(o,y,f),tr(o,f),o}function jh(o,a,c,f){var y=a.current,_=Bn(),T=Jo(y);return c=qE(c),a.context===null?a.context=c:a.pendingContext=c,a=lo(_,T),a.payload={element:o},f=f===void 0?null:f,f!==null&&(a.callback=f),o=Zo(y,a,T),o!==null&&(ts(o,y,T,_),mh(o,y,T)),T}function Fh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function WE(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function $g(o,a){WE(o,a),(o=o.alternate)&&WE(o,a)}function BN(){return null}var GE=typeof reportError=="function"?reportError:function(o){console.error(o)};function Bg(o){this._internalRoot=o}Uh.prototype.render=Bg.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));jh(o,a,null,null)},Uh.prototype.unmount=Bg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;na(function(){jh(null,o,null,null)}),a[ro]=null}};function Uh(o){this._internalRoot=o}Uh.prototype.unstable_scheduleHydration=function(o){if(o){var a=Uc();o={blockedOn:null,target:o,priority:a};for(var c=0;c<dr.length&&a!==0&&a<dr[c].priority;c++);dr.splice(c,0,o),c===0&&el(o)}};function qg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function zh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function KE(){}function qN(o,a,c,f,y){if(y){if(typeof f=="function"){var _=f;f=function(){var ee=Fh(T);_.call(ee)}}var T=HE(a,f,o,0,null,!1,!1,"",KE);return o._reactRootContainer=T,o[ro]=T.current,Xc(o.nodeType===8?o.parentNode:o),na(),T}for(;y=o.lastChild;)o.removeChild(y);if(typeof f=="function"){var j=f;f=function(){var ee=Fh($);j.call(ee)}}var $=zg(o,0,!1,null,null,!1,!1,"",KE);return o._reactRootContainer=$,o[ro]=$.current,Xc(o.nodeType===8?o.parentNode:o),na(function(){jh(a,$,c,f)}),$}function $h(o,a,c,f,y){var _=c._reactRootContainer;if(_){var T=_;if(typeof y=="function"){var j=y;y=function(){var $=Fh(T);j.call($)}}jh(a,T,o,y)}else T=qN(c,a,o,y,f);return Fh(T)}jc=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=mt(a.pendingLanes);c!==0&&(Lc(a,c|1),tr(a,Pt()),(ft&6)===0&&(Cl=Pt()+500,Go()))}break;case 13:na(function(){var f=ao(o,1);if(f!==null){var y=Bn();ts(f,o,1,y)}}),$g(o,1)}},Xa=function(o){if(o.tag===13){var a=ao(o,134217728);if(a!==null){var c=Bn();ts(a,o,134217728,c)}$g(o,134217728)}},Fc=function(o){if(o.tag===13){var a=Jo(o),c=ao(o,a);if(c!==null){var f=Bn();ts(c,o,a,f)}$g(o,a)}},Uc=function(){return lt},zc=function(o,a){var c=lt;try{return lt=o,a()}finally{lt=c}},Wr=function(o,a,c){switch(a){case"input":if(ir(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==o&&f.form===o.form){var y=oh(f);if(!y)throw Error(t(90));xt(f),ir(f,y)}}}break;case"textarea":Ka(o,c);break;case"select":a=c.value,a!=null&&ar(o,!!c.multiple,a,!1)}},Ht=Mg,fn=na;var HN={usingClientEntryPoint:!1,Events:[tu,pl,oh,qe,St,Mg]},mu={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WN={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=zd(o),o===null?null:o.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||BN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Fi=Bh.inject(WN),cr=Bh}catch{}}return nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HN,nr.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qg(a))throw Error(t(200));return $N(o,a,null,c)},nr.createRoot=function(o,a){if(!qg(o))throw Error(t(299));var c=!1,f="",y=GE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=zg(o,1,!1,null,null,c,!1,f,y),o[ro]=a.current,Xc(o.nodeType===8?o.parentNode:o),new Bg(a)},nr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=zd(a),o=o===null?null:o.stateNode,o},nr.flushSync=function(o){return na(o)},nr.hydrate=function(o,a,c){if(!zh(a))throw Error(t(200));return $h(null,o,a,!0,c)},nr.hydrateRoot=function(o,a,c){if(!qg(o))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,y=!1,_="",T=GE;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),a=HE(a,null,o,1,c??null,y,!1,_,T),o[ro]=a.current,Xc(o),f)for(o=0;o<f.length;o++)c=f[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Uh(a)},nr.render=function(o,a,c){if(!zh(a))throw Error(t(200));return $h(null,o,a,!1,c)},nr.unmountComponentAtNode=function(o){if(!zh(o))throw Error(t(40));return o._reactRootContainer?(na(function(){$h(null,null,o,!1,function(){o._reactRootContainer=null,o[ro]=null})}),!0):!1},nr.unstable_batchedUpdates=Mg,nr.unstable_renderSubtreeIntoContainer=function(o,a,c,f){if(!zh(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return $h(o,a,c,!1,f)},nr.version="18.3.1-next-f1338f8080-20240426",nr}var nb;function SI(){if(nb)return Gg.exports;nb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gg.exports=e2(),Gg.exports}var rb;function t2(){if(rb)return qh;rb=1;var n=SI();return qh.createRoot=n.createRoot,qh.hydrateRoot=n.hydrateRoot,qh}var n2=t2();const r2="modulepreload",s2=function(n){return"/"+n},sb={},ls=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=l(t.map(p=>{if(p=s2(p),p in sb)return;sb[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":r2,g||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),g)return new Promise((S,k)=>{E.addEventListener("load",S),E.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};var b=Mv();const ce=xI(b),II=KN({__proto__:null,default:ce},[b]);function ob(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function wp(...n){return e=>{let t=!1;const r=n.map(s=>{const i=ob(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ob(n[s],null)}}}}function Et(...n){return b.useCallback(wp(...n),n)}function Jl(n){const e=o2(n),t=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),h=u.find(a2);if(h){const p=h.props.children,g=u.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return v.jsx(e,{...l,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return v.jsx(e,{...l,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var Ep=Jl("Slot");function o2(n){const e=b.forwardRef((t,r)=>{const{children:s,...i}=t;if(b.isValidElement(s)){const l=c2(s),u=l2(i,s.props);return s.type!==b.Fragment&&(u.ref=r?wp(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var TI=Symbol("radix.slottable");function i2(n){const e=({children:t})=>v.jsx(v.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=TI,e}function a2(n){return b.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===TI}function l2(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...u)=>{const h=i(...u);return s(...u),h}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function c2(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function CI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=CI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function AI(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=CI(n))&&(r&&(r+=" "),r+=e);return r}const ib=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ab=AI,bp=(n,e)=>t=>{var r;if(e?.variants==null)return ab(n,t?.class,t?.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(p=>{const g=t?.[p],m=i?.[p];if(g===null)return null;const E=ib(g)||ib(m);return s[p][E]}),u=t&&Object.entries(t).reduce((p,g)=>{let[m,E]=g;return E===void 0||(p[m]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:m,className:E,...S}=g;return Object.entries(S).every(k=>{let[C,R]=k;return Array.isArray(R)?R.includes({...i,...u}[C]):{...i,...u}[C]===R})?[...p,m,E]:p},[]);return ab(n,l,h,t?.class,t?.className)};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d2=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),lb=n=>{const e=d2(n);return e.charAt(0).toUpperCase()+e.slice(1)},PI=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...u},h)=>b.createElement("svg",{ref:h,...h2,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:PI("lucide",s),...u},[...l.map(([p,g])=>b.createElement(p,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(n,e)=>{const t=b.forwardRef(({className:r,...s},i)=>b.createElement(f2,{ref:i,iconNode:e,className:PI(`lucide-${u2(lb(n))}`,`lucide-${n}`,r),...s}));return t.displayName=lb(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],m2=rt("bell",p2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],RI=rt("check",g2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],v2=rt("chevron-down",y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],w2=rt("chevron-right",_2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],b2=rt("chevron-up",E2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],S2=rt("circle-help",x2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],T2=rt("circle",I2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Vv=rt("clipboard-list",C2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],P2=rt("clock",A2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],k2=rt("command",R2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],D2=rt("eye-off",N2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M2=rt("eye",O2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],L2=rt("factory",V2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],F2=rt("landmark",j2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],z2=rt("layout-dashboard",U2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bu=rt("loader-circle",$2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cb=rt("lock",B2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],H2=rt("log-out",q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],G2=rt("mail",W2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Z2=rt("moon",K2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],xp=rt("package",Q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],X2=rt("panel-left-close",Y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],eD=rt("panel-left",J2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],nD=rt("receipt",tD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sD=rt("refresh-cw",rD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],iD=rt("search-x",oD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Of=rt("search",aD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cD=rt("settings",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dD=rt("shield",uD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],kI=rt("shopping-cart",hD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],pD=rt("sun",fD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gD=rt("triangle-alert",mD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Lv=rt("truck",yD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],_D=rt("user-check",vD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ny=rt("user",wD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],NI=rt("users",ED);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],xD=rt("wallet",bD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],ID=rt("warehouse",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jv=rt("x",TD),Qg=768;function CD(){const[n,e]=b.useState(void 0);return b.useEffect(()=>{const t=window.matchMedia(`(max-width: ${Qg-1}px)`),r=()=>{e(window.innerWidth<Qg)};return t.addEventListener("change",r),e(window.innerWidth<Qg),()=>t.removeEventListener("change",r)},[]),!!n}const Fv="-",AD=n=>{const e=RD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(Fv);return u[0]===""&&u.length!==1&&u.shift(),DI(u,e)||PD(l)},getConflictingClassGroupIds:(l,u)=>{const h=t[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},DI=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?DI(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(Fv);return e.validators.find(({validator:l})=>l(i))?.classGroupId},ub=/^\[(.+)\]$/,PD=n=>{if(ub.test(n)){const e=ub.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},RD=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)Dy(t[s],r,s,e);return r},Dy=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:db(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(kD(s)){Dy(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,l])=>{Dy(l,db(e,i),t,r)})})},db=(n,e)=>{let t=n;return e.split(Fv).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},kD=n=>n.isThemeGetter,ND=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,l)=>{t.set(i,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let l=t.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){t.has(i)?t.set(i,l):s(i,l)}}},Oy="!",My=":",DD=My.length,OD=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const i=[];let l=0,u=0,h=0,p;for(let k=0;k<s.length;k++){let C=s[k];if(l===0&&u===0){if(C===My){i.push(s.slice(h,k)),h=k+DD;continue}if(C==="/"){p=k;continue}}C==="["?l++:C==="]"?l--:C==="("?u++:C===")"&&u--}const g=i.length===0?s:s.substring(h),m=MD(g),E=m!==g,S=p&&p>h?p-h:void 0;return{modifiers:i,hasImportantModifier:E,baseClassName:m,maybePostfixModifierPosition:S}};if(e){const s=e+My,i=r;r=l=>l.startsWith(s)?i(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=i=>t({className:i,parseClassName:s})}return r},MD=n=>n.endsWith(Oy)?n.substring(0,n.length-1):n.startsWith(Oy)?n.substring(1):n,VD=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...i.sort(),l),i=[]):i.push(l)}),s.push(...i.sort()),s}},LD=n=>({cache:ND(n.cacheSize),parseClassName:OD(n),sortModifiers:VD(n),...AD(n)}),jD=/\s+/,FD=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,l=[],u=n.trim().split(jD);let h="";for(let p=u.length-1;p>=0;p-=1){const g=u[p],{isExternal:m,modifiers:E,hasImportantModifier:S,baseClassName:k,maybePostfixModifierPosition:C}=t(g);if(m){h=g+(h.length>0?" "+h:h);continue}let R=!!C,V=r(R?k.substring(0,C):k);if(!V){if(!R){h=g+(h.length>0?" "+h:h);continue}if(V=r(k),!V){h=g+(h.length>0?" "+h:h);continue}R=!1}const U=i(E).join(":"),z=S?U+Oy:U,q=z+V;if(l.includes(q))continue;l.push(q);const W=s(V,R);for(let J=0;J<W.length;++J){const P=W[J];l.push(z+P)}h=g+(h.length>0?" "+h:h)}return h};function UD(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=OI(e))&&(r&&(r+=" "),r+=t);return r}const OI=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=OI(n[r]))&&(t&&(t+=" "),t+=e);return t};function zD(n,...e){let t,r,s,i=l;function l(h){const p=e.reduce((g,m)=>m(g),n());return t=LD(p),r=t.cache.get,s=t.cache.set,i=u,u(h)}function u(h){const p=r(h);if(p)return p;const g=FD(h,t);return s(h,g),g}return function(){return i(UD.apply(null,arguments))}}const cn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},MI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,VI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$D=/^\d+\/\d+$/,BD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,WD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pl=n=>$D.test(n),Je=n=>!!n&&!Number.isNaN(Number(n)),ri=n=>!!n&&Number.isInteger(Number(n)),Yg=n=>n.endsWith("%")&&Je(n.slice(0,-1)),ho=n=>BD.test(n),KD=()=>!0,ZD=n=>qD.test(n)&&!HD.test(n),LI=()=>!1,QD=n=>WD.test(n),YD=n=>GD.test(n),XD=n=>!ke(n)&&!Ne(n),JD=n=>vc(n,UI,LI),ke=n=>MI.test(n),ia=n=>vc(n,zI,ZD),Xg=n=>vc(n,sO,Je),hb=n=>vc(n,jI,LI),eO=n=>vc(n,FI,YD),Hh=n=>vc(n,$I,QD),Ne=n=>VI.test(n),yu=n=>_c(n,zI),tO=n=>_c(n,oO),fb=n=>_c(n,jI),nO=n=>_c(n,UI),rO=n=>_c(n,FI),Wh=n=>_c(n,$I,!0),vc=(n,e,t)=>{const r=MI.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},_c=(n,e,t=!1)=>{const r=VI.exec(n);return r?r[1]?e(r[1]):t:!1},jI=n=>n==="position"||n==="percentage",FI=n=>n==="image"||n==="url",UI=n=>n==="length"||n==="size"||n==="bg-size",zI=n=>n==="length",sO=n=>n==="number",oO=n=>n==="family-name",$I=n=>n==="shadow",iO=()=>{const n=cn("color"),e=cn("font"),t=cn("text"),r=cn("font-weight"),s=cn("tracking"),i=cn("leading"),l=cn("breakpoint"),u=cn("container"),h=cn("spacing"),p=cn("radius"),g=cn("shadow"),m=cn("inset-shadow"),E=cn("text-shadow"),S=cn("drop-shadow"),k=cn("blur"),C=cn("perspective"),R=cn("aspect"),V=cn("ease"),U=cn("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...q(),Ne,ke],J=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],I=()=>[Ne,ke,h],A=()=>[Pl,"full","auto",...I()],O=()=>[ri,"none","subgrid",Ne,ke],M=()=>["auto",{span:["full",ri,Ne,ke]},ri,Ne,ke],L=()=>[ri,"auto",Ne,ke],N=()=>["auto","min","max","fr",Ne,ke],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ve=()=>["start","end","center","stretch","center-safe","end-safe"],pe=()=>["auto",...I()],me=()=>[Pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],H=()=>[n,Ne,ke],ne=()=>[...q(),fb,hb,{position:[Ne,ke]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",nO,JD,{size:[Ne,ke]}],G=()=>[Yg,yu,ia],oe=()=>["","none","full",p,Ne,ke],ie=()=>["",Je,yu,ia],fe=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[Je,Yg,fb,hb],Ie=()=>["","none",k,Ne,ke],Ge=()=>["none",Je,Ne,ke],Qe=()=>["none",Je,Ne,ke],ye=()=>[Je,Ne,ke],xt=()=>[Pl,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ho],breakpoint:[ho],color:[KD],container:[ho],"drop-shadow":[ho],ease:["in","out","in-out"],font:[XD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ho],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ho],shadow:[ho],spacing:["px",Je],text:[ho],"text-shadow":[ho],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pl,ke,Ne,R]}],container:["container"],columns:[{columns:[Je,ke,Ne,u]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[ri,"auto",Ne,ke]}],basis:[{basis:[Pl,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,Pl,"auto","initial","none",ke]}],grow:[{grow:["",Je,Ne,ke]}],shrink:[{shrink:["",Je,Ne,ke]}],order:[{order:[ri,"first","last","none",Ne,ke]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...Ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ve()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...Ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...Ve(),"baseline"]}],"place-self":[{"place-self":["auto",...Ve()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:pe()}],mx:[{mx:pe()}],my:[{my:pe()}],ms:[{ms:pe()}],me:[{me:pe()}],mt:[{mt:pe()}],mr:[{mr:pe()}],mb:[{mb:pe()}],ml:[{ml:pe()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:me()}],w:[{w:[u,"screen",...me()]}],"min-w":[{"min-w":[u,"screen","none",...me()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...me()]}],h:[{h:["screen","lh",...me()]}],"min-h":[{"min-h":["screen","lh","none",...me()]}],"max-h":[{"max-h":["screen","lh",...me()]}],"font-size":[{text:["base",t,yu,ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,Xg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Yg,ke]}],"font-family":[{font:[tO,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,ke]}],"line-clamp":[{"line-clamp":[Je,"none",Ne,Xg]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",Ne,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Ne,ia]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Je,"auto",Ne,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ri,Ne,ke],radial:["",Ne,ke],conic:[ri,Ne,ke]},rO,eO]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Ne,ke]}],"outline-w":[{outline:["",Je,yu,ia]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",g,Wh,Hh]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",m,Wh,Hh]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Je,ia]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",E,Wh,Hh]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Je,Ne,ke]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ne,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":q()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,ke]}],filter:[{filter:["","none",Ne,ke]}],blur:[{blur:Ie()}],brightness:[{brightness:[Je,Ne,ke]}],contrast:[{contrast:[Je,Ne,ke]}],"drop-shadow":[{"drop-shadow":["","none",S,Wh,Hh]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Je,Ne,ke]}],"hue-rotate":[{"hue-rotate":[Je,Ne,ke]}],invert:[{invert:["",Je,Ne,ke]}],saturate:[{saturate:[Je,Ne,ke]}],sepia:[{sepia:["",Je,Ne,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,ke]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Ne,ke]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Ne,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Ne,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Ne,ke]}],"backdrop-invert":[{"backdrop-invert":["",Je,Ne,ke]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Ne,ke]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Ne,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Ne,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Ne,ke]}],ease:[{ease:["linear","initial",V,Ne,ke]}],delay:[{delay:[Je,Ne,ke]}],animate:[{animate:["none",U,Ne,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ne,ke]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[Ne,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xt()}],"translate-x":[{"translate-x":xt()}],"translate-y":[{"translate-y":xt()}],"translate-z":[{"translate-z":xt()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,ke]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Je,yu,ia,Xg]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},aO=zD(iO);function Be(...n){return aO(AI(n))}const lO=bp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ia({className:n,variant:e,size:t,asChild:r=!1,...s}){const i=r?Ep:"button";return v.jsx(i,{"data-slot":"button",className:Be(lO({variant:e,size:t,className:n})),...s})}function Iu({className:n,type:e,...t}){return v.jsx("input",{type:e,"data-slot":"input",className:Be("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Uv=SI();const BI=xI(Uv);var cO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=cO.reduce((n,e)=>{const t=Jl(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(h,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function qI(n,e){n&&Uv.flushSync(()=>n.dispatchEvent(e))}var uO="Separator",pb="horizontal",dO=["horizontal","vertical"],HI=b.forwardRef((n,e)=>{const{decorative:t,orientation:r=pb,...s}=n,i=hO(r)?r:pb,u=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return v.jsx(ht.div,{"data-orientation":i,...u,...s,ref:e})});HI.displayName=uO;function hO(n){return dO.includes(n)}var fO=HI;function pO({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return v.jsx(fO,{"data-slot":"separator-root",decorative:t,orientation:e,className:Be("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function je(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function mO(n,e){const t=b.createContext(e),r=i=>{const{children:l,...u}=i,h=b.useMemo(()=>u,Object.values(u));return v.jsx(t.Provider,{value:h,children:l})};r.displayName=n+"Provider";function s(i){const l=b.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function Ws(n,e=[]){let t=[];function r(i,l){const u=b.createContext(l),h=t.length;t=[...t,l];const p=m=>{const{scope:E,children:S,...k}=m,C=E?.[n]?.[h]||u,R=b.useMemo(()=>k,Object.values(k));return v.jsx(C.Provider,{value:R,children:S})};p.displayName=i+"Provider";function g(m,E){const S=E?.[n]?.[h]||u,k=b.useContext(S);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[p,g]}const s=()=>{const i=t.map(l=>b.createContext(l));return function(u){const h=u?.[n]||i;return b.useMemo(()=>({[`__scope${n}`]:{...u,[n]:h}}),[u,h])}};return s.scopeName=n,[r,gO(s,...e)]}function gO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const m=h(i)[`__scope${p}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var vo=globalThis?.document?b.useLayoutEffect:()=>{},yO=II[" useId ".trim().toString()]||(()=>{}),vO=0;function va(n){const[e,t]=b.useState(yO());return vo(()=>{t(r=>r??String(vO++))},[n]),e?`radix-${e}`:""}var _O=II[" useInsertionEffect ".trim().toString()]||vo;function wc({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,l]=wO({defaultProp:e,onChange:t}),u=n!==void 0,h=u?n:s;{const g=b.useRef(n!==void 0);b.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const p=b.useCallback(g=>{if(u){const m=EO(g)?g(n):g;m!==n&&l.current?.(m)}else i(g)},[u,n,i,l]);return[h,p]}function wO({defaultProp:n,onChange:e}){const[t,r]=b.useState(n),s=b.useRef(t),i=b.useRef(e);return _O(()=>{i.current=e},[e]),b.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,r,i]}function EO(n){return typeof n=="function"}function Ln(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}function bO(n,e=globalThis?.document){const t=Ln(n);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var xO="DismissableLayer",Vy="dismissableLayer.update",SO="dismissableLayer.pointerDownOutside",IO="dismissableLayer.focusOutside",mb,WI=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sp=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...h}=n,p=b.useContext(WI),[g,m]=b.useState(null),E=g?.ownerDocument??globalThis?.document,[,S]=b.useState({}),k=Et(e,P=>m(P)),C=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),V=C.indexOf(R),U=g?C.indexOf(g):-1,z=p.layersWithOutsidePointerEventsDisabled.size>0,q=U>=V,W=AO(P=>{const I=P.target,A=[...p.branches].some(O=>O.contains(I));!q||A||(s?.(P),l?.(P),P.defaultPrevented||u?.())},E),J=PO(P=>{const I=P.target;[...p.branches].some(O=>O.contains(I))||(i?.(P),l?.(P),P.defaultPrevented||u?.())},E);return bO(P=>{U===p.layers.size-1&&(r?.(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},E),b.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(mb=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),gb(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=mb)}},[g,E,t,p]),b.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),gb())},[g,p]),b.useEffect(()=>{const P=()=>S({});return document.addEventListener(Vy,P),()=>document.removeEventListener(Vy,P)},[]),v.jsx(ht.div,{...h,ref:k,style:{pointerEvents:z?q?"auto":"none":void 0,...n.style},onFocusCapture:je(n.onFocusCapture,J.onFocusCapture),onBlurCapture:je(n.onBlurCapture,J.onBlurCapture),onPointerDownCapture:je(n.onPointerDownCapture,W.onPointerDownCapture)})});Sp.displayName=xO;var TO="DismissableLayerBranch",CO=b.forwardRef((n,e)=>{const t=b.useContext(WI),r=b.useRef(null),s=Et(e,r);return b.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),v.jsx(ht.div,{...n,ref:s})});CO.displayName=TO;function AO(n,e=globalThis?.document){const t=Ln(n),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let h=function(){GI(SO,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function PO(n,e=globalThis?.document){const t=Ln(n),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&GI(IO,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gb(){const n=new CustomEvent(Vy);document.dispatchEvent(n)}function GI(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?qI(s,i):s.dispatchEvent(i)}var Jg="focusScope.autoFocusOnMount",ey="focusScope.autoFocusOnUnmount",yb={bubbles:!1,cancelable:!0},RO="FocusScope",zv=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=n,[u,h]=b.useState(null),p=Ln(s),g=Ln(i),m=b.useRef(null),E=Et(e,C=>h(C)),S=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let C=function(z){if(S.paused||!u)return;const q=z.target;u.contains(q)?m.current=q:ci(m.current,{select:!0})},R=function(z){if(S.paused||!u)return;const q=z.relatedTarget;q!==null&&(u.contains(q)||ci(m.current,{select:!0}))},V=function(z){if(document.activeElement===document.body)for(const W of z)W.removedNodes.length>0&&ci(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",R);const U=new MutationObserver(V);return u&&U.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",R),U.disconnect()}}},[r,u,S.paused]),b.useEffect(()=>{if(u){_b.add(S);const C=document.activeElement;if(!u.contains(C)){const V=new CustomEvent(Jg,yb);u.addEventListener(Jg,p),u.dispatchEvent(V),V.defaultPrevented||(kO(VO(KI(u)),{select:!0}),document.activeElement===C&&ci(u))}return()=>{u.removeEventListener(Jg,p),setTimeout(()=>{const V=new CustomEvent(ey,yb);u.addEventListener(ey,g),u.dispatchEvent(V),V.defaultPrevented||ci(C??document.body,{select:!0}),u.removeEventListener(ey,g),_b.remove(S)},0)}}},[u,p,g,S]);const k=b.useCallback(C=>{if(!t&&!r||S.paused)return;const R=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,V=document.activeElement;if(R&&V){const U=C.currentTarget,[z,q]=NO(U);z&&q?!C.shiftKey&&V===q?(C.preventDefault(),t&&ci(z,{select:!0})):C.shiftKey&&V===z&&(C.preventDefault(),t&&ci(q,{select:!0})):V===U&&C.preventDefault()}},[t,r,S.paused]);return v.jsx(ht.div,{tabIndex:-1,...l,ref:E,onKeyDown:k})});zv.displayName=RO;function kO(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ci(r,{select:e}),document.activeElement!==t)return}function NO(n){const e=KI(n),t=vb(e,n),r=vb(e.reverse(),n);return[t,r]}function KI(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function vb(n,e){for(const t of n)if(!DO(t,{upTo:e}))return t}function DO(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function OO(n){return n instanceof HTMLInputElement&&"select"in n}function ci(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&OO(n)&&e&&n.select()}}var _b=MO();function MO(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=wb(n,e),n.unshift(e)},remove(e){n=wb(n,e),n[0]?.resume()}}}function wb(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function VO(n){return n.filter(e=>e.tagName!=="A")}var LO="Portal",Ip=b.forwardRef((n,e)=>{const{container:t,...r}=n,[s,i]=b.useState(!1);vo(()=>i(!0),[]);const l=t||s&&globalThis?.document?.body;return l?BI.createPortal(v.jsx(ht.div,{...r,ref:e}),l):null});Ip.displayName=LO;function jO(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Gn=n=>{const{present:e,children:t}=n,r=FO(e),s=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),i=Et(r.ref,UO(s));return typeof t=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};Gn.displayName="Presence";function FO(n){const[e,t]=b.useState(),r=b.useRef(null),s=b.useRef(n),i=b.useRef("none"),l=n?"mounted":"unmounted",[u,h]=jO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Gh(r.current);i.current=u==="mounted"?p:"none"},[u]),vo(()=>{const p=r.current,g=s.current;if(g!==n){const E=i.current,S=Gh(p);n?h("MOUNT"):S==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&E!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),vo(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,m=S=>{const C=Gh(r.current).includes(CSS.escape(S.animationName));if(S.target===e&&C&&(h("ANIMATION_END"),!s.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},E=S=>{S.target===e&&(i.current=Gh(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Gh(n){return n?.animationName||"none"}function UO(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var ty=0;function ZI(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Eb()),document.body.insertAdjacentElement("beforeend",n[1]??Eb()),ty++,()=>{ty===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ty--}},[])}function Eb(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ns=function(){return Ns=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ns.apply(this,arguments)};function QI(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function zO(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var mf="right-scroll-bar-position",gf="width-before-scroll-bar",$O="with-scroll-bars-hidden",BO="--removed-body-scroll-bar-size";function ny(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function qO(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var HO=typeof window<"u"?b.useLayoutEffect:b.useEffect,bb=new WeakMap;function WO(n,e){var t=qO(null,function(r){return n.forEach(function(s){return ny(s,r)})});return HO(function(){var r=bb.get(t);if(r){var s=new Set(r),i=new Set(n),l=t.current;s.forEach(function(u){i.has(u)||ny(u,null)}),i.forEach(function(u){s.has(u)||ny(u,l)})}bb.set(t,n)},[n]),t}function GO(n){return n}function KO(n,e){e===void 0&&(e=GO);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var l=e(i,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(r=!0;t.length;){var l=t;t=[],l.forEach(i)}t={push:function(u){return i(u)},filter:function(){return t}}},assignMedium:function(i){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(i),l=t}var h=function(){var g=l;l=[],g.forEach(i)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),t}}}};return s}function ZO(n){n===void 0&&(n={});var e=KO(null);return e.options=Ns({async:!0,ssr:!1},n),e}var YI=function(n){var e=n.sideCar,t=QI(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ns({},t))};YI.isSideCarExport=!0;function QO(n,e){return n.useMedium(e),YI}var XI=ZO(),ry=function(){},Tp=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:ry,onWheelCapture:ry,onTouchMoveCapture:ry}),s=r[0],i=r[1],l=n.forwardProps,u=n.children,h=n.className,p=n.removeScrollBar,g=n.enabled,m=n.shards,E=n.sideCar,S=n.noRelative,k=n.noIsolation,C=n.inert,R=n.allowPinchZoom,V=n.as,U=V===void 0?"div":V,z=n.gapMode,q=QI(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),W=E,J=WO([t,e]),P=Ns(Ns({},q),s);return b.createElement(b.Fragment,null,g&&b.createElement(W,{sideCar:XI,removeScrollBar:p,shards:m,noRelative:S,noIsolation:k,inert:C,setCallbacks:i,allowPinchZoom:!!R,lockRef:t,gapMode:z}),l?b.cloneElement(b.Children.only(u),Ns(Ns({},P),{ref:J})):b.createElement(U,Ns({},P,{className:h,ref:J}),u))});Tp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tp.classNames={fullWidth:gf,zeroRight:mf};var YO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XO(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=YO();return e&&n.setAttribute("nonce",e),n}function JO(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function eM(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var tM=function(){var n=0,e=null;return{add:function(t){n==0&&(e=XO())&&(JO(e,t),eM(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nM=function(){var n=tM();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},JI=function(){var n=nM(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},rM={left:0,top:0,right:0,gap:0},sy=function(n){return parseInt(n||"",10)||0},sM=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[sy(t),sy(r),sy(s)]},oM=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return rM;var e=sM(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},iM=JI(),Wl="data-scroll-locked",aM=function(n,e,t,r){var s=n.left,i=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat($O,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Wl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mf,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(gf,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(mf," .").concat(mf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wl,`] {
    `).concat(BO,": ").concat(u,`px;
  }
`)},xb=function(){var n=parseInt(document.body.getAttribute(Wl)||"0",10);return isFinite(n)?n:0},lM=function(){b.useEffect(function(){return document.body.setAttribute(Wl,(xb()+1).toString()),function(){var n=xb()-1;n<=0?document.body.removeAttribute(Wl):document.body.setAttribute(Wl,n.toString())}},[])},cM=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;lM();var i=b.useMemo(function(){return oM(s)},[s]);return b.createElement(iM,{styles:aM(i,!e,s,t?"":"!important")})},Ly=!1;if(typeof window<"u")try{var Kh=Object.defineProperty({},"passive",{get:function(){return Ly=!0,!0}});window.addEventListener("test",Kh,Kh),window.removeEventListener("test",Kh,Kh)}catch{Ly=!1}var Rl=Ly?{passive:!1}:!1,uM=function(n){return n.tagName==="TEXTAREA"},e1=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!uM(n)&&t[e]==="visible")},dM=function(n){return e1(n,"overflowY")},hM=function(n){return e1(n,"overflowX")},Sb=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=t1(n,r);if(s){var i=n1(n,r),l=i[1],u=i[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},fM=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},pM=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},t1=function(n,e){return n==="v"?dM(e):hM(e)},n1=function(n,e){return n==="v"?fM(e):pM(e)},mM=function(n,e){return n==="h"&&e==="rtl"?-1:1},gM=function(n,e,t,r,s){var i=mM(n,window.getComputedStyle(e).direction),l=i*r,u=t.target,h=e.contains(u),p=!1,g=l>0,m=0,E=0;do{if(!u)break;var S=n1(n,u),k=S[0],C=S[1],R=S[2],V=C-R-i*k;(k||V)&&t1(n,u)&&(m+=V,E+=k);var U=u.parentNode;u=U&&U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?U.host:U}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(g&&Math.abs(m)<1||!g&&Math.abs(E)<1)&&(p=!0),p},Zh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Ib=function(n){return[n.deltaX,n.deltaY]},Tb=function(n){return n&&"current"in n?n.current:n},yM=function(n,e){return n[0]===e[0]&&n[1]===e[1]},vM=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},_M=0,kl=[];function wM(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),s=b.useState(_M++)[0],i=b.useState(JI)[0],l=b.useRef(n);b.useEffect(function(){l.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var C=zO([n.lockRef.current],(n.shards||[]).map(Tb),!0).filter(Boolean);return C.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var u=b.useCallback(function(C,R){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var V=Zh(C),U=t.current,z="deltaX"in C?C.deltaX:U[0]-V[0],q="deltaY"in C?C.deltaY:U[1]-V[1],W,J=C.target,P=Math.abs(z)>Math.abs(q)?"h":"v";if("touches"in C&&P==="h"&&J.type==="range")return!1;var I=Sb(P,J);if(!I)return!0;if(I?W=P:(W=P==="v"?"h":"v",I=Sb(P,J)),!I)return!1;if(!r.current&&"changedTouches"in C&&(z||q)&&(r.current=W),!W)return!0;var A=r.current||W;return gM(A,R,C,A==="h"?z:q)},[]),h=b.useCallback(function(C){var R=C;if(!(!kl.length||kl[kl.length-1]!==i)){var V="deltaY"in R?Ib(R):Zh(R),U=e.current.filter(function(W){return W.name===R.type&&(W.target===R.target||R.target===W.shadowParent)&&yM(W.delta,V)})[0];if(U&&U.should){R.cancelable&&R.preventDefault();return}if(!U){var z=(l.current.shards||[]).map(Tb).filter(Boolean).filter(function(W){return W.contains(R.target)}),q=z.length>0?u(R,z[0]):!l.current.noIsolation;q&&R.cancelable&&R.preventDefault()}}},[]),p=b.useCallback(function(C,R,V,U){var z={name:C,delta:R,target:V,should:U,shadowParent:EM(V)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(q){return q!==z})},1)},[]),g=b.useCallback(function(C){t.current=Zh(C),r.current=void 0},[]),m=b.useCallback(function(C){p(C.type,Ib(C),C.target,u(C,n.lockRef.current))},[]),E=b.useCallback(function(C){p(C.type,Zh(C),C.target,u(C,n.lockRef.current))},[]);b.useEffect(function(){return kl.push(i),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:E}),document.addEventListener("wheel",h,Rl),document.addEventListener("touchmove",h,Rl),document.addEventListener("touchstart",g,Rl),function(){kl=kl.filter(function(C){return C!==i}),document.removeEventListener("wheel",h,Rl),document.removeEventListener("touchmove",h,Rl),document.removeEventListener("touchstart",g,Rl)}},[]);var S=n.removeScrollBar,k=n.inert;return b.createElement(b.Fragment,null,k?b.createElement(i,{styles:vM(s)}):null,S?b.createElement(cM,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function EM(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const bM=QO(XI,wM);var $v=b.forwardRef(function(n,e){return b.createElement(Tp,Ns({},n,{ref:e,sideCar:bM}))});$v.classNames=Tp.classNames;var xM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Nl=new WeakMap,Qh=new WeakMap,Yh={},oy=0,r1=function(n){return n&&(n.host||r1(n.parentNode))},SM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=r1(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},IM=function(n,e,t,r){var s=SM(e,Array.isArray(n)?n:[n]);Yh[t]||(Yh[t]=new WeakMap);var i=Yh[t],l=[],u=new Set,h=new Set(s),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};s.forEach(p);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(E){if(u.has(E))g(E);else try{var S=E.getAttribute(r),k=S!==null&&S!=="false",C=(Nl.get(E)||0)+1,R=(i.get(E)||0)+1;Nl.set(E,C),i.set(E,R),l.push(E),C===1&&k&&Qh.set(E,!0),R===1&&E.setAttribute(t,"true"),k||E.setAttribute(r,"true")}catch(V){console.error("aria-hidden: cannot operate on ",E,V)}})};return g(e),u.clear(),oy++,function(){l.forEach(function(m){var E=Nl.get(m)-1,S=i.get(m)-1;Nl.set(m,E),i.set(m,S),E||(Qh.has(m)||m.removeAttribute(r),Qh.delete(m)),S||m.removeAttribute(t)}),oy--,oy||(Nl=new WeakMap,Nl=new WeakMap,Qh=new WeakMap,Yh={})}},s1=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=xM(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),IM(r,s,t,"aria-hidden")):function(){return null}},Cp="Dialog",[o1]=Ws(Cp),[TM,cs]=o1(Cp),i1=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=n,u=b.useRef(null),h=b.useRef(null),[p,g]=wc({prop:r,defaultProp:s??!1,onChange:i,caller:Cp});return v.jsx(TM,{scope:e,triggerRef:u,contentRef:h,contentId:va(),titleId:va(),descriptionId:va(),open:p,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(m=>!m),[g]),modal:l,children:t})};i1.displayName=Cp;var a1="DialogTrigger",l1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=cs(a1,t),i=Et(e,s.triggerRef);return v.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Hv(s.open),...r,ref:i,onClick:je(n.onClick,s.onOpenToggle)})});l1.displayName=a1;var Bv="DialogPortal",[CM,c1]=o1(Bv,{forceMount:void 0}),u1=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=cs(Bv,e);return v.jsx(CM,{scope:e,forceMount:t,children:b.Children.map(r,l=>v.jsx(Gn,{present:t||i.open,children:v.jsx(Ip,{asChild:!0,container:s,children:l})}))})};u1.displayName=Bv;var Mf="DialogOverlay",d1=b.forwardRef((n,e)=>{const t=c1(Mf,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=cs(Mf,n.__scopeDialog);return i.modal?v.jsx(Gn,{present:r||i.open,children:v.jsx(PM,{...s,ref:e})}):null});d1.displayName=Mf;var AM=Jl("DialogOverlay.RemoveScroll"),PM=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=cs(Mf,t);return v.jsx($v,{as:AM,allowPinchZoom:!0,shards:[s.contentRef],children:v.jsx(ht.div,{"data-state":Hv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ta="DialogContent",h1=b.forwardRef((n,e)=>{const t=c1(Ta,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=cs(Ta,n.__scopeDialog);return v.jsx(Gn,{present:r||i.open,children:i.modal?v.jsx(RM,{...s,ref:e}):v.jsx(kM,{...s,ref:e})})});h1.displayName=Ta;var RM=b.forwardRef((n,e)=>{const t=cs(Ta,n.__scopeDialog),r=b.useRef(null),s=Et(e,t.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return s1(i)},[]),v.jsx(f1,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(n.onCloseAutoFocus,i=>{i.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:je(n.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:je(n.onFocusOutside,i=>i.preventDefault())})}),kM=b.forwardRef((n,e)=>{const t=cs(Ta,n.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return v.jsx(f1,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{n.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{n.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;t.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),f1=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=n,u=cs(Ta,t),h=b.useRef(null),p=Et(e,h);return ZI(),v.jsxs(v.Fragment,{children:[v.jsx(zv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:v.jsx(Sp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Hv(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(NM,{titleId:u.titleId}),v.jsx(OM,{contentRef:h,descriptionId:u.descriptionId})]})]})}),qv="DialogTitle",p1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=cs(qv,t);return v.jsx(ht.h2,{id:s.titleId,...r,ref:e})});p1.displayName=qv;var m1="DialogDescription",g1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=cs(m1,t);return v.jsx(ht.p,{id:s.descriptionId,...r,ref:e})});g1.displayName=m1;var y1="DialogClose",v1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=cs(y1,t);return v.jsx(ht.button,{type:"button",...r,ref:e,onClick:je(n.onClick,()=>s.onOpenChange(!1))})});v1.displayName=y1;function Hv(n){return n?"open":"closed"}var _1="DialogTitleWarning",[ZH,w1]=mO(_1,{contentName:Ta,titleName:qv,docsSlug:"dialog"}),NM=({titleId:n})=>{const e=w1(_1),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},DM="DialogDescriptionWarning",OM=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${w1(DM).contentName}}.`;return b.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},E1=i1,MM=l1,b1=u1,Wv=d1,Gv=h1,Kv=p1,Zv=g1,x1=v1;const VM=E1,LM=b1,S1=b.forwardRef(({className:n,...e},t)=>v.jsx(Wv,{className:Be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));S1.displayName=Wv.displayName;const jM=bp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),I1=b.forwardRef(({side:n="right",className:e,children:t,...r},s)=>v.jsxs(LM,{children:[v.jsx(S1,{}),v.jsxs(Gv,{ref:s,className:Be(jM({side:n}),e),...r,children:[t,v.jsxs(x1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[v.jsx(jv,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));I1.displayName=Gv.displayName;const T1=({className:n,...e})=>v.jsx("div",{className:Be("flex flex-col space-y-2 text-center sm:text-left",n),...e});T1.displayName="SheetHeader";const C1=b.forwardRef(({className:n,...e},t)=>v.jsx(Kv,{ref:t,className:Be("text-lg font-semibold text-foreground",n),...e}));C1.displayName=Kv.displayName;const A1=b.forwardRef(({className:n,...e},t)=>v.jsx(Zv,{ref:t,className:Be("text-sm text-muted-foreground",n),...e}));A1.displayName=Zv.displayName;const FM=["top","right","bottom","left"],Ii=Math.min,wr=Math.max,Vf=Math.round,Xh=Math.floor,Ls=n=>({x:n,y:n}),UM={left:"right",right:"left",bottom:"top",top:"bottom"},zM={start:"end",end:"start"};function jy(n,e,t){return wr(n,Ii(e,t))}function _o(n,e){return typeof n=="function"?n(e):n}function wo(n){return n.split("-")[0]}function Ec(n){return n.split("-")[1]}function Qv(n){return n==="x"?"y":"x"}function Yv(n){return n==="y"?"height":"width"}const $M=new Set(["top","bottom"]);function Os(n){return $M.has(wo(n))?"y":"x"}function Xv(n){return Qv(Os(n))}function BM(n,e,t){t===void 0&&(t=!1);const r=Ec(n),s=Xv(n),i=Yv(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=Lf(l)),[l,Lf(l)]}function qM(n){const e=Lf(n);return[Fy(n),e,Fy(e)]}function Fy(n){return n.replace(/start|end/g,e=>zM[e])}const Cb=["left","right"],Ab=["right","left"],HM=["top","bottom"],WM=["bottom","top"];function GM(n,e,t){switch(n){case"top":case"bottom":return t?e?Ab:Cb:e?Cb:Ab;case"left":case"right":return e?HM:WM;default:return[]}}function KM(n,e,t,r){const s=Ec(n);let i=GM(wo(n),t==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(Fy)))),i}function Lf(n){return n.replace(/left|right|bottom|top/g,e=>UM[e])}function ZM(n){return{top:0,right:0,bottom:0,left:0,...n}}function P1(n){return typeof n!="number"?ZM(n):{top:n,right:n,bottom:n,left:n}}function jf(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function Pb(n,e,t){let{reference:r,floating:s}=n;const i=Os(e),l=Xv(e),u=Yv(l),h=wo(e),p=i==="y",g=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,E=r[u]/2-s[u]/2;let S;switch(h){case"top":S={x:g,y:r.y-s.height};break;case"bottom":S={x:g,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:m};break;case"left":S={x:r.x-s.width,y:m};break;default:S={x:r.x,y:r.y}}switch(Ec(e)){case"start":S[l]-=E*(t&&p?-1:1);break;case"end":S[l]+=E*(t&&p?-1:1);break}return S}const QM=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=t,u=i.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y:m}=Pb(p,r,h),E=r,S={},k=0;for(let C=0;C<u.length;C++){const{name:R,fn:V}=u[C],{x:U,y:z,data:q,reset:W}=await V({x:g,y:m,initialPlacement:r,placement:E,strategy:s,middlewareData:S,rects:p,platform:l,elements:{reference:n,floating:e}});g=U??g,m=z??m,S={...S,[R]:{...S[R],...q}},W&&k<=50&&(k++,typeof W=="object"&&(W.placement&&(E=W.placement),W.rects&&(p=W.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):W.rects),{x:g,y:m}=Pb(p,E,h)),C=-1)}return{x:g,y:m,placement:E,strategy:s,middlewareData:S}};async function qu(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:u,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:E=!1,padding:S=0}=_o(e,n),k=P1(S),R=u[E?m==="floating"?"reference":"floating":m],V=jf(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(R)))==null||t?R:R.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:h})),U=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,z=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),q=await(i.isElement==null?void 0:i.isElement(z))?await(i.getScale==null?void 0:i.getScale(z))||{x:1,y:1}:{x:1,y:1},W=jf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:U,offsetParent:z,strategy:h}):U);return{top:(V.top-W.top+k.top)/q.y,bottom:(W.bottom-V.bottom+k.bottom)/q.y,left:(V.left-W.left+k.left)/q.x,right:(W.right-V.right+k.right)/q.x}}const YM=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:g=0}=_o(n,e)||{};if(p==null)return{};const m=P1(g),E={x:t,y:r},S=Xv(s),k=Yv(S),C=await l.getDimensions(p),R=S==="y",V=R?"top":"left",U=R?"bottom":"right",z=R?"clientHeight":"clientWidth",q=i.reference[k]+i.reference[S]-E[S]-i.floating[k],W=E[S]-i.reference[S],J=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let P=J?J[z]:0;(!P||!await(l.isElement==null?void 0:l.isElement(J)))&&(P=u.floating[z]||i.floating[k]);const I=q/2-W/2,A=P/2-C[k]/2-1,O=Ii(m[V],A),M=Ii(m[U],A),L=O,N=P-C[k]-M,de=P/2-C[k]/2+I,Ve=jy(L,de,N),pe=!h.arrow&&Ec(s)!=null&&de!==Ve&&i.reference[k]/2-(de<L?O:M)-C[k]/2<0,me=pe?de<L?de-L:de-N:0;return{[S]:E[S]+me,data:{[S]:Ve,centerOffset:de-Ve-me,...pe&&{alignmentOffset:me}},reset:pe}}}),XM=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:E,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:C=!0,...R}=_o(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const V=wo(s),U=Os(u),z=wo(u)===u,q=await(h.isRTL==null?void 0:h.isRTL(p.floating)),W=E||(z||!C?[Lf(u)]:qM(u)),J=k!=="none";!E&&J&&W.push(...KM(u,C,k,q));const P=[u,...W],I=await qu(e,R),A=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&A.push(I[V]),m){const de=BM(s,l,q);A.push(I[de[0]],I[de[1]])}if(O=[...O,{placement:s,overflows:A}],!A.every(de=>de<=0)){var M,L;const de=(((M=i.flip)==null?void 0:M.index)||0)+1,Ve=P[de];if(Ve&&(!(m==="alignment"?U!==Os(Ve):!1)||O.every(H=>Os(H.placement)===U?H.overflows[0]>0:!0)))return{data:{index:de,overflows:O},reset:{placement:Ve}};let pe=(L=O.filter(me=>me.overflows[0]<=0).sort((me,H)=>me.overflows[1]-H.overflows[1])[0])==null?void 0:L.placement;if(!pe)switch(S){case"bestFit":{var N;const me=(N=O.filter(H=>{if(J){const ne=Os(H.placement);return ne===U||ne==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ne=>ne>0).reduce((ne,Y)=>ne+Y,0)]).sort((H,ne)=>H[1]-ne[1])[0])==null?void 0:N[0];me&&(pe=me);break}case"initialPlacement":pe=u;break}if(s!==pe)return{reset:{placement:pe}}}return{}}}};function Rb(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function kb(n){return FM.some(e=>n[e]>=0)}const JM=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=_o(n,e);switch(r){case"referenceHidden":{const i=await qu(e,{...s,elementContext:"reference"}),l=Rb(i,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:kb(l)}}}case"escaped":{const i=await qu(e,{...s,altBoundary:!0}),l=Rb(i,t.floating);return{data:{escapedOffsets:l,escaped:kb(l)}}}default:return{}}}}},R1=new Set(["left","top"]);async function eV(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=wo(t),u=Ec(t),h=Os(t)==="y",p=R1.has(l)?-1:1,g=i&&h?-1:1,m=_o(e,n);let{mainAxis:E,crossAxis:S,alignmentAxis:k}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof k=="number"&&(S=u==="end"?k*-1:k),h?{x:S*g,y:E*p}:{x:E*p,y:S*g}}const tV=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:l,middlewareData:u}=e,h=await eV(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:i+h.y,data:{...h,placement:l}}}}},nV=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:R=>{let{x:V,y:U}=R;return{x:V,y:U}}},...h}=_o(n,e),p={x:t,y:r},g=await qu(e,h),m=Os(wo(s)),E=Qv(m);let S=p[E],k=p[m];if(i){const R=E==="y"?"top":"left",V=E==="y"?"bottom":"right",U=S+g[R],z=S-g[V];S=jy(U,S,z)}if(l){const R=m==="y"?"top":"left",V=m==="y"?"bottom":"right",U=k+g[R],z=k-g[V];k=jy(U,k,z)}const C=u.fn({...e,[E]:S,[m]:k});return{...C,data:{x:C.x-t,y:C.y-r,enabled:{[E]:i,[m]:l}}}}}},rV=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=_o(n,e),g={x:t,y:r},m=Os(s),E=Qv(m);let S=g[E],k=g[m];const C=_o(u,e),R=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const z=E==="y"?"height":"width",q=i.reference[E]-i.floating[z]+R.mainAxis,W=i.reference[E]+i.reference[z]-R.mainAxis;S<q?S=q:S>W&&(S=W)}if(p){var V,U;const z=E==="y"?"width":"height",q=R1.has(wo(s)),W=i.reference[m]-i.floating[z]+(q&&((V=l.offset)==null?void 0:V[m])||0)+(q?0:R.crossAxis),J=i.reference[m]+i.reference[z]+(q?0:((U=l.offset)==null?void 0:U[m])||0)-(q?R.crossAxis:0);k<W?k=W:k>J&&(k=J)}return{[E]:S,[m]:k}}}},sV=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:l,elements:u}=e,{apply:h=()=>{},...p}=_o(n,e),g=await qu(e,p),m=wo(s),E=Ec(s),S=Os(s)==="y",{width:k,height:C}=i.floating;let R,V;m==="top"||m==="bottom"?(R=m,V=E===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(V=m,R=E==="end"?"top":"bottom");const U=C-g.top-g.bottom,z=k-g.left-g.right,q=Ii(C-g[R],U),W=Ii(k-g[V],z),J=!e.middlewareData.shift;let P=q,I=W;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=U),J&&!E){const O=wr(g.left,0),M=wr(g.right,0),L=wr(g.top,0),N=wr(g.bottom,0);S?I=k-2*(O!==0||M!==0?O+M:wr(g.left,g.right)):P=C-2*(L!==0||N!==0?L+N:wr(g.top,g.bottom))}await h({...e,availableWidth:I,availableHeight:P});const A=await l.getDimensions(u.floating);return k!==A.width||C!==A.height?{reset:{rects:!0}}:{}}}};function Ap(){return typeof window<"u"}function bc(n){return k1(n)?(n.nodeName||"").toLowerCase():"#document"}function br(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Gs(n){var e;return(e=(k1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function k1(n){return Ap()?n instanceof Node||n instanceof br(n).Node:!1}function is(n){return Ap()?n instanceof Element||n instanceof br(n).Element:!1}function $s(n){return Ap()?n instanceof HTMLElement||n instanceof br(n).HTMLElement:!1}function Nb(n){return!Ap()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof br(n).ShadowRoot}const oV=new Set(["inline","contents"]);function hd(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=as(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!oV.has(s)}const iV=new Set(["table","td","th"]);function aV(n){return iV.has(bc(n))}const lV=[":popover-open",":modal"];function Pp(n){return lV.some(e=>{try{return n.matches(e)}catch{return!1}})}const cV=["transform","translate","scale","rotate","perspective"],uV=["transform","translate","scale","rotate","perspective","filter"],dV=["paint","layout","strict","content"];function Jv(n){const e=e_(),t=is(n)?as(n):n;return cV.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||uV.some(r=>(t.willChange||"").includes(r))||dV.some(r=>(t.contain||"").includes(r))}function hV(n){let e=Ti(n);for(;$s(e)&&!ec(e);){if(Jv(e))return e;if(Pp(e))return null;e=Ti(e)}return null}function e_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fV=new Set(["html","body","#document"]);function ec(n){return fV.has(bc(n))}function as(n){return br(n).getComputedStyle(n)}function Rp(n){return is(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ti(n){if(bc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Nb(n)&&n.host||Gs(n);return Nb(e)?e.host:e}function N1(n){const e=Ti(n);return ec(e)?n.ownerDocument?n.ownerDocument.body:n.body:$s(e)&&hd(e)?e:N1(e)}function Hu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=N1(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),l=br(s);if(i){const u=Uy(l);return e.concat(l,l.visualViewport||[],hd(s)?s:[],u&&t?Hu(u):[])}return e.concat(s,Hu(s,[],t))}function Uy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function D1(n){const e=as(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=$s(n),i=s?n.offsetWidth:t,l=s?n.offsetHeight:r,u=Vf(t)!==i||Vf(r)!==l;return u&&(t=i,r=l),{width:t,height:r,$:u}}function t_(n){return is(n)?n:n.contextElement}function Gl(n){const e=t_(n);if(!$s(e))return Ls(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=D1(e);let l=(i?Vf(t.width):t.width)/r,u=(i?Vf(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const pV=Ls(0);function O1(n){const e=br(n);return!e_()||!e.visualViewport?pV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mV(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==br(n)?!1:e}function Ca(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=t_(n);let l=Ls(1);e&&(r?is(r)&&(l=Gl(r)):l=Gl(n));const u=mV(i,t,r)?O1(i):Ls(0);let h=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,g=s.width/l.x,m=s.height/l.y;if(i){const E=br(i),S=r&&is(r)?br(r):r;let k=E,C=Uy(k);for(;C&&r&&S!==k;){const R=Gl(C),V=C.getBoundingClientRect(),U=as(C),z=V.left+(C.clientLeft+parseFloat(U.paddingLeft))*R.x,q=V.top+(C.clientTop+parseFloat(U.paddingTop))*R.y;h*=R.x,p*=R.y,g*=R.x,m*=R.y,h+=z,p+=q,k=br(C),C=Uy(k)}}return jf({width:g,height:m,x:h,y:p})}function kp(n,e){const t=Rp(n).scrollLeft;return e?e.left+t:Ca(Gs(n)).left+t}function M1(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-kp(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function gV(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",l=Gs(r),u=e?Pp(e.floating):!1;if(r===l||u&&i)return t;let h={scrollLeft:0,scrollTop:0},p=Ls(1);const g=Ls(0),m=$s(r);if((m||!m&&!i)&&((bc(r)!=="body"||hd(l))&&(h=Rp(r)),$s(r))){const S=Ca(r);p=Gl(r),g.x=S.x+r.clientLeft,g.y=S.y+r.clientTop}const E=l&&!m&&!i?M1(l,h):Ls(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+g.x+E.x,y:t.y*p.y-h.scrollTop*p.y+g.y+E.y}}function yV(n){return Array.from(n.getClientRects())}function vV(n){const e=Gs(n),t=Rp(n),r=n.ownerDocument.body,s=wr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=wr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+kp(n);const u=-t.scrollTop;return as(r).direction==="rtl"&&(l+=wr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:u}}const Db=25;function _V(n,e){const t=br(n),r=Gs(n),s=t.visualViewport;let i=r.clientWidth,l=r.clientHeight,u=0,h=0;if(s){i=s.width,l=s.height;const g=e_();(!g||g&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const p=kp(r);if(p<=0){const g=r.ownerDocument,m=g.body,E=getComputedStyle(m),S=g.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,k=Math.abs(r.clientWidth-m.clientWidth-S);k<=Db&&(i-=k)}else p<=Db&&(i+=p);return{width:i,height:l,x:u,y:h}}const wV=new Set(["absolute","fixed"]);function EV(n,e){const t=Ca(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=$s(n)?Gl(n):Ls(1),l=n.clientWidth*i.x,u=n.clientHeight*i.y,h=s*i.x,p=r*i.y;return{width:l,height:u,x:h,y:p}}function Ob(n,e,t){let r;if(e==="viewport")r=_V(n,t);else if(e==="document")r=vV(Gs(n));else if(is(e))r=EV(e,t);else{const s=O1(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return jf(r)}function V1(n,e){const t=Ti(n);return t===e||!is(t)||ec(t)?!1:as(t).position==="fixed"||V1(t,e)}function bV(n,e){const t=e.get(n);if(t)return t;let r=Hu(n,[],!1).filter(u=>is(u)&&bc(u)!=="body"),s=null;const i=as(n).position==="fixed";let l=i?Ti(n):n;for(;is(l)&&!ec(l);){const u=as(l),h=Jv(l);!h&&u.position==="fixed"&&(s=null),(i?!h&&!s:!h&&u.position==="static"&&!!s&&wV.has(s.position)||hd(l)&&!h&&V1(n,l))?r=r.filter(g=>g!==l):s=u,l=Ti(l)}return e.set(n,r),r}function xV(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?Pp(e)?[]:bV(e,this._c):[].concat(t),r],u=l[0],h=l.reduce((p,g)=>{const m=Ob(e,g,s);return p.top=wr(m.top,p.top),p.right=Ii(m.right,p.right),p.bottom=Ii(m.bottom,p.bottom),p.left=wr(m.left,p.left),p},Ob(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function SV(n){const{width:e,height:t}=D1(n);return{width:e,height:t}}function IV(n,e,t){const r=$s(e),s=Gs(e),i=t==="fixed",l=Ca(n,!0,i,e);let u={scrollLeft:0,scrollTop:0};const h=Ls(0);function p(){h.x=kp(s)}if(r||!r&&!i)if((bc(e)!=="body"||hd(s))&&(u=Rp(e)),r){const S=Ca(e,!0,i,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else s&&p();i&&!r&&s&&p();const g=s&&!r&&!i?M1(s,u):Ls(0),m=l.left+u.scrollLeft-h.x-g.x,E=l.top+u.scrollTop-h.y-g.y;return{x:m,y:E,width:l.width,height:l.height}}function iy(n){return as(n).position==="static"}function Mb(n,e){if(!$s(n)||as(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Gs(n)===t&&(t=t.ownerDocument.body),t}function L1(n,e){const t=br(n);if(Pp(n))return t;if(!$s(n)){let s=Ti(n);for(;s&&!ec(s);){if(is(s)&&!iy(s))return s;s=Ti(s)}return t}let r=Mb(n,e);for(;r&&aV(r)&&iy(r);)r=Mb(r,e);return r&&ec(r)&&iy(r)&&!Jv(r)?t:r||hV(n)||t}const TV=async function(n){const e=this.getOffsetParent||L1,t=this.getDimensions,r=await t(n.floating);return{reference:IV(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CV(n){return as(n).direction==="rtl"}const AV={convertOffsetParentRelativeRectToViewportRelativeRect:gV,getDocumentElement:Gs,getClippingRect:xV,getOffsetParent:L1,getElementRects:TV,getClientRects:yV,getDimensions:SV,getScale:Gl,isElement:is,isRTL:CV};function j1(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function PV(n,e){let t=null,r;const s=Gs(n);function i(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),i();const p=n.getBoundingClientRect(),{left:g,top:m,width:E,height:S}=p;if(u||e(),!E||!S)return;const k=Xh(m),C=Xh(s.clientWidth-(g+E)),R=Xh(s.clientHeight-(m+S)),V=Xh(g),z={rootMargin:-k+"px "+-C+"px "+-R+"px "+-V+"px",threshold:wr(0,Ii(1,h))||1};let q=!0;function W(J){const P=J[0].intersectionRatio;if(P!==h){if(!q)return l();P?l(!1,P):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!j1(p,n.getBoundingClientRect())&&l(),q=!1}try{t=new IntersectionObserver(W,{...z,root:s.ownerDocument})}catch{t=new IntersectionObserver(W,z)}t.observe(n)}return l(!0),i}function RV(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=t_(n),g=s||i?[...p?Hu(p):[],...Hu(e)]:[];g.forEach(V=>{s&&V.addEventListener("scroll",t,{passive:!0}),i&&V.addEventListener("resize",t)});const m=p&&u?PV(p,t):null;let E=-1,S=null;l&&(S=new ResizeObserver(V=>{let[U]=V;U&&U.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var z;(z=S)==null||z.observe(e)})),t()}),p&&!h&&S.observe(p),S.observe(e));let k,C=h?Ca(n):null;h&&R();function R(){const V=Ca(n);C&&!j1(C,V)&&t(),C=V,k=requestAnimationFrame(R)}return t(),()=>{var V;g.forEach(U=>{s&&U.removeEventListener("scroll",t),i&&U.removeEventListener("resize",t)}),m?.(),(V=S)==null||V.disconnect(),S=null,h&&cancelAnimationFrame(k)}}const kV=tV,NV=nV,DV=XM,OV=sV,MV=JM,Vb=YM,VV=rV,LV=(n,e,t)=>{const r=new Map,s={platform:AV,...t},i={...s.platform,_c:r};return QM(n,e,{...s,platform:i})};var jV=typeof document<"u",FV=function(){},yf=jV?b.useLayoutEffect:FV;function Ff(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Ff(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Ff(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function F1(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Lb(n,e){const t=F1(n);return Math.round(e*t)/t}function ay(n){const e=b.useRef(n);return yf(()=>{e.current=n}),e}function UV(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=n,[g,m]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,S]=b.useState(r);Ff(E,r)||S(r);const[k,C]=b.useState(null),[R,V]=b.useState(null),U=b.useCallback(H=>{H!==J.current&&(J.current=H,C(H))},[]),z=b.useCallback(H=>{H!==P.current&&(P.current=H,V(H))},[]),q=i||k,W=l||R,J=b.useRef(null),P=b.useRef(null),I=b.useRef(g),A=h!=null,O=ay(h),M=ay(s),L=ay(p),N=b.useCallback(()=>{if(!J.current||!P.current)return;const H={placement:e,strategy:t,middleware:E};M.current&&(H.platform=M.current),LV(J.current,P.current,H).then(ne=>{const Y={...ne,isPositioned:L.current!==!1};de.current&&!Ff(I.current,Y)&&(I.current=Y,Uv.flushSync(()=>{m(Y)}))})},[E,e,t,M,L]);yf(()=>{p===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[p]);const de=b.useRef(!1);yf(()=>(de.current=!0,()=>{de.current=!1}),[]),yf(()=>{if(q&&(J.current=q),W&&(P.current=W),q&&W){if(O.current)return O.current(q,W,N);N()}},[q,W,N,O,A]);const Ve=b.useMemo(()=>({reference:J,floating:P,setReference:U,setFloating:z}),[U,z]),pe=b.useMemo(()=>({reference:q,floating:W}),[q,W]),me=b.useMemo(()=>{const H={position:t,left:0,top:0};if(!pe.floating)return H;const ne=Lb(pe.floating,g.x),Y=Lb(pe.floating,g.y);return u?{...H,transform:"translate("+ne+"px, "+Y+"px)",...F1(pe.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:Y}},[t,u,pe.floating,g.x,g.y]);return b.useMemo(()=>({...g,update:N,refs:Ve,elements:pe,floatingStyles:me}),[g,N,Ve,pe,me])}const zV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Vb({element:r.current,padding:s}).fn(t):{}:r?Vb({element:r,padding:s}).fn(t):{}}}},$V=(n,e)=>({...kV(n),options:[n,e]}),BV=(n,e)=>({...NV(n),options:[n,e]}),qV=(n,e)=>({...VV(n),options:[n,e]}),HV=(n,e)=>({...DV(n),options:[n,e]}),WV=(n,e)=>({...OV(n),options:[n,e]}),GV=(n,e)=>({...MV(n),options:[n,e]}),KV=(n,e)=>({...zV(n),options:[n,e]});var ZV="Arrow",U1=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return v.jsx(ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});U1.displayName=ZV;var QV=U1;function n_(n){const[e,t]=b.useState(void 0);return vo(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const h=i.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var r_="Popper",[z1,Np]=Ws(r_),[YV,$1]=z1(r_),B1=n=>{const{__scopePopper:e,children:t}=n,[r,s]=b.useState(null);return v.jsx(YV,{scope:e,anchor:r,onAnchorChange:s,children:t})};B1.displayName=r_;var q1="PopperAnchor",H1=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=$1(q1,t),l=b.useRef(null),u=Et(e,l),h=b.useRef(null);return b.useEffect(()=>{const p=h.current;h.current=r?.current||l.current,p!==h.current&&i.onAnchorChange(h.current)}),r?null:v.jsx(ht.div,{...s,ref:u})});H1.displayName=q1;var s_="PopperContent",[XV,JV]=z1(s_),W1=b.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:E=!1,updatePositionStrategy:S="optimized",onPlaced:k,...C}=n,R=$1(s_,t),[V,U]=b.useState(null),z=Et(e,we=>U(we)),[q,W]=b.useState(null),J=n_(q),P=J?.width??0,I=J?.height??0,A=r+(i!=="center"?"-"+i:""),O=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},M=Array.isArray(p)?p:[p],L=M.length>0,N={padding:O,boundary:M.filter(tL),altBoundary:L},{refs:de,floatingStyles:Ve,placement:pe,isPositioned:me,middlewareData:H}=UV({strategy:"fixed",placement:A,whileElementsMounted:(...we)=>RV(...we,{animationFrame:S==="always"}),elements:{reference:R.anchor},middleware:[$V({mainAxis:s+I,alignmentAxis:l}),h&&BV({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?qV():void 0,...N}),h&&HV({...N}),WV({...N,apply:({elements:we,rects:Ie,availableWidth:Ge,availableHeight:Qe})=>{const{width:ye,height:xt}=Ie.reference,hn=we.floating.style;hn.setProperty("--radix-popper-available-width",`${Ge}px`),hn.setProperty("--radix-popper-available-height",`${Qe}px`),hn.setProperty("--radix-popper-anchor-width",`${ye}px`),hn.setProperty("--radix-popper-anchor-height",`${xt}px`)}}),q&&KV({element:q,padding:u}),nL({arrowWidth:P,arrowHeight:I}),E&&GV({strategy:"referenceHidden",...N})]}),[ne,Y]=Z1(pe),F=Ln(k);vo(()=>{me&&F?.()},[me,F]);const G=H.arrow?.x,oe=H.arrow?.y,ie=H.arrow?.centerOffset!==0,[fe,Te]=b.useState();return vo(()=>{V&&Te(window.getComputedStyle(V).zIndex)},[V]),v.jsx("div",{ref:de.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ve,transform:me?Ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:v.jsx(XV,{scope:t,placedSide:ne,onArrowChange:W,arrowX:G,arrowY:oe,shouldHideArrow:ie,children:v.jsx(ht.div,{"data-side":ne,"data-align":Y,...C,ref:z,style:{...C.style,animation:me?void 0:"none"}})})})});W1.displayName=s_;var G1="PopperArrow",eL={top:"bottom",right:"left",bottom:"top",left:"right"},K1=b.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=JV(G1,r),l=eL[i.placedSide];return v.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:v.jsx(QV,{...s,ref:t,style:{...s.style,display:"block"}})})});K1.displayName=G1;function tL(n){return n!==null}var nL=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,u=l?0:n.arrowWidth,h=l?0:n.arrowHeight,[p,g]=Z1(t),m={start:"0%",center:"50%",end:"100%"}[g],E=(s.arrow?.x??0)+u/2,S=(s.arrow?.y??0)+h/2;let k="",C="";return p==="bottom"?(k=l?m:`${E}px`,C=`${-h}px`):p==="top"?(k=l?m:`${E}px`,C=`${r.floating.height+h}px`):p==="right"?(k=`${-h}px`,C=l?m:`${S}px`):p==="left"&&(k=`${r.floating.width+h}px`,C=l?m:`${S}px`),{data:{x:k,y:C}}}});function Z1(n){const[e,t="center"]=n.split("-");return[e,t]}var Q1=B1,Y1=H1,X1=W1,J1=K1,rL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sL="VisuallyHidden",eT=b.forwardRef((n,e)=>v.jsx(ht.span,{...n,ref:e,style:{...rL,...n.style}}));eT.displayName=sL;var oL=eT,[Dp]=Ws("Tooltip",[Np]),Op=Np(),tT="TooltipProvider",iL=700,zy="tooltip.open",[aL,o_]=Dp(tT),nT=n=>{const{__scopeTooltip:e,delayDuration:t=iL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,l=b.useRef(!0),u=b.useRef(!1),h=b.useRef(0);return b.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),v.jsx(aL,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(h.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(p=>{u.current=p},[]),disableHoverableContent:s,children:i})};nT.displayName=tT;var Wu="Tooltip",[lL,fd]=Dp(Wu),rT=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:u}=n,h=o_(Wu,n.__scopeTooltip),p=Op(e),[g,m]=b.useState(null),E=va(),S=b.useRef(0),k=l??h.disableHoverableContent,C=u??h.delayDuration,R=b.useRef(!1),[V,U]=wc({prop:r,defaultProp:s??!1,onChange:P=>{P?(h.onOpen(),document.dispatchEvent(new CustomEvent(zy))):h.onClose(),i?.(P)},caller:Wu}),z=b.useMemo(()=>V?R.current?"delayed-open":"instant-open":"closed",[V]),q=b.useCallback(()=>{window.clearTimeout(S.current),S.current=0,R.current=!1,U(!0)},[U]),W=b.useCallback(()=>{window.clearTimeout(S.current),S.current=0,U(!1)},[U]),J=b.useCallback(()=>{window.clearTimeout(S.current),S.current=window.setTimeout(()=>{R.current=!0,U(!0),S.current=0},C)},[C,U]);return b.useEffect(()=>()=>{S.current&&(window.clearTimeout(S.current),S.current=0)},[]),v.jsx(Q1,{...p,children:v.jsx(lL,{scope:e,contentId:E,open:V,stateAttribute:z,trigger:g,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{h.isOpenDelayedRef.current?J():q()},[h.isOpenDelayedRef,J,q]),onTriggerLeave:b.useCallback(()=>{k?W():(window.clearTimeout(S.current),S.current=0)},[W,k]),onOpen:q,onClose:W,disableHoverableContent:k,children:t})})};rT.displayName=Wu;var $y="TooltipTrigger",sT=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=fd($y,t),i=o_($y,t),l=Op(t),u=b.useRef(null),h=Et(e,u,s.onTriggerChange),p=b.useRef(!1),g=b.useRef(!1),m=b.useCallback(()=>p.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),v.jsx(Y1,{asChild:!0,...l,children:v.jsx(ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:h,onPointerMove:je(n.onPointerMove,E=>{E.pointerType!=="touch"&&!g.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:je(n.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:je(n.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:je(n.onFocus,()=>{p.current||s.onOpen()}),onBlur:je(n.onBlur,s.onClose),onClick:je(n.onClick,s.onClose)})})});sT.displayName=$y;var i_="TooltipPortal",[cL,uL]=Dp(i_,{forceMount:void 0}),oT=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:s}=n,i=fd(i_,e);return v.jsx(cL,{scope:e,forceMount:t,children:v.jsx(Gn,{present:t||i.open,children:v.jsx(Ip,{asChild:!0,container:s,children:r})})})};oT.displayName=i_;var tc="TooltipContent",iT=b.forwardRef((n,e)=>{const t=uL(tc,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,l=fd(tc,n.__scopeTooltip);return v.jsx(Gn,{present:r||l.open,children:l.disableHoverableContent?v.jsx(aT,{side:s,...i,ref:e}):v.jsx(dL,{side:s,...i,ref:e})})}),dL=b.forwardRef((n,e)=>{const t=fd(tc,n.__scopeTooltip),r=o_(tc,n.__scopeTooltip),s=b.useRef(null),i=Et(e,s),[l,u]=b.useState(null),{trigger:h,onClose:p}=t,g=s.current,{onPointerInTransitChange:m}=r,E=b.useCallback(()=>{u(null),m(!1)},[m]),S=b.useCallback((k,C)=>{const R=k.currentTarget,V={x:k.clientX,y:k.clientY},U=gL(V,R.getBoundingClientRect()),z=yL(V,U),q=vL(C.getBoundingClientRect()),W=wL([...z,...q]);u(W),m(!0)},[m]);return b.useEffect(()=>()=>E(),[E]),b.useEffect(()=>{if(h&&g){const k=R=>S(R,g),C=R=>S(R,h);return h.addEventListener("pointerleave",k),g.addEventListener("pointerleave",C),()=>{h.removeEventListener("pointerleave",k),g.removeEventListener("pointerleave",C)}}},[h,g,S,E]),b.useEffect(()=>{if(l){const k=C=>{const R=C.target,V={x:C.clientX,y:C.clientY},U=h?.contains(R)||g?.contains(R),z=!_L(V,l);U?E():z&&(E(),p())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[h,g,l,p,E]),v.jsx(aT,{...n,ref:i})}),[hL,fL]=Dp(Wu,{isInside:!1}),pL=i2("TooltipContent"),aT=b.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=n,h=fd(tc,t),p=Op(t),{onClose:g}=h;return b.useEffect(()=>(document.addEventListener(zy,g),()=>document.removeEventListener(zy,g)),[g]),b.useEffect(()=>{if(h.trigger){const m=E=>{E.target?.contains(h.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,g]),v.jsx(Sp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:v.jsxs(X1,{"data-state":h.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(pL,{children:r}),v.jsx(hL,{scope:t,isInside:!0,children:v.jsx(oL,{id:h.contentId,role:"tooltip",children:s||r})})]})})});iT.displayName=tc;var lT="TooltipArrow",mL=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Op(t);return fL(lT,t).isInside?null:v.jsx(J1,{...s,...r,ref:e})});mL.displayName=lT;function gL(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function yL(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function vL(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function _L(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,g=u.y,m=h.x,E=h.y;g>r!=E>r&&t<(m-p)*(r-g)/(E-g)+p&&(s=!s)}return s}function wL(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),EL(e)}function EL(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var bL=nT,xL=rT,SL=sT,IL=oT,cT=iT;const By=bL,qy=xL,Hy=SL,Uf=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>v.jsx(IL,{children:v.jsx(cT,{ref:r,sideOffset:e,className:Be("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Uf.displayName=cT.displayName;const TL="sidebar_state",CL=3600*24*7,AL="12rem",jb="18rem",PL="3rem",RL="b",uT=b.createContext(null);function Mp(){const n=b.useContext(uT);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function kL({defaultOpen:n=!0,open:e,onOpenChange:t,className:r,style:s,children:i,...l}){const u=CD(),[h,p]=b.useState(!1),[g,m]=b.useState(n),E=e??g,S=b.useCallback(V=>{const U=typeof V=="function"?V(E):V;t?t(U):m(U),document.cookie=`${TL}=${U}; path=/; max-age=${CL}`},[t,E]),k=b.useCallback(()=>u?p(V=>!V):S(V=>!V),[u,S,p]);b.useEffect(()=>{const V=U=>{U.key===RL&&(U.metaKey||U.ctrlKey)&&(U.preventDefault(),k())};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[k]);const C=E?"expanded":"collapsed",R=b.useMemo(()=>({state:C,open:E,setOpen:S,isMobile:u,openMobile:h,setOpenMobile:p,toggleSidebar:k}),[C,E,S,u,h,p,k]);return v.jsx(uT.Provider,{value:R,children:v.jsx(By,{delayDuration:0,children:v.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":AL,"--sidebar-width-icon":PL,...s},className:Be("group/sidebar-wrapper flex min-h-screen w-full",r),...l,children:i})})})}function NL({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:s,...i}){const{isMobile:l,state:u,openMobile:h,setOpenMobile:p}=Mp();return t==="none"?v.jsx("div",{"data-slot":"sidebar",className:Be("bg-sidebar text-sidebar-foreground flex h-full flex-col",r),style:{width:"var(--sidebar-width)"},...i,children:s}):l?v.jsx(VM,{open:h,onOpenChange:p,...i,children:v.jsxs(I1,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground p-0 [&>button]:hidden",style:{"--sidebar-width":jb,width:jb},side:n,children:[v.jsxs(T1,{className:"sr-only",children:[v.jsx(C1,{children:"Sidebar"}),v.jsx(A1,{children:"Displays the mobile sidebar."})]}),v.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):v.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[v.jsx("div",{"data-slot":"sidebar-gap",className:Be("relative shrink-0 bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:!w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)]"),style:{width:"var(--sidebar-width)"}}),v.jsx("div",{"data-slot":"sidebar-container",className:Be("fixed inset-y-0 z-10 hidden h-screen transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem+2px)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),style:{width:"var(--sidebar-width)"},...i,children:v.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function DL({className:n,...e}){const{toggleSidebar:t}=Mp();return v.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:t,title:"Toggle Sidebar",className:Be("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","cursor-ew-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...e})}function OL({className:n,...e}){return v.jsx("main",{"data-slot":"sidebar-inset",className:Be("bg-background relative flex min-w-0 flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",n),...e})}function ML({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Be("flex flex-col gap-2 p-2",n),...e})}function VL({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Be("flex flex-col gap-2 p-2",n),...e})}function LL({className:n,...e}){return v.jsx(pO,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:Be("bg-sidebar-border mx-2 w-auto",n),...e})}function jL({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Be("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function Fb({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Be("relative flex w-full min-w-0 flex-col p-2",n),...e})}function Ub({className:n,asChild:e=!1,...t}){const r=e?Ep:"div";return v.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Be("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})}function zb({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Be("w-full text-sm",n),...e})}function ly({className:n,...e}){return v.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Be("flex w-full min-w-0 flex-col gap-1",n),...e})}function Jh({className:n,...e}){return v.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Be("group/menu-item relative",n),...e})}const FL=bp("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function cy({asChild:n=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:s,className:i,...l}){const u=n?Ep:"button",{isMobile:h,state:p}=Mp(),g=v.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:Be(FL({variant:t,size:r}),i),...l});return s?(typeof s=="string"&&(s={children:s}),v.jsxs(qy,{children:[v.jsx(Hy,{asChild:!0,children:g}),v.jsx(Uf,{side:"right",align:"center",hidden:p!=="collapsed"||h,...s})]})):g}function dT(n){const e=n+"CollectionProvider",[t,r]=Ws(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:R,children:V}=C,U=ce.useRef(null),z=ce.useRef(new Map).current;return v.jsx(s,{scope:R,itemMap:z,collectionRef:U,children:V})};l.displayName=e;const u=n+"CollectionSlot",h=Jl(u),p=ce.forwardRef((C,R)=>{const{scope:V,children:U}=C,z=i(u,V),q=Et(R,z.collectionRef);return v.jsx(h,{ref:q,children:U})});p.displayName=u;const g=n+"CollectionItemSlot",m="data-radix-collection-item",E=Jl(g),S=ce.forwardRef((C,R)=>{const{scope:V,children:U,...z}=C,q=ce.useRef(null),W=Et(R,q),J=i(g,V);return ce.useEffect(()=>(J.itemMap.set(q,{ref:q,...z}),()=>void J.itemMap.delete(q))),v.jsx(E,{[m]:"",ref:W,children:U})});S.displayName=g;function k(C){const R=i(n+"CollectionConsumer",C);return ce.useCallback(()=>{const U=R.collectionRef.current;if(!U)return[];const z=Array.from(U.querySelectorAll(`[${m}]`));return Array.from(R.itemMap.values()).sort((J,P)=>z.indexOf(J.ref.current)-z.indexOf(P.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:p,ItemSlot:S},k,r]}var UL=b.createContext(void 0);function a_(n){const e=b.useContext(UL);return n||e||"ltr"}var uy="rovingFocusGroup.onEntryFocus",zL={bubbles:!1,cancelable:!0},pd="RovingFocusGroup",[Wy,hT,$L]=dT(pd),[BL,fT]=Ws(pd,[$L]),[qL,HL]=BL(pd),pT=b.forwardRef((n,e)=>v.jsx(Wy.Provider,{scope:n.__scopeRovingFocusGroup,children:v.jsx(Wy.Slot,{scope:n.__scopeRovingFocusGroup,children:v.jsx(WL,{...n,ref:e})})}));pT.displayName=pd;var WL=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=n,E=b.useRef(null),S=Et(e,E),k=a_(i),[C,R]=wc({prop:l,defaultProp:u??null,onChange:h,caller:pd}),[V,U]=b.useState(!1),z=Ln(p),q=hT(t),W=b.useRef(!1),[J,P]=b.useState(0);return b.useEffect(()=>{const I=E.current;if(I)return I.addEventListener(uy,z),()=>I.removeEventListener(uy,z)},[z]),v.jsx(qL,{scope:t,orientation:r,dir:k,loop:s,currentTabStopId:C,onItemFocus:b.useCallback(I=>R(I),[R]),onItemShiftTab:b.useCallback(()=>U(!0),[]),onFocusableItemAdd:b.useCallback(()=>P(I=>I+1),[]),onFocusableItemRemove:b.useCallback(()=>P(I=>I-1),[]),children:v.jsx(ht.div,{tabIndex:V||J===0?-1:0,"data-orientation":r,...m,ref:S,style:{outline:"none",...n.style},onMouseDown:je(n.onMouseDown,()=>{W.current=!0}),onFocus:je(n.onFocus,I=>{const A=!W.current;if(I.target===I.currentTarget&&A&&!V){const O=new CustomEvent(uy,zL);if(I.currentTarget.dispatchEvent(O),!O.defaultPrevented){const M=q().filter(pe=>pe.focusable),L=M.find(pe=>pe.active),N=M.find(pe=>pe.id===C),Ve=[L,N,...M].filter(Boolean).map(pe=>pe.ref.current);yT(Ve,g)}}W.current=!1}),onBlur:je(n.onBlur,()=>U(!1))})})}),mT="RovingFocusGroupItem",gT=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...u}=n,h=va(),p=i||h,g=HL(mT,t),m=g.currentTabStopId===p,E=hT(t),{onFocusableItemAdd:S,onFocusableItemRemove:k,currentTabStopId:C}=g;return b.useEffect(()=>{if(r)return S(),()=>k()},[r,S,k]),v.jsx(Wy.ItemSlot,{scope:t,id:p,focusable:r,active:s,children:v.jsx(ht.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...u,ref:e,onMouseDown:je(n.onMouseDown,R=>{r?g.onItemFocus(p):R.preventDefault()}),onFocus:je(n.onFocus,()=>g.onItemFocus(p)),onKeyDown:je(n.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){g.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const V=ZL(R,g.orientation,g.dir);if(V!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let z=E().filter(q=>q.focusable).map(q=>q.ref.current);if(V==="last")z.reverse();else if(V==="prev"||V==="next"){V==="prev"&&z.reverse();const q=z.indexOf(R.currentTarget);z=g.loop?QL(z,q+1):z.slice(q+1)}setTimeout(()=>yT(z))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:C!=null}):l})})});gT.displayName=mT;var GL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KL(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function ZL(n,e,t){const r=KL(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return GL[r]}function yT(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function QL(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var YL=pT,XL=gT,Gy=["Enter"," "],JL=["ArrowDown","PageUp","Home"],vT=["ArrowUp","PageDown","End"],e4=[...JL,...vT],t4={ltr:[...Gy,"ArrowRight"],rtl:[...Gy,"ArrowLeft"]},n4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},md="Menu",[Gu,r4,s4]=dT(md),[za,_T]=Ws(md,[s4,Np,fT]),Vp=Np(),wT=fT(),[o4,$a]=za(md),[i4,gd]=za(md),ET=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=n,u=Vp(e),[h,p]=b.useState(null),g=b.useRef(!1),m=Ln(i),E=a_(s);return b.useEffect(()=>{const S=()=>{g.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>g.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),v.jsx(Q1,{...u,children:v.jsx(o4,{scope:e,open:t,onOpenChange:m,content:h,onContentChange:p,children:v.jsx(i4,{scope:e,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:E,modal:l,children:r})})})};ET.displayName=md;var a4="MenuAnchor",l_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Vp(t);return v.jsx(Y1,{...s,...r,ref:e})});l_.displayName=a4;var c_="MenuPortal",[l4,bT]=za(c_,{forceMount:void 0}),xT=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,i=$a(c_,e);return v.jsx(l4,{scope:e,forceMount:t,children:v.jsx(Gn,{present:t||i.open,children:v.jsx(Ip,{asChild:!0,container:s,children:r})})})};xT.displayName=c_;var Fr="MenuContent",[c4,u_]=za(Fr),ST=b.forwardRef((n,e)=>{const t=bT(Fr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=$a(Fr,n.__scopeMenu),l=gd(Fr,n.__scopeMenu);return v.jsx(Gu.Provider,{scope:n.__scopeMenu,children:v.jsx(Gn,{present:r||i.open,children:v.jsx(Gu.Slot,{scope:n.__scopeMenu,children:l.modal?v.jsx(u4,{...s,ref:e}):v.jsx(d4,{...s,ref:e})})})})}),u4=b.forwardRef((n,e)=>{const t=$a(Fr,n.__scopeMenu),r=b.useRef(null),s=Et(e,r);return b.useEffect(()=>{const i=r.current;if(i)return s1(i)},[]),v.jsx(d_,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:je(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),d4=b.forwardRef((n,e)=>{const t=$a(Fr,n.__scopeMenu);return v.jsx(d_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),h4=Jl("MenuContent.ScrollLock"),d_=b.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:E,onDismiss:S,disableOutsideScroll:k,...C}=n,R=$a(Fr,t),V=gd(Fr,t),U=Vp(t),z=wT(t),q=r4(t),[W,J]=b.useState(null),P=b.useRef(null),I=Et(e,P,R.onContentChange),A=b.useRef(0),O=b.useRef(""),M=b.useRef(0),L=b.useRef(null),N=b.useRef("right"),de=b.useRef(0),Ve=k?$v:b.Fragment,pe=k?{as:h4,allowPinchZoom:!0}:void 0,me=ne=>{const Y=O.current+ne,F=q().filter(we=>!we.disabled),G=document.activeElement,oe=F.find(we=>we.ref.current===G)?.textValue,ie=F.map(we=>we.textValue),fe=S4(ie,Y,oe),Te=F.find(we=>we.textValue===fe)?.ref.current;(function we(Ie){O.current=Ie,window.clearTimeout(A.current),Ie!==""&&(A.current=window.setTimeout(()=>we(""),1e3))})(Y),Te&&setTimeout(()=>Te.focus())};b.useEffect(()=>()=>window.clearTimeout(A.current),[]),ZI();const H=b.useCallback(ne=>N.current===L.current?.side&&T4(ne,L.current?.area),[]);return v.jsx(c4,{scope:t,searchRef:O,onItemEnter:b.useCallback(ne=>{H(ne)&&ne.preventDefault()},[H]),onItemLeave:b.useCallback(ne=>{H(ne)||(P.current?.focus(),J(null))},[H]),onTriggerLeave:b.useCallback(ne=>{H(ne)&&ne.preventDefault()},[H]),pointerGraceTimerRef:M,onPointerGraceIntentChange:b.useCallback(ne=>{L.current=ne},[]),children:v.jsx(Ve,{...pe,children:v.jsx(zv,{asChild:!0,trapped:s,onMountAutoFocus:je(i,ne=>{ne.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:v.jsx(Sp,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:E,onDismiss:S,children:v.jsx(YL,{asChild:!0,...z,dir:V.dir,orientation:"vertical",loop:r,currentTabStopId:W,onCurrentTabStopIdChange:J,onEntryFocus:je(h,ne=>{V.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(X1,{role:"menu","aria-orientation":"vertical","data-state":UT(R.open),"data-radix-menu-content":"",dir:V.dir,...U,...C,ref:I,style:{outline:"none",...C.style},onKeyDown:je(C.onKeyDown,ne=>{const F=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,G=ne.ctrlKey||ne.altKey||ne.metaKey,oe=ne.key.length===1;F&&(ne.key==="Tab"&&ne.preventDefault(),!G&&oe&&me(ne.key));const ie=P.current;if(ne.target!==ie||!e4.includes(ne.key))return;ne.preventDefault();const Te=q().filter(we=>!we.disabled).map(we=>we.ref.current);vT.includes(ne.key)&&Te.reverse(),b4(Te)}),onBlur:je(n.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(A.current),O.current="")}),onPointerMove:je(n.onPointerMove,Ku(ne=>{const Y=ne.target,F=de.current!==ne.clientX;if(ne.currentTarget.contains(Y)&&F){const G=ne.clientX>de.current?"right":"left";N.current=G,de.current=ne.clientX}}))})})})})})})});ST.displayName=Fr;var f4="MenuGroup",h_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(ht.div,{role:"group",...r,ref:e})});h_.displayName=f4;var p4="MenuLabel",IT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(ht.div,{...r,ref:e})});IT.displayName=p4;var zf="MenuItem",$b="menu.itemSelect",Lp=b.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,i=b.useRef(null),l=gd(zf,n.__scopeMenu),u=u_(zf,n.__scopeMenu),h=Et(e,i),p=b.useRef(!1),g=()=>{const m=i.current;if(!t&&m){const E=new CustomEvent($b,{bubbles:!0,cancelable:!0});m.addEventListener($b,S=>r?.(S),{once:!0}),qI(m,E),E.defaultPrevented?p.current=!1:l.onClose()}};return v.jsx(TT,{...s,ref:h,disabled:t,onClick:je(n.onClick,g),onPointerDown:m=>{n.onPointerDown?.(m),p.current=!0},onPointerUp:je(n.onPointerUp,m=>{p.current||m.currentTarget?.click()}),onKeyDown:je(n.onKeyDown,m=>{const E=u.searchRef.current!=="";t||E&&m.key===" "||Gy.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Lp.displayName=zf;var TT=b.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...i}=n,l=u_(zf,t),u=wT(t),h=b.useRef(null),p=Et(e,h),[g,m]=b.useState(!1),[E,S]=b.useState("");return b.useEffect(()=>{const k=h.current;k&&S((k.textContent??"").trim())},[i.children]),v.jsx(Gu.ItemSlot,{scope:t,disabled:r,textValue:s??E,children:v.jsx(XL,{asChild:!0,...u,focusable:!r,children:v.jsx(ht.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:p,onPointerMove:je(n.onPointerMove,Ku(k=>{r?l.onItemLeave(k):(l.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(n.onPointerLeave,Ku(k=>l.onItemLeave(k))),onFocus:je(n.onFocus,()=>m(!0)),onBlur:je(n.onBlur,()=>m(!1))})})})}),m4="MenuCheckboxItem",CT=b.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return v.jsx(NT,{scope:n.__scopeMenu,checked:t,children:v.jsx(Lp,{role:"menuitemcheckbox","aria-checked":$f(t)?"mixed":t,...s,ref:e,"data-state":p_(t),onSelect:je(s.onSelect,()=>r?.($f(t)?!0:!t),{checkForDefaultPrevented:!1})})})});CT.displayName=m4;var AT="MenuRadioGroup",[g4,y4]=za(AT,{value:void 0,onValueChange:()=>{}}),PT=b.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,i=Ln(r);return v.jsx(g4,{scope:n.__scopeMenu,value:t,onValueChange:i,children:v.jsx(h_,{...s,ref:e})})});PT.displayName=AT;var RT="MenuRadioItem",kT=b.forwardRef((n,e)=>{const{value:t,...r}=n,s=y4(RT,n.__scopeMenu),i=t===s.value;return v.jsx(NT,{scope:n.__scopeMenu,checked:i,children:v.jsx(Lp,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":p_(i),onSelect:je(r.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});kT.displayName=RT;var f_="MenuItemIndicator",[NT,v4]=za(f_,{checked:!1}),DT=b.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,i=v4(f_,t);return v.jsx(Gn,{present:r||$f(i.checked)||i.checked===!0,children:v.jsx(ht.span,{...s,ref:e,"data-state":p_(i.checked)})})});DT.displayName=f_;var _4="MenuSeparator",OT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(ht.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});OT.displayName=_4;var w4="MenuArrow",MT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Vp(t);return v.jsx(J1,{...s,...r,ref:e})});MT.displayName=w4;var E4="MenuSub",[QH,VT]=za(E4),Tu="MenuSubTrigger",LT=b.forwardRef((n,e)=>{const t=$a(Tu,n.__scopeMenu),r=gd(Tu,n.__scopeMenu),s=VT(Tu,n.__scopeMenu),i=u_(Tu,n.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=i,p={__scopeMenu:n.__scopeMenu},g=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>g,[g]),b.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),h(null)}},[u,h]),v.jsx(l_,{asChild:!0,...p,children:v.jsx(TT,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":UT(t.open),...n,ref:wp(e,s.onTriggerChange),onClick:m=>{n.onClick?.(m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:je(n.onPointerMove,Ku(m=>{i.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),g()},100))})),onPointerLeave:je(n.onPointerLeave,Ku(m=>{g();const E=t.content?.getBoundingClientRect();if(E){const S=t.content?.dataset.side,k=S==="right",C=k?-5:5,R=E[k?"left":"right"],V=E[k?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+C,y:m.clientY},{x:R,y:E.top},{x:V,y:E.top},{x:V,y:E.bottom},{x:R,y:E.bottom}],side:S}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:je(n.onKeyDown,m=>{const E=i.searchRef.current!=="";n.disabled||E&&m.key===" "||t4[r.dir].includes(m.key)&&(t.onOpenChange(!0),t.content?.focus(),m.preventDefault())})})})});LT.displayName=Tu;var jT="MenuSubContent",FT=b.forwardRef((n,e)=>{const t=bT(Fr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=$a(Fr,n.__scopeMenu),l=gd(Fr,n.__scopeMenu),u=VT(jT,n.__scopeMenu),h=b.useRef(null),p=Et(e,h);return v.jsx(Gu.Provider,{scope:n.__scopeMenu,children:v.jsx(Gn,{present:r||i.open,children:v.jsx(Gu.Slot,{scope:n.__scopeMenu,children:v.jsx(d_,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&h.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:je(n.onFocusOutside,g=>{g.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:je(n.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:je(n.onKeyDown,g=>{const m=g.currentTarget.contains(g.target),E=n4[l.dir].includes(g.key);m&&E&&(i.onOpenChange(!1),u.trigger?.focus(),g.preventDefault())})})})})})});FT.displayName=jT;function UT(n){return n?"open":"closed"}function $f(n){return n==="indeterminate"}function p_(n){return $f(n)?"indeterminate":n?"checked":"unchecked"}function b4(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function x4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function S4(n,e,t){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let l=x4(n,Math.max(i,0));s.length===1&&(l=l.filter(p=>p!==t));const h=l.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return h!==t?h:void 0}function I4(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,g=u.y,m=h.x,E=h.y;g>r!=E>r&&t<(m-p)*(r-g)/(E-g)+p&&(s=!s)}return s}function T4(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return I4(t,e)}function Ku(n){return e=>e.pointerType==="mouse"?n(e):void 0}var C4=ET,A4=l_,P4=xT,R4=ST,k4=h_,N4=IT,D4=Lp,O4=CT,M4=PT,V4=kT,L4=DT,j4=OT,F4=MT,U4=LT,z4=FT,jp="DropdownMenu",[$4]=Ws(jp,[_T]),Kn=_T(),[B4,zT]=$4(jp),$T=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=n,h=Kn(e),p=b.useRef(null),[g,m]=wc({prop:s,defaultProp:i??!1,onChange:l,caller:jp});return v.jsx(B4,{scope:e,triggerId:va(),triggerRef:p,contentId:va(),open:g,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(E=>!E),[m]),modal:u,children:v.jsx(C4,{...h,open:g,onOpenChange:m,dir:r,modal:u,children:t})})};$T.displayName=jp;var BT="DropdownMenuTrigger",qT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,i=zT(BT,t),l=Kn(t);return v.jsx(A4,{asChild:!0,...l,children:v.jsx(ht.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:wp(e,i.triggerRef),onPointerDown:je(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:je(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});qT.displayName=BT;var q4="DropdownMenuPortal",HT=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Kn(e);return v.jsx(P4,{...r,...t})};HT.displayName=q4;var WT="DropdownMenuContent",GT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=zT(WT,t),i=Kn(t),l=b.useRef(!1);return v.jsx(R4,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:je(n.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:je(n.onInteractOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,g=h.button===2||p;(!s.modal||g)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GT.displayName=WT;var H4="DropdownMenuGroup",W4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(k4,{...s,...r,ref:e})});W4.displayName=H4;var G4="DropdownMenuLabel",KT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(N4,{...s,...r,ref:e})});KT.displayName=G4;var K4="DropdownMenuItem",ZT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(D4,{...s,...r,ref:e})});ZT.displayName=K4;var Z4="DropdownMenuCheckboxItem",QT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(O4,{...s,...r,ref:e})});QT.displayName=Z4;var Q4="DropdownMenuRadioGroup",Y4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(M4,{...s,...r,ref:e})});Y4.displayName=Q4;var X4="DropdownMenuRadioItem",YT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(V4,{...s,...r,ref:e})});YT.displayName=X4;var J4="DropdownMenuItemIndicator",XT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(L4,{...s,...r,ref:e})});XT.displayName=J4;var ej="DropdownMenuSeparator",JT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(j4,{...s,...r,ref:e})});JT.displayName=ej;var tj="DropdownMenuArrow",nj=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(F4,{...s,...r,ref:e})});nj.displayName=tj;var rj="DropdownMenuSubTrigger",eC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(U4,{...s,...r,ref:e})});eC.displayName=rj;var sj="DropdownMenuSubContent",tC=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(z4,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tC.displayName=sj;var oj=$T,ij=qT,aj=HT,nC=GT,rC=KT,sC=ZT,oC=QT,iC=YT,aC=XT,lC=JT,cC=eC,uC=tC;const dC=oj,hC=ij,lj=b.forwardRef(({className:n,inset:e,children:t,...r},s)=>v.jsxs(cC,{ref:s,className:Be("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,v.jsx(w2,{className:"ml-auto"})]}));lj.displayName=cC.displayName;const cj=b.forwardRef(({className:n,...e},t)=>v.jsx(uC,{ref:t,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));cj.displayName=uC.displayName;const m_=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>v.jsx(aj,{children:v.jsx(nC,{ref:r,sideOffset:e,className:Be("z-[100] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));m_.displayName=nC.displayName;const Zu=b.forwardRef(({className:n,inset:e,...t},r)=>v.jsx(sC,{ref:r,className:Be("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));Zu.displayName=sC.displayName;const uj=b.forwardRef(({className:n,children:e,checked:t,...r},s)=>v.jsxs(oC,{ref:s,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(aC,{children:v.jsx(RI,{className:"h-4 w-4"})})}),e]}));uj.displayName=oC.displayName;const dj=b.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(iC,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(aC,{children:v.jsx(T2,{className:"h-2 w-2 fill-current"})})}),e]}));dj.displayName=iC.displayName;const g_=b.forwardRef(({className:n,inset:e,...t},r)=>v.jsx(rC,{ref:r,className:Be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));g_.displayName=rC.displayName;const y_=b.forwardRef(({className:n,...e},t)=>v.jsx(lC,{ref:t,className:Be("-mx-1 my-1 h-px bg-muted",n),...e}));y_.displayName=lC.displayName;function fC(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Fp="Switch",[hj]=Ws(Fp),[fj,pj]=hj(Fp),pC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h="on",onCheckedChange:p,form:g,...m}=n,[E,S]=b.useState(null),k=Et(e,z=>S(z)),C=b.useRef(!1),R=E?g||!!E.closest("form"):!0,[V,U]=wc({prop:s,defaultProp:i??!1,onChange:p,caller:Fp});return v.jsxs(fj,{scope:t,checked:V,disabled:u,children:[v.jsx(ht.button,{type:"button",role:"switch","aria-checked":V,"aria-required":l,"data-state":vC(V),"data-disabled":u?"":void 0,disabled:u,value:h,...m,ref:k,onClick:je(n.onClick,z=>{U(q=>!q),R&&(C.current=z.isPropagationStopped(),C.current||z.stopPropagation())})}),R&&v.jsx(yC,{control:E,bubbles:!C.current,name:r,value:h,checked:V,required:l,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});pC.displayName=Fp;var mC="SwitchThumb",gC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,s=pj(mC,t);return v.jsx(ht.span,{"data-state":vC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});gC.displayName=mC;var mj="SwitchBubbleInput",yC=b.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...s},i)=>{const l=b.useRef(null),u=Et(l,i),h=fC(t),p=n_(e);return b.useEffect(()=>{const g=l.current;if(!g)return;const m=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==t&&S){const k=new Event("click",{bubbles:r});S.call(g,t),g.dispatchEvent(k)}},[h,t,r]),v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:u,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yC.displayName=mj;function vC(n){return n?"checked":"unchecked"}var _C=pC,gj=gC;const wC=b.forwardRef(({className:n,...e},t)=>v.jsx(_C,{className:Be("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:v.jsx(gj,{className:Be("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));wC.displayName=_C.displayName;const yj=()=>{};var Bb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},vj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],l=n[t++],u=n[t++],h=((s&7)<<18|(i&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},bC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,g=i>>2,m=(i&3)<<4|u>>4;let E=(u&15)<<2|p>>6,S=p&63;h||(S=64,l||(E=64)),r.push(t[g],t[m],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(EC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const m=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||u==null||p==null||m==null)throw new _j;const E=i<<2|u>>4;if(r.push(E),p!==64){const S=u<<4&240|p>>2;if(r.push(S),m!==64){const k=p<<6&192|m;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class _j extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wj=function(n){const e=EC(n);return bC.encodeByteArray(e,!0)},Bf=function(n){return wj(n).replace(/\./g,"")},xC=function(n){try{return bC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=()=>SC().__FIREBASE_DEFAULTS__,bj=()=>{if(typeof process>"u"||typeof Bb>"u")return;const n=Bb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xC(n[1]);return e&&JSON.parse(e)},Up=()=>{try{return yj()||Ej()||bj()||xj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IC=n=>Up()?.emulatorHosts?.[n],Sj=n=>{const e=IC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},TC=()=>Up()?.config,CC=n=>Up()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AC(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Bf(JSON.stringify(t)),Bf(JSON.stringify(l)),""].join(".")}const Nu={};function Cj(){const n={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?n.emulator.push(e):n.prod.push(e);return n}function Aj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let qb=!1;function PC(n,e){if(typeof window>"u"||typeof document>"u"||!xc(window.location.host)||Nu[n]===e||Nu[n]||qb)return;Nu[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",i=Cj().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{qb=!0,l()},E}function g(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function m(){const E=Aj(r),S=t("text"),k=document.getElementById(S)||document.createElement("span"),C=t("learnmore"),R=document.getElementById(C)||document.createElement("a"),V=t("preprendIcon"),U=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;u(z),g(R,C);const q=p();h(U,V),z.append(U,k,R,q),document.body.appendChild(z)}i?(k.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function RC(){const n=Up()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kj(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Nj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dj(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kC(){return!RC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NC(){return!RC()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function DC(){try{return typeof indexedDB=="object"}catch{return!1}}function Oj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="FirebaseError";class Io extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Mj,Object.setPrototypeOf(this,Io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yd.prototype.create)}}class yd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?Vj(i,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Io(s,u,r)}}function Vj(n,e){return n.replace(Lj,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Lj=/\{\$([^}]+)}/g;function jj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Aa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],l=e[s];if(Hb(i)&&Hb(l)){if(!Aa(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Hb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fj(n,e){const t=new Uj(n,e);return t.subscribe.bind(t)}class Uj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");zj(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=dy),s.error===void 0&&(s.error=dy),s.complete===void 0&&(s.complete=dy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function dy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n){return n&&n._delegate?n._delegate:n}class Pa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ij;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qj(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Bj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bj(n){return n===la?void 0:n}function qj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $j(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const Wj={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},Gj=it.INFO,Kj={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},Zj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Kj[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v_{constructor(e){this.name=e,this._logLevel=Gj,this._logHandler=Zj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const Qj=(n,e)=>e.some(t=>n instanceof t);let Wb,Gb;function Yj(){return Wb||(Wb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xj(){return Gb||(Gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OC=new WeakMap,Ky=new WeakMap,MC=new WeakMap,hy=new WeakMap,__=new WeakMap;function Jj(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",l)},i=()=>{t(vi(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&OC.set(t,n)}).catch(()=>{}),__.set(e,n),e}function eF(n){if(Ky.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",l),n.removeEventListener("abort",l)},i=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",l),n.addEventListener("abort",l)});Ky.set(n,e)}let Zy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ky.get(n);if(e==="objectStoreNames")return n.objectStoreNames||MC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tF(n){Zy=n(Zy)}function nF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(fy(this),e,...t);return MC.set(r,e.sort?e.sort():[e]),vi(r)}:Xj().includes(n)?function(...e){return n.apply(fy(this),e),vi(OC.get(this))}:function(...e){return vi(n.apply(fy(this),e))}}function rF(n){return typeof n=="function"?nF(n):(n instanceof IDBTransaction&&eF(n),Qj(n,Yj())?new Proxy(n,Zy):n)}function vi(n){if(n instanceof IDBRequest)return Jj(n);if(hy.has(n))return hy.get(n);const e=rF(n);return e!==n&&(hy.set(n,e),__.set(e,n)),e}const fy=n=>__.get(n);function sF(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(n,e),u=vi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(vi(l.result),h.oldVersion,h.newVersion,vi(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const oF=["get","getKey","getAll","getAllKeys","count"],iF=["put","add","delete","clear"],py=new Map;function Kb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(py.get(e))return py.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=iF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||oF.includes(t)))return;const i=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),s&&h.done]))[0]};return py.set(e,i),i}tF(n=>({...n,get:(e,t,r)=>Kb(e,t)||n.get(e,t,r),has:(e,t)=>!!Kb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lF(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function lF(n){return n.getComponent()?.type==="VERSION"}const Qy="@firebase/app",Zb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new v_("@firebase/app"),cF="@firebase/app-compat",uF="@firebase/analytics-compat",dF="@firebase/analytics",hF="@firebase/app-check-compat",fF="@firebase/app-check",pF="@firebase/auth",mF="@firebase/auth-compat",gF="@firebase/database",yF="@firebase/data-connect",vF="@firebase/database-compat",_F="@firebase/functions",wF="@firebase/functions-compat",EF="@firebase/installations",bF="@firebase/installations-compat",xF="@firebase/messaging",SF="@firebase/messaging-compat",IF="@firebase/performance",TF="@firebase/performance-compat",CF="@firebase/remote-config",AF="@firebase/remote-config-compat",PF="@firebase/storage",RF="@firebase/storage-compat",kF="@firebase/firestore",NF="@firebase/ai",DF="@firebase/firestore-compat",OF="firebase",MF="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="[DEFAULT]",VF={[Qy]:"fire-core",[cF]:"fire-core-compat",[dF]:"fire-analytics",[uF]:"fire-analytics-compat",[fF]:"fire-app-check",[hF]:"fire-app-check-compat",[pF]:"fire-auth",[mF]:"fire-auth-compat",[gF]:"fire-rtdb",[yF]:"fire-data-connect",[vF]:"fire-rtdb-compat",[_F]:"fire-fn",[wF]:"fire-fn-compat",[EF]:"fire-iid",[bF]:"fire-iid-compat",[xF]:"fire-fcm",[SF]:"fire-fcm-compat",[IF]:"fire-perf",[TF]:"fire-perf-compat",[CF]:"fire-rc",[AF]:"fire-rc-compat",[PF]:"fire-gcs",[RF]:"fire-gcs-compat",[kF]:"fire-fst",[DF]:"fire-fst-compat",[NF]:"fire-vertex","fire-js":"fire-js",[OF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,LF=new Map,Xy=new Map;function Qb(n,e){try{n.container.addComponent(e)}catch(t){Eo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function nc(n){const e=n.name;if(Xy.has(e))return Eo.debug(`There were multiple attempts to register component ${e}.`),!1;Xy.set(e,n);for(const t of qf.values())Qb(t,n);for(const t of LF.values())Qb(t,n);return!0}function w_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new yd("app","Firebase",jF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=MF;function VC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Yy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw _i.create("bad-app-name",{appName:String(s)});if(t||(t=TC()),!t)throw _i.create("no-options");const i=qf.get(s);if(i){if(Aa(t,i.options)&&Aa(r,i.config))return i;throw _i.create("duplicate-app",{appName:s})}const l=new Hj(s);for(const h of Xy.values())l.addComponent(h);const u=new FF(t,r,l);return qf.set(s,u),u}function LC(n=Yy){const e=qf.get(n);if(!e&&n===Yy&&TC())return VC();if(!e)throw _i.create("no-app",{appName:n});return e}function wi(n,e,t){let r=VF[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Eo.warn(l.join(" "));return}nc(new Pa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF="firebase-heartbeat-database",zF=1,Qu="firebase-heartbeat-store";let my=null;function jC(){return my||(my=sF(UF,zF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qu)}catch(t){console.warn(t)}}}}).catch(n=>{throw _i.create("idb-open",{originalErrorMessage:n.message})})),my}async function $F(n){try{const t=(await jC()).transaction(Qu),r=await t.objectStore(Qu).get(FC(n));return await t.done,r}catch(e){if(e instanceof Io)Eo.warn(e.message);else{const t=_i.create("idb-get",{originalErrorMessage:e?.message});Eo.warn(t.message)}}}async function Yb(n,e){try{const r=(await jC()).transaction(Qu,"readwrite");await r.objectStore(Qu).put(e,FC(n)),await r.done}catch(t){if(t instanceof Io)Eo.warn(t.message);else{const r=_i.create("idb-set",{originalErrorMessage:t?.message});Eo.warn(r.message)}}}function FC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=1024,qF=30;class HF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>qF){const s=KF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Eo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xb(),{heartbeatsToSend:t,unsentEntries:r}=WF(this._heartbeatsCache.heartbeats),s=Bf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Eo.warn(e),""}}}function Xb(){return new Date().toISOString().substring(0,10)}function WF(n,e=BF){const t=[];let r=n.slice();for(const s of n){const i=t.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),Jb(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Jb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class GF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DC()?Oj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $F(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Jb(n){return Bf(JSON.stringify({version:2,heartbeats:n})).length}function KF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(n){nc(new Pa("platform-logger",e=>new aF(e),"PRIVATE")),nc(new Pa("heartbeat",e=>new HF(e),"PRIVATE")),wi(Qy,Zb,n),wi(Qy,Zb,"esm2020"),wi("fire-js","")}ZF("");function UC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QF=UC,zC=new yd("auth","Firebase",UC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new v_("@firebase/auth");function YF(n,...e){Hf.logLevel<=it.WARN&&Hf.warn(`Auth (${Sc}): ${n}`,...e)}function vf(n,...e){Hf.logLevel<=it.ERROR&&Hf.error(`Auth (${Sc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n,...e){throw b_(n,...e)}function os(n,...e){return b_(n,...e)}function E_(n,e,t){const r={...QF(),[e]:t};return new yd("auth","Firebase",r).create(e,{appName:n.name})}function _a(n){return E_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XF(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bs(n,"argument-error"),E_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function b_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return zC.create(n,...e)}function We(n,e,...t){if(!n)throw b_(e,...t)}function mo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vf(e),new Error(e)}function bo(n,e){n||mo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(){return typeof self<"u"&&self.location?.href||""}function JF(){return ex()==="http:"||ex()==="https:"}function ex(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JF()||kj()||"connection"in navigator)?navigator.onLine:!0}function t5(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.shortDelay=e,this.longDelay=t,bo(t>e,"Short delay should be less than long delay!"),this.isMobile=Pj()||Nj()}get(){return e5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(n,e){bo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s5=new _d(3e4,6e4);function S_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ic(n,e,t,r,s={}){return BC(n,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const u=vd({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...i};return Rj()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&xc(n.emulatorConfig.host)&&(p.credentials="include"),$C.fetch()(await qC(n,n.config.apiHost,t,u),p)})}async function BC(n,e,t){n._canInitEmulator=!1;const r={...n5,...e};try{const s=new i5(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw ef(n,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const u=i.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw ef(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw ef(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw E_(n,g,p);Bs(n,g)}}catch(s){if(s instanceof Io)throw s;Bs(n,"network-request-failed",{message:String(s)})}}async function o5(n,e,t,r,s={}){const i=await Ic(n,e,t,r,s);return"mfaPendingCredential"in i&&Bs(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function qC(n,e,t,r){const s=`${e}${t}?${r}`,i=n,l=i.config.emulator?x_(n.config,s):`${n.config.apiScheme}://${s}`;return r5.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(l).toString():l}class i5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),s5.get())})}}function ef(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=os(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(n,e){return Ic(n,"POST","/v1/accounts:delete",e)}async function Wf(n,e){return Ic(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l5(n,e=!1){const t=Tn(n),r=await t.getIdToken(e),s=I_(r);We(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i?.sign_in_provider;return{claims:s,token:r,authTime:Du(gy(s.auth_time)),issuedAtTime:Du(gy(s.iat)),expirationTime:Du(gy(s.exp)),signInProvider:l||null,signInSecondFactor:i?.sign_in_second_factor||null}}function gy(n){return Number(n)*1e3}function I_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const s=xC(t);return s?JSON.parse(s):(vf("Failed to decode base64 JWT payload"),null)}catch(s){return vf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function tx(n){const e=I_(n);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Io&&c5(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function c5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(n){const e=n.auth,t=await n.getIdToken(),r=await Yu(n,Wf(e,{idToken:t}));We(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=s.providerUserInfo?.length?HC(s.providerUserInfo):[],l=h5(n.providerData,i),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,p=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function d5(n){const e=Tn(n);await Gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h5(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function HC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(n,e){const t=await BC(n,{},async()=>{const r=vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,l=await qC(n,s,"/v1/token",`key=${i}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&xc(n.emulatorConfig.host)&&(h.credentials="include"),$C.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function p5(n,e){return Ic(n,"POST","/v2/accounts:revokeToken",S_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=tx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await f5(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,l=new Kl;return r&&(We(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(We(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n,e){We(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ss{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new u5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ev(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Yu(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return l5(this,e)}reload(){return d5(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ss({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Gf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(_a(this.auth));const e=await this.getIdToken();return await Yu(this,a5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:m,emailVerified:E,isAnonymous:S,providerData:k,stsTokenManager:C}=t;We(m&&C,e,"internal-error");const R=Kl.fromJSON(this.name,C);We(typeof m=="string",e,"internal-error"),si(r,e.name),si(s,e.name),We(typeof E=="boolean",e,"internal-error"),We(typeof S=="boolean",e,"internal-error"),si(i,e.name),si(l,e.name),si(u,e.name),si(h,e.name),si(p,e.name),si(g,e.name);const V=new ss({uid:m,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:S,photoURL:l,phoneNumber:i,tenantId:u,stsTokenManager:R,createdAt:p,lastLoginAt:g});return k&&Array.isArray(k)&&(V.providerData=k.map(U=>({...U}))),h&&(V._redirectEventId=h),V}static async _fromIdTokenResponse(e,t,r=!1){const s=new Kl;s.updateFromServerResponse(t);const i=new ss({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gf(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];We(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?HC(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!i?.length,u=new Kl;u.updateFromIdToken(r);const h=new ss({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Map;function go(n){bo(n instanceof Function,"Expected a class definition");let e=nx.get(n);return e?(bo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WC.type="NONE";const rx=WC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n,e,t){return`firebase:${n}:${e}:${t}`}class Zl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_f(this.userKey,s.apiKey,i),this.fullPersistenceKey=_f("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Wf(this.auth,{idToken:e}).catch(()=>{});return t?ss._fromGetAccountInfoResponse(this.auth,t,e):null}return ss._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Zl(go(rx),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let i=s[0]||go(rx);const l=_f(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const g=await p._get(l);if(g){let m;if(typeof g=="string"){const E=await Wf(e,{idToken:g}).catch(()=>{});if(!E)break;m=await ss._fromGetAccountInfoResponse(e,E,g)}else m=ss._fromJSON(e,g);p!==i&&(u=m),i=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new Zl(i,e,r):(i=h[0],u&&await i._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==i)try{await p._remove(l)}catch{}})),new Zl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XC(e))return"Blackberry";if(JC(e))return"Webos";if(KC(e))return"Safari";if((e.includes("chrome/")||ZC(e))&&!e.includes("edge/"))return"Chrome";if(YC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function GC(n=un()){return/firefox\//i.test(n)}function KC(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZC(n=un()){return/crios\//i.test(n)}function QC(n=un()){return/iemobile/i.test(n)}function YC(n=un()){return/android/i.test(n)}function XC(n=un()){return/blackberry/i.test(n)}function JC(n=un()){return/webos/i.test(n)}function T_(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function m5(n=un()){return T_(n)&&!!window.navigator?.standalone}function g5(){return Dj()&&document.documentMode===10}function eA(n=un()){return T_(n)||YC(n)||JC(n)||XC(n)||/windows phone/i.test(n)||QC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(n,e=[]){let t;switch(n){case"Browser":t=sx(un());break;case"Worker":t=`${sx(un())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((l,u)=>{try{const h=e(i);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(n,e={}){return Ic(n,"GET","/v2/passwordPolicy",S_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=6;class w5{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_5,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ox(this),this.idTokenSubscription=new ox(this),this.beforeStateQueue=new y5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=go(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Wf(this,{idToken:e}),r=await ss._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rs(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!i||i===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rs(this.app))return Promise.reject(_a(this));const t=e?Tn(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rs(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v5(this),t=new w5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await p5(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&go(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await Zl.create(this,[go(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(u,this,"internal-error"),u.then(()=>{l||i(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YF(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zp(n){return Tn(n)}class ox{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fj(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b5(n){C_=n}function x5(n){return C_.loadJS(n)}function S5(){return C_.gapiScript}function I5(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(n,e){const t=w_(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(Aa(i,e??{}))return s;Bs(s,"already-initialized")}return t.initialize({options:e})}function C5(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(go);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function A5(n,e,t){const r=zp(n);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=nA(e),{host:l,port:u}=P5(e),h=u===null?"":`:${u}`,p={url:`${i}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Aa(p,r.config.emulator)&&Aa(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,xc(l)?(AC(`${i}//${l}${h}`),PC("Auth",!0)):R5()}function nA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function P5(n){const e=nA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ix(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:ix(l)}}}function ix(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function R5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mo("not implemented")}_getIdTokenResponse(e){return mo("not implemented")}_linkToIdToken(e,t){return mo("not implemented")}_getReauthenticationResolver(e){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(n,e){return o5(n,"POST","/v1/accounts:signInWithIdp",S_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="http://localhost";class Ra extends rA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const l=new Ra(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ql(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ql(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ql(e,t)}buildRequest(){const e={requestUri:k5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends A_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends wd{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ra._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ds.credential(t,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends wd{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends wd{constructor(){super("twitter.com")}static credential(e,t){return Ra._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return fi.credential(t,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await ss._fromIdTokenResponse(e,r,s),l=ax(r);return new rc({user:i,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=ax(r);return new rc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function ax(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends Io{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Kf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Kf(e,t,r,s)}}function sA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Kf._fromErrorAndOperation(n,i,e,r):i})}async function N5(n,e,t=!1){const r=await Yu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return rc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D5(n,e,t=!1){const{auth:r}=n;if(rs(r.app))return Promise.reject(_a(r));const s="reauthenticate";try{const i=await Yu(n,sA(r,s,e,n),t);We(i.idToken,r,"internal-error");const l=I_(i.idToken);We(l,r,"internal-error");const{sub:u}=l;return We(n.uid===u,r,"user-mismatch"),rc._forOperation(n,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Bs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(n,e,t=!1){if(rs(n.app))return Promise.reject(_a(n));const r="signIn",s=await sA(n,r,e),i=await rc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function M5(n,e,t,r){return Tn(n).onIdTokenChanged(e,t,r)}function V5(n,e,t){return Tn(n).beforeAuthStateChanged(e,t)}const Zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=1e3,j5=10;class iA extends oA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);g5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,j5):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},L5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iA.type="LOCAL";const F5=iA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends oA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aA.type="SESSION";const lA=aA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new $p(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(t.origin,i)),h=await U5(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$p.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((u,h)=>{const p=P_("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(m){const E=m;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(E.data.response);break;default:clearTimeout(g),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return window}function $5(n){js().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(){return typeof js().WorkerGlobalScope<"u"&&typeof js().importScripts=="function"}async function B5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q5(){return navigator?.serviceWorker?.controller||null}function H5(){return cA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firebaseLocalStorageDb",W5=1,Qf="firebaseLocalStorage",dA="fbase_key";class Ed{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bp(n,e){return n.transaction([Qf],e?"readwrite":"readonly").objectStore(Qf)}function G5(){const n=indexedDB.deleteDatabase(uA);return new Ed(n).toPromise()}function tv(){const n=indexedDB.open(uA,W5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Qf,{keyPath:dA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Qf)?e(r):(r.close(),await G5(),e(await tv()))})})}async function lx(n,e,t){const r=Bp(n,!0).put({[dA]:e,value:t});return new Ed(r).toPromise()}async function K5(n,e){const t=Bp(n,!1).get(e),r=await new Ed(t).toPromise();return r===void 0?null:r.value}function cx(n,e){const t=Bp(n,!0).delete(e);return new Ed(t).toPromise()}const Z5=800,Q5=3;class hA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Q5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$p._getInstance(H5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await B5(),!this.activeServiceWorker)return;this.sender=new z5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tv();return await lx(e,Zf,"1"),await cx(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>lx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>K5(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Bp(s,!1).getAll();return new Ed(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hA.type="LOCAL";const Y5=hA;new _d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n,e){return e?go(e):(We(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends rA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ql(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ql(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function X5(n){return O5(n.auth,new R_(n),n.bypassAuthState)}function J5(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),D5(t,new R_(n),n.bypassAuthState)}async function e3(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),N5(t,new R_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X5;case"linkViaPopup":case"linkViaRedirect":return e3;case"reauthViaPopup":case"reauthViaRedirect":return J5;default:Bs(this.auth,"internal-error")}}resolve(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new _d(2e3,1e4);async function ux(n,e,t){if(rs(n.app))return Promise.reject(os(n,"operation-not-supported-in-this-environment"));const r=zp(n);XF(n,e,A_);const s=fA(r,t);return new ga(r,"signInViaPopup",e,s).executeNotNull()}class ga extends pA{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){bo(this.filter.length===1,"Popup operations only handle one event");const e=P_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t3.get())};e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="pendingRedirect",wf=new Map;class r3 extends pA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=wf.get(this.auth._key());if(!e){try{const r=await s3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}wf.set(this.auth._key(),e)}return this.bypassAuthState||wf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s3(n,e){const t=a3(e),r=i3(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function o3(n,e){wf.set(n._key(),e)}function i3(n){return go(n._redirectPersistence)}function a3(n){return _f(n3,n.config.apiKey,n.name)}async function l3(n,e,t=!1){if(rs(n.app))return Promise.reject(_a(n));const r=zp(n),s=fA(r,e),l=await new r3(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=600*1e3;class u3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!mA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(os(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c3&&this.cachedEventUids.clear(),this.cachedEventUids.has(dx(e))}saveEventToCache(e){this.cachedEventUids.add(dx(e)),this.lastProcessedEventTime=Date.now()}}function dx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function d3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(n,e={}){return Ic(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p3=/^https?/;async function m3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await h3(n);for(const t of e)try{if(g3(t))return}catch{}Bs(n,"unauthorized-domain")}function g3(n){const e=Jy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!p3.test(t))return!1;if(f3.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new _d(3e4,6e4);function hx(){const n=js().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function v3(n){return new Promise((e,t)=>{function r(){hx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hx(),t(os(n,"network-request-failed"))},timeout:y3.get()})}if(js().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(js().gapi?.load)r();else{const s=I5("iframefcb");return js()[s]=()=>{gapi.load?r():t(os(n,"network-request-failed"))},x5(`${S5()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw Ef=null,e})}let Ef=null;function _3(n){return Ef=Ef||v3(n),Ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new _d(5e3,15e3),E3="__/auth/iframe",b3="emulator/auth/iframe",x3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I3(n){const e=n.config;We(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?x_(e,b3):`https://${n.config.authDomain}/${E3}`,r={apiKey:e.apiKey,appName:n.name,v:Sc},s=S3.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${vd(r).slice(1)}`}async function T3(n){const e=await _3(n),t=js().gapi;return We(t,n,"internal-error"),e.open({where:document.body,url:I3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=os(n,"network-request-failed"),u=js().setTimeout(()=>{i(l)},w3.get());function h(){js().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A3=500,P3=600,R3="_blank",k3="http://localhost";class fx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N3(n,e,t,r=A3,s=P3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...C3,width:r.toString(),height:s.toString(),top:i,left:l},p=un().toLowerCase();t&&(u=ZC(p)?R3:t),GC(p)&&(e=e||k3,h.scrollbars="yes");const g=Object.entries(h).reduce((E,[S,k])=>`${E}${S}=${k},`,"");if(m5(p)&&u!=="_self")return D3(e||"",u),new fx(null);const m=window.open(e||"",u,g);We(m,n,"popup-blocked");try{m.focus()}catch{}return new fx(m)}function D3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="__/auth/handler",M3="emulator/auth/handler",V3=encodeURIComponent("fac");async function px(n,e,t,r,s,i){We(n.config.authDomain,n,"auth-domain-config-required"),We(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Sc,eventId:s};if(e instanceof A_){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",jj(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries({}))l[g]=m}if(e instanceof wd){const g=e.getScopes().filter(m=>m!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),p=h?`#${V3}=${encodeURIComponent(h)}`:"";return`${L3(n)}?${vd(u).slice(1)}${p}`}function L3({config:n}){return n.emulator?x_(n,M3):`https://${n.authDomain}/${O3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="webStorageSupport";class j3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lA,this._completeRedirectFn=l3,this._overrideRedirectResult=o3}async _openPopup(e,t,r,s){bo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await px(e,t,r,Jy(),s);return N3(e,i,P_())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await px(e,t,r,Jy(),s);return $5(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(bo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await T3(e),r=new u3(e);return t.register("authEvent",s=>(We(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yy,{type:yy},s=>{const i=s?.[0]?.[yy];i!==void 0&&t(!!i),Bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=m3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eA()||KC()||T_()}}const F3=j3;var mx="@firebase/auth",gx="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $3(n){nc(new Pa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tA(n)},p=new E5(r,s,i,h);return C5(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),nc(new Pa("auth-internal",e=>{const t=zp(e.getProvider("auth").getImmediate());return(r=>new U3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(mx,gx,z3(n)),wi(mx,gx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=300,q3=CC("authIdTokenMaxAge")||B3;let yx=null;const H3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>q3)return;const s=t?.token;yx!==s&&(yx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function W3(n=LC()){const e=w_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=T5(n,{popupRedirectResolver:F3,persistence:[Y5,F5,lA]}),r=CC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=H3(i.toString());V5(t,l,()=>l(t.currentUser)),M5(t,u=>l(u))}}const s=IC("auth");return s&&A5(t,`http://${s}`),t}function G3(){return document.getElementsByTagName("head")?.[0]??document}b5({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=os("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",G3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$3("Browser");var K3="firebase",Z3="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(K3,Z3,"app");var vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,gA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function A(){}A.prototype=I.prototype,P.F=I.prototype,P.prototype=new A,P.prototype.constructor=P,P.D=function(O,M,L){for(var N=Array(arguments.length-2),de=2;de<arguments.length;de++)N[de-2]=arguments[de];return I.prototype[M].apply(O,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,I,A){A||(A=0);const O=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)O[M]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(M=0;M<16;++M)O[M]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=P.g[0],A=P.g[1],M=P.g[2];let L=P.g[3],N;N=I+(L^A&(M^L))+O[0]+3614090360&4294967295,I=A+(N<<7&4294967295|N>>>25),N=L+(M^I&(A^M))+O[1]+3905402710&4294967295,L=I+(N<<12&4294967295|N>>>20),N=M+(A^L&(I^A))+O[2]+606105819&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(I^M&(L^I))+O[3]+3250441966&4294967295,A=M+(N<<22&4294967295|N>>>10),N=I+(L^A&(M^L))+O[4]+4118548399&4294967295,I=A+(N<<7&4294967295|N>>>25),N=L+(M^I&(A^M))+O[5]+1200080426&4294967295,L=I+(N<<12&4294967295|N>>>20),N=M+(A^L&(I^A))+O[6]+2821735955&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(I^M&(L^I))+O[7]+4249261313&4294967295,A=M+(N<<22&4294967295|N>>>10),N=I+(L^A&(M^L))+O[8]+1770035416&4294967295,I=A+(N<<7&4294967295|N>>>25),N=L+(M^I&(A^M))+O[9]+2336552879&4294967295,L=I+(N<<12&4294967295|N>>>20),N=M+(A^L&(I^A))+O[10]+4294925233&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(I^M&(L^I))+O[11]+2304563134&4294967295,A=M+(N<<22&4294967295|N>>>10),N=I+(L^A&(M^L))+O[12]+1804603682&4294967295,I=A+(N<<7&4294967295|N>>>25),N=L+(M^I&(A^M))+O[13]+4254626195&4294967295,L=I+(N<<12&4294967295|N>>>20),N=M+(A^L&(I^A))+O[14]+2792965006&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(I^M&(L^I))+O[15]+1236535329&4294967295,A=M+(N<<22&4294967295|N>>>10),N=I+(M^L&(A^M))+O[1]+4129170786&4294967295,I=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(I^A))+O[6]+3225465664&4294967295,L=I+(N<<9&4294967295|N>>>23),N=M+(I^A&(L^I))+O[11]+643717713&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^I&(M^L))+O[0]+3921069994&4294967295,A=M+(N<<20&4294967295|N>>>12),N=I+(M^L&(A^M))+O[5]+3593408605&4294967295,I=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(I^A))+O[10]+38016083&4294967295,L=I+(N<<9&4294967295|N>>>23),N=M+(I^A&(L^I))+O[15]+3634488961&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^I&(M^L))+O[4]+3889429448&4294967295,A=M+(N<<20&4294967295|N>>>12),N=I+(M^L&(A^M))+O[9]+568446438&4294967295,I=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(I^A))+O[14]+3275163606&4294967295,L=I+(N<<9&4294967295|N>>>23),N=M+(I^A&(L^I))+O[3]+4107603335&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^I&(M^L))+O[8]+1163531501&4294967295,A=M+(N<<20&4294967295|N>>>12),N=I+(M^L&(A^M))+O[13]+2850285829&4294967295,I=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(I^A))+O[2]+4243563512&4294967295,L=I+(N<<9&4294967295|N>>>23),N=M+(I^A&(L^I))+O[7]+1735328473&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^I&(M^L))+O[12]+2368359562&4294967295,A=M+(N<<20&4294967295|N>>>12),N=I+(A^M^L)+O[5]+4294588738&4294967295,I=A+(N<<4&4294967295|N>>>28),N=L+(I^A^M)+O[8]+2272392833&4294967295,L=I+(N<<11&4294967295|N>>>21),N=M+(L^I^A)+O[11]+1839030562&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^I)+O[14]+4259657740&4294967295,A=M+(N<<23&4294967295|N>>>9),N=I+(A^M^L)+O[1]+2763975236&4294967295,I=A+(N<<4&4294967295|N>>>28),N=L+(I^A^M)+O[4]+1272893353&4294967295,L=I+(N<<11&4294967295|N>>>21),N=M+(L^I^A)+O[7]+4139469664&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^I)+O[10]+3200236656&4294967295,A=M+(N<<23&4294967295|N>>>9),N=I+(A^M^L)+O[13]+681279174&4294967295,I=A+(N<<4&4294967295|N>>>28),N=L+(I^A^M)+O[0]+3936430074&4294967295,L=I+(N<<11&4294967295|N>>>21),N=M+(L^I^A)+O[3]+3572445317&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^I)+O[6]+76029189&4294967295,A=M+(N<<23&4294967295|N>>>9),N=I+(A^M^L)+O[9]+3654602809&4294967295,I=A+(N<<4&4294967295|N>>>28),N=L+(I^A^M)+O[12]+3873151461&4294967295,L=I+(N<<11&4294967295|N>>>21),N=M+(L^I^A)+O[15]+530742520&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^I)+O[2]+3299628645&4294967295,A=M+(N<<23&4294967295|N>>>9),N=I+(M^(A|~L))+O[0]+4096336452&4294967295,I=A+(N<<6&4294967295|N>>>26),N=L+(A^(I|~M))+O[7]+1126891415&4294967295,L=I+(N<<10&4294967295|N>>>22),N=M+(I^(L|~A))+O[14]+2878612391&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~I))+O[5]+4237533241&4294967295,A=M+(N<<21&4294967295|N>>>11),N=I+(M^(A|~L))+O[12]+1700485571&4294967295,I=A+(N<<6&4294967295|N>>>26),N=L+(A^(I|~M))+O[3]+2399980690&4294967295,L=I+(N<<10&4294967295|N>>>22),N=M+(I^(L|~A))+O[10]+4293915773&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~I))+O[1]+2240044497&4294967295,A=M+(N<<21&4294967295|N>>>11),N=I+(M^(A|~L))+O[8]+1873313359&4294967295,I=A+(N<<6&4294967295|N>>>26),N=L+(A^(I|~M))+O[15]+4264355552&4294967295,L=I+(N<<10&4294967295|N>>>22),N=M+(I^(L|~A))+O[6]+2734768916&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~I))+O[13]+1309151649&4294967295,A=M+(N<<21&4294967295|N>>>11),N=I+(M^(A|~L))+O[4]+4149444226&4294967295,I=A+(N<<6&4294967295|N>>>26),N=L+(A^(I|~M))+O[11]+3174756917&4294967295,L=I+(N<<10&4294967295|N>>>22),N=M+(I^(L|~A))+O[2]+718787259&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~I))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+L&4294967295}r.prototype.v=function(P,I){I===void 0&&(I=P.length);const A=I-this.blockSize,O=this.C;let M=this.h,L=0;for(;L<I;){if(M==0)for(;L<=A;)s(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<I;)if(O[M++]=P.charCodeAt(L++),M==this.blockSize){s(this,O),M=0;break}}else for(;L<I;)if(O[M++]=P[L++],M==this.blockSize){s(this,O),M=0;break}}this.h=M,this.o+=I},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;I=this.o*8;for(var A=P.length-8;A<P.length;++A)P[A]=I&255,I/=256;for(this.v(P),P=Array(16),I=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)P[I++]=this.g[A]>>>O&255;return P};function i(P,I){var A=u;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=I(P)}function l(P,I){this.h=I;const A=[];let O=!0;for(let M=P.length-1;M>=0;M--){const L=P[M]|0;O&&L==I||(A[M]=L,O=!1)}this.g=A}var u={};function h(P){return-128<=P&&P<128?i(P,function(I){return new l([I|0],I<0?-1:0)}):new l([P|0],P<0?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return R(p(-P));const I=[];let A=1;for(let O=0;P>=A;O++)I[O]=P/A|0,A*=4294967296;return new l(I,0)}function g(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return R(g(P.substring(1),I));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(I,8));let O=m;for(let L=0;L<P.length;L+=8){var M=Math.min(8,P.length-L);const N=parseInt(P.substring(L,L+M),I);M<8?(M=p(Math.pow(I,M)),O=O.j(M).add(p(N))):(O=O.j(A),O=O.add(p(N)))}return O}var m=h(0),E=h(1),S=h(16777216);n=l.prototype,n.m=function(){if(C(this))return-R(this).m();let P=0,I=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);P+=(O>=0?O:4294967296+O)*I,I*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(k(this))return"0";if(C(this))return"-"+R(this).toString(P);const I=p(Math.pow(P,6));var A=this;let O="";for(;;){const M=q(A,I).g;A=V(A,M.j(I));let L=((A.g.length>0?A.g[0]:A.h)>>>0).toString(P);if(A=M,k(A))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function k(P){if(P.h!=0)return!1;for(let I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function C(P){return P.h==-1}n.l=function(P){return P=V(this,P),C(P)?-1:k(P)?0:1};function R(P){const I=P.g.length,A=[];for(let O=0;O<I;O++)A[O]=~P.g[O];return new l(A,~P.h).add(E)}n.abs=function(){return C(this)?R(this):this},n.add=function(P){const I=Math.max(this.g.length,P.g.length),A=[];let O=0;for(let M=0;M<=I;M++){let L=O+(this.i(M)&65535)+(P.i(M)&65535),N=(L>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);O=N>>>16,L&=65535,N&=65535,A[M]=N<<16|L}return new l(A,A[A.length-1]&-2147483648?-1:0)};function V(P,I){return P.add(R(I))}n.j=function(P){if(k(this)||k(P))return m;if(C(this))return C(P)?R(this).j(R(P)):R(R(this).j(P));if(C(P))return R(this.j(R(P)));if(this.l(S)<0&&P.l(S)<0)return p(this.m()*P.m());const I=this.g.length+P.g.length,A=[];for(var O=0;O<2*I;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<P.g.length;M++){const L=this.i(O)>>>16,N=this.i(O)&65535,de=P.i(M)>>>16,Ve=P.i(M)&65535;A[2*O+2*M]+=N*Ve,U(A,2*O+2*M),A[2*O+2*M+1]+=L*Ve,U(A,2*O+2*M+1),A[2*O+2*M+1]+=N*de,U(A,2*O+2*M+1),A[2*O+2*M+2]+=L*de,U(A,2*O+2*M+2)}for(P=0;P<I;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=I;P<2*I;P++)A[P]=0;return new l(A,0)};function U(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function z(P,I){this.g=P,this.h=I}function q(P,I){if(k(I))throw Error("division by zero");if(k(P))return new z(m,m);if(C(P))return I=q(R(P),I),new z(R(I.g),R(I.h));if(C(I))return I=q(P,R(I)),new z(R(I.g),I.h);if(P.g.length>30){if(C(P)||C(I))throw Error("slowDivide_ only works with positive integers.");for(var A=E,O=I;O.l(P)<=0;)A=W(A),O=W(O);var M=J(A,1),L=J(O,1);for(O=J(O,2),A=J(A,2);!k(O);){var N=L.add(O);N.l(P)<=0&&(M=M.add(A),L=N),O=J(O,1),A=J(A,1)}return I=V(P,M.j(I)),new z(M,I)}for(M=m;P.l(I)>=0;){for(A=Math.max(1,Math.floor(P.m()/I.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=p(A),N=L.j(I);C(N)||N.l(P)>0;)A-=O,L=p(A),N=L.j(I);k(L)&&(L=E),M=M.add(L),P=V(P,N)}return new z(M,P)}n.B=function(P){return q(this,P).h},n.and=function(P){const I=Math.max(this.g.length,P.g.length),A=[];for(let O=0;O<I;O++)A[O]=this.i(O)&P.i(O);return new l(A,this.h&P.h)},n.or=function(P){const I=Math.max(this.g.length,P.g.length),A=[];for(let O=0;O<I;O++)A[O]=this.i(O)|P.i(O);return new l(A,this.h|P.h)},n.xor=function(P){const I=Math.max(this.g.length,P.g.length),A=[];for(let O=0;O<I;O++)A[O]=this.i(O)^P.i(O);return new l(A,this.h^P.h)};function W(P){const I=P.g.length+1,A=[];for(let O=0;O<I;O++)A[O]=P.i(O)<<1|P.i(O-1)>>>31;return new l(A,P.h)}function J(P,I){const A=I>>5;I%=32;const O=P.g.length-A,M=[];for(let L=0;L<O;L++)M[L]=I>0?P.i(L+A)>>>I|P.i(L+A+1)<<32-I:P.i(L+A);return new l(M,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ei=l}).apply(typeof vx<"u"?vx:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yA,Cu,vA,bf,nv,_A,wA,EA;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var w=0;w<d.length;++w){var x=d[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function s(d,w){if(w)e:{var x=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var Q=d[D];if(!(Q in x))break e;x=x[Q]}d=d[d.length-1],D=x[d],w=w(D),w!=D&&w!=null&&e(x,d,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(w){var x=[],D;for(D in w)Object.prototype.hasOwnProperty.call(w,D)&&x.push([D,w[D]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function h(d,w,x){return d.call.apply(d.bind,arguments)}function p(d,w,x){return p=h,p.apply(null,arguments)}function g(d,w){var x=Array.prototype.slice.call(arguments,1);return function(){var D=x.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function m(d,w){function x(){}x.prototype=w.prototype,d.Z=w.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(D,Q,te){for(var ve=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ve[Ye-2]=arguments[Ye];return w.prototype[Q].apply(D,ve)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const w=d.length;if(w>0){const x=Array(w);for(let D=0;D<w;D++)x[D]=d[D];return x}return[]}function k(d,w){for(let D=1;D<arguments.length;D++){const Q=arguments[D];var x=typeof Q;if(x=x!="object"?x:Q?Array.isArray(Q)?"array":x:"null",x=="array"||x=="object"&&typeof Q.length=="number"){x=d.length||0;const te=Q.length||0;d.length=x+te;for(let ve=0;ve<te;ve++)d[x+ve]=Q[ve]}else d.push(Q)}}class C{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(d){l.setTimeout(()=>{throw d},0)}function V(){var d=P;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class U{constructor(){this.h=this.g=null}add(w,x){const D=z.get();D.set(w,x),this.h?this.h.next=D:this.g=D,this.h=D}}var z=new C(()=>new q,d=>d.reset());class q{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let W,J=!1,P=new U,I=()=>{const d=Promise.resolve(void 0);W=()=>{d.then(A)}};function A(){for(var d;d=V();){try{d.h.call(d.g)}catch(x){R(x)}var w=z;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}J=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};l.addEventListener("test",x,w),l.removeEventListener("test",x,w)}catch{}return d})();function N(d){return/^[\s\xa0]*$/.test(d)}function de(d,w){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}m(de,M),de.prototype.init=function(d,w){const x=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(x=="mouseover"?w=d.fromElement:x=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),pe=0;function me(d,w,x,D,Q){this.listener=d,this.proxy=null,this.src=w,this.type=x,this.capture=!!D,this.ha=Q,this.key=++pe,this.da=this.fa=!1}function H(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ne(d,w,x){for(const D in d)w.call(x,d[D],D,d)}function Y(d,w){for(const x in d)w.call(void 0,d[x],x,d)}function F(d){const w={};for(const x in d)w[x]=d[x];return w}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(d,w){let x,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(x in D)d[x]=D[x];for(let te=0;te<G.length;te++)x=G[te],Object.prototype.hasOwnProperty.call(D,x)&&(d[x]=D[x])}}function ie(d){this.src=d,this.g={},this.h=0}ie.prototype.add=function(d,w,x,D,Q){const te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);const ve=Te(d,w,D,Q);return ve>-1?(w=d[ve],x||(w.fa=!1)):(w=new me(w,this.src,te,!!D,Q),w.fa=x,d.push(w)),w};function fe(d,w){const x=w.type;if(x in d.g){var D=d.g[x],Q=Array.prototype.indexOf.call(D,w,void 0),te;(te=Q>=0)&&Array.prototype.splice.call(D,Q,1),te&&(H(w),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Te(d,w,x,D){for(let Q=0;Q<d.length;++Q){const te=d[Q];if(!te.da&&te.listener==w&&te.capture==!!x&&te.ha==D)return Q}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Ie={};function Ge(d,w,x,D,Q){if(Array.isArray(w)){for(let te=0;te<w.length;te++)Ge(d,w[te],x,D,Q);return null}return x=Ro(x),d&&d[Ve]?d.J(w,x,u(D)?!!D.capture:!1,Q):Qe(d,w,x,!1,D,Q)}function Qe(d,w,x,D,Q,te){if(!w)throw Error("Invalid event type");const ve=u(Q)?!!Q.capture:!!Q;let Ye=Zs(d);if(Ye||(d[we]=Ye=new ie(d)),x=Ye.add(w,x,D,ve,te),x.proxy)return x;if(D=ye(),x.proxy=D,D.src=d,D.listener=x,d.addEventListener)L||(Q=ve),Q===void 0&&(Q=!1),d.addEventListener(w.toString(),D,Q);else if(d.attachEvent)d.attachEvent(us(w.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ye(){function d(x){return w.call(d.src,d.listener,x)}const w=Ga;return d}function xt(d,w,x,D,Q){if(Array.isArray(w))for(var te=0;te<w.length;te++)xt(d,w[te],x,D,Q);else D=u(D)?!!D.capture:!!D,x=Ro(x),d&&d[Ve]?(d=d.i,te=String(w).toString(),te in d.g&&(w=d.g[te],x=Te(w,x,D,Q),x>-1&&(H(w[x]),Array.prototype.splice.call(w,x,1),w.length==0&&(delete d.g[te],d.h--)))):d&&(d=Zs(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Te(w,x,D,Q)),(x=d>-1?w[d]:null)&&hn(x))}function hn(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Ve])fe(w.i,d);else{var x=d.type,D=d.proxy;w.removeEventListener?w.removeEventListener(x,D,d.capture):w.detachEvent?w.detachEvent(us(x),D):w.addListener&&w.removeListener&&w.removeListener(D),(x=Zs(w))?(fe(x,d),x.h==0&&(x.src=null,w[we]=null)):H(d)}}}function us(d){return d in Ie?Ie[d]:Ie[d]="on"+d}function Ga(d,w){if(d.da)d=!0;else{w=new de(w,this);const x=d.listener,D=d.ha||d.src;d.fa&&hn(d),d=x.call(D,w)}return d}function Zs(d){return d=d[we],d instanceof ie?d:null}var ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ro(d){return typeof d=="function"?d:(d[ir]||(d[ir]=function(w){return d.handleEvent(w)}),d[ir])}function gt(){O.call(this),this.i=new ie(this),this.M=this,this.G=null}m(gt,O),gt.prototype[Ve]=!0,gt.prototype.removeEventListener=function(d,w,x,D){xt(this,d,w,x,D)};function Vt(d,w){var x,D=d.G;if(D)for(x=[];D;D=D.G)x.push(D);if(d=d.M,D=w.type||w,typeof w=="string")w=new M(w,d);else if(w instanceof M)w.target=w.target||d;else{var Q=w;w=new M(D,d),oe(w,Q)}Q=!0;let te,ve;if(x)for(ve=x.length-1;ve>=0;ve--)te=w.g=x[ve],Q=ar(te,D,!0,w)&&Q;if(te=w.g=d,Q=ar(te,D,!0,w)&&Q,Q=ar(te,D,!1,w)&&Q,x)for(ve=0;ve<x.length;ve++)te=w.g=x[ve],Q=ar(te,D,!1,w)&&Q}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const x=d.g[w];for(let D=0;D<x.length;D++)H(x[D]);delete d.g[w],d.h--}}this.G=null},gt.prototype.J=function(d,w,x,D){return this.i.add(String(d),w,!1,x,D)},gt.prototype.K=function(d,w,x,D){return this.i.add(String(d),w,!0,x,D)};function ar(d,w,x,D){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let Q=!0;for(let te=0;te<w.length;++te){const ve=w[te];if(ve&&!ve.da&&ve.capture==x){const Ye=ve.listener,Wt=ve.ha||ve.src;ve.fa&&fe(d.i,ve),Q=Ye.call(Wt,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function on(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(d,w||0)}function Ir(d){d.g=on(()=>{d.g=null,d.i&&(d.i=!1,Ir(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Ka extends O{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ir(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(d){O.call(this),this.h=d,this.g={}}m(ds,O);var hs=[];function ko(d){ne(d.g,function(w,x){this.g.hasOwnProperty(x)&&hn(w)},d),d.g={}}ds.prototype.N=function(){ds.Z.N.call(this),ko(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Br=l.JSON.stringify,No=l.JSON.parse,Zn=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function qr(){}function Hr(){}var fs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Do(){M.call(this,"d")}m(Do,M);function Oo(){M.call(this,"c")}m(Oo,M);var Qn={},Mo=null;function Tr(){return Mo=Mo||new gt}Qn.Ia="serverreachability";function Un(d){M.call(this,Qn.Ia,d)}m(Un,M);function Wr(d){const w=Tr();Vt(w,new Un(w))}Qn.STAT_EVENT="statevent";function Gr(d,w){M.call(this,Qn.STAT_EVENT,d),this.stat=w}m(Gr,M);function At(d){const w=Tr();Vt(w,new Gr(w,d))}Qn.Ja="timingevent";function Vo(d,w){M.call(this,Qn.Ja,d),this.size=w}m(Vo,M);function qe(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},w)}function St(){this.g=!0}St.prototype.ua=function(){this.g=!1};function Ht(d,w,x,D,Q,te){d.info(function(){if(d.g)if(te){var ve="",Ye=te.split("&");for(let vt=0;vt<Ye.length;vt++){var Wt=Ye[vt].split("=");if(Wt.length>1){const Jt=Wt[0];Wt=Wt[1];const pr=Jt.split("_");ve=pr.length>=2&&pr[1]=="type"?ve+(Jt+"="+Wt+"&"):ve+(Jt+"=redacted&")}}}else ve=null;else ve=te;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+w+`
`+x+`
`+ve})}function fn(d,w,x,D,Q,te,ve){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+w+`
`+x+`
`+te+" "+ve})}function zn(d,w,x,D){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Yt(d,x)+(D?" "+D:"")})}function $t(d,w){d.info(function(){return"TIMEOUT: "+w})}St.prototype.info=function(){};function Yt(d,w){if(!d.g)return w;if(!w)return null;try{const te=JSON.parse(w);if(te){for(d=0;d<te.length;d++)if(Array.isArray(te[d])){var x=te[d];if(!(x.length<2)){var D=x[1];if(Array.isArray(D)&&!(D.length<1)){var Q=D[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ve=1;ve<D.length;ve++)D[ve]=""}}}}return Br(te)}catch{return w}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},An;function Cr(){}m(Cr,qr),Cr.prototype.g=function(){return new XMLHttpRequest},An=new Cr;function pn(d){return encodeURIComponent(String(d))}function Mi(d){var w=1;d=d.split(":");const x=[];for(;w>0&&d.length;)x.push(d.shift()),w--;return d.length&&x.push(d.join(":")),x}function Ar(d,w,x,D){this.j=d,this.i=w,this.l=x,this.S=D||1,this.V=new ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ld}function Ld(){this.i=null,this.g="",this.h=!1}var jd={},Pc={};function Kr(d,w,x){d.M=1,d.A=Ys(Pr(w)),d.u=x,d.R=!0,Rc(d,null)}function Rc(d,w){d.F=Date.now(),Vi(d),d.B=Pr(d.A);var x=d.B,D=d.S;Array.isArray(D)||(D=[String(D)]),Uc(x.i,"t",D),d.C=0,x=d.j.L,d.h=new Ld,d.g=Kd(d.j,x?w:null,!d.u),d.P>0&&(d.O=new Ka(p(d.Y,d,d.g),d.P)),w=d.V,x=d.g,D=d.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(hs[0]=Q.toString()),Q=hs);for(let te=0;te<Q.length;te++){const ve=Ge(x,Q[te],D||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=d.J?F(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),Wr(),Ht(d.i,d.v,d.B,d.l,d.S,d.u)}Ar.prototype.ba=function(d){d=d.target;const w=this.O;w&&ws(d)==3?w.j():this.Y(d)},Ar.prototype.Y=function(d){try{if(d==this.g)e:{const Ye=ws(this.g),Wt=this.g.ya(),vt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||Wd(this.g)))){this.K||Ye!=4||Wt==7||(Wt==8||vt<=0?Wr(3):Wr(2)),Za(this);var w=this.g.ca();this.X=w;var x=Fd(this);if(this.o=w==200,fn(this.i,this.v,this.B,this.l,this.S,Ye,w),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Q=this.g;if((D=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(D)){var te=D;break t}}te=null}if(d=te)zn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pt(this,d);else{this.o=!1,this.m=3,At(12),Qs(this),Li(this);break e}}if(this.R){d=!0;let Jt;for(;!this.K&&this.C<x.length;)if(Jt=zd(this,x),Jt==Pc){Ye==4&&(this.m=4,At(14),d=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==jd){this.m=4,At(15),zn(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else zn(this.i,this.l,Jt,null),Pt(this,Jt);if(Ud(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||x.length!=0||this.h.h||(this.m=1,At(16),d=!1),this.o=this.o&&d,!d)zn(this.i,this.l,x,"[Invalid Chunked Response]"),Qs(this),Li(this);else if(x.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Wi(ve),ve.P=!0,At(11))}}else zn(this.i,this.l,x,null),Pt(this,x);Ye==4&&Qs(this),this.o&&!this.K&&(Ye==4?ol(this.j,this):(this.o=!1,Vi(this)))}else $c(this.g),w==400&&x.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Qs(this),Li(this)}}}catch{}finally{}};function Fd(d){if(!Ud(d))return d.g.la();const w=Wd(d.g);if(w==="")return"";let x="";const D=w.length,Q=ws(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Qs(d),Li(d),"";d.h.i=new l.TextDecoder}for(let te=0;te<D;te++)d.h.h=!0,x+=d.h.i.decode(w[te],{stream:!(Q&&te==D-1)});return w.length=0,d.h.g+=x,d.C=0,d.h.g}function Ud(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function zd(d,w){var x=d.C,D=w.indexOf(`
`,x);return D==-1?Pc:(x=Number(w.substring(x,D)),isNaN(x)?jd:(D+=1,D+x>w.length?Pc:(w=w.slice(D,D+x),d.C=D+x,w)))}Ar.prototype.cancel=function(){this.K=!0,Qs(this)};function Vi(d){d.T=Date.now()+d.H,kc(d,d.H)}function kc(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qe(p(d.aa,d),w)}function Za(d){d.D&&(l.clearTimeout(d.D),d.D=null)}Ar.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?($t(this.i,this.B),this.M!=2&&(Wr(),At(17)),Qs(this),this.m=2,Li(this)):kc(this,this.T-d)};function Li(d){d.j.I==0||d.K||ol(d.j,d)}function Qs(d){Za(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,ko(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function Pt(d,w){try{var x=d.j;if(x.I!=0&&(x.g==d||Dc(x.h,d))){if(!d.L&&Dc(x.h,d)&&x.I==3){try{var D=x.Ba.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)sl(x),hr(x);else break e;xs(x),At(18)}}else x.xa=Q[1],0<x.xa-x.K&&Q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=qe(p(x.Va,x),6e3));ji(x.h)<=1&&x.ta&&(x.ta=void 0)}else fr(x,11)}else if((d.L||x.g==d)&&sl(x),!N(w))for(Q=x.Ba.g.parse(w),w=0;w<Q.length;w++){let vt=Q[w];const Jt=vt[0];if(!(Jt<=x.K))if(x.K=Jt,vt=vt[1],x.I==2)if(vt[0]=="c"){x.M=vt[1],x.ba=vt[2];const pr=vt[3];pr!=null&&(x.ka=pr,x.j.info("VER="+x.ka));const no=vt[4];no!=null&&(x.za=no,x.j.info("SVER="+x.za));const Ss=vt[5];Ss!=null&&typeof Ss=="number"&&Ss>0&&(D=1.5*Ss,x.O=D,x.j.info("backChannelRequestTimeoutMs_="+D)),D=x;const Is=d.g;if(Is){const ll=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ll){var te=D.h;te.g||ll.indexOf("spdy")==-1&&ll.indexOf("quic")==-1&&ll.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Ya(te,te.h),te.h=null))}if(D.G){const Hc=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;Hc&&(D.wa=Hc,mt(D.J,D.G,Hc))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),D=x;var ve=d;if(D.na=qc(D,D.L?D.ba:null,D.W),ve.L){Fi(D.h,ve);var Ye=ve,Wt=D.O;Wt&&(Ye.H=Wt),Ye.D&&(Za(Ye),Vi(Ye)),D.g=ve}else Pn(D);x.i.length>0&&to(x)}else vt[0]!="stop"&&vt[0]!="close"||fr(x,7);else x.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?fr(x,7):nl(x):vt[0]!="noop"&&x.l&&x.l.qa(vt),x.A=0)}}Wr(4)}catch{}}var bm=class{constructor(d,w){this.g=d,this.map=w}};function Qa(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ji(d){return d.h?1:d.g?d.g.size:0}function Dc(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Ya(d,w){d.g?d.g.add(w):d.h=w}function Fi(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Qa.prototype.cancel=function(){if(this.i=cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function cr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const x of d.g.values())w=w.concat(x.G);return w}return S(d.i)}var $d=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ur(d,w){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const D=d[x].indexOf("=");let Q,te=null;D>=0?(Q=d[x].substring(0,D),te=d[x].substring(D+1)):Q=d[x],w(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function ps(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof ps?(this.l=d.l,Ui(this,d.j),this.o=d.o,this.g=d.g,ms(this,d.u),this.h=d.h,Lo(this,zc(d.i)),this.m=d.m):d&&(w=String(d).match($d))?(this.l=!1,Ui(this,w[1]||"",!0),this.o=zi(w[2]||""),this.g=zi(w[3]||"",!0),ms(this,w[4]),this.h=zi(w[5]||"",!0),Lo(this,w[6]||"",!0),this.m=zi(w[7]||"")):(this.l=!1,this.i=new lt(null,this.l))}ps.prototype.toString=function(){const d=[];var w=this.j;w&&d.push($i(w,Mc,!0),":");var x=this.g;return(x||w=="file")&&(d.push("//"),(w=this.o)&&d.push($i(w,Mc,!0),"@"),d.push(pn(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push($i(x,x.charAt(0)=="/"?Bi:Vc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",$i(x,Lc)),d.join("")},ps.prototype.resolve=function(d){const w=Pr(this);let x=!!d.j;x?Ui(w,d.j):x=!!d.o,x?w.o=d.o:x=!!d.g,x?w.g=d.g:x=d.u!=null;var D=d.h;if(x)ms(w,d.u);else if(x=!!d.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Q=w.h.lastIndexOf("/");Q!=-1&&(D=w.h.slice(0,Q+1)+D)}if(Q=D,Q==".."||Q==".")D="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){D=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let ve=0;ve<Q.length;){const Ye=Q[ve++];Ye=="."?D&&ve==Q.length&&te.push(""):Ye==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),D&&ve==Q.length&&te.push("")):(te.push(Ye),D=!0)}D=te.join("/")}else D=Q}return x?w.h=D:x=d.i.toString()!=="",x?Lo(w,zc(d.i)):x=!!d.m,x&&(w.m=d.m),w};function Pr(d){return new ps(d)}function Ui(d,w,x){d.j=x?zi(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function ms(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function Lo(d,w,x){w instanceof lt?(d.i=w,Ja(d.i,d.l)):(x||(w=$i(w,xm)),d.i=new lt(w,d.l))}function mt(d,w,x){d.i.set(w,x)}function Ys(d){return mt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function zi(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function $i(d,w,x){return typeof d=="string"?(d=encodeURI(d).replace(w,Oc),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Oc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Mc=/[#\/\?@]/g,Vc=/[#\?:]/g,Bi=/[#\?]/g,xm=/[#\?@]/g,Lc=/#/g;function lt(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function gs(d){d.g||(d.g=new Map,d.h=0,d.i&&ur(d.i,function(w,x){d.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}n=lt.prototype,n.add=function(d,w){gs(this),this.i=null,d=ys(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(w),this.h+=1,this};function jc(d,w){gs(d),w=ys(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Xa(d,w){return gs(d),w=ys(d,w),d.g.has(w)}n.forEach=function(d,w){gs(this),this.g.forEach(function(x,D){x.forEach(function(Q){d.call(w,Q,D,this)},this)},this)};function Fc(d,w){gs(d);let x=[];if(typeof w=="string")Xa(d,w)&&(x=x.concat(d.g.get(ys(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)x=x.concat(d[w]);return x}n.set=function(d,w){return gs(this),this.i=null,d=ys(this,d),Xa(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},n.get=function(d,w){return d?(d=Fc(this,d),d.length>0?String(d[0]):w):w};function Uc(d,w,x){jc(d,w),x.length>0&&(d.i=null,d.g.set(ys(d,w),S(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let D=0;D<w.length;D++){var x=w[D];const Q=pn(x);x=Fc(this,x);for(let te=0;te<x.length;te++){let ve=Q;x[te]!==""&&(ve+="="+pn(x[te])),d.push(ve)}}return this.i=d.join("&")};function zc(d){const w=new lt;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function ys(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Ja(d,w){w&&!d.j&&(gs(d),d.i=null,d.g.forEach(function(x,D){const Q=D.toLowerCase();D!=Q&&(jc(this,D),Uc(this,Q,x))},d)),d.j=w}function vs(d,w){const x=new St;if(l.Image){const D=new Image;D.onload=g(wn,x,"TestLoadImage: loaded",!0,w,D),D.onerror=g(wn,x,"TestLoadImage: error",!1,w,D),D.onabort=g(wn,x,"TestLoadImage: abort",!1,w,D),D.ontimeout=g(wn,x,"TestLoadImage: timeout",!1,w,D),l.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else w(!1)}function _s(d,w){const x=new St,D=new AbortController,Q=setTimeout(()=>{D.abort(),wn(x,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:D.signal}).then(te=>{clearTimeout(Q),te.ok?wn(x,"TestPingServer: ok",!0,w):wn(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),wn(x,"TestPingServer: error",!1,w)})}function wn(d,w,x,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(x)}catch{}}function qi(){this.g=new Zn}function Xs(d){this.i=d.Sb||null,this.h=d.ab||!1}m(Xs,qr),Xs.prototype.g=function(){return new dr(this.i,this.h)};function dr(d,w){gt.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(dr,gt),n=dr.prototype,n.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,Zr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jo(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bd(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bd(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?jo(this):Zr(this),this.readyState==3&&Bd(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,jo(this))},n.Na=function(d){this.g&&(this.response=d,jo(this))},n.ga=function(){this.g&&jo(this)};function jo(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Zr(d)}n.setRequestHeader=function(d,w){this.A.append(d,w)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=w.next();return d.join(`\r
`)};function Zr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function qd(d){let w="";return ne(d,function(x,D){w+=D,w+=":",w+=x,w+=`\r
`}),w}function el(d,w,x){e:{for(D in x){var D=!1;break e}D=!0}D||(x=qd(x),typeof d=="string"?x!=null&&pn(x):mt(d,w,x))}function It(d){gt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(It,gt);var Hd=/^https?$/i,Sm=["POST","PUT"];n=It.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,w,x,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():An.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(te){Fo(this,te);return}if(d=x||"",x=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)x.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())x.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(x.keys()).find(te=>te.toLowerCase()=="content-type"),Q=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(Sm,w,void 0)>=0)||D||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ve]of x)this.g.setRequestHeader(te,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(te){Fo(this,te)}};function Fo(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,Uo(d),eo(d)}function Uo(d){d.A||(d.A=!0,Vt(d,"complete"),Vt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Vt(this,"complete"),Vt(this,"abort"),eo(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eo(this,!0)),It.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Js(this):this.Xa())},n.Xa=function(){Js(this)};function Js(d){if(d.h&&typeof i<"u"){if(d.v&&ws(d)==4)setTimeout(d.Ca.bind(d),0);else if(Vt(d,"readystatechange"),ws(d)==4){d.h=!1;try{const te=d.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var D;if(D=te===0){let ve=String(d.D).match($d)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),D=!Hd.test(ve?ve.toLowerCase():"")}x=D}if(x)Vt(d,"complete"),Vt(d,"success");else{d.o=6;try{var Q=ws(d)>2?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.ca()+"]",Uo(d)}}finally{eo(d)}}}}function eo(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,w||Vt(d,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ws(d){return d.g?d.g.readyState:0}n.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),No(w)}};function Wd(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function $c(d){const w={};d=(d.g&&ws(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(N(d[D]))continue;var x=Mi(d[D]);const Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const te=w[Q]||[];w[Q]=te,te.push(x)}Y(w,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(d,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||w}function tl(d){this.za=0,this.i=[],this.j=new St,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Es("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Es("baseRetryDelayMs",5e3,d),this.Za=Es("retryDelaySeedMs",1e4,d),this.Ta=Es("forwardChannelMaxRetries",2,d),this.va=Es("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Qa(d&&d.concurrentRequestLimit),this.Ba=new qi,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=tl.prototype,n.ka=8,n.I=1,n.connect=function(d,w,x,D){At(0),this.W=d,this.H=w||{},x&&D!==void 0&&(this.H.OSID=x,this.H.OAID=D),this.F=this.X,this.J=qc(this,null,this.W),to(this)};function nl(d){if(rl(d),d.I==3){var w=d.V++,x=Pr(d.J);if(mt(x,"SID",d.M),mt(x,"RID",w),mt(x,"TYPE","terminate"),bs(d,x),w=new Ar(d,d.j,w),w.M=2,w.A=Ys(Pr(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=w.A,x=!0),x||(w.g=Kd(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Vi(w)}Gi(d)}function hr(d){d.g&&(Wi(d),d.g.cancel(),d.g=null)}function rl(d){hr(d),d.v&&(l.clearTimeout(d.v),d.v=null),sl(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function to(d){if(!Nc(d.h)&&!d.m){d.m=!0;var w=d.Ea;W||I(),J||(W(),J=!0),P.add(w,d),d.D=0}}function Gd(d,w){return ji(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qe(p(d.Ea,d,w),il(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Q=new Ar(this,this.j,d);let te=this.o;if(this.U&&(te?(te=F(te),oe(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var D=this.i[x];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,w>4096){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=Bc(this,Q,w),x=Pr(this.J),mt(x,"RID",d),mt(x,"CVER",22),this.G&&mt(x,"X-HTTP-Session-Id",this.G),bs(this,x),te&&(this.R?w="headers="+pn(qd(te))+"&"+w:this.u&&el(x,this.u,te)),Ya(this.h,Q),this.Ra&&mt(x,"TYPE","init"),this.S?(mt(x,"$req",w),mt(x,"SID","null"),Q.U=!0,Kr(Q,x,null)):Kr(Q,x,w),this.I=2}}else this.I==3&&(d?Hi(this,d):this.i.length==0||Nc(this.h)||Hi(this))};function Hi(d,w){var x;w?x=w.l:x=d.V++;const D=Pr(d.J);mt(D,"SID",d.M),mt(D,"RID",x),mt(D,"AID",d.K),bs(d,D),d.u&&d.o&&el(D,d.u,d.o),x=new Ar(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),w&&(d.i=w.G.concat(d.i)),w=Bc(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ya(d.h,x),Kr(x,D,w)}function bs(d,w){d.H&&ne(d.H,function(x,D){mt(w,D,x)}),d.l&&ne({},function(x,D){mt(w,D,x)})}function Bc(d,w,x){x=Math.min(d.i.length,x);const D=d.l?p(d.l.Ka,d.l,d):null;e:{var Q=d.i;let Ye=-1;for(;;){const Wt=["count="+x];Ye==-1?x>0?(Ye=Q[0].g,Wt.push("ofs="+Ye)):Ye=0:Wt.push("ofs="+Ye);let vt=!0;for(let Jt=0;Jt<x;Jt++){var te=Q[Jt].g;const pr=Q[Jt].map;if(te-=Ye,te<0)Ye=Math.max(0,Q[Jt].g-100),vt=!1;else try{te="req"+te+"_"||"";try{var ve=pr instanceof Map?pr:Object.entries(pr);for(const[no,Ss]of ve){let Is=Ss;u(Ss)&&(Is=Br(Ss)),Wt.push(te+no+"="+encodeURIComponent(Is))}}catch(no){throw Wt.push(te+"type="+encodeURIComponent("_badmap")),no}}catch{D&&D(pr)}}if(vt){ve=Wt.join("&");break e}}ve=void 0}return d=d.i.splice(0,x),w.G=d,ve}function Pn(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;W||I(),J||(W(),J=!0),P.add(w,d),d.A=0}}function xs(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qe(p(d.Da,d),il(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,zo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qe(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),hr(this),zo(this))};function Wi(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function zo(d){d.g=new Ar(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=Pr(d.na);mt(w,"RID","rpc"),mt(w,"SID",d.M),mt(w,"AID",d.K),mt(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&mt(w,"TO",d.ia),mt(w,"TYPE","xmlhttp"),bs(d,w),d.u&&d.o&&el(w,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=Ys(Pr(w)),x.u=null,x.R=!0,Rc(x,d)}n.Va=function(){this.C!=null&&(this.C=null,hr(this),xs(this),At(19))};function sl(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function ol(d,w){var x=null;if(d.g==w){sl(d),Wi(d),d.g=null;var D=2}else if(Dc(d.h,w))x=w.G,Fi(d.h,w),D=1;else return;if(d.I!=0){if(w.o)if(D==1){x=w.u?w.u.length:0,w=Date.now()-w.F;var Q=d.D;D=Tr(),Vt(D,new Vo(D,x)),to(d)}else Pn(d);else if(Q=w.m,Q==3||Q==0&&w.X>0||!(D==1&&Gd(d,w)||D==2&&xs(d)))switch(x&&x.length>0&&(w=d.h,w.i=w.i.concat(x)),Q){case 1:fr(d,5);break;case 4:fr(d,10);break;case 3:fr(d,6);break;default:fr(d,2)}}}function il(d,w){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*w}function fr(d,w){if(d.j.info("Error code "+w),w==2){var x=p(d.bb,d),D=d.Ua;const Q=!D;D=new ps(D||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ui(D,"https"),Ys(D),Q?vs(D.toString(),x):_s(D.toString(),x)}else At(2);d.I=0,d.l&&d.l.pa(w),Gi(d),rl(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Gi(d){if(d.I=0,d.ja=[],d.l){const w=cr(d.h);(w.length!=0||d.i.length!=0)&&(k(d.ja,w),k(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function qc(d,w,x){var D=x instanceof ps?Pr(x):new ps(x);if(D.g!="")w&&(D.g=w+"."+D.g),ms(D,D.u);else{var Q=l.location;D=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new ps(null);D&&Ui(te,D),w&&(te.g=w),Q&&ms(te,Q),x&&(te.h=x),D=te}return x=d.G,w=d.wa,x&&w&&mt(D,x,w),mt(D,"VER",d.ka),bs(d,D),D}function Kd(d,w,x){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new It(new Xs({ab:x})):new It(d.ma),w.Fa(d.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zd(){}n=Zd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function al(){}al.prototype.g=function(d,w){return new En(d,w)};function En(d,w){gt.call(this),this.g=new tl(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!N(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!N(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new $o(this)}m(En,gt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){nl(this.g)},En.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=Br(d),d=x);w.i.push(new bm(w.Ya++,d)),w.I==3&&to(w)},En.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,En.Z.N.call(this)};function Qd(d){Do.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const x in w){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}m(Qd,Do);function Yd(){Oo.call(this),this.status=1}m(Yd,Oo);function $o(d){this.g=d}m($o,Zd),$o.prototype.ra=function(){Vt(this.g,"a")},$o.prototype.qa=function(d){Vt(this.g,new Qd(d))},$o.prototype.pa=function(d){Vt(this.g,new Yd)},$o.prototype.oa=function(){Vt(this.g,"b")},al.prototype.createWebChannel=al.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,EA=function(){return new al},wA=function(){return Tr()},_A=Qn,nv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,bf=lr,Xt.COMPLETE="complete",vA=Xt,Hr.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",gt.prototype.listen=gt.prototype.J,Cu=Hr,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,yA=It}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const _x="@firebase/firestore",wx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new v_("@firebase/firestore");function Ul(){return ka.logLevel}function he(n,...e){if(ka.logLevel<=it.DEBUG){const t=e.map(k_);ka.debug(`Firestore (${Tc}): ${n}`,...t)}}function qn(n,...e){if(ka.logLevel<=it.ERROR){const t=e.map(k_);ka.error(`Firestore (${Tc}): ${n}`,...t)}}function Na(n,...e){if(ka.logLevel<=it.WARN){const t=e.map(k_);ka.warn(`Firestore (${Tc}): ${n}`,...t)}}function k_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,bA(n,r,t)}function bA(n,e,t){let r=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw qn(r),new Error(r)}function Le(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||bA(e,s,r)}function Ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Io{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sn.UNAUTHENTICATED)))}shutdown(){}}class Y3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class X3{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let i=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fs,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=i;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fs)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new xA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class J3{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e6{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new J3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ex{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0,3512);const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ex(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Le(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ex(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=n6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function rv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return vy(s)===vy(i)?Ke(s,i):vy(s)?1:-1}return Ke(n.length,e.length)}const r6=55296,s6=57343;function vy(n){const e=n.charCodeAt(0);return e>=r6&&e<=s6}function sc(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function SA(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="__name__";class ks{constructor(e,t,r){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&De(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ks.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ks?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=ks.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return Ke(e.length,t.length)}static compareSegments(e,t){const r=ks.isNumericId(e),s=ks.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ks.extractNumericId(e).compare(ks.extractNumericId(t)):rv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ei.fromString(e.substring(4,e.length-2))}}class yt extends ks{construct(e,t,r){return new yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new yt(t)}static emptyPath(){return new yt([])}}const o6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends ks{construct(e,t,r){return new Ft(e,t,r)}static isValidIdentifier(e){return o6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bx}static keyField(){return new Ft([bx])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ee(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new Ee(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ee(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(i(),s++)}if(i(),l)throw new Ee(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(yt.fromString(e))}static fromName(e){return new be(yt.fromString(e).popFirst(5))}static empty(){return new be(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n,e,t){if(!t)throw new Ee(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function i6(n,e,t,r){if(e===!0&&r===!0)throw new Ee(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xx(n){if(!be.isDocumentKey(n))throw new Ee(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Sx(n){if(be.isDocumentKey(n))throw new Ee(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function TA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function D_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function Hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=D_(n);throw new Ee(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(n,e){const t={typeString:n};return e&&(t.value=e),t}function bd(n,e){if(!TA(n))throw new Ee(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&l!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new Ee(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=-62135596800,Tx=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Tx);return new _t(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ix)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tx}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bd(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ix;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:nn("string",_t._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new _t(0,0))}static max(){return new Ue(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=-1;class Yf{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function sv(n){return n.fields.find((e=>e.kind===2))}function ca(n){return n.fields.filter((e=>e.kind!==2))}Yf.UNKNOWN_ID=-1;class xf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ju{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ju(0,xr.min())}}function a6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(r===1e9?new _t(t+1,0):new _t(t,r));return new xr(s,be.empty(),e)}function CA(n){return new xr(n.readTime,n.key,Xu)}class xr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xr(Ue.min(),be.empty(),Xu)}static max(){return new xr(Ue.max(),be.empty(),Xu)}}function O_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==AA)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,r)=>{t(e)}))}static reject(e){return new K(((t,r)=>{r(e)}))}static waitFor(e){return new K(((t,r)=>{let s=0,i=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++i,l&&i===s&&t()}),(h=>r(h)))})),l=!0,i===s&&t()}))}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next((s=>s?K.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new K(((r,s)=>{const i=e.length,l=new Array(i);let u=0;for(let h=0;h<i;h++){const p=h;t(e[p]).next((g=>{l[p]=g,++u,u===i&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new K(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="SimpleDb";class qp{static open(e,t,r,s){try{return new qp(t,e.transaction(s,r))}catch(i){throw new Ou(t,i)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Fs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Ou(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=M_(r.target.error);this.S.reject(new Ou(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(_r,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new c6(t)}}class bi{static delete(e){return he(_r,"Removing database:",e),ha(SC().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!DC())return!1;if(bi.F())return!0;const e=un(),t=bi.M(e),r=0<t&&t<10,s=RA(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,bi.M(un())===12.2&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(_r,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const l=i.target.result;t(l)},s.onblocked=()=>{r(new Ou(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const l=i.target.error;l.name==="VersionError"?r(new Ee(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new Ee(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Ou(e,l))},s.onupgradeneeded=i=>{he(_r,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const l=i.target.result;this.N.k(l,s.transaction,i.oldVersion,this.version).next((()=>{he(_r,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const i=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=qp.open(this.db,e,i?"readonly":"readwrite",r),h=s(u).next((p=>(u.C(),p))).catch((p=>(u.abort(p),K.reject(p)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,p=h.name!=="FirebaseError"&&l<3;if(he(_r,"Transaction failed with error:",h.message,"Retrying:",p),this.close(),!p)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function RA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class l6{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ha(this.U.delete())}}class Ou extends Ee{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ki(n){return n.name==="IndexedDbTransactionError"}class c6{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(he(_r,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(he(_r,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ha(r)}add(e){return he(_r,"ADD",this.store.name,e,e),ha(this.store.add(e))}get(e){return ha(this.store.get(e)).next((t=>(t===void 0&&(t=null),he(_r,"GET",this.store.name,e,t),t)))}delete(e){return he(_r,"DELETE",this.store.name,e),ha(this.store.delete(e))}count(){return he(_r,"COUNT",this.store.name),ha(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new K(((l,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{l(h.target.result)}}))}{const i=this.cursor(r),l=[];return this.H(i,((u,h)=>{l.push(h)})).next((()=>l))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new K(((s,i)=>{r.onerror=l=>{i(l.target.error)},r.onsuccess=l=>{s(l.target.result)}}))}Z(e,t){he(_r,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,((i,l,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}te(e){const t=this.cursor({});return new K(((r,s)=>{t.onerror=i=>{const l=M_(i.target.error);s(l)},t.onsuccess=i=>{const l=i.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,t){const r=[];return new K(((s,i)=>{e.onerror=l=>{i(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void s();const h=new l6(u),p=t(u.primaryKey,u.value,h);if(p instanceof K){const g=p.catch((m=>(h.done(),K.reject(m))));r.push(g)}h.isDone?s():h.G===null?u.continue():u.continue(h.G)}})).next((()=>K.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ha(n){return new K(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=M_(r.target.error);t(s)}}))}let Cx=!1;function M_(n){const e=bi.M(un());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cx||(Cx=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Mu="IndexBackfiller";class u6{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(Mu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();he(Mu,`Documents written: ${t}`)}catch(t){ki(t)?he(Mu,"Ignoring IndexedDB error during index backfill: ",t):await Ba(t)}await this.re(6e4)}))}}class d6{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,i=!0;return K.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return he(Mu,`Processing collection: ${l}`),this.oe(e,l,s).next((u=>{s-=u,r.add(l)}));i=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((i=>{const l=i.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(s,i))).next((u=>(he(Mu,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,i)=>{const l=CA(i);O_(l,r)>0&&(r=l)})),new xr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=-1;function Hp(n){return n==null}function ed(n){return n===0&&1/n==-1/0}function h6(n){return typeof n=="number"&&Number.isInteger(n)&&!ed(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="";function Fn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ax(e)),e=f6(n.get(t),e);return Ax(e)}function f6(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case Xf:t+="";break;default:t+=i}}return t}function Ax(n){return n+Xf+""}function Ms(n){const e=n.length;if(Le(e>=2,64408,{path:n}),e===2)return Le(n.charAt(0)===Xf&&n.charAt(1)==="",56145,{path:n}),yt.emptyPath();const t=e-2,r=[];let s="";for(let i=0;i<e;){const l=n.indexOf(Xf,i);switch((l<0||l>t)&&De(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(i,l);let h;s.length===0?h=u:(s+=u,h=s,s=""),r.push(h);break;case"":s+=n.substring(i,l),s+="\0";break;case"":s+=n.substring(i,l+1);break;default:De(61167,{path:n})}i=l+2}return new yt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="remoteDocuments",xd="owner",Dl="owner",td="mutationQueues",p6="userId",ns="mutations",Px="batchId",ya="userMutationsIndex",Rx=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(n,e){return[n,Fn(e)]}function kA(n,e,t){return[n,Fn(e),t]}const m6={},oc="documentMutations",Jf="remoteDocumentsV14",g6=["prefixPath","collectionGroup","readTime","documentId"],If="documentKeyIndex",y6=["prefixPath","collectionGroup","documentId"],NA="collectionGroupIndex",v6=["collectionGroup","readTime","prefixPath","documentId"],nd="remoteDocumentGlobal",ov="remoteDocumentGlobalKey",ic="targets",DA="queryTargetsIndex",_6=["canonicalId","targetId"],ac="targetDocuments",w6=["targetId","path"],V_="documentTargetsIndex",E6=["path","targetId"],ep="targetGlobalKey",Ea="targetGlobal",rd="collectionParents",b6=["collectionId","parent"],lc="clientMetadata",x6="clientId",Wp="bundles",S6="bundleId",Gp="namedQueries",I6="name",L_="indexConfiguration",T6="indexId",iv="collectionGroupIndex",C6="collectionGroup",Vu="indexState",A6=["indexId","uid"],OA="sequenceNumberIndex",P6=["uid","sequenceNumber"],Lu="indexEntries",R6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],MA="documentKeyIndex",k6=["indexId","uid","orderedDocumentKey"],Kp="documentOverlays",N6=["userId","collectionPath","documentId"],av="collectionPathOverlayIndex",D6=["userId","collectionPath","largestBatchId"],VA="collectionGroupOverlayIndex",O6=["userId","collectionGroup","largestBatchId"],j_="globals",M6="name",LA=[td,ns,oc,ua,ic,xd,Ea,ac,lc,nd,rd,Wp,Gp],V6=[...LA,Kp],jA=[td,ns,oc,Jf,ic,xd,Ea,ac,lc,nd,rd,Wp,Gp,Kp],FA=jA,F_=[...FA,L_,Vu,Lu],L6=F_,UA=[...F_,j_],j6=UA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends PA{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function dn(n,e){const t=Ze(n);return bi.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ni(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??In.RED,this.left=s??In.EMPTY,this.right=i??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new In(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return In.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nx(this.data.getIterator())}getIteratorFrom(e){return new Nx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class Nx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ol(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new sr([])}unionWith(e){let t=new wt(Ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sc(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $A("Invalid base64 string: "+i):i}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const F6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(n){if(Le(!!n,39018),typeof n=="string"){let e=0;const t=F6.exec(n);if(Le(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function So(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="server_timestamp",qA="__type__",HA="__previous_value__",WA="__local_write_time__";function U_(n){return(n?.mapValue?.fields||{})[qA]?.stringValue===BA}function Zp(n){const e=n.mapValue.fields[HA];return U_(e)?Zp(e):e}function sd(n){const e=xo(n.mapValue.fields[WA].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,t,r,s,i,l,u,h,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g}}const tp="(default)";class Da{constructor(e,t){this.projectId=e,this.database=t||tp}static empty(){return new Da("","")}get isDefaultDatabase(){return this.database===tp}isEqual(e){return e instanceof Da&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="__type__",GA="__max__",gi={mapValue:{fields:{__type__:{stringValue:GA}}}},$_="__vector__",cc="value",Tf={nullValue:"NULL_VALUE"};function Ci(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?U_(n)?4:KA(n)?9007199254740991:Qp(n)?10:11:De(28295,{value:n})}function qs(n,e){if(n===e)return!0;const t=Ci(n);if(t!==Ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sd(n).isEqual(sd(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=xo(s.timestampValue),u=xo(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return So(s.bytesValue).isEqual(So(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return Dt(s.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Dt(s.integerValue)===Dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Dt(s.doubleValue),u=Dt(i.doubleValue);return l===u?ed(l)===ed(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return sc(n.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return(function(s,i){const l=s.mapValue.fields||{},u=i.mapValue.fields||{};if(kx(l)!==kx(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!qs(l[h],u[h])))return!1;return!0})(n,e);default:return De(52216,{left:n})}}function od(n,e){return(n.values||[]).find((t=>qs(t,e)))!==void 0}function Ai(n,e){if(n===e)return 0;const t=Ci(n),r=Ci(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return(function(i,l){const u=Dt(i.integerValue||i.doubleValue),h=Dt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,e);case 3:return Dx(n.timestampValue,e.timestampValue);case 4:return Dx(sd(n),sd(e));case 5:return rv(n.stringValue,e.stringValue);case 6:return(function(i,l){const u=So(i),h=So(l);return u.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(i,l){const u=i.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const g=Ke(u[p],h[p]);if(g!==0)return g}return Ke(u.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,l){const u=Ke(Dt(i.latitude),Dt(l.latitude));return u!==0?u:Ke(Dt(i.longitude),Dt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Ox(n.arrayValue,e.arrayValue);case 10:return(function(i,l){const u=i.fields||{},h=l.fields||{},p=u[cc]?.arrayValue,g=h[cc]?.arrayValue,m=Ke(p?.values?.length||0,g?.values?.length||0);return m!==0?m:Ox(p,g)})(n.mapValue,e.mapValue);case 11:return(function(i,l){if(i===gi.mapValue&&l===gi.mapValue)return 0;if(i===gi.mapValue)return 1;if(l===gi.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let m=0;m<h.length&&m<g.length;++m){const E=rv(h[m],g[m]);if(E!==0)return E;const S=Ai(u[h[m]],p[g[m]]);if(S!==0)return S}return Ke(h.length,g.length)})(n.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function Dx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=xo(n),r=xo(e),s=Ke(t.seconds,r.seconds);return s!==0?s:Ke(t.nanos,r.nanos)}function Ox(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Ai(t[s],r[s]);if(i)return i}return Ke(t.length,r.length)}function uc(n){return cv(n)}function cv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=xo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return So(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return be.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=cv(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${cv(t.fields[l])}`;return s+"}"})(n.mapValue):De(61005,{value:n})}function Cf(n){switch(Ci(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zp(n);return e?16+Cf(e):16;case 5:return 2*n.stringValue.length;case 6:return So(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Cf(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Ni(r.fields,((i,l)=>{s+=i.length+Cf(l)})),s})(n.mapValue);default:throw De(13486,{value:n})}}function B_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uv(n){return!!n&&"integerValue"in n}function id(n){return!!n&&"arrayValue"in n}function Mx(n){return!!n&&"nullValue"in n}function Vx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Af(n){return!!n&&"mapValue"in n}function Qp(n){return(n?.mapValue?.fields||{})[z_]?.stringValue===$_}function ju(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ni(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ju(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ju(n.arrayValue.values[t]);return e}return{...n}}function KA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GA}const ZA={mapValue:{fields:{[z_]:{stringValue:$_},[cc]:{arrayValue:{}}}}};function z6(n){return"nullValue"in n?Tf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?B_(Da.empty(),be.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Qp(n)?ZA:{mapValue:{}}:De(35942,{value:n})}function $6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?B_(Da.empty(),be.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?ZA:"mapValue"in n?Qp(n)?{mapValue:{}}:gi:De(61959,{value:n})}function Lx(n,e){const t=Ai(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function jx(n,e){const t=Ai(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Af(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ju(t)}setAll(e){let t=Ft.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=ju(l):s.push(u.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Af(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Af(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ni(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new jn(ju(this.value))}}function QA(n){const e=[];return Ni(n.fields,((t,r)=>{const s=new Ft([t]);if(Af(r)){const i=QA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)})),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,r,s,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new qt(e,0,Ue.min(),Ue.min(),Ue.min(),jn.empty(),0)}static newFoundDocument(e,t,r,s){return new qt(e,1,t,Ue.min(),r,s,0)}static newNoDocument(e,t){return new qt(e,2,t,Ue.min(),Ue.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ue.min(),Ue.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.position=e,this.inclusive=t}}function Fx(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],l=n.position[s];if(i.field.isKeyField()?r=be.comparator(be.fromName(l.referenceValue),t.key):r=Ai(l,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ux(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t="asc"){this.field=e,this.dir=t}}function B6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{}class ct extends YA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new q6(e,t,r):t==="array-contains"?new G6(e,r):t==="in"?new rP(e,r):t==="not-in"?new K6(e,r):t==="array-contains-any"?new Z6(e,r):new ct(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new H6(e,r):new W6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ai(t,this.value)):t!==null&&Ci(this.value)===Ci(t)&&this.matchesComparison(Ai(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends YA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bt(e,t)}matches(e){return hc(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hc(n){return n.op==="and"}function dv(n){return n.op==="or"}function q_(n){return XA(n)&&hc(n)}function XA(n){for(const e of n.filters)if(e instanceof bt)return!1;return!0}function hv(n){if(n instanceof ct)return n.field.canonicalString()+n.op.toString()+uc(n.value);if(q_(n))return n.filters.map((e=>hv(e))).join(",");{const e=n.filters.map((t=>hv(t))).join(",");return`${n.op}(${e})`}}function JA(n,e){return n instanceof ct?(function(r,s){return s instanceof ct&&r.op===s.op&&r.field.isEqual(s.field)&&qs(r.value,s.value)})(n,e):n instanceof bt?(function(r,s){return s instanceof bt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,l,u)=>i&&JA(l,s.filters[u])),!0):!1})(n,e):void De(19439)}function eP(n,e){const t=n.filters.concat(e);return bt.create(t,n.op)}function tP(n){return n instanceof ct?(function(t){return`${t.field.canonicalString()} ${t.op} ${uc(t.value)}`})(n):n instanceof bt?(function(t){return t.op.toString()+" {"+t.getFilters().map(tP).join(" ,")+"}"})(n):"Filter"}class q6 extends ct{constructor(e,t,r){super(e,t,r),this.key=be.fromName(r.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class H6 extends ct{constructor(e,t){super(e,"in",t),this.keys=nP("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class W6 extends ct{constructor(e,t){super(e,"not-in",t),this.keys=nP("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function nP(n,e){return(e.arrayValue?.values||[]).map((t=>be.fromName(t.referenceValue)))}class G6 extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return id(t)&&od(t.arrayValue,this.value)}}class rP extends ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&od(this.value.arrayValue,t)}}class K6 extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!od(this.value.arrayValue,t)}}class Z6 extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!id(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>od(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,t=null,r=[],s=[],i=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=u,this.Te=null}}function fv(n,e=null,t=[],r=[],s=null,i=null,l=null){return new Q6(n,e,t,r,s,i,l)}function Oa(n){const e=Ze(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>hv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Hp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>uc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>uc(r))).join(",")),e.Te=t}return e.Te}function Sd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!B6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!JA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ux(n.startAt,e.startAt)&&Ux(n.endAt,e.endAt)}function rp(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function sp(n,e){return n.filters.filter((t=>t instanceof ct&&t.field.isEqual(e)))}function zx(n,e,t){let r=Tf,s=!0;for(const i of sp(n,e)){let l=Tf,u=!0;switch(i.op){case"<":case"<=":l=z6(i.value);break;case"==":case"in":case">=":l=i.value;break;case">":l=i.value,u=!1;break;case"!=":case"not-in":l=Tf}Lx({value:r,inclusive:s},{value:l,inclusive:u})<0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];Lx({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}function $x(n,e,t){let r=gi,s=!0;for(const i of sp(n,e)){let l=gi,u=!0;switch(i.op){case">=":case">":l=$6(i.value),u=!1;break;case"==":case"in":case"<=":l=i.value;break;case"<":l=i.value,u=!1;break;case"!=":case"not-in":l=gi}jx({value:r,inclusive:s},{value:l,inclusive:u})>0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];jx({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t=null,r=[],s=[],i=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y6(n,e,t,r,s,i,l,u){return new Yp(n,e,t,r,s,i,l,u)}function Id(n){return new Yp(n)}function Bx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function X6(n){return n.collectionGroup!==null}function Fu(n){const e=Ze(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new wt(Ft.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new np(i,r))})),t.has(Ft.keyField().canonicalString())||e.Ie.push(new np(Ft.keyField(),r))}return e.Ie}function Ur(n){const e=Ze(n);return e.Ee||(e.Ee=J6(e,Fu(n))),e.Ee}function J6(n,e){if(n.limitType==="F")return fv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new np(s.field,i)}));const t=n.endAt?new dc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new dc(n.startAt.position,n.startAt.inclusive):null;return fv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function pv(n,e,t){return new Yp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xp(n,e){return Sd(Ur(n),Ur(e))&&n.limitType===e.limitType}function sP(n){return`${Oa(Ur(n))}|lt:${n.limitType}`}function zl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>tP(s))).join(", ")}]`),Hp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>uc(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>uc(s))).join(",")),`Target(${r})`})(Ur(n))}; limitType=${n.limitType})`}function Td(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of Fu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,h){const p=Fx(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,Fu(r),s)||r.endAt&&!(function(l,u,h){const p=Fx(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,Fu(r),s))})(n,e)}function eU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oP(n){return(e,t)=>{let r=!1;for(const s of Fu(n)){const i=tU(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function tU(n,e,t){const r=n.field.isKeyField()?be.comparator(e.key,t.key):(function(i,l,u){const h=l.data.field(i),p=u.data.field(i);return h!==null&&p!==null?Ai(h,p):De(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return zA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=new Ot(be.comparator);function Er(){return nU}const iP=new Ot(be.comparator);function Au(...n){let e=iP;for(const t of n)e=e.insert(t.key,t);return e}function aP(n){let e=iP;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Vs(){return Uu()}function lP(){return Uu()}function Uu(){return new To((n=>n.toString()),((n,e)=>n.isEqual(e)))}const rU=new Ot(be.comparator),sU=new wt(be.comparator);function et(...n){let e=sU;for(const t of n)e=e.add(t);return e}const oU=new wt(Ke);function iU(){return oU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function cP(n){return{integerValue:""+n}}function aU(n,e){return h6(e)?cP(e):H_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this._=void 0}}function lU(n,e,t){return n instanceof ad?(function(s,i){const l={fields:{[qA]:{stringValue:BA},[WA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&U_(i)&&(i=Zp(i)),i&&(l.fields[HA]=i),{mapValue:l}})(t,e):n instanceof fc?dP(n,e):n instanceof pc?hP(n,e):(function(s,i){const l=uP(s,i),u=qx(l)+qx(s.Ae);return uv(l)&&uv(s.Ae)?cP(u):H_(s.serializer,u)})(n,e)}function cU(n,e,t){return n instanceof fc?dP(n,e):n instanceof pc?hP(n,e):t}function uP(n,e){return n instanceof ld?(function(r){return uv(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class ad extends Jp{}class fc extends Jp{constructor(e){super(),this.elements=e}}function dP(n,e){const t=fP(e);for(const r of n.elements)t.some((s=>qs(s,r)))||t.push(r);return{arrayValue:{values:t}}}class pc extends Jp{constructor(e){super(),this.elements=e}}function hP(n,e){let t=fP(e);for(const r of n.elements)t=t.filter((s=>!qs(s,r)));return{arrayValue:{values:t}}}class ld extends Jp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function qx(n){return Dt(n.integerValue||n.doubleValue)}function fP(n){return id(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,t){this.field=e,this.transform=t}}function dU(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof fc&&s instanceof fc||r instanceof pc&&s instanceof pc?sc(r.elements,s.elements,qs):r instanceof ld&&s instanceof ld?qs(r.Ae,s.Ae):r instanceof ad&&s instanceof ad})(n.transform,e.transform)}class hU{constructor(e,t){this.version=e,this.transformResults=t}}class _n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class em{}function pP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cd(n.key,_n.none()):new Cc(n.key,n.data,_n.none());{const t=n.data,r=jn.empty();let s=new wt(Ft.comparator);for(let i of e.fields)if(!s.has(i)){let l=t.field(i);l===null&&i.length>1&&(i=i.popLast(),l=t.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new Co(n.key,r,new sr(s.toArray()),_n.none())}}function fU(n,e,t){n instanceof Cc?(function(s,i,l){const u=s.value.clone(),h=Wx(s.fieldTransforms,i,l.transformResults);u.setAll(h),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Co?(function(s,i,l){if(!Pf(s.precondition,i))return void i.convertToUnknownDocument(l.version);const u=Wx(s.fieldTransforms,i,l.transformResults),h=i.data;h.setAll(mP(s)),h.setAll(u),i.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function zu(n,e,t,r){return n instanceof Cc?(function(i,l,u,h){if(!Pf(i.precondition,l))return u;const p=i.value.clone(),g=Gx(i.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Co?(function(i,l,u,h){if(!Pf(i.precondition,l))return u;const p=Gx(i.fieldTransforms,h,l),g=l.data;return g.setAll(mP(i)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(i,l,u){return Pf(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function pU(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=uP(r.transform,s||null);i!=null&&(t===null&&(t=jn.empty()),t.set(r.field,i))}return t||null}function Hx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&sc(r,s,((i,l)=>dU(i,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cc extends em{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Co extends em{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function mP(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Wx(n,e,t){const r=new Map;Le(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],l=i.transform,u=e.data.field(i.field);r.set(i.field,cU(l,u,t[s]))}return r}function Gx(n,e,t){const r=new Map;for(const s of n){const i=s.transform,l=t.data.field(s.field);r.set(s.field,lU(i,l,e))}return r}class Cd extends em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gP extends em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&fU(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=lP();return this.mutations.forEach((s=>{const i=e.get(s.key),l=i.overlayedDocument;let u=this.applyToLocalView(l,i.mutatedFields);u=t.has(s.key)?null:u;const h=pP(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),et())}isEqual(e){return this.batchId===e.batchId&&sc(this.mutations,e.mutations,((t,r)=>Hx(t,r)))&&sc(this.baseMutations,e.baseMutations,((t,r)=>Hx(t,r)))}}class G_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return rU})();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new G_(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,dt;function gU(n){switch(n){case re.OK:return De(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function yP(n){if(n===void 0)return qn("GRPC error has no .code"),re.UNKNOWN;switch(n){case tn.OK:return re.OK;case tn.CANCELLED:return re.CANCELLED;case tn.UNKNOWN:return re.UNKNOWN;case tn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case tn.INTERNAL:return re.INTERNAL;case tn.UNAVAILABLE:return re.UNAVAILABLE;case tn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case tn.NOT_FOUND:return re.NOT_FOUND;case tn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case tn.ABORTED:return re.ABORTED;case tn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case tn.DATA_LOSS:return re.DATA_LOSS;default:return De(39323,{code:n})}}(dt=tn||(tn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new Ei([4294967295,4294967295],0);function Kx(n){const e=yU().encode(n),t=new gA;return t.update(e),new Uint8Array(t.digest())}function Zx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ei([t,r],0),new Ei([s,i],0)]}class Z_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pu(`Invalid padding: ${t}`);if(r<0)throw new Pu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ei.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Ei.fromNumber(r)));return s.compare(vU)===1&&(s=new Ei([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Kx(e),[r,s]=Zx(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new Z_(i,s,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=Kx(e),[r,s]=Zx(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Ad.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new tm(Ue.min(),s,new Ot(Ke),Er(),et())}}class Ad{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ad(r,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class vP{constructor(e,t){this.targetId=e,this.Ce=t}}class _P{constructor(e,t,r=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Qx{constructor(){this.ve=0,this.Fe=Yx(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),t=et(),r=et();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:De(38017,{changeType:i})}})),new Ad(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Yx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _U{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.Je=rf(),this.He=rf(),this.Ye=new Ot(Ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(rp(i))if(r===0){const l=new be(i.path);this.et(t,l,qt.newNoDocument(l,Ue.min()))}else Le(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let l,u;try{l=So(r).toUint8Array()}catch(h){if(h instanceof $A)return Na("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Z_(l,s,i)}catch(h){return Na(h instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,l)=>{const u=this.ot(l);if(u){if(i.current&&rp(u.target)){const h=new be(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,qt.newNoDocument(h,e))}i.Be&&(t.set(l,i.ke()),i.qe())}}));let r=et();this.He.forEach(((i,l)=>{let u=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,l)=>l.setReadTime(e)));const s=new tm(e,t,this.Ye,this.je,r);return this.je=Er(),this.Je=rf(),this.He=rf(),this.Ye=new Ot(Ke),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Qx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new wt(Ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new wt(Ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rf(){return new Ot(be.comparator)}function Yx(){return new Ot(be.comparator)}const wU={asc:"ASCENDING",desc:"DESCENDING"},EU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bU={and:"AND",or:"OR"};class xU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mv(n,e){return n.useProto3Json||Hp(e)?e:{value:e}}function mc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function SU(n,e){return mc(n,e.toTimestamp())}function Wn(n){return Le(!!n,49232),Ue.fromTimestamp((function(t){const r=xo(t);return new _t(r.seconds,r.nanos)})(n))}function Q_(n,e){return gv(n,e).canonicalString()}function gv(n,e){const t=(function(s){return new yt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function EP(n){const e=yt.fromString(n);return Le(RP(e),10190,{key:e.toString()}),e}function op(n,e){return Q_(n.databaseId,e.path)}function ba(n,e){const t=EP(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(SP(t))}function bP(n,e){return Q_(n.databaseId,e)}function xP(n){const e=EP(n);return e.length===4?yt.emptyPath():SP(e)}function yv(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SP(n){return Le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Xx(n,e,t){return{name:op(n,e),fields:t.value.mapValue.fields}}function IU(n,e,t){const r=ba(n,e.name),s=Wn(e.updateTime),i=e.createTime?Wn(e.createTime):Ue.min(),l=new jn({mapValue:{fields:e.fields}}),u=qt.newFoundDocument(r,s,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function TU(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(p,g){return p.useProto3Json?(Le(g===void 0||typeof g=="string",58123),rn.fromBase64String(g||"")):(Le(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),rn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const g=p.code===void 0?re.UNKNOWN:yP(p.code);return new Ee(g,p.message||"")})(l);t=new _P(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ba(n,r.document.name),i=Wn(r.document.updateTime),l=r.document.createTime?Wn(r.document.createTime):Ue.min(),u=new jn({mapValue:{fields:r.document.fields}}),h=qt.newFoundDocument(s,i,l,u),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Rf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ba(n,r.document),i=r.readTime?Wn(r.readTime):Ue.min(),l=qt.newNoDocument(s,i),u=r.removedTargetIds||[];t=new Rf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ba(n,r.document),i=r.removedTargetIds||[];t=new Rf([],i,s,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new mU(s,i),u=r.targetId;t=new vP(u,l)}}return t}function ip(n,e){let t;if(e instanceof Cc)t={update:Xx(n,e.key,e.value)};else if(e instanceof Cd)t={delete:op(n,e.key)};else if(e instanceof Co)t={update:Xx(n,e.key,e.data),updateMask:NU(e.fieldMask)};else{if(!(e instanceof gP))return De(16599,{Vt:e.type});t={verify:op(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,l){const u=l.transform;if(u instanceof ad)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof fc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof pc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ld)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw De(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:SU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:De(27497)})(n,e.precondition)),t}function vv(n,e){const t=e.currentDocument?(function(i){return i.updateTime!==void 0?_n.updateTime(Wn(i.updateTime)):i.exists!==void 0?_n.exists(i.exists):_n.none()})(e.currentDocument):_n.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(l,u){let h=null;if("setToServerValue"in u)Le(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),h=new ad;else if("appendMissingElements"in u){const g=u.appendMissingElements.values||[];h=new fc(g)}else if("removeAllFromArray"in u){const g=u.removeAllFromArray.values||[];h=new pc(g)}else"increment"in u?h=new ld(l,u.increment):De(16584,{proto:u});const p=Ft.fromServerFormat(u.fieldPath);return new uU(p,h)})(n,s))):[];if(e.update){e.update.name;const s=ba(n,e.update.name),i=new jn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const p=h.fieldPaths||[];return new sr(p.map((g=>Ft.fromServerFormat(g))))})(e.updateMask);return new Co(s,i,l,t,r)}return new Cc(s,i,t,r)}if(e.delete){const s=ba(n,e.delete);return new Cd(s,t)}if(e.verify){const s=ba(n,e.verify);return new gP(s,t)}return De(1463,{proto:e})}function CU(n,e){return n&&n.length>0?(Le(e!==void 0,14353),n.map((t=>(function(s,i){let l=s.updateTime?Wn(s.updateTime):Wn(i);return l.isEqual(Ue.min())&&(l=Wn(i)),new hU(l,s.transformResults||[])})(t,e)))):[]}function IP(n,e){return{documents:[bP(n,e.path)]}}function TP(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=bP(n,s);const i=(function(p){if(p.length!==0)return PP(bt.create(p,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const l=(function(p){if(p.length!==0)return p.map((g=>(function(E){return{field:$l(E.field),direction:PU(E.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=mv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function CP(n){let e=xP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Le(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let i=[];t.where&&(i=(function(m){const E=AP(m);return E instanceof bt&&q_(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(m){return m.map((E=>(function(k){return new np(Bl(k.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(E)))})(t.orderBy));let u=null;t.limit&&(u=(function(m){let E;return E=typeof m=="object"?m.value:m,Hp(E)?null:E})(t.limit));let h=null;t.startAt&&(h=(function(m){const E=!!m.before,S=m.values||[];return new dc(S,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(m){const E=!m.before,S=m.values||[];return new dc(S,E)})(t.endAt)),Y6(e,s,l,i,u,"F",h,p)}function AU(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AP(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Bl(t.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bl(t.unaryFilter.field);return ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bl(t.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Bl(t.unaryFilter.field);return ct.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ct.create(Bl(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return bt.create(t.compositeFilter.filters.map((r=>AP(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(t.compositeFilter.op))})(n):De(30097,{filter:n})}function PU(n){return wU[n]}function RU(n){return EU[n]}function kU(n){return bU[n]}function $l(n){return{fieldPath:n.canonicalString()}}function Bl(n){return Ft.fromServerFormat(n.fieldPath)}function PP(n){return n instanceof ct?(function(t){if(t.op==="=="){if(Vx(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NAN"}};if(Mx(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vx(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NOT_NAN"}};if(Mx(t.value))return{unaryFilter:{field:$l(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(t.field),op:RU(t.op),value:t.value}}})(n):n instanceof bt?(function(t){const r=t.getFilters().map((s=>PP(s)));return r.length===1?r[0]:{compositeFilter:{op:kU(t.op),filters:r}}})(n):De(54877,{filter:n})}function NU(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function RP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t,r,s,i=Ue.min(),l=Ue.min(),u=rn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.yt=e}}function DU(n,e){let t;if(e.document)t=IU(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=be.fromSegments(e.noDocument.path),s=Va(e.noDocument.readTime);t=qt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return De(56709);{const r=be.fromSegments(e.unknownDocument.path),s=Va(e.unknownDocument.version);t=qt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const i=new _t(s[0],s[1]);return Ue.fromTimestamp(i)})(e.readTime)),t}function Jx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ap(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,l){return{name:op(i,l.key),fields:l.data.value.mapValue.fields,updateTime:mc(i,l.version.toTimestamp()),createTime:mc(i,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ma(e.version)};else{if(!e.isUnknownDocument())return De(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Ma(e.version)}}return r}function ap(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ma(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Va(n){const e=new _t(n.seconds,n.nanoseconds);return Ue.fromTimestamp(e)}function fa(n,e){const t=(e.baseMutations||[]).map((i=>vv(n.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const l=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>vv(n.yt,i))),s=_t.fromMillis(e.localWriteTimeMs);return new W_(e.batchId,s,t,r)}function Ru(n){const e=Va(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Va(n.lastLimboFreeSnapshotVersion):Ue.min();let r;return r=(function(i){return i.documents!==void 0})(n.query)?(function(i){const l=i.documents.length;return Le(l===1,1966,{count:l}),Ur(Id(xP(i.documents[0])))})(n.query):(function(i){return Ur(CP(i))})(n.query),new yo(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,rn.fromBase64String(n.resumeToken))}function NP(n,e){const t=Ma(e.snapshotVersion),r=Ma(e.lastLimboFreeSnapshotVersion);let s;s=rp(e.target)?IP(n.yt,e.target):TP(n.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oa(e.target),readTime:t,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function DP(n){const e=CP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pv(e,e.limit,"L"):e}function _y(n,e){return new K_(e.largestBatchId,vv(n.yt,e.overlayMutation))}function eS(n,e){const t=e.path.lastSegment();return[n,Fn(e.path.popLast()),t]}function tS(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ma(r.readTime),documentKey:Fn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{getBundleMetadata(e,t){return nS(e).get(t).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:Va(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,t){return nS(e).put((function(s){return{bundleId:s.id,createTime:Ma(Wn(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return rS(e).get(t).next((r=>{if(r)return(function(i){return{name:i.name,query:DP(i.bundledQuery),readTime:Va(i.readTime)}})(r)}))}saveNamedQuery(e,t){return rS(e).put((function(s){return{name:s.name,readTime:Ma(Wn(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function nS(n){return dn(n,Wp)}function rS(n){return dn(n,Gp)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new nm(e,r)}getOverlay(e,t){return vu(e).get(eS(this.userId,t)).next((r=>r?_y(this.serializer,r):null))}getOverlays(e,t){const r=Vs();return K.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((i,l)=>{const u=new K_(t,l);s.push(this.St(e,u))})),K.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((l=>s.add(Fn(l.getCollectionPath()))));const i=[];return s.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);i.push(vu(e).Z(av,u))})),K.waitFor(i)}getOverlaysForCollection(e,t,r){const s=Vs(),i=Fn(t),l=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return vu(e).J(av,l).next((u=>{for(const h of u){const p=_y(this.serializer,h);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const i=Vs();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vu(e).ee({index:VA,range:u},((h,p,g)=>{const m=_y(this.serializer,p);i.size()<s||m.largestBatchId===l?(i.set(m.getKey(),m),l=m.largestBatchId):g.done()})).next((()=>i))}St(e,t){return vu(e).put((function(s,i,l){const[u,h,p]=eS(i,l.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:ip(s.yt,l.mutation)}})(this.serializer,this.userId,t))}}function vu(n){return dn(n,Kp)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{bt(e){return dn(e,j_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?rn.fromUint8Array(r):rn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Dt(e.integerValue));else if("doubleValue"in e){const r=Dt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),ed(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=xo(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(So(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?KA(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Qp(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):De(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=cc,i=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Dt(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),be.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}pa.Kt=new pa;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=255;function VU(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function sS(n){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const l=VU(255&r[i]);if(s+=l,l!==8)break}return s})(n);return Math.ceil(e/8)}class LU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),r=sS(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=sS(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(Ml),this.sn(255)}_n(){this.an(Ml),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Ml?(this.sn(Ml),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Ml?(this.an(Ml),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class jU{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class FU{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class _u{constructor(){this.cn=new LU,this.ln=new jU(this.cn),this.hn=new FU(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t,r,s){this.Tn=e,this.In=t,this.En=r,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new ma(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:kf(this.En),directionalValue:kf(this.dn),orderedDocumentKey:kf(t),documentKey:r.path.toArray()}}Vn(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function oi(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=oS(n.En,e.En),t!==0?t:(t=oS(n.dn,e.dn),t!==0?t:be.comparator(n.In,e.In)))}function oS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function kf(n){return NC()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function iS(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class aS{constructor(e){this.mn=new wt(((t,r)=>Ft.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Le(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=sv(e);if(t!==void 0&&!this.wn(t))return!1;const r=ca(e);let s=new Set,i=0,l=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=r[i];if(!this.Sn(u,h)||!this.bn(this.fn[l++],h))return!1}++i}for(;i<r.length;++i){const u=r[i];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new wt(Ft.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new xf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new xf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new xf(r.field,r.dir==="asc"?0:1)));return new Yf(Yf.UNKNOWN_ID,this.collectionId,t,Ju.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n){if(Le(n instanceof ct||n instanceof bt,20012),n instanceof ct){if(n instanceof rP){const t=n.value.arrayValue?.values?.map((r=>ct.create(n.field,"==",r)))||[];return bt.create(t,"or")}return n}const e=n.filters.map((t=>OP(t)));return bt.create(e,n.op)}function UU(n){if(n.getFilters().length===0)return[];const e=Ev(OP(n));return Le(MP(e),7391),_v(e)||wv(e)?[e]:e.getFilters()}function _v(n){return n instanceof ct}function wv(n){return n instanceof bt&&q_(n)}function MP(n){return _v(n)||wv(n)||(function(t){if(t instanceof bt&&dv(t)){for(const r of t.getFilters())if(!_v(r)&&!wv(r))return!1;return!0}return!1})(n)}function Ev(n){if(Le(n instanceof ct||n instanceof bt,34018),n instanceof ct)return n;if(n.filters.length===1)return Ev(n.filters[0]);const e=n.filters.map((r=>Ev(r)));let t=bt.create(e,n.op);return t=lp(t),MP(t)?t:(Le(t instanceof bt,64498),Le(hc(t),40251),Le(t.filters.length>1,57927),t.filters.reduce(((r,s)=>Y_(r,s))))}function Y_(n,e){let t;return Le(n instanceof ct||n instanceof bt,38388),Le(e instanceof ct||e instanceof bt,25473),t=n instanceof ct?e instanceof ct?(function(s,i){return bt.create([s,i],"and")})(n,e):lS(n,e):e instanceof ct?lS(e,n):(function(s,i){if(Le(s.filters.length>0&&i.filters.length>0,48005),hc(s)&&hc(i))return eP(s,i.getFilters());const l=dv(s)?s:i,u=dv(s)?i:s,h=l.filters.map((p=>Y_(p,u)));return bt.create(h,"or")})(n,e),lp(t)}function lS(n,e){if(hc(e))return eP(e,n.getFilters());{const t=e.filters.map((r=>Y_(n,r)));return bt.create(t,"or")}}function lp(n){if(Le(n instanceof ct||n instanceof bt,11850),n instanceof ct)return n;const e=n.getFilters();if(e.length===1)return lp(e[0]);if(XA(n))return n;const t=e.map((s=>lp(s))),r=[];return t.forEach((s=>{s instanceof ct?r.push(s):s instanceof bt&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:bt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.Cn=new X_}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(xr.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class X_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new wt(yt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="IndexedDbIndexManager",sf=new Uint8Array(0);class $U{constructor(e,t){this.databaseId=t,this.vn=new X_,this.Fn=new To((r=>Oa(r)),((r,s)=>Sd(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const i={collectionId:r,parent:Fn(s)};return uS(e).put(i)}return K.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[SA(t),""],!1,!0);return uS(e).J(s).next((i=>{for(const l of i){if(l.collectionId!==t)break;r.push(Ms(l.parent))}return r}))}addFieldIndex(e,t){const r=wu(e),s=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete s.indexId;const i=r.add(s);if(t.indexState){const l=Ll(e);return i.next((u=>{l.put(tS(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const r=wu(e),s=Ll(e),i=Vl(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=wu(e),r=Vl(e),s=Ll(e);return t.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return K.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new aS(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,t){const r=Vl(e);let s=!0;const i=new Map;return K.forEach(this.Mn(t),(l=>this.xn(e,l).next((u=>{s&&(s=!!u),i.set(l,u)})))).next((()=>{if(s){let l=et();const u=[];return K.forEach(i,((h,p)=>{he(cS,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map((q=>`${q.fieldPath}:${q.kind}`)).join(",")}`})(h)} to execute ${Oa(t)}`);const g=(function(z,q){const W=sv(q);if(W===void 0)return null;for(const J of sp(z,W.fieldPath))switch(J.op){case"array-contains-any":return J.value.arrayValue.values||[];case"array-contains":return[J.value]}return null})(p,h),m=(function(z,q){const W=new Map;for(const J of ca(q))for(const P of sp(z,J.fieldPath))switch(P.op){case"==":case"in":W.set(J.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return W.set(J.fieldPath.canonicalString(),P.value),Array.from(W.values())}return null})(p,h),E=(function(z,q){const W=[];let J=!0;for(const P of ca(q)){const I=P.kind===0?zx(z,P.fieldPath,z.startAt):$x(z,P.fieldPath,z.startAt);W.push(I.value),J&&(J=I.inclusive)}return new dc(W,J)})(p,h),S=(function(z,q){const W=[];let J=!0;for(const P of ca(q)){const I=P.kind===0?$x(z,P.fieldPath,z.endAt):zx(z,P.fieldPath,z.endAt);W.push(I.value),J&&(J=I.inclusive)}return new dc(W,J)})(p,h),k=this.On(h,p,E),C=this.On(h,p,S),R=this.Nn(h,p,m),V=this.Bn(h.indexId,g,k,E.inclusive,C,S.inclusive,R);return K.forEach(V,(U=>r.Y(U,t.limit).next((z=>{z.forEach((q=>{const W=be.fromSegments(q.documentKey);l.has(W)||(l=l.add(W),u.push(W))}))}))))})).next((()=>u))}return K.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=UU(bt.create(e.filters,"and")).map((r=>fv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,s,i,l,u){const h=(t!=null?t.length:1)*Math.max(r.length,i.length),p=h/(t!=null?t.length:1),g=[];for(let m=0;m<h;++m){const E=t?this.Ln(t[m/p]):sf,S=this.kn(e,E,r[m%p],s),k=this.qn(e,E,i[m%p],l),C=u.map((R=>this.kn(e,E,R,!0)));g.push(...this.createRange(S,k,C))}return g}kn(e,t,r,s){const i=new ma(e,be.empty(),t,r);return s?i:i.An()}qn(e,t,r,s){const i=new ma(e,be.empty(),t,r);return s?i.An():i}xn(e,t){const r=new aS(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let l=null;for(const u of i)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,t){let r=2;const s=this.Mn(t);return K.forEach(s,(i=>this.xn(e,i).next((l=>{l?r!==0&&l.fields.length<(function(h){let p=new wt(Ft.comparator),g=!1;for(const m of h.filters)for(const E of m.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?g=!0:p=p.add(E.field));for(const m of h.orderBy)m.field.isKeyField()||(p=p.add(m.field));return p.size+(g?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&s.length>1&&r===2?1:r))}Qn(e,t){const r=new _u;for(const s of ca(e)){const i=t.data.field(s.fieldPath);if(i==null)return null;const l=r.Pn(s.kind);pa.Kt.Dt(i,l)}return r.un()}Ln(e){const t=new _u;return pa.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new _u;return pa.Kt.Dt(B_(this.databaseId,t),r.Pn((function(i){const l=ca(i);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let s=[];s.push(new _u);let i=0;for(const l of ca(e)){const u=r[i++];for(const h of s)if(this.Un(t,l.fieldPath)&&id(u))s=this.Kn(s,l,u);else{const p=h.Pn(l.kind);pa.Kt.Dt(u,p)}}return this.Wn(s)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const s=[...e],i=[];for(const l of r.arrayValue.values||[])for(const u of s){const h=new _u;h.seed(u.un()),pa.Kt.Dt(l,h.Pn(t.kind)),i.push(h)}return i}Un(e,t){return!!e.filters.find((r=>r instanceof ct&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=wu(e),s=Ll(e);return(t?r.J(iv,IDBKeyRange.bound(t,t)):r.J()).next((i=>{const l=[];return K.forEach(i,(u=>s.get([u.indexId,this.uid]).next((h=>{l.push((function(g,m){const E=m?new Ju(m.sequenceNumber,new xr(Va(m.readTime),new be(Ms(m.documentKey)),m.largestBatchId)):Ju.empty(),S=g.fields.map((([k,C])=>new xf(Ft.fromServerFormat(k),C)));return new Yf(g.indexId,g.collectionGroup,S,E)})(u,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ke(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=wu(e),i=Ll(e);return this.Gn(e).next((l=>s.J(iv,IDBKeyRange.bound(t,t)).next((u=>K.forEach(u,(h=>i.put(tS(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return K.forEach(t,((s,i)=>{const l=r.get(s.collectionGroup);return(l?K.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),K.forEach(u,(h=>this.zn(e,s,h).next((p=>{const g=this.jn(i,h);return p.isEqual(g)?K.resolve():this.Jn(e,i,h,p,g)})))))))}))}Hn(e,t,r,s){return Vl(e).put(s.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,s){return Vl(e).delete(s.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const s=Vl(e);let i=new wt(oi);return s.ee({index:MA,range:IDBKeyRange.only([r.indexId,this.uid,kf(this.$n(r,t))])},((l,u)=>{i=i.add(new ma(r.indexId,t,iS(u.arrayValue),iS(u.directionalValue)))})).next((()=>i))}jn(e,t){let r=new wt(oi);const s=this.Qn(t,e);if(s==null)return r;const i=sv(t);if(i!=null){const l=e.data.field(i.fieldPath);if(id(l))for(const u of l.arrayValue.values||[])r=r.add(new ma(t.indexId,e.key,this.Ln(u),s))}else r=r.add(new ma(t.indexId,e.key,sf,s));return r}Jn(e,t,r,s,i){he(cS,"Updating index entries for document '%s'",t.key);const l=[];return(function(h,p,g,m,E){const S=h.getIterator(),k=p.getIterator();let C=Ol(S),R=Ol(k);for(;C||R;){let V=!1,U=!1;if(C&&R){const z=g(C,R);z<0?U=!0:z>0&&(V=!0)}else C!=null?U=!0:V=!0;V?(m(R),R=Ol(k)):U?(E(C),C=Ol(S)):(C=Ol(S),R=Ol(k))}})(s,i,oi,(u=>{l.push(this.Hn(e,t,r,u))}),(u=>{l.push(this.Yn(e,t,r,u))})),K.waitFor(l)}Gn(e){let t=1;return Ll(e).ee({index:OA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,u)=>oi(l,u))).filter(((l,u,h)=>!u||oi(l,h[u-1])!==0));const s=[];s.push(e);for(const l of r){const u=oi(l,e),h=oi(l,t);if(u===0)s[0]=e.An();else if(u>0&&h<0)s.push(l),s.push(l.An());else if(h>0)break}s.push(t);const i=[];for(let l=0;l<s.length;l+=2){if(this.Zn(s[l],s[l+1]))return[];const u=s[l].Vn(this.uid,sf,be.empty()),h=s[l+1].Vn(this.uid,sf,be.empty());i.push(IDBKeyRange.bound(u,h))}return i}Zn(e,t){return oi(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(dS)}getMinOffset(e,t){return K.mapArray(this.Mn(t),(r=>this.xn(e,r).next((s=>s||De(44426))))).next(dS)}}function uS(n){return dn(n,rd)}function Vl(n){return dn(n,Lu)}function wu(n){return dn(n,L_)}function Ll(n){return dn(n,Vu)}function dS(n){Le(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;O_(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new xr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VP=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n,e,t){const r=n.store(ns),s=n.store(oc),i=[],l=IDBKeyRange.only(t.batchId);let u=0;const h=r.ee({range:l},((g,m,E)=>(u++,E.delete())));i.push(h.next((()=>{Le(u===1,47070,{batchId:t.batchId})})));const p=[];for(const g of t.mutations){const m=kA(e,g.key.path,t.batchId);i.push(s.delete(m)),p.push(g.key)}return K.waitFor(i).next((()=>p))}function cp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw De(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(VP,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class rm{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,t,r,s){Le(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new rm(i,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ii(e).ee({index:ya,range:r},((s,i,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const i=ql(e),l=ii(e);return l.add({}).next((u=>{Le(typeof u=="number",49019);const h=new W_(u,t,r,s),p=(function(S,k,C){const R=C.baseMutations.map((U=>ip(S.yt,U))),V=C.mutations.map((U=>ip(S.yt,U)));return{userId:k,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:R,mutations:V}})(this.serializer,this.userId,h),g=[];let m=new wt(((E,S)=>Ke(E.canonicalString(),S.canonicalString())));for(const E of s){const S=kA(this.userId,E.key.path,u);m=m.add(E.key.path.popLast()),g.push(l.put(p)),g.push(i.put(S,m6))}return m.forEach((E=>{g.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),K.waitFor(g).next((()=>h))}))}lookupMutationBatch(e,t){return ii(e).get(t).next((r=>r?(Le(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),fa(this.serializer,r)):null))}er(e,t){return this.Xn[t]?K.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return ii(e).ee({index:ya,range:s},((l,u,h)=>{u.userId===this.userId&&(Le(u.batchId>=r,47524,{tr:r}),i=fa(this.serializer,u)),h.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=wa;return ii(e).ee({index:ya,range:t,reverse:!0},((s,i,l)=>{r=i.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,wa],[this.userId,Number.POSITIVE_INFINITY]);return ii(e).J(ya,t).next((r=>r.map((s=>fa(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Sf(this.userId,t.path),s=IDBKeyRange.lowerBound(r),i=[];return ql(e).ee({range:s},((l,u,h)=>{const[p,g,m]=l,E=Ms(g);if(p===this.userId&&t.path.isEqual(E))return ii(e).get(m).next((S=>{if(!S)throw De(61480,{nr:l,batchId:m});Le(S.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:S.userId,batchId:m}),i.push(fa(this.serializer,S))}));h.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ke);const s=[];return t.forEach((i=>{const l=Sf(this.userId,i.path),u=IDBKeyRange.lowerBound(l),h=ql(e).ee({range:u},((p,g,m)=>{const[E,S,k]=p,C=Ms(S);E===this.userId&&i.path.isEqual(C)?r=r.add(k):m.done()}));s.push(h)})),K.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,i=Sf(this.userId,r),l=IDBKeyRange.lowerBound(i);let u=new wt(Ke);return ql(e).ee({range:l},((h,p,g)=>{const[m,E,S]=h,k=Ms(E);m===this.userId&&r.isPrefixOf(k)?k.length===s&&(u=u.add(S)):g.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],s=[];return t.forEach((i=>{s.push(ii(e).get(i).next((l=>{if(l===null)throw De(35274,{batchId:i});Le(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:i}),r.push(fa(this.serializer,l))})))})),K.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return LP(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),K.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return K.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return ql(e).ee({range:r},((i,l,u)=>{if(i[0]===this.userId){const h=Ms(i[1]);s.push(h)}else u.done()})).next((()=>{Le(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,t){return jP(e,this.userId,t)}_r(e){return FP(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:wa,lastStreamToken:""}))}}function jP(n,e,t){const r=Sf(e,t.path),s=r[1],i=IDBKeyRange.lowerBound(r);let l=!1;return ql(n).ee({range:i,X:!0},((u,h,p)=>{const[g,m,E]=u;g===e&&m===s&&(l=!0),p.done()})).next((()=>l))}function ii(n){return dn(n,ns)}function ql(n){return dn(n,oc)}function FP(n){return dn(n,td)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new La(0)}static cr(){return new La(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new La(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Ue.fromTimestamp(new _t(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>jl(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Le(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let s=0;const i=[];return jl(e).ee(((l,u)=>{const h=Ru(u);h.sequenceNumber<=t&&r.get(h.targetId)===null&&(s++,i.push(this.removeTargetData(e,h)))})).next((()=>K.waitFor(i))).next((()=>s))}forEachTarget(e,t){return jl(e).ee(((r,s)=>{const i=Ru(s);t(i)}))}lr(e){return fS(e).get(ep).next((t=>(Le(t!==null,2888),t)))}hr(e,t){return fS(e).put(ep,t)}Pr(e,t){return jl(e).put(NP(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Oa(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return jl(e).ee({range:s,index:DA},((l,u,h)=>{const p=Ru(u);Sd(t,p.target)&&(i=p,h.done())})).next((()=>i))}addMatchingKeys(e,t,r){const s=[],i=pi(e);return t.forEach((l=>{const u=Fn(l.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,l))})),K.waitFor(s)}removeMatchingKeys(e,t,r){const s=pi(e);return K.forEach(t,(i=>{const l=Fn(i.path);return K.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,t){const r=pi(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=pi(e);let i=et();return s.ee({range:r,X:!0},((l,u,h)=>{const p=Ms(l[1]),g=new be(p);i=i.add(g)})).next((()=>i))}containsKey(e,t){const r=Fn(t.path),s=IDBKeyRange.bound([r],[SA(r)],!1,!0);let i=0;return pi(e).ee({index:V_,X:!0,range:s},(([l,u],h,p)=>{l!==0&&(i++,p.done())})).next((()=>i>0))}At(e,t){return jl(e).get(t).next((r=>r?Ru(r):null))}}function jl(n){return dn(n,ic)}function fS(n){return dn(n,Ea)}function pi(n){return dn(n,ac)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="LruGarbageCollector",qU=1048576;function mS([n,e],[t,r]){const s=Ke(n,t);return s===0?Ke(e,r):s}class HU{constructor(e){this.Ir=e,this.buffer=new wt(mS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();mS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(pS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ki(t)?he(pS,"Ignoring IndexedDB error during garbage collection: ",t):await Ba(t)}await this.Vr(3e5)}))}}class WU{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(jr.ce);const r=new HU(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(hS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,l,u,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,l=Date.now(),this.nthSequenceNumber(e,s)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,t)))).next((m=>(i=m,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(p=Date.now(),Ul()<=it.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${i} targets in `+(h-u)+`ms
	Removed ${m} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m}))))}}function zP(n,e){return new WU(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,t){this.db=e,this.garbageCollector=zP(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,s)=>t(s)))}addReference(e,t,r){return of(e,r)}removeReference(e,t,r){return of(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return of(e,t)}br(e,t){return(function(s,i){let l=!1;return FP(s).te((u=>jP(s,u,i).next((h=>(h&&(l=!0),K.resolve(!h)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((l,u)=>{if(u<=t){const h=this.br(e,l).next((p=>{if(!p)return i++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Ue.min()),pi(e).delete((function(m){return[0,Fn(m.path)]})(l)))))}));s.push(h)}})).next((()=>K.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return of(e,t)}Sr(e,t){const r=pi(e);let s,i=jr.ce;return r.ee({index:V_},(([l,u],{path:h,sequenceNumber:p})=>{l===0?(i!==jr.ce&&t(new be(Ms(s)),i),i=p,s=h):i=jr.ce})).next((()=>{i!==jr.ce&&t(new be(Ms(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function of(n,e){return pi(n).put((function(r,s){return{targetId:0,path:Fn(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.changes=new To((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return aa(e).put(r)}removeEntry(e,t,r){return aa(e).delete((function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],ap(l),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=qt.newInvalidDocument(t);return aa(e).ee({index:If,range:IDBKeyRange.only(Eu(t))},((s,i)=>{r=this.Cr(t,i)})).next((()=>r))}vr(e,t){let r={size:0,document:qt.newInvalidDocument(t)};return aa(e).ee({index:If,range:IDBKeyRange.only(Eu(t))},((s,i)=>{r={document:this.Cr(t,i),size:cp(i)}})).next((()=>r))}getEntries(e,t){let r=Er();return this.Fr(e,t,((s,i)=>{const l=this.Cr(s,i);r=r.insert(s,l)})).next((()=>r))}Mr(e,t){let r=Er(),s=new Ot(be.comparator);return this.Fr(e,t,((i,l)=>{const u=this.Cr(i,l);r=r.insert(i,u),s=s.insert(i,cp(l))})).next((()=>({documents:r,Or:s})))}Fr(e,t,r){if(t.isEmpty())return K.resolve();let s=new wt(vS);t.forEach((h=>s=s.add(h)));const i=IDBKeyRange.bound(Eu(s.first()),Eu(s.last())),l=s.getIterator();let u=l.getNext();return aa(e).ee({index:If,range:i},((h,p,g)=>{const m=be.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&vS(u,m)<0;)r(u,null),u=l.getNext();u&&u.isEqual(m)&&(r(u,p),u=l.hasNext()?l.getNext():null),u?g.j(Eu(u)):g.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,i){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),ap(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return aa(e).J(IDBKeyRange.bound(u,h,!0)).next((p=>{i?.incrementDocumentReadCount(p.length);let g=Er();for(const m of p){const E=this.Cr(be.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);E.isFoundDocument()&&(Td(t,E)||s.has(E.key))&&(g=g.insert(E.key,E))}return g}))}getAllFromCollectionGroup(e,t,r,s){let i=Er();const l=yS(t,r),u=yS(t,xr.max());return aa(e).ee({index:NA,range:IDBKeyRange.bound(l,u,!0)},((h,p,g)=>{const m=this.Cr(be.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);i=i.insert(m.key,m),i.size===s&&g.done()})).next((()=>i))}newChangeBuffer(e){return new ZU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return gS(e).get(ov).next((t=>(Le(!!t,20021),t)))}Dr(e,t){return gS(e).put(ov,t)}Cr(e,t){if(t){const r=DU(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ue.min())))return r}return qt.newInvalidDocument(e)}}function BP(n){return new KU(n)}class ZU extends $P{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new To((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new wt(((i,l)=>Ke(i.canonicalString(),l.canonicalString())));return this.changes.forEach(((i,l)=>{const u=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,u.readTime)),l.isValidDocument()){const h=Jx(this.Nr.serializer,l);s=s.add(i.path.popLast());const p=cp(h);r+=p-u.size,t.push(this.Nr.addEntry(e,i,h))}else if(r-=u.size,this.trackRemovals){const h=Jx(this.Nr.serializer,l.convertToNoDocument(Ue.min()));t.push(this.Nr.addEntry(e,i,h))}})),s.forEach((i=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),t.push(this.Nr.updateMetadata(e,r)),K.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:s})=>(s.forEach(((i,l)=>{this.Br.set(i,{size:l,readTime:r.get(i).readTime})})),r)))}}function gS(n){return dn(n,nd)}function aa(n){return dn(n,Jf)}function Eu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yS(n,e){const t=e.documentKey.path.toArray();return[n,ap(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function vS(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<t.length-2&&i<r.length-2;++i)if(s=Ke(t[i],r[i]),s)return s;return s=Ke(t.length,r.length),s||(s=Ke(t[t.length-2],r[r.length-2]),s||Ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&zu(r.mutation,s,sr.empty(),_t.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=et()){const s=Vs();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let l=Au();return i.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Vs();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,et())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,s){let i=Er();const l=Uu(),u=(function(){return Uu()})();return t.forEach(((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Co)?i=i.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),zu(g.mutation,p,g.mutation.getFieldMask(),_t.now())):l.set(p.key,sr.empty())})),this.recalculateAndSaveOverlays(e,i).next((h=>(h.forEach(((p,g)=>l.set(p,g))),t.forEach(((p,g)=>u.set(p,new QU(g,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Uu();let s=new Ot(((l,u)=>l-u)),i=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||sr.empty();g=u.applyToLocalView(p,g),r.set(h,g);const m=(s.get(u.batchId)||et()).add(h);s=s.insert(u.batchId,m)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,g=h.value,m=lP();g.forEach((E=>{if(!i.has(E)){const S=pP(t.get(E),r.get(E));S!==null&&m.set(E,S),i=i.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,m))}return K.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):X6(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):K.resolve(Vs());let u=Xu,h=i;return l.next((p=>K.forEach(p,((g,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),i.get(g)?K.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{h=h.insert(g,E)}))))).next((()=>this.populateOverlays(e,p,i))).next((()=>this.computeViews(e,h,p,et()))).next((g=>({batchId:u,changes:aP(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((r=>{let s=Au();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let l=Au();return this.indexManager.getCollectionParents(e,i).next((u=>K.forEach(u,(h=>{const p=(function(m,E){return new Yp(E,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((m,E)=>{l=l.insert(m,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((l=>{i.forEach(((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,qt.newInvalidDocument(g)))}));let u=Au();return l.forEach(((h,p)=>{const g=i.get(h);g!==void 0&&zu(g.mutation,p,sr.empty(),_t.now()),Td(t,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Wn(s.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:DP(s.bundledQuery),readTime:Wn(s.readTime)}})(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.overlays=new Ot(be.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vs();return K.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.St(e,t,i)})),K.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const s=Vs(),i=t.length+1,l=new be(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return K.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Ot(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=i.get(p.largestBatchId);g===null&&(g=Vs(),i=i.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=Vs(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>u.set(p,g))),!(u.size()>=s)););return K.resolve(u)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new K_(t,r));let i=this.qr.get(t);i===void 0&&(i=et(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.Qr=new wt(vn.$r),this.Ur=new wt(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new vn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new vn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new be(new yt([])),r=new vn(t,e),s=new vn(t,e+1),i=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),i.push(l.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new yt([])),r=new vn(t,e),s=new vn(t,e+1);let i=et();return this.Ur.forEachInRange([r,s],(l=>{i=i.add(l.key)})),i}containsKey(e){const t=new vn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||Ke(e.Yr,t.Yr)}static Kr(e,t){return Ke(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new wt(vn.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new W_(i,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new vn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return K.resolve(l)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?wa:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new vn(t,0),s=new vn(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);i.push(u)})),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ke);return t.forEach((s=>{const i=new vn(s,0),l=new vn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],(u=>{r=r.add(u.Yr)}))})),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;be.isDocumentKey(i)||(i=i.child(""));const l=new vn(new be(i),0);let u=new wt(Ke);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Yr)),!0)}),l),K.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Le(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(t.mutations,(s=>{const i=new vn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new vn(t,0),s=this.Zr.firstAfterOrEqual(r);return K.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.ri=e,this.docs=(function(){return new Ot(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let r=Er();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():qt.newInvalidDocument(s))})),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=Er();const l=t.path,u=new be(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||O_(CA(g),r)<=0||(s.has(g.key)||Td(t,g))&&(i=i.insert(g.key,g.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,t,r,s){De(9500)}ii(e,t){return K.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new nz(this)}getSize(e){return K.resolve(this.size)}}class nz extends $P{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.persistence=e,this.si=new To((t=>Oa(t)),Sd),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new J_,this.targetCount=0,this.ai=La.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new La(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),K.waitFor(i).next((()=>s))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),K.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((l=>{i.push(s.markPotentiallyOrphaned(e,l))})),K.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t){this.ui={},this.overlays={},this.ci=new jr(0),this.li=!1,this.li=!0,this.hi=new JU,this.referenceDelegate=e(this),this.Pi=new rz(this),this.indexManager=new zU,this.remoteDocumentCache=(function(s){return new tz(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new kP(t),this.Ii=new YU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new ez(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const s=new sz(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,t){return K.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class sz extends PA{constructor(e){super(),this.currentSequenceNumber=e}}class sm{constructor(e){this.persistence=e,this.Ri=new J_,this.Vi=null}static mi(e){return new sm(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(r=>{const s=be.fromPath(r);return this.gi(e,s).next((i=>{i||t.removeEntry(s,Ue.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class up{constructor(e,t){this.persistence=e,this.pi=new To((r=>Fn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=zP(this,t)}static mi(e,t){return new up(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return K.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?K.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,i.removeEntry(l,Ue.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cf(e.data.value)),t}br(e,t,r){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.serializer=e}k(e,t,r,s){const i=new qp("createOrUpgrade",t);r<1&&s>=1&&((function(h){h.createObjectStore(xd)})(e),(function(h){h.createObjectStore(td,{keyPath:p6}),h.createObjectStore(ns,{keyPath:Px,autoIncrement:!0}).createIndex(ya,Rx,{unique:!0}),h.createObjectStore(oc)})(e),_S(e),(function(h){h.createObjectStore(ua)})(e));let l=K.resolve();return r<3&&s>=3&&(r!==0&&((function(h){h.deleteObjectStore(ac),h.deleteObjectStore(ic),h.deleteObjectStore(Ea)})(e),_S(e)),l=l.next((()=>(function(h){const p=h.store(Ea),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ue.min().toTimestamp(),targetCount:0};return p.put(ep,g)})(i)))),r<4&&s>=4&&(r!==0&&(l=l.next((()=>(function(h,p){return p.store(ns).J().next((m=>{h.deleteObjectStore(ns),h.createObjectStore(ns,{keyPath:Px,autoIncrement:!0}).createIndex(ya,Rx,{unique:!0});const E=p.store(ns),S=m.map((k=>E.put(k)));return K.waitFor(S)}))})(e,i)))),l=l.next((()=>{(function(h){h.createObjectStore(lc,{keyPath:x6})})(e)}))),r<5&&s>=5&&(l=l.next((()=>this.yi(i)))),r<6&&s>=6&&(l=l.next((()=>((function(h){h.createObjectStore(nd)})(e),this.wi(i))))),r<7&&s>=7&&(l=l.next((()=>this.Si(i)))),r<8&&s>=8&&(l=l.next((()=>this.bi(e,i)))),r<9&&s>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(l=l.next((()=>this.Di(i)))),r<11&&s>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(Wp,{keyPath:S6})})(e),(function(h){h.createObjectStore(Gp,{keyPath:I6})})(e)}))),r<12&&s>=12&&(l=l.next((()=>{(function(h){const p=h.createObjectStore(Kp,{keyPath:N6});p.createIndex(av,D6,{unique:!1}),p.createIndex(VA,O6,{unique:!1})})(e)}))),r<13&&s>=13&&(l=l.next((()=>(function(h){const p=h.createObjectStore(Jf,{keyPath:g6});p.createIndex(If,y6),p.createIndex(NA,v6)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(ua)))),r<14&&s>=14&&(l=l.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(l=l.next((()=>(function(h){h.createObjectStore(L_,{keyPath:T6,autoIncrement:!0}).createIndex(iv,C6,{unique:!1}),h.createObjectStore(Vu,{keyPath:A6}).createIndex(OA,P6,{unique:!1}),h.createObjectStore(Lu,{keyPath:R6}).createIndex(MA,k6,{unique:!1})})(e)))),r<16&&s>=16&&(l=l.next((()=>{t.objectStore(Vu).clear()})).next((()=>{t.objectStore(Lu).clear()}))),r<17&&s>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(j_,{keyPath:M6})})(e)}))),r<18&&s>=18&&NC()&&(l=l.next((()=>{t.objectStore(Vu).clear()})).next((()=>{t.objectStore(Lu).clear()}))),l}wi(e){let t=0;return e.store(ua).ee(((r,s)=>{t+=cp(s)})).next((()=>{const r={byteSize:t};return e.store(nd).put(ov,r)}))}yi(e){const t=e.store(td),r=e.store(ns);return t.J().next((s=>K.forEach(s,(i=>{const l=IDBKeyRange.bound([i.userId,wa],[i.userId,i.lastAcknowledgedBatchId]);return r.J(ya,l).next((u=>K.forEach(u,(h=>{Le(h.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const p=fa(this.serializer,h);return LP(e,i.userId,p).next((()=>{}))}))))}))))}Si(e){const t=e.store(ac),r=e.store(ua);return e.store(Ea).get(ep).next((s=>{const i=[];return r.ee(((l,u)=>{const h=new yt(l),p=(function(m){return[0,Fn(m)]})(h);i.push(t.get(p).next((g=>g?K.resolve():(m=>t.put({targetId:0,path:Fn(m),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>K.waitFor(i)))}))}bi(e,t){e.createObjectStore(rd,{keyPath:b6});const r=t.store(rd),s=new X_,i=l=>{if(s.add(l)){const u=l.lastSegment(),h=l.popLast();return r.put({collectionId:u,parent:Fn(h)})}};return t.store(ua).ee({X:!0},((l,u)=>{const h=new yt(l);return i(h.popLast())})).next((()=>t.store(oc).ee({X:!0},(([l,u,h],p)=>{const g=Ms(u);return i(g.popLast())}))))}Di(e){const t=e.store(ic);return t.ee(((r,s)=>{const i=Ru(s),l=NP(this.serializer,i);return t.put(l)}))}Ci(e,t){const r=t.store(ua),s=[];return r.ee(((i,l)=>{const u=t.store(Jf),h=(function(m){return m.document?new be(yt.fromString(m.document.name).popFirst(5)):m.noDocument?be.fromSegments(m.noDocument.path):m.unknownDocument?be.fromSegments(m.unknownDocument.path):De(36783)})(l).path.toArray(),p={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(u.put(p))})).next((()=>K.waitFor(s)))}Fi(e,t){const r=t.store(ns),s=BP(this.serializer),i=new ew(sm.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((h=>{let p=u.get(h.userId)??et();fa(this.serializer,h).keys().forEach((g=>p=p.add(g))),u.set(h.userId,p)})),K.forEach(u,((h,p)=>{const g=new Sn(p),m=nm.wt(this.serializer,g),E=i.getIndexManager(g),S=rm.wt(g,this.serializer,E,i.referenceDelegate);return new qP(s,S,m,E).recalculateAndSaveOverlaysForDocumentKeys(new lv(t,jr.ce),h).next()}))}))}}function _S(n){n.createObjectStore(ac,{keyPath:w6}).createIndex(V_,E6,{unique:!0}),n.createObjectStore(ic,{keyPath:"targetId"}).createIndex(DA,_6,{unique:!0}),n.createObjectStore(Ea)}const ai="IndexedDbPersistence",wy=18e5,Ey=5e3,by="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",iz="main";class tw{constructor(e,t,r,s,i,l,u,h,p,g,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=i,this.window=l,this.document=u,this.xi=p,this.Oi=g,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!tw.v())throw new Ee(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GU(this,s),this.$i=t+iz,this.serializer=new kP(h),this.Ui=new bi(this.$i,this.Ni,new oz(this.serializer)),this.hi=new MU,this.Pi=new BU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=BP(this.serializer),this.Ii=new OU,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&qn(ai,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ee(re.FAILED_PRECONDITION,by);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new jr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>af(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ki(e))return he(ai,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(ai,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return bu(e).get(Dl).next((t=>K.resolve(this.es(t))))}ts(e){return af(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,wy)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=dn(t,lc);return r.J().next((s=>{const i=this.ss(s,wy),l=s.filter((u=>i.indexOf(u)===-1));return K.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?K.resolve(!0):bu(e).get(Dl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Ey)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new Ee(re.FAILED_PRECONDITION,by);return!1}}return!(!this.networkEnabled||!this.inForeground)||af(e).J().next((r=>this.ss(r,Ey).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||l&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&he(ai,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[xd,lc],(e=>{const t=new lv(e,jr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>af(e).J().next((t=>this.ss(t,wy).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return rm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $U(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return nm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){he(ai,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",i=(function(h){return h===18?j6:h===17?UA:h===16?L6:h===15?F_:h===14?FA:h===13?jA:h===12?V6:h===11?LA:void De(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,s,i,(u=>(l=new lv(u,this.ci?this.ci.next():jr.ce),t==="readwrite-primary"?this.Hi(l).next((h=>!!h||this.Yi(l))).next((h=>{if(!h)throw qn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Ee(re.FAILED_PRECONDITION,AA);return r(l)})).next((h=>this.Xi(l).next((()=>h)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return bu(e).get(Dl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Ey)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ee(re.FAILED_PRECONDITION,by)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bu(e).put(Dl,t)}static v(){return bi.v()}Zi(e){const t=bu(e);return t.get(Dl).next((r=>this.es(r)?(he(ai,"Releasing primary lease."),t.delete(Dl)):K.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(qn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;kC()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return he(ai,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return qn(ai,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){qn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bu(n){return dn(n,xd)}function af(n){return dn(n,lc)}function az(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=et(),s=et();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new nw(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kC()?8:RA(un())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next((l=>{i.result=l})).next((()=>{if(!i.result)return this.ws(e,t,s,r).next((l=>{i.result=l}))})).next((()=>{if(i.result)return;const l=new lz;return this.Ss(e,t,l).next((u=>{if(i.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>i.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Ul()<=it.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",zl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Ul()<=it.DEBUG&&he("QueryEngine","Query:",zl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ul()<=it.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",zl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(t))):K.resolve())}ys(e,t){if(Bx(t))return K.resolve(null);let r=Ur(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=pv(t,null,"F"),r=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const l=et(...i);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,u);return this.Cs(t,p,l,h.readTime)?this.ys(e,pv(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,s){return Bx(t)||s.isEqual(Ue.min())?K.resolve(null):this.ps.getDocuments(e,r).next((i=>{const l=this.Ds(t,i);return this.Cs(t,l,r,s)?K.resolve(null):(Ul()<=it.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zl(t)),this.vs(e,l,t,a6(s,Xu)).next((u=>u)))}))}Ds(e,t){let r=new wt(oP(e));return t.forEach(((s,i)=>{Td(e,i)&&(r=r.add(i))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return Ul()<=it.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",zl(t)),this.ps.getDocumentsMatchingQuery(e,t,xr.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((l=>{i=i.insert(l.key,l)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="LocalStore",cz=3e8;class uz{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Ot(Ke),this.xs=new To((i=>Oa(i)),Sd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function WP(n,e,t,r){return new uz(n,e,t,r)}async function GP(n,e){const t=Ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const l=[],u=[];let h=et();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of i){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function dz(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,g){const m=p.batch,E=m.keys();let S=K.resolve();return E.forEach((k=>{S=S.next((()=>g.getEntry(h,k))).next((C=>{const R=p.docVersions.get(k);Le(R!==null,48541),C.version.compareTo(R)<0&&(m.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),g.addEntry(C)))}))})),S.next((()=>u.mutationQueue.removeMutationBatch(h,m)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=et();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function KP(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function hz(n,e){const t=Ze(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((g,m)=>{const E=s.get(m);if(!E)return;u.push(t.Pi.removeMatchingKeys(i,g.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(i,g.addedDocuments,m))));let S=E.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?S=S.withResumeToken(rn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(m,S),(function(C,R,V){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=cz?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(E,S,g)&&u.push(t.Pi.updateTargetData(i,S))}));let h=Er(),p=et();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(i,g))})),u.push(fz(i,l,e.documentUpdates).next((g=>{h=g.ks,p=g.qs}))),!r.isEqual(Ue.min())){const g=t.Pi.getLastRemoteSnapshotVersion(i).next((m=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(g)}return K.waitFor(u).next((()=>l.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,h,p))).next((()=>h))})).then((i=>(t.Ms=s,i)))}function fz(n,e,t){let r=et(),s=et();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let l=Er();return t.forEach(((u,h)=>{const p=i.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):he(rw,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function pz(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function mz(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((i=>i?(s=i,K.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new yo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function bv(n,e,t){const r=Ze(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!ki(l))throw l;he(rw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function wS(n,e,t){const r=Ze(n);let s=Ue.min(),i=et();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,g){const m=Ze(h),E=m.xs.get(g);return E!==void 0?K.resolve(m.Ms.get(E)):m.Pi.getTargetData(p,g)})(r,l,Ur(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{i=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:Ue.min(),t?i:et()))).next((u=>(gz(r,eU(e),u),{documents:u,Qs:i})))))}function gz(n,e,t){let r=n.Os.get(e)||Ue.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(e,r)}class ES{constructor(){this.activeTargetIds=iU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZP{constructor(){this.Mo=new ES,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ES,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="ConnectivityMonitor";class xS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(bS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(bS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf=null;function xv(){return lf===null?lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():lf++,"0x"+lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="RestConnection",vz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _z{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===tp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const l=xv(),u=this.zo(e,t.toUriEncodedString());he(xy,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,i);const{host:p}=new URL(u),g=xc(p);return this.Jo(e,u,h,r,g).then((m=>(he(xy,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw Na(xy,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,t,r,s,i,l){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,t){const r=vz[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class Ez extends _z{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const l=xv();return new Promise(((u,h)=>{const p=new yA;p.setWithCredentials(!0),p.listenOnce(vA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case bf.NO_ERROR:const m=p.getResponseJson();he(On,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case bf.TIMEOUT:he(On,`RPC '${e}' ${l} timed out`),h(new Ee(re.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const E=p.getStatus();if(he(On,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S?.error;if(k&&k.status&&k.message){const C=(function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(U)>=0?U:re.UNKNOWN})(k.status);h(new Ee(C,k.message))}else h(new Ee(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ee(re.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(On,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);he(On,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=xv(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=EA(),u=wA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=i.join("");he(On,`Creating RPC '${e}' stream ${s}: ${g}`,h);const m=l.createWebChannel(g,h);this.I_(m);let E=!1,S=!1;const k=new wz({Yo:R=>{S?he(On,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(E||(he(On,`Opening RPC '${e}' stream ${s} transport.`),m.open(),E=!0),he(On,`RPC '${e}' stream ${s} sending:`,R),m.send(R))},Zo:()=>m.close()}),C=(R,V,U)=>{R.listen(V,(z=>{try{U(z)}catch(q){setTimeout((()=>{throw q}),0)}}))};return C(m,Cu.EventType.OPEN,(()=>{S||(he(On,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),C(m,Cu.EventType.CLOSE,(()=>{S||(S=!0,he(On,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(m))})),C(m,Cu.EventType.ERROR,(R=>{S||(S=!0,Na(On,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),k.a_(new Ee(re.UNAVAILABLE,"The operation could not be completed")))})),C(m,Cu.EventType.MESSAGE,(R=>{if(!S){const V=R.data[0];Le(!!V,16349);const U=V,z=U?.error||U[0]?.error;if(z){he(On,`RPC '${e}' stream ${s} received error:`,z);const q=z.status;let W=(function(I){const A=tn[I];if(A!==void 0)return yP(A)})(q),J=z.message;W===void 0&&(W=re.INTERNAL,J="Unknown error status: "+q+" with message "+z.message),S=!0,k.a_(new Ee(W,J)),m.close()}else he(On,`RPC '${e}' stream ${s} received:`,V),k.u_(V)}})),C(u,_A.STAT_EVENT,(R=>{R.stat===nv.PROXY?he(On,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===nv.NOPROXY&&he(On,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(){return typeof window<"u"?window:null}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n){return new xU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="PersistentStream";class YP{constructor(e,t,r,s,i,l,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QP(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(qn(t.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ee(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(SS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(SS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xz extends YP{constructor(e,t,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=TU(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Ue.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?Wn(l.readTime):Ue.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=yv(this.serializer),t.addTarget=(function(i,l){let u;const h=l.target;if(u=rp(h)?{documents:IP(i,h)}:{query:TP(i,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=wP(i,l.resumeToken);const p=mv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ue.min())>0){u.readTime=mc(i,l.snapshotVersion.toTimestamp());const p=mv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=AU(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=yv(this.serializer),t.removeTarget=e,this.q_(t)}}class Sz extends YP{constructor(e,t,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=CU(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=yv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>ip(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{}class Tz extends Iz{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,l])=>this.connection.Go(e,gv(t,r),s,i,l))).catch((i=>{throw i.name==="FirebaseError"?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ee(re.UNKNOWN,i.toString())}))}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,gv(t,r),s,l,u,i))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(re.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Cz{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qn(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class Az{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{qa(this)&&(he(ja,"Restarting streams for network reachability change."),await(async function(h){const p=Ze(h);p.Ea.add(4),await Pd(p),p.Ra.set("Unknown"),p.Ea.delete(4),await im(p)})(this))}))})),this.Ra=new Cz(r,s)}}async function im(n){if(qa(n))for(const e of n.da)await e(!0)}async function Pd(n){for(const e of n.da)await e(!1)}function XP(n,e){const t=Ze(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),aw(t)?iw(t):Ac(t).O_()&&ow(t,e))}function sw(n,e){const t=Ze(n),r=Ac(t);t.Ia.delete(e),r.O_()&&JP(t,e),t.Ia.size===0&&(r.O_()?r.L_():qa(t)&&t.Ra.set("Unknown"))}function ow(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ac(n).Y_(e)}function JP(n,e){n.Va.Ue(e),Ac(n).Z_(e)}function iw(n){n.Va=new _U({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ac(n).start(),n.Ra.ua()}function aw(n){return qa(n)&&!Ac(n).x_()&&n.Ia.size>0}function qa(n){return Ze(n).Ea.size===0}function eR(n){n.Va=void 0}async function Pz(n){n.Ra.set("Online")}async function Rz(n){n.Ia.forEach(((e,t)=>{ow(n,e)}))}async function kz(n,e){eR(n),aw(n)?(n.Ra.ha(e),iw(n)):n.Ra.set("Unknown")}async function Nz(n,e,t){if(n.Ra.set("Online"),e instanceof _P&&e.state===2&&e.cause)try{await(async function(s,i){const l=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(n,e)}catch(r){he(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dp(n,r)}else if(e instanceof Rf?n.Va.Ze(e):e instanceof vP?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ue.min()))try{const r=await KP(n.localStore);t.compareTo(r)>=0&&await(function(i,l){const u=i.Va.Tt(l);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.Ia.get(p);g&&i.Ia.set(p,g.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,p)=>{const g=i.Ia.get(h);if(!g)return;i.Ia.set(h,g.withResumeToken(rn.EMPTY_BYTE_STRING,g.snapshotVersion)),JP(i,h);const m=new yo(g.target,h,p,g.sequenceNumber);ow(i,m)})),i.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){he(ja,"Failed to raise snapshot:",r),await dp(n,r)}}async function dp(n,e,t){if(!ki(e))throw e;n.Ea.add(1),await Pd(n),n.Ra.set("Offline"),t||(t=()=>KP(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(ja,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await im(n)}))}function tR(n,e){return e().catch((t=>dp(n,t,e)))}async function Rd(n){const e=Ze(n),t=Pi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wa;for(;Dz(e);)try{const s=await pz(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,Oz(e,s)}catch(s){await dp(e,s)}nR(e)&&rR(e)}function Dz(n){return qa(n)&&n.Ta.length<10}function Oz(n,e){n.Ta.push(e);const t=Pi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function nR(n){return qa(n)&&!Pi(n).x_()&&n.Ta.length>0}function rR(n){Pi(n).start()}async function Mz(n){Pi(n).ra()}async function Vz(n){const e=Pi(n);for(const t of n.Ta)e.ea(t.mutations)}async function Lz(n,e,t){const r=n.Ta.shift(),s=G_.from(r,e,t);await tR(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Rd(n)}async function jz(n,e){e&&Pi(n).X_&&await(async function(r,s){if((function(l){return gU(l)&&l!==re.ABORTED})(s.code)){const i=r.Ta.shift();Pi(r).B_(),await tR(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Rd(r)}})(n,e),nR(n)&&rR(n)}async function IS(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),he(ja,"RemoteStore received new credentials");const r=qa(t);t.Ea.add(3),await Pd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await im(t)}async function Fz(n,e){const t=Ze(n);e?(t.Ea.delete(2),await im(t)):e||(t.Ea.add(2),await Pd(t),t.Ra.set("Unknown"))}function Ac(n){return n.ma||(n.ma=(function(t,r,s){const i=Ze(t);return i.sa(),new xz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:Pz.bind(null,n),t_:Rz.bind(null,n),r_:kz.bind(null,n),H_:Nz.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),aw(n)?iw(n):n.Ra.set("Unknown")):(await n.ma.stop(),eR(n))}))),n.ma}function Pi(n){return n.fa||(n.fa=(function(t,r,s){const i=Ze(t);return i.sa(),new Sz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Mz.bind(null,n),r_:jz.bind(null,n),ta:Vz.bind(null,n),na:Lz.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Rd(n)):(await n.fa.stop(),n.Ta.length>0&&(he(ja,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const l=Date.now()+r,u=new lw(e,t,l,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cw(n,e){if(qn("AsyncQueue",`${e}: ${n}`),ki(n))return new Ee(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{static emptySet(e){return new Yl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||be.comparator(t.key,r.key):(t,r)=>be.comparator(t.key,r.key),this.keyedMap=Au(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.ga=new Ot(be.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class gc{constructor(e,t,r,s,i,l,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,i){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new gc(e,t,Yl.emptySet(t),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zz{constructor(){this.queries=CS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ze(t),i=s.queries;s.queries=CS(),i.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new Ee(re.ABORTED,"Firestore shutting down"))}}function CS(){return new To((n=>sP(n)),Xp)}async function uw(n,e){const t=Ze(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Uz,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=cw(l,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&hw(t)}async function dw(n,e){const t=Ze(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const l=i.Sa.indexOf(e);l>=0&&(i.Sa.splice(l,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function $z(n,e){const t=Ze(n);let r=!1;for(const s of e){const i=s.query,l=t.queries.get(i);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&hw(t)}function Bz(n,e,t){const r=Ze(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function hw(n){n.Ca.forEach((e=>{e.next()}))}var Sv,AS;(AS=Sv||(Sv={})).Ma="default",AS.Cache="cache";class fw{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.key=e}}class oR{constructor(e){this.key=e}}class qz{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=oP(e),this.tu=new Yl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new TS,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,m)=>{const E=s.get(g),S=Td(this.query,m)?m:null,k=!!E&&this.mutatedKeys.has(E.key),C=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;E&&S?E.data.isEqual(S.data)?k!==C&&(r.track({type:3,doc:S}),R=!0):this.su(E,S)||(r.track({type:2,doc:S}),R=!0,(h&&this.eu(S,h)>0||p&&this.eu(S,p)<0)&&(u=!0)):!E&&S?(r.track({type:0,doc:S}),R=!0):E&&!S&&(r.track({type:1,doc:E}),R=!0,(h||p)&&(u=!0)),R&&(S?(l=l.add(S),i=C?i.add(g):i.delete(g)):(l=l.delete(g),i=i.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),i=i.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,m)=>(function(S,k){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:R})}};return C(S)-C(k)})(g.type,m.type)||this.eu(g.doc,m.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,p=h!==this.Za;return this.Za=h,l.length!==0||p?{snapshot:new gc(this.query,e.tu,i,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new oR(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new sR(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return gc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pw="SyncEngine";class Hz{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Wz{constructor(e){this.key=e,this.hu=!1}}class Gz{constructor(e,t,r,s,i,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new To((u=>sP(u)),Xp),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(be.comparator),this.Au=new Map,this.Ru=new J_,this.Vu={},this.mu=new Map,this.fu=La.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kz(n,e,t=!0){const r=dR(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await iR(r,e,t,!0),s}async function Zz(n,e){const t=dR(n);await iR(t,e,!0,!1)}async function iR(n,e,t,r){const s=await mz(n.localStore,Ur(e)),i=s.targetId,l=n.sharedClientState.addLocalQueryTarget(i,t);let u;return r&&(u=await Qz(n,e,i,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&XP(n.remoteStore,s),u}async function Qz(n,e,t,r,s){n.pu=(m,E,S)=>(async function(C,R,V,U){let z=R.view.ru(V);z.Cs&&(z=await wS(C.localStore,R.query,!1).then((({documents:P})=>R.view.ru(P,z))));const q=U&&U.targetChanges.get(R.targetId),W=U&&U.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(z,C.isPrimaryClient,q,W);return RS(C,R.targetId,J.au),J.snapshot})(n,m,E,S);const i=await wS(n.localStore,e,!0),l=new qz(e,i.Qs),u=l.ru(i.documents),h=Ad.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(u,n.isPrimaryClient,h);RS(n,t,p.au);const g=new Hz(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function Yz(n,e,t){const r=Ze(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((l=>!Xp(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await bv(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&sw(r.remoteStore,s.targetId),Iv(r,s.targetId)})).catch(Ba)):(Iv(r,s.targetId),await bv(r.localStore,s.targetId,!0))}async function Xz(n,e){const t=Ze(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),sw(t.remoteStore,r.targetId))}async function Jz(n,e,t){const r=hR(n);try{const s=await(function(l,u){const h=Ze(l),p=_t.now(),g=u.reduce(((S,k)=>S.add(k.key)),et());let m,E;return h.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let k=Er(),C=et();return h.Ns.getEntries(S,g).next((R=>{k=R,k.forEach(((V,U)=>{U.isValidDocument()||(C=C.add(V))}))})).next((()=>h.localDocuments.getOverlayedDocuments(S,k))).next((R=>{m=R;const V=[];for(const U of u){const z=pU(U,m.get(U.key).overlayedDocument);z!=null&&V.push(new Co(U.key,z,QA(z.value.mapValue),_n.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,V,u)})).next((R=>{E=R;const V=R.applyToLocalDocumentSet(m,C);return h.documentOverlayCache.saveOverlays(S,R.batchId,V)}))})).then((()=>({batchId:E.batchId,changes:aP(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let p=l.Vu[l.currentUser.toKey()];p||(p=new Ot(Ke)),p=p.insert(u,h),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,t),await kd(r,s.changes),await Rd(r.remoteStore)}catch(s){const i=cw(s,"Failed to persist write");t.reject(i)}}async function aR(n,e){const t=Ze(n);try{const r=await hz(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const l=t.Au.get(i);l&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Le(l.hu,14607):s.removedDocuments.size>0&&(Le(l.hu,42227),l.hu=!1))})),await kd(t,r,e)}catch(r){await Ba(r)}}function PS(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Ze(l);h.onlineState=u;let p=!1;h.queries.forEach(((g,m)=>{for(const E of m.Sa)E.va(u)&&(p=!0)})),p&&hw(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function e9(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let l=new Ot(be.comparator);l=l.insert(i,qt.newNoDocument(i,Ue.min()));const u=et().add(i),h=new tm(Ue.min(),new Map,new Ot(Ke),l,u);await aR(r,h),r.du=r.du.remove(i),r.Au.delete(e),mw(r)}else await bv(r.localStore,e,!1).then((()=>Iv(r,e,t))).catch(Ba)}async function t9(n,e){const t=Ze(n),r=e.batch.batchId;try{const s=await dz(t.localStore,e);cR(t,r,null),lR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await kd(t,s)}catch(s){await Ba(s)}}async function n9(n,e,t){const r=Ze(n);try{const s=await(function(l,u){const h=Ze(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,u).next((m=>(Le(m!==null,37113),g=m.keys(),h.mutationQueue.removeMutationBatch(p,m)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);cR(r,e,t),lR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await kd(r,s)}catch(s){await Ba(s)}}function lR(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function cR(n,e,t){const r=Ze(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Iv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||uR(n,r)}))}function uR(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(sw(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),mw(n))}function RS(n,e,t){for(const r of t)r instanceof sR?(n.Ru.addReference(r.key,e),r9(n,r)):r instanceof oR?(he(pw,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||uR(n,r.key)):De(19791,{wu:r})}function r9(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(he(pw,"New document in limbo: "+t),n.Eu.add(r),mw(n))}function mw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new be(yt.fromString(e)),r=n.fu.next();n.Au.set(r,new Wz(t)),n.du=n.du.insert(t,r),XP(n.remoteStore,new yo(Ur(Id(t.path)),r,"TargetPurposeLimboResolution",jr.ce))}}async function kd(n,e,t){const r=Ze(n),s=[],i=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(p){s.push(p);const g=nw.As(h.targetId,p);i.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(h,p){const g=Ze(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>K.forEach(p,(E=>K.forEach(E.Es,(S=>g.persistence.referenceDelegate.addReference(m,E.targetId,S))).next((()=>K.forEach(E.ds,(S=>g.persistence.referenceDelegate.removeReference(m,E.targetId,S)))))))))}catch(m){if(!ki(m))throw m;he(rw,"Failed to update sequence numbers: "+m)}for(const m of p){const E=m.targetId;if(!m.fromCache){const S=g.Ms.get(E),k=S.snapshotVersion,C=S.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(E,C)}}})(r.localStore,i))}async function s9(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){he(pw,"User change. New user:",e.toKey());const r=await GP(t.localStore,e);t.currentUser=e,(function(i,l){i.mu.forEach((u=>{u.forEach((h=>{h.reject(new Ee(re.CANCELLED,l))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kd(t,r.Ls)}}function o9(n,e){const t=Ze(n),r=t.Au.get(e);if(r&&r.hu)return et().add(r.key);{let s=et();const i=t.Iu.get(e);if(!i)return s;for(const l of i){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function dR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e9.bind(null,e),e.Pu.H_=$z.bind(null,e.eventManager),e.Pu.yu=Bz.bind(null,e.eventManager),e}function hR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n9.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=om(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return WP(this.persistence,new HP,e.initialUser,this.serializer)}Cu(e){return new ew(sm.mi,this.serializer)}Du(e){return new ZP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class i9 extends cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Le(this.persistence.referenceDelegate instanceof up,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new ew((r=>up.mi(r,t)),this.serializer)}}class a9 extends cd{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await hR(this.xu.syncEngine),await Rd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return WP(this.persistence,new HP,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new UP(r,e.asyncQueue,t)}Mu(e,t){const r=new d6(t,this.persistence);return new u6(e.asyncQueue,r)}Cu(e){const t=az(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new tw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,bz(),Nf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new ZP}}class hp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s9.bind(null,this.syncEngine),await Fz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zz})()}createDatastore(e){const t=om(e.databaseInfo.databaseId),r=(function(i){return new Ez(i)})(e.databaseInfo);return(function(i,l,u,h){return new Tz(i,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,l,u){return new Az(r,s,i,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>PS(this.syncEngine,t,0)),(function(){return xS.v()?new xS:new yz})())}createSyncEngine(e,t){return(function(s,i,l,u,h,p,g){const m=new Gz(s,i,l,u,h,p);return g&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ze(t);he(ja,"RemoteStore shutting down."),r.Ea.add(5),await Pd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="FirestoreClient";class l9{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Sn.UNAUTHENTICATED,this.clientId=N_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async l=>{he(Ri,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(Ri,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=cw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Sy(n,e){n.asyncQueue.verifyOperationInProgress(),he(Ri,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await GP(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function kS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await c9(n);he(Ri,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>IS(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>IS(e.remoteStore,s))),n._onlineComponents=e}async function c9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Ri,"Using user provided OfflineComponentProvider");try{await Sy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Na("Error using user provided cache. Falling back to memory cache: "+t),await Sy(n,new cd)}}else he(Ri,"Using default OfflineComponentProvider"),await Sy(n,new i9(void 0));return n._offlineComponents}async function fR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Ri,"Using user provided OnlineComponentProvider"),await kS(n,n._uninitializedComponentsProvider._online)):(he(Ri,"Using default OnlineComponentProvider"),await kS(n,new hp))),n._onlineComponents}function u9(n){return fR(n).then((e=>e.syncEngine))}async function fp(n){const e=await fR(n),t=e.eventManager;return t.onListen=Kz.bind(null,e.syncEngine),t.onUnlisten=Yz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Zz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Xz.bind(null,e.syncEngine),t}function d9(n,e,t={}){const r=new Fs;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,p){const g=new gw({next:E=>{g.Nu(),l.enqueueAndForget((()=>dw(i,m)));const S=E.docs.has(u);!S&&E.fromCache?p.reject(new Ee(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&h&&h.source==="server"?p.reject(new Ee(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),m=new fw(Id(u.path),g,{includeMetadataChanges:!0,qa:!0});return uw(i,m)})(await fp(n),n.asyncQueue,e,t,r))),r.promise}function h9(n,e,t={}){const r=new Fs;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,p){const g=new gw({next:E=>{g.Nu(),l.enqueueAndForget((()=>dw(i,m))),E.fromCache&&h.source==="server"?p.reject(new Ee(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),m=new fw(u,g,{includeMetadataChanges:!0,qa:!0});return uw(i,m)})(await fp(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firestore.googleapis.com",DS=!0;class OS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mR,this.ssl=DS}else this.host=e.host,this.ssl=e.ssl??DS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qU)throw new Ee(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class am{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Q3;switch(r.type){case"firstParty":return new e6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=NS.get(t);r&&(he("ComponentProvider","Removing Datastore"),NS.delete(t),r.terminate())})(this),Promise.resolve()}}function f9(n,e,t,r={}){n=Hn(n,am);const s=xc(e),i=n._getSettings(),l={...i,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(AC(`https://${u}`),PC("Firestore",!0)),i.host!==mR&&i.host!==u&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...i,host:u,ssl:s,emulatorOptions:r};if(!Aa(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Sn.MOCK_USER;else{p=Tj(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Ee(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Sn(m)}n._authCredentials=new Y3(new xA(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nd(this.firestore,e,this._query)}}class Zt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(bd(t,Zt._jsonSchema))return new Zt(e,r||null,new be(yt.fromString(t.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:nn("string",Zt._jsonSchemaVersion),referencePath:nn("string")};class xi extends Nd{constructor(e,t,r){super(e,t,Id(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new be(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function lm(n,e,...t){if(n=Tn(n),IA("collection","path",e),n instanceof am){const r=yt.fromString(e,...t);return Sx(r),new xi(n,null,r)}{if(!(n instanceof Zt||n instanceof xi))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return Sx(r),new xi(n.firestore,null,r)}}function Sr(n,e,...t){if(n=Tn(n),arguments.length===1&&(e=N_.newId()),IA("doc","path",e),n instanceof am){const r=yt.fromString(e,...t);return xx(r),new Zt(n,null,new be(r))}{if(!(n instanceof Zt||n instanceof xi))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return xx(r),new Zt(n.firestore,n instanceof xi?n.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="AsyncQueue";class VS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QP(this,"async_queue_retry"),this._c=()=>{const r=Nf();r&&he(MS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Nf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Nf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ki(e))throw e;he(MS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qn("INTERNAL UNHANDLED ERROR: ",LS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=lw.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&De(47125,{Pc:LS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function LS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(n,["next","error","complete"])}class Hs extends am{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new VS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VS(e),this._firestoreClient=void 0,await e}}}function p9(n,e){const t=typeof n=="object"?n:LC(),r=typeof n=="string"?n:tp,s=w_(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Sj("firestore");i&&f9(s,...i)}return s}function Dd(n){if(n._terminated)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gR(n),n._firestoreClient}function gR(n){const e=n._freezeSettings(),t=(function(s,i,l,u){return new U6(s,i,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,pR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new l9(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}function m9(n,e){Na("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return g9(n,hp.provider,{build:r=>new a9(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function g9(n,e,t){if((n=Hn(n,Hs))._firestoreClient||n._terminated)throw new Ee(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new Ee(re.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},gR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lr(rn.fromBase64String(e))}catch(t){throw new Ee(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lr(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bd(e,Lr._jsonSchema))return Lr.fromBase64String(e.bytes)}}Lr._jsonSchemaVersion="firestore/bytes/1.0",Lr._jsonSchema={type:nn("string",Lr._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Us._jsonSchemaVersion}}static fromJSON(e){if(bd(e,Us._jsonSchema))return new Us(e.latitude,e.longitude)}}Us._jsonSchemaVersion="firestore/geoPoint/1.0",Us._jsonSchema={type:nn("string",Us._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bd(e,zs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new zs(e.vectorValues);throw new Ee(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zs._jsonSchemaVersion="firestore/vectorValue/1.0",zs._jsonSchema={type:nn("string",zs._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=/^__.*__$/;class v9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cc(e,this.data,t,this.fieldTransforms)}}class yR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Co(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:n})}}class vw{constructor(e,t,r,s,i,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vR(this.Ac)&&y9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||om(e)}Cc(e,t,r,s=!1){return new vw({Ac:e,methodName:t,Dc:r,path:Ft.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _w(n){const e=n._freezeSettings(),t=om(n._databaseId);return new _9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _R(n,e,t,r,s,i={}){const l=n.Cc(i.merge||i.mergeFields?2:0,e,t,s);ww("Data must be an object, but it was:",l,r);const u=bR(r,l);let h,p;if(i.merge)h=new sr(l.fieldMask),p=l.fieldTransforms;else if(i.mergeFields){const g=[];for(const m of i.mergeFields){const E=Tv(e,m,t);if(!l.contains(E))throw new Ee(re.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);SR(g,E)||g.push(E)}h=new sr(g),p=l.fieldTransforms.filter((m=>h.covers(m.field)))}else h=null,p=l.fieldTransforms;return new v9(new jn(u),h,p)}class cm extends yw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cm}}function wR(n,e,t,r){const s=n.Cc(1,e,t);ww("Data must be an object, but it was:",s,r);const i=[],l=jn.empty();Ni(r,((h,p)=>{const g=Ew(e,h,t);p=Tn(p);const m=s.yc(g);if(p instanceof cm)i.push(g);else{const E=um(p,m);E!=null&&(i.push(g),l.set(g,E))}}));const u=new sr(i);return new yR(l,u,s.fieldTransforms)}function ER(n,e,t,r,s,i){const l=n.Cc(1,e,t),u=[Tv(e,r,t)],h=[s];if(i.length%2!=0)throw new Ee(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<i.length;E+=2)u.push(Tv(e,i[E])),h.push(i[E+1]);const p=[],g=jn.empty();for(let E=u.length-1;E>=0;--E)if(!SR(p,u[E])){const S=u[E];let k=h[E];k=Tn(k);const C=l.yc(S);if(k instanceof cm)p.push(S);else{const R=um(k,C);R!=null&&(p.push(S),g.set(S,R))}}const m=new sr(p);return new yR(g,m,l.fieldTransforms)}function um(n,e){if(xR(n=Tn(n)))return ww("Unsupported field value:",e,n),bR(n,e);if(n instanceof yw)return(function(r,s){if(!vR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let l=0;for(const u of r){let h=um(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),l++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=Tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_t.fromDate(r);return{timestampValue:mc(s.serializer,i)}}if(r instanceof _t){const i=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mc(s.serializer,i)}}if(r instanceof Us)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lr)return{bytesValue:wP(s.serializer,r._byteString)};if(r instanceof Zt){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Q_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof zs)return(function(l,u){return{mapValue:{fields:{[z_]:{stringValue:$_},[cc]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return H_(u.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${D_(r)}`)})(n,e)}function bR(n,e){const t={};return zA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(n,((r,s)=>{const i=um(s,e.mc(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function xR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof Us||n instanceof Lr||n instanceof Zt||n instanceof yw||n instanceof zs)}function ww(n,e,t){if(!xR(t)||!TA(t)){const r=D_(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Tv(n,e,t){if((e=Tn(e))instanceof Od)return e._internalPath;if(typeof e=="string")return Ew(n,e);throw pp("Field path arguments must be of type string or ",n,!1,void 0,t)}const w9=new RegExp("[~\\*/\\[\\]]");function Ew(n,e,t){if(e.search(w9)>=0)throw pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Od(...e.split("."))._internalPath}catch{throw pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pp(n,e,t,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(i||l)&&(h+=" (found",i&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new Ee(re.INVALID_ARGUMENT,u+n+h)}function SR(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class E9 extends IR{data(){return super.data()}}function TR(n,e){return typeof e=="string"?Ew(n,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ee(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b9{convertValue(e,t="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ni(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){const t=e.fields?.[cc].arrayValue?.values?.map((r=>Dt(r.doubleValue)));return new zs(t)}convertGeoPoint(e){return new Us(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){const t=xo(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yt.fromString(e);Le(RP(r),9688,{name:e});const s=new Da(r.get(1),r.get(3)),i=new be(r.popFirst(5));return s.isEqual(t)||qn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends IR{constructor(e,t,r,s,i,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(TR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=xa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:nn("string",xa._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class Df extends xa{data(e={}){return super.data(e)}}class Sa{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ku(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Df(this._firestore,this._userDataWriter,r.key,r,new ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new Df(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ku(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>i||u.type!==3)).map((u=>{const h=new Df(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ku(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:x9(u.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=N_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(n){n=Hn(n,Zt);const e=Hn(n.firestore,Hs);return d9(Dd(e),n._key).then((t=>NR(e,n,t)))}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:nn("string",Sa._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class bw extends b9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function PR(n){n=Hn(n,Nd);const e=Hn(n.firestore,Hs),t=Dd(e),r=new bw(e);return CR(n._query),h9(t,n._query).then((s=>new Sa(e,r,n,s)))}function xw(n,e,t){n=Hn(n,Zt);const r=Hn(n.firestore,Hs),s=AR(n.converter,e,t);return hm(r,[_R(_w(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,_n.none())])}function dm(n,e,t,...r){n=Hn(n,Zt);const s=Hn(n.firestore,Hs),i=_w(s);let l;return l=typeof(e=Tn(e))=="string"||e instanceof Od?ER(i,"updateDoc",n._key,e,t,r):wR(i,"updateDoc",n._key,e),hm(s,[l.toMutation(n._key,_n.exists(!0))])}function RR(n){return hm(Hn(n.firestore,Hs),[new Cd(n._key,_n.none())])}function kR(n,...e){n=Tn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||jS(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(jS(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let i,l,u;if(n instanceof Zt)l=Hn(n.firestore,Hs),u=Id(n._key.path),i={next:h=>{e[r]&&e[r](NR(l,n,h))},error:e[r+1],complete:e[r+2]};else{const h=Hn(n,Nd);l=Hn(h.firestore,Hs),u=h._query;const p=new bw(l);i={next:g=>{e[r]&&e[r](new Sa(l,p,h,g))},error:e[r+1],complete:e[r+2]},CR(n._query)}return(function(p,g,m,E){const S=new gw(E),k=new fw(g,S,m);return p.asyncQueue.enqueueAndForget((async()=>uw(await fp(p),k))),()=>{S.Nu(),p.asyncQueue.enqueueAndForget((async()=>dw(await fp(p),k)))}})(Dd(l),u,s,i)}function hm(n,e){return(function(r,s){const i=new Fs;return r.asyncQueue.enqueueAndForget((async()=>Jz(await u9(r),s,i))),i.promise})(Dd(n),e)}function NR(n,e,t){const r=t.docs.get(e._key),s=new bw(n);return new xa(n,s,e._key,r,new ku(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_w(e)}set(e,t,r){this._verifyNotCommitted();const s=Iy(e,this._firestore),i=AR(s.converter,t,r),l=_R(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(l.toMutation(s._key,_n.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const i=Iy(e,this._firestore);let l;return l=typeof(t=Tn(t))=="string"||t instanceof Od?ER(this._dataReader,"WriteBatch.update",i._key,t,r,s):wR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(l.toMutation(i._key,_n.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Iy(e,this._firestore);return this._mutations=this._mutations.concat(new Cd(t._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Iy(n,e){if((n=Tn(n)).firestore!==e)throw new Ee(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n){return Dd(n=Hn(n,Hs)),new S9(n,(e=>hm(n,e)))}(function(e,t=!0){(function(s){Tc=s})(Sc),nc(new Pa("firestore",((r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),u=new Hs(new X3(r.getProvider("auth-internal")),new t6(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(p.options.projectId,g)})(l,s),l);return i={useFetchStreams:t,...i},u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),wi(_x,wx,e),wi(_x,wx,"esm2020")})();const I9={apiKey:"AIzaSyAtQmAaUFEuyJmeOq3M3ZIkI3a1gna_Do8",authDomain:"nosql-demo-e5885.firebaseapp.com",databaseURL:"https://nosql-demo-e5885-default-rtdb.firebaseio.com",projectId:"nosql-demo-e5885",storageBucket:"nosql-demo-e5885.firebasestorage.app",messagingSenderId:"377685820338",appId:"1:377685820338:web:12a7618478c1cdeda79aab",measurementId:"G-EWRZ4F64R6"};let Ty,Ut,Cv;try{Ty=VC(I9),Ut=p9(Ty),Cv=W3(Ty),m9(Ut).catch(n=>{n.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):n.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser")})}catch(n){throw console.error("Firebase initialization error:",n),n}const Cn={INVENTORY:"inventory",CUSTOMERS:"customers",SUPPLIERS:"suppliers",SALES_ORDERS:"sales_orders",PURCHASE_ORDERS:"purchase_orders",CASH_BANK_TRANSACTIONS:"cash_bank_transactions",PAYMENT_TRANSACTIONS:"payment_transactions",SHIPMENTS:"shipments",ORDERS:"orders",USERS:"users",CATEGORIES:"categories"},DR=b.createContext(void 0),vr="wms_auth_user",li="wms_remember_me",OR="wms_users",mi=[{id:"0",email:"owner@wms.com",password:"owner123",name:"System Owner",role:"Owner",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"1",email:"admin@wms.com",password:"admin123",name:"Admin User",role:"Admin",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"2",email:"operator@wms.com",password:"operator123",name:"Operator User",role:"Operator",status:"Active",createdAt:"2024-01-15T00:00:00Z"}];function ui(){try{const n=localStorage.getItem(OR);if(n)return JSON.parse(n)}catch(n){console.error("Error reading users from storage:",n)}return[]}function $u(n){localStorage.setItem(OR,JSON.stringify(n))}async function Av(n){try{const e=Sr(Ut,Cn.USERS,n.id);await xw(e,n)}catch(e){throw console.error("Error saving user to Firestore:",e),e}}async function da(){try{const n=lm(Ut,Cn.USERS),e=await PR(n),t=[];return e.forEach(r=>{t.push(r.data())}),t}catch(n){console.error("Error getting users from Firestore:",n);const e=ui();return e.length===0?(console.log("Falling back to DEFAULT_USERS"),mi):e}}async function fo(n,e){try{const t=Sr(Ut,Cn.USERS,n);try{await dm(t,e)}catch(r){if(r instanceof Error&&r.message.includes("No document to update")){const s=mi.find(i=>i.id===n);if(s)await xw(t,{...s,...e}),console.log("Created default user in Firestore:",n);else throw r}else throw r}}catch(t){throw console.error("Error updating user in Firestore:",t),t}}async function FS(n){try{const e=Sr(Ut,Cn.USERS,n);await RR(e)}catch(e){throw console.error("Error deleting user from Firestore:",e),e}}async function T9(){try{const n=await da();if(n.length===0){console.log("Seeding default users to Firestore...");for(const e of mi)await Av(e);return $u(mi),console.log("Default users seeded successfully"),mi}else return $u(n),n}catch(n){console.error("Error initializing default users:",n);const e=ui();return e.length===0?($u(mi),mi):e}}function C9({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(!0),[i,l]=b.useState([]);b.useEffect(()=>{let I;return(async()=>{await T9();try{const O=lm(Ut,Cn.USERS);I=kR(O,M=>{const L=[];M.forEach(N=>{L.push(N.data())}),l(L),$u(L)},M=>{console.error("Error listening to users:",M),l(ui())})}catch(O){console.error("Error setting up users listener:",O),l(ui())}})(),()=>{I&&I()}},[]),b.useEffect(()=>{(async()=>{try{const A=localStorage.getItem(vr),O=localStorage.getItem(li);if(A&&O==="true"){const M=JSON.parse(A),N=ui().find(de=>de.id===M.id);N&&N.status==="Active"&&t({id:N.id,email:N.email,name:N.name,role:N.role,status:N.status,createdAt:N.createdAt,lastLogin:N.lastLogin})}else{const M=sessionStorage.getItem(vr);if(M){const L=JSON.parse(M),de=ui().find(Ve=>Ve.id===L.id);de&&de.status==="Active"&&t({id:de.id,email:de.email,name:de.name,role:de.role,status:de.status,createdAt:de.createdAt,lastLogin:de.lastLogin})}}}catch(A){console.error("Error checking authentication:",A)}finally{s(!1)}})()},[]);const u=async(I,A,O=!1)=>{console.log("[Login] Attempting login for:",I);let M=await da();console.log("[Login] Users from Firestore:",M.length,M.map(me=>me.email));const L=new Set(M.map(me=>me.email.toLowerCase()));for(const me of mi)L.has(me.email.toLowerCase())||(M.push(me),console.log("[Login] Added default user:",me.email));console.log("[Login] Final users list:",M.length,M.map(me=>me.email));const N=M.find(me=>me.email.toLowerCase()===I.toLowerCase());if(console.log("[Login] Found user:",N?.email||"NOT FOUND"),!N)throw new Error("NO_ACCOUNT:No account found with this email address. Would you like to create one?");if(N.password!==A)throw new Error("WRONG_PASSWORD:Incorrect password. Please try again.");const de=N;if(de.status==="Pending")throw new Error("PENDING:Your account is pending approval. Please wait for an administrator to approve your account.");if(de.status==="Inactive")throw new Error("INACTIVE:Your account has been deactivated. Please contact an administrator.");const Ve=new Date().toISOString();try{await fo(de.id,{lastLogin:Ve})}catch(me){console.warn("Could not update lastLogin in Firestore:",me)}const pe={id:de.id,email:de.email,name:de.name,role:de.role,status:de.status,createdAt:de.createdAt,lastLogin:Ve};t(pe),O?(localStorage.setItem(vr,JSON.stringify(pe)),localStorage.setItem(li,"true")):(sessionStorage.setItem(vr,JSON.stringify(pe)),localStorage.removeItem(li))},h=async(I,A,O)=>{if((await da()).some(N=>N.email.toLowerCase()===I.toLowerCase()))throw new Error("An account with this email already exists");const L={id:`user_${Date.now()}`,email:I,password:A,name:O,role:"Operator",status:"Pending",createdAt:new Date().toISOString()};await Av(L)},p=async()=>{const I=new Ds;try{const O=(await ux(Cv,I)).user;if(!O.email)throw new Error("No email associated with this Google account");const M=await da();let L=M.find(N=>N.googleUserId===O.uid);if(L||(L=M.find(N=>N.email.toLowerCase()===O.email.toLowerCase())),L){if(L.status==="Pending")throw new Error("PENDING:Your account is pending approval. Please wait for an administrator to approve your account.");if(L.status==="Inactive")throw new Error("INACTIVE:Your account has been deactivated. Please contact an administrator.");const N=new Date().toISOString();await fo(L.id,{lastLogin:N});const de={id:L.id,email:L.email,name:L.name,role:L.role,status:L.status,createdAt:L.createdAt,lastLogin:N,phone:L.phone,address:L.address,googleUserId:L.googleUserId,googleEmail:L.googleEmail};t(de),localStorage.setItem(vr,JSON.stringify(de)),localStorage.setItem(li,"true")}else{const N={id:`google_${O.uid}`,email:O.email,password:"",name:O.displayName||O.email.split("@")[0],role:"Operator",status:"Pending",createdAt:new Date().toISOString(),googleUserId:O.uid,googleEmail:O.email};throw await Av(N),new Error("PENDING:Your account has been created and is pending approval. Please wait for an administrator to approve your account.")}}catch(A){throw A instanceof Error?A.message.startsWith("PENDING:")||A.message.startsWith("INACTIVE:")||A.message.includes("popup-closed-by-user")?A:A.message.includes("auth/")?new Error("Google sign-in failed. Please try again."):A:new Error("Google sign-in failed. Please try again.")}},g=()=>{t(null),localStorage.removeItem(vr),localStorage.removeItem(li),sessionStorage.removeItem(vr)},m=b.useCallback(()=>i.length>0?i:ui(),[i]),E=b.useCallback(()=>(i.length>0?i:ui()).filter(A=>A.status==="Pending"),[i]),S=b.useCallback(async()=>{const I=await da();l(I),$u(I)},[]),k=b.useCallback(async I=>{await fo(I,{status:"Active"})},[]),C=b.useCallback(async I=>{await FS(I)},[]),R=b.useCallback(async(I,A)=>{await fo(I,{role:A}),e&&e.id===I&&t({...e,role:A})},[e]),V=b.useCallback(async(I,A)=>{await fo(I,{status:A}),e&&e.id===I&&A!=="Active"&&g()},[e]),U=b.useCallback(async I=>{await FS(I),e&&e.id===I&&g()},[e]),z=b.useCallback(async I=>{if(!e)return;await fo(e.id,I);const A={...e,...I};t(A),localStorage.getItem(li)==="true"?localStorage.setItem(vr,JSON.stringify(A)):sessionStorage.setItem(vr,JSON.stringify(A))},[e]),q=b.useCallback(async(I,A)=>{if(!e)throw new Error("Not authenticated");const M=(await da()).find(L=>L.id===e.id);if(!M||M.password!==I)throw new Error("Current password is incorrect");await fo(e.id,{password:A})},[e]),W=b.useCallback(async()=>{if(!e)throw new Error("Not authenticated");const I=new Ds;try{const O=(await ux(Cv,I)).user;if(!O.email)throw new Error("No email associated with this Google account");if((await da()).find(Ve=>Ve.googleUserId===O.uid&&Ve.id!==e.id))throw new Error("This Google account is already linked to another WMS account");await fo(e.id,{googleUserId:O.uid,googleEmail:O.email});const N={...e,googleUserId:O.uid,googleEmail:O.email};t(N),localStorage.getItem(li)==="true"?localStorage.setItem(vr,JSON.stringify(N)):sessionStorage.setItem(vr,JSON.stringify(N))}catch(A){throw A instanceof Error?A.message.includes("popup-closed-by-user")?new Error("Google sign-in was cancelled"):A.message.includes("auth/")?new Error("Google sign-in failed. Please try again."):A:new Error("Failed to link Google account. Please try again.")}},[e]),J=b.useCallback(async()=>{if(!e)throw new Error("Not authenticated");if(!e.googleUserId)throw new Error("No Google account is currently linked");await fo(e.id,{googleUserId:null,googleEmail:null});const I={...e,googleUserId:void 0,googleEmail:void 0};t(I),localStorage.getItem(li)==="true"?localStorage.setItem(vr,JSON.stringify(I)):sessionStorage.setItem(vr,JSON.stringify(I))},[e]),P={user:e,isAuthenticated:!!e,isLoading:r,login:u,loginWithGoogle:p,logout:g,register:h,getAllUsers:m,getPendingUsers:E,approveUser:k,rejectUser:C,updateUserRole:R,updateUserStatus:V,deleteUser:U,updateProfile:z,changePassword:q,linkGoogleAccount:W,unlinkGoogleAccount:J,refreshUsers:S};return v.jsx(DR.Provider,{value:P,children:n})}function Md(){const n=b.useContext(DR);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}var A9=(n,e,t,r,s,i,l,u)=>{let h=document.documentElement,p=["light","dark"];function g(S){(Array.isArray(n)?n:[n]).forEach(k=>{let C=k==="class",R=C&&i?s.map(V=>i[V]||V):s;C?(h.classList.remove(...R),h.classList.add(i&&i[S]?i[S]:S)):h.setAttribute(k,S)}),m(S)}function m(S){u&&p.includes(S)&&(h.style.colorScheme=S)}function E(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let S=localStorage.getItem(e)||t,k=l&&S==="system"?E():S;g(k)}catch{}},US=["light","dark"],MR="(prefers-color-scheme: dark)",P9=typeof window>"u",Sw=b.createContext(void 0),R9={setTheme:n=>{},themes:[]},VR=()=>{var n;return(n=b.useContext(Sw))!=null?n:R9},k9=n=>b.useContext(Sw)?b.createElement(b.Fragment,null,n.children):b.createElement(D9,{...n}),N9=["light","dark"],D9=({forcedTheme:n,disableTransitionOnChange:e=!1,enableSystem:t=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=N9,defaultTheme:l=t?"system":"light",attribute:u="data-theme",value:h,children:p,nonce:g,scriptProps:m})=>{let[E,S]=b.useState(()=>M9(s,l)),[k,C]=b.useState(()=>E==="system"?Cy():E),R=h?Object.values(h):i,V=b.useCallback(W=>{let J=W;if(!J)return;W==="system"&&t&&(J=Cy());let P=h?h[J]:J,I=e?V9(g):null,A=document.documentElement,O=M=>{M==="class"?(A.classList.remove(...R),P&&A.classList.add(P)):M.startsWith("data-")&&(P?A.setAttribute(M,P):A.removeAttribute(M))};if(Array.isArray(u)?u.forEach(O):O(u),r){let M=US.includes(l)?l:null,L=US.includes(J)?J:M;A.style.colorScheme=L}I?.()},[g]),U=b.useCallback(W=>{let J=typeof W=="function"?W(E):W;S(J);try{localStorage.setItem(s,J)}catch{}},[E]),z=b.useCallback(W=>{let J=Cy(W);C(J),E==="system"&&t&&!n&&V("system")},[E,n]);b.useEffect(()=>{let W=window.matchMedia(MR);return W.addListener(z),z(W),()=>W.removeListener(z)},[z]),b.useEffect(()=>{let W=J=>{J.key===s&&(J.newValue?S(J.newValue):U(l))};return window.addEventListener("storage",W),()=>window.removeEventListener("storage",W)},[U]),b.useEffect(()=>{V(n??E)},[n,E]);let q=b.useMemo(()=>({theme:E,setTheme:U,forcedTheme:n,resolvedTheme:E==="system"?k:E,themes:t?[...i,"system"]:i,systemTheme:t?k:void 0}),[E,U,n,k,t,i]);return b.createElement(Sw.Provider,{value:q},b.createElement(O9,{forcedTheme:n,storageKey:s,attribute:u,enableSystem:t,enableColorScheme:r,defaultTheme:l,value:h,themes:i,nonce:g,scriptProps:m}),p)},O9=b.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:l,themes:u,nonce:h,scriptProps:p})=>{let g=JSON.stringify([t,e,i,n,u,l,r,s]).slice(1,-1);return b.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${A9.toString()})(${g})`}})}),M9=(n,e)=>{if(P9)return;let t;try{t=localStorage.getItem(n)||void 0}catch{}return t||e},V9=n=>{let e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Cy=n=>(n||(n=window.matchMedia(MR)),n.matches?"dark":"light");function L9({currentView:n,setCurrentView:e}){const{user:t}=Md(),{state:r,toggleSidebar:s}=Mp(),{theme:i,setTheme:l}=VR(),u=r==="collapsed",[h,p]=b.useState(!0),g=[{id:"dashboard",label:"Dashboard",icon:z2},{id:"inventory",label:"Inventory",icon:xp},{id:"purchase-orders",label:"Purchase Orders",icon:Vv},{id:"sales-orders",label:"Sales Orders",icon:nD},{id:"shipments",label:"Shipments",icon:Lv},{id:"suppliers",label:"Suppliers",icon:L2},{id:"customers",label:"Customers",icon:_D},{id:"cash-bank",label:"Cash and Bank",icon:F2},{id:"payments",label:"Payments",icon:xD}],m=[{id:"users",label:"User Management",icon:dD}],E=()=>{window.location.reload()};return v.jsxs(NL,{collapsible:"icon",children:[v.jsx(ML,{className:"h-14 border-b border-sidebar-border px-3 flex items-center",children:v.jsx(By,{children:v.jsxs(qy,{children:[v.jsx(Hy,{asChild:!0,children:v.jsxs("button",{onClick:E,className:"flex items-center gap-2 justify-start group-data-[collapsible=icon]:justify-center w-full cursor-pointer","aria-label":"Refresh application",children:[v.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary hover:bg-primary/90 transition-colors",children:v.jsx(ID,{className:"h-5 w-5 text-primary-foreground"})}),v.jsx("span",{className:"font-semibold text-sidebar-foreground group-data-[collapsible=icon]:hidden",children:"WMS"})]})}),v.jsx(Uf,{side:"right",children:v.jsx("p",{children:"Refresh Application"})})]})})}),v.jsxs(jL,{children:[v.jsxs(Fb,{children:[v.jsx(Ub,{children:"Management"}),v.jsx(zb,{children:v.jsx(ly,{children:g.map(S=>v.jsx(Jh,{children:v.jsxs(cy,{onClick:()=>e(S.id),isActive:n===S.id,tooltip:S.label,children:[v.jsx(S.icon,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:S.label})]})},S.id))})})]}),(t?.role==="Admin"||t?.role==="Owner")&&v.jsxs(Fb,{children:[v.jsx(Ub,{children:"Administration"}),v.jsx(zb,{children:v.jsx(ly,{children:m.map(S=>v.jsx(Jh,{children:v.jsxs(cy,{onClick:()=>e(S.id),isActive:n===S.id,tooltip:S.label,children:[v.jsx(S.icon,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:S.label})]})},S.id))})})]})]}),v.jsx(VL,{className:"border-t border-sidebar-border p-2",children:v.jsxs(ly,{children:[v.jsx(Jh,{children:v.jsxs(dC,{modal:!1,children:[v.jsx(By,{children:v.jsxs(qy,{children:[v.jsx(Hy,{asChild:!0,children:v.jsx(hC,{asChild:!0,children:v.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground transition-colors",children:[v.jsx(cD,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden flex-1 text-left",children:"Settings"}),v.jsx(b2,{className:"h-4 w-4 shrink-0 group-data-[collapsible=icon]:hidden"})]})})}),v.jsx(Uf,{side:"right",className:"group-data-[collapsible=icon]:block hidden",children:"Settings"})]})}),v.jsxs(m_,{side:u?"right":"top",align:"start",className:"w-56",sideOffset:8,children:[v.jsx(g_,{children:"Settings"}),v.jsx(y_,{}),v.jsxs(Zu,{onSelect:S=>S.preventDefault(),className:"flex items-center justify-between cursor-pointer",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(m2,{className:"h-4 w-4"}),v.jsx("span",{children:"Notifications"})]}),v.jsx(wC,{checked:h,onCheckedChange:p})]}),v.jsxs(Zu,{onSelect:()=>l(i==="dark"?"light":"dark"),className:"cursor-pointer",children:[i==="dark"?v.jsx(pD,{className:"mr-2 h-4 w-4"}):v.jsx(Z2,{className:"mr-2 h-4 w-4"}),i==="dark"?"Light Mode":"Dark Mode"]})]})]})}),v.jsx(LL,{className:"my-1"}),v.jsx(Jh,{children:v.jsxs(cy,{onClick:s,tooltip:u?"Expand Sidebar":"Collapse Sidebar",children:[u?v.jsx(eD,{className:"h-4 w-4 shrink-0"}):v.jsx(X2,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Collapse"})]})})]})}),v.jsx(DL,{})]})}function j9(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const F9=n=>{switch(n){case"success":return $9;case"info":return q9;case"warning":return B9;case"error":return H9;default:return null}},U9=Array(12).fill(0),z9=({visible:n,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ce.createElement("div",{className:"sonner-spinner"},U9.map((t,r)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$9=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),B9=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),q9=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),H9=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),W9=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),G9=()=>{const[n,e]=ce.useState(document.hidden);return ce.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Pv=1;class K9{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Pv++,l=this.toasts.find(h=>h.id===i),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(h=>h.id===i?(this.publish({...h,...e,id:i,title:r}),{...h,...e,id:i,dismissible:u,title:r}):h):this.addToast({title:r,...s,dismissible:u,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,l;const u=s.then(async p=>{if(l=["resolve",p],ce.isValidElement(p))i=!1,this.create({id:r,type:"default",message:p});else if(Q9(p)&&!p.ok){i=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,E=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,k=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:E,...k})}else if(p instanceof Error){i=!1;const m=typeof t.error=="function"?await t.error(p):t.error,E=typeof t.description=="function"?await t.description(p):t.description,k=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:E,...k})}else if(t.success!==void 0){i=!1;const m=typeof t.success=="function"?await t.success(p):t.success,E=typeof t.description=="function"?await t.description(p):t.description,k=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:E,...k})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){i=!1;const g=typeof t.error=="function"?await t.error(p):t.error,m=typeof t.description=="function"?await t.description(p):t.description,S=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:m,...S})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,g)=>u.then(()=>l[0]==="reject"?g(l[1]):p(l[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,t)=>{const r=t?.id||Pv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const rr=new K9,Z9=(n,e)=>{const t=e?.id||Pv++;return rr.addToast({title:n,...e,id:t}),t},Q9=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Y9=Z9,X9=()=>rr.toasts,J9=()=>rr.getActiveToasts(),Mn=Object.assign(Y9,{success:rr.success,info:rr.info,warning:rr.warning,error:rr.error,custom:rr.custom,message:rr.message,promise:rr.promise,dismiss:rr.dismiss,loading:rr.loading},{getHistory:X9,getToasts:J9});j9("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function cf(n){return n.label!==void 0}const e$=3,t$="24px",n$="16px",zS=4e3,r$=356,s$=14,o$=45,i$=200;function Rs(...n){return n.filter(Boolean).join(" ")}function a$(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const l$=n=>{var e,t,r,s,i,l,u,h,p;const{invert:g,toast:m,unstyled:E,interacting:S,setHeights:k,visibleToasts:C,heights:R,index:V,toasts:U,expanded:z,removeToast:q,defaultRichColors:W,closeButton:J,style:P,cancelButtonStyle:I,actionButtonStyle:A,className:O="",descriptionClassName:M="",duration:L,position:N,gap:de,expandByDefault:Ve,classNames:pe,icons:me,closeButtonAriaLabel:H="Close toast"}=n,[ne,Y]=ce.useState(null),[F,G]=ce.useState(null),[oe,ie]=ce.useState(!1),[fe,Te]=ce.useState(!1),[we,Ie]=ce.useState(!1),[Ge,Qe]=ce.useState(!1),[ye,xt]=ce.useState(!1),[hn,us]=ce.useState(0),[Ga,Zs]=ce.useState(0),ir=ce.useRef(m.duration||L||zS),Ro=ce.useRef(null),gt=ce.useRef(null),Vt=V===0,ar=V+1<=C,on=m.type,Ir=m.dismissible!==!1,Ka=m.className||"",ds=m.descriptionClassName||"",hs=ce.useMemo(()=>R.findIndex(qe=>qe.toastId===m.id)||0,[R,m.id]),ko=ce.useMemo(()=>{var qe;return(qe=m.closeButton)!=null?qe:J},[m.closeButton,J]),Br=ce.useMemo(()=>m.duration||L||zS,[m.duration,L]),No=ce.useRef(0),Zn=ce.useRef(0),qr=ce.useRef(0),Hr=ce.useRef(null),[fs,Do]=N.split("-"),Oo=ce.useMemo(()=>R.reduce((qe,St,Ht)=>Ht>=hs?qe:qe+St.height,0),[R,hs]),Qn=G9(),Mo=m.invert||g,Tr=on==="loading";Zn.current=ce.useMemo(()=>hs*de+Oo,[hs,Oo]),ce.useEffect(()=>{ir.current=Br},[Br]),ce.useEffect(()=>{ie(!0)},[]),ce.useEffect(()=>{const qe=gt.current;if(qe){const St=qe.getBoundingClientRect().height;return Zs(St),k(Ht=>[{toastId:m.id,height:St,position:m.position},...Ht]),()=>k(Ht=>Ht.filter(fn=>fn.toastId!==m.id))}},[k,m.id]),ce.useLayoutEffect(()=>{if(!oe)return;const qe=gt.current,St=qe.style.height;qe.style.height="auto";const Ht=qe.getBoundingClientRect().height;qe.style.height=St,Zs(Ht),k(fn=>fn.find($t=>$t.toastId===m.id)?fn.map($t=>$t.toastId===m.id?{...$t,height:Ht}:$t):[{toastId:m.id,height:Ht,position:m.position},...fn])},[oe,m.title,m.description,k,m.id,m.jsx,m.action,m.cancel]);const Un=ce.useCallback(()=>{Te(!0),us(Zn.current),k(qe=>qe.filter(St=>St.toastId!==m.id)),setTimeout(()=>{q(m)},i$)},[m,q,k,Zn]);ce.useEffect(()=>{if(m.promise&&on==="loading"||m.duration===1/0||m.type==="loading")return;let qe;return z||S||Qn?(()=>{if(qr.current<No.current){const fn=new Date().getTime()-No.current;ir.current=ir.current-fn}qr.current=new Date().getTime()})():(()=>{ir.current!==1/0&&(No.current=new Date().getTime(),qe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Un()},ir.current))})(),()=>clearTimeout(qe)},[z,S,m,on,Qn,Un]),ce.useEffect(()=>{m.delete&&(Un(),m.onDismiss==null||m.onDismiss.call(m,m))},[Un,m.delete]);function Wr(){var qe;if(me?.loading){var St;return ce.createElement("div",{className:Rs(pe?.loader,m==null||(St=m.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":on==="loading"},me.loading)}return ce.createElement(z9,{className:Rs(pe?.loader,m==null||(qe=m.classNames)==null?void 0:qe.loader),visible:on==="loading"})}const Gr=m.icon||me?.[on]||F9(on);var At,Vo;return ce.createElement("li",{tabIndex:0,ref:gt,className:Rs(O,Ka,pe?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,pe?.default,pe?.[on],m==null||(t=m.classNames)==null?void 0:t[on]),"data-sonner-toast":"","data-rich-colors":(At=m.richColors)!=null?At:W,"data-styled":!(m.jsx||m.unstyled||E),"data-mounted":oe,"data-promise":!!m.promise,"data-swiped":ye,"data-removed":fe,"data-visible":ar,"data-y-position":fs,"data-x-position":Do,"data-index":V,"data-front":Vt,"data-swiping":we,"data-dismissible":Ir,"data-type":on,"data-invert":Mo,"data-swipe-out":Ge,"data-swipe-direction":F,"data-expanded":!!(z||Ve&&oe),"data-testid":m.testId,style:{"--index":V,"--toasts-before":V,"--z-index":U.length-V,"--offset":`${fe?hn:Zn.current}px`,"--initial-height":Ve?"auto":`${Ga}px`,...P,...m.style},onDragEnd:()=>{Ie(!1),Y(null),Hr.current=null},onPointerDown:qe=>{qe.button!==2&&(Tr||!Ir||(Ro.current=new Date,us(Zn.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(Ie(!0),Hr.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,St,Ht;if(Ge||!Ir)return;Hr.current=null;const fn=Number(((qe=gt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),zn=Number(((St=gt.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$t=new Date().getTime()-((Ht=Ro.current)==null?void 0:Ht.getTime()),Yt=ne==="x"?fn:zn,lr=Math.abs(Yt)/$t;if(Math.abs(Yt)>=o$||lr>.11){us(Zn.current),m.onDismiss==null||m.onDismiss.call(m,m),G(ne==="x"?fn>0?"right":"left":zn>0?"down":"up"),Un(),Qe(!0);return}else{var Xt,An;(Xt=gt.current)==null||Xt.style.setProperty("--swipe-amount-x","0px"),(An=gt.current)==null||An.style.setProperty("--swipe-amount-y","0px")}xt(!1),Ie(!1),Y(null)},onPointerMove:qe=>{var St,Ht,fn;if(!Hr.current||!Ir||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;const $t=qe.clientY-Hr.current.y,Yt=qe.clientX-Hr.current.x;var lr;const Xt=(lr=n.swipeDirections)!=null?lr:a$(N);!ne&&(Math.abs(Yt)>1||Math.abs($t)>1)&&Y(Math.abs(Yt)>Math.abs($t)?"x":"y");let An={x:0,y:0};const Cr=pn=>1/(1.5+Math.abs(pn)/20);if(ne==="y"){if(Xt.includes("top")||Xt.includes("bottom"))if(Xt.includes("top")&&$t<0||Xt.includes("bottom")&&$t>0)An.y=$t;else{const pn=$t*Cr($t);An.y=Math.abs(pn)<Math.abs($t)?pn:$t}}else if(ne==="x"&&(Xt.includes("left")||Xt.includes("right")))if(Xt.includes("left")&&Yt<0||Xt.includes("right")&&Yt>0)An.x=Yt;else{const pn=Yt*Cr(Yt);An.x=Math.abs(pn)<Math.abs(Yt)?pn:Yt}(Math.abs(An.x)>0||Math.abs(An.y)>0)&&xt(!0),(Ht=gt.current)==null||Ht.style.setProperty("--swipe-amount-x",`${An.x}px`),(fn=gt.current)==null||fn.style.setProperty("--swipe-amount-y",`${An.y}px`)}},ko&&!m.jsx&&on!=="loading"?ce.createElement("button",{"aria-label":H,"data-disabled":Tr,"data-close-button":!0,onClick:Tr||!Ir?()=>{}:()=>{Un(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Rs(pe?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Vo=me?.close)!=null?Vo:W9):null,(on||m.icon||m.promise)&&m.icon!==null&&(me?.[on]!==null||m.icon)?ce.createElement("div",{"data-icon":"",className:Rs(pe?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Wr():null,m.type!=="loading"?Gr:null):null,ce.createElement("div",{"data-content":"",className:Rs(pe?.content,m==null||(i=m.classNames)==null?void 0:i.content)},ce.createElement("div",{"data-title":"",className:Rs(pe?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ce.createElement("div",{"data-description":"",className:Rs(M,ds,pe?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),ce.isValidElement(m.cancel)?m.cancel:m.cancel&&cf(m.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:qe=>{cf(m.cancel)&&Ir&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,qe),Un())},className:Rs(pe?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,ce.isValidElement(m.action)?m.action:m.action&&cf(m.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:qe=>{cf(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,qe),!qe.defaultPrevented&&Un())},className:Rs(pe?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function $S(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function c$(n,e){const t={};return[n,e].forEach((r,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",u=i?n$:t$;function h(p){["top","right","bottom","left"].forEach(g=>{t[`${l}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=u:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(u)}),t}const u$=ce.forwardRef(function(e,t){const{id:r,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:h,className:p,offset:g,mobileOffset:m,theme:E="light",richColors:S,duration:k,style:C,visibleToasts:R=e$,toastOptions:V,dir:U=$S(),gap:z=s$,icons:q,containerAriaLabel:W="Notifications"}=e,[J,P]=ce.useState([]),I=ce.useMemo(()=>r?J.filter(oe=>oe.toasterId===r):J.filter(oe=>!oe.toasterId),[J,r]),A=ce.useMemo(()=>Array.from(new Set([i].concat(I.filter(oe=>oe.position).map(oe=>oe.position)))),[I,i]),[O,M]=ce.useState([]),[L,N]=ce.useState(!1),[de,Ve]=ce.useState(!1),[pe,me]=ce.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=ce.useRef(null),ne=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Y=ce.useRef(null),F=ce.useRef(!1),G=ce.useCallback(oe=>{P(ie=>{var fe;return(fe=ie.find(Te=>Te.id===oe.id))!=null&&fe.delete||rr.dismiss(oe.id),ie.filter(({id:Te})=>Te!==oe.id)})},[]);return ce.useEffect(()=>rr.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{P(ie=>ie.map(fe=>fe.id===oe.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{BI.flushSync(()=>{P(ie=>{const fe=ie.findIndex(Te=>Te.id===oe.id);return fe!==-1?[...ie.slice(0,fe),{...ie[fe],...oe},...ie.slice(fe+1)]:[oe,...ie]})})})}),[J]),ce.useEffect(()=>{if(E!=="system"){me(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?me("dark"):me("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:ie})=>{me(ie?"dark":"light")})}catch{oe.addListener(({matches:fe})=>{try{me(fe?"dark":"light")}catch(Te){console.error(Te)}})}},[E]),ce.useEffect(()=>{J.length<=1&&N(!1)},[J]),ce.useEffect(()=>{const oe=ie=>{var fe;if(l.every(Ie=>ie[Ie]||ie.code===Ie)){var we;N(!0),(we=H.current)==null||we.focus()}ie.code==="Escape"&&(document.activeElement===H.current||(fe=H.current)!=null&&fe.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[l]),ce.useEffect(()=>{if(H.current)return()=>{Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null,F.current=!1)}},[H.current]),ce.createElement("section",{ref:t,"aria-label":`${W} ${ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((oe,ie)=>{var fe;const[Te,we]=oe.split("-");return I.length?ce.createElement("ol",{key:oe,dir:U==="auto"?$S():U,tabIndex:-1,ref:H,className:p,"data-sonner-toaster":!0,"data-sonner-theme":pe,"data-y-position":Te,"data-x-position":we,style:{"--front-toast-height":`${((fe=O[0])==null?void 0:fe.height)||0}px`,"--width":`${r$}px`,"--gap":`${z}px`,...C,...c$(g,m)},onBlur:Ie=>{F.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(F.current=!1,Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||F.current||(F.current=!0,Y.current=Ie.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{de||N(!1)},onDragEnd:()=>N(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||Ve(!0)},onPointerUp:()=>Ve(!1)},I.filter(Ie=>!Ie.position&&ie===0||Ie.position===oe).map((Ie,Ge)=>{var Qe,ye;return ce.createElement(l$,{key:Ie.id,icons:q,index:Ge,toast:Ie,defaultRichColors:S,duration:(Qe=V?.duration)!=null?Qe:k,className:V?.className,descriptionClassName:V?.descriptionClassName,invert:s,visibleToasts:R,closeButton:(ye=V?.closeButton)!=null?ye:h,interacting:de,position:oe,style:V?.style,unstyled:V?.unstyled,classNames:V?.classNames,cancelButtonStyle:V?.cancelButtonStyle,actionButtonStyle:V?.actionButtonStyle,closeButtonAriaLabel:V?.closeButtonAriaLabel,removeToast:G,toasts:I.filter(xt=>xt.position==Ie.position),heights:O.filter(xt=>xt.position==Ie.position),setHeights:M,expandByDefault:u,gap:z,expanded:L,swipeDirections:e.swipeDirections})})):null}))}),BS=({...n})=>{const{theme:e="system"}=VR();return v.jsx(u$,{theme:e,className:"toaster group",position:"top-right",richColors:!0,closeButton:!0,duration:4e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",success:"group-[.toaster]:border-green-500/50 group-[.toaster]:bg-green-50 dark:group-[.toaster]:bg-green-950/30 group-[.toaster]:text-green-700 dark:group-[.toaster]:text-green-400",error:"group-[.toaster]:border-red-500/50 group-[.toaster]:bg-red-50 dark:group-[.toaster]:bg-red-950/30 group-[.toaster]:text-red-700 dark:group-[.toaster]:text-red-400",warning:"group-[.toaster]:border-yellow-500/50 group-[.toaster]:bg-yellow-50 dark:group-[.toaster]:bg-yellow-950/30 group-[.toaster]:text-yellow-700 dark:group-[.toaster]:text-yellow-400",info:"group-[.toaster]:border-blue-500/50 group-[.toaster]:bg-blue-50 dark:group-[.toaster]:bg-blue-950/30 group-[.toaster]:text-blue-700 dark:group-[.toaster]:text-blue-400"}},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function LR({className:n,...e}){return v.jsx("div",{"data-slot":"card",className:Be("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function jR({className:n,...e}){return v.jsx("div",{"data-slot":"card-header",className:Be("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function FR({className:n,...e}){return v.jsx("h4",{"data-slot":"card-title",className:Be("leading-none",n),...e})}function UR({className:n,...e}){return v.jsx("p",{"data-slot":"card-description",className:Be("text-muted-foreground",n),...e})}function zR({className:n,...e}){return v.jsx("div",{"data-slot":"card-content",className:Be("px-6 [&:last-child]:pb-6",n),...e})}class qS extends b.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t),this.props.onError?.(e,t),this.setState({errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:v.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-4",children:v.jsxs(LR,{className:"max-w-lg w-full",children:[v.jsxs(jR,{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(gD,{className:"h-6 w-6 text-red-500"}),v.jsx(FR,{children:"Something went wrong"})]}),v.jsx(UR,{children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."})]}),v.jsxs(zR,{className:"space-y-4",children:[this.state.error&&v.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-950 p-4",children:v.jsx("p",{className:"text-sm font-mono text-red-800 dark:text-red-200",children:this.state.error.message})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(Ia,{onClick:this.handleReset,className:"flex-1",children:[v.jsx(sD,{className:"h-4 w-4 mr-2"}),"Try Again"]}),v.jsx(Ia,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]}),!1]})]})}):this.props.children}}var d$="Label",$R=b.forwardRef((n,e)=>v.jsx(ht.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));$R.displayName=d$;var h$=$R;function Fl({className:n,...e}){return v.jsx(h$,{"data-slot":"label",className:Be("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}var pm="Checkbox",[f$]=Ws(pm),[p$,Iw]=f$(pm);function m$(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:h,required:p,value:g="on",internal_do_not_use_render:m}=n,[E,S]=wc({prop:t,defaultProp:s??!1,onChange:h,caller:pm}),[k,C]=b.useState(null),[R,V]=b.useState(null),U=b.useRef(!1),z=k?!!l||!!k.closest("form"):!0,q={checked:E,disabled:i,setChecked:S,control:k,setControl:C,name:u,form:l,value:g,hasConsumerStoppedPropagationRef:U,required:p,defaultChecked:Si(s)?!1:s,isFormControl:z,bubbleInput:R,setBubbleInput:V};return v.jsx(p$,{scope:e,...q,children:g$(m)?m(q):r})}var BR="CheckboxTrigger",qR=b.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:i,value:l,disabled:u,checked:h,required:p,setControl:g,setChecked:m,hasConsumerStoppedPropagationRef:E,isFormControl:S,bubbleInput:k}=Iw(BR,n),C=Et(s,g),R=b.useRef(h);return b.useEffect(()=>{const V=i?.form;if(V){const U=()=>m(R.current);return V.addEventListener("reset",U),()=>V.removeEventListener("reset",U)}},[i,m]),v.jsx(ht.button,{type:"button",role:"checkbox","aria-checked":Si(h)?"mixed":h,"aria-required":p,"data-state":QR(h),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:C,onKeyDown:je(e,V=>{V.key==="Enter"&&V.preventDefault()}),onClick:je(t,V=>{m(U=>Si(U)?!0:!U),k&&S&&(E.current=V.isPropagationStopped(),E.current||V.stopPropagation())})})});qR.displayName=BR;var HR=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h,onCheckedChange:p,form:g,...m}=n;return v.jsx(m$,{__scopeCheckbox:t,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:p,name:r,form:g,value:h,internal_do_not_use_render:({isFormControl:E})=>v.jsxs(v.Fragment,{children:[v.jsx(qR,{...m,ref:e,__scopeCheckbox:t}),E&&v.jsx(ZR,{__scopeCheckbox:t})]})})});HR.displayName=pm;var WR="CheckboxIndicator",GR=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,i=Iw(WR,t);return v.jsx(Gn,{present:r||Si(i.checked)||i.checked===!0,children:v.jsx(ht.span,{"data-state":QR(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});GR.displayName=WR;var KR="CheckboxBubbleInput",ZR=b.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:h,name:p,value:g,form:m,bubbleInput:E,setBubbleInput:S}=Iw(KR,n),k=Et(t,S),C=fC(i),R=n_(r);b.useEffect(()=>{const U=E;if(!U)return;const z=window.HTMLInputElement.prototype,W=Object.getOwnPropertyDescriptor(z,"checked").set,J=!s.current;if(C!==i&&W){const P=new Event("click",{bubbles:J});U.indeterminate=Si(i),W.call(U,Si(i)?!1:i),U.dispatchEvent(P)}},[E,C,i,s]);const V=b.useRef(Si(i)?!1:i);return v.jsx(ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??V.current,required:u,disabled:h,name:p,value:g,form:m,...e,tabIndex:-1,ref:k,style:{...e.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ZR.displayName=KR;function g$(n){return typeof n=="function"}function Si(n){return n==="indeterminate"}function QR(n){return Si(n)?"indeterminate":n?"checked":"unchecked"}function HS({className:n,...e}){return v.jsx(HR,{"data-slot":"checkbox",className:Be("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:v.jsx(GR,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:v.jsx(RI,{className:"size-3.5"})})})}function se(n,e,t){function r(u,h){var p;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(p=u._zod).traits??(p.traits=new Set),u._zod.traits.add(n),e(u,h);for(const g in l.prototype)g in u||Object.defineProperty(u,g,{value:l.prototype[g].bind(u)});u._zod.constr=l,u._zod.def=h}const s=t?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:n});function l(u){var h;const p=t?.Parent?new i:this;r(p,u),(h=p._zod).deferred??(h.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>t?.Parent&&u instanceof t.Parent?!0:u?._zod?.traits?.has(n)}),Object.defineProperty(l,"name",{value:n}),l}class Xl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class YR extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const XR={};function Fa(n){return XR}function y$(n){const e=Object.values(n).filter(r=>typeof r=="number");return Object.entries(n).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function Rv(n,e){return typeof e=="bigint"?e.toString():e}function Tw(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function Cw(n){return n==null}function Aw(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}function v$(n,e){const t=(n.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(s=Number.parseInt(h[1]))}const i=t>s?t:s,l=Number.parseInt(n.toFixed(i).replace(".","")),u=Number.parseInt(e.toFixed(i).replace(".",""));return l%u/10**i}const WS=Symbol("evaluating");function Ct(n,e,t){let r;Object.defineProperty(n,e,{get(){if(r!==WS)return r===void 0&&(r=WS,r=t()),r},set(s){Object.defineProperty(n,e,{value:s})},configurable:!0})}function Ha(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function Wa(...n){const e={};for(const t of n){const r=Object.getOwnPropertyDescriptors(t);Object.assign(e,r)}return Object.defineProperties({},e)}function GS(n){return JSON.stringify(n)}const JR="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function mp(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const _$=Tw(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function ud(n){if(mp(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(mp(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function ek(n){return ud(n)?{...n}:Array.isArray(n)?[...n]:n}const w$=new Set(["string","number","symbol"]);function mm(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Di(n,e,t){const r=new n._zod.constr(e??n._zod.def);return(!e||t?.parent)&&(r._zod.parent=n),r}function Fe(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function E$(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}const b$={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function x$(n,e){const t=n._zod.def,r=Wa(n._zod.def,{get shape(){const s={};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=t.shape[i])}return Ha(this,"shape",s),s},checks:[]});return Di(n,r)}function S$(n,e){const t=n._zod.def,r=Wa(n._zod.def,{get shape(){const s={...n._zod.def.shape};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return Ha(this,"shape",s),s},checks:[]});return Di(n,r)}function I$(n,e){if(!ud(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Wa(n._zod.def,{get shape(){const i={...n._zod.def.shape,...e};return Ha(this,"shape",i),i},checks:[]});return Di(n,s)}function T$(n,e){if(!ud(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const r={...n._zod.def.shape,...e};return Ha(this,"shape",r),r},checks:n._zod.def.checks};return Di(n,t)}function C$(n,e){const t=Wa(n._zod.def,{get shape(){const r={...n._zod.def.shape,...e._zod.def.shape};return Ha(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Di(n,t)}function A$(n,e,t){const r=Wa(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=n?new n({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)i[l]=n?new n({type:"optional",innerType:s[l]}):s[l];return Ha(this,"shape",i),i},checks:[]});return Di(e,r)}function P$(n,e,t){const r=Wa(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=new n({type:"nonoptional",innerType:s[l]}))}else for(const l in s)i[l]=new n({type:"nonoptional",innerType:s[l]});return Ha(this,"shape",i),i},checks:[]});return Di(e,r)}function Hl(n,e=0){if(n.aborted===!0)return!0;for(let t=e;t<n.issues.length;t++)if(n.issues[t]?.continue!==!0)return!0;return!1}function tk(n,e){return e.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(n),t})}function uf(n){return typeof n=="string"?n:n?.message}function Ua(n,e,t){const r={...n,path:n.path??[]};if(!n.message){const s=uf(n.inst?._zod.def?.error?.(n))??uf(e?.error?.(n))??uf(t.customError?.(n))??uf(t.localeError?.(n))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Pw(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function dd(...n){const[e,t,r]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:r}:{...e}}const nk=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,Rv,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},rk=se("$ZodError",nk),sk=se("$ZodError",nk,{Parent:Error});function R$(n,e=t=>t.message){const t={},r=[];for(const s of n.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}function k$(n,e=t=>t.message){const t={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>r({issues:l}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)t._errors.push(e(i));else{let l=t,u=0;for(;u<i.path.length;){const h=i.path[u];u===i.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(e(i))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return r(n),t}const Rw=n=>(e,t,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise)throw new Xl;if(l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>Ua(h,i,Fa())));throw JR(u,s?.callee),u}return l.value},kw=n=>async(e,t,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>Ua(h,i,Fa())));throw JR(u,s?.callee),u}return l.value},gm=n=>(e,t,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:t,issues:[]},s);if(i instanceof Promise)throw new Xl;return i.issues.length?{success:!1,error:new(n??rk)(i.issues.map(l=>Ua(l,s,Fa())))}:{success:!0,data:i.value}},N$=gm(sk),ym=n=>async(e,t,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:t,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new n(i.issues.map(l=>Ua(l,s,Fa())))}:{success:!0,data:i.value}},D$=ym(sk),O$=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Rw(n)(e,t,s)},M$=n=>(e,t,r)=>Rw(n)(e,t,r),V$=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return kw(n)(e,t,s)},L$=n=>async(e,t,r)=>kw(n)(e,t,r),j$=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return gm(n)(e,t,s)},F$=n=>(e,t,r)=>gm(n)(e,t,r),U$=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ym(n)(e,t,s)},z$=n=>async(e,t,r)=>ym(n)(e,t,r),$$=/^[cC][^\s-]{8,}$/,B$=/^[0-9a-z]+$/,q$=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,H$=/^[0-9a-vA-V]{20}$/,W$=/^[A-Za-z0-9]{27}$/,G$=/^[a-zA-Z0-9_-]{21}$/,K$=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Z$=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,KS=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Q$=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Y$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function X$(){return new RegExp(Y$,"u")}const J$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,tB=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,nB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rB=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ok=/^[A-Za-z0-9_-]*$/,sB=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,oB=/^\+(?:[0-9]){6,14}[0-9]$/,ik="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",iB=new RegExp(`^${ik}$`);function ak(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function aB(n){return new RegExp(`^${ak(n)}$`)}function lB(n){const e=ak({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${t.join("|")})`;return new RegExp(`^${ik}T(?:${r})$`)}const cB=n=>{const e=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},uB=/^-?\d+$/,dB=/^-?\d+(?:\.\d+)?/,hB=/^(?:true|false)$/i,fB=/^[^A-Z]*$/,pB=/^[^a-z]*$/,or=se("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),lk={number:"number",bigint:"bigint",object:"date"},ck=se("$ZodCheckLessThan",(n,e)=>{or.init(n,e);const t=lk[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:t,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),uk=se("$ZodCheckGreaterThan",(n,e)=>{or.init(n,e);const t=lk[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:t,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),mB=se("$ZodCheckMultipleOf",(n,e)=>{or.init(n,e),n._zod.onattach.push(t=>{var r;(r=t._zod.bag).multipleOf??(r.multipleOf=e.value)}),n._zod.check=t=>{if(typeof t.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%e.value===BigInt(0):v$(t.value,e.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:e.value,input:t.value,inst:n,continue:!e.abort})}}),gB=se("$ZodCheckNumberFormat",(n,e)=>{or.init(n,e),e.format=e.format||"float64";const t=e.format?.includes("int"),r=t?"int":"number",[s,i]=b$[e.format];n._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=s,u.maximum=i,t&&(u.pattern=uB)}),n._zod.check=l=>{const u=l.value;if(t){if(!Number.isInteger(u)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:u,inst:n});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort});return}}u<s&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:n,continue:!e.abort}),u>i&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:n})}}),yB=se("$ZodCheckMaxLength",(n,e)=>{var t;or.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!Cw(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),n._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const l=Pw(s);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),vB=se("$ZodCheckMinLength",(n,e)=>{var t;or.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!Cw(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),n._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const l=Pw(s);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),_B=se("$ZodCheckLengthEquals",(n,e)=>{var t;or.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!Cw(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),n._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const l=Pw(s),u=i>e.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:n,continue:!e.abort})}}),vm=se("$ZodCheckStringFormat",(n,e)=>{var t,r;or.init(n,e),n._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(r=n._zod).check??(r.check=()=>{})}),wB=se("$ZodCheckRegex",(n,e)=>{vm.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),EB=se("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=fB),vm.init(n,e)}),bB=se("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=pB),vm.init(n,e)}),xB=se("$ZodCheckIncludes",(n,e)=>{or.init(n,e);const t=mm(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=r,n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),n._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:n,continue:!e.abort})}}),SB=se("$ZodCheckStartsWith",(n,e)=>{or.init(n,e);const t=new RegExp(`^${mm(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:n,continue:!e.abort})}}),IB=se("$ZodCheckEndsWith",(n,e)=>{or.init(n,e);const t=new RegExp(`.*${mm(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:n,continue:!e.abort})}}),TB=se("$ZodCheckOverwrite",(n,e)=>{or.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class CB{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),s=Math.min(...r.map(l=>l.length-l.trimStart().length)),i=r.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const e=Function,t=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...t,s.join(`
`))}}const AB={major:4,minor:1,patch:12},Qt=se("$ZodType",(n,e)=>{var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=AB;const r=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&r.unshift(n);for(const s of r)for(const i of s._zod.onattach)i(n);if(r.length===0)(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const s=(l,u,h)=>{let p=Hl(l),g;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(p)continue;const E=l.issues.length,S=m._zod.check(l);if(S instanceof Promise&&h?.async===!1)throw new Xl;if(g||S instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await S,l.issues.length!==E&&(p||(p=Hl(l,E)))});else{if(l.issues.length===E)continue;p||(p=Hl(l,E))}}return g?g.then(()=>l):l},i=(l,u,h)=>{if(Hl(l))return l.aborted=!0,l;const p=s(u,r,h);if(p instanceof Promise){if(h.async===!1)throw new Xl;return p.then(g=>n._zod.parse(g,h))}return n._zod.parse(p,h)};n._zod.run=(l,u)=>{if(u.skipChecks)return n._zod.parse(l,u);if(u.direction==="backward"){const p=n._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return p instanceof Promise?p.then(g=>i(g,l,u)):i(p,l,u)}const h=n._zod.parse(l,u);if(h instanceof Promise){if(u.async===!1)throw new Xl;return h.then(p=>s(p,r,u))}return s(h,r,u)}}n["~standard"]={validate:s=>{try{const i=N$(n,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return D$(n,s).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),Nw=se("$ZodString",(n,e)=>{Qt.init(n,e),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??cB(n._zod.bag),n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:n}),t}}),Mt=se("$ZodStringFormat",(n,e)=>{vm.init(n,e),Nw.init(n,e)}),PB=se("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=Z$),Mt.init(n,e)}),RB=se("$ZodUUID",(n,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=KS(r))}else e.pattern??(e.pattern=KS());Mt.init(n,e)}),kB=se("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=Q$),Mt.init(n,e)}),NB=se("$ZodURL",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{try{const r=t.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:sB.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=s.href:t.value=r;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),DB=se("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=X$()),Mt.init(n,e)}),OB=se("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=G$),Mt.init(n,e)}),MB=se("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=$$),Mt.init(n,e)}),VB=se("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=B$),Mt.init(n,e)}),LB=se("$ZodULID",(n,e)=>{e.pattern??(e.pattern=q$),Mt.init(n,e)}),jB=se("$ZodXID",(n,e)=>{e.pattern??(e.pattern=H$),Mt.init(n,e)}),FB=se("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=W$),Mt.init(n,e)}),UB=se("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=lB(e)),Mt.init(n,e)}),zB=se("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=iB),Mt.init(n,e)}),$B=se("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=aB(e)),Mt.init(n,e)}),BB=se("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=K$),Mt.init(n,e)}),qB=se("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=J$),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv4"})}),HB=se("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=eB),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),WB=se("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=tB),Mt.init(n,e)}),GB=se("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=nB),Mt.init(n,e),n._zod.check=t=>{const r=t.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const l=Number(i);if(`${l}`!==i)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${s}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function dk(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const KB=se("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=rB),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{dk(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function ZB(n){if(!ok.test(n))return!1;const e=n.replace(/[-_]/g,r=>r==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return dk(t)}const QB=se("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=ok),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{ZB(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),YB=se("$ZodE164",(n,e)=>{e.pattern??(e.pattern=oB),Mt.init(n,e)});function XB(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[r]=t;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const JB=se("$ZodJWT",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{XB(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),hk=se("$ZodNumber",(n,e)=>{Qt.init(n,e),n._zod.pattern=n._zod.bag.pattern??dB,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=Number(t.value)}catch{}const s=t.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return t;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:s,inst:n,...i?{received:i}:{}}),t}}),e8=se("$ZodNumber",(n,e)=>{gB.init(n,e),hk.init(n,e)}),t8=se("$ZodBoolean",(n,e)=>{Qt.init(n,e),n._zod.pattern=hB,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=!!t.value}catch{}const s=t.value;return typeof s=="boolean"||t.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:n}),t}}),n8=se("$ZodUnknown",(n,e)=>{Qt.init(n,e),n._zod.parse=t=>t}),r8=se("$ZodNever",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)});function ZS(n,e,t){n.issues.length&&e.issues.push(...tk(t,n.issues)),e.value[t]=n.value}const s8=se("$ZodArray",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value;if(!Array.isArray(s))return t.issues.push({expected:"array",code:"invalid_type",input:s,inst:n}),t;t.value=Array(s.length);const i=[];for(let l=0;l<s.length;l++){const u=s[l],h=e.element._zod.run({value:u,issues:[]},r);h instanceof Promise?i.push(h.then(p=>ZS(p,t,l))):ZS(h,t,l)}return i.length?Promise.all(i).then(()=>t):t}});function gp(n,e,t,r){n.issues.length&&e.issues.push(...tk(t,n.issues)),n.value===void 0?t in r&&(e.value[t]=void 0):e.value[t]=n.value}function fk(n){const e=Object.keys(n.shape);for(const r of e)if(!n.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const t=E$(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function pk(n,e,t,r,s,i){const l=[],u=s.keySet,h=s.catchall._zod,p=h.def.type;for(const g of Object.keys(e)){if(u.has(g))continue;if(p==="never"){l.push(g);continue}const m=h.run({value:e[g],issues:[]},r);m instanceof Promise?n.push(m.then(E=>gp(E,t,g,e))):gp(m,t,g,e)}return l.length&&t.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:i}),n.length?Promise.all(n).then(()=>t):t}const o8=se("$ZodObject",(n,e)=>{if(Qt.init(n,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const u=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...u};return Object.defineProperty(e,"shape",{value:h}),h}})}const r=Tw(()=>fk(e));Ct(n._zod,"propValues",()=>{const u=e.shape,h={};for(const p in u){const g=u[p]._zod;if(g.values){h[p]??(h[p]=new Set);for(const m of g.values)h[p].add(m)}}return h});const s=mp,i=e.catchall;let l;n._zod.parse=(u,h)=>{l??(l=r.value);const p=u.value;if(!s(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:n}),u;u.value={};const g=[],m=l.shape;for(const E of l.keys){const k=m[E]._zod.run({value:p[E],issues:[]},h);k instanceof Promise?g.push(k.then(C=>gp(C,u,E,p))):gp(k,u,E,p)}return i?pk(g,p,u,h,r.value,n):g.length?Promise.all(g).then(()=>u):u}}),i8=se("$ZodObjectJIT",(n,e)=>{o8.init(n,e);const t=n._zod.parse,r=Tw(()=>fk(e)),s=E=>{const S=new CB(["shape","payload","ctx"]),k=r.value,C=z=>{const q=GS(z);return`shape[${q}]._zod.run({ value: input[${q}], issues: [] }, ctx)`};S.write("const input = payload.value;");const R=Object.create(null);let V=0;for(const z of k.keys)R[z]=`key_${V++}`;S.write("const newResult = {};");for(const z of k.keys){const q=R[z],W=GS(z);S.write(`const ${q} = ${C(z)};`),S.write(`
        if (${q}.issues.length) {
          payload.issues = payload.issues.concat(${q}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${W}, ...iss.path] : [${W}]
          })));
        }
        
        
        if (${q}.value === undefined) {
          if (${W} in input) {
            newResult[${W}] = undefined;
          }
        } else {
          newResult[${W}] = ${q}.value;
        }
        
      `)}S.write("payload.value = newResult;"),S.write("return payload;");const U=S.compile();return(z,q)=>U(E,z,q)};let i;const l=mp,u=!XR.jitless,p=u&&_$.value,g=e.catchall;let m;n._zod.parse=(E,S)=>{m??(m=r.value);const k=E.value;return l(k)?u&&p&&S?.async===!1&&S.jitless!==!0?(i||(i=s(e.shape)),E=i(E,S),g?pk([],k,E,S,m,n):E):t(E,S):(E.issues.push({expected:"object",code:"invalid_type",input:k,inst:n}),E)}});function QS(n,e,t,r){for(const i of n)if(i.issues.length===0)return e.value=i.value,e;const s=n.filter(i=>!Hl(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(i=>i.issues.map(l=>Ua(l,r,Fa())))}),e)}const a8=se("$ZodUnion",(n,e)=>{Qt.init(n,e),Ct(n._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Ct(n._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Ct(n._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Ct(n._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>Aw(i.source)).join("|")})$`)}});const t=e.options.length===1,r=e.options[0]._zod.run;n._zod.parse=(s,i)=>{if(t)return r(s,i);let l=!1;const u=[];for(const h of e.options){const p=h._zod.run({value:s.value,issues:[]},i);if(p instanceof Promise)u.push(p),l=!0;else{if(p.issues.length===0)return p;u.push(p)}}return l?Promise.all(u).then(h=>QS(h,s,n,i)):QS(u,s,n,i)}}),l8=se("$ZodIntersection",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value,i=e.left._zod.run({value:s,issues:[]},r),l=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([h,p])=>YS(t,h,p)):YS(t,i,l)}});function kv(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(ud(n)&&ud(e)){const t=Object.keys(e),r=Object.keys(n).filter(i=>t.indexOf(i)!==-1),s={...n,...e};for(const i of r){const l=kv(n[i],e[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};s[i]=l.data}return{valid:!0,data:s}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let r=0;r<n.length;r++){const s=n[r],i=e[r],l=kv(s,i);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};t.push(l.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function YS(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),Hl(n))return n;const r=kv(e.value,t.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return n.value=r.data,n}const c8=se("$ZodEnum",(n,e)=>{Qt.init(n,e);const t=y$(e.entries),r=new Set(t);n._zod.values=r,n._zod.pattern=new RegExp(`^(${t.filter(s=>w$.has(typeof s)).map(s=>typeof s=="string"?mm(s):s.toString()).join("|")})$`),n._zod.parse=(s,i)=>{const l=s.value;return r.has(l)||s.issues.push({code:"invalid_value",values:t,input:l,inst:n}),s}}),u8=se("$ZodTransform",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new YR(n.constructor.name);const s=e.transform(t.value,t);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(t.value=l,t));if(s instanceof Promise)throw new Xl;return t.value=s,t}});function XS(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const d8=se("$ZodOptional",(n,e)=>{Qt.init(n,e),n._zod.optin="optional",n._zod.optout="optional",Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${Aw(t.source)})?$`):void 0}),n._zod.parse=(t,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>XS(i,t.value)):XS(s,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,r)}}),h8=se("$ZodNullable",(n,e)=>{Qt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${Aw(t.source)}|null)$`):void 0}),Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,r)=>t.value===null?t:e.innerType._zod.run(t,r)}),f8=se("$ZodDefault",(n,e)=>{Qt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);if(t.value===void 0)return t.value=e.defaultValue,t;const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>JS(i,e)):JS(s,e)}});function JS(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const p8=se("$ZodPrefault",(n,e)=>{Qt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>(r.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,r))}),m8=se("$ZodNonOptional",(n,e)=>{Qt.init(n,e),Ct(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(r=>r!==void 0)):void 0}),n._zod.parse=(t,r)=>{const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>eI(i,n)):eI(s,n)}});function eI(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const g8=se("$ZodCatch",(n,e)=>{Qt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(l=>Ua(l,r,Fa()))},input:t.value}),t.issues=[]),t)):(t.value=s.value,s.issues.length&&(t.value=e.catchValue({...t,error:{issues:s.issues.map(i=>Ua(i,r,Fa()))},input:t.value}),t.issues=[]),t)}}),y8=se("$ZodPipe",(n,e)=>{Qt.init(n,e),Ct(n._zod,"values",()=>e.in._zod.values),Ct(n._zod,"optin",()=>e.in._zod.optin),Ct(n._zod,"optout",()=>e.out._zod.optout),Ct(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(t,r);return i instanceof Promise?i.then(l=>df(l,e.in,r)):df(i,e.in,r)}const s=e.in._zod.run(t,r);return s instanceof Promise?s.then(i=>df(i,e.out,r)):df(s,e.out,r)}});function df(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const v8=se("$ZodReadonly",(n,e)=>{Qt.init(n,e),Ct(n._zod,"propValues",()=>e.innerType._zod.propValues),Ct(n._zod,"values",()=>e.innerType._zod.values),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(tI):tI(s)}});function tI(n){return n.value=Object.freeze(n.value),n}const _8=se("$ZodCustom",(n,e)=>{or.init(n,e),Qt.init(n,e),n._zod.parse=(t,r)=>t,n._zod.check=t=>{const r=t.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>nI(i,t,r,n));nI(s,t,r,n)}});function nI(n,e,t,r){if(!n){const s={code:"custom",input:t,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(dd(s))}}class w8{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const r=t[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function E8(){return new w8}const hf=E8();function b8(n,e){return new n({type:"string",...Fe(e)})}function x8(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Fe(e)})}function rI(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(e)})}function S8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(e)})}function I8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(e)})}function T8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(e)})}function C8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(e)})}function A8(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Fe(e)})}function P8(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(e)})}function R8(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(e)})}function k8(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(e)})}function N8(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(e)})}function D8(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(e)})}function O8(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(e)})}function M8(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(e)})}function V8(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(e)})}function L8(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(e)})}function j8(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(e)})}function F8(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(e)})}function U8(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(e)})}function z8(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(e)})}function $8(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(e)})}function B8(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(e)})}function q8(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(e)})}function H8(n,e){return new n({type:"string",format:"date",check:"string_format",...Fe(e)})}function W8(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...Fe(e)})}function G8(n,e){return new n({type:"string",format:"duration",check:"string_format",...Fe(e)})}function K8(n,e){return new n({type:"number",checks:[],...Fe(e)})}function Z8(n,e){return new n({type:"number",coerce:!0,checks:[],...Fe(e)})}function Q8(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Fe(e)})}function Y8(n,e){return new n({type:"boolean",...Fe(e)})}function X8(n){return new n({type:"unknown"})}function J8(n,e){return new n({type:"never",...Fe(e)})}function sI(n,e){return new ck({check:"less_than",...Fe(e),value:n,inclusive:!1})}function Ay(n,e){return new ck({check:"less_than",...Fe(e),value:n,inclusive:!0})}function oI(n,e){return new uk({check:"greater_than",...Fe(e),value:n,inclusive:!1})}function Py(n,e){return new uk({check:"greater_than",...Fe(e),value:n,inclusive:!0})}function iI(n,e){return new mB({check:"multiple_of",...Fe(e),value:n})}function mk(n,e){return new yB({check:"max_length",...Fe(e),maximum:n})}function yp(n,e){return new vB({check:"min_length",...Fe(e),minimum:n})}function gk(n,e){return new _B({check:"length_equals",...Fe(e),length:n})}function e7(n,e){return new wB({check:"string_format",format:"regex",...Fe(e),pattern:n})}function t7(n){return new EB({check:"string_format",format:"lowercase",...Fe(n)})}function n7(n){return new bB({check:"string_format",format:"uppercase",...Fe(n)})}function r7(n,e){return new xB({check:"string_format",format:"includes",...Fe(e),includes:n})}function s7(n,e){return new SB({check:"string_format",format:"starts_with",...Fe(e),prefix:n})}function o7(n,e){return new IB({check:"string_format",format:"ends_with",...Fe(e),suffix:n})}function Vd(n){return new TB({check:"overwrite",tx:n})}function i7(n){return Vd(e=>e.normalize(n))}function a7(){return Vd(n=>n.trim())}function l7(){return Vd(n=>n.toLowerCase())}function c7(){return Vd(n=>n.toUpperCase())}function u7(n,e,t){return new n({type:"array",element:e,...Fe(t)})}function d7(n,e,t){return new n({type:"custom",check:"custom",fn:e,...Fe(t)})}function h7(n){const e=f7(t=>(t.addIssue=r=>{if(typeof r=="string")t.issues.push(dd(r,t.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=t.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),t.issues.push(dd(s))}},n(t.value,t)));return e}function f7(n,e){const t=new or({check:"custom",...Fe(e)});return t._zod.check=n,t}const p7=se("ZodISODateTime",(n,e)=>{UB.init(n,e),zt.init(n,e)});function m7(n){return q8(p7,n)}const g7=se("ZodISODate",(n,e)=>{zB.init(n,e),zt.init(n,e)});function y7(n){return H8(g7,n)}const v7=se("ZodISOTime",(n,e)=>{$B.init(n,e),zt.init(n,e)});function _7(n){return W8(v7,n)}const w7=se("ZodISODuration",(n,e)=>{BB.init(n,e),zt.init(n,e)});function E7(n){return G8(w7,n)}const b7=(n,e)=>{rk.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>k$(n,t)},flatten:{value:t=>R$(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,Rv,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,Rv,2)}},isEmpty:{get(){return n.issues.length===0}}})},zr=se("ZodError",b7,{Parent:Error}),x7=Rw(zr),S7=kw(zr),I7=gm(zr),T7=ym(zr),C7=O$(zr),A7=M$(zr),P7=V$(zr),R7=L$(zr),k7=j$(zr),N7=F$(zr),D7=U$(zr),O7=z$(zr),sn=se("ZodType",(n,e)=>(Qt.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone(Wa(e,{checks:[...e.checks??[],...t.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),n.clone=(t,r)=>Di(n,t,r),n.brand=()=>n,n.register=((t,r)=>(t.add(n,r),n)),n.parse=(t,r)=>x7(n,t,r,{callee:n.parse}),n.safeParse=(t,r)=>I7(n,t,r),n.parseAsync=async(t,r)=>S7(n,t,r,{callee:n.parseAsync}),n.safeParseAsync=async(t,r)=>T7(n,t,r),n.spa=n.safeParseAsync,n.encode=(t,r)=>C7(n,t,r),n.decode=(t,r)=>A7(n,t,r),n.encodeAsync=async(t,r)=>P7(n,t,r),n.decodeAsync=async(t,r)=>R7(n,t,r),n.safeEncode=(t,r)=>k7(n,t,r),n.safeDecode=(t,r)=>N7(n,t,r),n.safeEncodeAsync=async(t,r)=>D7(n,t,r),n.safeDecodeAsync=async(t,r)=>O7(n,t,r),n.refine=(t,r)=>n.check(Iq(t,r)),n.superRefine=t=>n.check(Tq(t)),n.overwrite=t=>n.check(Vd(t)),n.optional=()=>uI(n),n.nullable=()=>dI(n),n.nullish=()=>uI(dI(n)),n.nonoptional=t=>vq(n,t),n.array=()=>vk(n),n.or=t=>lq([n,t]),n.and=t=>uq(n,t),n.transform=t=>hI(n,hq(t)),n.default=t=>mq(n,t),n.prefault=t=>yq(n,t),n.catch=t=>wq(n,t),n.pipe=t=>hI(n,t),n.readonly=()=>xq(n),n.describe=t=>{const r=n.clone();return hf.add(r,{description:t}),r},Object.defineProperty(n,"description",{get(){return hf.get(n)?.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return hf.get(n);const r=n.clone();return hf.add(r,t[0]),r},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),yk=se("_ZodString",(n,e)=>{Nw.init(n,e),sn.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...r)=>n.check(e7(...r)),n.includes=(...r)=>n.check(r7(...r)),n.startsWith=(...r)=>n.check(s7(...r)),n.endsWith=(...r)=>n.check(o7(...r)),n.min=(...r)=>n.check(yp(...r)),n.max=(...r)=>n.check(mk(...r)),n.length=(...r)=>n.check(gk(...r)),n.nonempty=(...r)=>n.check(yp(1,...r)),n.lowercase=r=>n.check(t7(r)),n.uppercase=r=>n.check(n7(r)),n.trim=()=>n.check(a7()),n.normalize=(...r)=>n.check(i7(...r)),n.toLowerCase=()=>n.check(l7()),n.toUpperCase=()=>n.check(c7())}),M7=se("ZodString",(n,e)=>{Nw.init(n,e),yk.init(n,e),n.email=t=>n.check(x8(V7,t)),n.url=t=>n.check(A8(L7,t)),n.jwt=t=>n.check(B8(X7,t)),n.emoji=t=>n.check(P8(j7,t)),n.guid=t=>n.check(rI(aI,t)),n.uuid=t=>n.check(S8(ff,t)),n.uuidv4=t=>n.check(I8(ff,t)),n.uuidv6=t=>n.check(T8(ff,t)),n.uuidv7=t=>n.check(C8(ff,t)),n.nanoid=t=>n.check(R8(F7,t)),n.guid=t=>n.check(rI(aI,t)),n.cuid=t=>n.check(k8(U7,t)),n.cuid2=t=>n.check(N8(z7,t)),n.ulid=t=>n.check(D8($7,t)),n.base64=t=>n.check(U8(Z7,t)),n.base64url=t=>n.check(z8(Q7,t)),n.xid=t=>n.check(O8(B7,t)),n.ksuid=t=>n.check(M8(q7,t)),n.ipv4=t=>n.check(V8(H7,t)),n.ipv6=t=>n.check(L8(W7,t)),n.cidrv4=t=>n.check(j8(G7,t)),n.cidrv6=t=>n.check(F8(K7,t)),n.e164=t=>n.check($8(Y7,t)),n.datetime=t=>n.check(m7(t)),n.date=t=>n.check(y7(t)),n.time=t=>n.check(_7(t)),n.duration=t=>n.check(E7(t))});function at(n){return b8(M7,n)}const zt=se("ZodStringFormat",(n,e)=>{Mt.init(n,e),yk.init(n,e)}),V7=se("ZodEmail",(n,e)=>{kB.init(n,e),zt.init(n,e)}),aI=se("ZodGUID",(n,e)=>{PB.init(n,e),zt.init(n,e)}),ff=se("ZodUUID",(n,e)=>{RB.init(n,e),zt.init(n,e)}),L7=se("ZodURL",(n,e)=>{NB.init(n,e),zt.init(n,e)}),j7=se("ZodEmoji",(n,e)=>{DB.init(n,e),zt.init(n,e)}),F7=se("ZodNanoID",(n,e)=>{OB.init(n,e),zt.init(n,e)}),U7=se("ZodCUID",(n,e)=>{MB.init(n,e),zt.init(n,e)}),z7=se("ZodCUID2",(n,e)=>{VB.init(n,e),zt.init(n,e)}),$7=se("ZodULID",(n,e)=>{LB.init(n,e),zt.init(n,e)}),B7=se("ZodXID",(n,e)=>{jB.init(n,e),zt.init(n,e)}),q7=se("ZodKSUID",(n,e)=>{FB.init(n,e),zt.init(n,e)}),H7=se("ZodIPv4",(n,e)=>{qB.init(n,e),zt.init(n,e)}),W7=se("ZodIPv6",(n,e)=>{HB.init(n,e),zt.init(n,e)}),G7=se("ZodCIDRv4",(n,e)=>{WB.init(n,e),zt.init(n,e)}),K7=se("ZodCIDRv6",(n,e)=>{GB.init(n,e),zt.init(n,e)}),Z7=se("ZodBase64",(n,e)=>{KB.init(n,e),zt.init(n,e)}),Q7=se("ZodBase64URL",(n,e)=>{QB.init(n,e),zt.init(n,e)}),Y7=se("ZodE164",(n,e)=>{YB.init(n,e),zt.init(n,e)}),X7=se("ZodJWT",(n,e)=>{JB.init(n,e),zt.init(n,e)}),Dw=se("ZodNumber",(n,e)=>{hk.init(n,e),sn.init(n,e),n.gt=(r,s)=>n.check(oI(r,s)),n.gte=(r,s)=>n.check(Py(r,s)),n.min=(r,s)=>n.check(Py(r,s)),n.lt=(r,s)=>n.check(sI(r,s)),n.lte=(r,s)=>n.check(Ay(r,s)),n.max=(r,s)=>n.check(Ay(r,s)),n.int=r=>n.check(lI(r)),n.safe=r=>n.check(lI(r)),n.positive=r=>n.check(oI(0,r)),n.nonnegative=r=>n.check(Py(0,r)),n.negative=r=>n.check(sI(0,r)),n.nonpositive=r=>n.check(Ay(0,r)),n.multipleOf=(r,s)=>n.check(iI(r,s)),n.step=(r,s)=>n.check(iI(r,s)),n.finite=()=>n;const t=n._zod.bag;n.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),n.isFinite=!0,n.format=t.format??null});function Ry(n){return K8(Dw,n)}const J7=se("ZodNumberFormat",(n,e)=>{e8.init(n,e),Dw.init(n,e)});function lI(n){return Q8(J7,n)}const eq=se("ZodBoolean",(n,e)=>{t8.init(n,e),sn.init(n,e)});function tq(n){return Y8(eq,n)}const nq=se("ZodUnknown",(n,e)=>{n8.init(n,e),sn.init(n,e)});function cI(){return X8(nq)}const rq=se("ZodNever",(n,e)=>{r8.init(n,e),sn.init(n,e)});function sq(n){return J8(rq,n)}const oq=se("ZodArray",(n,e)=>{s8.init(n,e),sn.init(n,e),n.element=e.element,n.min=(t,r)=>n.check(yp(t,r)),n.nonempty=t=>n.check(yp(1,t)),n.max=(t,r)=>n.check(mk(t,r)),n.length=(t,r)=>n.check(gk(t,r)),n.unwrap=()=>n.element});function vk(n,e){return u7(oq,n,e)}const iq=se("ZodObject",(n,e)=>{i8.init(n,e),sn.init(n,e),Ct(n,"shape",()=>e.shape),n.keyof=()=>Ow(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:cI()}),n.loose=()=>n.clone({...n._zod.def,catchall:cI()}),n.strict=()=>n.clone({...n._zod.def,catchall:sq()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>I$(n,t),n.safeExtend=t=>T$(n,t),n.merge=t=>C$(n,t),n.pick=t=>x$(n,t),n.omit=t=>S$(n,t),n.partial=(...t)=>A$(_k,n,t[0]),n.required=(...t)=>P$(wk,n,t[0])});function Oi(n,e){const t={type:"object",shape:n??{},...Fe(e)};return new iq(t)}const aq=se("ZodUnion",(n,e)=>{a8.init(n,e),sn.init(n,e),n.options=e.options});function lq(n,e){return new aq({type:"union",options:n,...Fe(e)})}const cq=se("ZodIntersection",(n,e)=>{l8.init(n,e),sn.init(n,e)});function uq(n,e){return new cq({type:"intersection",left:n,right:e})}const Nv=se("ZodEnum",(n,e)=>{c8.init(n,e),sn.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(r,s)=>{const i={};for(const l of r)if(t.has(l))i[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Nv({...e,checks:[],...Fe(s),entries:i})},n.exclude=(r,s)=>{const i={...e.entries};for(const l of r)if(t.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new Nv({...e,checks:[],...Fe(s),entries:i})}});function Ow(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(r=>[r,r])):n;return new Nv({type:"enum",entries:t,...Fe(e)})}const dq=se("ZodTransform",(n,e)=>{u8.init(n,e),sn.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new YR(n.constructor.name);t.addIssue=i=>{if(typeof i=="string")t.issues.push(dd(i,t.value,e));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=t.value),l.inst??(l.inst=n),t.issues.push(dd(l))}};const s=e.transform(t.value,t);return s instanceof Promise?s.then(i=>(t.value=i,t)):(t.value=s,t)}});function hq(n){return new dq({type:"transform",transform:n})}const _k=se("ZodOptional",(n,e)=>{d8.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function uI(n){return new _k({type:"optional",innerType:n})}const fq=se("ZodNullable",(n,e)=>{h8.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function dI(n){return new fq({type:"nullable",innerType:n})}const pq=se("ZodDefault",(n,e)=>{f8.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function mq(n,e){return new pq({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():ek(e)}})}const gq=se("ZodPrefault",(n,e)=>{p8.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function yq(n,e){return new gq({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():ek(e)}})}const wk=se("ZodNonOptional",(n,e)=>{m8.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function vq(n,e){return new wk({type:"nonoptional",innerType:n,...Fe(e)})}const _q=se("ZodCatch",(n,e)=>{g8.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function wq(n,e){return new _q({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const Eq=se("ZodPipe",(n,e)=>{y8.init(n,e),sn.init(n,e),n.in=e.in,n.out=e.out});function hI(n,e){return new Eq({type:"pipe",in:n,out:e})}const bq=se("ZodReadonly",(n,e)=>{v8.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function xq(n){return new bq({type:"readonly",innerType:n})}const Sq=se("ZodCustom",(n,e)=>{_8.init(n,e),sn.init(n,e)});function Iq(n,e={}){return d7(Sq,n,e)}function Tq(n){return h7(n)}function yi(n){return Z8(Dw,n)}const Ek=8,Dv=`Password must be at least ${Ek} characters`,bk=at().min(1,"Password is required").min(Ek,Dv),fI=Oi({email:at().min(1,"Email is required").email("Please enter a valid email address"),password:at().min(1,"Password is required")}),pI=Oi({name:at().min(1,"Name is required").min(2,"Name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),password:bk,confirmPassword:at().min(1,"Please confirm your password")}).refine(n=>n.password===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});Oi({currentPassword:at().min(1,"Current password is required"),newPassword:bk,confirmPassword:at().min(1,"Please confirm your new password")}).refine(n=>n.newPassword===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});const XH=Oi({name:at().min(1,"Item name is required").min(3,"Item name must be at least 3 characters").max(100,"Item name must be less than 100 characters"),category:at().min(1,"Category is required"),subcategory:at().optional(),quantity:yi().int("Quantity must be a whole number").min(0,"Quantity cannot be negative"),location:at().min(1,"Location is required").regex(/^[A-Z]-\d+$/,"Location must be in format A-12 (Letter-Number)"),brand:at().min(1,"Brand is required").min(2,"Brand must be at least 2 characters").max(100,"Brand must be less than 100 characters"),pricePerPiece:yi().positive("Price per piece must be a positive number").max(1e6,"Price per piece seems too high"),supplierId:at().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Supplier ID must be in format SUP-001"),quantityPurchased:yi().int("Quantity purchased must be a whole number").min(0,"Quantity purchased cannot be negative"),quantitySold:yi().int("Quantity sold must be a whole number").min(0,"Quantity sold cannot be negative"),reorderRequired:tq()});Oi({name:at().min(1,"Company name is required").min(2,"Company name must be at least 2 characters").max(100,"Company name must be less than 100 characters"),contact:at().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),phone:at().min(1,"Phone number is required"),category:at().min(1,"Category is required"),status:Ow(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:at().max(100,"Country must be less than 100 characters").optional(),city:at().max(100,"City must be less than 100 characters").optional(),address:at().max(200,"Address must be less than 200 characters").optional(),purchases:yi().min(0,"Purchases cannot be negative").optional(),payments:yi().min(0,"Payments cannot be negative").optional()});Oi({name:at().min(1,"Customer name is required").min(2,"Customer name must be at least 2 characters").max(100,"Customer name must be less than 100 characters"),contact:at().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),phone:at().min(1,"Phone number is required"),category:at().min(1,"Category is required"),status:Ow(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:at().max(100,"Country must be less than 100 characters").optional(),city:at().max(100,"City must be less than 100 characters").optional(),address:at().max(200,"Address must be less than 200 characters").optional(),purchases:yi().min(0,"Purchases cannot be negative").optional(),payments:yi().min(0,"Payments cannot be negative").optional()});const Cq=Oi({inventoryItemId:at().min(1,"Item is required"),itemName:at().min(1,"Item name is required"),quantity:Ry().int("Quantity must be a whole number").min(1,"Quantity must be at least 1"),unitPrice:Ry().positive("Unit price must be positive"),totalPrice:Ry().positive("Total price must be positive")});Oi({supplierId:at().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Invalid supplier ID format"),supplierName:at().min(1,"Supplier name is required"),items:vk(Cq).min(1,"At least one item is required"),expectedDeliveryDate:at().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format").refine(n=>{const e=new Date(n),t=new Date;return t.setHours(0,0,0,0),e>=t},"Expected delivery date must be today or in the future"),notes:at().optional()});function xk({...n}){return v.jsx(E1,{"data-slot":"dialog",...n})}function JH({...n}){return v.jsx(MM,{"data-slot":"dialog-trigger",...n})}function Aq({...n}){return v.jsx(b1,{"data-slot":"dialog-portal",...n})}function Pq({className:n,...e}){return v.jsx(Wv,{"data-slot":"dialog-overlay",className:Be("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function Sk({className:n,children:e,...t}){return v.jsxs(Aq,{"data-slot":"dialog-portal",children:[v.jsx(Pq,{}),v.jsxs(Gv,{"data-slot":"dialog-content",className:Be("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,v.jsxs(x1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[v.jsx(jv,{}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Rq({className:n,...e}){return v.jsx("div",{"data-slot":"dialog-header",className:Be("flex flex-col gap-2 text-center sm:text-left",n),...e})}function kq({className:n,...e}){return v.jsx("div",{"data-slot":"dialog-footer",className:Be("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function Nq({className:n,...e}){return v.jsx(Kv,{"data-slot":"dialog-title",className:Be("text-lg leading-none font-semibold",n),...e})}function Dq({className:n,...e}){return v.jsx(Zv,{"data-slot":"dialog-description",className:Be("text-muted-foreground text-sm",n),...e})}function Oq(n,[e,t]){return Math.min(t,Math.max(e,n))}function Mq(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Mw="ScrollArea",[Ik]=Ws(Mw),[Vq,$r]=Ik(Mw),Tk=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...l}=n,[u,h]=b.useState(null),[p,g]=b.useState(null),[m,E]=b.useState(null),[S,k]=b.useState(null),[C,R]=b.useState(null),[V,U]=b.useState(0),[z,q]=b.useState(0),[W,J]=b.useState(!1),[P,I]=b.useState(!1),A=Et(e,M=>h(M)),O=a_(s);return v.jsx(Vq,{scope:t,type:r,dir:O,scrollHideDelay:i,scrollArea:u,viewport:p,onViewportChange:g,content:m,onContentChange:E,scrollbarX:S,onScrollbarXChange:k,scrollbarXEnabled:W,onScrollbarXEnabledChange:J,scrollbarY:C,onScrollbarYChange:R,scrollbarYEnabled:P,onScrollbarYEnabledChange:I,onCornerWidthChange:U,onCornerHeightChange:q,children:v.jsx(ht.div,{dir:O,...l,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":V+"px","--radix-scroll-area-corner-height":z+"px",...n.style}})})});Tk.displayName=Mw;var Ck="ScrollAreaViewport",Ak=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=n,l=$r(Ck,t),u=b.useRef(null),h=Et(e,u,l.onViewportChange);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),v.jsx(ht.div,{"data-radix-scroll-area-viewport":"",...i,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:v.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Ak.displayName=Ck;var Ks="ScrollAreaScrollbar",Vw=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=$r(Ks,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,u=n.orientation==="horizontal";return b.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),s.type==="hover"?v.jsx(Lq,{...r,ref:e,forceMount:t}):s.type==="scroll"?v.jsx(jq,{...r,ref:e,forceMount:t}):s.type==="auto"?v.jsx(Pk,{...r,ref:e,forceMount:t}):s.type==="always"?v.jsx(Lw,{...r,ref:e}):null});Vw.displayName=Ks;var Lq=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=$r(Ks,n.__scopeScrollArea),[i,l]=b.useState(!1);return b.useEffect(()=>{const u=s.scrollArea;let h=0;if(u){const p=()=>{window.clearTimeout(h),l(!0)},g=()=>{h=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),v.jsx(Gn,{present:t||i,children:v.jsx(Pk,{"data-state":i?"visible":"hidden",...r,ref:e})})}),jq=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=$r(Ks,n.__scopeScrollArea),i=n.orientation==="horizontal",l=wm(()=>h("SCROLL_END"),100),[u,h]=Mq("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,s.scrollHideDelay,h]),b.useEffect(()=>{const p=s.viewport,g=i?"scrollLeft":"scrollTop";if(p){let m=p[g];const E=()=>{const S=p[g];m!==S&&(h("SCROLL"),l()),m=S};return p.addEventListener("scroll",E),()=>p.removeEventListener("scroll",E)}},[s.viewport,i,h,l]),v.jsx(Gn,{present:t||u!=="hidden",children:v.jsx(Lw,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:je(n.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:je(n.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),Pk=b.forwardRef((n,e)=>{const t=$r(Ks,n.__scopeScrollArea),{forceMount:r,...s}=n,[i,l]=b.useState(!1),u=n.orientation==="horizontal",h=wm(()=>{if(t.viewport){const p=t.viewport.offsetWidth<t.viewport.scrollWidth,g=t.viewport.offsetHeight<t.viewport.scrollHeight;l(u?p:g)}},10);return yc(t.viewport,h),yc(t.content,h),v.jsx(Gn,{present:r||i,children:v.jsx(Lw,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Lw=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=$r(Ks,n.__scopeScrollArea),i=b.useRef(null),l=b.useRef(0),[u,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=Ok(u.viewport,u.content),g={...r,sizes:u,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:E=>i.current=E,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:E=>l.current=E};function m(E,S){return qq(E,l.current,u,S)}return t==="horizontal"?v.jsx(Fq,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const E=s.viewport.scrollLeft,S=mI(E,u,s.dir);i.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:E=>{s.viewport&&(s.viewport.scrollLeft=E)},onDragScroll:E=>{s.viewport&&(s.viewport.scrollLeft=m(E,s.dir))}}):t==="vertical"?v.jsx(Uq,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const E=s.viewport.scrollTop,S=mI(E,u);i.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:E=>{s.viewport&&(s.viewport.scrollTop=E)},onDragScroll:E=>{s.viewport&&(s.viewport.scrollTop=m(E))}}):null}),Fq=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=$r(Ks,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=Et(e,h,i.onScrollbarXChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),v.jsx(kk,{"data-orientation":"horizontal",...s,ref:p,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_m(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.x),onDragScroll:g=>n.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(i.viewport){const E=i.viewport.scrollLeft+g.deltaX;n.onWheelScroll(E),Vk(E,m)&&g.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:_p(l.paddingLeft),paddingEnd:_p(l.paddingRight)}})}})}),Uq=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=$r(Ks,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=Et(e,h,i.onScrollbarYChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),v.jsx(kk,{"data-orientation":"vertical",...s,ref:p,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_m(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.y),onDragScroll:g=>n.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(i.viewport){const E=i.viewport.scrollTop+g.deltaY;n.onWheelScroll(E),Vk(E,m)&&g.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:_p(l.paddingTop),paddingEnd:_p(l.paddingBottom)}})}})}),[zq,Rk]=Ik(Ks),kk=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:m,...E}=n,S=$r(Ks,t),[k,C]=b.useState(null),R=Et(e,A=>C(A)),V=b.useRef(null),U=b.useRef(""),z=S.viewport,q=r.content-r.viewport,W=Ln(g),J=Ln(h),P=wm(m,10);function I(A){if(V.current){const O=A.clientX-V.current.left,M=A.clientY-V.current.top;p({x:O,y:M})}}return b.useEffect(()=>{const A=O=>{const M=O.target;k?.contains(M)&&W(O,q)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[z,k,q,W]),b.useEffect(J,[r,J]),yc(k,P),yc(S.content,P),v.jsx(zq,{scope:t,scrollbar:k,hasThumb:s,onThumbChange:Ln(i),onThumbPointerUp:Ln(l),onThumbPositionChange:J,onThumbPointerDown:Ln(u),children:v.jsx(ht.div,{...E,ref:R,style:{position:"absolute",...E.style},onPointerDown:je(n.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),V.current=k.getBoundingClientRect(),U.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),I(A))}),onPointerMove:je(n.onPointerMove,I),onPointerUp:je(n.onPointerUp,A=>{const O=A.target;O.hasPointerCapture(A.pointerId)&&O.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=U.current,S.viewport&&(S.viewport.style.scrollBehavior=""),V.current=null})})})}),vp="ScrollAreaThumb",Nk=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Rk(vp,n.__scopeScrollArea);return v.jsx(Gn,{present:t||s.hasThumb,children:v.jsx($q,{ref:e,...r})})}),$q=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,i=$r(vp,t),l=Rk(vp,t),{onThumbPositionChange:u}=l,h=Et(e,m=>l.onThumbChange(m)),p=b.useRef(void 0),g=wm(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const E=()=>{if(g(),!p.current){const S=Hq(m,u);p.current=S,u()}};return u(),m.addEventListener("scroll",E),()=>m.removeEventListener("scroll",E)}},[i.viewport,g,u]),v.jsx(ht.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:je(n.onPointerDownCapture,m=>{const S=m.target.getBoundingClientRect(),k=m.clientX-S.left,C=m.clientY-S.top;l.onThumbPointerDown({x:k,y:C})}),onPointerUp:je(n.onPointerUp,l.onThumbPointerUp)})});Nk.displayName=vp;var jw="ScrollAreaCorner",Dk=b.forwardRef((n,e)=>{const t=$r(jw,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?v.jsx(Bq,{...n,ref:e}):null});Dk.displayName=jw;var Bq=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=$r(jw,t),[i,l]=b.useState(0),[u,h]=b.useState(0),p=!!(i&&u);return yc(s.scrollbarX,()=>{const g=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(g),h(g)}),yc(s.scrollbarY,()=>{const g=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(g),l(g)}),p?v.jsx(ht.div,{...r,ref:e,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function _p(n){return n?parseInt(n,10):0}function Ok(n,e){const t=n/e;return isNaN(t)?0:t}function _m(n){const e=Ok(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function qq(n,e,t,r="ltr"){const s=_m(t),i=s/2,l=e||i,u=s-l,h=t.scrollbar.paddingStart+l,p=t.scrollbar.size-t.scrollbar.paddingEnd-u,g=t.content-t.viewport,m=r==="ltr"?[0,g]:[g*-1,0];return Mk([h,p],m)(n)}function mI(n,e,t="ltr"){const r=_m(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,l=e.content-e.viewport,u=i-r,h=t==="ltr"?[0,l]:[l*-1,0],p=Oq(n,h);return Mk([0,l],[0,u])(p)}function Mk(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function Vk(n,e){return n>0&&n<e}var Hq=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const i={left:n.scrollLeft,top:n.scrollTop},l=t.left!==i.left,u=t.top!==i.top;(l||u)&&e(),t=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function wm(n,e){const t=Ln(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function yc(n,e){const t=Ln(e);vo(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var Lk=Tk,Wq=Ak,Gq=Dk;const Fw=b.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(Lk,{ref:r,className:Be("relative overflow-hidden",n),...t,children:[v.jsx(Wq,{className:"h-full w-full rounded-[inherit]",children:e}),v.jsx(jk,{}),v.jsx(Gq,{})]}));Fw.displayName=Lk.displayName;const jk=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>v.jsx(Vw,{ref:r,orientation:e,className:Be("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:v.jsx(Nk,{className:"relative flex-1 rounded-full bg-border"})}));jk.displayName=Vw.displayName;function Kq({open:n,onOpenChange:e}){return v.jsx(xk,{open:n,onOpenChange:e,children:v.jsxs(Sk,{className:"max-w-2xl max-h-[80vh]",children:[v.jsxs(Rq,{children:[v.jsx(Nq,{children:"Terms and Conditions"}),v.jsx(Dq,{children:"Please read these terms carefully before using our Warehouse Management System."})]}),v.jsx(Fw,{className:"h-[400px] pr-4",children:v.jsxs("div",{className:"space-y-4 text-sm text-muted-foreground",children:[v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"1. Acceptance of Terms"}),v.jsx("p",{children:'By accessing and using this Warehouse Management System ("WMS"), you accept and agree to be bound by the terms and provisions of this agreement. If you do not agree to these terms, please do not use this system.'})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"2. User Accounts"}),v.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials. You agree to notify the system administrator immediately of any unauthorized use of your account. You are responsible for all activities that occur under your account."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"3. Acceptable Use"}),v.jsx("p",{children:"You agree to use this system only for lawful purposes and in accordance with these Terms. You agree not to:"}),v.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[v.jsx("li",{children:"Use the system in any way that violates any applicable laws or regulations"}),v.jsx("li",{children:"Attempt to gain unauthorized access to other user accounts or system resources"}),v.jsx("li",{children:"Introduce any viruses, malware, or other harmful code"}),v.jsx("li",{children:"Interfere with or disrupt the system's operation"}),v.jsx("li",{children:"Share your login credentials with unauthorized parties"})]})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"4. Data Privacy"}),v.jsx("p",{children:"Your use of this system is also governed by our Privacy Policy. By using this system, you consent to the collection and use of information as described in our Privacy Policy. We are committed to protecting your personal information and business data."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"5. System Availability"}),v.jsx("p",{children:"While we strive to maintain high availability, we do not guarantee uninterrupted access to the system. We may perform maintenance, updates, or experience technical issues that temporarily affect system availability."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"6. Intellectual Property"}),v.jsx("p",{children:"All content, features, and functionality of this system are owned by the system provider and are protected by intellectual property laws. You may not copy, modify, or distribute any part of the system without prior written consent."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"7. Limitation of Liability"}),v.jsx("p",{children:"To the maximum extent permitted by law, the system provider shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of or inability to use the system."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"8. Changes to Terms"}),v.jsx("p",{children:"We reserve the right to modify these terms at any time. We will notify users of any material changes. Your continued use of the system after such modifications constitutes acceptance of the updated terms."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"9. Termination"}),v.jsx("p",{children:"We may terminate or suspend your account and access to the system immediately, without prior notice, for conduct that we believe violates these Terms or is harmful to other users or the system."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"10. Contact Information"}),v.jsx("p",{children:"If you have any questions about these Terms, please contact the system administrator."})]}),v.jsx("p",{className:"text-xs text-muted-foreground pt-4 border-t",children:"Last updated: December 2024"})]})}),v.jsx(kq,{children:v.jsx(Ia,{onClick:()=>e(!1),children:"Close"})})]})})}function Zq({className:n}){return v.jsxs("svg",{className:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),v.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),v.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),v.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Qq(){const{login:n,register:e,loginWithGoogle:t}=Md(),[r,s]=b.useState("login"),[i,l]=b.useState({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1}),[u,h]=b.useState({}),[p,g]=b.useState(!1),[m,E]=b.useState(!1),[S,k]=b.useState(!1),[C,R]=b.useState(!1),V=()=>{l({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1}),h({})},U=P=>{s(P),V()};function z(P,I){try{const A=r==="login"?fI:pI,O=r==="login"?{email:P==="email"?I:i.email,password:P==="password"?I:i.password}:{name:P==="name"?I:i.name,email:P==="email"?I:i.email,password:P==="password"?I:i.password,confirmPassword:P==="confirmPassword"?I:i.confirmPassword},M=A.safeParse(O);if(!M.success&&M.error?.errors){const L=M.error.errors.find(N=>N.path[0]===P);h(L?N=>({...N,[P]:L.message}):N=>{const de={...N};return delete de[P],de})}else h(L=>{const N={...L};return delete N[P],N})}catch(A){console.error("Validation error:",A)}}function q(){try{const P=r==="login"?fI:pI,I=r==="login"?{email:i.email,password:i.password}:{name:i.name,email:i.email,password:i.password,confirmPassword:i.confirmPassword},A=P.safeParse(I);if(!A.success&&A.error?.errors){const O={};return A.error.errors.forEach(M=>{const L=M.path.join(".");O[L]=M.message}),h(O),Object.values(O)[0]}return r==="register"&&!i.acceptTerms?(h(O=>({...O,acceptTerms:"You must accept the Terms and Conditions"})),"You must accept the Terms and Conditions to create an account"):(h({}),null)}catch(P){return console.error("Form validation error:",P),null}}async function W(P){P.preventDefault();const I=q();if(I){Mn.error(I);return}E(!0);try{r==="login"?(await n(i.email,i.password,i.rememberMe),Mn.success("Welcome back!")):(await e(i.email,i.password,i.name),Mn.success("Registration successful! Your account is pending approval by an administrator."),U("login"))}catch(A){if(A instanceof Error){const O=A.message;if(O.startsWith("NO_ACCOUNT:")){const M=O.replace("NO_ACCOUNT:","");Mn.error(M,{action:{label:"Sign Up",onClick:()=>U("register")},duration:8e3})}else O.startsWith("WRONG_PASSWORD:")?Mn.error(O.replace("WRONG_PASSWORD:","")):O.startsWith("PENDING:")?Mn.warning(O.replace("PENDING:",""),{duration:6e3}):O.startsWith("INACTIVE:")?Mn.error(O.replace("INACTIVE:",""),{duration:6e3}):Mn.error(O)}else Mn.error("An error occurred. Please try again.")}finally{E(!1)}}async function J(){k(!0);try{await t(),Mn.success("Welcome!")}catch(P){if(P instanceof Error){const I=P.message;I.startsWith("PENDING:")?Mn.warning(I.replace("PENDING:",""),{duration:6e3}):I.startsWith("INACTIVE:")?Mn.error(I.replace("INACTIVE:",""),{duration:6e3}):I.includes("popup-closed-by-user")||Mn.error(I)}else Mn.error("Google sign-in failed. Please try again.")}finally{k(!1)}}return v.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:[v.jsxs(LR,{className:"w-full max-w-[360px] shadow-xl mx-auto",children:[v.jsxs(jR,{className:"space-y-4 text-center",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:v.jsx(xp,{className:"h-8 w-8 text-primary"})})}),v.jsxs("div",{children:[v.jsx(FR,{className:"text-2xl font-bold",children:r==="login"?"Welcome Back":"Create Account"}),v.jsx(UR,{className:"mt-2",children:r==="login"?"Sign in to your Warehouse Management System":"Register for a new account (requires admin approval)"})]})]}),v.jsx(zR,{children:v.jsxs("form",{onSubmit:W,className:"space-y-4",children:[r==="register"&&v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fl,{htmlFor:"name",children:"Full Name"}),v.jsxs("div",{className:"relative",children:[v.jsx(Ny,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(Iu,{id:"name",type:"text",placeholder:"John Doe",value:i.name,onChange:P=>{l({...i,name:P.target.value}),z("name",P.target.value)},className:`pl-9 ${u.name?"border-red-500":""}`,disabled:m,autoComplete:"name"})]}),u.name&&v.jsx("p",{className:"text-sm text-red-500",children:u.name})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fl,{htmlFor:"email",children:"Email"}),v.jsxs("div",{className:"relative",children:[v.jsx(G2,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(Iu,{id:"email",type:"email",placeholder:"admin@wms.com",value:i.email,onChange:P=>{l({...i,email:P.target.value}),z("email",P.target.value)},className:`pl-9 ${u.email?"border-red-500":""}`,disabled:m,autoComplete:"email"})]}),u.email&&v.jsx("p",{className:"text-sm text-red-500",children:u.email})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fl,{htmlFor:"password",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(cb,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(Iu,{id:"password",type:p?"text":"password",placeholder:r==="register"?`Min ${Dv.split(" ").pop()} characters`:"Enter your password",value:i.password,onChange:P=>{l({...i,password:P.target.value}),z("password",P.target.value)},className:`pl-9 pr-9 ${u.password?"border-red-500":""}`,disabled:m,autoComplete:r==="login"?"current-password":"new-password"}),v.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:m,tabIndex:-1,children:p?v.jsx(D2,{className:"h-4 w-4"}):v.jsx(M2,{className:"h-4 w-4"})})]}),u.password?v.jsx("p",{className:"text-sm text-red-500",children:u.password}):r==="register"&&v.jsx("p",{className:"text-xs text-muted-foreground",children:Dv})]}),r==="register"&&v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fl,{htmlFor:"confirmPassword",children:"Confirm Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(cb,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(Iu,{id:"confirmPassword",type:p?"text":"password",placeholder:"Confirm your password",value:i.confirmPassword,onChange:P=>{l({...i,confirmPassword:P.target.value}),z("confirmPassword",P.target.value)},className:`pl-9 ${u.confirmPassword?"border-red-500":""}`,disabled:m,autoComplete:"new-password"})]}),u.confirmPassword&&v.jsx("p",{className:"text-sm text-red-500",children:u.confirmPassword})]}),r==="login"&&v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(HS,{id:"remember",checked:i.rememberMe,onCheckedChange:P=>l({...i,rememberMe:P}),disabled:m}),v.jsx(Fl,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),v.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",disabled:m,onClick:()=>Mn.info("Password reset feature coming soon!"),children:"Forgot password?"})]}),r==="register"&&v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx(HS,{id:"acceptTerms",checked:i.acceptTerms,onCheckedChange:P=>{l({...i,acceptTerms:P}),P&&h(I=>{const{acceptTerms:A,...O}=I;return O})},disabled:m,className:u.acceptTerms?"border-red-500":""}),v.jsxs(Fl,{htmlFor:"acceptTerms",className:`text-sm font-normal cursor-pointer leading-tight ${u.acceptTerms?"text-red-500":""}`,children:["I agree to the"," ",v.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>R(!0),children:"Terms and Conditions"})]})]}),u.acceptTerms&&v.jsx("p",{className:"text-sm text-red-500",children:u.acceptTerms})]}),v.jsx(Ia,{type:"submit",className:"w-full",disabled:m||S,children:m?v.jsxs(v.Fragment,{children:[v.jsx(Bu,{className:"mr-2 h-4 w-4 animate-spin"}),r==="login"?"Signing in...":"Creating account..."]}):r==="login"?"Sign In":"Create Account"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("span",{className:"w-full border-t"})}),v.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:v.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),v.jsx(Ia,{type:"button",variant:"outline",className:"w-full",onClick:J,disabled:m||S,children:S?v.jsxs(v.Fragment,{children:[v.jsx(Bu,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in with Google..."]}):v.jsxs(v.Fragment,{children:[v.jsx(Zq,{className:"mr-2 h-4 w-4"}),"Sign in with Google"]})}),v.jsx("div",{className:"text-center text-sm",children:r==="login"?v.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",v.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>U("register"),disabled:m,children:"Sign up"})]}):v.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",v.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>U("login"),disabled:m,children:"Sign in"})]})}),r==="register"&&v.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:v.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:[v.jsx("strong",{children:"Note:"})," New accounts require administrator approval before you can access the system. You will be notified once your account is approved."]})})]})})]}),v.jsx(Kq,{open:C,onOpenChange:R})]})}const gI="wms_error_logs",yI=100;function Ov(n,e){const t={message:n?.message??String(n),stack:n?.stack,componentStack:e?.componentStack,timestamp:Date.now()};try{const r=localStorage.getItem(gI),s=r?JSON.parse(r):[];s.unshift(t),s.length>yI&&(s.length=yI),localStorage.setItem(gI,JSON.stringify(s))}catch{}}const Yq=bp("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function vI({className:n,variant:e,asChild:t=!1,...r}){const s=t?Ep:"span";return v.jsx(s,{"data-slot":"badge",className:Be(Yq({variant:e}),n),...r})}const _e={INVENTORY:"wms_inventory",SUPPLIERS:"wms_suppliers",CUSTOMERS:"wms_customers",SHIPMENTS:"wms_shipments",PURCHASE_ORDERS:"wms_purchase_orders",SALES_ORDERS:"wms_sales_orders",CASH_BANK:"wms_cash_bank",PAYMENTS:"wms_payments",CATEGORIES:"wms_categories"};function xe(n,e){try{const t=JSON.stringify(e);localStorage.setItem(n,t)}catch(t){console.error(`Failed to save to localStorage (${n}):`,t)}}function Po(n,e){try{const t=localStorage.getItem(n);return t===null?e:JSON.parse(t)}catch(t){return console.error(`Failed to load from localStorage (${n}):`,t),e}}const Xq=[{id:"INV-001",name:"Laptop Computer",category:"Electronics",quantity:145,location:"A-12",status:"In Stock",brand:"Dell",pricePerPiece:899.99,supplierId:"SUP-001",quantityPurchased:200,quantitySold:55,reorderRequired:!1,description:"15.6-inch display, Intel Core i7 processor, 16GB RAM, 512GB SSD. Perfect for business and professional use with long battery life and lightweight design."},{id:"INV-002",name:"Office Chair",category:"Furniture",quantity:23,location:"B-08",status:"Low Stock",brand:"Herman Miller",pricePerPiece:549,supplierId:"SUP-002",quantityPurchased:100,quantitySold:77,reorderRequired:!0,description:"Ergonomic office chair with adjustable lumbar support, armrests, and seat height. Breathable mesh back for all-day comfort."},{id:"INV-003",name:"Standing Desk",category:"Furniture",quantity:67,location:"B-05",status:"In Stock",brand:"Uplift",pricePerPiece:799,supplierId:"SUP-002",quantityPurchased:120,quantitySold:53,reorderRequired:!1,description:"Electric height-adjustable standing desk with memory presets. 60x30 inch bamboo top with cable management system."},{id:"INV-004",name:"Wireless Mouse",category:"Electronics",quantity:8,location:"A-15",status:"Critical",brand:"Logitech",pricePerPiece:29.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:142,reorderRequired:!0,description:"Ergonomic wireless mouse with customizable buttons and long battery life. 2.4GHz wireless connection with USB receiver."},{id:"INV-005",name:"USB-C Cable",category:"Electronics",quantity:234,location:"A-20",status:"In Stock",brand:"Anker",pricePerPiece:12.99,supplierId:"SUP-001",quantityPurchased:500,quantitySold:266,reorderRequired:!1,description:"Premium braided USB-C to USB-C cable, 6ft length. Supports fast charging up to 100W and data transfer speeds up to 480Mbps."},{id:"INV-006",name:'Monitor 27"',category:"Electronics",quantity:89,location:"A-10",status:"In Stock",brand:"LG",pricePerPiece:349.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:61,reorderRequired:!1,description:"27-inch 4K UHD IPS display with HDR10 support. USB-C connectivity with 65W power delivery. Ideal for creative professionals."},{id:"INV-007",name:"Keyboard Mechanical",category:"Electronics",quantity:156,location:"A-14",status:"In Stock",brand:"Corsair",pricePerPiece:129.99,supplierId:"SUP-001",quantityPurchased:250,quantitySold:94,reorderRequired:!1,description:"Full-size mechanical keyboard with Cherry MX Brown switches. RGB backlighting with dedicated media controls and USB passthrough."},{id:"INV-008",name:"Filing Cabinet",category:"Furniture",quantity:34,location:"B-03",status:"In Stock",brand:"Steelcase",pricePerPiece:299,supplierId:"SUP-002",quantityPurchased:60,quantitySold:26,reorderRequired:!1,description:"4-drawer vertical filing cabinet with full-extension drawers. Built-in lock for security. Holds letter and legal size documents."}],Jq=[],eH=[],tH=[],nH=[],rH=[];function sH(n){return n.map(e=>{if(e.quantityPurchased===void 0||e.quantitySold===void 0||e.reorderRequired===void 0){const{reorderLevel:r,maintainStockAt:s,minimumStock:i,...l}=e,u=e.quantityPurchased??Math.floor(e.quantity*1.5),h=e.quantitySold??Math.floor(u-e.quantity),p=e.reorderRequired??e.quantity<=(e.minimumStock??e.reorderLevel??20);return{...l,brand:e.brand||"Unknown",pricePerPiece:e.pricePerPiece??0,supplierId:e.supplierId||"SUP-001",quantityPurchased:u,quantitySold:h,reorderRequired:p}}return e})}function oH(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalPaid??0,s=e.poDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,poDate:s,supplierCountry:e.supplierCountry??"",supplierCity:e.supplierCity??"",billNumber:e.billNumber??"",items:e.items??[],totalAmount:t,totalPaid:r,poBalance:e.poBalance??t-r,status:e.status??"Draft",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s}})}function iH(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function aH(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function lH(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalReceived??0,s=e.soDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,soDate:s,customerCountry:e.customerCountry??"",customerCity:e.customerCity??"",invoiceNumber:e.invoiceNumber??"",items:e.items??[],totalAmount:t,totalReceived:r,soBalance:e.soBalance??t-r,receiptStatus:e.receiptStatus??"Unpaid",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s,archived:e.archived??!1}})}const cH=[{name:"Electronics",subcategories:["Phones","Laptops","Tablets","Accessories","Monitors"]},{name:"Furniture",subcategories:["Desks","Chairs","Cabinets","Shelving"]},{name:"Clothing",subcategories:["Shirts","Pants","Shoes","Accessories"]},{name:"Food & Beverages",subcategories:["Beverages","Snacks","Canned Goods","Fresh Produce"]}];let po=sH(Po(_e.INVENTORY,Xq)),Xe=iH(Po(_e.SUPPLIERS,Jq)),ot=aH(Po(_e.CUSTOMERS,eH)),Kt=Po(_e.SHIPMENTS,tH),Pe=oH(Po(_e.PURCHASE_ORDERS,nH)),ut=lH(Po(_e.SALES_ORDERS,rH)),Vr=Po(_e.CATEGORIES,cH);xe(_e.INVENTORY,po);xe(_e.SUPPLIERS,Xe);xe(_e.CUSTOMERS,ot);xe(_e.PURCHASE_ORDERS,Pe);xe(_e.SALES_ORDERS,ut);xe(_e.CATEGORIES,Vr);function uH(n,e){return n<=0?"Critical":e?"Low Stock":"In Stock"}function dH(){const e=Xe.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SUP-${String(e).padStart(3,"0")}`}function hH(){const e=ot.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`CUS-${String(e).padStart(3,"0")}`}function fH(){const e=Pe.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`PO-${String(e).padStart(3,"0")}`}function pH(){const e=ut.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SO-${String(e).padStart(3,"0")}`}function Se(n,e=150){return new Promise(t=>setTimeout(()=>t(n),e))}async function eW(){return Se([...po])}async function mH(){return Se([...Xe])}async function tW(n){const e=n.id&&n.id.trim()!==""?n.id:dH();if(Xe.some(l=>l.id===e))throw new Error(`Supplier with id ${e} already exists`);const t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name.trim(),contact:n.contact.trim(),email:n.email.trim(),phone:n.phone.trim(),category:n.category.trim(),status:n.status??"Active",country:n.country?.trim()??"",city:n.city?.trim()??"",address:n.address?.trim()??"",purchases:t,payments:r,balance:s};return Xe=[i,...Xe],xe(_e.SUPPLIERS,Xe),Se(i)}async function nW(n){const e=Xe.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Supplier not found");const t=Xe[e],r=n.purchases!==void 0?n.purchases:t.purchases,s=n.payments!==void 0?n.payments:t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return Xe[e]=l,xe(_e.SUPPLIERS,Xe),Se(l)}async function rW(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!0,archivedAt:new Date().toISOString()},xe(_e.SUPPLIERS,Xe),Se(Xe[e])}async function sW(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!1,archivedAt:void 0},xe(_e.SUPPLIERS,Xe),Se(Xe[e])}async function oW(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");Xe.splice(e,1),xe(_e.SUPPLIERS,Xe),await Se(void 0)}async function iW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!0,archivedAt:new Date().toISOString()},t++}return xe(_e.SUPPLIERS,Xe),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function aW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!1,archivedAt:void 0},t++}return xe(_e.SUPPLIERS,Xe),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function lW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe.splice(s,1),t++}return xe(_e.SUPPLIERS,Xe),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function cW(){return Se([...ot])}async function uW(n){const e=n.id&&n.id.trim()!==""?n.id:hH(),t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name,contact:n.contact,email:n.email,phone:n.phone,category:n.category,status:n.status??"Active",country:n.country??"",city:n.city??"",address:n.address??"",purchases:t,payments:r,balance:s};return ot.push(i),xe(_e.CUSTOMERS,ot),Se(i)}async function dW(n){const e=ot.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Customer not found");const t=ot[e],r=n.purchases??t.purchases,s=n.payments??t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return ot[e]=l,xe(_e.CUSTOMERS,ot),Se(l)}async function hW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!0,archivedAt:new Date().toISOString()};return ot[e]=t,xe(_e.CUSTOMERS,ot),Se(t)}async function fW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!1,archivedAt:void 0};return ot[e]=t,xe(_e.CUSTOMERS,ot),Se(t)}async function pW(n){const e=ot.findIndex(t=>t.id===n);if(e===-1)throw new Error("Customer not found");return ot.splice(e,1),xe(_e.CUSTOMERS,ot),Se(void 0)}async function mW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return xe(_e.CUSTOMERS,ot),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function gW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!0,archivedAt:new Date().toISOString()},t++}return xe(_e.CUSTOMERS,ot),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function yW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!1,archivedAt:void 0},t++}return xe(_e.CUSTOMERS,ot),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function vW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return xe(_e.CUSTOMERS,ot),Se({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function _W(n,e){const t=[];let r=0;for(const s of n){const i=ot.findIndex(l=>l.id===s);if(i===-1){t.push(`Customer ${s} not found`);continue}ot[i]={...ot[i],status:e},r++}return xe(_e.CUSTOMERS,ot),Se({successCount:r,failedCount:t.length,errors:t.length>0?t:void 0})}async function gH(){return Se([...Kt])}async function wW(n){const e=n.id&&n.id.trim()!==""?n.id:(()=>{const s=Kt.map(i=>Number(i.id.replace(/[^0-9]/g,""))||0).reduce((i,l)=>Math.max(i,l),0)+1;return`SHIP-${String(s).padStart(4,"0")}`})();if(Kt.some(r=>r.id===e))throw new Error(`Shipment with id ${e} already exists`);const t={id:e,...n};return Kt=[t,...Kt],xe(_e.SHIPMENTS,Kt),Se(t)}async function EW(n){const e=Kt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Shipment not found");const r={...Kt[e],...n};return Kt[e]=r,xe(_e.SHIPMENTS,Kt),Se(r)}async function bW(n){const e=Kt.findIndex(t=>t.id===n);if(e===-1)throw new Error("Shipment not found");Kt[e],Kt.splice(e,1),xe(_e.SHIPMENTS,Kt),await Se(void 0)}async function xW(n){const e=[];let t=0;for(const r of n){const s=Kt.findIndex(i=>i.id===r);s===-1?e.push(`Shipment ${r} not found`):(Kt.splice(s,1),t++)}return xe(_e.SHIPMENTS,Kt),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function SW(n,e){const t=[];let r=0;for(const s of n){const i=Kt.findIndex(l=>l.id===s);i===-1?t.push(`Shipment ${s} not found`):(Kt[i]={...Kt[i],status:e},r++)}return xe(_e.SHIPMENTS,Kt),Se({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function IW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);s===-1?e.push(`Supplier ${r} not found`):(Xe.splice(s,1),t++)}return xe(_e.SUPPLIERS,Xe),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function TW(n,e){const t=[];let r=0;for(const s of n){const i=Xe.findIndex(l=>l.id===s);i===-1?t.push(`Supplier ${s} not found`):(Xe[i]={...Xe[i],status:e},r++)}return xe(_e.SUPPLIERS,Xe),Se({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function yH(){return Se([...Pe])}async function CW(n){const e=n.id&&n.id.trim()!==""?n.id:fH();if(Pe.some(l=>l.id===e))throw new Error(`Purchase Order with id ${e} already exists`);const t=n.items.reduce((l,u)=>l+u.totalPrice,0),r=n.totalPaid??0,s=n.poDate??new Date().toISOString().split("T")[0],i={id:e,poDate:s,supplierId:n.supplierId,supplierName:n.supplierName,supplierCountry:n.supplierCountry??"",supplierCity:n.supplierCity??"",billNumber:n.billNumber??"",items:n.items.map(l=>({...l,quantityReceived:0})),totalAmount:t,totalPaid:r,poBalance:t-r,status:"Draft",shippingStatus:"Pending",createdBy:n.createdBy,createdDate:s,approvedBy:null,approvedDate:null,receivedDate:null,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return Pe=[i,...Pe],xe(_e.PURCHASE_ORDERS,Pe),Se(i)}async function AW(n){const e=Pe.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Purchase Order not found");const r={...Pe[e],...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),(n.items!==void 0||n.totalPaid!==void 0)&&(r.poBalance=r.totalAmount-r.totalPaid),Pe[e]=r,xe(_e.PURCHASE_ORDERS,Pe),Se(r)}async function PW(n){const e=Pe.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Pe[e];if(t.status!=="Draft")throw new Error("Only Draft purchase orders can be submitted for approval");return Pe[e]={...t,status:"Pending Approval"},xe(_e.PURCHASE_ORDERS,Pe),Se(Pe[e])}async function RW(n,e){const t=Pe.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Pe[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be approved");return Pe[t]={...r,status:"Approved",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},xe(_e.PURCHASE_ORDERS,Pe),Se(Pe[t])}async function kW(n,e){const t=Pe.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Pe[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be rejected");return Pe[t]={...r,status:"Rejected",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},xe(_e.PURCHASE_ORDERS,Pe),Se(Pe[t])}async function NW(n){const e=Pe.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Pe[e];if(t.status!=="Approved")throw new Error("Only Approved purchase orders can be marked as ordered");return Pe[e]={...t,status:"Ordered"},xe(_e.PURCHASE_ORDERS,Pe),Se(Pe[e])}async function DW(n){const e=Pe.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Pe[e];if(["Received","Cancelled"].includes(t.status))throw new Error("Cannot cancel received or already cancelled purchase orders");return Pe[e]={...t,status:"Cancelled"},xe(_e.PURCHASE_ORDERS,Pe),Se(Pe[e])}async function OW(n,e,t){const r=Pe.findIndex(m=>m.id===n);if(r===-1)throw new Error("Purchase Order not found");const s=Pe[r];if(!["Ordered","Partially Received"].includes(s.status))throw new Error("Can only receive items for Ordered or Partially Received purchase orders");const i=[],l=s.items.map(m=>{const E=e.find(R=>R.inventoryItemId===m.inventoryItemId);if(!E)return m;const k=(m.quantityReceived??0)+E.quantityReceived;if(k>m.quantity)throw new Error(`Cannot receive more than ordered quantity for ${m.itemName}`);const C=po.findIndex(R=>R.id===m.inventoryItemId);if(C!==-1){const R=po[C].quantity,V=R+E.quantityReceived;po[C]={...po[C],quantity:V,status:uH(V,po[C].reorderLevel,po[C].maintainStockAt)},i.push({itemId:m.inventoryItemId,itemName:m.itemName,previousQty:R,newQty:V})}return{...m,quantityReceived:k}}),u=l.every(m=>(m.quantityReceived??0)>=m.quantity),h=l.some(m=>(m.quantityReceived??0)>0);let p=s.status,g=s.receivedDate;return u?(p="Received",g=new Date().toISOString().split("T")[0]):h&&(p="Partially Received"),Pe[r]={...s,items:l,status:p,receivedDate:g,actualCost:t??s.actualCost},xe(_e.PURCHASE_ORDERS,Pe),xe(_e.INVENTORY,po),Se({purchaseOrder:Pe[r],inventoryUpdates:i})}async function MW(n){const e=Pe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Pe[e]={...Pe[e],archived:!0,archivedAt:new Date().toISOString()},xe(_e.PURCHASE_ORDERS,Pe),Se(Pe[e])}async function VW(n){const e=Pe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Pe[e]={...Pe[e],archived:!1,archivedAt:void 0},xe(_e.PURCHASE_ORDERS,Pe),Se(Pe[e])}async function LW(n){const e=Pe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");Pe.splice(e,1),xe(_e.PURCHASE_ORDERS,Pe),await Se(void 0)}async function jW(n){const e=[];let t=0;for(const r of n){const s=Pe.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Pe[s]={...Pe[s],archived:!0,archivedAt:new Date().toISOString()},t++)}return xe(_e.PURCHASE_ORDERS,Pe),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function FW(n){const e=[];let t=0;for(const r of n){const s=Pe.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Pe[s]={...Pe[s],archived:!1,archivedAt:void 0},t++)}return xe(_e.PURCHASE_ORDERS,Pe),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function UW(n){const e=[];let t=0;for(const r of n){const s=Pe.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Pe.splice(s,1),t++)}return xe(_e.PURCHASE_ORDERS,Pe),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function zW(){return Se([...ut])}async function $W(n){const e=n.id&&n.id.trim()!==""?n.id:pH();if(ut.some(h=>h.id===e))throw new Error(`Sales Order with id ${e} already exists`);const t=n.items.reduce((h,p)=>h+p.totalPrice,0),r=n.totalReceived??0,s=t-r,i=n.soDate??new Date().toISOString().split("T")[0];let l=n.receiptStatus??"Unpaid";n.receiptStatus||(r>=t?l="Paid":r>0&&(l="Partially Paid"));const u={id:e,soDate:i,customerId:n.customerId,customerName:n.customerName,customerCountry:n.customerCountry??"",customerCity:n.customerCity??"",invoiceNumber:n.invoiceNumber??"",items:n.items.map(h=>({...h,quantityShipped:0})),totalAmount:t,totalReceived:r,soBalance:s,receiptStatus:l,shippingStatus:n.shippingStatus??"Pending",createdBy:n.createdBy,createdDate:i,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return ut.push(u),xe(_e.SALES_ORDERS,ut),Se(u)}async function BW(n){const e=ut.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Sales Order not found");const t=ut[e],r={...t,...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),r.soBalance=r.totalAmount-r.totalReceived,n.totalReceived!==void 0&&n.receiptStatus===void 0&&(r.totalReceived>=r.totalAmount&&r.totalAmount>0?r.receiptStatus="Paid":r.totalReceived>0?r.receiptStatus="Partially Paid":t.receiptStatus!=="Overdue"&&(r.receiptStatus="Unpaid")),ut[e]=r,xe(_e.SALES_ORDERS,ut),Se(r)}async function qW(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut.splice(e,1),xe(_e.SALES_ORDERS,ut),Se(void 0)}async function HW(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut[e]={...ut[e],archived:!0,archivedAt:new Date().toISOString()},xe(_e.SALES_ORDERS,ut),Se(ut[e])}async function WW(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut[e]={...ut[e],archived:!1,archivedAt:void 0},xe(_e.SALES_ORDERS,ut),Se(ut[e])}async function GW(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ut[s]={...ut[s],archived:!0,archivedAt:new Date().toISOString()},t++}return xe(_e.SALES_ORDERS,ut),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function KW(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ut[s]={...ut[s],archived:!1,archivedAt:void 0},t++}return xe(_e.SALES_ORDERS,ut),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function ZW(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}if(!ut[s].archived){e.push(`Sales Order ${r} must be archived before permanent deletion`);continue}ut.splice(s,1),t++}return xe(_e.SALES_ORDERS,ut),Se({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function QW(){return Se([...Vr])}async function YW(n){if(Vr.find(r=>r.name.toLowerCase()===n.toLowerCase()))throw new Error(`Category "${n}" already exists`);const t={name:n,subcategories:[]};return Vr=[...Vr,t],xe(_e.CATEGORIES,Vr),Se(t)}async function XW(n,e){const t=Vr.findIndex(i=>i.name===n);if(t===-1)throw new Error(`Category "${n}" not found`);const r=Vr[t];if(r.subcategories.some(i=>i.toLowerCase()===e.toLowerCase()))throw new Error(`Subcategory "${e}" already exists in "${n}"`);const s={...r,subcategories:[...r.subcategories,e]};return Vr=[...Vr.slice(0,t),s,...Vr.slice(t+1)],xe(_e.CATEGORIES,Vr),Se(s)}const vH=[{id:"TRX-001",trxDate:"2025-10-10",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Bank Transfer",amountReceived:14699.8,notes:"Full payment for SO-001",createdAt:"2025-10-10T10:30:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-002",invoiceNumber:"INV-2025-0502",paymentMode:"Credit Card",amountReceived:12e3,notes:"Partial payment for SO-002",createdAt:"2025-10-20T14:15:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Bank Transfer",amountReceived:7188,notes:"Full payment for furniture order",createdAt:"2025-11-05T09:00:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-005",invoiceNumber:"INV-2025-0495",paymentMode:"Check",amountReceived:3e3,notes:"Partial payment - overdue balance",createdAt:"2025-09-20T11:45:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-11-01",customerId:"CUS-002",customerName:"TechStart Inc",country:"United States",city:"Austin",soId:"SO-003",invoiceNumber:"INV-2025-0503",paymentMode:"Cash",amountReceived:500,notes:"Deposit for order",createdAt:"2025-11-01T16:30:00Z",createdBy:"2",archived:!1},{id:"TRX-006",trxDate:"2025-10-25",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Online Payment",amountReceived:2500,notes:"Additional payment for extended warranty",createdAt:"2025-10-25T13:00:00Z",createdBy:"1",archived:!1},{id:"TRX-007",trxDate:"2025-11-10",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Credit Card",amountReceived:1500,notes:"Additional items added to order",createdAt:"2025-11-10T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-10-15",customerId:"CUS-005",customerName:"Metro Supplies",country:"United States",city:"New York",soId:"SO-003",invoiceNumber:"INV-2025-0499",paymentMode:"Bank Transfer",amountReceived:850,notes:"Final payment clearing balance",createdAt:"2025-10-15T09:30:00Z",createdBy:"1",archived:!1}];let tt=Po(_e.CASH_BANK,vH);tt=tt.map(n=>({...n,archived:n.archived??!1}));xe(_e.CASH_BANK,tt);function _H(){const n=tt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function JW(){return Se([...tt])}async function eG(n){const e=n.id||_H(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,customerId:n.customerId,customerName:n.customerName,country:n.country||"",city:n.city||"",soId:n.soId,invoiceNumber:n.invoiceNumber||"",paymentMode:n.paymentMode,amountReceived:n.amountReceived,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return tt=[...tt,r],xe(_e.CASH_BANK,tt),Se(r)}async function tG(n){const e=tt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n.id} not found`);const t=tt[e],r={...t,trxDate:n.trxDate??t.trxDate,customerId:n.customerId??t.customerId,customerName:n.customerName??t.customerName,country:n.country??t.country,city:n.city??t.city,soId:n.soId??t.soId,invoiceNumber:n.invoiceNumber??t.invoiceNumber,paymentMode:n.paymentMode??t.paymentMode,amountReceived:n.amountReceived??t.amountReceived,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),r,...tt.slice(e+1)],xe(_e.CASH_BANK,tt),Se(r)}async function nG(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...tt[e],archived:!0,archivedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],xe(_e.CASH_BANK,tt),Se(t)}async function rG(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...tt[e],archived:!1,archivedAt:void 0};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],xe(_e.CASH_BANK,tt),Se(t)}async function sG(n){if(tt.findIndex(t=>t.id===n)===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);return tt=tt.filter(t=>t.id!==n),xe(_e.CASH_BANK,tt),Se(void 0)}async function oG(n){const e=new Date().toISOString(),t=[];return tt=tt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),xe(_e.CASH_BANK,tt),Se(t)}async function iG(n){const e=[];return tt=tt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),xe(_e.CASH_BANK,tt),Se(e)}async function aG(n){return tt=tt.filter(e=>!n.includes(e.id)),xe(_e.CASH_BANK,tt),Se(void 0)}const wH=[{id:"TRX-001",trxDate:"2025-10-05",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-001",billNumber:"INV-2025-0142",paymentMode:"Bank Transfer",amountPaid:57998.5,notes:"Full payment for PO-001 - Q4 restock",createdAt:"2025-10-05T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Check",amountPaid:16225,notes:"50% deposit for office furniture",createdAt:"2025-10-20T14:30:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-005",billNumber:"FC-INV-4590",paymentMode:"Bank Transfer",amountPaid:4485,notes:"Full payment for filing cabinets",createdAt:"2025-11-05T09:15:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-28",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Credit Card",amountPaid:25e3,notes:"Partial payment for electronics shipment",createdAt:"2025-09-28T11:00:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-10-30",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Bank Transfer",amountPaid:25e3,notes:"Final payment for electronics shipment",createdAt:"2025-10-30T15:45:00Z",createdBy:"1",archived:!1},{id:"TRX-006",trxDate:"2025-11-02",supplierId:"SUP-005",supplierName:"Premium Parts Ltd",country:"United Kingdom",city:"London",poId:"PO-003",billNumber:"PP-UK-2025-456",paymentMode:"Online Payment",amountPaid:15e3,notes:"Payment for premium components",createdAt:"2025-11-02T08:30:00Z",createdBy:"2",archived:!1},{id:"TRX-007",trxDate:"2025-10-12",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-004",billNumber:"TS-INV-2025-234",paymentMode:"Cash",amountPaid:3500,notes:"Advance payment for monitor order",createdAt:"2025-10-12T13:20:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-11-08",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Bank Transfer",amountPaid:8e3,notes:"Second installment for furniture order",createdAt:"2025-11-08T10:00:00Z",createdBy:"1",archived:!1}];let nt=Po(_e.PAYMENTS,wH);nt=nt.map(n=>({...n,archived:n.archived??!1}));xe(_e.PAYMENTS,nt);function EH(){const n=nt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function lG(){return Se([...nt])}async function cG(n){const e=n.id||EH(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,supplierId:n.supplierId,supplierName:n.supplierName,country:n.country||"",city:n.city||"",poId:n.poId,billNumber:n.billNumber||"",paymentMode:n.paymentMode,amountPaid:n.amountPaid,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return nt=[...nt,r],xe(_e.PAYMENTS,nt),Se(r)}async function uG(n){const e=nt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Payment transaction with ID ${n.id} not found`);const t=nt[e],r={...t,trxDate:n.trxDate??t.trxDate,supplierId:n.supplierId??t.supplierId,supplierName:n.supplierName??t.supplierName,country:n.country??t.country,city:n.city??t.city,poId:n.poId??t.poId,billNumber:n.billNumber??t.billNumber,paymentMode:n.paymentMode??t.paymentMode,amountPaid:n.amountPaid??t.amountPaid,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return nt=[...nt.slice(0,e),r,...nt.slice(e+1)],xe(_e.PAYMENTS,nt),Se(r)}async function dG(n){const e=nt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...nt[e],archived:!0,archivedAt:new Date().toISOString()};return nt=[...nt.slice(0,e),t,...nt.slice(e+1)],xe(_e.PAYMENTS,nt),Se(t)}async function hG(n){const e=nt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...nt[e],archived:!1,archivedAt:void 0};return nt=[...nt.slice(0,e),t,...nt.slice(e+1)],xe(_e.PAYMENTS,nt),Se(t)}async function fG(n){if(nt.findIndex(t=>t.id===n)===-1)throw new Error(`Payment transaction with ID ${n} not found`);return nt=nt.filter(t=>t.id!==n),xe(_e.PAYMENTS,nt),Se(void 0)}async function pG(n){const e=new Date().toISOString(),t=[];return nt=nt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),xe(_e.PAYMENTS,nt),Se(t)}async function mG(n){const e=[];return nt=nt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),xe(_e.PAYMENTS,nt),Se(e)}async function gG(n){return nt=nt.filter(e=>!n.includes(e.id)),xe(_e.PAYMENTS,nt),Se(void 0)}function Fk(n){const e={};for(const t of Object.keys(n))n[t]!==void 0&&(e[t]=n[t]);return e}function Em(n,e,t){return n<=0?"Critical":t!==void 0&&n<=t||e?"Low Stock":"In Stock"}async function bH(){const n=await PR(lm(Ut,Cn.INVENTORY));let e=0;return n.forEach(t=>{const s=t.id.match(/INV-(\d+)/);if(s){const i=parseInt(s[1],10);i>e&&(e=i)}}),`INV-${String(e+1).padStart(3,"0")}`}function xH(n,e){return kR(lm(Ut,Cn.INVENTORY),t=>{const r=[];t.forEach(s=>{const i=s.data();r.push({id:s.id,name:i.name,category:i.category,subcategory:i.subcategory,quantity:i.quantity||0,location:i.location,status:i.status||Em(i.quantity||0,i.reorderRequired||!1,i.reorderLevel),brand:i.brand||"",pricePerPiece:i.pricePerPiece||0,supplierId:i.supplierId||"",quantityPurchased:i.quantityPurchased||0,quantitySold:i.quantitySold||0,reorderRequired:i.reorderRequired||!1,reorderLevel:i.reorderLevel,photoUrl:i.photoUrl,description:i.description,archived:i.archived||!1,archivedAt:i.archivedAt})}),n(r)},e)}async function yG(n){const e=n.id&&n.id.trim()!==""?n.id:await bH(),t=Math.max(0,Math.floor(n.quantity)),r=Math.max(0,Math.floor(n.quantityPurchased)),s=Math.max(0,Math.floor(n.quantitySold)),i=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):void 0,l=i!==void 0&&t<=i?!0:n.reorderRequired,u=Em(t,l,i),h={id:e,name:n.name.trim(),category:n.category,subcategory:n.subcategory,quantity:t,location:n.location.trim(),status:u,brand:n.brand.trim(),pricePerPiece:n.pricePerPiece,supplierId:n.supplierId.trim(),quantityPurchased:r,quantitySold:s,reorderRequired:l,reorderLevel:i,photoUrl:n.photoUrl,description:n.description};if((await Ao(Sr(Ut,Cn.INVENTORY,e))).exists())throw new Error(`Item with id ${e} already exists`);const g=Fk(h);return await xw(Sr(Ut,Cn.INVENTORY,e),g),h}async function vG(n){const e=Sr(Ut,Cn.INVENTORY,n.id),t=await Ao(e);if(!t.exists())throw new Error("Item not found");const r=t.data(),s=n.quantity!==void 0?Math.max(0,Math.floor(n.quantity)):r.quantity,i=n.quantityPurchased!==void 0?Math.max(0,Math.floor(n.quantityPurchased)):r.quantityPurchased,l=n.quantitySold!==void 0?Math.max(0,Math.floor(n.quantitySold)):r.quantitySold,u=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):r.reorderLevel;let h=n.reorderRequired!==void 0?n.reorderRequired:r.reorderRequired;u!==void 0&&s<=u&&(h=!0);const p={...r,...n,quantity:s,quantityPurchased:i,quantitySold:l,reorderRequired:h,reorderLevel:u,status:Em(s,h,u)},g=Fk(p);return await dm(e,g),p}async function SH(n){const e=Sr(Ut,Cn.INVENTORY,n);if(!(await Ao(e)).exists())throw new Error("Item not found");await RR(e)}async function _G(n){const e=Sr(Ut,Cn.INVENTORY,n),t=await Ao(e);if(!t.exists())throw new Error("Item not found");const s={...t.data(),id:n,archived:!0,archivedAt:new Date().toISOString()};return await dm(e,{archived:!0,archivedAt:new Date().toISOString()}),s}async function wG(n){const e=Sr(Ut,Cn.INVENTORY,n),t=await Ao(e);if(!t.exists())throw new Error("Item not found");const s={...t.data(),id:n,archived:!1,archivedAt:void 0};return await dm(e,{archived:!1,archivedAt:null}),s}async function EG(n){await SH(n)}async function bG(n){const e=fm(Ut),t=[];let r=0;for(const s of n){const i=Sr(Ut,Cn.INVENTORY,s);if(!(await Ao(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!0,archivedAt:new Date().toISOString()}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function xG(n){const e=fm(Ut),t=[];let r=0;for(const s of n){const i=Sr(Ut,Cn.INVENTORY,s);if(!(await Ao(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!1,archivedAt:null}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function IH(n){const e=fm(Ut),t=[];let r=0;for(const s of n){const i=Sr(Ut,Cn.INVENTORY,s);if(!(await Ao(i)).exists()){t.push(`Item ${s} not found`);continue}e.delete(i),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function SG(n){return IH(n)}async function IG(n,e){const t=fm(Ut),r=[];let s=0;for(const i of n){const l=Sr(Ut,Cn.INVENTORY,i),u=await Ao(l);if(!u.exists()){r.push(`Item ${i} not found`);continue}const h=u.data(),p=e.quantity!==void 0?Math.max(0,Math.floor(e.quantity)):h.quantity,g=e.reorderRequired!==void 0?e.reorderRequired:h.reorderRequired,m=Em(p,g);t.update(l,{...e,status:m}),s++}return await t.commit(),{success:r.length===0,successCount:s,failedCount:r.length,errors:r.length>0?r:void 0}}const Uk=b.createContext(void 0);function TH({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(null),[i,l]=b.useState(null),[u,h]=b.useState({inventory:!0,shipments:!0,suppliers:!0}),p=b.useRef(null);b.useEffect(()=>(p.current=xH(C=>{t(C),h(R=>({...R,inventory:!1}))},C=>{console.error("Firebase inventory subscription error:",C),h(R=>({...R,inventory:!1}))}),()=>{p.current&&p.current()}),[]),b.useEffect(()=>{g()},[]);async function g(){await Promise.all([E(),S()])}async function m(){}async function E(){h(C=>({...C,shipments:!0}));try{const C=await gH();s(C)}finally{h(C=>({...C,shipments:!1}))}}async function S(){h(C=>({...C,suppliers:!0}));try{const C=await mH();l(C)}finally{h(C=>({...C,suppliers:!1}))}}const k={inventory:e,shipments:r,suppliers:i,isLoading:u,setInventory:t,setShipments:s,setSuppliers:l,refreshInventory:m,refreshShipments:E,refreshSuppliers:S};return v.jsx(Uk.Provider,{value:k,children:n})}function Uw(){const n=b.useContext(Uk);if(n===void 0)throw new Error("useAppContext must be used within an AppProvider");return n}function TG(){const{inventory:n,isLoading:e,setInventory:t,refreshInventory:r}=Uw();return{inventory:n,isLoading:e.inventory,setInventory:t,refreshInventory:r}}function CG(){const{suppliers:n,isLoading:e,setSuppliers:t,refreshSuppliers:r}=Uw();return{suppliers:n,isLoading:e.suppliers,setSuppliers:t,refreshSuppliers:r}}function CH(n,e=300){const[t,r]=b.useState(n);return b.useEffect(()=>{const s=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(s)}},[n,e]),t}const xu="wms_recent_searches",AH=10,pf=2,Su=10,ky={inventory:{name:"Inventory",icon:xp,view:"inventory"},orders:{name:"Orders",icon:kI,view:"orders"},"purchase-orders":{name:"Purchase Orders",icon:Vv,view:"purchase-orders"},shipments:{name:"Shipments",icon:Lv,view:"shipments"},suppliers:{name:"Suppliers",icon:NI,view:"suppliers"}},PH=[{syntax:"status:critical",description:"Filter by status"},{syntax:"category:electronics",description:"Filter by category"},{syntax:"module:inventory",description:"Search in specific module"},{syntax:"supplier:ABC Corp",description:"Filter by supplier"},{syntax:"location:warehouse-a",description:"Filter by location"},{syntax:"price:>100",description:"Numeric range filter"}];function RH({open:n,onOpenChange:e,onNavigate:t}){const[r,s]=b.useState(""),[i,l]=b.useState(0),[u,h]=b.useState(!1),[p,g]=b.useState([]),[m,E]=b.useState(!1),[S,k]=b.useState([]),C=b.useRef(null),R=b.useRef(null),{inventory:V,orders:U,shipments:z,suppliers:q}=Uw(),{user:W}=Md(),J=CH(r,300);b.useEffect(()=>{if(W){const Y=localStorage.getItem(xu);if(Y)try{const F=JSON.parse(Y);k(F[W.id]||[])}catch{k([])}}},[W]),b.useEffect(()=>{n?(yH().then(g).catch(console.error),C.current?.focus()):(s(""),l(0),E(!1))},[n]);const P=b.useCallback(Y=>{if(!W||Y.length<pf)return;const F=localStorage.getItem(xu);let G={};if(F)try{G=JSON.parse(F)}catch{}const ie=(G[W.id]||[]).filter(Te=>Te!==Y),fe=[Y,...ie].slice(0,AH);G[W.id]=fe,localStorage.setItem(xu,JSON.stringify(G)),k(fe)},[W]),I=b.useCallback(()=>{if(!W)return;const Y=localStorage.getItem(xu);let F={};if(Y)try{F=JSON.parse(Y)}catch{}delete F[W.id],localStorage.setItem(xu,JSON.stringify(F)),k([])},[W]),A=b.useCallback(Y=>{const F=[];let G=Y;const oe=/(\w+):([<>=]*)([^\s]+)/g;let ie;for(;(ie=oe.exec(Y))!==null;){const[fe,Te,we,Ie]=ie;F.push({key:Te.toLowerCase(),value:Ie,operator:we}),G=G.replace(fe,"").trim()}return{filters:F,cleanQuery:G}},[]),O=b.useMemo(()=>{if(J.length<pf)return[];h(!0);const{filters:Y,cleanQuery:F}=A(J),G=F.toLowerCase(),oe=[],ie=Y.find(Qe=>Qe.key==="module")?.value.toLowerCase(),fe=Y.find(Qe=>Qe.key==="status")?.value.toLowerCase(),Te=Y.find(Qe=>Qe.key==="category")?.value.toLowerCase(),we=Y.find(Qe=>Qe.key==="supplier")?.value.toLowerCase(),Ie=Y.find(Qe=>Qe.key==="location")?.value.toLowerCase(),Ge=Y.find(Qe=>Qe.key==="price");return(!ie||ie==="inventory")&&(V||[]).filter(ye=>{if(fe&&ye.status.toLowerCase()!==fe||Te&&ye.category.toLowerCase()!==Te||Ie&&!ye.location.toLowerCase().includes(Ie))return!1;if(Ge){const xt=ye.pricePerPiece,hn=parseFloat(Ge.value);if(Ge.operator===">"&&xt<=hn||Ge.operator==="<"&&xt>=hn)return!1}return F?ye.id.toLowerCase().includes(G)||ye.name.toLowerCase().includes(G)||ye.brand.toLowerCase().includes(G)||ye.category.toLowerCase().includes(G)||ye.location.toLowerCase().includes(G):!0}).slice(0,Su).forEach(ye=>{const xt=[];ye.id.toLowerCase().includes(G)&&xt.push("ID"),ye.name.toLowerCase().includes(G)&&xt.push("Name"),ye.brand.toLowerCase().includes(G)&&xt.push("Brand"),oe.push({id:ye.id,title:ye.name,subtitle:`${ye.id}  ${ye.brand}  ${ye.category}  ${ye.location}`,module:"inventory",moduleName:"Inventory",icon:xp,matchedFields:xt})}),(!ie||ie==="orders")&&(U||[]).filter(ye=>fe&&ye.status.toLowerCase()!==fe?!1:F?ye.id.toLowerCase().includes(G)||ye.customer.toLowerCase().includes(G)||ye.status.toLowerCase().includes(G):!0).slice(0,Su).forEach(ye=>{oe.push({id:ye.id,title:ye.customer,subtitle:`${ye.id}  ${ye.status}  ${ye.total}`,module:"orders",moduleName:"Orders",icon:kI,matchedFields:[]})}),(!ie||ie==="purchase-orders"||ie==="po")&&p.filter(ye=>fe&&ye.status.toLowerCase().replace(/\s/g,"-")!==fe||we&&!ye.supplierName.toLowerCase().includes(we)?!1:F?ye.id.toLowerCase().includes(G)||ye.supplierName.toLowerCase().includes(G)||ye.status.toLowerCase().includes(G):!0).slice(0,Su).forEach(ye=>{oe.push({id:ye.id,title:`${ye.id} - ${ye.supplierName}`,subtitle:`${ye.status}  ${ye.totalAmount.toLocaleString()}`,module:"purchase-orders",moduleName:"Purchase Orders",icon:Vv,matchedFields:[]})}),(!ie||ie==="shipments")&&(z||[]).filter(ye=>fe&&ye.status.toLowerCase().replace(/\s/g,"-")!==fe?!1:F?ye.id.toLowerCase().includes(G)||ye.orderId.toLowerCase().includes(G)||ye.destination.toLowerCase().includes(G)||ye.carrier.toLowerCase().includes(G):!0).slice(0,Su).forEach(ye=>{oe.push({id:ye.id,title:`${ye.id}  ${ye.destination}`,subtitle:`Order: ${ye.orderId}  ${ye.carrier}  ${ye.status}`,module:"shipments",moduleName:"Shipments",icon:Lv,matchedFields:[]})}),(!ie||ie==="suppliers")&&(q||[]).filter(ye=>fe&&ye.status.toLowerCase()!==fe||Te&&!ye.category.toLowerCase().includes(Te)?!1:F?ye.id.toLowerCase().includes(G)||ye.name.toLowerCase().includes(G)||ye.contact.toLowerCase().includes(G)||ye.email.toLowerCase().includes(G)||ye.category.toLowerCase().includes(G):!0).slice(0,Su).forEach(ye=>{oe.push({id:ye.id,title:ye.name,subtitle:`${ye.id}  ${ye.contact}  ${ye.category}`,module:"suppliers",moduleName:"Suppliers",icon:NI,matchedFields:[]})}),h(!1),oe},[J,V,U,p,z,q,A]),M=b.useMemo(()=>{const Y={inventory:[],orders:[],"purchase-orders":[],shipments:[],suppliers:[]};return O.forEach(F=>{Y[F.module].push(F)}),Y},[O]),L=b.useMemo(()=>Object.values(M).flat(),[M]),N=b.useMemo(()=>A(r).filters,[r,A]),de=b.useCallback(Y=>{P(r),t(ky[Y.module].view,Y.id),e(!1)},[r,P,t,e]),Ve=b.useCallback(Y=>{s(Y)},[]),pe=b.useCallback(Y=>{const F=new RegExp(`${Y}:[^\\s]+\\s*`,"gi");s(G=>G.replace(F,"").trim())},[]);b.useEffect(()=>{const Y=F=>{if(n)switch(F.key){case"ArrowDown":F.preventDefault(),l(G=>Math.min(G+1,L.length-1));break;case"ArrowUp":F.preventDefault(),l(G=>Math.max(G-1,0));break;case"Enter":F.preventDefault(),L[i]&&de(L[i]);break;case"Escape":e(!1);break}};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[n,L,i,de,e]),b.useEffect(()=>{l(0)},[L]);const me=(Y,F)=>{if(!F||F.length<pf)return Y;const{cleanQuery:G}=A(F);if(!G)return Y;const oe=new RegExp(`(${G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return Y.split(oe).map((fe,Te)=>oe.test(fe)?v.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-800 rounded px-0.5",children:fe},Te):fe)},H=r.length===0&&S.length>0,ne=r.length>=pf&&O.length===0&&!u;return v.jsx(xk,{open:n,onOpenChange:e,children:v.jsxs(Sk,{className:"max-w-2xl p-0 gap-0 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center border-b px-4 py-3 gap-3",children:[v.jsx(Of,{className:"h-5 w-5 text-muted-foreground shrink-0"}),v.jsx(Iu,{ref:C,value:r,onChange:Y=>s(Y.target.value),placeholder:"Search across all modules... (type ? for help)",className:"border-0 focus-visible:ring-0 p-0 h-auto text-base","aria-label":"Global search"}),u&&v.jsx(Bu,{className:"h-4 w-4 animate-spin text-muted-foreground"}),v.jsx("button",{onClick:()=>E(!m),className:"p-1 hover:bg-muted rounded",title:"Show filter syntax help",children:v.jsx(S2,{className:"h-4 w-4 text-muted-foreground"})})]}),N.length>0&&v.jsx("div",{className:"flex flex-wrap gap-2 px-4 py-2 border-b bg-muted/30",children:N.map((Y,F)=>v.jsxs(vI,{variant:"secondary",className:"gap-1 pr-1",children:[v.jsxs("span",{className:"font-medium",children:[Y.key,":"]}),v.jsxs("span",{children:[Y.operator||"",Y.value]}),v.jsx("button",{onClick:()=>pe(Y.key),className:"ml-1 hover:bg-muted rounded-full p-0.5",children:v.jsx(jv,{className:"h-3 w-3"})})]},F))}),m&&v.jsxs("div",{className:"px-4 py-3 border-b bg-blue-50 dark:bg-blue-950/30",children:[v.jsx("p",{className:"text-sm font-medium mb-2",children:"Filter Syntax:"}),v.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:PH.map((Y,F)=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:Y.syntax}),v.jsx("span",{className:"text-muted-foreground",children:Y.description})]},F))})]}),v.jsxs(Fw,{className:"max-h-[400px]",ref:R,children:[H&&v.jsxs("div",{className:"p-2",children:[v.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-1",children:[v.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Recent Searches"}),v.jsx("button",{onClick:I,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear all"})]}),S.map((Y,F)=>v.jsxs("button",{onClick:()=>Ve(Y),className:"flex items-center gap-3 w-full px-3 py-2 text-left hover:bg-muted rounded-md transition-colors",children:[v.jsx(P2,{className:"h-4 w-4 text-muted-foreground"}),v.jsx("span",{className:"text-sm",children:Y})]},F))]}),ne&&v.jsxs("div",{className:"p-8 text-center",children:[v.jsx(iD,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),v.jsxs("p",{className:"text-muted-foreground",children:['No results found for "',r,'"']}),v.jsxs("p",{className:"text-sm text-muted-foreground/70 mt-1",children:["Try different keywords or use filters like ",v.jsx("code",{className:"bg-muted px-1 rounded",children:"status:active"})]})]}),O.length>0&&v.jsx("div",{className:"p-2",children:Object.entries(M).filter(([,Y])=>Y.length>0).map(([Y,F])=>v.jsxs("div",{className:"mb-4 last:mb-0",children:[v.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 mb-1",children:[(()=>{const G=ky[Y].icon;return v.jsx(G,{className:"h-4 w-4 text-muted-foreground"})})(),v.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:ky[Y].name}),v.jsx(vI,{variant:"secondary",className:"h-5 px-1.5 text-xs",children:F.length})]}),F.map((G,oe)=>{const fe=L.indexOf(G)===i;return v.jsxs("button",{onClick:()=>de(G),className:Be("flex items-start gap-3 w-full px-3 py-2 text-left rounded-md transition-colors",fe?"bg-primary/10 text-primary":"hover:bg-muted"),children:[v.jsx(G.icon,{className:"h-4 w-4 mt-0.5 shrink-0"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"font-medium text-sm truncate",children:me(G.title,r)}),v.jsx("div",{className:"text-xs text-muted-foreground truncate",children:me(G.subtitle,r)})]})]},G.id)})]},Y))}),r.length===0&&S.length===0&&v.jsxs("div",{className:"p-8 text-center",children:[v.jsx(Of,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),v.jsx("p",{className:"text-muted-foreground",children:"Start typing to search across all modules"}),v.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Search inventory, orders, purchase orders, shipments, and suppliers"})]})]}),v.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t bg-muted/30 text-xs text-muted-foreground",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),"to navigate"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Enter"}),"to select"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Esc"}),"to close"]})]}),v.jsxs("span",{children:[O.length," result",O.length!==1?"s":""]})]})]})})}function kH(){const[n,e]=b.useState(!1);return b.useEffect(()=>{const t=r=>{(r.metaKey||r.ctrlKey)&&r.key==="k"&&(r.preventDefault(),e(s=>!s))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),{open:n,setOpen:e}}function NH({setCurrentView:n,setCommandPaletteOpen:e}){const{user:t,logout:r}=Md(),s=()=>{r(),Mn.success("Logged out successfully")};return v.jsxs("header",{className:"shrink-0 z-50 flex h-14 items-center gap-4 border-b bg-background px-4 sm:px-6",children:[v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsxs("h1",{className:"text-sm font-semibold truncate sm:text-base",children:[v.jsx("span",{className:"hidden lg:inline",children:"Warehouse Management System "}),v.jsx("span",{className:"lg:hidden",children:"WMS"})]}),v.jsx("p",{className:"text-xs text-muted-foreground truncate lg:hidden",children:"Inventory & Supply Chain"})]}),v.jsxs(Ia,{variant:"outline",className:"hidden sm:flex w-64 justify-start text-muted-foreground gap-2",onClick:()=>e(!0),children:[v.jsx(Of,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"truncate",children:"Search everything..."}),v.jsxs("kbd",{className:"ml-auto pointer-events-none hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium md:inline-flex",children:[v.jsx(k2,{className:"h-3 w-3"}),"K"]})]}),v.jsxs(Ia,{variant:"outline",size:"icon",className:"sm:hidden shrink-0",onClick:()=>e(!0),children:[v.jsx(Of,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Search"})]}),t&&v.jsxs(dC,{modal:!1,children:[v.jsx(hC,{asChild:!0,children:v.jsxs("button",{type:"button",className:"flex items-center gap-2 px-2 py-1.5 rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:[v.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:v.jsx(Ny,{className:"h-4 w-4 text-primary"})}),v.jsxs("div",{className:"hidden md:flex flex-col items-start text-left",children:[v.jsx("span",{className:"text-sm font-medium truncate max-w-[120px]",children:t.name}),v.jsx("span",{className:"text-xs text-muted-foreground",children:t.role})]}),v.jsx(v2,{className:"h-4 w-4 text-muted-foreground hidden md:block"})]})}),v.jsxs(m_,{align:"end",className:"w-56",sideOffset:8,children:[v.jsx(g_,{className:"font-normal",children:v.jsxs("div",{className:"flex flex-col space-y-1",children:[v.jsx("p",{className:"text-sm font-medium leading-none",children:t.name}),v.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),v.jsx(y_,{}),v.jsxs(Zu,{onSelect:()=>n("profile"),children:[v.jsx(Ny,{className:"mr-2 h-4 w-4"}),"View Profile"]}),v.jsxs(Zu,{onSelect:s,className:"text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400",children:[v.jsx(H2,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})}const _I=ce.lazy(()=>ls(()=>import("./dashboard-DlT5QjMV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(n=>({default:n.Dashboard}))),DH=ce.lazy(()=>ls(()=>import("./inventory-view-DpGdo21e.js"),__vite__mapDeps([9,10,11,1,12,7,13,2,14,3,4,15,16,17,18,19,20])).then(n=>({default:n.InventoryView}))),OH=ce.lazy(()=>ls(()=>import("./purchase-orders-view-D9rp5M4o.js"),__vite__mapDeps([21,10,22,11,1,23,2,14,19,3,4,15,8])).then(n=>({default:n.PurchaseOrdersView}))),MH=ce.lazy(()=>ls(()=>import("./sales-orders-view-41Rf6k0G.js"),__vite__mapDeps([24,2,11,1,10,23,22,19,3,4,15])).then(n=>({default:n.SalesOrdersView}))),VH=ce.lazy(()=>ls(()=>import("./shipments-view-DOoOKOvG.js"),__vite__mapDeps([25,10,11,1,6,23,12,7,13,2,14,26,4,18])).then(n=>({default:n.ShipmentsView}))),LH=ce.lazy(()=>ls(()=>import("./suppliers-view-rQlQK4jO.js"),__vite__mapDeps([27,10,11,1,23,12,7,13,2,14,26,15,28,20,18,4,3,16])).then(n=>({default:n.SuppliersView}))),jH=ce.lazy(()=>ls(()=>import("./customers-view-C1S6GJB6.js"),__vite__mapDeps([29,10,11,1,23,12,7,13,2,14,26,15,28,16,18,3])).then(n=>({default:n.CustomersView}))),FH=ce.lazy(()=>ls(()=>import("./user-management-view-Bj1Nbh51.js"),__vite__mapDeps([30,10,2,13,31])).then(n=>({default:n.UserManagementView}))),UH=ce.lazy(()=>ls(()=>import("./admin-profile-view-CXiJxNWq.js"),__vite__mapDeps([32,17,31,26,28,18,6])).then(n=>({default:n.AdminProfileView}))),zH=ce.lazy(()=>ls(()=>import("./cash-bank-view-BRuLLiod.js"),__vite__mapDeps([33,2,11,1,10,23,22,3,5,15])).then(n=>({default:n.CashBankView}))),$H=ce.lazy(()=>ls(()=>import("./payments-view-DCB1P6SW.js"),__vite__mapDeps([34,2,11,1,10,23,22,3,5,15])).then(n=>({default:n.PaymentsView}))),BH=["dashboard","inventory","purchase-orders","sales-orders","shipments","suppliers","customers","cash-bank","payments","users","profile"];function wI(){const n=window.location.hash.slice(1);return n&&BH.includes(n)?n:"dashboard"}function qH(){const{isAuthenticated:n,isLoading:e}=Md(),[t,r]=b.useState(wI),[s,i]=b.useState(null),[l,u]=b.useState(void 0),{open:h,setOpen:p}=kH();b.useEffect(()=>{const C=t==="dashboard"?"":`#${t}`;window.location.hash!==C&&window.location.hash!==`#${t}`&&window.history.replaceState(null,"",C||window.location.pathname)},[t]),b.useEffect(()=>{const C=()=>{const R=wI();r(R)};return window.addEventListener("hashchange",C),()=>window.removeEventListener("hashchange",C)},[]);const g=b.useCallback((C,R=!1)=>{r(C),R&&C!=="dashboard"&&i(C)},[]),m=b.useCallback((C,R)=>{r(C),u(R)},[]),E=b.useCallback(()=>{i(null)},[]),S=b.useCallback(()=>{u(void 0)},[]);if(e)return v.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx(Bu,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),v.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})});if(!n)return v.jsxs(qS,{onError:Ov,children:[v.jsx(Qq,{}),v.jsx(BS,{})]});const k=()=>{switch(t){case"dashboard":return v.jsx(_I,{navigateToView:g});case"inventory":return v.jsx(DH,{initialOpenDialog:s==="inventory",onDialogOpened:E,initialItemId:l,onItemDialogOpened:S});case"purchase-orders":return v.jsx(OH,{initialOpenDialog:s==="purchase-orders",onDialogOpened:E});case"sales-orders":return v.jsx(MH,{});case"shipments":return v.jsx(VH,{initialOpenDialog:s==="shipments",onDialogOpened:E});case"suppliers":return v.jsx(LH,{initialOpenDialog:s==="suppliers",onDialogOpened:E,initialSupplierId:l,onSupplierDialogOpened:S});case"customers":return v.jsx(jH,{initialOpenDialog:s==="customers",onDialogOpened:E,initialCustomerId:l,onCustomerDialogOpened:S});case"cash-bank":return v.jsx(zH,{});case"payments":return v.jsx($H,{});case"users":return v.jsx(FH,{});case"profile":return v.jsx(UH,{});default:return v.jsx(_I,{navigateToView:g})}};return v.jsx(qS,{onError:Ov,children:v.jsxs(kL,{children:[v.jsx(L9,{currentView:t,setCurrentView:r}),v.jsxs(OL,{className:"flex flex-col bg-muted/30 h-screen overflow-hidden",children:[v.jsx(NH,{setCurrentView:r,setCommandPaletteOpen:p}),v.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-6",children:v.jsx(b.Suspense,{fallback:v.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[v.jsx(Bu,{className:"h-4 w-4 animate-spin"})," Loading..."]}),children:k()})})]}),v.jsx(RH,{open:h,onOpenChange:p,onNavigate:m}),v.jsx(BS,{})]})})}const EI="wms_favorites",bI="wms_saved_searches",zk=b.createContext(void 0),HH=[{id:"ql-1",label:"Low Stock Items",entityType:"inventory",filters:{status:"Low Stock"},icon:"alert"},{id:"ql-2",label:"Critical Stock",entityType:"inventory",filters:{status:"Critical"},icon:"alert-circle"},{id:"ql-3",label:"Pending Orders",entityType:"orders",filters:{status:"Pending"},icon:"clock"},{id:"ql-4",label:"Processing Orders",entityType:"orders",filters:{status:"Processing"},icon:"loader"},{id:"ql-5",label:"In Transit Shipments",entityType:"shipments",filters:{status:"In Transit"},icon:"truck"},{id:"ql-6",label:"Active Suppliers",entityType:"suppliers",filters:{status:"Active"},icon:"users"}];function WH({children:n}){const[e,t]=b.useState([]),[r,s]=b.useState([]),[i]=b.useState(HH);b.useEffect(()=>{try{const C=localStorage.getItem(EI);C&&t(JSON.parse(C));const R=localStorage.getItem(bI);R&&s(JSON.parse(R))}catch(C){console.error("Failed to load favorites from localStorage:",C)}},[]),b.useEffect(()=>{try{localStorage.setItem(EI,JSON.stringify(e))}catch(C){console.error("Failed to save favorites to localStorage:",C)}},[e]),b.useEffect(()=>{try{localStorage.setItem(bI,JSON.stringify(r))}catch(C){console.error("Failed to save searches to localStorage:",C)}},[r]);const l=b.useCallback((C,R,V)=>{t(U=>U.some(W=>W.entityType===C&&W.entityId===R)?U:[{id:`fav-${C}-${R}-${Date.now()}`,entityType:C,entityId:R,entityName:V,favoritedAt:new Date().toISOString()},...U])},[]),u=b.useCallback((C,R)=>{t(V=>V.filter(U=>!(U.entityType===C&&U.entityId===R)))},[]),h=b.useCallback((C,R,V)=>{t(U=>U.some(q=>q.entityType===C&&q.entityId===R)?U.filter(q=>!(q.entityType===C&&q.entityId===R)):[{id:`fav-${C}-${R}-${Date.now()}`,entityType:C,entityId:R,entityName:V,favoritedAt:new Date().toISOString()},...U])},[]),p=b.useCallback((C,R)=>e.some(V=>V.entityType===C&&V.entityId===R),[e]),g=b.useCallback(C=>e.filter(R=>R.entityType===C),[e]),m=b.useCallback((C=10)=>[...e].sort((R,V)=>new Date(V.favoritedAt).getTime()-new Date(R.favoritedAt).getTime()).slice(0,C),[e]),E=b.useCallback((C,R,V,U)=>{const z={id:`search-${Date.now()}`,name:C,entityType:R,searchTerm:V,filters:U||{},createdAt:new Date().toISOString()};s(q=>[z,...q])},[]),S=b.useCallback(C=>{s(R=>R.filter(V=>V.id!==C))},[]),k=b.useCallback(C=>r.filter(R=>R.entityType===C),[r]);return v.jsx(zk.Provider,{value:{favorites:e,savedSearches:r,quickLinks:i,addFavorite:l,removeFavorite:u,toggleFavorite:h,isFavorite:p,getFavoritesByType:g,getRecentFavorites:m,saveSearch:E,deleteSearch:S,getSearchesByType:k},children:n})}function AG(){const n=b.useContext(zk);if(!n)throw new Error("useFavorites must be used within a FavoritesProvider");return n}const GH=k9;n2.createRoot(document.getElementById("root")).render(v.jsx(GH,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:v.jsx(C9,{children:v.jsx(WH,{children:v.jsx(TH,{children:v.jsx(qH,{})})})})}));window.addEventListener("error",n=>{const e=n.error instanceof Error?n.error:new Error(String(n.message));Ov(e)});export{bG as $,Mn as A,Ia as B,LR as C,xk as D,Sk as E,Rq as F,Nq as G,Dq as H,Fl as I,Iu as J,kq as K,F2 as L,TG as M,CG as N,AG as O,xp as P,QW as Q,ce as R,kI as S,gD as T,NI as U,CH as V,xD as W,vG as X,tW as Y,yG as Z,IH as _,KH as a,rW as a$,xG as a0,SG as a1,IG as a2,JH as a3,jv as a4,Of as a5,dC as a6,hC as a7,m_ as a8,g_ as a9,OW as aA,UW as aB,jW as aC,cW as aD,$W as aE,KW as aF,WW as aG,HW as aH,qW as aI,BW as aJ,ZW as aK,GW as aL,gH as aM,EW as aN,xW as aO,SW as aP,wW as aQ,bW as aR,nW as aS,IW as aT,iW as aU,aW as aV,lW as aW,TW as aX,G2 as aY,sW as aZ,oW as a_,y_ as aa,uj as ab,HS as ac,M2 as ad,Fw as ae,ID as af,YW as ag,XW as ah,wG as ai,_G as aj,EG as ak,XH as al,RI as am,mH as an,eW as ao,CW as ap,FW as aq,AW as ar,PW as as,RW as at,kW as au,NW as av,DW as aw,VW as ax,LW as ay,MW as az,AI as b,dW as b0,mW as b1,gW as b2,yW as b3,vW as b4,_W as b5,uW as b6,fW as b7,pW as b8,hW as b9,Np as bA,a_ as bB,wc as bC,Q1 as bD,Ws as bE,va as bF,dT as bG,Et as bH,Y1 as bI,ht as bJ,je as bK,vo as bL,Ip as bM,Uv as bN,fC as bO,rL as bP,Ln as bQ,s1 as bR,ZI as bS,$v as bT,Jl as bU,zv as bV,Sp as bW,X1 as bX,Oq as bY,J1 as bZ,b2 as b_,dD as ba,_D as bb,Ny as bc,cb as bd,Ek as be,Dv as bf,D2 as bg,Bu as bh,eG as bi,iG as bj,oG as bk,rG as bl,sG as bm,tG as bn,nG as bo,aG as bp,cG as bq,mG as br,pG as bs,hG as bt,fG as bu,uG as bv,dG as bw,gG as bx,w2 as by,v2 as bz,rt as c,Be as d,bp as e,II as f,xI as g,wp as h,Md as i,v as j,CD as k,yH as l,zW as m,JW as n,lG as o,sD as p,jR as q,b as r,FR as s,zR as t,Uw as u,Lv as v,Vv as w,UR as x,P2 as y,vI as z};
