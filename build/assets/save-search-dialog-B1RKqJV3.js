import{c as Lt,F as Ee,j as r,B as Y,d as N,N as Gt,at as ge,r as a,au as pe,av as E,aw as g,ax as K,ay as Pe,az as je,aA as xe,aB as Te,aC as Kt,aD as $t,aE as ae,aF as Ut,aG as Bt,aH as zt,aI as Vt,aJ as Yt,aK as Ht,aL as Xt,aM as Wt,aN as qt,aO as Jt,aP as Ae,a4 as Qt,D as Zt,K as en,aQ as Ne,v as tn,w as nn,x as on,y as rn,L as an,I as sn,t as ne}from"./index-C9eF3i-L.js";import{l as Oe,T as cn}from"./sortable-table-head-o8kPM50i.js";import{C as un}from"./bulk-delete-dialog-DJtL9qCe.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ln=Lt("circle",dn);function zo({entityType:e,entityId:n,entityName:t,size:o="sm",className:s}){const{isFavorite:c,toggleFavorite:l}=Ee(),d=c(e,n),v=f=>{f.stopPropagation(),l(e,n,t)};return r.jsx(Y,{variant:"ghost",size:o==="sm"?"icon":"default",className:N("h-8 w-8 p-0 hover:bg-transparent",d&&"text-yellow-500 hover:text-yellow-600",!d&&"text-muted-foreground hover:text-yellow-500",s),onClick:v,title:d?"Remove from favorites":"Add to favorites",children:r.jsx(Gt,{className:N("h-4 w-4 transition-all",d&&"fill-current")})})}var fe="rovingFocusGroup.onEntryFocus",fn={bubbles:!1,cancelable:!0},q="RovingFocusGroup",[me,ke,pn]=Oe(q),[mn,Fe]=ge(q,[pn]),[vn,hn]=mn(q),Le=a.forwardRef((e,n)=>r.jsx(me.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(me.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(gn,{...e,ref:n})})}));Le.displayName=q;var gn=a.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,orientation:o,loop:s=!1,dir:c,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:v,onEntryFocus:f,preventScrollOnEntryFocus:u=!1,...i}=e,h=a.useRef(null),M=K(n,h),x=Pe(c),[R,m]=je({prop:l,defaultProp:d??null,onChange:v,caller:q}),[w,P]=a.useState(!1),b=xe(f),S=ke(t),$=a.useRef(!1),[Z,j]=a.useState(0);return a.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(fe,b),()=>C.removeEventListener(fe,b)},[b]),r.jsx(vn,{scope:t,orientation:o,dir:x,loop:s,currentTabStopId:R,onItemFocus:a.useCallback(C=>m(C),[m]),onItemShiftTab:a.useCallback(()=>P(!0),[]),onFocusableItemAdd:a.useCallback(()=>j(C=>C+1),[]),onFocusableItemRemove:a.useCallback(()=>j(C=>C-1),[]),children:r.jsx(E.div,{tabIndex:w||Z===0?-1:0,"data-orientation":o,...i,ref:M,style:{outline:"none",...e.style},onMouseDown:g(e.onMouseDown,()=>{$.current=!0}),onFocus:g(e.onFocus,C=>{const F=!$.current;if(C.target===C.currentTarget&&F&&!w){const T=new CustomEvent(fe,fn);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const U=S().filter(D=>D.focusable),B=U.find(D=>D.active),ee=U.find(D=>D.id===R),ue=[B,ee,...U].filter(Boolean).map(D=>D.ref.current);$e(ue,u)}}$.current=!1}),onBlur:g(e.onBlur,()=>P(!1))})})}),Ge="RovingFocusGroupItem",Ke=a.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,focusable:o=!0,active:s=!1,tabStopId:c,children:l,...d}=e,v=pe(),f=c||v,u=hn(Ge,t),i=u.currentTabStopId===f,h=ke(t),{onFocusableItemAdd:M,onFocusableItemRemove:x,currentTabStopId:R}=u;return a.useEffect(()=>{if(o)return M(),()=>x()},[o,M,x]),r.jsx(me.ItemSlot,{scope:t,id:f,focusable:o,active:s,children:r.jsx(E.span,{tabIndex:i?0:-1,"data-orientation":u.orientation,...d,ref:n,onMouseDown:g(e.onMouseDown,m=>{o?u.onItemFocus(f):m.preventDefault()}),onFocus:g(e.onFocus,()=>u.onItemFocus(f)),onKeyDown:g(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const w=Mn(m,u.orientation,u.dir);if(w!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const S=b.indexOf(m.currentTarget);b=u.loop?Cn(b,S+1):b.slice(S+1)}setTimeout(()=>$e(b))}}),children:typeof l=="function"?l({isCurrentTabStop:i,hasTabStop:R!=null}):l})})});Ke.displayName=Ge;var xn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wn(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Mn(e,n,t){const o=wn(e.key,t);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return xn[o]}function $e(e,n=!1){const t=document.activeElement;for(const o of e)if(o===t||(o.focus({preventScroll:n}),document.activeElement!==t))return}function Cn(e,n){return e.map((t,o)=>e[(n+o)%e.length])}var _n=Le,Rn=Ke,ve=["Enter"," "],bn=["ArrowDown","PageUp","Home"],Ue=["ArrowUp","PageDown","End"],In=[...bn,...Ue],yn={ltr:[...ve,"ArrowRight"],rtl:[...ve,"ArrowLeft"]},Sn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},J="Menu",[X,Nn,Dn]=Oe(J),[O,Be]=ge(J,[Dn,Te,Fe]),se=Te(),ze=Fe(),[En,k]=O(J),[Pn,Q]=O(J),Ve=e=>{const{__scopeMenu:n,open:t=!1,children:o,dir:s,onOpenChange:c,modal:l=!0}=e,d=se(n),[v,f]=a.useState(null),u=a.useRef(!1),i=xe(c),h=Pe(s);return a.useEffect(()=>{const M=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",M,{capture:!0}),()=>{document.removeEventListener("keydown",M,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(Kt,{...d,children:r.jsx(En,{scope:n,open:t,onOpenChange:i,content:v,onContentChange:f,children:r.jsx(Pn,{scope:n,onClose:a.useCallback(()=>i(!1),[i]),isUsingKeyboardRef:u,dir:h,modal:l,children:o})})})};Ve.displayName=J;var jn="MenuAnchor",we=a.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e,s=se(t);return r.jsx($t,{...s,...o,ref:n})});we.displayName=jn;var Me="MenuPortal",[Tn,Ye]=O(Me,{forceMount:void 0}),He=e=>{const{__scopeMenu:n,forceMount:t,children:o,container:s}=e,c=k(Me,n);return r.jsx(Tn,{scope:n,forceMount:t,children:r.jsx(ae,{present:t||c.open,children:r.jsx(Ut,{asChild:!0,container:s,children:o})})})};He.displayName=Me;var y="MenuContent",[An,Ce]=O(y),Xe=a.forwardRef((e,n)=>{const t=Ye(y,e.__scopeMenu),{forceMount:o=t.forceMount,...s}=e,c=k(y,e.__scopeMenu),l=Q(y,e.__scopeMenu);return r.jsx(X.Provider,{scope:e.__scopeMenu,children:r.jsx(ae,{present:o||c.open,children:r.jsx(X.Slot,{scope:e.__scopeMenu,children:l.modal?r.jsx(On,{...s,ref:n}):r.jsx(kn,{...s,ref:n})})})})}),On=a.forwardRef((e,n)=>{const t=k(y,e.__scopeMenu),o=a.useRef(null),s=K(n,o);return a.useEffect(()=>{const c=o.current;if(c)return Bt(c)},[]),r.jsx(_e,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:g(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),kn=a.forwardRef((e,n)=>{const t=k(y,e.__scopeMenu);return r.jsx(_e,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Fn=Ht("MenuContent.ScrollLock"),_e=a.forwardRef((e,n)=>{const{__scopeMenu:t,loop:o=!1,trapFocus:s,onOpenAutoFocus:c,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:v,onEscapeKeyDown:f,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:h,onDismiss:M,disableOutsideScroll:x,...R}=e,m=k(y,t),w=Q(y,t),P=se(t),b=ze(t),S=Nn(t),[$,Z]=a.useState(null),j=a.useRef(null),C=K(n,j,m.onContentChange),F=a.useRef(0),T=a.useRef(""),U=a.useRef(0),B=a.useRef(null),ee=a.useRef("right"),te=a.useRef(0),ue=x?Yt:a.Fragment,D=x?{as:Fn,allowPinchZoom:!0}:void 0,Ft=p=>{const G=T.current+p,A=S().filter(I=>!I.disabled),z=document.activeElement,de=A.find(I=>I.ref.current===z)?.textValue,le=A.map(I=>I.textValue),ye=Wn(le,G,de),V=A.find(I=>I.textValue===ye)?.ref.current;(function I(Se){T.current=Se,window.clearTimeout(F.current),Se!==""&&(F.current=window.setTimeout(()=>I(""),1e3))})(G),V&&setTimeout(()=>V.focus())};a.useEffect(()=>()=>window.clearTimeout(F.current),[]),Vt();const L=a.useCallback(p=>ee.current===B.current?.side&&Jn(p,B.current?.area),[]);return r.jsx(An,{scope:t,searchRef:T,onItemEnter:a.useCallback(p=>{L(p)&&p.preventDefault()},[L]),onItemLeave:a.useCallback(p=>{L(p)||(j.current?.focus(),Z(null))},[L]),onTriggerLeave:a.useCallback(p=>{L(p)&&p.preventDefault()},[L]),pointerGraceTimerRef:U,onPointerGraceIntentChange:a.useCallback(p=>{B.current=p},[]),children:r.jsx(ue,{...D,children:r.jsx(Xt,{asChild:!0,trapped:s,onMountAutoFocus:g(c,p=>{p.preventDefault(),j.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:r.jsx(Wt,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:h,onDismiss:M,children:r.jsx(_n,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:o,currentTabStopId:$,onCurrentTabStopIdChange:Z,onEntryFocus:g(v,p=>{w.isUsingKeyboardRef.current||p.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(qt,{role:"menu","aria-orientation":"vertical","data-state":dt(m.open),"data-radix-menu-content":"",dir:w.dir,...P,...R,ref:C,style:{outline:"none",...R.style},onKeyDown:g(R.onKeyDown,p=>{const A=p.target.closest("[data-radix-menu-content]")===p.currentTarget,z=p.ctrlKey||p.altKey||p.metaKey,de=p.key.length===1;A&&(p.key==="Tab"&&p.preventDefault(),!z&&de&&Ft(p.key));const le=j.current;if(p.target!==le||!In.includes(p.key))return;p.preventDefault();const V=S().filter(I=>!I.disabled).map(I=>I.ref.current);Ue.includes(p.key)&&V.reverse(),Hn(V)}),onBlur:g(e.onBlur,p=>{p.currentTarget.contains(p.target)||(window.clearTimeout(F.current),T.current="")}),onPointerMove:g(e.onPointerMove,W(p=>{const G=p.target,A=te.current!==p.clientX;if(p.currentTarget.contains(G)&&A){const z=p.clientX>te.current?"right":"left";ee.current=z,te.current=p.clientX}}))})})})})})})});Xe.displayName=y;var Ln="MenuGroup",Re=a.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return r.jsx(E.div,{role:"group",...o,ref:n})});Re.displayName=Ln;var Gn="MenuLabel",We=a.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return r.jsx(E.div,{...o,ref:n})});We.displayName=Gn;var oe="MenuItem",De="menu.itemSelect",ce=a.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:o,...s}=e,c=a.useRef(null),l=Q(oe,e.__scopeMenu),d=Ce(oe,e.__scopeMenu),v=K(n,c),f=a.useRef(!1),u=()=>{const i=c.current;if(!t&&i){const h=new CustomEvent(De,{bubbles:!0,cancelable:!0});i.addEventListener(De,M=>o?.(M),{once:!0}),zt(i,h),h.defaultPrevented?f.current=!1:l.onClose()}};return r.jsx(qe,{...s,ref:v,disabled:t,onClick:g(e.onClick,u),onPointerDown:i=>{e.onPointerDown?.(i),f.current=!0},onPointerUp:g(e.onPointerUp,i=>{f.current||i.currentTarget?.click()}),onKeyDown:g(e.onKeyDown,i=>{const h=d.searchRef.current!=="";t||h&&i.key===" "||ve.includes(i.key)&&(i.currentTarget.click(),i.preventDefault())})})});ce.displayName=oe;var qe=a.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:o=!1,textValue:s,...c}=e,l=Ce(oe,t),d=ze(t),v=a.useRef(null),f=K(n,v),[u,i]=a.useState(!1),[h,M]=a.useState("");return a.useEffect(()=>{const x=v.current;x&&M((x.textContent??"").trim())},[c.children]),r.jsx(X.ItemSlot,{scope:t,disabled:o,textValue:s??h,children:r.jsx(Rn,{asChild:!0,...d,focusable:!o,children:r.jsx(E.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...c,ref:f,onPointerMove:g(e.onPointerMove,W(x=>{o?l.onItemLeave(x):(l.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:g(e.onPointerLeave,W(x=>l.onItemLeave(x))),onFocus:g(e.onFocus,()=>i(!0)),onBlur:g(e.onBlur,()=>i(!1))})})})}),Kn="MenuCheckboxItem",Je=a.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:o,...s}=e;return r.jsx(nt,{scope:e.__scopeMenu,checked:t,children:r.jsx(ce,{role:"menuitemcheckbox","aria-checked":re(t)?"mixed":t,...s,ref:n,"data-state":Ie(t),onSelect:g(s.onSelect,()=>o?.(re(t)?!0:!t),{checkForDefaultPrevented:!1})})})});Je.displayName=Kn;var Qe="MenuRadioGroup",[$n,Un]=O(Qe,{value:void 0,onValueChange:()=>{}}),Ze=a.forwardRef((e,n)=>{const{value:t,onValueChange:o,...s}=e,c=xe(o);return r.jsx($n,{scope:e.__scopeMenu,value:t,onValueChange:c,children:r.jsx(Re,{...s,ref:n})})});Ze.displayName=Qe;var et="MenuRadioItem",tt=a.forwardRef((e,n)=>{const{value:t,...o}=e,s=Un(et,e.__scopeMenu),c=t===s.value;return r.jsx(nt,{scope:e.__scopeMenu,checked:c,children:r.jsx(ce,{role:"menuitemradio","aria-checked":c,...o,ref:n,"data-state":Ie(c),onSelect:g(o.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});tt.displayName=et;var be="MenuItemIndicator",[nt,Bn]=O(be,{checked:!1}),ot=a.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:o,...s}=e,c=Bn(be,t);return r.jsx(ae,{present:o||re(c.checked)||c.checked===!0,children:r.jsx(E.span,{...s,ref:n,"data-state":Ie(c.checked)})})});ot.displayName=be;var zn="MenuSeparator",rt=a.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return r.jsx(E.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});rt.displayName=zn;var Vn="MenuArrow",at=a.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e,s=se(t);return r.jsx(Jt,{...s,...o,ref:n})});at.displayName=Vn;var Yn="MenuSub",[Vo,st]=O(Yn),H="MenuSubTrigger",ct=a.forwardRef((e,n)=>{const t=k(H,e.__scopeMenu),o=Q(H,e.__scopeMenu),s=st(H,e.__scopeMenu),c=Ce(H,e.__scopeMenu),l=a.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:v}=c,f={__scopeMenu:e.__scopeMenu},u=a.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return a.useEffect(()=>u,[u]),a.useEffect(()=>{const i=d.current;return()=>{window.clearTimeout(i),v(null)}},[d,v]),r.jsx(we,{asChild:!0,...f,children:r.jsx(qe,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":dt(t.open),...e,ref:Ae(n,s.onTriggerChange),onClick:i=>{e.onClick?.(i),!(e.disabled||i.defaultPrevented)&&(i.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:g(e.onPointerMove,W(i=>{c.onItemEnter(i),!i.defaultPrevented&&!e.disabled&&!t.open&&!l.current&&(c.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:g(e.onPointerLeave,W(i=>{u();const h=t.content?.getBoundingClientRect();if(h){const M=t.content?.dataset.side,x=M==="right",R=x?-5:5,m=h[x?"left":"right"],w=h[x?"right":"left"];c.onPointerGraceIntentChange({area:[{x:i.clientX+R,y:i.clientY},{x:m,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:m,y:h.bottom}],side:M}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(i),i.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:g(e.onKeyDown,i=>{const h=c.searchRef.current!=="";e.disabled||h&&i.key===" "||yn[o.dir].includes(i.key)&&(t.onOpenChange(!0),t.content?.focus(),i.preventDefault())})})})});ct.displayName=H;var it="MenuSubContent",ut=a.forwardRef((e,n)=>{const t=Ye(y,e.__scopeMenu),{forceMount:o=t.forceMount,...s}=e,c=k(y,e.__scopeMenu),l=Q(y,e.__scopeMenu),d=st(it,e.__scopeMenu),v=a.useRef(null),f=K(n,v);return r.jsx(X.Provider,{scope:e.__scopeMenu,children:r.jsx(ae,{present:o||c.open,children:r.jsx(X.Slot,{scope:e.__scopeMenu,children:r.jsx(_e,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{l.isUsingKeyboardRef.current&&v.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:g(e.onFocusOutside,u=>{u.target!==d.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:g(e.onEscapeKeyDown,u=>{l.onClose(),u.preventDefault()}),onKeyDown:g(e.onKeyDown,u=>{const i=u.currentTarget.contains(u.target),h=Sn[l.dir].includes(u.key);i&&h&&(c.onOpenChange(!1),d.trigger?.focus(),u.preventDefault())})})})})})});ut.displayName=it;function dt(e){return e?"open":"closed"}function re(e){return e==="indeterminate"}function Ie(e){return re(e)?"indeterminate":e?"checked":"unchecked"}function Hn(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function Xn(e,n){return e.map((t,o)=>e[(n+o)%e.length])}function Wn(e,n,t){const s=n.length>1&&Array.from(n).every(f=>f===n[0])?n[0]:n,c=t?e.indexOf(t):-1;let l=Xn(e,Math.max(c,0));s.length===1&&(l=l.filter(f=>f!==t));const v=l.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return v!==t?v:void 0}function qn(e,n){const{x:t,y:o}=e;let s=!1;for(let c=0,l=n.length-1;c<n.length;l=c++){const d=n[c],v=n[l],f=d.x,u=d.y,i=v.x,h=v.y;u>o!=h>o&&t<(i-f)*(o-u)/(h-u)+f&&(s=!s)}return s}function Jn(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return qn(t,n)}function W(e){return n=>n.pointerType==="mouse"?e(n):void 0}var Qn=Ve,Zn=we,eo=He,to=Xe,no=Re,oo=We,ro=ce,ao=Je,so=Ze,co=tt,io=ot,uo=rt,lo=at,fo=ct,po=ut,ie="DropdownMenu",[mo]=ge(ie,[Be]),_=Be(),[vo,lt]=mo(ie),ft=e=>{const{__scopeDropdownMenu:n,children:t,dir:o,open:s,defaultOpen:c,onOpenChange:l,modal:d=!0}=e,v=_(n),f=a.useRef(null),[u,i]=je({prop:s,defaultProp:c??!1,onChange:l,caller:ie});return r.jsx(vo,{scope:n,triggerId:pe(),triggerRef:f,contentId:pe(),open:u,onOpenChange:i,onOpenToggle:a.useCallback(()=>i(h=>!h),[i]),modal:d,children:r.jsx(Qn,{...v,open:u,onOpenChange:i,dir:o,modal:d,children:t})})};ft.displayName=ie;var pt="DropdownMenuTrigger",mt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,disabled:o=!1,...s}=e,c=lt(pt,t),l=_(t);return r.jsx(Zn,{asChild:!0,...l,children:r.jsx(E.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...s,ref:Ae(n,c.triggerRef),onPointerDown:g(e.onPointerDown,d=>{!o&&d.button===0&&d.ctrlKey===!1&&(c.onOpenToggle(),c.open||d.preventDefault())}),onKeyDown:g(e.onKeyDown,d=>{o||(["Enter"," "].includes(d.key)&&c.onOpenToggle(),d.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});mt.displayName=pt;var ho="DropdownMenuPortal",vt=e=>{const{__scopeDropdownMenu:n,...t}=e,o=_(n);return r.jsx(eo,{...o,...t})};vt.displayName=ho;var ht="DropdownMenuContent",gt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=lt(ht,t),c=_(t),l=a.useRef(!1);return r.jsx(to,{id:s.contentId,"aria-labelledby":s.triggerId,...c,...o,ref:n,onCloseAutoFocus:g(e.onCloseAutoFocus,d=>{l.current||s.triggerRef.current?.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:g(e.onInteractOutside,d=>{const v=d.detail.originalEvent,f=v.button===0&&v.ctrlKey===!0,u=v.button===2||f;(!s.modal||u)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gt.displayName=ht;var go="DropdownMenuGroup",xo=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=_(t);return r.jsx(no,{...s,...o,ref:n})});xo.displayName=go;var wo="DropdownMenuLabel",xt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=_(t);return r.jsx(oo,{...s,...o,ref:n})});xt.displayName=wo;var Mo="DropdownMenuItem",wt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=_(t);return r.jsx(ro,{...s,...o,ref:n})});wt.displayName=Mo;var Co="DropdownMenuCheckboxItem",Mt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=_(t);return r.jsx(ao,{...s,...o,ref:n})});Mt.displayName=Co;var _o="DropdownMenuRadioGroup",Ro=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=_(t);return r.jsx(so,{...s,...o,ref:n})});Ro.displayName=_o;var bo="DropdownMenuRadioItem",Ct=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=_(t);return r.jsx(co,{...s,...o,ref:n})});Ct.displayName=bo;var Io="DropdownMenuItemIndicator",_t=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=_(t);return r.jsx(io,{...s,...o,ref:n})});_t.displayName=Io;var yo="DropdownMenuSeparator",Rt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=_(t);return r.jsx(uo,{...s,...o,ref:n})});Rt.displayName=yo;var So="DropdownMenuArrow",No=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=_(t);return r.jsx(lo,{...s,...o,ref:n})});No.displayName=So;var Do="DropdownMenuSubTrigger",bt=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=_(t);return r.jsx(fo,{...s,...o,ref:n})});bt.displayName=Do;var Eo="DropdownMenuSubContent",It=a.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=_(t);return r.jsx(po,{...s,...o,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});It.displayName=Eo;var Po=ft,jo=mt,To=vt,yt=gt,St=xt,Nt=wt,Dt=Mt,Et=Ct,Pt=_t,jt=Rt,Tt=bt,At=It;const Ao=Po,Oo=jo,ko=a.forwardRef(({className:e,inset:n,children:t,...o},s)=>r.jsxs(Tt,{ref:s,className:N("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",e),...o,children:[t,r.jsx(un,{className:"ml-auto"})]}));ko.displayName=Tt.displayName;const Fo=a.forwardRef(({className:e,...n},t)=>r.jsx(At,{ref:t,className:N("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Fo.displayName=At.displayName;const Ot=a.forwardRef(({className:e,sideOffset:n=4,...t},o)=>r.jsx(To,{children:r.jsx(yt,{ref:o,sideOffset:n,className:N("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Ot.displayName=yt.displayName;const he=a.forwardRef(({className:e,inset:n,...t},o)=>r.jsx(Nt,{ref:o,className:N("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",n&&"pl-8",e),...t}));he.displayName=Nt.displayName;const Lo=a.forwardRef(({className:e,children:n,checked:t,...o},s)=>r.jsxs(Dt,{ref:s,className:N("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...o,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Pt,{children:r.jsx(Qt,{className:"h-4 w-4"})})}),n]}));Lo.displayName=Dt.displayName;const Go=a.forwardRef(({className:e,children:n,...t},o)=>r.jsxs(Et,{ref:o,className:N("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Pt,{children:r.jsx(ln,{className:"h-2 w-2 fill-current"})})}),n]}));Go.displayName=Et.displayName;const Ko=a.forwardRef(({className:e,inset:n,...t},o)=>r.jsx(St,{ref:o,className:N("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...t}));Ko.displayName=St.displayName;const kt=a.forwardRef(({className:e,...n},t)=>r.jsx(jt,{ref:t,className:N("-mx-1 my-1 h-px bg-muted",e),...n}));kt.displayName=jt.displayName;function Yo({entityType:e,currentSearchTerm:n,currentFilters:t,onApplySearch:o}){const{saveSearch:s,getSearchesByType:c,deleteSearch:l}=Ee(),[d,v]=a.useState(!1),[f,u]=a.useState(""),i=c(e),h=n||t&&Object.keys(t).length>0,M=()=>{if(!f.trim()){ne.error("Please enter a name for this search");return}s(f.trim(),e,n,t),ne.success(`Search "${f}" saved`),u(""),v(!1)},x=(m,w,P)=>{P.stopPropagation(),l(m),ne.success(`Search "${w}" deleted`)},R=m=>{o?.(m),ne.success(`Applied search "${m.name}"`)};return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs(Zt,{open:d,onOpenChange:v,children:[r.jsx(en,{asChild:!0,children:r.jsxs(Y,{variant:"outline",size:"sm",disabled:!h,title:h?"Save current search":"No active filters to save",children:[r.jsx(Ne,{className:"h-4 w-4 mr-1"}),"Save"]})}),r.jsxs(tn,{className:"sm:max-w-[400px]",children:[r.jsxs(nn,{children:[r.jsx(on,{children:"Save Search"}),r.jsx(rn,{children:"Save your current search and filter settings for quick access later."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(an,{htmlFor:"search-name",children:"Search Name"}),r.jsx(sn,{id:"search-name",placeholder:"e.g., Low stock electronics",value:f,onChange:m=>u(m.target.value),onKeyDown:m=>m.key==="Enter"&&M()})]}),n&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:['Search term: "',n,'"']}),t&&Object.keys(t).length>0&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Filters: ",Object.entries(t).map(([m,w])=>`${m}=${w}`).join(", ")]}),r.jsx(Y,{className:"w-full",onClick:M,children:"Save Search"})]})]})]}),i.length>0&&r.jsxs(Ao,{children:[r.jsx(Oo,{asChild:!0,children:r.jsxs(Y,{variant:"outline",size:"sm",children:[r.jsx(Ne,{className:"h-4 w-4 mr-1 fill-current"}),"Saved (",i.length,")"]})}),r.jsxs(Ot,{align:"end",className:"w-56",children:[i.map(m=>r.jsxs(he,{className:"flex items-center justify-between cursor-pointer",onClick:()=>R(m),children:[r.jsx("span",{className:"truncate flex-1",children:m.name}),r.jsx(Y,{variant:"ghost",size:"icon",className:"h-6 w-6 ml-2 hover:bg-destructive hover:text-destructive-foreground",onClick:w=>x(m.id,m.name,w),children:r.jsx(cn,{className:"h-3 w-3"})})]},m.id)),r.jsx(kt,{}),r.jsx(he,{className:"text-xs text-muted-foreground",disabled:!0,children:"Click to apply, trash to delete"})]})]})]})}export{zo as F,Yo as S};
