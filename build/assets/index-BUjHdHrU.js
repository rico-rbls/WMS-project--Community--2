const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-Q1JBYUK7.js","assets/skeleton-BhFJefAR.js","assets/permissions-BqDqHH54.js","assets/dollar-sign-CuqKQXdH.js","assets/trending-up-DdTIBAba.js","assets/credit-card-D7EADFjN.js","assets/calendar-BXSrJdf6.js","assets/star-CtapMzjS.js","assets/shopping-bag-D_F3kkl_.js","assets/inventory-view-_UxwQ4bw.js","assets/sortable-table-head-BLTKNIon.js","assets/bulk-delete-dialog-D5LsnD-d.js","assets/favorite-button-CbR7WAU6.js","assets/useTableSort-CiVDQ01k.js","assets/editable-cell-CPTYGOLn.js","assets/download-VhrEM7_j.js","assets/archive-DejzazeB.js","assets/square-pen-C-5YOgen.js","assets/map-pin-BmfKCzYx.js","assets/circle-alert-Cjgeu4mP.js","assets/file-text-C6eVTuZs.js","assets/tag-CpT_XPJD.js","assets/orders-view-WRpIpXrq.js","assets/date-range-filter-BWwMXG3_.js","assets/purchase-orders-view-B-lAfG5q.js","assets/printable-receipt-CZ4wp529.js","assets/sales-orders-view-iC34kSmU.js","assets/shipments-view-D5h0FAVM.js","assets/circle-check-big-CfuJpQNI.js","assets/suppliers-view-qlf5-fGH.js","assets/phone-CDB-3mZo.js","assets/customers-view-BCwfJzsL.js","assets/user-management-view-DDo1SfGL.js","assets/crown-CzcMXd11.js","assets/admin-profile-view-DldO4PGp.js","assets/cash-bank-view--BantHcm.js","assets/payments-view-DtfloRiv.js"])))=>i.map(i=>d[i]);
function DN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var UH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ug={exports:{}},hu={},zg={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function ON(){if(UE)return st;UE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function R(U,G,oe){this.props=U,this.context=G,this.refs=C,this.updater=oe||I}R.prototype.isReactComponent={},R.prototype.setState=function(U,G){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,G,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function N(){}N.prototype=R.prototype;function M(U,G,oe){this.props=U,this.context=G,this.refs=C,this.updater=oe||I}var j=M.prototype=new N;j.constructor=M,A(j,R.prototype),j.isPureReactComponent=!0;var z=Array.isArray,$=Object.prototype.hasOwnProperty,K={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(U,G,oe){var ie,he={},xe=null,ve=null;if(G!=null)for(ie in G.ref!==void 0&&(ve=G.ref),G.key!==void 0&&(xe=""+G.key),G)$.call(G,ie)&&!P.hasOwnProperty(ie)&&(he[ie]=G[ie]);var Ie=arguments.length-2;if(Ie===1)he.children=oe;else if(1<Ie){for(var Ge=Array(Ie),Qe=0;Qe<Ie;Qe++)Ge[Qe]=arguments[Qe+2];he.children=Ge}if(U&&U.defaultProps)for(ie in Ie=U.defaultProps,Ie)he[ie]===void 0&&(he[ie]=Ie[ie]);return{$$typeof:n,type:U,key:xe,ref:ve,props:he,_owner:K.current}}function D(U,G){return{$$typeof:n,type:U.type,key:G,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function F(U){var G={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(oe){return G[oe]})}var B=/\/+/g;function O(U,G){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):G.toString(36)}function Ce(U,G,oe,ie,he){var xe=typeof U;(xe==="undefined"||xe==="boolean")&&(U=null);var ve=!1;if(U===null)ve=!0;else switch(xe){case"string":case"number":ve=!0;break;case"object":switch(U.$$typeof){case n:case e:ve=!0}}if(ve)return ve=U,he=he(ve),U=ie===""?"."+O(ve,0):ie,z(he)?(oe="",U!=null&&(oe=U.replace(B,"$&/")+"/"),Ce(he,G,oe,"",function(Qe){return Qe})):he!=null&&(V(he)&&(he=D(he,oe+(!he.key||ve&&ve.key===he.key?"":(""+he.key).replace(B,"$&/")+"/")+U)),G.push(he)),1;if(ve=0,ie=ie===""?".":ie+":",z(U))for(var Ie=0;Ie<U.length;Ie++){xe=U[Ie];var Ge=ie+O(xe,Ie);ve+=Ce(xe,G,oe,Ge,he)}else if(Ge=w(U),typeof Ge=="function")for(U=Ge.call(U),Ie=0;!(xe=U.next()).done;)xe=xe.value,Ge=ie+O(xe,Ie++),ve+=Ce(xe,G,oe,Ge,he);else if(xe==="object")throw G=String(U),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ve}function Be(U,G,oe){if(U==null)return U;var ie=[],he=0;return Ce(U,ie,"","",function(xe){return G.call(oe,xe,he++)}),ie}function ge(U){if(U._status===-1){var G=U._result;G=G(),G.then(function(oe){(U._status===0||U._status===-1)&&(U._status=1,U._result=oe)},function(oe){(U._status===0||U._status===-1)&&(U._status=2,U._result=oe)}),U._status===-1&&(U._status=0,U._result=G)}if(U._status===1)return U._result.default;throw U._result}var Ee={current:null},W={transition:null},ne={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:W,ReactCurrentOwner:K};function X(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:Be,forEach:function(U,G,oe){Be(U,function(){G.apply(this,arguments)},oe)},count:function(U){var G=0;return Be(U,function(){G++}),G},toArray:function(U){return Be(U,function(G){return G})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},st.Component=R,st.Fragment=t,st.Profiler=s,st.PureComponent=M,st.StrictMode=r,st.Suspense=h,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,st.act=X,st.cloneElement=function(U,G,oe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ie=A({},U.props),he=U.key,xe=U.ref,ve=U._owner;if(G!=null){if(G.ref!==void 0&&(xe=G.ref,ve=K.current),G.key!==void 0&&(he=""+G.key),U.type&&U.type.defaultProps)var Ie=U.type.defaultProps;for(Ge in G)$.call(G,Ge)&&!P.hasOwnProperty(Ge)&&(ie[Ge]=G[Ge]===void 0&&Ie!==void 0?Ie[Ge]:G[Ge])}var Ge=arguments.length-2;if(Ge===1)ie.children=oe;else if(1<Ge){Ie=Array(Ge);for(var Qe=0;Qe<Ge;Qe++)Ie[Qe]=arguments[Qe+2];ie.children=Ie}return{$$typeof:n,type:U.type,key:he,ref:xe,props:ie,_owner:ve}},st.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:i,_context:U},U.Consumer=U},st.createElement=T,st.createFactory=function(U){var G=T.bind(null,U);return G.type=U,G},st.createRef=function(){return{current:null}},st.forwardRef=function(U){return{$$typeof:u,render:U}},st.isValidElement=V,st.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:ge}},st.memo=function(U,G){return{$$typeof:p,type:U,compare:G===void 0?null:G}},st.startTransition=function(U){var G=W.transition;W.transition={};try{U()}finally{W.transition=G}},st.unstable_act=X,st.useCallback=function(U,G){return Ee.current.useCallback(U,G)},st.useContext=function(U){return Ee.current.useContext(U)},st.useDebugValue=function(){},st.useDeferredValue=function(U){return Ee.current.useDeferredValue(U)},st.useEffect=function(U,G){return Ee.current.useEffect(U,G)},st.useId=function(){return Ee.current.useId()},st.useImperativeHandle=function(U,G,oe){return Ee.current.useImperativeHandle(U,G,oe)},st.useInsertionEffect=function(U,G){return Ee.current.useInsertionEffect(U,G)},st.useLayoutEffect=function(U,G){return Ee.current.useLayoutEffect(U,G)},st.useMemo=function(U,G){return Ee.current.useMemo(U,G)},st.useReducer=function(U,G,oe){return Ee.current.useReducer(U,G,oe)},st.useRef=function(U){return Ee.current.useRef(U)},st.useState=function(U){return Ee.current.useState(U)},st.useSyncExternalStore=function(U,G,oe){return Ee.current.useSyncExternalStore(U,G,oe)},st.useTransition=function(){return Ee.current.useTransition()},st.version="18.3.1",st}var zE;function Pv(){return zE||(zE=1,zg.exports=ON()),zg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function MN(){if($E)return hu;$E=1;var n=Pv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var g,m={},w=null,I=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(I=h.ref);for(g in h)r.call(h,g)&&!i.hasOwnProperty(g)&&(m[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:e,type:u,key:w,ref:I,props:m,_owner:s.current}}return hu.Fragment=t,hu.jsx=l,hu.jsxs=l,hu}var BE;function VN(){return BE||(BE=1,Ug.exports=MN()),Ug.exports}var E=VN(),zh={},$g={exports:{}},tr={},Bg={exports:{}},qg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function LN(){return qE||(qE=1,(function(n){function e(W,ne){var X=W.length;W.push(ne);e:for(;0<X;){var U=X-1>>>1,G=W[U];if(0<s(G,ne))W[U]=ne,W[X]=G,X=U;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],X=W.pop();if(X!==ne){W[0]=X;e:for(var U=0,G=W.length,oe=G>>>1;U<oe;){var ie=2*(U+1)-1,he=W[ie],xe=ie+1,ve=W[xe];if(0>s(he,X))xe<G&&0>s(ve,he)?(W[U]=ve,W[xe]=X,U=xe):(W[U]=he,W[ie]=X,U=ie);else if(xe<G&&0>s(ve,X))W[U]=ve,W[xe]=X,U=xe;else break e}}return ne}function s(W,ne){var X=W.sortIndex-ne.sortIndex;return X!==0?X:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],g=1,m=null,w=3,I=!1,A=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(W){for(var ne=t(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=W)r(p),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=t(p)}}function z(W){if(C=!1,j(W),!A)if(t(h)!==null)A=!0,ge($);else{var ne=t(p);ne!==null&&Ee(z,ne.startTime-W)}}function $(W,ne){A=!1,C&&(C=!1,N(T),T=-1),I=!0;var X=w;try{for(j(ne),m=t(h);m!==null&&(!(m.expirationTime>ne)||W&&!F());){var U=m.callback;if(typeof U=="function"){m.callback=null,w=m.priorityLevel;var G=U(m.expirationTime<=ne);ne=n.unstable_now(),typeof G=="function"?m.callback=G:m===t(h)&&r(h),j(ne)}else r(h);m=t(h)}if(m!==null)var oe=!0;else{var ie=t(p);ie!==null&&Ee(z,ie.startTime-ne),oe=!1}return oe}finally{m=null,w=X,I=!1}}var K=!1,P=null,T=-1,D=5,V=-1;function F(){return!(n.unstable_now()-V<D)}function B(){if(P!==null){var W=n.unstable_now();V=W;var ne=!0;try{ne=P(!0,W)}finally{ne?O():(K=!1,P=null)}}else K=!1}var O;if(typeof M=="function")O=function(){M(B)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Be=Ce.port2;Ce.port1.onmessage=B,O=function(){Be.postMessage(null)}}else O=function(){R(B,0)};function ge(W){P=W,K||(K=!0,O())}function Ee(W,ne){T=R(function(){W(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){A||I||(A=!0,ge($))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var X=w;w=ne;try{return W()}finally{w=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var X=w;w=W;try{return ne()}finally{w=X}},n.unstable_scheduleCallback=function(W,ne,X){var U=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?U+X:U):X=U,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=X+G,W={id:g++,callback:ne,priorityLevel:W,startTime:X,expirationTime:G,sortIndex:-1},X>U?(W.sortIndex=X,e(p,W),t(h)===null&&W===t(p)&&(C?(N(T),T=-1):C=!0,Ee(z,X-U))):(W.sortIndex=G,e(h,W),A||I||(A=!0,ge($))),W},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(W){var ne=w;return function(){var X=w;w=ne;try{return W.apply(this,arguments)}finally{w=X}}}})(qg)),qg}var HE;function FN(){return HE||(HE=1,Bg.exports=LN()),Bg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function jN(){if(WE)return tr;WE=1;var n=Pv(),e=FN();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function w(o){return h.call(m,o)?!0:h.call(g,o)?!1:p.test(o)?m[o]=!0:(g[o]=!0,!1)}function I(o,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function A(o,a,c,f){if(a===null||typeof a>"u"||I(o,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(o,a,c,f,y,v,x){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=v,this.removeEmptyString=x}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){R[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];R[a]=new C(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){R[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){R[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){R[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){R[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){R[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){R[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){R[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function M(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(N,M);R[a]=new C(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(N,M);R[a]=new C(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(N,M);R[a]=new C(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){R[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),R.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){R[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function j(o,a,c,f){var y=R.hasOwnProperty(a)?R[a]:null;(y!==null?y.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(A(a,c,y,f)&&(c=null),f||y===null?w(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,f=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,f?o.setAttributeNS(f,a,c):o.setAttribute(a,c))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),K=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),W=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var X=Object.assign,U;function G(o){if(U===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);U=a&&a[1]||""}return`
`+U+o}var oe=!1;function ie(o,a){if(!o||oe)return"";oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var f=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){f=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){f=ee}o()}}catch(ee){if(ee&&f&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),v=f.stack.split(`
`),x=y.length-1,L=v.length-1;1<=x&&0<=L&&y[x]!==v[L];)L--;for(;1<=x&&0<=L;x--,L--)if(y[x]!==v[L]){if(x!==1||L!==1)do if(x--,L--,0>L||y[x]!==v[L]){var q=`
`+y[x].replace(" at new "," at ");return o.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",o.displayName)),q}while(1<=x&&0<=L);break}}}finally{oe=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?G(o):""}function he(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case K:return"Portal";case D:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case Ce:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case V:return(o._context.displayName||"Context")+".Provider";case B:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Be:return a=o.displayName||null,a!==null?a:xe(o.type)||"Memo";case ge:a=o._payload,o=o._init;try{return xe(o(a))}catch{}}return null}function ve(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(a);case 8:return a===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ge(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qe(o){var a=Ge(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),f=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(x){f=""+x,v.call(this,x)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function me(o){o._valueTracker||(o._valueTracker=Qe(o))}function St(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return o&&(f=Ge(o)?o.checked?"true":"false":o.value),o=f,o!==c?(a.setValue(o),!0):!1}function hn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function as(o,a){var c=a.checked;return X({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Ba(o,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Ie(a.value!=null?a.value:c),o._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Zs(o,a){a=a.checked,a!=null&&j(o,"checked",a,!1)}function ir(o,a){Zs(o,a);var c=Ie(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?gt(o,a.type,c):a.hasOwnProperty("defaultValue")&&gt(o,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Po(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function gt(o,a,c){(a!=="number"||hn(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var Vt=Array.isArray;function ar(o,a,c,f){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&f&&(o[c].defaultSelected=!0)}else{for(c=""+Ie(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,f&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function on(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Sr(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Vt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:Ie(c)}}function qa(o,a){var c=Ie(a.value),f=Ie(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),f!=null&&(o.defaultValue=""+f)}function ls(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function cs(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?cs(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var $r,Ro=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,f,y)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=$r.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Kn(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qr=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(o){qr.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),Br[a]=Br[o]})});function us(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Br.hasOwnProperty(o)&&Br[o]?(""+a).trim():a+"px"}function ko(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,y=us(c,a[c],f);c==="float"&&(c="cssFloat"),f?o.setProperty(c,y):o[c]=y}}var No=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zn(o,a){if(a){if(No[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Do(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ir=null;function jn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Hr=null,Wr=null,Pt=null;function Oo(o){if(o=Yc(o)){if(typeof Hr!="function")throw Error(t(280));var a=o.stateNode;a&&(a=nh(a),Hr(o.stateNode,o.type,a))}}function qe(o){Wr?Pt?Pt.push(o):Pt=[o]:Wr=o}function It(){if(Wr){var o=Wr,a=Pt;if(Pt=Wr=null,Oo(o),a)for(o=0;o<a.length;o++)Oo(a[o])}}function Ht(o,a){return o(a)}function fn(){}var Un=!1;function zt(o,a,c){if(Un)return o(a,c);Un=!0;try{return Ht(o,a,c)}finally{Un=!1,(Wr!==null||Pt!==null)&&(fn(),It())}}function Yt(o,a){var c=o.stateNode;if(c===null)return null;var f=nh(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var lr=!1;if(u)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{lr=!1}function Cn(o,a,c,f,y,v,x,L,q){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(le){this.onError(le)}}var xr=!1,pn=null,Di=!1,Tr=null,Od={onError:function(o){xr=!0,pn=o}};function Md(o,a,c,f,y,v,x,L,q){xr=!1,pn=null,Cn.apply(Od,arguments)}function xc(o,a,c,f,y,v,x,L,q){if(Md.apply(this,arguments),xr){if(xr){var ee=pn;xr=!1,pn=null}else throw Error(t(198));Di||(Di=!0,Tr=ee)}}function Gr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function Tc(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Vd(o){if(Gr(o)!==o)throw Error(t(188))}function Ld(o){var a=o.alternate;if(!a){if(a=Gr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,f=a;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return Vd(y),o;if(v===f)return Vd(y),a;v=v.sibling}throw Error(t(188))}if(c.return!==f.return)c=y,f=v;else{for(var x=!1,L=y.child;L;){if(L===c){x=!0,c=y,f=v;break}if(L===f){x=!0,f=y,c=v;break}L=L.sibling}if(!x){for(L=v.child;L;){if(L===c){x=!0,c=v,f=y;break}if(L===f){x=!0,f=v,c=y;break}L=L.sibling}if(!x)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function Fd(o){return o=Ld(o),o!==null?Oi(o):null}function Oi(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Oi(o);if(a!==null)return a;o=o.sibling}return null}var Cc=e.unstable_scheduleCallback,Ha=e.unstable_cancelCallback,Mi=e.unstable_shouldYield,Qs=e.unstable_requestPaint,At=e.unstable_now,ym=e.unstable_getCurrentPriorityLevel,Wa=e.unstable_ImmediatePriority,Pc=e.unstable_UserBlockingPriority,Vi=e.unstable_NormalPriority,Ac=e.unstable_LowPriority,Ga=e.unstable_IdlePriority,Li=null,cr=null;function jd(o){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Li,o,void 0,(o.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Fi,ds=Math.log,Cr=Math.LN2;function Fi(o){return o>>>=0,o===0?32:31-(ds(o)/Cr|0)|0}var hs=64,Mo=4194304;function mt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ys(o,a){var c=o.pendingLanes;if(c===0)return 0;var f=0,y=o.suspendedLanes,v=o.pingedLanes,x=c&268435455;if(x!==0){var L=x&~y;L!==0?f=mt(L):(v&=x,v!==0&&(f=mt(v)))}else x=c&~y,x!==0?f=mt(x):v!==0&&(f=mt(v));if(f===0)return 0;if(a!==0&&a!==f&&(a&y)===0&&(y=f&-f,v=a&-a,y>=v||y===16&&(v&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=f;0<a;)c=31-ur(a),y=1<<c,f|=o[c],a&=~y;return f}function ji(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ui(o,a){for(var c=o.suspendedLanes,f=o.pingedLanes,y=o.expirationTimes,v=o.pendingLanes;0<v;){var x=31-ur(v),L=1<<x,q=y[x];q===-1?((L&c)===0||(L&f)!==0)&&(y[x]=ji(L,a)):q<=a&&(o.expiredLanes|=L),v&=~L}}function Rc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function kc(){var o=hs;return hs<<=1,(hs&4194240)===0&&(hs=64),o}function Nc(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function zi(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-ur(a),o[a]=c}function vm(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-ur(c),v=1<<y;a[y]=0,f[y]=-1,o[y]=-1,c&=~v}}function Dc(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var f=31-ur(c),y=1<<f;y&a|o[f]&a&&(o[f]|=a),c&=~y}}var lt=0;function fs(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Oc,Ka,Mc,Vc,Lc,ps=!1,Za=[],ms=null,gs=null,wn=null,$i=new Map,Xs=new Map,dr=[],Ud="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vo(o,a){switch(o){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":$i.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(a.pointerId)}}function Kr(o,a,c,f,y,v){return o===null||o.nativeEvent!==v?(o={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[y]},a!==null&&(a=Yc(a),a!==null&&Ka(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function zd(o,a,c,f,y){switch(a){case"focusin":return ms=Kr(ms,o,a,c,f,y),!0;case"dragenter":return gs=Kr(gs,o,a,c,f,y),!0;case"mouseover":return wn=Kr(wn,o,a,c,f,y),!0;case"pointerover":var v=y.pointerId;return $i.set(v,Kr($i.get(v)||null,o,a,c,f,y)),!0;case"gotpointercapture":return v=y.pointerId,Xs.set(v,Kr(Xs.get(v)||null,o,a,c,f,y)),!0}return!1}function Qa(o){var a=Wi(o.target);if(a!==null){var c=Gr(a);if(c!==null){if(a=c.tag,a===13){if(a=Tc(c),a!==null){o.blockedOn=a,Lc(o.priority,function(){Mc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function xt(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Ya(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var f=new c.constructor(c.type,c);Ir=f,c.target.dispatchEvent(f),Ir=null}else return a=Yc(c),a!==null&&Ka(a),o.blockedOn=c,!1;a.shift()}return!0}function $d(o,a,c){xt(o)&&c.delete(a)}function _m(){ps=!1,ms!==null&&xt(ms)&&(ms=null),gs!==null&&xt(gs)&&(gs=null),wn!==null&&xt(wn)&&(wn=null),$i.forEach($d),Xs.forEach($d)}function Lo(o,a){o.blockedOn===a&&(o.blockedOn=null,ps||(ps=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_m)))}function Fo(o){function a(y){return Lo(y,o)}if(0<Za.length){Lo(Za[0],o);for(var c=1;c<Za.length;c++){var f=Za[c];f.blockedOn===o&&(f.blockedOn=null)}}for(ms!==null&&Lo(ms,o),gs!==null&&Lo(gs,o),wn!==null&&Lo(wn,o),$i.forEach(a),Xs.forEach(a),c=0;c<dr.length;c++)f=dr[c],f.blockedOn===o&&(f.blockedOn=null);for(;0<dr.length&&(c=dr[0],c.blockedOn===null);)Qa(c),c.blockedOn===null&&dr.shift()}var Js=z.ReactCurrentBatchConfig,eo=!0;function ys(o,a,c,f){var y=lt,v=Js.transition;Js.transition=null;try{lt=1,Fc(o,a,c,f)}finally{lt=y,Js.transition=v}}function Bd(o,a,c,f){var y=lt,v=Js.transition;Js.transition=null;try{lt=4,Fc(o,a,c,f)}finally{lt=y,Js.transition=v}}function Fc(o,a,c,f){if(eo){var y=Ya(o,a,c,f);if(y===null)Rm(o,a,f,vs,c),Vo(o,f);else if(zd(y,o,a,c,f))f.stopPropagation();else if(Vo(o,f),a&4&&-1<Ud.indexOf(o)){for(;y!==null;){var v=Yc(y);if(v!==null&&Oc(v),v=Ya(o,a,c,f),v===null&&Rm(o,a,f,vs,c),v===y)break;y=v}y!==null&&f.stopPropagation()}else Rm(o,a,f,null,c)}}var vs=null;function Ya(o,a,c,f){if(vs=null,o=jn(f),o=Wi(o),o!==null)if(a=Gr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=Tc(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return vs=o,null}function Xa(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ym()){case Wa:return 1;case Pc:return 4;case Vi:case Ac:return 16;case Ga:return 536870912;default:return 16}default:return 16}}var hr=null,Ja=null,to=null;function qd(){if(to)return to;var o,a=Ja,c=a.length,f,y="value"in hr?hr.value:hr.textContent,v=y.length;for(o=0;o<c&&a[o]===y[o];o++);var x=c-o;for(f=1;f<=x&&a[c-f]===y[v-f];f++);return to=y.slice(o,1<f?1-f:void 0)}function Bi(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function _s(){return!0}function jc(){return!1}function Pn(o){function a(c,f,y,v,x){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var L in o)o.hasOwnProperty(L)&&(c=o[L],this[L]=c?c(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?_s:jc,this.isPropagationStopped=jc,this}return X(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),a}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=Pn(ws),jo=X({},ws,{view:0,detail:0}),el=Pn(jo),tl,nl,fr,Hi=X({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ye,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==fr&&(fr&&o.type==="mousemove"?(tl=o.screenX-fr.screenX,nl=o.screenY-fr.screenY):nl=tl=0,fr=o),tl)},movementY:function(o){return"movementY"in o?o.movementY:nl}}),Uc=Pn(Hi),Hd=X({},Hi,{dataTransfer:0}),Wd=Pn(Hd),rl=X({},jo,{relatedTarget:0}),En=Pn(rl),Gd=X({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Kd=Pn(Gd),Uo=X({},ws,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),d=Pn(Uo),_=X({},ws,{data:0}),S=Pn(_),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ye(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=te[o])?!!a[o]:!1}function Ye(){return ye}var Wt=X({},jo,{key:function(o){if(o.key){var a=k[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Bi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Y[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ye,charCode:function(o){return o.type==="keypress"?Bi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Bi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),vt=Pn(Wt),Jt=X({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=Pn(Jt),no=X({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ye}),Es=Pn(no),bs=X({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),sl=Pn(bs),zc=X({},Hi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ck=Pn(zc),Pk=[9,13,27,32],wm=u&&"CompositionEvent"in window,$c=null;u&&"documentMode"in document&&($c=document.documentMode);var Ak=u&&"TextEvent"in window&&!$c,Nw=u&&(!wm||$c&&8<$c&&11>=$c),Dw=" ",Ow=!1;function Mw(o,a){switch(o){case"keyup":return Pk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ol=!1;function Rk(o,a){switch(o){case"compositionend":return Vw(a);case"keypress":return a.which!==32?null:(Ow=!0,Dw);case"textInput":return o=a.data,o===Dw&&Ow?null:o;default:return null}}function kk(o,a){if(ol)return o==="compositionend"||!wm&&Mw(o,a)?(o=qd(),to=Ja=hr=null,ol=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Nw&&a.locale!=="ko"?null:a.data;default:return null}}var Nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lw(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!Nk[o.type]:a==="textarea"}function Fw(o,a,c,f){qe(f),a=Jd(a,"onChange"),0<a.length&&(c=new qi("onChange","change",null,c,f),o.push({event:c,listeners:a}))}var Bc=null,qc=null;function Dk(o){n0(o,0)}function Zd(o){var a=ul(o);if(St(a))return o}function Ok(o,a){if(o==="change")return a}var jw=!1;if(u){var Em;if(u){var bm="oninput"in document;if(!bm){var Uw=document.createElement("div");Uw.setAttribute("oninput","return;"),bm=typeof Uw.oninput=="function"}Em=bm}else Em=!1;jw=Em&&(!document.documentMode||9<document.documentMode)}function zw(){Bc&&(Bc.detachEvent("onpropertychange",$w),qc=Bc=null)}function $w(o){if(o.propertyName==="value"&&Zd(qc)){var a=[];Fw(a,qc,o,jn(o)),zt(Dk,a)}}function Mk(o,a,c){o==="focusin"?(zw(),Bc=a,qc=c,Bc.attachEvent("onpropertychange",$w)):o==="focusout"&&zw()}function Vk(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Zd(qc)}function Lk(o,a){if(o==="click")return Zd(a)}function Fk(o,a){if(o==="input"||o==="change")return Zd(a)}function jk(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Zr=typeof Object.is=="function"?Object.is:jk;function Hc(o,a){if(Zr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!h.call(a,y)||!Zr(o[y],a[y]))return!1}return!0}function Bw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function qw(o,a){var c=Bw(o);o=0;for(var f;c;){if(c.nodeType===3){if(f=o+c.textContent.length,o<=a&&f>=a)return{node:c,offset:a-o};o=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Bw(c)}}function Hw(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Hw(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Ww(){for(var o=window,a=hn();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=hn(o.document)}return a}function Sm(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function Uk(o){var a=Ww(),c=o.focusedElem,f=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&Hw(c.ownerDocument.documentElement,c)){if(f!==null&&Sm(c)){if(a=f.start,o=f.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,v=Math.min(f.start,y);f=f.end===void 0?v:Math.min(f.end,y),!o.extend&&v>f&&(y=f,f=v,v=y),y=qw(c,v);var x=qw(c,f);y&&x&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==x.node||o.focusOffset!==x.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),v>f?(o.addRange(a),o.extend(x.node,x.offset)):(a.setEnd(x.node,x.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var zk=u&&"documentMode"in document&&11>=document.documentMode,il=null,Im=null,Wc=null,xm=!1;function Gw(o,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xm||il==null||il!==hn(f)||(f=il,"selectionStart"in f&&Sm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Wc&&Hc(Wc,f)||(Wc=f,f=Jd(Im,"onSelect"),0<f.length&&(a=new qi("onSelect","select",null,a,c),o.push({event:a,listeners:f}),a.target=il)))}function Qd(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var al={animationend:Qd("Animation","AnimationEnd"),animationiteration:Qd("Animation","AnimationIteration"),animationstart:Qd("Animation","AnimationStart"),transitionend:Qd("Transition","TransitionEnd")},Tm={},Kw={};u&&(Kw=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Yd(o){if(Tm[o])return Tm[o];if(!al[o])return o;var a=al[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in Kw)return Tm[o]=a[c];return o}var Zw=Yd("animationend"),Qw=Yd("animationiteration"),Yw=Yd("animationstart"),Xw=Yd("transitionend"),Jw=new Map,e0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(o,a){Jw.set(o,a),i(a,[o])}for(var Cm=0;Cm<e0.length;Cm++){var Pm=e0[Cm],$k=Pm.toLowerCase(),Bk=Pm[0].toUpperCase()+Pm.slice(1);zo($k,"on"+Bk)}zo(Zw,"onAnimationEnd"),zo(Qw,"onAnimationIteration"),zo(Yw,"onAnimationStart"),zo("dblclick","onDoubleClick"),zo("focusin","onFocus"),zo("focusout","onBlur"),zo(Xw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gc));function t0(o,a,c){var f=o.type||"unknown-event";o.currentTarget=c,xc(f,a,void 0,o),o.currentTarget=null}function n0(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var f=o[c],y=f.event;f=f.listeners;e:{var v=void 0;if(a)for(var x=f.length-1;0<=x;x--){var L=f[x],q=L.instance,ee=L.currentTarget;if(L=L.listener,q!==v&&y.isPropagationStopped())break e;t0(y,L,ee),v=q}else for(x=0;x<f.length;x++){if(L=f[x],q=L.instance,ee=L.currentTarget,L=L.listener,q!==v&&y.isPropagationStopped())break e;t0(y,L,ee),v=q}}}if(Di)throw o=Tr,Di=!1,Tr=null,o}function Rt(o,a){var c=a[Vm];c===void 0&&(c=a[Vm]=new Set);var f=o+"__bubble";c.has(f)||(r0(a,o,2,!1),c.add(f))}function Am(o,a,c){var f=0;a&&(f|=4),r0(c,o,f,a)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Kc(o){if(!o[Xd]){o[Xd]=!0,r.forEach(function(c){c!=="selectionchange"&&(qk.has(c)||Am(c,!1,o),Am(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Xd]||(a[Xd]=!0,Am("selectionchange",!1,a))}}function r0(o,a,c,f){switch(Xa(a)){case 1:var y=ys;break;case 4:y=Bd;break;default:y=Fc}c=y.bind(null,a,c,o),y=void 0,!lr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function Rm(o,a,c,f,y){var v=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var L=f.stateNode.containerInfo;if(L===y||L.nodeType===8&&L.parentNode===y)break;if(x===4)for(x=f.return;x!==null;){var q=x.tag;if((q===3||q===4)&&(q=x.stateNode.containerInfo,q===y||q.nodeType===8&&q.parentNode===y))return;x=x.return}for(;L!==null;){if(x=Wi(L),x===null)return;if(q=x.tag,q===5||q===6){f=v=x;continue e}L=L.parentNode}}f=f.return}zt(function(){var ee=v,le=jn(c),ue=[];e:{var ae=Jw.get(o);if(ae!==void 0){var Te=qi,Re=o;switch(o){case"keypress":if(Bi(c)===0)break e;case"keydown":case"keyup":Te=vt;break;case"focusin":Re="focus",Te=En;break;case"focusout":Re="blur",Te=En;break;case"beforeblur":case"afterblur":Te=En;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Es;break;case Zw:case Qw:case Yw:Te=Kd;break;case Xw:Te=sl;break;case"scroll":Te=el;break;case"wheel":Te=Ck;break;case"copy":case"cut":case"paste":Te=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=pr}var Oe=(a&4)!==0,Gt=!Oe&&o==="scroll",Q=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var H=ee,J;H!==null;){J=H;var pe=J.stateNode;if(J.tag===5&&pe!==null&&(J=pe,Q!==null&&(pe=Yt(H,Q),pe!=null&&Oe.push(Zc(H,pe,J)))),Gt)break;H=H.return}0<Oe.length&&(ae=new Te(ae,Re,null,c,le),ue.push({event:ae,listeners:Oe}))}}if((a&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",ae&&c!==Ir&&(Re=c.relatedTarget||c.fromElement)&&(Wi(Re)||Re[ro]))break e;if((Te||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,Te?(Re=c.relatedTarget||c.toElement,Te=ee,Re=Re?Wi(Re):null,Re!==null&&(Gt=Gr(Re),Re!==Gt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Te=null,Re=ee),Te!==Re)){if(Oe=Uc,pe="onMouseLeave",Q="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=pr,pe="onPointerLeave",Q="onPointerEnter",H="pointer"),Gt=Te==null?ae:ul(Te),J=Re==null?ae:ul(Re),ae=new Oe(pe,H+"leave",Te,c,le),ae.target=Gt,ae.relatedTarget=J,pe=null,Wi(le)===ee&&(Oe=new Oe(Q,H+"enter",Re,c,le),Oe.target=J,Oe.relatedTarget=Gt,pe=Oe),Gt=pe,Te&&Re)t:{for(Oe=Te,Q=Re,H=0,J=Oe;J;J=ll(J))H++;for(J=0,pe=Q;pe;pe=ll(pe))J++;for(;0<H-J;)Oe=ll(Oe),H--;for(;0<J-H;)Q=ll(Q),J--;for(;H--;){if(Oe===Q||Q!==null&&Oe===Q.alternate)break t;Oe=ll(Oe),Q=ll(Q)}Oe=null}else Oe=null;Te!==null&&s0(ue,ae,Te,Oe,!1),Re!==null&&Gt!==null&&s0(ue,Gt,Re,Oe,!0)}}e:{if(ae=ee?ul(ee):window,Te=ae.nodeName&&ae.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ae.type==="file")var Me=Ok;else if(Lw(ae))if(jw)Me=Fk;else{Me=Vk;var Ue=Mk}else(Te=ae.nodeName)&&Te.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Me=Lk);if(Me&&(Me=Me(o,ee))){Fw(ue,Me,c,le);break e}Ue&&Ue(o,ae,ee),o==="focusout"&&(Ue=ae._wrapperState)&&Ue.controlled&&ae.type==="number"&&gt(ae,"number",ae.value)}switch(Ue=ee?ul(ee):window,o){case"focusin":(Lw(Ue)||Ue.contentEditable==="true")&&(il=Ue,Im=ee,Wc=null);break;case"focusout":Wc=Im=il=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,Gw(ue,c,le);break;case"selectionchange":if(zk)break;case"keydown":case"keyup":Gw(ue,c,le)}var ze;if(wm)e:{switch(o){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else ol?Mw(o,c)&&(He="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(Nw&&c.locale!=="ko"&&(ol||He!=="onCompositionStart"?He==="onCompositionEnd"&&ol&&(ze=qd()):(hr=le,Ja="value"in hr?hr.value:hr.textContent,ol=!0)),Ue=Jd(ee,He),0<Ue.length&&(He=new S(He,o,null,c,le),ue.push({event:He,listeners:Ue}),ze?He.data=ze:(ze=Vw(c),ze!==null&&(He.data=ze)))),(ze=Ak?Rk(o,c):kk(o,c))&&(ee=Jd(ee,"onBeforeInput"),0<ee.length&&(le=new S("onBeforeInput","beforeinput",null,c,le),ue.push({event:le,listeners:ee}),le.data=ze))}n0(ue,a)})}function Zc(o,a,c){return{instance:o,listener:a,currentTarget:c}}function Jd(o,a){for(var c=a+"Capture",f=[];o!==null;){var y=o,v=y.stateNode;y.tag===5&&v!==null&&(y=v,v=Yt(o,c),v!=null&&f.unshift(Zc(o,v,y)),v=Yt(o,a),v!=null&&f.push(Zc(o,v,y))),o=o.return}return f}function ll(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function s0(o,a,c,f,y){for(var v=a._reactName,x=[];c!==null&&c!==f;){var L=c,q=L.alternate,ee=L.stateNode;if(q!==null&&q===f)break;L.tag===5&&ee!==null&&(L=ee,y?(q=Yt(c,v),q!=null&&x.unshift(Zc(c,q,L))):y||(q=Yt(c,v),q!=null&&x.push(Zc(c,q,L)))),c=c.return}x.length!==0&&o.push({event:a,listeners:x})}var Hk=/\r\n?/g,Wk=/\u0000|\uFFFD/g;function o0(o){return(typeof o=="string"?o:""+o).replace(Hk,`
`).replace(Wk,"")}function eh(o,a,c){if(a=o0(a),o0(o)!==a&&c)throw Error(t(425))}function th(){}var km=null,Nm=null;function Dm(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Om=typeof setTimeout=="function"?setTimeout:void 0,Gk=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,Kk=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(o){return i0.resolve(null).then(o).catch(Zk)}:Om;function Zk(o){setTimeout(function(){throw o})}function Mm(o,a){var c=a,f=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(f===0){o.removeChild(y),Fo(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=y}while(c);Fo(a)}function $o(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function a0(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var cl=Math.random().toString(36).slice(2),Ss="__reactFiber$"+cl,Qc="__reactProps$"+cl,ro="__reactContainer$"+cl,Vm="__reactEvents$"+cl,Qk="__reactListeners$"+cl,Yk="__reactHandles$"+cl;function Wi(o){var a=o[Ss];if(a)return a;for(var c=o.parentNode;c;){if(a=c[ro]||c[Ss]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=a0(o);o!==null;){if(c=o[Ss])return c;o=a0(o)}return a}o=c,c=o.parentNode}return null}function Yc(o){return o=o[Ss]||o[ro],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ul(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function nh(o){return o[Qc]||null}var Lm=[],dl=-1;function Bo(o){return{current:o}}function kt(o){0>dl||(o.current=Lm[dl],Lm[dl]=null,dl--)}function Tt(o,a){dl++,Lm[dl]=o.current,o.current=a}var qo={},An=Bo(qo),Qn=Bo(!1),Gi=qo;function hl(o,a){var c=o.type.contextTypes;if(!c)return qo;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var y={},v;for(v in c)y[v]=a[v];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Yn(o){return o=o.childContextTypes,o!=null}function rh(){kt(Qn),kt(An)}function l0(o,a,c){if(An.current!==qo)throw Error(t(168));Tt(An,a),Tt(Qn,c)}function c0(o,a,c){var f=o.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var y in f)if(!(y in a))throw Error(t(108,ve(o)||"Unknown",y));return X({},c,f)}function sh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||qo,Gi=An.current,Tt(An,o),Tt(Qn,Qn.current),!0}function u0(o,a,c){var f=o.stateNode;if(!f)throw Error(t(169));c?(o=c0(o,a,Gi),f.__reactInternalMemoizedMergedChildContext=o,kt(Qn),kt(An),Tt(An,o)):kt(Qn),Tt(Qn,c)}var so=null,oh=!1,Fm=!1;function d0(o){so===null?so=[o]:so.push(o)}function Xk(o){oh=!0,d0(o)}function Ho(){if(!Fm&&so!==null){Fm=!0;var o=0,a=lt;try{var c=so;for(lt=1;o<c.length;o++){var f=c[o];do f=f(!0);while(f!==null)}so=null,oh=!1}catch(y){throw so!==null&&(so=so.slice(o+1)),Cc(Wa,Ho),y}finally{lt=a,Fm=!1}}return null}var fl=[],pl=0,ih=null,ah=0,Pr=[],Ar=0,Ki=null,oo=1,io="";function Zi(o,a){fl[pl++]=ah,fl[pl++]=ih,ih=o,ah=a}function h0(o,a,c){Pr[Ar++]=oo,Pr[Ar++]=io,Pr[Ar++]=Ki,Ki=o;var f=oo;o=io;var y=32-ur(f)-1;f&=~(1<<y),c+=1;var v=32-ur(a)+y;if(30<v){var x=y-y%5;v=(f&(1<<x)-1).toString(32),f>>=x,y-=x,oo=1<<32-ur(a)+y|c<<y|f,io=v+o}else oo=1<<v|c<<y|f,io=o}function jm(o){o.return!==null&&(Zi(o,1),h0(o,1,0))}function Um(o){for(;o===ih;)ih=fl[--pl],fl[pl]=null,ah=fl[--pl],fl[pl]=null;for(;o===Ki;)Ki=Pr[--Ar],Pr[Ar]=null,io=Pr[--Ar],Pr[Ar]=null,oo=Pr[--Ar],Pr[Ar]=null}var mr=null,gr=null,Nt=!1,Qr=null;function f0(o,a){var c=Dr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function p0(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,mr=o,gr=$o(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,mr=o,gr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Ki!==null?{id:oo,overflow:io}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Dr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,mr=o,gr=null,!0):!1;default:return!1}}function zm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function $m(o){if(Nt){var a=gr;if(a){var c=a;if(!p0(o,a)){if(zm(o))throw Error(t(418));a=$o(c.nextSibling);var f=mr;a&&p0(o,a)?f0(f,c):(o.flags=o.flags&-4097|2,Nt=!1,mr=o)}}else{if(zm(o))throw Error(t(418));o.flags=o.flags&-4097|2,Nt=!1,mr=o}}}function m0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;mr=o}function lh(o){if(o!==mr)return!1;if(!Nt)return m0(o),Nt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Dm(o.type,o.memoizedProps)),a&&(a=gr)){if(zm(o))throw g0(),Error(t(418));for(;a;)f0(o,a),a=$o(a.nextSibling)}if(m0(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){gr=$o(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}gr=null}}else gr=mr?$o(o.stateNode.nextSibling):null;return!0}function g0(){for(var o=gr;o;)o=$o(o.nextSibling)}function ml(){gr=mr=null,Nt=!1}function Bm(o){Qr===null?Qr=[o]:Qr.push(o)}var Jk=z.ReactCurrentBatchConfig;function Xc(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,o));var y=f,v=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(x){var L=y.refs;x===null?delete L[v]:L[v]=x},a._stringRef=v,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function ch(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function y0(o){var a=o._init;return a(o._payload)}function v0(o){function a(Q,H){if(o){var J=Q.deletions;J===null?(Q.deletions=[H],Q.flags|=16):J.push(H)}}function c(Q,H){if(!o)return null;for(;H!==null;)a(Q,H),H=H.sibling;return null}function f(Q,H){for(Q=new Map;H!==null;)H.key!==null?Q.set(H.key,H):Q.set(H.index,H),H=H.sibling;return Q}function y(Q,H){return Q=Jo(Q,H),Q.index=0,Q.sibling=null,Q}function v(Q,H,J){return Q.index=J,o?(J=Q.alternate,J!==null?(J=J.index,J<H?(Q.flags|=2,H):J):(Q.flags|=2,H)):(Q.flags|=1048576,H)}function x(Q){return o&&Q.alternate===null&&(Q.flags|=2),Q}function L(Q,H,J,pe){return H===null||H.tag!==6?(H=Og(J,Q.mode,pe),H.return=Q,H):(H=y(H,J),H.return=Q,H)}function q(Q,H,J,pe){var Me=J.type;return Me===P?le(Q,H,J.props.children,pe,J.key):H!==null&&(H.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ge&&y0(Me)===H.type)?(pe=y(H,J.props),pe.ref=Xc(Q,H,J),pe.return=Q,pe):(pe=Dh(J.type,J.key,J.props,null,Q.mode,pe),pe.ref=Xc(Q,H,J),pe.return=Q,pe)}function ee(Q,H,J,pe){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=Mg(J,Q.mode,pe),H.return=Q,H):(H=y(H,J.children||[]),H.return=Q,H)}function le(Q,H,J,pe,Me){return H===null||H.tag!==7?(H=ra(J,Q.mode,pe,Me),H.return=Q,H):(H=y(H,J),H.return=Q,H)}function ue(Q,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Og(""+H,Q.mode,J),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case $:return J=Dh(H.type,H.key,H.props,null,Q.mode,J),J.ref=Xc(Q,null,H),J.return=Q,J;case K:return H=Mg(H,Q.mode,J),H.return=Q,H;case ge:var pe=H._init;return ue(Q,pe(H._payload),J)}if(Vt(H)||ne(H))return H=ra(H,Q.mode,J,null),H.return=Q,H;ch(Q,H)}return null}function ae(Q,H,J,pe){var Me=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Me!==null?null:L(Q,H,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===Me?q(Q,H,J,pe):null;case K:return J.key===Me?ee(Q,H,J,pe):null;case ge:return Me=J._init,ae(Q,H,Me(J._payload),pe)}if(Vt(J)||ne(J))return Me!==null?null:le(Q,H,J,pe,null);ch(Q,J)}return null}function Te(Q,H,J,pe,Me){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Q=Q.get(J)||null,L(H,Q,""+pe,Me);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case $:return Q=Q.get(pe.key===null?J:pe.key)||null,q(H,Q,pe,Me);case K:return Q=Q.get(pe.key===null?J:pe.key)||null,ee(H,Q,pe,Me);case ge:var Ue=pe._init;return Te(Q,H,J,Ue(pe._payload),Me)}if(Vt(pe)||ne(pe))return Q=Q.get(J)||null,le(H,Q,pe,Me,null);ch(H,pe)}return null}function Re(Q,H,J,pe){for(var Me=null,Ue=null,ze=H,He=H=0,yn=null;ze!==null&&He<J.length;He++){ze.index>He?(yn=ze,ze=null):yn=ze.sibling;var pt=ae(Q,ze,J[He],pe);if(pt===null){ze===null&&(ze=yn);break}o&&ze&&pt.alternate===null&&a(Q,ze),H=v(pt,H,He),Ue===null?Me=pt:Ue.sibling=pt,Ue=pt,ze=yn}if(He===J.length)return c(Q,ze),Nt&&Zi(Q,He),Me;if(ze===null){for(;He<J.length;He++)ze=ue(Q,J[He],pe),ze!==null&&(H=v(ze,H,He),Ue===null?Me=ze:Ue.sibling=ze,Ue=ze);return Nt&&Zi(Q,He),Me}for(ze=f(Q,ze);He<J.length;He++)yn=Te(ze,Q,He,J[He],pe),yn!==null&&(o&&yn.alternate!==null&&ze.delete(yn.key===null?He:yn.key),H=v(yn,H,He),Ue===null?Me=yn:Ue.sibling=yn,Ue=yn);return o&&ze.forEach(function(ei){return a(Q,ei)}),Nt&&Zi(Q,He),Me}function Oe(Q,H,J,pe){var Me=ne(J);if(typeof Me!="function")throw Error(t(150));if(J=Me.call(J),J==null)throw Error(t(151));for(var Ue=Me=null,ze=H,He=H=0,yn=null,pt=J.next();ze!==null&&!pt.done;He++,pt=J.next()){ze.index>He?(yn=ze,ze=null):yn=ze.sibling;var ei=ae(Q,ze,pt.value,pe);if(ei===null){ze===null&&(ze=yn);break}o&&ze&&ei.alternate===null&&a(Q,ze),H=v(ei,H,He),Ue===null?Me=ei:Ue.sibling=ei,Ue=ei,ze=yn}if(pt.done)return c(Q,ze),Nt&&Zi(Q,He),Me;if(ze===null){for(;!pt.done;He++,pt=J.next())pt=ue(Q,pt.value,pe),pt!==null&&(H=v(pt,H,He),Ue===null?Me=pt:Ue.sibling=pt,Ue=pt);return Nt&&Zi(Q,He),Me}for(ze=f(Q,ze);!pt.done;He++,pt=J.next())pt=Te(ze,Q,He,pt.value,pe),pt!==null&&(o&&pt.alternate!==null&&ze.delete(pt.key===null?He:pt.key),H=v(pt,H,He),Ue===null?Me=pt:Ue.sibling=pt,Ue=pt);return o&&ze.forEach(function(NN){return a(Q,NN)}),Nt&&Zi(Q,He),Me}function Gt(Q,H,J,pe){if(typeof J=="object"&&J!==null&&J.type===P&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var Me=J.key,Ue=H;Ue!==null;){if(Ue.key===Me){if(Me=J.type,Me===P){if(Ue.tag===7){c(Q,Ue.sibling),H=y(Ue,J.props.children),H.return=Q,Q=H;break e}}else if(Ue.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ge&&y0(Me)===Ue.type){c(Q,Ue.sibling),H=y(Ue,J.props),H.ref=Xc(Q,Ue,J),H.return=Q,Q=H;break e}c(Q,Ue);break}else a(Q,Ue);Ue=Ue.sibling}J.type===P?(H=ra(J.props.children,Q.mode,pe,J.key),H.return=Q,Q=H):(pe=Dh(J.type,J.key,J.props,null,Q.mode,pe),pe.ref=Xc(Q,H,J),pe.return=Q,Q=pe)}return x(Q);case K:e:{for(Ue=J.key;H!==null;){if(H.key===Ue)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(Q,H.sibling),H=y(H,J.children||[]),H.return=Q,Q=H;break e}else{c(Q,H);break}else a(Q,H);H=H.sibling}H=Mg(J,Q.mode,pe),H.return=Q,Q=H}return x(Q);case ge:return Ue=J._init,Gt(Q,H,Ue(J._payload),pe)}if(Vt(J))return Re(Q,H,J,pe);if(ne(J))return Oe(Q,H,J,pe);ch(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(c(Q,H.sibling),H=y(H,J),H.return=Q,Q=H):(c(Q,H),H=Og(J,Q.mode,pe),H.return=Q,Q=H),x(Q)):c(Q,H)}return Gt}var gl=v0(!0),_0=v0(!1),uh=Bo(null),dh=null,yl=null,qm=null;function Hm(){qm=yl=dh=null}function Wm(o){var a=uh.current;kt(uh),o._currentValue=a}function Gm(o,a,c){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===c)break;o=o.return}}function vl(o,a){dh=o,qm=yl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Xn=!0),o.firstContext=null)}function Rr(o){var a=o._currentValue;if(qm!==o)if(o={context:o,memoizedValue:a,next:null},yl===null){if(dh===null)throw Error(t(308));yl=o,dh.dependencies={lanes:0,firstContext:o}}else yl=yl.next=o;return a}var Qi=null;function Km(o){Qi===null?Qi=[o]:Qi.push(o)}function w0(o,a,c,f){var y=a.interleaved;return y===null?(c.next=c,Km(a)):(c.next=y.next,y.next=c),a.interleaved=c,ao(o,f)}function ao(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Wo=!1;function Zm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E0(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function lo(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Go(o,a,c){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(ft&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,ao(o,c)}return y=f.interleaved,y===null?(a.next=a,Km(f)):(a.next=y.next,y.next=a),f.interleaved=a,ao(o,c)}function hh(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Dc(o,c)}}function b0(o,a){var c=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var x={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?y=v=x:v=v.next=x,c=c.next}while(c!==null);v===null?y=v=a:v=v.next=a}else y=v=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:f.shared,effects:f.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function fh(o,a,c,f){var y=o.updateQueue;Wo=!1;var v=y.firstBaseUpdate,x=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var q=L,ee=q.next;q.next=null,x===null?v=ee:x.next=ee,x=q;var le=o.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==x&&(L===null?le.firstBaseUpdate=ee:L.next=ee,le.lastBaseUpdate=q))}if(v!==null){var ue=y.baseState;x=0,le=ee=q=null,L=v;do{var ae=L.lane,Te=L.eventTime;if((f&ae)===ae){le!==null&&(le=le.next={eventTime:Te,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Re=o,Oe=L;switch(ae=a,Te=c,Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){ue=Re.call(Te,ue,ae);break e}ue=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,ae=typeof Re=="function"?Re.call(Te,ue,ae):Re,ae==null)break e;ue=X({},ue,ae);break e;case 2:Wo=!0}}L.callback!==null&&L.lane!==0&&(o.flags|=64,ae=y.effects,ae===null?y.effects=[L]:ae.push(L))}else Te={eventTime:Te,lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(ee=le=Te,q=ue):le=le.next=Te,x|=ae;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);if(le===null&&(q=ue),y.baseState=q,y.firstBaseUpdate=ee,y.lastBaseUpdate=le,a=y.shared.interleaved,a!==null){y=a;do x|=y.lane,y=y.next;while(y!==a)}else v===null&&(y.shared.lanes=0);Ji|=x,o.lanes=x,o.memoizedState=ue}}function S0(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var f=o[a],y=f.callback;if(y!==null){if(f.callback=null,f=c,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var Jc={},Is=Bo(Jc),eu=Bo(Jc),tu=Bo(Jc);function Yi(o){if(o===Jc)throw Error(t(174));return o}function Qm(o,a){switch(Tt(tu,a),Tt(eu,o),Tt(Is,Jc),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ao(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Ao(a,o)}kt(Is),Tt(Is,a)}function _l(){kt(Is),kt(eu),kt(tu)}function I0(o){Yi(tu.current);var a=Yi(Is.current),c=Ao(a,o.type);a!==c&&(Tt(eu,o),Tt(Is,c))}function Ym(o){eu.current===o&&(kt(Is),kt(eu))}var Lt=Bo(0);function ph(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Xm=[];function Jm(){for(var o=0;o<Xm.length;o++)Xm[o]._workInProgressVersionPrimary=null;Xm.length=0}var mh=z.ReactCurrentDispatcher,eg=z.ReactCurrentBatchConfig,Xi=0,Ft=null,an=null,mn=null,gh=!1,nu=!1,ru=0,eN=0;function Rn(){throw Error(t(321))}function tg(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!Zr(o[c],a[c]))return!1;return!0}function ng(o,a,c,f,y,v){if(Xi=v,Ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,mh.current=o===null||o.memoizedState===null?sN:oN,o=c(f,y),nu){v=0;do{if(nu=!1,ru=0,25<=v)throw Error(t(301));v+=1,mn=an=null,a.updateQueue=null,mh.current=iN,o=c(f,y)}while(nu)}if(mh.current=_h,a=an!==null&&an.next!==null,Xi=0,mn=an=Ft=null,gh=!1,a)throw Error(t(300));return o}function rg(){var o=ru!==0;return ru=0,o}function xs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Ft.memoizedState=mn=o:mn=mn.next=o,mn}function kr(){if(an===null){var o=Ft.alternate;o=o!==null?o.memoizedState:null}else o=an.next;var a=mn===null?Ft.memoizedState:mn.next;if(a!==null)mn=a,an=o;else{if(o===null)throw Error(t(310));an=o,o={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},mn===null?Ft.memoizedState=mn=o:mn=mn.next=o}return mn}function su(o,a){return typeof a=="function"?a(o):a}function sg(o){var a=kr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=an,y=f.baseQueue,v=c.pending;if(v!==null){if(y!==null){var x=y.next;y.next=v.next,v.next=x}f.baseQueue=y=v,c.pending=null}if(y!==null){v=y.next,f=f.baseState;var L=x=null,q=null,ee=v;do{var le=ee.lane;if((Xi&le)===le)q!==null&&(q=q.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),f=ee.hasEagerState?ee.eagerState:o(f,ee.action);else{var ue={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};q===null?(L=q=ue,x=f):q=q.next=ue,Ft.lanes|=le,Ji|=le}ee=ee.next}while(ee!==null&&ee!==v);q===null?x=f:q.next=L,Zr(f,a.memoizedState)||(Xn=!0),a.memoizedState=f,a.baseState=x,a.baseQueue=q,c.lastRenderedState=f}if(o=c.interleaved,o!==null){y=o;do v=y.lane,Ft.lanes|=v,Ji|=v,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function og(o){var a=kr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=c.dispatch,y=c.pending,v=a.memoizedState;if(y!==null){c.pending=null;var x=y=y.next;do v=o(v,x.action),x=x.next;while(x!==y);Zr(v,a.memoizedState)||(Xn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,f]}function x0(){}function T0(o,a){var c=Ft,f=kr(),y=a(),v=!Zr(f.memoizedState,y);if(v&&(f.memoizedState=y,Xn=!0),f=f.queue,ig(A0.bind(null,c,f,o),[o]),f.getSnapshot!==a||v||mn!==null&&mn.memoizedState.tag&1){if(c.flags|=2048,ou(9,P0.bind(null,c,f,y,a),void 0,null),gn===null)throw Error(t(349));(Xi&30)!==0||C0(c,a,y)}return y}function C0(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=Ft.updateQueue,a===null?(a={lastEffect:null,stores:null},Ft.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function P0(o,a,c,f){a.value=c,a.getSnapshot=f,R0(a)&&k0(o)}function A0(o,a,c){return c(function(){R0(a)&&k0(o)})}function R0(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!Zr(o,c)}catch{return!0}}function k0(o){var a=ao(o,1);a!==null&&es(a,o,1,-1)}function N0(o){var a=xs();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:o},a.queue=o,o=o.dispatch=rN.bind(null,Ft,o),[a.memoizedState,o]}function ou(o,a,c,f){return o={tag:o,create:a,destroy:c,deps:f,next:null},a=Ft.updateQueue,a===null?(a={lastEffect:null,stores:null},Ft.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(f=c.next,c.next=o,o.next=f,a.lastEffect=o)),o}function D0(){return kr().memoizedState}function yh(o,a,c,f){var y=xs();Ft.flags|=o,y.memoizedState=ou(1|a,c,void 0,f===void 0?null:f)}function vh(o,a,c,f){var y=kr();f=f===void 0?null:f;var v=void 0;if(an!==null){var x=an.memoizedState;if(v=x.destroy,f!==null&&tg(f,x.deps)){y.memoizedState=ou(a,c,v,f);return}}Ft.flags|=o,y.memoizedState=ou(1|a,c,v,f)}function O0(o,a){return yh(8390656,8,o,a)}function ig(o,a){return vh(2048,8,o,a)}function M0(o,a){return vh(4,2,o,a)}function V0(o,a){return vh(4,4,o,a)}function L0(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function F0(o,a,c){return c=c!=null?c.concat([o]):null,vh(4,4,L0.bind(null,a,o),c)}function ag(){}function j0(o,a){var c=kr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&tg(a,f[1])?f[0]:(c.memoizedState=[o,a],o)}function U0(o,a){var c=kr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&tg(a,f[1])?f[0]:(o=o(),c.memoizedState=[o,a],o)}function z0(o,a,c){return(Xi&21)===0?(o.baseState&&(o.baseState=!1,Xn=!0),o.memoizedState=c):(Zr(c,a)||(c=kc(),Ft.lanes|=c,Ji|=c,o.baseState=!0),a)}function tN(o,a){var c=lt;lt=c!==0&&4>c?c:4,o(!0);var f=eg.transition;eg.transition={};try{o(!1),a()}finally{lt=c,eg.transition=f}}function $0(){return kr().memoizedState}function nN(o,a,c){var f=Yo(o);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},B0(o))q0(a,c);else if(c=w0(o,a,c,f),c!==null){var y=$n();es(c,o,f,y),H0(c,a,f)}}function rN(o,a,c){var f=Yo(o),y={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(B0(o))q0(a,y);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var x=a.lastRenderedState,L=v(x,c);if(y.hasEagerState=!0,y.eagerState=L,Zr(L,x)){var q=a.interleaved;q===null?(y.next=y,Km(a)):(y.next=q.next,q.next=y),a.interleaved=y;return}}catch{}finally{}c=w0(o,a,y,f),c!==null&&(y=$n(),es(c,o,f,y),H0(c,a,f))}}function B0(o){var a=o.alternate;return o===Ft||a!==null&&a===Ft}function q0(o,a){nu=gh=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function H0(o,a,c){if((c&4194240)!==0){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Dc(o,c)}}var _h={readContext:Rr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},sN={readContext:Rr,useCallback:function(o,a){return xs().memoizedState=[o,a===void 0?null:a],o},useContext:Rr,useEffect:O0,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,yh(4194308,4,L0.bind(null,a,o),c)},useLayoutEffect:function(o,a){return yh(4194308,4,o,a)},useInsertionEffect:function(o,a){return yh(4,2,o,a)},useMemo:function(o,a){var c=xs();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var f=xs();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},f.queue=o,o=o.dispatch=nN.bind(null,Ft,o),[f.memoizedState,o]},useRef:function(o){var a=xs();return o={current:o},a.memoizedState=o},useState:N0,useDebugValue:ag,useDeferredValue:function(o){return xs().memoizedState=o},useTransition:function(){var o=N0(!1),a=o[0];return o=tN.bind(null,o[1]),xs().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var f=Ft,y=xs();if(Nt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),gn===null)throw Error(t(349));(Xi&30)!==0||C0(f,a,c)}y.memoizedState=c;var v={value:c,getSnapshot:a};return y.queue=v,O0(A0.bind(null,f,v,o),[o]),f.flags|=2048,ou(9,P0.bind(null,f,v,c,a),void 0,null),c},useId:function(){var o=xs(),a=gn.identifierPrefix;if(Nt){var c=io,f=oo;c=(f&~(1<<32-ur(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=ru++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=eN++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},oN={readContext:Rr,useCallback:j0,useContext:Rr,useEffect:ig,useImperativeHandle:F0,useInsertionEffect:M0,useLayoutEffect:V0,useMemo:U0,useReducer:sg,useRef:D0,useState:function(){return sg(su)},useDebugValue:ag,useDeferredValue:function(o){var a=kr();return z0(a,an.memoizedState,o)},useTransition:function(){var o=sg(su)[0],a=kr().memoizedState;return[o,a]},useMutableSource:x0,useSyncExternalStore:T0,useId:$0,unstable_isNewReconciler:!1},iN={readContext:Rr,useCallback:j0,useContext:Rr,useEffect:ig,useImperativeHandle:F0,useInsertionEffect:M0,useLayoutEffect:V0,useMemo:U0,useReducer:og,useRef:D0,useState:function(){return og(su)},useDebugValue:ag,useDeferredValue:function(o){var a=kr();return an===null?a.memoizedState=o:z0(a,an.memoizedState,o)},useTransition:function(){var o=og(su)[0],a=kr().memoizedState;return[o,a]},useMutableSource:x0,useSyncExternalStore:T0,useId:$0,unstable_isNewReconciler:!1};function Yr(o,a){if(o&&o.defaultProps){a=X({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function lg(o,a,c,f){a=o.memoizedState,c=c(f,a),c=c==null?a:X({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var wh={isMounted:function(o){return(o=o._reactInternals)?Gr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var f=$n(),y=Yo(o),v=lo(f,y);v.payload=a,c!=null&&(v.callback=c),a=Go(o,v,y),a!==null&&(es(a,o,y,f),hh(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var f=$n(),y=Yo(o),v=lo(f,y);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=Go(o,v,y),a!==null&&(es(a,o,y,f),hh(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=$n(),f=Yo(o),y=lo(c,f);y.tag=2,a!=null&&(y.callback=a),a=Go(o,y,f),a!==null&&(es(a,o,f,c),hh(a,o,f))}};function W0(o,a,c,f,y,v,x){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,v,x):a.prototype&&a.prototype.isPureReactComponent?!Hc(c,f)||!Hc(y,v):!0}function G0(o,a,c){var f=!1,y=qo,v=a.contextType;return typeof v=="object"&&v!==null?v=Rr(v):(y=Yn(a)?Gi:An.current,f=a.contextTypes,v=(f=f!=null)?hl(o,y):qo),a=new a(c,v),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=wh,o.stateNode=a,a._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=v),a}function K0(o,a,c,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==o&&wh.enqueueReplaceState(a,a.state,null)}function cg(o,a,c,f){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},Zm(o);var v=a.contextType;typeof v=="object"&&v!==null?y.context=Rr(v):(v=Yn(a)?Gi:An.current,y.context=hl(o,v)),y.state=o.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(lg(o,a,v,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&wh.enqueueReplaceState(y,y.state,null),fh(o,c,y,f),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function wl(o,a){try{var c="",f=a;do c+=he(f),f=f.return;while(f);var y=c}catch(v){y=`
Error generating stack: `+v.message+`
`+v.stack}return{value:o,source:a,stack:y,digest:null}}function ug(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function dg(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var aN=typeof WeakMap=="function"?WeakMap:Map;function Z0(o,a,c){c=lo(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){Ch||(Ch=!0,Tg=f),dg(o,a)},c}function Q0(o,a,c){c=lo(-1,c),c.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=a.value;c.payload=function(){return f(y)},c.callback=function(){dg(o,a)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){dg(o,a),typeof f!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})}),c}function Y0(o,a,c){var f=o.pingCache;if(f===null){f=o.pingCache=new aN;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(y.add(c),o=EN.bind(null,o,a,c),a.then(o,o))}function X0(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function J0(o,a,c,f,y){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=lo(-1,1),a.tag=2,Go(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var lN=z.ReactCurrentOwner,Xn=!1;function zn(o,a,c,f){a.child=o===null?_0(a,null,c,f):gl(a,o.child,c,f)}function eE(o,a,c,f,y){c=c.render;var v=a.ref;return vl(a,y),f=ng(o,a,c,f,v,y),c=rg(),o!==null&&!Xn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,co(o,a,y)):(Nt&&c&&jm(a),a.flags|=1,zn(o,a,f,y),a.child)}function tE(o,a,c,f,y){if(o===null){var v=c.type;return typeof v=="function"&&!Dg(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=v,nE(o,a,v,f,y)):(o=Dh(c.type,null,f,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(v=o.child,(o.lanes&y)===0){var x=v.memoizedProps;if(c=c.compare,c=c!==null?c:Hc,c(x,f)&&o.ref===a.ref)return co(o,a,y)}return a.flags|=1,o=Jo(v,f),o.ref=a.ref,o.return=a,a.child=o}function nE(o,a,c,f,y){if(o!==null){var v=o.memoizedProps;if(Hc(v,f)&&o.ref===a.ref)if(Xn=!1,a.pendingProps=f=v,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Xn=!0);else return a.lanes=o.lanes,co(o,a,y)}return hg(o,a,c,f,y)}function rE(o,a,c){var f=a.pendingProps,y=f.children,v=o!==null?o.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(bl,yr),yr|=c;else{if((c&1073741824)===0)return o=v!==null?v.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Tt(bl,yr),yr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:c,Tt(bl,yr),yr|=f}else v!==null?(f=v.baseLanes|c,a.memoizedState=null):f=c,Tt(bl,yr),yr|=f;return zn(o,a,y,c),a.child}function sE(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function hg(o,a,c,f,y){var v=Yn(c)?Gi:An.current;return v=hl(a,v),vl(a,y),c=ng(o,a,c,f,v,y),f=rg(),o!==null&&!Xn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,co(o,a,y)):(Nt&&f&&jm(a),a.flags|=1,zn(o,a,c,y),a.child)}function oE(o,a,c,f,y){if(Yn(c)){var v=!0;sh(a)}else v=!1;if(vl(a,y),a.stateNode===null)bh(o,a),G0(a,c,f),cg(a,c,f,y),f=!0;else if(o===null){var x=a.stateNode,L=a.memoizedProps;x.props=L;var q=x.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Rr(ee):(ee=Yn(c)?Gi:An.current,ee=hl(a,ee));var le=c.getDerivedStateFromProps,ue=typeof le=="function"||typeof x.getSnapshotBeforeUpdate=="function";ue||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==f||q!==ee)&&K0(a,x,f,ee),Wo=!1;var ae=a.memoizedState;x.state=ae,fh(a,f,x,y),q=a.memoizedState,L!==f||ae!==q||Qn.current||Wo?(typeof le=="function"&&(lg(a,c,le,f),q=a.memoizedState),(L=Wo||W0(a,c,L,f,ae,q,ee))?(ue||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=q),x.props=f,x.state=q,x.context=ee,f=L):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{x=a.stateNode,E0(o,a),L=a.memoizedProps,ee=a.type===a.elementType?L:Yr(a.type,L),x.props=ee,ue=a.pendingProps,ae=x.context,q=c.contextType,typeof q=="object"&&q!==null?q=Rr(q):(q=Yn(c)?Gi:An.current,q=hl(a,q));var Te=c.getDerivedStateFromProps;(le=typeof Te=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==ue||ae!==q)&&K0(a,x,f,q),Wo=!1,ae=a.memoizedState,x.state=ae,fh(a,f,x,y);var Re=a.memoizedState;L!==ue||ae!==Re||Qn.current||Wo?(typeof Te=="function"&&(lg(a,c,Te,f),Re=a.memoizedState),(ee=Wo||W0(a,c,ee,f,ae,Re,q)||!1)?(le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,Re,q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,Re,q)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Re),x.props=f,x.state=Re,x.context=q,f=ee):(typeof x.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),f=!1)}return fg(o,a,c,f,v,y)}function fg(o,a,c,f,y,v){sE(o,a);var x=(a.flags&128)!==0;if(!f&&!x)return y&&u0(a,c,!1),co(o,a,v);f=a.stateNode,lN.current=a;var L=x&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,o!==null&&x?(a.child=gl(a,o.child,null,v),a.child=gl(a,null,L,v)):zn(o,a,L,v),a.memoizedState=f.state,y&&u0(a,c,!0),a.child}function iE(o){var a=o.stateNode;a.pendingContext?l0(o,a.pendingContext,a.pendingContext!==a.context):a.context&&l0(o,a.context,!1),Qm(o,a.containerInfo)}function aE(o,a,c,f,y){return ml(),Bm(y),a.flags|=256,zn(o,a,c,f),a.child}var pg={dehydrated:null,treeContext:null,retryLane:0};function mg(o){return{baseLanes:o,cachePool:null,transitions:null}}function lE(o,a,c){var f=a.pendingProps,y=Lt.current,v=!1,x=(a.flags&128)!==0,L;if((L=x)||(L=o!==null&&o.memoizedState===null?!1:(y&2)!==0),L?(v=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),Tt(Lt,y&1),o===null)return $m(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(x=f.children,o=f.fallback,v?(f=a.mode,v=a.child,x={mode:"hidden",children:x},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=x):v=Oh(x,f,0,null),o=ra(o,f,c,null),v.return=a,o.return=a,v.sibling=o,a.child=v,a.child.memoizedState=mg(c),a.memoizedState=pg,o):gg(a,x));if(y=o.memoizedState,y!==null&&(L=y.dehydrated,L!==null))return cN(o,a,x,f,L,y,c);if(v){v=f.fallback,x=a.mode,y=o.child,L=y.sibling;var q={mode:"hidden",children:f.children};return(x&1)===0&&a.child!==y?(f=a.child,f.childLanes=0,f.pendingProps=q,a.deletions=null):(f=Jo(y,q),f.subtreeFlags=y.subtreeFlags&14680064),L!==null?v=Jo(L,v):(v=ra(v,x,c,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,x=o.child.memoizedState,x=x===null?mg(c):{baseLanes:x.baseLanes|c,cachePool:null,transitions:x.transitions},v.memoizedState=x,v.childLanes=o.childLanes&~c,a.memoizedState=pg,f}return v=o.child,o=v.sibling,f=Jo(v,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=f,a.memoizedState=null,f}function gg(o,a){return a=Oh({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Eh(o,a,c,f){return f!==null&&Bm(f),gl(a,o.child,null,c),o=gg(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function cN(o,a,c,f,y,v,x){if(c)return a.flags&256?(a.flags&=-257,f=ug(Error(t(422))),Eh(o,a,x,f)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(v=f.fallback,y=a.mode,f=Oh({mode:"visible",children:f.children},y,0,null),v=ra(v,y,x,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,(a.mode&1)!==0&&gl(a,o.child,null,x),a.child.memoizedState=mg(x),a.memoizedState=pg,v);if((a.mode&1)===0)return Eh(o,a,x,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var L=f.dgst;return f=L,v=Error(t(419)),f=ug(v,f,void 0),Eh(o,a,x,f)}if(L=(x&o.childLanes)!==0,Xn||L){if(f=gn,f!==null){switch(x&-x){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|x))!==0?0:y,y!==0&&y!==v.retryLane&&(v.retryLane=y,ao(o,y),es(f,o,y,-1))}return Ng(),f=ug(Error(t(421))),Eh(o,a,x,f)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=bN.bind(null,o),y._reactRetry=a,null):(o=v.treeContext,gr=$o(y.nextSibling),mr=a,Nt=!0,Qr=null,o!==null&&(Pr[Ar++]=oo,Pr[Ar++]=io,Pr[Ar++]=Ki,oo=o.id,io=o.overflow,Ki=a),a=gg(a,f.children),a.flags|=4096,a)}function cE(o,a,c){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),Gm(o.return,a,c)}function yg(o,a,c,f,y){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=y)}function uE(o,a,c){var f=a.pendingProps,y=f.revealOrder,v=f.tail;if(zn(o,a,f.children,c),f=Lt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&cE(o,c,a);else if(o.tag===19)cE(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(Tt(Lt,f),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&ph(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),yg(a,!1,y,c,v);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&ph(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}yg(a,!0,c,null,v);break;case"together":yg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function bh(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function co(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Ji|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=Jo(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=Jo(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function uN(o,a,c){switch(a.tag){case 3:iE(a),ml();break;case 5:I0(a);break;case 1:Yn(a.type)&&sh(a);break;case 4:Qm(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,y=a.memoizedProps.value;Tt(uh,f._currentValue),f._currentValue=y;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Tt(Lt,Lt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?lE(o,a,c):(Tt(Lt,Lt.current&1),o=co(o,a,c),o!==null?o.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(o.flags&128)!==0){if(f)return uE(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Tt(Lt,Lt.current),f)break;return null;case 22:case 23:return a.lanes=0,rE(o,a,c)}return co(o,a,c)}var dE,vg,hE,fE;dE=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},vg=function(){},hE=function(o,a,c,f){var y=o.memoizedProps;if(y!==f){o=a.stateNode,Yi(Is.current);var v=null;switch(c){case"input":y=as(o,y),f=as(o,f),v=[];break;case"select":y=X({},y,{value:void 0}),f=X({},f,{value:void 0}),v=[];break;case"textarea":y=on(o,y),f=on(o,f),v=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=th)}Zn(c,f);var x;c=null;for(ee in y)if(!f.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var L=y[ee];for(x in L)L.hasOwnProperty(x)&&(c||(c={}),c[x]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?v||(v=[]):(v=v||[]).push(ee,null));for(ee in f){var q=f[ee];if(L=y?.[ee],f.hasOwnProperty(ee)&&q!==L&&(q!=null||L!=null))if(ee==="style")if(L){for(x in L)!L.hasOwnProperty(x)||q&&q.hasOwnProperty(x)||(c||(c={}),c[x]="");for(x in q)q.hasOwnProperty(x)&&L[x]!==q[x]&&(c||(c={}),c[x]=q[x])}else c||(v||(v=[]),v.push(ee,c)),c=q;else ee==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,L=L?L.__html:void 0,q!=null&&L!==q&&(v=v||[]).push(ee,q)):ee==="children"?typeof q!="string"&&typeof q!="number"||(v=v||[]).push(ee,""+q):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?(q!=null&&ee==="onScroll"&&Rt("scroll",o),v||L===q||(v=[])):(v=v||[]).push(ee,q))}c&&(v=v||[]).push("style",c);var ee=v;(a.updateQueue=ee)&&(a.flags|=4)}},fE=function(o,a,c,f){c!==f&&(a.flags|=4)};function iu(o,a){if(!Nt)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function kn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,f=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=f,o.childLanes=c,a}function dN(o,a,c){var f=a.pendingProps;switch(Um(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(a),null;case 1:return Yn(a.type)&&rh(),kn(a),null;case 3:return f=a.stateNode,_l(),kt(Qn),kt(An),Jm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(lh(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qr!==null&&(Ag(Qr),Qr=null))),vg(o,a),kn(a),null;case 5:Ym(a);var y=Yi(tu.current);if(c=a.type,o!==null&&a.stateNode!=null)hE(o,a,c,f,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return kn(a),null}if(o=Yi(Is.current),lh(a)){f=a.stateNode,c=a.type;var v=a.memoizedProps;switch(f[Ss]=a,f[Qc]=v,o=(a.mode&1)!==0,c){case"dialog":Rt("cancel",f),Rt("close",f);break;case"iframe":case"object":case"embed":Rt("load",f);break;case"video":case"audio":for(y=0;y<Gc.length;y++)Rt(Gc[y],f);break;case"source":Rt("error",f);break;case"img":case"image":case"link":Rt("error",f),Rt("load",f);break;case"details":Rt("toggle",f);break;case"input":Ba(f,v),Rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Rt("invalid",f);break;case"textarea":Sr(f,v),Rt("invalid",f)}Zn(c,v),y=null;for(var x in v)if(v.hasOwnProperty(x)){var L=v[x];x==="children"?typeof L=="string"?f.textContent!==L&&(v.suppressHydrationWarning!==!0&&eh(f.textContent,L,o),y=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&eh(f.textContent,L,o),y=["children",""+L]):s.hasOwnProperty(x)&&L!=null&&x==="onScroll"&&Rt("scroll",f)}switch(c){case"input":me(f),Po(f,v,!0);break;case"textarea":me(f),ls(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=th)}f=y,a.updateQueue=f,f!==null&&(a.flags|=4)}else{x=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=cs(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=x.createElement(c,{is:f.is}):(o=x.createElement(c),c==="select"&&(x=o,f.multiple?x.multiple=!0:f.size&&(x.size=f.size))):o=x.createElementNS(o,c),o[Ss]=a,o[Qc]=f,dE(o,a,!1,!1),a.stateNode=o;e:{switch(x=Do(c,f),c){case"dialog":Rt("cancel",o),Rt("close",o),y=f;break;case"iframe":case"object":case"embed":Rt("load",o),y=f;break;case"video":case"audio":for(y=0;y<Gc.length;y++)Rt(Gc[y],o);y=f;break;case"source":Rt("error",o),y=f;break;case"img":case"image":case"link":Rt("error",o),Rt("load",o),y=f;break;case"details":Rt("toggle",o),y=f;break;case"input":Ba(o,f),y=as(o,f),Rt("invalid",o);break;case"option":y=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},y=X({},f,{value:void 0}),Rt("invalid",o);break;case"textarea":Sr(o,f),y=on(o,f),Rt("invalid",o);break;default:y=f}Zn(c,y),L=y;for(v in L)if(L.hasOwnProperty(v)){var q=L[v];v==="style"?ko(o,q):v==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Ro(o,q)):v==="children"?typeof q=="string"?(c!=="textarea"||q!=="")&&Kn(o,q):typeof q=="number"&&Kn(o,""+q):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?q!=null&&v==="onScroll"&&Rt("scroll",o):q!=null&&j(o,v,q,x))}switch(c){case"input":me(o),Po(o,f,!1);break;case"textarea":me(o),ls(o);break;case"option":f.value!=null&&o.setAttribute("value",""+Ie(f.value));break;case"select":o.multiple=!!f.multiple,v=f.value,v!=null?ar(o,!!f.multiple,v,!1):f.defaultValue!=null&&ar(o,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=th)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return kn(a),null;case 6:if(o&&a.stateNode!=null)fE(o,a,o.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=Yi(tu.current),Yi(Is.current),lh(a)){if(f=a.stateNode,c=a.memoizedProps,f[Ss]=a,(v=f.nodeValue!==c)&&(o=mr,o!==null))switch(o.tag){case 3:eh(f.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&eh(f.nodeValue,c,(o.mode&1)!==0)}v&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Ss]=a,a.stateNode=f}return kn(a),null;case 13:if(kt(Lt),f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Nt&&gr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)g0(),ml(),a.flags|=98560,v=!1;else if(v=lh(a),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(t(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Ss]=a}else ml(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;kn(a),v=!1}else Qr!==null&&(Ag(Qr),Qr=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Lt.current&1)!==0?ln===0&&(ln=3):Ng())),a.updateQueue!==null&&(a.flags|=4),kn(a),null);case 4:return _l(),vg(o,a),o===null&&Kc(a.stateNode.containerInfo),kn(a),null;case 10:return Wm(a.type._context),kn(a),null;case 17:return Yn(a.type)&&rh(),kn(a),null;case 19:if(kt(Lt),v=a.memoizedState,v===null)return kn(a),null;if(f=(a.flags&128)!==0,x=v.rendering,x===null)if(f)iu(v,!1);else{if(ln!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(x=ph(o),x!==null){for(a.flags|=128,iu(v,!1),f=x.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)v=c,o=f,v.flags&=14680066,x=v.alternate,x===null?(v.childLanes=0,v.lanes=o,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=x.childLanes,v.lanes=x.lanes,v.child=x.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=x.memoizedProps,v.memoizedState=x.memoizedState,v.updateQueue=x.updateQueue,v.type=x.type,o=x.dependencies,v.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Tt(Lt,Lt.current&1|2),a.child}o=o.sibling}v.tail!==null&&At()>Sl&&(a.flags|=128,f=!0,iu(v,!1),a.lanes=4194304)}else{if(!f)if(o=ph(x),o!==null){if(a.flags|=128,f=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),iu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!Nt)return kn(a),null}else 2*At()-v.renderingStartTime>Sl&&c!==1073741824&&(a.flags|=128,f=!0,iu(v,!1),a.lanes=4194304);v.isBackwards?(x.sibling=a.child,a.child=x):(c=v.last,c!==null?c.sibling=x:a.child=x,v.last=x)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=At(),a.sibling=null,c=Lt.current,Tt(Lt,f?c&1|2:c&1),a):(kn(a),null);case 22:case 23:return kg(),f=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(yr&1073741824)!==0&&(kn(a),a.subtreeFlags&6&&(a.flags|=8192)):kn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function hN(o,a){switch(Um(a),a.tag){case 1:return Yn(a.type)&&rh(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return _l(),kt(Qn),kt(An),Jm(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Ym(a),null;case 13:if(kt(Lt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));ml()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return kt(Lt),null;case 4:return _l(),null;case 10:return Wm(a.type._context),null;case 22:case 23:return kg(),null;case 24:return null;default:return null}}var Sh=!1,Nn=!1,fN=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function El(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){$t(o,a,f)}else c.current=null}function _g(o,a,c){try{c()}catch(f){$t(o,a,f)}}var pE=!1;function pN(o,a){if(km=eo,o=Ww(),Sm(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var x=0,L=-1,q=-1,ee=0,le=0,ue=o,ae=null;t:for(;;){for(var Te;ue!==c||y!==0&&ue.nodeType!==3||(L=x+y),ue!==v||f!==0&&ue.nodeType!==3||(q=x+f),ue.nodeType===3&&(x+=ue.nodeValue.length),(Te=ue.firstChild)!==null;)ae=ue,ue=Te;for(;;){if(ue===o)break t;if(ae===c&&++ee===y&&(L=x),ae===v&&++le===f&&(q=x),(Te=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=Te}c=L===-1||q===-1?null:{start:L,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(Nm={focusedElem:o,selectionRange:c},eo=!1,Pe=a;Pe!==null;)if(a=Pe,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Pe=o;else for(;Pe!==null;){a=Pe;try{var Re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Oe=Re.memoizedProps,Gt=Re.memoizedState,Q=a.stateNode,H=Q.getSnapshotBeforeUpdate(a.elementType===a.type?Oe:Yr(a.type,Oe),Gt);Q.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){$t(a,a.return,pe)}if(o=a.sibling,o!==null){o.return=a.return,Pe=o;break}Pe=a.return}return Re=pE,pE=!1,Re}function au(o,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&o)===o){var v=y.destroy;y.destroy=void 0,v!==void 0&&_g(a,c,v)}y=y.next}while(y!==f)}}function Ih(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function wg(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function mE(o){var a=o.alternate;a!==null&&(o.alternate=null,mE(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Ss],delete a[Qc],delete a[Vm],delete a[Qk],delete a[Yk])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function gE(o){return o.tag===5||o.tag===3||o.tag===4}function yE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||gE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Eg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=th));else if(f!==4&&(o=o.child,o!==null))for(Eg(o,a,c),o=o.sibling;o!==null;)Eg(o,a,c),o=o.sibling}function bg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(bg(o,a,c),o=o.sibling;o!==null;)bg(o,a,c),o=o.sibling}var bn=null,Xr=!1;function Ko(o,a,c){for(c=c.child;c!==null;)vE(o,a,c),c=c.sibling}function vE(o,a,c){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Li,c)}catch{}switch(c.tag){case 5:Nn||El(c,a);case 6:var f=bn,y=Xr;bn=null,Ko(o,a,c),bn=f,Xr=y,bn!==null&&(Xr?(o=bn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):bn.removeChild(c.stateNode));break;case 18:bn!==null&&(Xr?(o=bn,c=c.stateNode,o.nodeType===8?Mm(o.parentNode,c):o.nodeType===1&&Mm(o,c),Fo(o)):Mm(bn,c.stateNode));break;case 4:f=bn,y=Xr,bn=c.stateNode.containerInfo,Xr=!0,Ko(o,a,c),bn=f,Xr=y;break;case 0:case 11:case 14:case 15:if(!Nn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var v=y,x=v.destroy;v=v.tag,x!==void 0&&((v&2)!==0||(v&4)!==0)&&_g(c,a,x),y=y.next}while(y!==f)}Ko(o,a,c);break;case 1:if(!Nn&&(El(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(L){$t(c,a,L)}Ko(o,a,c);break;case 21:Ko(o,a,c);break;case 22:c.mode&1?(Nn=(f=Nn)||c.memoizedState!==null,Ko(o,a,c),Nn=f):Ko(o,a,c);break;default:Ko(o,a,c)}}function _E(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new fN),a.forEach(function(f){var y=SN.bind(null,o,f);c.has(f)||(c.add(f),f.then(y,y))})}}function Jr(o,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];try{var v=o,x=a,L=x;e:for(;L!==null;){switch(L.tag){case 5:bn=L.stateNode,Xr=!1;break e;case 3:bn=L.stateNode.containerInfo,Xr=!0;break e;case 4:bn=L.stateNode.containerInfo,Xr=!0;break e}L=L.return}if(bn===null)throw Error(t(160));vE(v,x,y),bn=null,Xr=!1;var q=y.alternate;q!==null&&(q.return=null),y.return=null}catch(ee){$t(y,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)wE(a,o),a=a.sibling}function wE(o,a){var c=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Jr(a,o),Ts(o),f&4){try{au(3,o,o.return),Ih(3,o)}catch(Oe){$t(o,o.return,Oe)}try{au(5,o,o.return)}catch(Oe){$t(o,o.return,Oe)}}break;case 1:Jr(a,o),Ts(o),f&512&&c!==null&&El(c,c.return);break;case 5:if(Jr(a,o),Ts(o),f&512&&c!==null&&El(c,c.return),o.flags&32){var y=o.stateNode;try{Kn(y,"")}catch(Oe){$t(o,o.return,Oe)}}if(f&4&&(y=o.stateNode,y!=null)){var v=o.memoizedProps,x=c!==null?c.memoizedProps:v,L=o.type,q=o.updateQueue;if(o.updateQueue=null,q!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Zs(y,v),Do(L,x);var ee=Do(L,v);for(x=0;x<q.length;x+=2){var le=q[x],ue=q[x+1];le==="style"?ko(y,ue):le==="dangerouslySetInnerHTML"?Ro(y,ue):le==="children"?Kn(y,ue):j(y,le,ue,ee)}switch(L){case"input":ir(y,v);break;case"textarea":qa(y,v);break;case"select":var ae=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!v.multiple;var Te=v.value;Te!=null?ar(y,!!v.multiple,Te,!1):ae!==!!v.multiple&&(v.defaultValue!=null?ar(y,!!v.multiple,v.defaultValue,!0):ar(y,!!v.multiple,v.multiple?[]:"",!1))}y[Qc]=v}catch(Oe){$t(o,o.return,Oe)}}break;case 6:if(Jr(a,o),Ts(o),f&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,v=o.memoizedProps;try{y.nodeValue=v}catch(Oe){$t(o,o.return,Oe)}}break;case 3:if(Jr(a,o),Ts(o),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Fo(a.containerInfo)}catch(Oe){$t(o,o.return,Oe)}break;case 4:Jr(a,o),Ts(o);break;case 13:Jr(a,o),Ts(o),y=o.child,y.flags&8192&&(v=y.memoizedState!==null,y.stateNode.isHidden=v,!v||y.alternate!==null&&y.alternate.memoizedState!==null||(xg=At())),f&4&&_E(o);break;case 22:if(le=c!==null&&c.memoizedState!==null,o.mode&1?(Nn=(ee=Nn)||le,Jr(a,o),Nn=ee):Jr(a,o),Ts(o),f&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!le&&(o.mode&1)!==0)for(Pe=o,le=o.child;le!==null;){for(ue=Pe=le;Pe!==null;){switch(ae=Pe,Te=ae.child,ae.tag){case 0:case 11:case 14:case 15:au(4,ae,ae.return);break;case 1:El(ae,ae.return);var Re=ae.stateNode;if(typeof Re.componentWillUnmount=="function"){f=ae,c=ae.return;try{a=f,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(Oe){$t(f,c,Oe)}}break;case 5:El(ae,ae.return);break;case 22:if(ae.memoizedState!==null){SE(ue);continue}}Te!==null?(Te.return=ae,Pe=Te):SE(ue)}le=le.sibling}e:for(le=null,ue=o;;){if(ue.tag===5){if(le===null){le=ue;try{y=ue.stateNode,ee?(v=y.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=ue.stateNode,q=ue.memoizedProps.style,x=q!=null&&q.hasOwnProperty("display")?q.display:null,L.style.display=us("display",x))}catch(Oe){$t(o,o.return,Oe)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=ee?"":ue.memoizedProps}catch(Oe){$t(o,o.return,Oe)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===o)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===o)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===o)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Jr(a,o),Ts(o),f&4&&_E(o);break;case 21:break;default:Jr(a,o),Ts(o)}}function Ts(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(gE(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(Kn(y,""),f.flags&=-33);var v=yE(o);bg(o,v,y);break;case 3:case 4:var x=f.stateNode.containerInfo,L=yE(o);Eg(o,L,x);break;default:throw Error(t(161))}}catch(q){$t(o,o.return,q)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function mN(o,a,c){Pe=o,EE(o)}function EE(o,a,c){for(var f=(o.mode&1)!==0;Pe!==null;){var y=Pe,v=y.child;if(y.tag===22&&f){var x=y.memoizedState!==null||Sh;if(!x){var L=y.alternate,q=L!==null&&L.memoizedState!==null||Nn;L=Sh;var ee=Nn;if(Sh=x,(Nn=q)&&!ee)for(Pe=y;Pe!==null;)x=Pe,q=x.child,x.tag===22&&x.memoizedState!==null?IE(y):q!==null?(q.return=x,Pe=q):IE(y);for(;v!==null;)Pe=v,EE(v),v=v.sibling;Pe=y,Sh=L,Nn=ee}bE(o)}else(y.subtreeFlags&8772)!==0&&v!==null?(v.return=y,Pe=v):bE(o)}}function bE(o){for(;Pe!==null;){var a=Pe;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Nn||Ih(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Nn)if(c===null)f.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Yr(a.type,c.memoizedProps);f.componentDidUpdate(y,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&S0(a,v,f);break;case 3:var x=a.updateQueue;if(x!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}S0(a,x,c)}break;case 5:var L=a.stateNode;if(c===null&&a.flags&4){c=L;var q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&c.focus();break;case"img":q.src&&(c.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&Fo(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Nn||a.flags&512&&wg(a)}catch(ae){$t(a,a.return,ae)}}if(a===o){Pe=null;break}if(c=a.sibling,c!==null){c.return=a.return,Pe=c;break}Pe=a.return}}function SE(o){for(;Pe!==null;){var a=Pe;if(a===o){Pe=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Pe=c;break}Pe=a.return}}function IE(o){for(;Pe!==null;){var a=Pe;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Ih(4,a)}catch(q){$t(a,c,q)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var y=a.return;try{f.componentDidMount()}catch(q){$t(a,y,q)}}var v=a.return;try{wg(a)}catch(q){$t(a,v,q)}break;case 5:var x=a.return;try{wg(a)}catch(q){$t(a,x,q)}}}catch(q){$t(a,a.return,q)}if(a===o){Pe=null;break}var L=a.sibling;if(L!==null){L.return=a.return,Pe=L;break}Pe=a.return}}var gN=Math.ceil,xh=z.ReactCurrentDispatcher,Sg=z.ReactCurrentOwner,Nr=z.ReactCurrentBatchConfig,ft=0,gn=null,en=null,Sn=0,yr=0,bl=Bo(0),ln=0,lu=null,Ji=0,Th=0,Ig=0,cu=null,Jn=null,xg=0,Sl=1/0,uo=null,Ch=!1,Tg=null,Zo=null,Ph=!1,Qo=null,Ah=0,uu=0,Cg=null,Rh=-1,kh=0;function $n(){return(ft&6)!==0?At():Rh!==-1?Rh:Rh=At()}function Yo(o){return(o.mode&1)===0?1:(ft&2)!==0&&Sn!==0?Sn&-Sn:Jk.transition!==null?(kh===0&&(kh=kc()),kh):(o=lt,o!==0||(o=window.event,o=o===void 0?16:Xa(o.type)),o)}function es(o,a,c,f){if(50<uu)throw uu=0,Cg=null,Error(t(185));zi(o,c,f),((ft&2)===0||o!==gn)&&(o===gn&&((ft&2)===0&&(Th|=c),ln===4&&Xo(o,Sn)),er(o,f),c===1&&ft===0&&(a.mode&1)===0&&(Sl=At()+500,oh&&Ho()))}function er(o,a){var c=o.callbackNode;Ui(o,a);var f=Ys(o,o===gn?Sn:0);if(f===0)c!==null&&Ha(c),o.callbackNode=null,o.callbackPriority=0;else if(a=f&-f,o.callbackPriority!==a){if(c!=null&&Ha(c),a===1)o.tag===0?Xk(TE.bind(null,o)):d0(TE.bind(null,o)),Kk(function(){(ft&6)===0&&Ho()}),c=null;else{switch(fs(f)){case 1:c=Wa;break;case 4:c=Pc;break;case 16:c=Vi;break;case 536870912:c=Ga;break;default:c=Vi}c=OE(c,xE.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function xE(o,a){if(Rh=-1,kh=0,(ft&6)!==0)throw Error(t(327));var c=o.callbackNode;if(Il()&&o.callbackNode!==c)return null;var f=Ys(o,o===gn?Sn:0);if(f===0)return null;if((f&30)!==0||(f&o.expiredLanes)!==0||a)a=Nh(o,f);else{a=f;var y=ft;ft|=2;var v=PE();(gn!==o||Sn!==a)&&(uo=null,Sl=At()+500,ta(o,a));do try{_N();break}catch(L){CE(o,L)}while(!0);Hm(),xh.current=v,ft=y,en!==null?a=0:(gn=null,Sn=0,a=ln)}if(a!==0){if(a===2&&(y=Rc(o),y!==0&&(f=y,a=Pg(o,y))),a===1)throw c=lu,ta(o,0),Xo(o,f),er(o,At()),c;if(a===6)Xo(o,f);else{if(y=o.current.alternate,(f&30)===0&&!yN(y)&&(a=Nh(o,f),a===2&&(v=Rc(o),v!==0&&(f=v,a=Pg(o,v))),a===1))throw c=lu,ta(o,0),Xo(o,f),er(o,At()),c;switch(o.finishedWork=y,o.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:na(o,Jn,uo);break;case 3:if(Xo(o,f),(f&130023424)===f&&(a=xg+500-At(),10<a)){if(Ys(o,0)!==0)break;if(y=o.suspendedLanes,(y&f)!==f){$n(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Om(na.bind(null,o,Jn,uo),a);break}na(o,Jn,uo);break;case 4:if(Xo(o,f),(f&4194240)===f)break;for(a=o.eventTimes,y=-1;0<f;){var x=31-ur(f);v=1<<x,x=a[x],x>y&&(y=x),f&=~v}if(f=y,f=At()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*gN(f/1960))-f,10<f){o.timeoutHandle=Om(na.bind(null,o,Jn,uo),f);break}na(o,Jn,uo);break;case 5:na(o,Jn,uo);break;default:throw Error(t(329))}}}return er(o,At()),o.callbackNode===c?xE.bind(null,o):null}function Pg(o,a){var c=cu;return o.current.memoizedState.isDehydrated&&(ta(o,a).flags|=256),o=Nh(o,a),o!==2&&(a=Jn,Jn=c,a!==null&&Ag(a)),o}function Ag(o){Jn===null?Jn=o:Jn.push.apply(Jn,o)}function yN(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var y=c[f],v=y.getSnapshot;y=y.value;try{if(!Zr(v(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Xo(o,a){for(a&=~Ig,a&=~Th,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-ur(a),f=1<<c;o[c]=-1,a&=~f}}function TE(o){if((ft&6)!==0)throw Error(t(327));Il();var a=Ys(o,0);if((a&1)===0)return er(o,At()),null;var c=Nh(o,a);if(o.tag!==0&&c===2){var f=Rc(o);f!==0&&(a=f,c=Pg(o,f))}if(c===1)throw c=lu,ta(o,0),Xo(o,a),er(o,At()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,na(o,Jn,uo),er(o,At()),null}function Rg(o,a){var c=ft;ft|=1;try{return o(a)}finally{ft=c,ft===0&&(Sl=At()+500,oh&&Ho())}}function ea(o){Qo!==null&&Qo.tag===0&&(ft&6)===0&&Il();var a=ft;ft|=1;var c=Nr.transition,f=lt;try{if(Nr.transition=null,lt=1,o)return o()}finally{lt=f,Nr.transition=c,ft=a,(ft&6)===0&&Ho()}}function kg(){yr=bl.current,kt(bl)}function ta(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,Gk(c)),en!==null)for(c=en.return;c!==null;){var f=c;switch(Um(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&rh();break;case 3:_l(),kt(Qn),kt(An),Jm();break;case 5:Ym(f);break;case 4:_l();break;case 13:kt(Lt);break;case 19:kt(Lt);break;case 10:Wm(f.type._context);break;case 22:case 23:kg()}c=c.return}if(gn=o,en=o=Jo(o.current,null),Sn=yr=a,ln=0,lu=null,Ig=Th=Ji=0,Jn=cu=null,Qi!==null){for(a=0;a<Qi.length;a++)if(c=Qi[a],f=c.interleaved,f!==null){c.interleaved=null;var y=f.next,v=c.pending;if(v!==null){var x=v.next;v.next=y,f.next=x}c.pending=f}Qi=null}return o}function CE(o,a){do{var c=en;try{if(Hm(),mh.current=_h,gh){for(var f=Ft.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}gh=!1}if(Xi=0,mn=an=Ft=null,nu=!1,ru=0,Sg.current=null,c===null||c.return===null){ln=1,lu=a,en=null;break}e:{var v=o,x=c.return,L=c,q=a;if(a=Sn,L.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ee=q,le=L,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var Te=X0(x);if(Te!==null){Te.flags&=-257,J0(Te,x,L,v,a),Te.mode&1&&Y0(v,ee,a),a=Te,q=ee;var Re=a.updateQueue;if(Re===null){var Oe=new Set;Oe.add(q),a.updateQueue=Oe}else Re.add(q);break e}else{if((a&1)===0){Y0(v,ee,a),Ng();break e}q=Error(t(426))}}else if(Nt&&L.mode&1){var Gt=X0(x);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),J0(Gt,x,L,v,a),Bm(wl(q,L));break e}}v=q=wl(q,L),ln!==4&&(ln=2),cu===null?cu=[v]:cu.push(v),v=x;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var Q=Z0(v,q,a);b0(v,Q);break e;case 1:L=q;var H=v.type,J=v.stateNode;if((v.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Zo===null||!Zo.has(J)))){v.flags|=65536,a&=-a,v.lanes|=a;var pe=Q0(v,L,a);b0(v,pe);break e}}v=v.return}while(v!==null)}RE(c)}catch(Me){a=Me,en===c&&c!==null&&(en=c=c.return);continue}break}while(!0)}function PE(){var o=xh.current;return xh.current=_h,o===null?_h:o}function Ng(){(ln===0||ln===3||ln===2)&&(ln=4),gn===null||(Ji&268435455)===0&&(Th&268435455)===0||Xo(gn,Sn)}function Nh(o,a){var c=ft;ft|=2;var f=PE();(gn!==o||Sn!==a)&&(uo=null,ta(o,a));do try{vN();break}catch(y){CE(o,y)}while(!0);if(Hm(),ft=c,xh.current=f,en!==null)throw Error(t(261));return gn=null,Sn=0,ln}function vN(){for(;en!==null;)AE(en)}function _N(){for(;en!==null&&!Mi();)AE(en)}function AE(o){var a=DE(o.alternate,o,yr);o.memoizedProps=o.pendingProps,a===null?RE(o):en=a,Sg.current=null}function RE(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=dN(c,a,yr),c!==null){en=c;return}}else{if(c=hN(c,a),c!==null){c.flags&=32767,en=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{ln=6,en=null;return}}if(a=a.sibling,a!==null){en=a;return}en=a=o}while(a!==null);ln===0&&(ln=5)}function na(o,a,c){var f=lt,y=Nr.transition;try{Nr.transition=null,lt=1,wN(o,a,c,f)}finally{Nr.transition=y,lt=f}return null}function wN(o,a,c,f){do Il();while(Qo!==null);if((ft&6)!==0)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var v=c.lanes|c.childLanes;if(vm(o,v),o===gn&&(en=gn=null,Sn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ph||(Ph=!0,OE(Vi,function(){return Il(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=Nr.transition,Nr.transition=null;var x=lt;lt=1;var L=ft;ft|=4,Sg.current=null,pN(o,c),wE(c,o),Uk(Nm),eo=!!km,Nm=km=null,o.current=c,mN(c),Qs(),ft=L,lt=x,Nr.transition=v}else o.current=c;if(Ph&&(Ph=!1,Qo=o,Ah=y),v=o.pendingLanes,v===0&&(Zo=null),jd(c.stateNode),er(o,At()),a!==null)for(f=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],f(y.value,{componentStack:y.stack,digest:y.digest});if(Ch)throw Ch=!1,o=Tg,Tg=null,o;return(Ah&1)!==0&&o.tag!==0&&Il(),v=o.pendingLanes,(v&1)!==0?o===Cg?uu++:(uu=0,Cg=o):uu=0,Ho(),null}function Il(){if(Qo!==null){var o=fs(Ah),a=Nr.transition,c=lt;try{if(Nr.transition=null,lt=16>o?16:o,Qo===null)var f=!1;else{if(o=Qo,Qo=null,Ah=0,(ft&6)!==0)throw Error(t(331));var y=ft;for(ft|=4,Pe=o.current;Pe!==null;){var v=Pe,x=v.child;if((Pe.flags&16)!==0){var L=v.deletions;if(L!==null){for(var q=0;q<L.length;q++){var ee=L[q];for(Pe=ee;Pe!==null;){var le=Pe;switch(le.tag){case 0:case 11:case 15:au(8,le,v)}var ue=le.child;if(ue!==null)ue.return=le,Pe=ue;else for(;Pe!==null;){le=Pe;var ae=le.sibling,Te=le.return;if(mE(le),le===ee){Pe=null;break}if(ae!==null){ae.return=Te,Pe=ae;break}Pe=Te}}}var Re=v.alternate;if(Re!==null){var Oe=Re.child;if(Oe!==null){Re.child=null;do{var Gt=Oe.sibling;Oe.sibling=null,Oe=Gt}while(Oe!==null)}}Pe=v}}if((v.subtreeFlags&2064)!==0&&x!==null)x.return=v,Pe=x;else e:for(;Pe!==null;){if(v=Pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:au(9,v,v.return)}var Q=v.sibling;if(Q!==null){Q.return=v.return,Pe=Q;break e}Pe=v.return}}var H=o.current;for(Pe=H;Pe!==null;){x=Pe;var J=x.child;if((x.subtreeFlags&2064)!==0&&J!==null)J.return=x,Pe=J;else e:for(x=H;Pe!==null;){if(L=Pe,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Ih(9,L)}}catch(Me){$t(L,L.return,Me)}if(L===x){Pe=null;break e}var pe=L.sibling;if(pe!==null){pe.return=L.return,Pe=pe;break e}Pe=L.return}}if(ft=y,Ho(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Li,o)}catch{}f=!0}return f}finally{lt=c,Nr.transition=a}}return!1}function kE(o,a,c){a=wl(c,a),a=Z0(o,a,1),o=Go(o,a,1),a=$n(),o!==null&&(zi(o,1,a),er(o,a))}function $t(o,a,c){if(o.tag===3)kE(o,o,c);else for(;a!==null;){if(a.tag===3){kE(a,o,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Zo===null||!Zo.has(f))){o=wl(c,o),o=Q0(a,o,1),a=Go(a,o,1),o=$n(),a!==null&&(zi(a,1,o),er(a,o));break}}a=a.return}}function EN(o,a,c){var f=o.pingCache;f!==null&&f.delete(a),a=$n(),o.pingedLanes|=o.suspendedLanes&c,gn===o&&(Sn&c)===c&&(ln===4||ln===3&&(Sn&130023424)===Sn&&500>At()-xg?ta(o,0):Ig|=c),er(o,a)}function NE(o,a){a===0&&((o.mode&1)===0?a=1:(a=Mo,Mo<<=1,(Mo&130023424)===0&&(Mo=4194304)));var c=$n();o=ao(o,a),o!==null&&(zi(o,a,c),er(o,c))}function bN(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),NE(o,c)}function SN(o,a){var c=0;switch(o.tag){case 13:var f=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),NE(o,c)}var DE;DE=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Qn.current)Xn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return Xn=!1,uN(o,a,c);Xn=(o.flags&131072)!==0}else Xn=!1,Nt&&(a.flags&1048576)!==0&&h0(a,ah,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;bh(o,a),o=a.pendingProps;var y=hl(a,An.current);vl(a,c),y=ng(null,a,f,o,y,c);var v=rg();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Yn(f)?(v=!0,sh(a)):v=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Zm(a),y.updater=wh,a.stateNode=y,y._reactInternals=a,cg(a,f,o,c),a=fg(null,a,f,!0,v,c)):(a.tag=0,Nt&&v&&jm(a),zn(null,a,y,c),a=a.child),a;case 16:f=a.elementType;e:{switch(bh(o,a),o=a.pendingProps,y=f._init,f=y(f._payload),a.type=f,y=a.tag=xN(f),o=Yr(f,o),y){case 0:a=hg(null,a,f,o,c);break e;case 1:a=oE(null,a,f,o,c);break e;case 11:a=eE(null,a,f,o,c);break e;case 14:a=tE(null,a,f,Yr(f.type,o),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Yr(f,y),hg(o,a,f,y,c);case 1:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Yr(f,y),oE(o,a,f,y,c);case 3:e:{if(iE(a),o===null)throw Error(t(387));f=a.pendingProps,v=a.memoizedState,y=v.element,E0(o,a),fh(a,f,null,c);var x=a.memoizedState;if(f=x.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){y=wl(Error(t(423)),a),a=aE(o,a,f,c,y);break e}else if(f!==y){y=wl(Error(t(424)),a),a=aE(o,a,f,c,y);break e}else for(gr=$o(a.stateNode.containerInfo.firstChild),mr=a,Nt=!0,Qr=null,c=_0(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ml(),f===y){a=co(o,a,c);break e}zn(o,a,f,c)}a=a.child}return a;case 5:return I0(a),o===null&&$m(a),f=a.type,y=a.pendingProps,v=o!==null?o.memoizedProps:null,x=y.children,Dm(f,y)?x=null:v!==null&&Dm(f,v)&&(a.flags|=32),sE(o,a),zn(o,a,x,c),a.child;case 6:return o===null&&$m(a),null;case 13:return lE(o,a,c);case 4:return Qm(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=gl(a,null,f,c):zn(o,a,f,c),a.child;case 11:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Yr(f,y),eE(o,a,f,y,c);case 7:return zn(o,a,a.pendingProps,c),a.child;case 8:return zn(o,a,a.pendingProps.children,c),a.child;case 12:return zn(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,y=a.pendingProps,v=a.memoizedProps,x=y.value,Tt(uh,f._currentValue),f._currentValue=x,v!==null)if(Zr(v.value,x)){if(v.children===y.children&&!Qn.current){a=co(o,a,c);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var L=v.dependencies;if(L!==null){x=v.child;for(var q=L.firstContext;q!==null;){if(q.context===f){if(v.tag===1){q=lo(-1,c&-c),q.tag=2;var ee=v.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?q.next=q:(q.next=le.next,le.next=q),ee.pending=q}}v.lanes|=c,q=v.alternate,q!==null&&(q.lanes|=c),Gm(v.return,c,a),L.lanes|=c;break}q=q.next}}else if(v.tag===10)x=v.type===a.type?null:v.child;else if(v.tag===18){if(x=v.return,x===null)throw Error(t(341));x.lanes|=c,L=x.alternate,L!==null&&(L.lanes|=c),Gm(x,c,a),x=v.sibling}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===a){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}zn(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,f=a.pendingProps.children,vl(a,c),y=Rr(y),f=f(y),a.flags|=1,zn(o,a,f,c),a.child;case 14:return f=a.type,y=Yr(f,a.pendingProps),y=Yr(f.type,y),tE(o,a,f,y,c);case 15:return nE(o,a,a.type,a.pendingProps,c);case 17:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Yr(f,y),bh(o,a),a.tag=1,Yn(f)?(o=!0,sh(a)):o=!1,vl(a,c),G0(a,f,y),cg(a,f,y,c),fg(null,a,f,!0,o,c);case 19:return uE(o,a,c);case 22:return rE(o,a,c)}throw Error(t(156,a.tag))};function OE(o,a){return Cc(o,a)}function IN(o,a,c,f){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(o,a,c,f){return new IN(o,a,c,f)}function Dg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function xN(o){if(typeof o=="function")return Dg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===Be)return 14}return 2}function Jo(o,a){var c=o.alternate;return c===null?(c=Dr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Dh(o,a,c,f,y,v){var x=2;if(f=o,typeof o=="function")Dg(o)&&(x=1);else if(typeof o=="string")x=5;else e:switch(o){case P:return ra(c.children,y,v,a);case T:x=8,y|=8;break;case D:return o=Dr(12,c,a,y|2),o.elementType=D,o.lanes=v,o;case O:return o=Dr(13,c,a,y),o.elementType=O,o.lanes=v,o;case Ce:return o=Dr(19,c,a,y),o.elementType=Ce,o.lanes=v,o;case Ee:return Oh(c,y,v,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case V:x=10;break e;case F:x=9;break e;case B:x=11;break e;case Be:x=14;break e;case ge:x=16,f=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Dr(x,c,a,y),a.elementType=o,a.type=f,a.lanes=v,a}function ra(o,a,c,f){return o=Dr(7,o,f,a),o.lanes=c,o}function Oh(o,a,c,f){return o=Dr(22,o,f,a),o.elementType=Ee,o.lanes=c,o.stateNode={isHidden:!1},o}function Og(o,a,c){return o=Dr(6,o,null,a),o.lanes=c,o}function Mg(o,a,c){return a=Dr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function TN(o,a,c,f,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nc(0),this.expirationTimes=Nc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Vg(o,a,c,f,y,v,x,L,q){return o=new TN(o,a,c,L,q),a===1?(a=1,v===!0&&(a|=8)):a=0,v=Dr(3,null,null,a),o.current=v,v.stateNode=o,v.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zm(v),o}function CN(o,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:f==null?null:""+f,children:o,containerInfo:a,implementation:c}}function ME(o){if(!o)return qo;o=o._reactInternals;e:{if(Gr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Yn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Yn(c))return c0(o,c,a)}return a}function VE(o,a,c,f,y,v,x,L,q){return o=Vg(c,f,!0,o,y,v,x,L,q),o.context=ME(null),c=o.current,f=$n(),y=Yo(c),v=lo(f,y),v.callback=a??null,Go(c,v,y),o.current.lanes=y,zi(o,y,f),er(o,f),o}function Mh(o,a,c,f){var y=a.current,v=$n(),x=Yo(y);return c=ME(c),a.context===null?a.context=c:a.pendingContext=c,a=lo(v,x),a.payload={element:o},f=f===void 0?null:f,f!==null&&(a.callback=f),o=Go(y,a,x),o!==null&&(es(o,y,x,v),hh(o,y,x)),x}function Vh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function LE(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function Lg(o,a){LE(o,a),(o=o.alternate)&&LE(o,a)}function PN(){return null}var FE=typeof reportError=="function"?reportError:function(o){console.error(o)};function Fg(o){this._internalRoot=o}Lh.prototype.render=Fg.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Mh(o,a,null,null)},Lh.prototype.unmount=Fg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;ea(function(){Mh(null,o,null,null)}),a[ro]=null}};function Lh(o){this._internalRoot=o}Lh.prototype.unstable_scheduleHydration=function(o){if(o){var a=Vc();o={blockedOn:null,target:o,priority:a};for(var c=0;c<dr.length&&a!==0&&a<dr[c].priority;c++);dr.splice(c,0,o),c===0&&Qa(o)}};function jg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Fh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function jE(){}function AN(o,a,c,f,y){if(y){if(typeof f=="function"){var v=f;f=function(){var ee=Vh(x);v.call(ee)}}var x=VE(a,f,o,0,null,!1,!1,"",jE);return o._reactRootContainer=x,o[ro]=x.current,Kc(o.nodeType===8?o.parentNode:o),ea(),x}for(;y=o.lastChild;)o.removeChild(y);if(typeof f=="function"){var L=f;f=function(){var ee=Vh(q);L.call(ee)}}var q=Vg(o,0,!1,null,null,!1,!1,"",jE);return o._reactRootContainer=q,o[ro]=q.current,Kc(o.nodeType===8?o.parentNode:o),ea(function(){Mh(a,q,c,f)}),q}function jh(o,a,c,f,y){var v=c._reactRootContainer;if(v){var x=v;if(typeof y=="function"){var L=y;y=function(){var q=Vh(x);L.call(q)}}Mh(a,x,o,y)}else x=AN(c,a,o,y,f);return Vh(x)}Oc=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=mt(a.pendingLanes);c!==0&&(Dc(a,c|1),er(a,At()),(ft&6)===0&&(Sl=At()+500,Ho()))}break;case 13:ea(function(){var f=ao(o,1);if(f!==null){var y=$n();es(f,o,1,y)}}),Lg(o,1)}},Ka=function(o){if(o.tag===13){var a=ao(o,134217728);if(a!==null){var c=$n();es(a,o,134217728,c)}Lg(o,134217728)}},Mc=function(o){if(o.tag===13){var a=Yo(o),c=ao(o,a);if(c!==null){var f=$n();es(c,o,a,f)}Lg(o,a)}},Vc=function(){return lt},Lc=function(o,a){var c=lt;try{return lt=o,a()}finally{lt=c}},Hr=function(o,a,c){switch(a){case"input":if(ir(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==o&&f.form===o.form){var y=nh(f);if(!y)throw Error(t(90));St(f),ir(f,y)}}}break;case"textarea":qa(o,c);break;case"select":a=c.value,a!=null&&ar(o,!!c.multiple,a,!1)}},Ht=Rg,fn=ea;var RN={usingClientEntryPoint:!1,Events:[Yc,ul,nh,qe,It,Rg]},du={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kN={bundleType:du.bundleType,version:du.version,rendererPackageName:du.rendererPackageName,rendererConfig:du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Fd(o),o===null?null:o.stateNode},findFiberByHostInstance:du.findFiberByHostInstance||PN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{Li=Uh.inject(kN),cr=Uh}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN,tr.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jg(a))throw Error(t(200));return CN(o,a,null,c)},tr.createRoot=function(o,a){if(!jg(o))throw Error(t(299));var c=!1,f="",y=FE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Vg(o,1,!1,null,null,c,!1,f,y),o[ro]=a.current,Kc(o.nodeType===8?o.parentNode:o),new Fg(a)},tr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Fd(a),o=o===null?null:o.stateNode,o},tr.flushSync=function(o){return ea(o)},tr.hydrate=function(o,a,c){if(!Fh(a))throw Error(t(200));return jh(null,o,a,!0,c)},tr.hydrateRoot=function(o,a,c){if(!jg(o))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,y=!1,v="",x=FE;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),a=VE(a,null,o,1,c??null,y,!1,v,x),o[ro]=a.current,Kc(o),f)for(o=0;o<f.length;o++)c=f[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Lh(a)},tr.render=function(o,a,c){if(!Fh(a))throw Error(t(200));return jh(null,o,a,!1,c)},tr.unmountComponentAtNode=function(o){if(!Fh(o))throw Error(t(40));return o._reactRootContainer?(ea(function(){jh(null,null,o,!1,function(){o._reactRootContainer=null,o[ro]=null})}),!0):!1},tr.unstable_batchedUpdates=Rg,tr.unstable_renderSubtreeIntoContainer=function(o,a,c,f){if(!Fh(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return jh(o,a,c,!1,f)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var GE;function hx(){if(GE)return $g.exports;GE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$g.exports=jN(),$g.exports}var KE;function UN(){if(KE)return zh;KE=1;var n=hx();return zh.createRoot=n.createRoot,zh.hydrateRoot=n.hydrateRoot,zh}var zN=UN();const $N="modulepreload",BN=function(n){return"/"+n},ZE={},jr=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=l(t.map(p=>{if(p=BN(p),p in ZE)return;ZE[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":$N,g||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),g)return new Promise((I,A)=>{w.addEventListener("load",I),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};var b=Pv();const ce=dx(b),fx=DN({__proto__:null,default:ce},[b]);function QE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function vp(...n){return e=>{let t=!1;const r=n.map(s=>{const i=QE(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():QE(n[s],null)}}}}function Et(...n){return b.useCallback(vp(...n),n)}function Zl(n){const e=qN(n),t=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),h=u.find(WN);if(h){const p=h.props.children,g=u.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return E.jsx(e,{...l,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return E.jsx(e,{...l,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var _p=Zl("Slot");function qN(n){const e=b.forwardRef((t,r)=>{const{children:s,...i}=t;if(b.isValidElement(s)){const l=KN(s),u=GN(i,s.props);return s.type!==b.Fragment&&(u.ref=r?vp(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var px=Symbol("radix.slottable");function HN(n){const e=({children:t})=>E.jsx(E.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=px,e}function WN(n){return b.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===px}function GN(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...u)=>{const h=i(...u);return s(...u),h}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function KN(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function mx(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=mx(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function gx(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=mx(n))&&(r&&(r+=" "),r+=e);return r}const YE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,XE=gx,wp=(n,e)=>t=>{var r;if(e?.variants==null)return XE(n,t?.class,t?.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(p=>{const g=t?.[p],m=i?.[p];if(g===null)return null;const w=YE(g)||YE(m);return s[p][w]}),u=t&&Object.entries(t).reduce((p,g)=>{let[m,w]=g;return w===void 0||(p[m]=w),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:m,className:w,...I}=g;return Object.entries(I).every(A=>{let[C,R]=A;return Array.isArray(R)?R.includes({...i,...u}[C]):{...i,...u}[C]===R})?[...p,m,w]:p},[]);return XE(n,l,h,t?.class,t?.className)};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),JE=n=>{const e=QN(n);return e.charAt(0).toUpperCase()+e.slice(1)},yx=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...u},h)=>b.createElement("svg",{ref:h,...YN,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:yx("lucide",s),...u},[...l.map(([p,g])=>b.createElement(p,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(n,e)=>{const t=b.forwardRef(({className:r,...s},i)=>b.createElement(XN,{ref:i,iconNode:e,className:yx(`lucide-${ZN(JE(n))}`,`lucide-${n}`,r),...s}));return t.displayName=JE(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],e2=rt("bell",JN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vx=rt("check",t2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],r2=rt("chevron-down",n2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],o2=rt("chevron-right",s2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],a2=rt("chevron-up",i2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c2=rt("circle-help",l2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],d2=rt("circle",u2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Av=rt("clipboard-list",h2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],p2=rt("clock",f2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],g2=rt("command",m2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],v2=rt("eye-off",y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w2=rt("eye",_2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],b2=rt("factory",E2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],I2=rt("landmark",S2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],T2=rt("layout-dashboard",x2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kf=rt("loader-circle",C2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],eb=rt("lock",P2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],R2=rt("log-out",A2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],N2=rt("mail",k2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],O2=rt("moon",D2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ep=rt("package",M2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],L2=rt("panel-left-close",V2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],j2=rt("panel-left",F2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],z2=rt("receipt",U2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],B2=rt("refresh-cw",$2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],H2=rt("search-x",q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Nf=rt("search",W2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K2=rt("settings",G2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Q2=rt("shield",Z2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Rv=rt("shopping-cart",Y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],J2=rt("sun",X2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tD=rt("triangle-alert",eD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],kv=rt("truck",nD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],sD=rt("user-check",rD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cy=rt("user",oD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],_x=rt("users",iD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],lD=rt("wallet",aD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],uD=rt("warehouse",cD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nv=rt("x",dD),Hg=768;function hD(){const[n,e]=b.useState(void 0);return b.useEffect(()=>{const t=window.matchMedia(`(max-width: ${Hg-1}px)`),r=()=>{e(window.innerWidth<Hg)};return t.addEventListener("change",r),e(window.innerWidth<Hg),()=>t.removeEventListener("change",r)},[]),!!n}const Dv="-",fD=n=>{const e=mD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(Dv);return u[0]===""&&u.length!==1&&u.shift(),wx(u,e)||pD(l)},getConflictingClassGroupIds:(l,u)=>{const h=t[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},wx=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?wx(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(Dv);return e.validators.find(({validator:l})=>l(i))?.classGroupId},tb=/^\[(.+)\]$/,pD=n=>{if(tb.test(n)){const e=tb.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},mD=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)Py(t[s],r,s,e);return r},Py=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:nb(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(gD(s)){Py(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,l])=>{Py(l,nb(e,i),t,r)})})},nb=(n,e)=>{let t=n;return e.split(Dv).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},gD=n=>n.isThemeGetter,yD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,l)=>{t.set(i,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let l=t.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){t.has(i)?t.set(i,l):s(i,l)}}},Ay="!",Ry=":",vD=Ry.length,_D=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const i=[];let l=0,u=0,h=0,p;for(let A=0;A<s.length;A++){let C=s[A];if(l===0&&u===0){if(C===Ry){i.push(s.slice(h,A)),h=A+vD;continue}if(C==="/"){p=A;continue}}C==="["?l++:C==="]"?l--:C==="("?u++:C===")"&&u--}const g=i.length===0?s:s.substring(h),m=wD(g),w=m!==g,I=p&&p>h?p-h:void 0;return{modifiers:i,hasImportantModifier:w,baseClassName:m,maybePostfixModifierPosition:I}};if(e){const s=e+Ry,i=r;r=l=>l.startsWith(s)?i(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=i=>t({className:i,parseClassName:s})}return r},wD=n=>n.endsWith(Ay)?n.substring(0,n.length-1):n.startsWith(Ay)?n.substring(1):n,ED=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...i.sort(),l),i=[]):i.push(l)}),s.push(...i.sort()),s}},bD=n=>({cache:yD(n.cacheSize),parseClassName:_D(n),sortModifiers:ED(n),...fD(n)}),SD=/\s+/,ID=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,l=[],u=n.trim().split(SD);let h="";for(let p=u.length-1;p>=0;p-=1){const g=u[p],{isExternal:m,modifiers:w,hasImportantModifier:I,baseClassName:A,maybePostfixModifierPosition:C}=t(g);if(m){h=g+(h.length>0?" "+h:h);continue}let R=!!C,N=r(R?A.substring(0,C):A);if(!N){if(!R){h=g+(h.length>0?" "+h:h);continue}if(N=r(A),!N){h=g+(h.length>0?" "+h:h);continue}R=!1}const M=i(w).join(":"),j=I?M+Ay:M,z=j+N;if(l.includes(z))continue;l.push(z);const $=s(N,R);for(let K=0;K<$.length;++K){const P=$[K];l.push(j+P)}h=g+(h.length>0?" "+h:h)}return h};function xD(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Ex(e))&&(r&&(r+=" "),r+=t);return r}const Ex=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Ex(n[r]))&&(t&&(t+=" "),t+=e);return t};function TD(n,...e){let t,r,s,i=l;function l(h){const p=e.reduce((g,m)=>m(g),n());return t=bD(p),r=t.cache.get,s=t.cache.set,i=u,u(h)}function u(h){const p=r(h);if(p)return p;const g=ID(h,t);return s(h,g),g}return function(){return i(xD.apply(null,arguments))}}const cn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},bx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Sx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,CD=/^\d+\/\d+$/,PD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,kD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ND=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xl=n=>CD.test(n),Je=n=>!!n&&!Number.isNaN(Number(n)),ti=n=>!!n&&Number.isInteger(Number(n)),Wg=n=>n.endsWith("%")&&Je(n.slice(0,-1)),ho=n=>PD.test(n),DD=()=>!0,OD=n=>AD.test(n)&&!RD.test(n),Ix=()=>!1,MD=n=>kD.test(n),VD=n=>ND.test(n),LD=n=>!ke(n)&&!Ne(n),FD=n=>pc(n,Cx,Ix),ke=n=>bx.test(n),sa=n=>pc(n,Px,OD),Gg=n=>pc(n,BD,Je),rb=n=>pc(n,xx,Ix),jD=n=>pc(n,Tx,VD),$h=n=>pc(n,Ax,MD),Ne=n=>Sx.test(n),fu=n=>mc(n,Px),UD=n=>mc(n,qD),sb=n=>mc(n,xx),zD=n=>mc(n,Cx),$D=n=>mc(n,Tx),Bh=n=>mc(n,Ax,!0),pc=(n,e,t)=>{const r=bx.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},mc=(n,e,t=!1)=>{const r=Sx.exec(n);return r?r[1]?e(r[1]):t:!1},xx=n=>n==="position"||n==="percentage",Tx=n=>n==="image"||n==="url",Cx=n=>n==="length"||n==="size"||n==="bg-size",Px=n=>n==="length",BD=n=>n==="number",qD=n=>n==="family-name",Ax=n=>n==="shadow",HD=()=>{const n=cn("color"),e=cn("font"),t=cn("text"),r=cn("font-weight"),s=cn("tracking"),i=cn("leading"),l=cn("breakpoint"),u=cn("container"),h=cn("spacing"),p=cn("radius"),g=cn("shadow"),m=cn("inset-shadow"),w=cn("text-shadow"),I=cn("drop-shadow"),A=cn("blur"),C=cn("perspective"),R=cn("aspect"),N=cn("ease"),M=cn("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...z(),Ne,ke],K=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],T=()=>[Ne,ke,h],D=()=>[xl,"full","auto",...T()],V=()=>[ti,"none","subgrid",Ne,ke],F=()=>["auto",{span:["full",ti,Ne,ke]},ti,Ne,ke],B=()=>[ti,"auto",Ne,ke],O=()=>["auto","min","max","fr",Ne,ke],Ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Be=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...T()],Ee=()=>[xl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],W=()=>[n,Ne,ke],ne=()=>[...z(),sb,rb,{position:[Ne,ke]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",zD,FD,{size:[Ne,ke]}],G=()=>[Wg,fu,sa],oe=()=>["","none","full",p,Ne,ke],ie=()=>["",Je,fu,sa],he=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Je,Wg,sb,rb],Ie=()=>["","none",A,Ne,ke],Ge=()=>["none",Je,Ne,ke],Qe=()=>["none",Je,Ne,ke],me=()=>[Je,Ne,ke],St=()=>[xl,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ho],breakpoint:[ho],color:[DD],container:[ho],"drop-shadow":[ho],ease:["in","out","in-out"],font:[LD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ho],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ho],shadow:[ho],spacing:["px",Je],text:[ho],"text-shadow":[ho],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xl,ke,Ne,R]}],container:["container"],columns:[{columns:[Je,ke,Ne,u]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[ti,"auto",Ne,ke]}],basis:[{basis:[xl,"full","auto",u,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,xl,"auto","initial","none",ke]}],grow:[{grow:["",Je,Ne,ke]}],shrink:[{shrink:["",Je,Ne,ke]}],order:[{order:[ti,"first","last","none",Ne,ke]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...Ce(),"normal"]}],"justify-items":[{"justify-items":[...Be(),"normal"]}],"justify-self":[{"justify-self":["auto",...Be()]}],"align-content":[{content:["normal",...Ce()]}],"align-items":[{items:[...Be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Be(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ce()}],"place-items":[{"place-items":[...Be(),"baseline"]}],"place-self":[{"place-self":["auto",...Be()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ee()}],w:[{w:[u,"screen",...Ee()]}],"min-w":[{"min-w":[u,"screen","none",...Ee()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Ee()]}],h:[{h:["screen","lh",...Ee()]}],"min-h":[{"min-h":["screen","lh","none",...Ee()]}],"max-h":[{"max-h":["screen","lh",...Ee()]}],"font-size":[{text:["base",t,fu,sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,Gg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wg,ke]}],"font-family":[{font:[UD,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,ke]}],"line-clamp":[{"line-clamp":[Je,"none",Ne,Gg]}],leading:[{leading:[i,...T()]}],"list-image":[{"list-image":["none",Ne,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Ne,sa]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Je,"auto",Ne,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ti,Ne,ke],radial:["",Ne,ke],conic:[ti,Ne,ke]},$D,jD]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Ne,ke]}],"outline-w":[{outline:["",Je,fu,sa]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",g,Bh,$h]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",m,Bh,$h]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Je,sa]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",w,Bh,$h]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Je,Ne,ke]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Ne,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,ke]}],filter:[{filter:["","none",Ne,ke]}],blur:[{blur:Ie()}],brightness:[{brightness:[Je,Ne,ke]}],contrast:[{contrast:[Je,Ne,ke]}],"drop-shadow":[{"drop-shadow":["","none",I,Bh,$h]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Je,Ne,ke]}],"hue-rotate":[{"hue-rotate":[Je,Ne,ke]}],invert:[{invert:["",Je,Ne,ke]}],saturate:[{saturate:[Je,Ne,ke]}],sepia:[{sepia:["",Je,Ne,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,ke]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Ne,ke]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Ne,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Ne,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Ne,ke]}],"backdrop-invert":[{"backdrop-invert":["",Je,Ne,ke]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Ne,ke]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Ne,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Ne,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Ne,ke]}],ease:[{ease:["linear","initial",N,Ne,ke]}],delay:[{delay:[Je,Ne,ke]}],animate:[{animate:["none",M,Ne,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ne,ke]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[Ne,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:St()}],"translate-x":[{"translate-x":St()}],"translate-y":[{"translate-y":St()}],"translate-z":[{"translate-z":St()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,ke]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Je,fu,sa,Gg]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},WD=TD(HD);function $e(...n){return WD(gx(n))}const GD=wp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Uu({className:n,variant:e,size:t,asChild:r=!1,...s}){const i=r?_p:"button";return E.jsx(i,{"data-slot":"button",className:$e(GD({variant:e,size:t,className:n})),...s})}function Su({className:n,type:e,...t}){return E.jsx("input",{type:e,"data-slot":"input",className:$e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Ov=hx();const Rx=dx(Ov);var KD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=KD.reduce((n,e)=>{const t=Zl(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(h,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function kx(n,e){n&&Ov.flushSync(()=>n.dispatchEvent(e))}var ZD="Separator",ob="horizontal",QD=["horizontal","vertical"],Nx=b.forwardRef((n,e)=>{const{decorative:t,orientation:r=ob,...s}=n,i=YD(r)?r:ob,u=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return E.jsx(ht.div,{"data-orientation":i,...u,...s,ref:e})});Nx.displayName=ZD;function YD(n){return QD.includes(n)}var XD=Nx;function JD({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return E.jsx(XD,{"data-slot":"separator-root",decorative:t,orientation:e,className:$e("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function Le(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function eO(n,e){const t=b.createContext(e),r=i=>{const{children:l,...u}=i,h=b.useMemo(()=>u,Object.values(u));return E.jsx(t.Provider,{value:h,children:l})};r.displayName=n+"Provider";function s(i){const l=b.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function Hs(n,e=[]){let t=[];function r(i,l){const u=b.createContext(l),h=t.length;t=[...t,l];const p=m=>{const{scope:w,children:I,...A}=m,C=w?.[n]?.[h]||u,R=b.useMemo(()=>A,Object.values(A));return E.jsx(C.Provider,{value:R,children:I})};p.displayName=i+"Provider";function g(m,w){const I=w?.[n]?.[h]||u,A=b.useContext(I);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[p,g]}const s=()=>{const i=t.map(l=>b.createContext(l));return function(u){const h=u?.[n]||i;return b.useMemo(()=>({[`__scope${n}`]:{...u,[n]:h}}),[u,h])}};return s.scopeName=n,[r,tO(s,...e)]}function tO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const m=h(i)[`__scope${p}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var yo=globalThis?.document?b.useLayoutEffect:()=>{},nO=fx[" useId ".trim().toString()]||(()=>{}),rO=0;function pa(n){const[e,t]=b.useState(nO());return yo(()=>{t(r=>r??String(rO++))},[n]),e?`radix-${e}`:""}var sO=fx[" useInsertionEffect ".trim().toString()]||yo;function gc({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,l]=oO({defaultProp:e,onChange:t}),u=n!==void 0,h=u?n:s;{const g=b.useRef(n!==void 0);b.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const p=b.useCallback(g=>{if(u){const m=iO(g)?g(n):g;m!==n&&l.current?.(m)}else i(g)},[u,n,i,l]);return[h,p]}function oO({defaultProp:n,onChange:e}){const[t,r]=b.useState(n),s=b.useRef(t),i=b.useRef(e);return sO(()=>{i.current=e},[e]),b.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,r,i]}function iO(n){return typeof n=="function"}function Mn(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}function aO(n,e=globalThis?.document){const t=Mn(n);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var lO="DismissableLayer",ky="dismissableLayer.update",cO="dismissableLayer.pointerDownOutside",uO="dismissableLayer.focusOutside",ib,Dx=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bp=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...h}=n,p=b.useContext(Dx),[g,m]=b.useState(null),w=g?.ownerDocument??globalThis?.document,[,I]=b.useState({}),A=Et(e,P=>m(P)),C=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=C.indexOf(R),M=g?C.indexOf(g):-1,j=p.layersWithOutsidePointerEventsDisabled.size>0,z=M>=N,$=fO(P=>{const T=P.target,D=[...p.branches].some(V=>V.contains(T));!z||D||(s?.(P),l?.(P),P.defaultPrevented||u?.())},w),K=pO(P=>{const T=P.target;[...p.branches].some(V=>V.contains(T))||(i?.(P),l?.(P),P.defaultPrevented||u?.())},w);return aO(P=>{M===p.layers.size-1&&(r?.(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},w),b.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(ib=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),ab(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=ib)}},[g,w,t,p]),b.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),ab())},[g,p]),b.useEffect(()=>{const P=()=>I({});return document.addEventListener(ky,P),()=>document.removeEventListener(ky,P)},[]),E.jsx(ht.div,{...h,ref:A,style:{pointerEvents:j?z?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,K.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,K.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,$.onPointerDownCapture)})});bp.displayName=lO;var dO="DismissableLayerBranch",hO=b.forwardRef((n,e)=>{const t=b.useContext(Dx),r=b.useRef(null),s=Et(e,r);return b.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),E.jsx(ht.div,{...n,ref:s})});hO.displayName=dO;function fO(n,e=globalThis?.document){const t=Mn(n),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let h=function(){Ox(cO,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function pO(n,e=globalThis?.document){const t=Mn(n),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&Ox(uO,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ab(){const n=new CustomEvent(ky);document.dispatchEvent(n)}function Ox(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?kx(s,i):s.dispatchEvent(i)}var Kg="focusScope.autoFocusOnMount",Zg="focusScope.autoFocusOnUnmount",lb={bubbles:!1,cancelable:!0},mO="FocusScope",Mv=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=n,[u,h]=b.useState(null),p=Mn(s),g=Mn(i),m=b.useRef(null),w=Et(e,C=>h(C)),I=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let C=function(j){if(I.paused||!u)return;const z=j.target;u.contains(z)?m.current=z:ai(m.current,{select:!0})},R=function(j){if(I.paused||!u)return;const z=j.relatedTarget;z!==null&&(u.contains(z)||ai(m.current,{select:!0}))},N=function(j){if(document.activeElement===document.body)for(const $ of j)$.removedNodes.length>0&&ai(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",R);const M=new MutationObserver(N);return u&&M.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",R),M.disconnect()}}},[r,u,I.paused]),b.useEffect(()=>{if(u){ub.add(I);const C=document.activeElement;if(!u.contains(C)){const N=new CustomEvent(Kg,lb);u.addEventListener(Kg,p),u.dispatchEvent(N),N.defaultPrevented||(gO(EO(Mx(u)),{select:!0}),document.activeElement===C&&ai(u))}return()=>{u.removeEventListener(Kg,p),setTimeout(()=>{const N=new CustomEvent(Zg,lb);u.addEventListener(Zg,g),u.dispatchEvent(N),N.defaultPrevented||ai(C??document.body,{select:!0}),u.removeEventListener(Zg,g),ub.remove(I)},0)}}},[u,p,g,I]);const A=b.useCallback(C=>{if(!t&&!r||I.paused)return;const R=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,N=document.activeElement;if(R&&N){const M=C.currentTarget,[j,z]=yO(M);j&&z?!C.shiftKey&&N===z?(C.preventDefault(),t&&ai(j,{select:!0})):C.shiftKey&&N===j&&(C.preventDefault(),t&&ai(z,{select:!0})):N===M&&C.preventDefault()}},[t,r,I.paused]);return E.jsx(ht.div,{tabIndex:-1,...l,ref:w,onKeyDown:A})});Mv.displayName=mO;function gO(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ai(r,{select:e}),document.activeElement!==t)return}function yO(n){const e=Mx(n),t=cb(e,n),r=cb(e.reverse(),n);return[t,r]}function Mx(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function cb(n,e){for(const t of n)if(!vO(t,{upTo:e}))return t}function vO(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function _O(n){return n instanceof HTMLInputElement&&"select"in n}function ai(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&_O(n)&&e&&n.select()}}var ub=wO();function wO(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=db(n,e),n.unshift(e)},remove(e){n=db(n,e),n[0]?.resume()}}}function db(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function EO(n){return n.filter(e=>e.tagName!=="A")}var bO="Portal",Sp=b.forwardRef((n,e)=>{const{container:t,...r}=n,[s,i]=b.useState(!1);yo(()=>i(!0),[]);const l=t||s&&globalThis?.document?.body;return l?Rx.createPortal(E.jsx(ht.div,{...r,ref:e}),l):null});Sp.displayName=bO;function SO(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Wn=n=>{const{present:e,children:t}=n,r=IO(e),s=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),i=Et(r.ref,xO(s));return typeof t=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};Wn.displayName="Presence";function IO(n){const[e,t]=b.useState(),r=b.useRef(null),s=b.useRef(n),i=b.useRef("none"),l=n?"mounted":"unmounted",[u,h]=SO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=qh(r.current);i.current=u==="mounted"?p:"none"},[u]),yo(()=>{const p=r.current,g=s.current;if(g!==n){const w=i.current,I=qh(p);n?h("MOUNT"):I==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&w!==I?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),yo(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,m=I=>{const C=qh(r.current).includes(CSS.escape(I.animationName));if(I.target===e&&C&&(h("ANIMATION_END"),!s.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},w=I=>{I.target===e&&(i.current=qh(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function qh(n){return n?.animationName||"none"}function xO(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Qg=0;function Vx(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??hb()),document.body.insertAdjacentElement("beforeend",n[1]??hb()),Qg++,()=>{Qg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qg--}},[])}function hb(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Rs=function(){return Rs=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rs.apply(this,arguments)};function Lx(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function TO(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var hf="right-scroll-bar-position",ff="width-before-scroll-bar",CO="with-scroll-bars-hidden",PO="--removed-body-scroll-bar-size";function Yg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function AO(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var RO=typeof window<"u"?b.useLayoutEffect:b.useEffect,fb=new WeakMap;function kO(n,e){var t=AO(null,function(r){return n.forEach(function(s){return Yg(s,r)})});return RO(function(){var r=fb.get(t);if(r){var s=new Set(r),i=new Set(n),l=t.current;s.forEach(function(u){i.has(u)||Yg(u,null)}),i.forEach(function(u){s.has(u)||Yg(u,l)})}fb.set(t,n)},[n]),t}function NO(n){return n}function DO(n,e){e===void 0&&(e=NO);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var l=e(i,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(r=!0;t.length;){var l=t;t=[],l.forEach(i)}t={push:function(u){return i(u)},filter:function(){return t}}},assignMedium:function(i){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(i),l=t}var h=function(){var g=l;l=[],g.forEach(i)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),t}}}};return s}function OO(n){n===void 0&&(n={});var e=DO(null);return e.options=Rs({async:!0,ssr:!1},n),e}var Fx=function(n){var e=n.sideCar,t=Lx(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Rs({},t))};Fx.isSideCarExport=!0;function MO(n,e){return n.useMedium(e),Fx}var jx=OO(),Xg=function(){},Ip=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:Xg,onWheelCapture:Xg,onTouchMoveCapture:Xg}),s=r[0],i=r[1],l=n.forwardProps,u=n.children,h=n.className,p=n.removeScrollBar,g=n.enabled,m=n.shards,w=n.sideCar,I=n.noRelative,A=n.noIsolation,C=n.inert,R=n.allowPinchZoom,N=n.as,M=N===void 0?"div":N,j=n.gapMode,z=Lx(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=w,K=kO([t,e]),P=Rs(Rs({},z),s);return b.createElement(b.Fragment,null,g&&b.createElement($,{sideCar:jx,removeScrollBar:p,shards:m,noRelative:I,noIsolation:A,inert:C,setCallbacks:i,allowPinchZoom:!!R,lockRef:t,gapMode:j}),l?b.cloneElement(b.Children.only(u),Rs(Rs({},P),{ref:K})):b.createElement(M,Rs({},P,{className:h,ref:K}),u))});Ip.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ip.classNames={fullWidth:ff,zeroRight:hf};var VO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LO(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=VO();return e&&n.setAttribute("nonce",e),n}function FO(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function jO(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var UO=function(){var n=0,e=null;return{add:function(t){n==0&&(e=LO())&&(FO(e,t),jO(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zO=function(){var n=UO();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Ux=function(){var n=zO(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},$O={left:0,top:0,right:0,gap:0},Jg=function(n){return parseInt(n||"",10)||0},BO=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[Jg(t),Jg(r),Jg(s)]},qO=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return $O;var e=BO(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},HO=Ux(),$l="data-scroll-locked",WO=function(n,e,t,r){var s=n.left,i=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(CO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat($l,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hf,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ff,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ff," .").concat(ff,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($l,`] {
    `).concat(PO,": ").concat(u,`px;
  }
`)},pb=function(){var n=parseInt(document.body.getAttribute($l)||"0",10);return isFinite(n)?n:0},GO=function(){b.useEffect(function(){return document.body.setAttribute($l,(pb()+1).toString()),function(){var n=pb()-1;n<=0?document.body.removeAttribute($l):document.body.setAttribute($l,n.toString())}},[])},KO=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;GO();var i=b.useMemo(function(){return qO(s)},[s]);return b.createElement(HO,{styles:WO(i,!e,s,t?"":"!important")})},Ny=!1;if(typeof window<"u")try{var Hh=Object.defineProperty({},"passive",{get:function(){return Ny=!0,!0}});window.addEventListener("test",Hh,Hh),window.removeEventListener("test",Hh,Hh)}catch{Ny=!1}var Tl=Ny?{passive:!1}:!1,ZO=function(n){return n.tagName==="TEXTAREA"},zx=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!ZO(n)&&t[e]==="visible")},QO=function(n){return zx(n,"overflowY")},YO=function(n){return zx(n,"overflowX")},mb=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=$x(n,r);if(s){var i=Bx(n,r),l=i[1],u=i[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},XO=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},JO=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},$x=function(n,e){return n==="v"?QO(e):YO(e)},Bx=function(n,e){return n==="v"?XO(e):JO(e)},eM=function(n,e){return n==="h"&&e==="rtl"?-1:1},tM=function(n,e,t,r,s){var i=eM(n,window.getComputedStyle(e).direction),l=i*r,u=t.target,h=e.contains(u),p=!1,g=l>0,m=0,w=0;do{if(!u)break;var I=Bx(n,u),A=I[0],C=I[1],R=I[2],N=C-R-i*A;(A||N)&&$x(n,u)&&(m+=N,w+=A);var M=u.parentNode;u=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(g&&Math.abs(m)<1||!g&&Math.abs(w)<1)&&(p=!0),p},Wh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},gb=function(n){return[n.deltaX,n.deltaY]},yb=function(n){return n&&"current"in n?n.current:n},nM=function(n,e){return n[0]===e[0]&&n[1]===e[1]},rM=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},sM=0,Cl=[];function oM(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),s=b.useState(sM++)[0],i=b.useState(Ux)[0],l=b.useRef(n);b.useEffect(function(){l.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var C=TO([n.lockRef.current],(n.shards||[]).map(yb),!0).filter(Boolean);return C.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var u=b.useCallback(function(C,R){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var N=Wh(C),M=t.current,j="deltaX"in C?C.deltaX:M[0]-N[0],z="deltaY"in C?C.deltaY:M[1]-N[1],$,K=C.target,P=Math.abs(j)>Math.abs(z)?"h":"v";if("touches"in C&&P==="h"&&K.type==="range")return!1;var T=mb(P,K);if(!T)return!0;if(T?$=P:($=P==="v"?"h":"v",T=mb(P,K)),!T)return!1;if(!r.current&&"changedTouches"in C&&(j||z)&&(r.current=$),!$)return!0;var D=r.current||$;return tM(D,R,C,D==="h"?j:z)},[]),h=b.useCallback(function(C){var R=C;if(!(!Cl.length||Cl[Cl.length-1]!==i)){var N="deltaY"in R?gb(R):Wh(R),M=e.current.filter(function($){return $.name===R.type&&($.target===R.target||R.target===$.shadowParent)&&nM($.delta,N)})[0];if(M&&M.should){R.cancelable&&R.preventDefault();return}if(!M){var j=(l.current.shards||[]).map(yb).filter(Boolean).filter(function($){return $.contains(R.target)}),z=j.length>0?u(R,j[0]):!l.current.noIsolation;z&&R.cancelable&&R.preventDefault()}}},[]),p=b.useCallback(function(C,R,N,M){var j={name:C,delta:R,target:N,should:M,shadowParent:iM(N)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(z){return z!==j})},1)},[]),g=b.useCallback(function(C){t.current=Wh(C),r.current=void 0},[]),m=b.useCallback(function(C){p(C.type,gb(C),C.target,u(C,n.lockRef.current))},[]),w=b.useCallback(function(C){p(C.type,Wh(C),C.target,u(C,n.lockRef.current))},[]);b.useEffect(function(){return Cl.push(i),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Tl),document.addEventListener("touchmove",h,Tl),document.addEventListener("touchstart",g,Tl),function(){Cl=Cl.filter(function(C){return C!==i}),document.removeEventListener("wheel",h,Tl),document.removeEventListener("touchmove",h,Tl),document.removeEventListener("touchstart",g,Tl)}},[]);var I=n.removeScrollBar,A=n.inert;return b.createElement(b.Fragment,null,A?b.createElement(i,{styles:rM(s)}):null,I?b.createElement(KO,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function iM(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const aM=MO(jx,oM);var Vv=b.forwardRef(function(n,e){return b.createElement(Ip,Rs({},n,{ref:e,sideCar:aM}))});Vv.classNames=Ip.classNames;var lM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Pl=new WeakMap,Gh=new WeakMap,Kh={},ey=0,qx=function(n){return n&&(n.host||qx(n.parentNode))},cM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=qx(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},uM=function(n,e,t,r){var s=cM(e,Array.isArray(n)?n:[n]);Kh[t]||(Kh[t]=new WeakMap);var i=Kh[t],l=[],u=new Set,h=new Set(s),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};s.forEach(p);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(w){if(u.has(w))g(w);else try{var I=w.getAttribute(r),A=I!==null&&I!=="false",C=(Pl.get(w)||0)+1,R=(i.get(w)||0)+1;Pl.set(w,C),i.set(w,R),l.push(w),C===1&&A&&Gh.set(w,!0),R===1&&w.setAttribute(t,"true"),A||w.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",w,N)}})};return g(e),u.clear(),ey++,function(){l.forEach(function(m){var w=Pl.get(m)-1,I=i.get(m)-1;Pl.set(m,w),i.set(m,I),w||(Gh.has(m)||m.removeAttribute(r),Gh.delete(m)),I||m.removeAttribute(t)}),ey--,ey||(Pl=new WeakMap,Pl=new WeakMap,Gh=new WeakMap,Kh={})}},Hx=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=lM(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),uM(r,s,t,"aria-hidden")):function(){return null}},xp="Dialog",[Wx]=Hs(xp),[dM,is]=Wx(xp),Gx=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=n,u=b.useRef(null),h=b.useRef(null),[p,g]=gc({prop:r,defaultProp:s??!1,onChange:i,caller:xp});return E.jsx(dM,{scope:e,triggerRef:u,contentRef:h,contentId:pa(),titleId:pa(),descriptionId:pa(),open:p,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(m=>!m),[g]),modal:l,children:t})};Gx.displayName=xp;var Kx="DialogTrigger",Zx=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=is(Kx,t),i=Et(e,s.triggerRef);return E.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jv(s.open),...r,ref:i,onClick:Le(n.onClick,s.onOpenToggle)})});Zx.displayName=Kx;var Lv="DialogPortal",[hM,Qx]=Wx(Lv,{forceMount:void 0}),Yx=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=is(Lv,e);return E.jsx(hM,{scope:e,forceMount:t,children:b.Children.map(r,l=>E.jsx(Wn,{present:t||i.open,children:E.jsx(Sp,{asChild:!0,container:s,children:l})}))})};Yx.displayName=Lv;var Df="DialogOverlay",Xx=b.forwardRef((n,e)=>{const t=Qx(Df,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=is(Df,n.__scopeDialog);return i.modal?E.jsx(Wn,{present:r||i.open,children:E.jsx(pM,{...s,ref:e})}):null});Xx.displayName=Df;var fM=Zl("DialogOverlay.RemoveScroll"),pM=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=is(Df,t);return E.jsx(Vv,{as:fM,allowPinchZoom:!0,shards:[s.contentRef],children:E.jsx(ht.div,{"data-state":jv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ea="DialogContent",Jx=b.forwardRef((n,e)=>{const t=Qx(Ea,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=is(Ea,n.__scopeDialog);return E.jsx(Wn,{present:r||i.open,children:i.modal?E.jsx(mM,{...s,ref:e}):E.jsx(gM,{...s,ref:e})})});Jx.displayName=Ea;var mM=b.forwardRef((n,e)=>{const t=is(Ea,n.__scopeDialog),r=b.useRef(null),s=Et(e,t.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return Hx(i)},[]),E.jsx(e1,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(n.onCloseAutoFocus,i=>{i.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Le(n.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Le(n.onFocusOutside,i=>i.preventDefault())})}),gM=b.forwardRef((n,e)=>{const t=is(Ea,n.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return E.jsx(e1,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{n.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{n.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;t.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),e1=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=n,u=is(Ea,t),h=b.useRef(null),p=Et(e,h);return Vx(),E.jsxs(E.Fragment,{children:[E.jsx(Mv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:E.jsx(bp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":jv(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(yM,{titleId:u.titleId}),E.jsx(_M,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Fv="DialogTitle",t1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=is(Fv,t);return E.jsx(ht.h2,{id:s.titleId,...r,ref:e})});t1.displayName=Fv;var n1="DialogDescription",r1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=is(n1,t);return E.jsx(ht.p,{id:s.descriptionId,...r,ref:e})});r1.displayName=n1;var s1="DialogClose",o1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=is(s1,t);return E.jsx(ht.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,()=>s.onOpenChange(!1))})});o1.displayName=s1;function jv(n){return n?"open":"closed"}var i1="DialogTitleWarning",[zH,a1]=eO(i1,{contentName:Ea,titleName:Fv,docsSlug:"dialog"}),yM=({titleId:n})=>{const e=a1(i1),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},vM="DialogDescriptionWarning",_M=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a1(vM).contentName}}.`;return b.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},l1=Gx,wM=Zx,c1=Yx,Uv=Xx,zv=Jx,$v=t1,Bv=r1,u1=o1;const EM=l1,bM=c1,d1=b.forwardRef(({className:n,...e},t)=>E.jsx(Uv,{className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));d1.displayName=Uv.displayName;const SM=wp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h1=b.forwardRef(({side:n="right",className:e,children:t,...r},s)=>E.jsxs(bM,{children:[E.jsx(d1,{}),E.jsxs(zv,{ref:s,className:$e(SM({side:n}),e),...r,children:[t,E.jsxs(u1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[E.jsx(Nv,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));h1.displayName=zv.displayName;const f1=({className:n,...e})=>E.jsx("div",{className:$e("flex flex-col space-y-2 text-center sm:text-left",n),...e});f1.displayName="SheetHeader";const p1=b.forwardRef(({className:n,...e},t)=>E.jsx($v,{ref:t,className:$e("text-lg font-semibold text-foreground",n),...e}));p1.displayName=$v.displayName;const m1=b.forwardRef(({className:n,...e},t)=>E.jsx(Bv,{ref:t,className:$e("text-sm text-muted-foreground",n),...e}));m1.displayName=Bv.displayName;const IM=["top","right","bottom","left"],bi=Math.min,_r=Math.max,Of=Math.round,Zh=Math.floor,Ms=n=>({x:n,y:n}),xM={left:"right",right:"left",bottom:"top",top:"bottom"},TM={start:"end",end:"start"};function Dy(n,e,t){return _r(n,bi(e,t))}function vo(n,e){return typeof n=="function"?n(e):n}function _o(n){return n.split("-")[0]}function yc(n){return n.split("-")[1]}function qv(n){return n==="x"?"y":"x"}function Hv(n){return n==="y"?"height":"width"}const CM=new Set(["top","bottom"]);function Ns(n){return CM.has(_o(n))?"y":"x"}function Wv(n){return qv(Ns(n))}function PM(n,e,t){t===void 0&&(t=!1);const r=yc(n),s=Wv(n),i=Hv(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=Mf(l)),[l,Mf(l)]}function AM(n){const e=Mf(n);return[Oy(n),e,Oy(e)]}function Oy(n){return n.replace(/start|end/g,e=>TM[e])}const vb=["left","right"],_b=["right","left"],RM=["top","bottom"],kM=["bottom","top"];function NM(n,e,t){switch(n){case"top":case"bottom":return t?e?_b:vb:e?vb:_b;case"left":case"right":return e?RM:kM;default:return[]}}function DM(n,e,t,r){const s=yc(n);let i=NM(_o(n),t==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(Oy)))),i}function Mf(n){return n.replace(/left|right|bottom|top/g,e=>xM[e])}function OM(n){return{top:0,right:0,bottom:0,left:0,...n}}function g1(n){return typeof n!="number"?OM(n):{top:n,right:n,bottom:n,left:n}}function Vf(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function wb(n,e,t){let{reference:r,floating:s}=n;const i=Ns(e),l=Wv(e),u=Hv(l),h=_o(e),p=i==="y",g=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,w=r[u]/2-s[u]/2;let I;switch(h){case"top":I={x:g,y:r.y-s.height};break;case"bottom":I={x:g,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y:m};break;case"left":I={x:r.x-s.width,y:m};break;default:I={x:r.x,y:r.y}}switch(yc(e)){case"start":I[l]-=w*(t&&p?-1:1);break;case"end":I[l]+=w*(t&&p?-1:1);break}return I}const MM=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=t,u=i.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y:m}=wb(p,r,h),w=r,I={},A=0;for(let C=0;C<u.length;C++){const{name:R,fn:N}=u[C],{x:M,y:j,data:z,reset:$}=await N({x:g,y:m,initialPlacement:r,placement:w,strategy:s,middlewareData:I,rects:p,platform:l,elements:{reference:n,floating:e}});g=M??g,m=j??m,I={...I,[R]:{...I[R],...z}},$&&A<=50&&(A++,typeof $=="object"&&($.placement&&(w=$.placement),$.rects&&(p=$.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):$.rects),{x:g,y:m}=wb(p,w,h)),C=-1)}return{x:g,y:m,placement:w,strategy:s,middlewareData:I}};async function zu(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:u,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:w=!1,padding:I=0}=vo(e,n),A=g1(I),R=u[w?m==="floating"?"reference":"floating":m],N=Vf(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(R)))==null||t?R:R.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:h})),M=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),z=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},$=Vf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:j,strategy:h}):M);return{top:(N.top-$.top+A.top)/z.y,bottom:($.bottom-N.bottom+A.bottom)/z.y,left:(N.left-$.left+A.left)/z.x,right:($.right-N.right+A.right)/z.x}}const VM=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:g=0}=vo(n,e)||{};if(p==null)return{};const m=g1(g),w={x:t,y:r},I=Wv(s),A=Hv(I),C=await l.getDimensions(p),R=I==="y",N=R?"top":"left",M=R?"bottom":"right",j=R?"clientHeight":"clientWidth",z=i.reference[A]+i.reference[I]-w[I]-i.floating[A],$=w[I]-i.reference[I],K=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let P=K?K[j]:0;(!P||!await(l.isElement==null?void 0:l.isElement(K)))&&(P=u.floating[j]||i.floating[A]);const T=z/2-$/2,D=P/2-C[A]/2-1,V=bi(m[N],D),F=bi(m[M],D),B=V,O=P-C[A]-F,Ce=P/2-C[A]/2+T,Be=Dy(B,Ce,O),ge=!h.arrow&&yc(s)!=null&&Ce!==Be&&i.reference[A]/2-(Ce<B?V:F)-C[A]/2<0,Ee=ge?Ce<B?Ce-B:Ce-O:0;return{[I]:w[I]+Ee,data:{[I]:Be,centerOffset:Ce-Be-Ee,...ge&&{alignmentOffset:Ee}},reset:ge}}}),LM=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:w,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:C=!0,...R}=vo(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const N=_o(s),M=Ns(u),j=_o(u)===u,z=await(h.isRTL==null?void 0:h.isRTL(p.floating)),$=w||(j||!C?[Mf(u)]:AM(u)),K=A!=="none";!w&&K&&$.push(...DM(u,C,A,z));const P=[u,...$],T=await zu(e,R),D=[];let V=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&D.push(T[N]),m){const Ce=PM(s,l,z);D.push(T[Ce[0]],T[Ce[1]])}if(V=[...V,{placement:s,overflows:D}],!D.every(Ce=>Ce<=0)){var F,B;const Ce=(((F=i.flip)==null?void 0:F.index)||0)+1,Be=P[Ce];if(Be&&(!(m==="alignment"?M!==Ns(Be):!1)||V.every(W=>Ns(W.placement)===M?W.overflows[0]>0:!0)))return{data:{index:Ce,overflows:V},reset:{placement:Be}};let ge=(B=V.filter(Ee=>Ee.overflows[0]<=0).sort((Ee,W)=>Ee.overflows[1]-W.overflows[1])[0])==null?void 0:B.placement;if(!ge)switch(I){case"bestFit":{var O;const Ee=(O=V.filter(W=>{if(K){const ne=Ns(W.placement);return ne===M||ne==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ne=>ne>0).reduce((ne,X)=>ne+X,0)]).sort((W,ne)=>W[1]-ne[1])[0])==null?void 0:O[0];Ee&&(ge=Ee);break}case"initialPlacement":ge=u;break}if(s!==ge)return{reset:{placement:ge}}}return{}}}};function Eb(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function bb(n){return IM.some(e=>n[e]>=0)}const FM=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=vo(n,e);switch(r){case"referenceHidden":{const i=await zu(e,{...s,elementContext:"reference"}),l=Eb(i,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:bb(l)}}}case"escaped":{const i=await zu(e,{...s,altBoundary:!0}),l=Eb(i,t.floating);return{data:{escapedOffsets:l,escaped:bb(l)}}}default:return{}}}}},y1=new Set(["left","top"]);async function jM(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=_o(t),u=yc(t),h=Ns(t)==="y",p=y1.has(l)?-1:1,g=i&&h?-1:1,m=vo(e,n);let{mainAxis:w,crossAxis:I,alignmentAxis:A}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof A=="number"&&(I=u==="end"?A*-1:A),h?{x:I*g,y:w*p}:{x:w*p,y:I*g}}const UM=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:l,middlewareData:u}=e,h=await jM(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:i+h.y,data:{...h,placement:l}}}}},zM=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:R=>{let{x:N,y:M}=R;return{x:N,y:M}}},...h}=vo(n,e),p={x:t,y:r},g=await zu(e,h),m=Ns(_o(s)),w=qv(m);let I=p[w],A=p[m];if(i){const R=w==="y"?"top":"left",N=w==="y"?"bottom":"right",M=I+g[R],j=I-g[N];I=Dy(M,I,j)}if(l){const R=m==="y"?"top":"left",N=m==="y"?"bottom":"right",M=A+g[R],j=A-g[N];A=Dy(M,A,j)}const C=u.fn({...e,[w]:I,[m]:A});return{...C,data:{x:C.x-t,y:C.y-r,enabled:{[w]:i,[m]:l}}}}}},$M=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=vo(n,e),g={x:t,y:r},m=Ns(s),w=qv(m);let I=g[w],A=g[m];const C=vo(u,e),R=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const j=w==="y"?"height":"width",z=i.reference[w]-i.floating[j]+R.mainAxis,$=i.reference[w]+i.reference[j]-R.mainAxis;I<z?I=z:I>$&&(I=$)}if(p){var N,M;const j=w==="y"?"width":"height",z=y1.has(_o(s)),$=i.reference[m]-i.floating[j]+(z&&((N=l.offset)==null?void 0:N[m])||0)+(z?0:R.crossAxis),K=i.reference[m]+i.reference[j]+(z?0:((M=l.offset)==null?void 0:M[m])||0)-(z?R.crossAxis:0);A<$?A=$:A>K&&(A=K)}return{[w]:I,[m]:A}}}},BM=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:l,elements:u}=e,{apply:h=()=>{},...p}=vo(n,e),g=await zu(e,p),m=_o(s),w=yc(s),I=Ns(s)==="y",{width:A,height:C}=i.floating;let R,N;m==="top"||m==="bottom"?(R=m,N=w===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(N=m,R=w==="end"?"top":"bottom");const M=C-g.top-g.bottom,j=A-g.left-g.right,z=bi(C-g[R],M),$=bi(A-g[N],j),K=!e.middlewareData.shift;let P=z,T=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(T=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=M),K&&!w){const V=_r(g.left,0),F=_r(g.right,0),B=_r(g.top,0),O=_r(g.bottom,0);I?T=A-2*(V!==0||F!==0?V+F:_r(g.left,g.right)):P=C-2*(B!==0||O!==0?B+O:_r(g.top,g.bottom))}await h({...e,availableWidth:T,availableHeight:P});const D=await l.getDimensions(u.floating);return A!==D.width||C!==D.height?{reset:{rects:!0}}:{}}}};function Tp(){return typeof window<"u"}function vc(n){return v1(n)?(n.nodeName||"").toLowerCase():"#document"}function Er(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ws(n){var e;return(e=(v1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function v1(n){return Tp()?n instanceof Node||n instanceof Er(n).Node:!1}function ss(n){return Tp()?n instanceof Element||n instanceof Er(n).Element:!1}function zs(n){return Tp()?n instanceof HTMLElement||n instanceof Er(n).HTMLElement:!1}function Sb(n){return!Tp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Er(n).ShadowRoot}const qM=new Set(["inline","contents"]);function cd(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=os(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!qM.has(s)}const HM=new Set(["table","td","th"]);function WM(n){return HM.has(vc(n))}const GM=[":popover-open",":modal"];function Cp(n){return GM.some(e=>{try{return n.matches(e)}catch{return!1}})}const KM=["transform","translate","scale","rotate","perspective"],ZM=["transform","translate","scale","rotate","perspective","filter"],QM=["paint","layout","strict","content"];function Gv(n){const e=Kv(),t=ss(n)?os(n):n;return KM.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||ZM.some(r=>(t.willChange||"").includes(r))||QM.some(r=>(t.contain||"").includes(r))}function YM(n){let e=Si(n);for(;zs(e)&&!Ql(e);){if(Gv(e))return e;if(Cp(e))return null;e=Si(e)}return null}function Kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XM=new Set(["html","body","#document"]);function Ql(n){return XM.has(vc(n))}function os(n){return Er(n).getComputedStyle(n)}function Pp(n){return ss(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Si(n){if(vc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Sb(n)&&n.host||Ws(n);return Sb(e)?e.host:e}function _1(n){const e=Si(n);return Ql(e)?n.ownerDocument?n.ownerDocument.body:n.body:zs(e)&&cd(e)?e:_1(e)}function $u(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=_1(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),l=Er(s);if(i){const u=My(l);return e.concat(l,l.visualViewport||[],cd(s)?s:[],u&&t?$u(u):[])}return e.concat(s,$u(s,[],t))}function My(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function w1(n){const e=os(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=zs(n),i=s?n.offsetWidth:t,l=s?n.offsetHeight:r,u=Of(t)!==i||Of(r)!==l;return u&&(t=i,r=l),{width:t,height:r,$:u}}function Zv(n){return ss(n)?n:n.contextElement}function Bl(n){const e=Zv(n);if(!zs(e))return Ms(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=w1(e);let l=(i?Of(t.width):t.width)/r,u=(i?Of(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const JM=Ms(0);function E1(n){const e=Er(n);return!Kv()||!e.visualViewport?JM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eV(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Er(n)?!1:e}function ba(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=Zv(n);let l=Ms(1);e&&(r?ss(r)&&(l=Bl(r)):l=Bl(n));const u=eV(i,t,r)?E1(i):Ms(0);let h=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,g=s.width/l.x,m=s.height/l.y;if(i){const w=Er(i),I=r&&ss(r)?Er(r):r;let A=w,C=My(A);for(;C&&r&&I!==A;){const R=Bl(C),N=C.getBoundingClientRect(),M=os(C),j=N.left+(C.clientLeft+parseFloat(M.paddingLeft))*R.x,z=N.top+(C.clientTop+parseFloat(M.paddingTop))*R.y;h*=R.x,p*=R.y,g*=R.x,m*=R.y,h+=j,p+=z,A=Er(C),C=My(A)}}return Vf({width:g,height:m,x:h,y:p})}function Ap(n,e){const t=Pp(n).scrollLeft;return e?e.left+t:ba(Ws(n)).left+t}function b1(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Ap(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function tV(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",l=Ws(r),u=e?Cp(e.floating):!1;if(r===l||u&&i)return t;let h={scrollLeft:0,scrollTop:0},p=Ms(1);const g=Ms(0),m=zs(r);if((m||!m&&!i)&&((vc(r)!=="body"||cd(l))&&(h=Pp(r)),zs(r))){const I=ba(r);p=Bl(r),g.x=I.x+r.clientLeft,g.y=I.y+r.clientTop}const w=l&&!m&&!i?b1(l,h):Ms(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+g.x+w.x,y:t.y*p.y-h.scrollTop*p.y+g.y+w.y}}function nV(n){return Array.from(n.getClientRects())}function rV(n){const e=Ws(n),t=Pp(n),r=n.ownerDocument.body,s=_r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=_r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Ap(n);const u=-t.scrollTop;return os(r).direction==="rtl"&&(l+=_r(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:u}}const Ib=25;function sV(n,e){const t=Er(n),r=Ws(n),s=t.visualViewport;let i=r.clientWidth,l=r.clientHeight,u=0,h=0;if(s){i=s.width,l=s.height;const g=Kv();(!g||g&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const p=Ap(r);if(p<=0){const g=r.ownerDocument,m=g.body,w=getComputedStyle(m),I=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,A=Math.abs(r.clientWidth-m.clientWidth-I);A<=Ib&&(i-=A)}else p<=Ib&&(i+=p);return{width:i,height:l,x:u,y:h}}const oV=new Set(["absolute","fixed"]);function iV(n,e){const t=ba(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=zs(n)?Bl(n):Ms(1),l=n.clientWidth*i.x,u=n.clientHeight*i.y,h=s*i.x,p=r*i.y;return{width:l,height:u,x:h,y:p}}function xb(n,e,t){let r;if(e==="viewport")r=sV(n,t);else if(e==="document")r=rV(Ws(n));else if(ss(e))r=iV(e,t);else{const s=E1(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Vf(r)}function S1(n,e){const t=Si(n);return t===e||!ss(t)||Ql(t)?!1:os(t).position==="fixed"||S1(t,e)}function aV(n,e){const t=e.get(n);if(t)return t;let r=$u(n,[],!1).filter(u=>ss(u)&&vc(u)!=="body"),s=null;const i=os(n).position==="fixed";let l=i?Si(n):n;for(;ss(l)&&!Ql(l);){const u=os(l),h=Gv(l);!h&&u.position==="fixed"&&(s=null),(i?!h&&!s:!h&&u.position==="static"&&!!s&&oV.has(s.position)||cd(l)&&!h&&S1(n,l))?r=r.filter(g=>g!==l):s=u,l=Si(l)}return e.set(n,r),r}function lV(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?Cp(e)?[]:aV(e,this._c):[].concat(t),r],u=l[0],h=l.reduce((p,g)=>{const m=xb(e,g,s);return p.top=_r(m.top,p.top),p.right=bi(m.right,p.right),p.bottom=bi(m.bottom,p.bottom),p.left=_r(m.left,p.left),p},xb(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function cV(n){const{width:e,height:t}=w1(n);return{width:e,height:t}}function uV(n,e,t){const r=zs(e),s=Ws(e),i=t==="fixed",l=ba(n,!0,i,e);let u={scrollLeft:0,scrollTop:0};const h=Ms(0);function p(){h.x=Ap(s)}if(r||!r&&!i)if((vc(e)!=="body"||cd(s))&&(u=Pp(e)),r){const I=ba(e,!0,i,e);h.x=I.x+e.clientLeft,h.y=I.y+e.clientTop}else s&&p();i&&!r&&s&&p();const g=s&&!r&&!i?b1(s,u):Ms(0),m=l.left+u.scrollLeft-h.x-g.x,w=l.top+u.scrollTop-h.y-g.y;return{x:m,y:w,width:l.width,height:l.height}}function ty(n){return os(n).position==="static"}function Tb(n,e){if(!zs(n)||os(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ws(n)===t&&(t=t.ownerDocument.body),t}function I1(n,e){const t=Er(n);if(Cp(n))return t;if(!zs(n)){let s=Si(n);for(;s&&!Ql(s);){if(ss(s)&&!ty(s))return s;s=Si(s)}return t}let r=Tb(n,e);for(;r&&WM(r)&&ty(r);)r=Tb(r,e);return r&&Ql(r)&&ty(r)&&!Gv(r)?t:r||YM(n)||t}const dV=async function(n){const e=this.getOffsetParent||I1,t=this.getDimensions,r=await t(n.floating);return{reference:uV(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hV(n){return os(n).direction==="rtl"}const fV={convertOffsetParentRelativeRectToViewportRelativeRect:tV,getDocumentElement:Ws,getClippingRect:lV,getOffsetParent:I1,getElementRects:dV,getClientRects:nV,getDimensions:cV,getScale:Bl,isElement:ss,isRTL:hV};function x1(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function pV(n,e){let t=null,r;const s=Ws(n);function i(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),i();const p=n.getBoundingClientRect(),{left:g,top:m,width:w,height:I}=p;if(u||e(),!w||!I)return;const A=Zh(m),C=Zh(s.clientWidth-(g+w)),R=Zh(s.clientHeight-(m+I)),N=Zh(g),j={rootMargin:-A+"px "+-C+"px "+-R+"px "+-N+"px",threshold:_r(0,bi(1,h))||1};let z=!0;function $(K){const P=K[0].intersectionRatio;if(P!==h){if(!z)return l();P?l(!1,P):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!x1(p,n.getBoundingClientRect())&&l(),z=!1}try{t=new IntersectionObserver($,{...j,root:s.ownerDocument})}catch{t=new IntersectionObserver($,j)}t.observe(n)}return l(!0),i}function mV(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Zv(n),g=s||i?[...p?$u(p):[],...$u(e)]:[];g.forEach(N=>{s&&N.addEventListener("scroll",t,{passive:!0}),i&&N.addEventListener("resize",t)});const m=p&&u?pV(p,t):null;let w=-1,I=null;l&&(I=new ResizeObserver(N=>{let[M]=N;M&&M.target===p&&I&&(I.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var j;(j=I)==null||j.observe(e)})),t()}),p&&!h&&I.observe(p),I.observe(e));let A,C=h?ba(n):null;h&&R();function R(){const N=ba(n);C&&!x1(C,N)&&t(),C=N,A=requestAnimationFrame(R)}return t(),()=>{var N;g.forEach(M=>{s&&M.removeEventListener("scroll",t),i&&M.removeEventListener("resize",t)}),m?.(),(N=I)==null||N.disconnect(),I=null,h&&cancelAnimationFrame(A)}}const gV=UM,yV=zM,vV=LM,_V=BM,wV=FM,Cb=VM,EV=$M,bV=(n,e,t)=>{const r=new Map,s={platform:fV,...t},i={...s.platform,_c:r};return MM(n,e,{...s,platform:i})};var SV=typeof document<"u",IV=function(){},pf=SV?b.useLayoutEffect:IV;function Lf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Lf(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Lf(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function T1(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Pb(n,e){const t=T1(n);return Math.round(e*t)/t}function ny(n){const e=b.useRef(n);return pf(()=>{e.current=n}),e}function xV(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=n,[g,m]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,I]=b.useState(r);Lf(w,r)||I(r);const[A,C]=b.useState(null),[R,N]=b.useState(null),M=b.useCallback(W=>{W!==K.current&&(K.current=W,C(W))},[]),j=b.useCallback(W=>{W!==P.current&&(P.current=W,N(W))},[]),z=i||A,$=l||R,K=b.useRef(null),P=b.useRef(null),T=b.useRef(g),D=h!=null,V=ny(h),F=ny(s),B=ny(p),O=b.useCallback(()=>{if(!K.current||!P.current)return;const W={placement:e,strategy:t,middleware:w};F.current&&(W.platform=F.current),bV(K.current,P.current,W).then(ne=>{const X={...ne,isPositioned:B.current!==!1};Ce.current&&!Lf(T.current,X)&&(T.current=X,Ov.flushSync(()=>{m(X)}))})},[w,e,t,F,B]);pf(()=>{p===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,m(W=>({...W,isPositioned:!1})))},[p]);const Ce=b.useRef(!1);pf(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]),pf(()=>{if(z&&(K.current=z),$&&(P.current=$),z&&$){if(V.current)return V.current(z,$,O);O()}},[z,$,O,V,D]);const Be=b.useMemo(()=>({reference:K,floating:P,setReference:M,setFloating:j}),[M,j]),ge=b.useMemo(()=>({reference:z,floating:$}),[z,$]),Ee=b.useMemo(()=>{const W={position:t,left:0,top:0};if(!ge.floating)return W;const ne=Pb(ge.floating,g.x),X=Pb(ge.floating,g.y);return u?{...W,transform:"translate("+ne+"px, "+X+"px)",...T1(ge.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:X}},[t,u,ge.floating,g.x,g.y]);return b.useMemo(()=>({...g,update:O,refs:Be,elements:ge,floatingStyles:Ee}),[g,O,Be,ge,Ee])}const TV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Cb({element:r.current,padding:s}).fn(t):{}:r?Cb({element:r,padding:s}).fn(t):{}}}},CV=(n,e)=>({...gV(n),options:[n,e]}),PV=(n,e)=>({...yV(n),options:[n,e]}),AV=(n,e)=>({...EV(n),options:[n,e]}),RV=(n,e)=>({...vV(n),options:[n,e]}),kV=(n,e)=>({..._V(n),options:[n,e]}),NV=(n,e)=>({...wV(n),options:[n,e]}),DV=(n,e)=>({...TV(n),options:[n,e]});var OV="Arrow",C1=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return E.jsx(ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});C1.displayName=OV;var MV=C1;function Qv(n){const[e,t]=b.useState(void 0);return yo(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const h=i.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Yv="Popper",[P1,Rp]=Hs(Yv),[VV,A1]=P1(Yv),R1=n=>{const{__scopePopper:e,children:t}=n,[r,s]=b.useState(null);return E.jsx(VV,{scope:e,anchor:r,onAnchorChange:s,children:t})};R1.displayName=Yv;var k1="PopperAnchor",N1=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=A1(k1,t),l=b.useRef(null),u=Et(e,l),h=b.useRef(null);return b.useEffect(()=>{const p=h.current;h.current=r?.current||l.current,p!==h.current&&i.onAnchorChange(h.current)}),r?null:E.jsx(ht.div,{...s,ref:u})});N1.displayName=k1;var Xv="PopperContent",[LV,FV]=P1(Xv),D1=b.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:w=!1,updatePositionStrategy:I="optimized",onPlaced:A,...C}=n,R=A1(Xv,t),[N,M]=b.useState(null),j=Et(e,ve=>M(ve)),[z,$]=b.useState(null),K=Qv(z),P=K?.width??0,T=K?.height??0,D=r+(i!=="center"?"-"+i:""),V=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},F=Array.isArray(p)?p:[p],B=F.length>0,O={padding:V,boundary:F.filter(UV),altBoundary:B},{refs:Ce,floatingStyles:Be,placement:ge,isPositioned:Ee,middlewareData:W}=xV({strategy:"fixed",placement:D,whileElementsMounted:(...ve)=>mV(...ve,{animationFrame:I==="always"}),elements:{reference:R.anchor},middleware:[CV({mainAxis:s+T,alignmentAxis:l}),h&&PV({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?AV():void 0,...O}),h&&RV({...O}),kV({...O,apply:({elements:ve,rects:Ie,availableWidth:Ge,availableHeight:Qe})=>{const{width:me,height:St}=Ie.reference,hn=ve.floating.style;hn.setProperty("--radix-popper-available-width",`${Ge}px`),hn.setProperty("--radix-popper-available-height",`${Qe}px`),hn.setProperty("--radix-popper-anchor-width",`${me}px`),hn.setProperty("--radix-popper-anchor-height",`${St}px`)}}),z&&DV({element:z,padding:u}),zV({arrowWidth:P,arrowHeight:T}),w&&NV({strategy:"referenceHidden",...O})]}),[ne,X]=V1(ge),U=Mn(A);yo(()=>{Ee&&U?.()},[Ee,U]);const G=W.arrow?.x,oe=W.arrow?.y,ie=W.arrow?.centerOffset!==0,[he,xe]=b.useState();return yo(()=>{N&&xe(window.getComputedStyle(N).zIndex)},[N]),E.jsx("div",{ref:Ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...Be,transform:Ee?Be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:E.jsx(LV,{scope:t,placedSide:ne,onArrowChange:$,arrowX:G,arrowY:oe,shouldHideArrow:ie,children:E.jsx(ht.div,{"data-side":ne,"data-align":X,...C,ref:j,style:{...C.style,animation:Ee?void 0:"none"}})})})});D1.displayName=Xv;var O1="PopperArrow",jV={top:"bottom",right:"left",bottom:"top",left:"right"},M1=b.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=FV(O1,r),l=jV[i.placedSide];return E.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:E.jsx(MV,{...s,ref:t,style:{...s.style,display:"block"}})})});M1.displayName=O1;function UV(n){return n!==null}var zV=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,u=l?0:n.arrowWidth,h=l?0:n.arrowHeight,[p,g]=V1(t),m={start:"0%",center:"50%",end:"100%"}[g],w=(s.arrow?.x??0)+u/2,I=(s.arrow?.y??0)+h/2;let A="",C="";return p==="bottom"?(A=l?m:`${w}px`,C=`${-h}px`):p==="top"?(A=l?m:`${w}px`,C=`${r.floating.height+h}px`):p==="right"?(A=`${-h}px`,C=l?m:`${I}px`):p==="left"&&(A=`${r.floating.width+h}px`,C=l?m:`${I}px`),{data:{x:A,y:C}}}});function V1(n){const[e,t="center"]=n.split("-");return[e,t]}var L1=R1,F1=N1,j1=D1,U1=M1,$V=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BV="VisuallyHidden",z1=b.forwardRef((n,e)=>E.jsx(ht.span,{...n,ref:e,style:{...$V,...n.style}}));z1.displayName=BV;var qV=z1,[kp]=Hs("Tooltip",[Rp]),Np=Rp(),$1="TooltipProvider",HV=700,Vy="tooltip.open",[WV,Jv]=kp($1),B1=n=>{const{__scopeTooltip:e,delayDuration:t=HV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,l=b.useRef(!0),u=b.useRef(!1),h=b.useRef(0);return b.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),E.jsx(WV,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(h.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(p=>{u.current=p},[]),disableHoverableContent:s,children:i})};B1.displayName=$1;var Bu="Tooltip",[GV,ud]=kp(Bu),q1=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:u}=n,h=Jv(Bu,n.__scopeTooltip),p=Np(e),[g,m]=b.useState(null),w=pa(),I=b.useRef(0),A=l??h.disableHoverableContent,C=u??h.delayDuration,R=b.useRef(!1),[N,M]=gc({prop:r,defaultProp:s??!1,onChange:P=>{P?(h.onOpen(),document.dispatchEvent(new CustomEvent(Vy))):h.onClose(),i?.(P)},caller:Bu}),j=b.useMemo(()=>N?R.current?"delayed-open":"instant-open":"closed",[N]),z=b.useCallback(()=>{window.clearTimeout(I.current),I.current=0,R.current=!1,M(!0)},[M]),$=b.useCallback(()=>{window.clearTimeout(I.current),I.current=0,M(!1)},[M]),K=b.useCallback(()=>{window.clearTimeout(I.current),I.current=window.setTimeout(()=>{R.current=!0,M(!0),I.current=0},C)},[C,M]);return b.useEffect(()=>()=>{I.current&&(window.clearTimeout(I.current),I.current=0)},[]),E.jsx(L1,{...p,children:E.jsx(GV,{scope:e,contentId:w,open:N,stateAttribute:j,trigger:g,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{h.isOpenDelayedRef.current?K():z()},[h.isOpenDelayedRef,K,z]),onTriggerLeave:b.useCallback(()=>{A?$():(window.clearTimeout(I.current),I.current=0)},[$,A]),onOpen:z,onClose:$,disableHoverableContent:A,children:t})})};q1.displayName=Bu;var Ly="TooltipTrigger",H1=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=ud(Ly,t),i=Jv(Ly,t),l=Np(t),u=b.useRef(null),h=Et(e,u,s.onTriggerChange),p=b.useRef(!1),g=b.useRef(!1),m=b.useCallback(()=>p.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),E.jsx(F1,{asChild:!0,...l,children:E.jsx(ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:h,onPointerMove:Le(n.onPointerMove,w=>{w.pointerType!=="touch"&&!g.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:Le(n.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:Le(n.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Le(n.onFocus,()=>{p.current||s.onOpen()}),onBlur:Le(n.onBlur,s.onClose),onClick:Le(n.onClick,s.onClose)})})});H1.displayName=Ly;var e_="TooltipPortal",[KV,ZV]=kp(e_,{forceMount:void 0}),W1=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:s}=n,i=ud(e_,e);return E.jsx(KV,{scope:e,forceMount:t,children:E.jsx(Wn,{present:t||i.open,children:E.jsx(Sp,{asChild:!0,container:s,children:r})})})};W1.displayName=e_;var Yl="TooltipContent",G1=b.forwardRef((n,e)=>{const t=ZV(Yl,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,l=ud(Yl,n.__scopeTooltip);return E.jsx(Wn,{present:r||l.open,children:l.disableHoverableContent?E.jsx(K1,{side:s,...i,ref:e}):E.jsx(QV,{side:s,...i,ref:e})})}),QV=b.forwardRef((n,e)=>{const t=ud(Yl,n.__scopeTooltip),r=Jv(Yl,n.__scopeTooltip),s=b.useRef(null),i=Et(e,s),[l,u]=b.useState(null),{trigger:h,onClose:p}=t,g=s.current,{onPointerInTransitChange:m}=r,w=b.useCallback(()=>{u(null),m(!1)},[m]),I=b.useCallback((A,C)=>{const R=A.currentTarget,N={x:A.clientX,y:A.clientY},M=tL(N,R.getBoundingClientRect()),j=nL(N,M),z=rL(C.getBoundingClientRect()),$=oL([...j,...z]);u($),m(!0)},[m]);return b.useEffect(()=>()=>w(),[w]),b.useEffect(()=>{if(h&&g){const A=R=>I(R,g),C=R=>I(R,h);return h.addEventListener("pointerleave",A),g.addEventListener("pointerleave",C),()=>{h.removeEventListener("pointerleave",A),g.removeEventListener("pointerleave",C)}}},[h,g,I,w]),b.useEffect(()=>{if(l){const A=C=>{const R=C.target,N={x:C.clientX,y:C.clientY},M=h?.contains(R)||g?.contains(R),j=!sL(N,l);M?w():j&&(w(),p())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[h,g,l,p,w]),E.jsx(K1,{...n,ref:i})}),[YV,XV]=kp(Bu,{isInside:!1}),JV=HN("TooltipContent"),K1=b.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=n,h=ud(Yl,t),p=Np(t),{onClose:g}=h;return b.useEffect(()=>(document.addEventListener(Vy,g),()=>document.removeEventListener(Vy,g)),[g]),b.useEffect(()=>{if(h.trigger){const m=w=>{w.target?.contains(h.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,g]),E.jsx(bp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:E.jsxs(j1,{"data-state":h.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(JV,{children:r}),E.jsx(YV,{scope:t,isInside:!0,children:E.jsx(qV,{id:h.contentId,role:"tooltip",children:s||r})})]})})});G1.displayName=Yl;var Z1="TooltipArrow",eL=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Np(t);return XV(Z1,t).isInside?null:E.jsx(U1,{...s,...r,ref:e})});eL.displayName=Z1;function tL(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function nL(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function rL(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function sL(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,g=u.y,m=h.x,w=h.y;g>r!=w>r&&t<(m-p)*(r-g)/(w-g)+p&&(s=!s)}return s}function oL(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),iL(e)}function iL(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var aL=B1,lL=q1,cL=H1,uL=W1,Q1=G1;const Fy=aL,jy=lL,Uy=cL,Ff=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>E.jsx(uL,{children:E.jsx(Q1,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Ff.displayName=Q1.displayName;const dL="sidebar_state",hL=3600*24*7,fL="12rem",Ab="18rem",pL="3rem",mL="b",Y1=b.createContext(null);function Dp(){const n=b.useContext(Y1);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function gL({defaultOpen:n=!0,open:e,onOpenChange:t,className:r,style:s,children:i,...l}){const u=hD(),[h,p]=b.useState(!1),[g,m]=b.useState(n),w=e??g,I=b.useCallback(N=>{const M=typeof N=="function"?N(w):N;t?t(M):m(M),document.cookie=`${dL}=${M}; path=/; max-age=${hL}`},[t,w]),A=b.useCallback(()=>u?p(N=>!N):I(N=>!N),[u,I,p]);b.useEffect(()=>{const N=M=>{M.key===mL&&(M.metaKey||M.ctrlKey)&&(M.preventDefault(),A())};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[A]);const C=w?"expanded":"collapsed",R=b.useMemo(()=>({state:C,open:w,setOpen:I,isMobile:u,openMobile:h,setOpenMobile:p,toggleSidebar:A}),[C,w,I,u,h,p,A]);return E.jsx(Y1.Provider,{value:R,children:E.jsx(Fy,{delayDuration:0,children:E.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":fL,"--sidebar-width-icon":pL,...s},className:$e("group/sidebar-wrapper flex min-h-screen w-full",r),...l,children:i})})})}function yL({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:s,...i}){const{isMobile:l,state:u,openMobile:h,setOpenMobile:p}=Dp();return t==="none"?E.jsx("div",{"data-slot":"sidebar",className:$e("bg-sidebar text-sidebar-foreground flex h-full flex-col",r),style:{width:"var(--sidebar-width)"},...i,children:s}):l?E.jsx(EM,{open:h,onOpenChange:p,...i,children:E.jsxs(h1,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground p-0 [&>button]:hidden",style:{"--sidebar-width":Ab,width:Ab},side:n,children:[E.jsxs(f1,{className:"sr-only",children:[E.jsx(p1,{children:"Sidebar"}),E.jsx(m1,{children:"Displays the mobile sidebar."})]}),E.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):E.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[E.jsx("div",{"data-slot":"sidebar-gap",className:$e("relative shrink-0 bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:!w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)]"),style:{width:"var(--sidebar-width)"}}),E.jsx("div",{"data-slot":"sidebar-container",className:$e("fixed inset-y-0 z-10 hidden h-screen transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem+2px)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),style:{width:"var(--sidebar-width)"},...i,children:E.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function vL({className:n,...e}){const{toggleSidebar:t}=Dp();return E.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:t,title:"Toggle Sidebar",className:$e("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","cursor-ew-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...e})}function _L({className:n,...e}){return E.jsx("main",{"data-slot":"sidebar-inset",className:$e("bg-background relative flex min-w-0 flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",n),...e})}function wL({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:$e("flex flex-col gap-2 p-2",n),...e})}function EL({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:$e("flex flex-col gap-2 p-2",n),...e})}function bL({className:n,...e}){return E.jsx(JD,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:$e("bg-sidebar-border mx-2 w-auto",n),...e})}function SL({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:$e("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function Rb({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:$e("relative flex w-full min-w-0 flex-col p-2",n),...e})}function kb({className:n,asChild:e=!1,...t}){const r=e?_p:"div";return E.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:$e("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})}function Nb({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:$e("w-full text-sm",n),...e})}function ry({className:n,...e}){return E.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:$e("flex w-full min-w-0 flex-col gap-1",n),...e})}function Qh({className:n,...e}){return E.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:$e("group/menu-item relative",n),...e})}const IL=wp("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function sy({asChild:n=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:s,className:i,...l}){const u=n?_p:"button",{isMobile:h,state:p}=Dp(),g=E.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:$e(IL({variant:t,size:r}),i),...l});return s?(typeof s=="string"&&(s={children:s}),E.jsxs(jy,{children:[E.jsx(Uy,{asChild:!0,children:g}),E.jsx(Ff,{side:"right",align:"center",hidden:p!=="collapsed"||h,...s})]})):g}function X1(n){const e=n+"CollectionProvider",[t,r]=Hs(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:R,children:N}=C,M=ce.useRef(null),j=ce.useRef(new Map).current;return E.jsx(s,{scope:R,itemMap:j,collectionRef:M,children:N})};l.displayName=e;const u=n+"CollectionSlot",h=Zl(u),p=ce.forwardRef((C,R)=>{const{scope:N,children:M}=C,j=i(u,N),z=Et(R,j.collectionRef);return E.jsx(h,{ref:z,children:M})});p.displayName=u;const g=n+"CollectionItemSlot",m="data-radix-collection-item",w=Zl(g),I=ce.forwardRef((C,R)=>{const{scope:N,children:M,...j}=C,z=ce.useRef(null),$=Et(R,z),K=i(g,N);return ce.useEffect(()=>(K.itemMap.set(z,{ref:z,...j}),()=>void K.itemMap.delete(z))),E.jsx(w,{[m]:"",ref:$,children:M})});I.displayName=g;function A(C){const R=i(n+"CollectionConsumer",C);return ce.useCallback(()=>{const M=R.collectionRef.current;if(!M)return[];const j=Array.from(M.querySelectorAll(`[${m}]`));return Array.from(R.itemMap.values()).sort((K,P)=>j.indexOf(K.ref.current)-j.indexOf(P.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:p,ItemSlot:I},A,r]}var xL=b.createContext(void 0);function t_(n){const e=b.useContext(xL);return n||e||"ltr"}var oy="rovingFocusGroup.onEntryFocus",TL={bubbles:!1,cancelable:!0},dd="RovingFocusGroup",[zy,J1,CL]=X1(dd),[PL,eT]=Hs(dd,[CL]),[AL,RL]=PL(dd),tT=b.forwardRef((n,e)=>E.jsx(zy.Provider,{scope:n.__scopeRovingFocusGroup,children:E.jsx(zy.Slot,{scope:n.__scopeRovingFocusGroup,children:E.jsx(kL,{...n,ref:e})})}));tT.displayName=dd;var kL=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=n,w=b.useRef(null),I=Et(e,w),A=t_(i),[C,R]=gc({prop:l,defaultProp:u??null,onChange:h,caller:dd}),[N,M]=b.useState(!1),j=Mn(p),z=J1(t),$=b.useRef(!1),[K,P]=b.useState(0);return b.useEffect(()=>{const T=w.current;if(T)return T.addEventListener(oy,j),()=>T.removeEventListener(oy,j)},[j]),E.jsx(AL,{scope:t,orientation:r,dir:A,loop:s,currentTabStopId:C,onItemFocus:b.useCallback(T=>R(T),[R]),onItemShiftTab:b.useCallback(()=>M(!0),[]),onFocusableItemAdd:b.useCallback(()=>P(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>P(T=>T-1),[]),children:E.jsx(ht.div,{tabIndex:N||K===0?-1:0,"data-orientation":r,...m,ref:I,style:{outline:"none",...n.style},onMouseDown:Le(n.onMouseDown,()=>{$.current=!0}),onFocus:Le(n.onFocus,T=>{const D=!$.current;if(T.target===T.currentTarget&&D&&!N){const V=new CustomEvent(oy,TL);if(T.currentTarget.dispatchEvent(V),!V.defaultPrevented){const F=z().filter(ge=>ge.focusable),B=F.find(ge=>ge.active),O=F.find(ge=>ge.id===C),Be=[B,O,...F].filter(Boolean).map(ge=>ge.ref.current);sT(Be,g)}}$.current=!1}),onBlur:Le(n.onBlur,()=>M(!1))})})}),nT="RovingFocusGroupItem",rT=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...u}=n,h=pa(),p=i||h,g=RL(nT,t),m=g.currentTabStopId===p,w=J1(t),{onFocusableItemAdd:I,onFocusableItemRemove:A,currentTabStopId:C}=g;return b.useEffect(()=>{if(r)return I(),()=>A()},[r,I,A]),E.jsx(zy.ItemSlot,{scope:t,id:p,focusable:r,active:s,children:E.jsx(ht.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...u,ref:e,onMouseDown:Le(n.onMouseDown,R=>{r?g.onItemFocus(p):R.preventDefault()}),onFocus:Le(n.onFocus,()=>g.onItemFocus(p)),onKeyDown:Le(n.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){g.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const N=OL(R,g.orientation,g.dir);if(N!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let j=w().filter(z=>z.focusable).map(z=>z.ref.current);if(N==="last")j.reverse();else if(N==="prev"||N==="next"){N==="prev"&&j.reverse();const z=j.indexOf(R.currentTarget);j=g.loop?ML(j,z+1):j.slice(z+1)}setTimeout(()=>sT(j))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:C!=null}):l})})});rT.displayName=nT;var NL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DL(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function OL(n,e,t){const r=DL(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NL[r]}function sT(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function ML(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var VL=tT,LL=rT,$y=["Enter"," "],FL=["ArrowDown","PageUp","Home"],oT=["ArrowUp","PageDown","End"],jL=[...FL,...oT],UL={ltr:[...$y,"ArrowRight"],rtl:[...$y,"ArrowLeft"]},zL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hd="Menu",[qu,$L,BL]=X1(hd),[Va,iT]=Hs(hd,[BL,Rp,eT]),Op=Rp(),aT=eT(),[qL,La]=Va(hd),[HL,fd]=Va(hd),lT=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=n,u=Op(e),[h,p]=b.useState(null),g=b.useRef(!1),m=Mn(i),w=t_(s);return b.useEffect(()=>{const I=()=>{g.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>g.current=!1;return document.addEventListener("keydown",I,{capture:!0}),()=>{document.removeEventListener("keydown",I,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),E.jsx(L1,{...u,children:E.jsx(qL,{scope:e,open:t,onOpenChange:m,content:h,onContentChange:p,children:E.jsx(HL,{scope:e,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:w,modal:l,children:r})})})};lT.displayName=hd;var WL="MenuAnchor",n_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Op(t);return E.jsx(F1,{...s,...r,ref:e})});n_.displayName=WL;var r_="MenuPortal",[GL,cT]=Va(r_,{forceMount:void 0}),uT=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,i=La(r_,e);return E.jsx(GL,{scope:e,forceMount:t,children:E.jsx(Wn,{present:t||i.open,children:E.jsx(Sp,{asChild:!0,container:s,children:r})})})};uT.displayName=r_;var Lr="MenuContent",[KL,s_]=Va(Lr),dT=b.forwardRef((n,e)=>{const t=cT(Lr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=La(Lr,n.__scopeMenu),l=fd(Lr,n.__scopeMenu);return E.jsx(qu.Provider,{scope:n.__scopeMenu,children:E.jsx(Wn,{present:r||i.open,children:E.jsx(qu.Slot,{scope:n.__scopeMenu,children:l.modal?E.jsx(ZL,{...s,ref:e}):E.jsx(QL,{...s,ref:e})})})})}),ZL=b.forwardRef((n,e)=>{const t=La(Lr,n.__scopeMenu),r=b.useRef(null),s=Et(e,r);return b.useEffect(()=>{const i=r.current;if(i)return Hx(i)},[]),E.jsx(o_,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Le(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),QL=b.forwardRef((n,e)=>{const t=La(Lr,n.__scopeMenu);return E.jsx(o_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),YL=Zl("MenuContent.ScrollLock"),o_=b.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:w,onDismiss:I,disableOutsideScroll:A,...C}=n,R=La(Lr,t),N=fd(Lr,t),M=Op(t),j=aT(t),z=$L(t),[$,K]=b.useState(null),P=b.useRef(null),T=Et(e,P,R.onContentChange),D=b.useRef(0),V=b.useRef(""),F=b.useRef(0),B=b.useRef(null),O=b.useRef("right"),Ce=b.useRef(0),Be=A?Vv:b.Fragment,ge=A?{as:YL,allowPinchZoom:!0}:void 0,Ee=ne=>{const X=V.current+ne,U=z().filter(ve=>!ve.disabled),G=document.activeElement,oe=U.find(ve=>ve.ref.current===G)?.textValue,ie=U.map(ve=>ve.textValue),he=c4(ie,X,oe),xe=U.find(ve=>ve.textValue===he)?.ref.current;(function ve(Ie){V.current=Ie,window.clearTimeout(D.current),Ie!==""&&(D.current=window.setTimeout(()=>ve(""),1e3))})(X),xe&&setTimeout(()=>xe.focus())};b.useEffect(()=>()=>window.clearTimeout(D.current),[]),Vx();const W=b.useCallback(ne=>O.current===B.current?.side&&d4(ne,B.current?.area),[]);return E.jsx(KL,{scope:t,searchRef:V,onItemEnter:b.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),onItemLeave:b.useCallback(ne=>{W(ne)||(P.current?.focus(),K(null))},[W]),onTriggerLeave:b.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),pointerGraceTimerRef:F,onPointerGraceIntentChange:b.useCallback(ne=>{B.current=ne},[]),children:E.jsx(Be,{...ge,children:E.jsx(Mv,{asChild:!0,trapped:s,onMountAutoFocus:Le(i,ne=>{ne.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:E.jsx(bp,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:w,onDismiss:I,children:E.jsx(VL,{asChild:!0,...j,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:$,onCurrentTabStopIdChange:K,onEntryFocus:Le(h,ne=>{N.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(j1,{role:"menu","aria-orientation":"vertical","data-state":CT(R.open),"data-radix-menu-content":"",dir:N.dir,...M,...C,ref:T,style:{outline:"none",...C.style},onKeyDown:Le(C.onKeyDown,ne=>{const U=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,G=ne.ctrlKey||ne.altKey||ne.metaKey,oe=ne.key.length===1;U&&(ne.key==="Tab"&&ne.preventDefault(),!G&&oe&&Ee(ne.key));const ie=P.current;if(ne.target!==ie||!jL.includes(ne.key))return;ne.preventDefault();const xe=z().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);oT.includes(ne.key)&&xe.reverse(),a4(xe)}),onBlur:Le(n.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(D.current),V.current="")}),onPointerMove:Le(n.onPointerMove,Hu(ne=>{const X=ne.target,U=Ce.current!==ne.clientX;if(ne.currentTarget.contains(X)&&U){const G=ne.clientX>Ce.current?"right":"left";O.current=G,Ce.current=ne.clientX}}))})})})})})})});dT.displayName=Lr;var XL="MenuGroup",i_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(ht.div,{role:"group",...r,ref:e})});i_.displayName=XL;var JL="MenuLabel",hT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(ht.div,{...r,ref:e})});hT.displayName=JL;var jf="MenuItem",Db="menu.itemSelect",Mp=b.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,i=b.useRef(null),l=fd(jf,n.__scopeMenu),u=s_(jf,n.__scopeMenu),h=Et(e,i),p=b.useRef(!1),g=()=>{const m=i.current;if(!t&&m){const w=new CustomEvent(Db,{bubbles:!0,cancelable:!0});m.addEventListener(Db,I=>r?.(I),{once:!0}),kx(m,w),w.defaultPrevented?p.current=!1:l.onClose()}};return E.jsx(fT,{...s,ref:h,disabled:t,onClick:Le(n.onClick,g),onPointerDown:m=>{n.onPointerDown?.(m),p.current=!0},onPointerUp:Le(n.onPointerUp,m=>{p.current||m.currentTarget?.click()}),onKeyDown:Le(n.onKeyDown,m=>{const w=u.searchRef.current!=="";t||w&&m.key===" "||$y.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Mp.displayName=jf;var fT=b.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...i}=n,l=s_(jf,t),u=aT(t),h=b.useRef(null),p=Et(e,h),[g,m]=b.useState(!1),[w,I]=b.useState("");return b.useEffect(()=>{const A=h.current;A&&I((A.textContent??"").trim())},[i.children]),E.jsx(qu.ItemSlot,{scope:t,disabled:r,textValue:s??w,children:E.jsx(LL,{asChild:!0,...u,focusable:!r,children:E.jsx(ht.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:p,onPointerMove:Le(n.onPointerMove,Hu(A=>{r?l.onItemLeave(A):(l.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(n.onPointerLeave,Hu(A=>l.onItemLeave(A))),onFocus:Le(n.onFocus,()=>m(!0)),onBlur:Le(n.onBlur,()=>m(!1))})})})}),e4="MenuCheckboxItem",pT=b.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return E.jsx(_T,{scope:n.__scopeMenu,checked:t,children:E.jsx(Mp,{role:"menuitemcheckbox","aria-checked":Uf(t)?"mixed":t,...s,ref:e,"data-state":l_(t),onSelect:Le(s.onSelect,()=>r?.(Uf(t)?!0:!t),{checkForDefaultPrevented:!1})})})});pT.displayName=e4;var mT="MenuRadioGroup",[t4,n4]=Va(mT,{value:void 0,onValueChange:()=>{}}),gT=b.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,i=Mn(r);return E.jsx(t4,{scope:n.__scopeMenu,value:t,onValueChange:i,children:E.jsx(i_,{...s,ref:e})})});gT.displayName=mT;var yT="MenuRadioItem",vT=b.forwardRef((n,e)=>{const{value:t,...r}=n,s=n4(yT,n.__scopeMenu),i=t===s.value;return E.jsx(_T,{scope:n.__scopeMenu,checked:i,children:E.jsx(Mp,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":l_(i),onSelect:Le(r.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});vT.displayName=yT;var a_="MenuItemIndicator",[_T,r4]=Va(a_,{checked:!1}),wT=b.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,i=r4(a_,t);return E.jsx(Wn,{present:r||Uf(i.checked)||i.checked===!0,children:E.jsx(ht.span,{...s,ref:e,"data-state":l_(i.checked)})})});wT.displayName=a_;var s4="MenuSeparator",ET=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(ht.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});ET.displayName=s4;var o4="MenuArrow",bT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Op(t);return E.jsx(U1,{...s,...r,ref:e})});bT.displayName=o4;var i4="MenuSub",[$H,ST]=Va(i4),Iu="MenuSubTrigger",IT=b.forwardRef((n,e)=>{const t=La(Iu,n.__scopeMenu),r=fd(Iu,n.__scopeMenu),s=ST(Iu,n.__scopeMenu),i=s_(Iu,n.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=i,p={__scopeMenu:n.__scopeMenu},g=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>g,[g]),b.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),h(null)}},[u,h]),E.jsx(n_,{asChild:!0,...p,children:E.jsx(fT,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":CT(t.open),...n,ref:vp(e,s.onTriggerChange),onClick:m=>{n.onClick?.(m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Le(n.onPointerMove,Hu(m=>{i.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),g()},100))})),onPointerLeave:Le(n.onPointerLeave,Hu(m=>{g();const w=t.content?.getBoundingClientRect();if(w){const I=t.content?.dataset.side,A=I==="right",C=A?-5:5,R=w[A?"left":"right"],N=w[A?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+C,y:m.clientY},{x:R,y:w.top},{x:N,y:w.top},{x:N,y:w.bottom},{x:R,y:w.bottom}],side:I}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Le(n.onKeyDown,m=>{const w=i.searchRef.current!=="";n.disabled||w&&m.key===" "||UL[r.dir].includes(m.key)&&(t.onOpenChange(!0),t.content?.focus(),m.preventDefault())})})})});IT.displayName=Iu;var xT="MenuSubContent",TT=b.forwardRef((n,e)=>{const t=cT(Lr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=La(Lr,n.__scopeMenu),l=fd(Lr,n.__scopeMenu),u=ST(xT,n.__scopeMenu),h=b.useRef(null),p=Et(e,h);return E.jsx(qu.Provider,{scope:n.__scopeMenu,children:E.jsx(Wn,{present:r||i.open,children:E.jsx(qu.Slot,{scope:n.__scopeMenu,children:E.jsx(o_,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&h.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Le(n.onFocusOutside,g=>{g.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Le(n.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:Le(n.onKeyDown,g=>{const m=g.currentTarget.contains(g.target),w=zL[l.dir].includes(g.key);m&&w&&(i.onOpenChange(!1),u.trigger?.focus(),g.preventDefault())})})})})})});TT.displayName=xT;function CT(n){return n?"open":"closed"}function Uf(n){return n==="indeterminate"}function l_(n){return Uf(n)?"indeterminate":n?"checked":"unchecked"}function a4(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function l4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function c4(n,e,t){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let l=l4(n,Math.max(i,0));s.length===1&&(l=l.filter(p=>p!==t));const h=l.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return h!==t?h:void 0}function u4(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,g=u.y,m=h.x,w=h.y;g>r!=w>r&&t<(m-p)*(r-g)/(w-g)+p&&(s=!s)}return s}function d4(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return u4(t,e)}function Hu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var h4=lT,f4=n_,p4=uT,m4=dT,g4=i_,y4=hT,v4=Mp,_4=pT,w4=gT,E4=vT,b4=wT,S4=ET,I4=bT,x4=IT,T4=TT,Vp="DropdownMenu",[C4]=Hs(Vp,[iT]),Gn=iT(),[P4,PT]=C4(Vp),AT=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=n,h=Gn(e),p=b.useRef(null),[g,m]=gc({prop:s,defaultProp:i??!1,onChange:l,caller:Vp});return E.jsx(P4,{scope:e,triggerId:pa(),triggerRef:p,contentId:pa(),open:g,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(w=>!w),[m]),modal:u,children:E.jsx(h4,{...h,open:g,onOpenChange:m,dir:r,modal:u,children:t})})};AT.displayName=Vp;var RT="DropdownMenuTrigger",kT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,i=PT(RT,t),l=Gn(t);return E.jsx(f4,{asChild:!0,...l,children:E.jsx(ht.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:vp(e,i.triggerRef),onPointerDown:Le(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:Le(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});kT.displayName=RT;var A4="DropdownMenuPortal",NT=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Gn(e);return E.jsx(p4,{...r,...t})};NT.displayName=A4;var DT="DropdownMenuContent",OT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=PT(DT,t),i=Gn(t),l=b.useRef(!1);return E.jsx(m4,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Le(n.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Le(n.onInteractOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,g=h.button===2||p;(!s.modal||g)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OT.displayName=DT;var R4="DropdownMenuGroup",k4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Gn(t);return E.jsx(g4,{...s,...r,ref:e})});k4.displayName=R4;var N4="DropdownMenuLabel",MT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Gn(t);return E.jsx(y4,{...s,...r,ref:e})});MT.displayName=N4;var D4="DropdownMenuItem",VT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Gn(t);return E.jsx(v4,{...s,...r,ref:e})});VT.displayName=D4;var O4="DropdownMenuCheckboxItem",LT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Gn(t);return E.jsx(_4,{...s,...r,ref:e})});LT.displayName=O4;var M4="DropdownMenuRadioGroup",V4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Gn(t);return E.jsx(w4,{...s,...r,ref:e})});V4.displayName=M4;var L4="DropdownMenuRadioItem",FT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Gn(t);return E.jsx(E4,{...s,...r,ref:e})});FT.displayName=L4;var F4="DropdownMenuItemIndicator",jT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Gn(t);return E.jsx(b4,{...s,...r,ref:e})});jT.displayName=F4;var j4="DropdownMenuSeparator",UT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Gn(t);return E.jsx(S4,{...s,...r,ref:e})});UT.displayName=j4;var U4="DropdownMenuArrow",z4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Gn(t);return E.jsx(I4,{...s,...r,ref:e})});z4.displayName=U4;var $4="DropdownMenuSubTrigger",zT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Gn(t);return E.jsx(x4,{...s,...r,ref:e})});zT.displayName=$4;var B4="DropdownMenuSubContent",$T=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Gn(t);return E.jsx(T4,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$T.displayName=B4;var q4=AT,H4=kT,W4=NT,BT=OT,qT=MT,HT=VT,WT=LT,GT=FT,KT=jT,ZT=UT,QT=zT,YT=$T;const XT=q4,JT=H4,G4=b.forwardRef(({className:n,inset:e,children:t,...r},s)=>E.jsxs(QT,{ref:s,className:$e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,E.jsx(o2,{className:"ml-auto"})]}));G4.displayName=QT.displayName;const K4=b.forwardRef(({className:n,...e},t)=>E.jsx(YT,{ref:t,className:$e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));K4.displayName=YT.displayName;const c_=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>E.jsx(W4,{children:E.jsx(BT,{ref:r,sideOffset:e,className:$e("z-[100] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));c_.displayName=BT.displayName;const Wu=b.forwardRef(({className:n,inset:e,...t},r)=>E.jsx(HT,{ref:r,className:$e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));Wu.displayName=HT.displayName;const Z4=b.forwardRef(({className:n,children:e,checked:t,...r},s)=>E.jsxs(WT,{ref:s,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(KT,{children:E.jsx(vx,{className:"h-4 w-4"})})}),e]}));Z4.displayName=WT.displayName;const Q4=b.forwardRef(({className:n,children:e,...t},r)=>E.jsxs(GT,{ref:r,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(KT,{children:E.jsx(d2,{className:"h-2 w-2 fill-current"})})}),e]}));Q4.displayName=GT.displayName;const u_=b.forwardRef(({className:n,inset:e,...t},r)=>E.jsx(qT,{ref:r,className:$e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));u_.displayName=qT.displayName;const d_=b.forwardRef(({className:n,...e},t)=>E.jsx(ZT,{ref:t,className:$e("-mx-1 my-1 h-px bg-muted",n),...e}));d_.displayName=ZT.displayName;function eC(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Lp="Switch",[Y4]=Hs(Lp),[X4,J4]=Y4(Lp),tC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h="on",onCheckedChange:p,form:g,...m}=n,[w,I]=b.useState(null),A=Et(e,j=>I(j)),C=b.useRef(!1),R=w?g||!!w.closest("form"):!0,[N,M]=gc({prop:s,defaultProp:i??!1,onChange:p,caller:Lp});return E.jsxs(X4,{scope:t,checked:N,disabled:u,children:[E.jsx(ht.button,{type:"button",role:"switch","aria-checked":N,"aria-required":l,"data-state":oC(N),"data-disabled":u?"":void 0,disabled:u,value:h,...m,ref:A,onClick:Le(n.onClick,j=>{M(z=>!z),R&&(C.current=j.isPropagationStopped(),C.current||j.stopPropagation())})}),R&&E.jsx(sC,{control:w,bubbles:!C.current,name:r,value:h,checked:N,required:l,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});tC.displayName=Lp;var nC="SwitchThumb",rC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,s=J4(nC,t);return E.jsx(ht.span,{"data-state":oC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});rC.displayName=nC;var e5="SwitchBubbleInput",sC=b.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...s},i)=>{const l=b.useRef(null),u=Et(l,i),h=eC(t),p=Qv(e);return b.useEffect(()=>{const g=l.current;if(!g)return;const m=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==t&&I){const A=new Event("click",{bubbles:r});I.call(g,t),g.dispatchEvent(A)}},[h,t,r]),E.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:u,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});sC.displayName=e5;function oC(n){return n?"checked":"unchecked"}var iC=tC,t5=rC;const aC=b.forwardRef(({className:n,...e},t)=>E.jsx(iC,{className:$e("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:E.jsx(t5,{className:$e("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));aC.displayName=iC.displayName;const lC=b.createContext(void 0),ni="wms_auth_user",pu="wms_remember_me",cC="wms_users",n5=[{id:"0",email:"owner@wms.com",password:"owner123",name:"System Owner",role:"Owner",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"1",email:"admin@wms.com",password:"admin123",name:"Admin User",role:"Admin",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"2",email:"operator@wms.com",password:"operator123",name:"Operator User",role:"Operator",status:"Active",createdAt:"2024-01-15T00:00:00Z"}];function nr(){try{const n=localStorage.getItem(cC);if(n)return JSON.parse(n)}catch(n){console.error("Error reading users from storage:",n)}return[]}function Ps(n){localStorage.setItem(cC,JSON.stringify(n))}function r5(){nr().length===0&&Ps(n5)}function s5({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(!0);b.useEffect(()=>{r5()},[]),b.useEffect(()=>{(async()=>{try{const j=localStorage.getItem(ni),z=localStorage.getItem(pu);if(j&&z==="true"){const $=JSON.parse(j),P=nr().find(T=>T.id===$.id);P&&P.status==="Active"&&t({id:P.id,email:P.email,name:P.name,role:P.role,status:P.status,createdAt:P.createdAt,lastLogin:P.lastLogin})}else{const $=sessionStorage.getItem(ni);if($){const K=JSON.parse($),T=nr().find(D=>D.id===K.id);T&&T.status==="Active"&&t({id:T.id,email:T.email,name:T.name,role:T.role,status:T.status,createdAt:T.createdAt,lastLogin:T.lastLogin})}}}catch(j){console.error("Error checking authentication:",j)}finally{s(!1)}})()},[]);const i=async(M,j,z=!1)=>{await new Promise(V=>setTimeout(V,1e3));const $=nr(),K=$.find(V=>V.email.toLowerCase()===M.toLowerCase());if(!K)throw new Error("NO_ACCOUNT:No account found with this email address. Would you like to create one?");if(K.password!==j)throw new Error("WRONG_PASSWORD:Incorrect password. Please try again.");const P=K;if(P.status==="Pending")throw new Error("PENDING:Your account is pending approval. Please wait for an administrator to approve your account.");if(P.status==="Inactive")throw new Error("INACTIVE:Your account has been deactivated. Please contact an administrator.");const T=$.map(V=>V.id===P.id?{...V,lastLogin:new Date().toISOString()}:V);Ps(T);const D={id:P.id,email:P.email,name:P.name,role:P.role,status:P.status,createdAt:P.createdAt,lastLogin:new Date().toISOString()};t(D),z?(localStorage.setItem(ni,JSON.stringify(D)),localStorage.setItem(pu,"true")):(sessionStorage.setItem(ni,JSON.stringify(D)),localStorage.removeItem(pu))},l=async(M,j,z)=>{await new Promise(P=>setTimeout(P,1e3));const $=nr();if($.some(P=>P.email.toLowerCase()===M.toLowerCase()))throw new Error("An account with this email already exists");const K={id:`user_${Date.now()}`,email:M,password:j,name:z,role:"Operator",status:"Pending",createdAt:new Date().toISOString()};Ps([...$,K])},u=()=>{t(null),localStorage.removeItem(ni),localStorage.removeItem(pu),sessionStorage.removeItem(ni)},h=b.useCallback(()=>nr(),[]),p=b.useCallback(()=>nr().filter(M=>M.status==="Pending"),[]),g=b.useCallback(M=>{const z=nr().map($=>$.id===M?{...$,status:"Active"}:$);Ps(z)},[]),m=b.useCallback(M=>{const z=nr().filter($=>$.id!==M);Ps(z)},[]),w=b.useCallback((M,j)=>{const $=nr().map(K=>K.id===M?{...K,role:j}:K);Ps($),e&&e.id===M&&t({...e,role:j})},[e]),I=b.useCallback((M,j)=>{const $=nr().map(K=>K.id===M?{...K,status:j}:K);Ps($),e&&e.id===M&&j!=="Active"&&u()},[e]),A=b.useCallback(M=>{const z=nr().filter($=>$.id!==M);Ps(z),e&&e.id===M&&u()},[e]),C=b.useCallback(M=>{if(!e)return;const z=nr().map(P=>P.id===e.id?{...P,...M}:P);Ps(z);const $={...e,...M};t($),localStorage.getItem(pu)==="true"?localStorage.setItem(ni,JSON.stringify($)):sessionStorage.setItem(ni,JSON.stringify($))},[e]),R=b.useCallback(async(M,j)=>{if(!e)throw new Error("Not authenticated");await new Promise(P=>setTimeout(P,500));const z=nr(),$=z.find(P=>P.id===e.id);if(!$||$.password!==M)throw new Error("Current password is incorrect");const K=z.map(P=>P.id===e.id?{...P,password:j}:P);Ps(K)},[e]),N={user:e,isAuthenticated:!!e,isLoading:r,login:i,logout:u,register:l,getAllUsers:h,getPendingUsers:p,approveUser:g,rejectUser:m,updateUserRole:w,updateUserStatus:I,deleteUser:A,updateProfile:C,changePassword:R};return E.jsx(lC.Provider,{value:N,children:n})}function pd(){const n=b.useContext(lC);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}var o5=(n,e,t,r,s,i,l,u)=>{let h=document.documentElement,p=["light","dark"];function g(I){(Array.isArray(n)?n:[n]).forEach(A=>{let C=A==="class",R=C&&i?s.map(N=>i[N]||N):s;C?(h.classList.remove(...R),h.classList.add(i&&i[I]?i[I]:I)):h.setAttribute(A,I)}),m(I)}function m(I){u&&p.includes(I)&&(h.style.colorScheme=I)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let I=localStorage.getItem(e)||t,A=l&&I==="system"?w():I;g(A)}catch{}},Ob=["light","dark"],uC="(prefers-color-scheme: dark)",i5=typeof window>"u",h_=b.createContext(void 0),a5={setTheme:n=>{},themes:[]},dC=()=>{var n;return(n=b.useContext(h_))!=null?n:a5},l5=n=>b.useContext(h_)?b.createElement(b.Fragment,null,n.children):b.createElement(u5,{...n}),c5=["light","dark"],u5=({forcedTheme:n,disableTransitionOnChange:e=!1,enableSystem:t=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=c5,defaultTheme:l=t?"system":"light",attribute:u="data-theme",value:h,children:p,nonce:g,scriptProps:m})=>{let[w,I]=b.useState(()=>h5(s,l)),[A,C]=b.useState(()=>w==="system"?iy():w),R=h?Object.values(h):i,N=b.useCallback($=>{let K=$;if(!K)return;$==="system"&&t&&(K=iy());let P=h?h[K]:K,T=e?f5(g):null,D=document.documentElement,V=F=>{F==="class"?(D.classList.remove(...R),P&&D.classList.add(P)):F.startsWith("data-")&&(P?D.setAttribute(F,P):D.removeAttribute(F))};if(Array.isArray(u)?u.forEach(V):V(u),r){let F=Ob.includes(l)?l:null,B=Ob.includes(K)?K:F;D.style.colorScheme=B}T?.()},[g]),M=b.useCallback($=>{let K=typeof $=="function"?$(w):$;I(K);try{localStorage.setItem(s,K)}catch{}},[w]),j=b.useCallback($=>{let K=iy($);C(K),w==="system"&&t&&!n&&N("system")},[w,n]);b.useEffect(()=>{let $=window.matchMedia(uC);return $.addListener(j),j($),()=>$.removeListener(j)},[j]),b.useEffect(()=>{let $=K=>{K.key===s&&(K.newValue?I(K.newValue):M(l))};return window.addEventListener("storage",$),()=>window.removeEventListener("storage",$)},[M]),b.useEffect(()=>{N(n??w)},[n,w]);let z=b.useMemo(()=>({theme:w,setTheme:M,forcedTheme:n,resolvedTheme:w==="system"?A:w,themes:t?[...i,"system"]:i,systemTheme:t?A:void 0}),[w,M,n,A,t,i]);return b.createElement(h_.Provider,{value:z},b.createElement(d5,{forcedTheme:n,storageKey:s,attribute:u,enableSystem:t,enableColorScheme:r,defaultTheme:l,value:h,themes:i,nonce:g,scriptProps:m}),p)},d5=b.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:l,themes:u,nonce:h,scriptProps:p})=>{let g=JSON.stringify([t,e,i,n,u,l,r,s]).slice(1,-1);return b.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${o5.toString()})(${g})`}})}),h5=(n,e)=>{if(i5)return;let t;try{t=localStorage.getItem(n)||void 0}catch{}return t||e},f5=n=>{let e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},iy=n=>(n||(n=window.matchMedia(uC)),n.matches?"dark":"light");function p5({currentView:n,setCurrentView:e}){const{user:t}=pd(),{state:r,toggleSidebar:s}=Dp(),{theme:i,setTheme:l}=dC(),u=r==="collapsed",[h,p]=b.useState(!0),g=[{id:"dashboard",label:"Dashboard",icon:T2},{id:"inventory",label:"Inventory",icon:Ep},{id:"orders",label:"Orders",icon:Rv},{id:"purchase-orders",label:"Purchase Orders",icon:Av},{id:"sales-orders",label:"Sales Orders",icon:z2},{id:"shipments",label:"Shipments",icon:kv},{id:"suppliers",label:"Suppliers",icon:b2},{id:"customers",label:"Customers",icon:sD},{id:"cash-bank",label:"Cash and Bank",icon:I2},{id:"payments",label:"Payments",icon:lD}],m=[{id:"users",label:"User Management",icon:Q2}],w=()=>{window.location.reload()};return E.jsxs(yL,{collapsible:"icon",children:[E.jsx(wL,{className:"h-14 border-b border-sidebar-border px-3 flex items-center",children:E.jsx(Fy,{children:E.jsxs(jy,{children:[E.jsx(Uy,{asChild:!0,children:E.jsxs("button",{onClick:w,className:"flex items-center gap-2 justify-start group-data-[collapsible=icon]:justify-center w-full cursor-pointer","aria-label":"Refresh application",children:[E.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary hover:bg-primary/90 transition-colors",children:E.jsx(uD,{className:"h-5 w-5 text-primary-foreground"})}),E.jsx("span",{className:"font-semibold text-sidebar-foreground group-data-[collapsible=icon]:hidden",children:"WMS"})]})}),E.jsx(Ff,{side:"right",children:E.jsx("p",{children:"Refresh Application"})})]})})}),E.jsxs(SL,{children:[E.jsxs(Rb,{children:[E.jsx(kb,{children:"Management"}),E.jsx(Nb,{children:E.jsx(ry,{children:g.map(I=>E.jsx(Qh,{children:E.jsxs(sy,{onClick:()=>e(I.id),isActive:n===I.id,tooltip:I.label,children:[E.jsx(I.icon,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:I.label})]})},I.id))})})]}),t?.role==="Admin"&&E.jsxs(Rb,{children:[E.jsx(kb,{children:"Administration"}),E.jsx(Nb,{children:E.jsx(ry,{children:m.map(I=>E.jsx(Qh,{children:E.jsxs(sy,{onClick:()=>e(I.id),isActive:n===I.id,tooltip:I.label,children:[E.jsx(I.icon,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:I.label})]})},I.id))})})]})]}),E.jsx(EL,{className:"border-t border-sidebar-border p-2",children:E.jsxs(ry,{children:[E.jsx(Qh,{children:E.jsxs(XT,{modal:!1,children:[E.jsx(Fy,{children:E.jsxs(jy,{children:[E.jsx(Uy,{asChild:!0,children:E.jsx(JT,{asChild:!0,children:E.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground transition-colors",children:[E.jsx(K2,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden flex-1 text-left",children:"Settings"}),E.jsx(a2,{className:"h-4 w-4 shrink-0 group-data-[collapsible=icon]:hidden"})]})})}),E.jsx(Ff,{side:"right",className:"group-data-[collapsible=icon]:block hidden",children:"Settings"})]})}),E.jsxs(c_,{side:u?"right":"top",align:"start",className:"w-56",sideOffset:8,children:[E.jsx(u_,{children:"Settings"}),E.jsx(d_,{}),E.jsxs(Wu,{onSelect:I=>I.preventDefault(),className:"flex items-center justify-between cursor-pointer",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(e2,{className:"h-4 w-4"}),E.jsx("span",{children:"Notifications"})]}),E.jsx(aC,{checked:h,onCheckedChange:p})]}),E.jsxs(Wu,{onSelect:()=>l(i==="dark"?"light":"dark"),className:"cursor-pointer",children:[i==="dark"?E.jsx(J2,{className:"mr-2 h-4 w-4"}):E.jsx(O2,{className:"mr-2 h-4 w-4"}),i==="dark"?"Light Mode":"Dark Mode"]})]})]})}),E.jsx(bL,{className:"my-1"}),E.jsx(Qh,{children:E.jsxs(sy,{onClick:s,tooltip:u?"Expand Sidebar":"Collapse Sidebar",children:[u?E.jsx(j2,{className:"h-4 w-4 shrink-0"}):E.jsx(L2,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Collapse"})]})})]})}),E.jsx(vL,{})]})}function m5(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const g5=n=>{switch(n){case"success":return _5;case"info":return E5;case"warning":return w5;case"error":return b5;default:return null}},y5=Array(12).fill(0),v5=({visible:n,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ce.createElement("div",{className:"sonner-spinner"},y5.map((t,r)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_5=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),w5=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),E5=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),b5=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),S5=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),I5=()=>{const[n,e]=ce.useState(document.hidden);return ce.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let By=1;class x5{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:By++,l=this.toasts.find(h=>h.id===i),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(h=>h.id===i?(this.publish({...h,...e,id:i,title:r}),{...h,...e,id:i,dismissible:u,title:r}):h):this.addToast({title:r,...s,dismissible:u,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,l;const u=s.then(async p=>{if(l=["resolve",p],ce.isValidElement(p))i=!1,this.create({id:r,type:"default",message:p});else if(C5(p)&&!p.ok){i=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,A=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:w,...A})}else if(p instanceof Error){i=!1;const m=typeof t.error=="function"?await t.error(p):t.error,w=typeof t.description=="function"?await t.description(p):t.description,A=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:w,...A})}else if(t.success!==void 0){i=!1;const m=typeof t.success=="function"?await t.success(p):t.success,w=typeof t.description=="function"?await t.description(p):t.description,A=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:w,...A})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){i=!1;const g=typeof t.error=="function"?await t.error(p):t.error,m=typeof t.description=="function"?await t.description(p):t.description,I=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:m,...I})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,g)=>u.then(()=>l[0]==="reject"?g(l[1]):p(l[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,t)=>{const r=t?.id||By++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const rr=new x5,T5=(n,e)=>{const t=e?.id||By++;return rr.addToast({title:n,...e,id:t}),t},C5=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",P5=T5,A5=()=>rr.toasts,R5=()=>rr.getActiveToasts(),ts=Object.assign(P5,{success:rr.success,info:rr.info,warning:rr.warning,error:rr.error,custom:rr.custom,message:rr.message,promise:rr.promise,dismiss:rr.dismiss,loading:rr.loading},{getHistory:A5,getToasts:R5});m5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Yh(n){return n.label!==void 0}const k5=3,N5="24px",D5="16px",Mb=4e3,O5=356,M5=14,V5=45,L5=200;function Cs(...n){return n.filter(Boolean).join(" ")}function F5(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const j5=n=>{var e,t,r,s,i,l,u,h,p;const{invert:g,toast:m,unstyled:w,interacting:I,setHeights:A,visibleToasts:C,heights:R,index:N,toasts:M,expanded:j,removeToast:z,defaultRichColors:$,closeButton:K,style:P,cancelButtonStyle:T,actionButtonStyle:D,className:V="",descriptionClassName:F="",duration:B,position:O,gap:Ce,expandByDefault:Be,classNames:ge,icons:Ee,closeButtonAriaLabel:W="Close toast"}=n,[ne,X]=ce.useState(null),[U,G]=ce.useState(null),[oe,ie]=ce.useState(!1),[he,xe]=ce.useState(!1),[ve,Ie]=ce.useState(!1),[Ge,Qe]=ce.useState(!1),[me,St]=ce.useState(!1),[hn,as]=ce.useState(0),[Ba,Zs]=ce.useState(0),ir=ce.useRef(m.duration||B||Mb),Po=ce.useRef(null),gt=ce.useRef(null),Vt=N===0,ar=N+1<=C,on=m.type,Sr=m.dismissible!==!1,qa=m.className||"",ls=m.descriptionClassName||"",cs=ce.useMemo(()=>R.findIndex(qe=>qe.toastId===m.id)||0,[R,m.id]),Ao=ce.useMemo(()=>{var qe;return(qe=m.closeButton)!=null?qe:K},[m.closeButton,K]),$r=ce.useMemo(()=>m.duration||B||Mb,[m.duration,B]),Ro=ce.useRef(0),Kn=ce.useRef(0),Br=ce.useRef(0),qr=ce.useRef(null),[us,ko]=O.split("-"),No=ce.useMemo(()=>R.reduce((qe,It,Ht)=>Ht>=cs?qe:qe+It.height,0),[R,cs]),Zn=I5(),Do=m.invert||g,Ir=on==="loading";Kn.current=ce.useMemo(()=>cs*Ce+No,[cs,No]),ce.useEffect(()=>{ir.current=$r},[$r]),ce.useEffect(()=>{ie(!0)},[]),ce.useEffect(()=>{const qe=gt.current;if(qe){const It=qe.getBoundingClientRect().height;return Zs(It),A(Ht=>[{toastId:m.id,height:It,position:m.position},...Ht]),()=>A(Ht=>Ht.filter(fn=>fn.toastId!==m.id))}},[A,m.id]),ce.useLayoutEffect(()=>{if(!oe)return;const qe=gt.current,It=qe.style.height;qe.style.height="auto";const Ht=qe.getBoundingClientRect().height;qe.style.height=It,Zs(Ht),A(fn=>fn.find(zt=>zt.toastId===m.id)?fn.map(zt=>zt.toastId===m.id?{...zt,height:Ht}:zt):[{toastId:m.id,height:Ht,position:m.position},...fn])},[oe,m.title,m.description,A,m.id,m.jsx,m.action,m.cancel]);const jn=ce.useCallback(()=>{xe(!0),as(Kn.current),A(qe=>qe.filter(It=>It.toastId!==m.id)),setTimeout(()=>{z(m)},L5)},[m,z,A,Kn]);ce.useEffect(()=>{if(m.promise&&on==="loading"||m.duration===1/0||m.type==="loading")return;let qe;return j||I||Zn?(()=>{if(Br.current<Ro.current){const fn=new Date().getTime()-Ro.current;ir.current=ir.current-fn}Br.current=new Date().getTime()})():(()=>{ir.current!==1/0&&(Ro.current=new Date().getTime(),qe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),jn()},ir.current))})(),()=>clearTimeout(qe)},[j,I,m,on,Zn,jn]),ce.useEffect(()=>{m.delete&&(jn(),m.onDismiss==null||m.onDismiss.call(m,m))},[jn,m.delete]);function Hr(){var qe;if(Ee?.loading){var It;return ce.createElement("div",{className:Cs(ge?.loader,m==null||(It=m.classNames)==null?void 0:It.loader,"sonner-loader"),"data-visible":on==="loading"},Ee.loading)}return ce.createElement(v5,{className:Cs(ge?.loader,m==null||(qe=m.classNames)==null?void 0:qe.loader),visible:on==="loading"})}const Wr=m.icon||Ee?.[on]||g5(on);var Pt,Oo;return ce.createElement("li",{tabIndex:0,ref:gt,className:Cs(V,qa,ge?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,ge?.default,ge?.[on],m==null||(t=m.classNames)==null?void 0:t[on]),"data-sonner-toast":"","data-rich-colors":(Pt=m.richColors)!=null?Pt:$,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":oe,"data-promise":!!m.promise,"data-swiped":me,"data-removed":he,"data-visible":ar,"data-y-position":us,"data-x-position":ko,"data-index":N,"data-front":Vt,"data-swiping":ve,"data-dismissible":Sr,"data-type":on,"data-invert":Do,"data-swipe-out":Ge,"data-swipe-direction":U,"data-expanded":!!(j||Be&&oe),"data-testid":m.testId,style:{"--index":N,"--toasts-before":N,"--z-index":M.length-N,"--offset":`${he?hn:Kn.current}px`,"--initial-height":Be?"auto":`${Ba}px`,...P,...m.style},onDragEnd:()=>{Ie(!1),X(null),qr.current=null},onPointerDown:qe=>{qe.button!==2&&(Ir||!Sr||(Po.current=new Date,as(Kn.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(Ie(!0),qr.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,It,Ht;if(Ge||!Sr)return;qr.current=null;const fn=Number(((qe=gt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Un=Number(((It=gt.current)==null?void 0:It.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),zt=new Date().getTime()-((Ht=Po.current)==null?void 0:Ht.getTime()),Yt=ne==="x"?fn:Un,lr=Math.abs(Yt)/zt;if(Math.abs(Yt)>=V5||lr>.11){as(Kn.current),m.onDismiss==null||m.onDismiss.call(m,m),G(ne==="x"?fn>0?"right":"left":Un>0?"down":"up"),jn(),Qe(!0);return}else{var Xt,Cn;(Xt=gt.current)==null||Xt.style.setProperty("--swipe-amount-x","0px"),(Cn=gt.current)==null||Cn.style.setProperty("--swipe-amount-y","0px")}St(!1),Ie(!1),X(null)},onPointerMove:qe=>{var It,Ht,fn;if(!qr.current||!Sr||((It=window.getSelection())==null?void 0:It.toString().length)>0)return;const zt=qe.clientY-qr.current.y,Yt=qe.clientX-qr.current.x;var lr;const Xt=(lr=n.swipeDirections)!=null?lr:F5(O);!ne&&(Math.abs(Yt)>1||Math.abs(zt)>1)&&X(Math.abs(Yt)>Math.abs(zt)?"x":"y");let Cn={x:0,y:0};const xr=pn=>1/(1.5+Math.abs(pn)/20);if(ne==="y"){if(Xt.includes("top")||Xt.includes("bottom"))if(Xt.includes("top")&&zt<0||Xt.includes("bottom")&&zt>0)Cn.y=zt;else{const pn=zt*xr(zt);Cn.y=Math.abs(pn)<Math.abs(zt)?pn:zt}}else if(ne==="x"&&(Xt.includes("left")||Xt.includes("right")))if(Xt.includes("left")&&Yt<0||Xt.includes("right")&&Yt>0)Cn.x=Yt;else{const pn=Yt*xr(Yt);Cn.x=Math.abs(pn)<Math.abs(Yt)?pn:Yt}(Math.abs(Cn.x)>0||Math.abs(Cn.y)>0)&&St(!0),(Ht=gt.current)==null||Ht.style.setProperty("--swipe-amount-x",`${Cn.x}px`),(fn=gt.current)==null||fn.style.setProperty("--swipe-amount-y",`${Cn.y}px`)}},Ao&&!m.jsx&&on!=="loading"?ce.createElement("button",{"aria-label":W,"data-disabled":Ir,"data-close-button":!0,onClick:Ir||!Sr?()=>{}:()=>{jn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Cs(ge?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Oo=Ee?.close)!=null?Oo:S5):null,(on||m.icon||m.promise)&&m.icon!==null&&(Ee?.[on]!==null||m.icon)?ce.createElement("div",{"data-icon":"",className:Cs(ge?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Hr():null,m.type!=="loading"?Wr:null):null,ce.createElement("div",{"data-content":"",className:Cs(ge?.content,m==null||(i=m.classNames)==null?void 0:i.content)},ce.createElement("div",{"data-title":"",className:Cs(ge?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ce.createElement("div",{"data-description":"",className:Cs(F,ls,ge?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),ce.isValidElement(m.cancel)?m.cancel:m.cancel&&Yh(m.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:qe=>{Yh(m.cancel)&&Sr&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,qe),jn())},className:Cs(ge?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,ce.isValidElement(m.action)?m.action:m.action&&Yh(m.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:qe=>{Yh(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,qe),!qe.defaultPrevented&&jn())},className:Cs(ge?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function Vb(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function U5(n,e){const t={};return[n,e].forEach((r,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",u=i?D5:N5;function h(p){["top","right","bottom","left"].forEach(g=>{t[`${l}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=u:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(u)}),t}const z5=ce.forwardRef(function(e,t){const{id:r,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:h,className:p,offset:g,mobileOffset:m,theme:w="light",richColors:I,duration:A,style:C,visibleToasts:R=k5,toastOptions:N,dir:M=Vb(),gap:j=M5,icons:z,containerAriaLabel:$="Notifications"}=e,[K,P]=ce.useState([]),T=ce.useMemo(()=>r?K.filter(oe=>oe.toasterId===r):K.filter(oe=>!oe.toasterId),[K,r]),D=ce.useMemo(()=>Array.from(new Set([i].concat(T.filter(oe=>oe.position).map(oe=>oe.position)))),[T,i]),[V,F]=ce.useState([]),[B,O]=ce.useState(!1),[Ce,Be]=ce.useState(!1),[ge,Ee]=ce.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=ce.useRef(null),ne=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=ce.useRef(null),U=ce.useRef(!1),G=ce.useCallback(oe=>{P(ie=>{var he;return(he=ie.find(xe=>xe.id===oe.id))!=null&&he.delete||rr.dismiss(oe.id),ie.filter(({id:xe})=>xe!==oe.id)})},[]);return ce.useEffect(()=>rr.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{P(ie=>ie.map(he=>he.id===oe.id?{...he,delete:!0}:he))});return}setTimeout(()=>{Rx.flushSync(()=>{P(ie=>{const he=ie.findIndex(xe=>xe.id===oe.id);return he!==-1?[...ie.slice(0,he),{...ie[he],...oe},...ie.slice(he+1)]:[oe,...ie]})})})}),[K]),ce.useEffect(()=>{if(w!=="system"){Ee(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ee("dark"):Ee("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:ie})=>{Ee(ie?"dark":"light")})}catch{oe.addListener(({matches:he})=>{try{Ee(he?"dark":"light")}catch(xe){console.error(xe)}})}},[w]),ce.useEffect(()=>{K.length<=1&&O(!1)},[K]),ce.useEffect(()=>{const oe=ie=>{var he;if(l.every(Ie=>ie[Ie]||ie.code===Ie)){var ve;O(!0),(ve=W.current)==null||ve.focus()}ie.code==="Escape"&&(document.activeElement===W.current||(he=W.current)!=null&&he.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[l]),ce.useEffect(()=>{if(W.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,U.current=!1)}},[W.current]),ce.createElement("section",{ref:t,"aria-label":`${$} ${ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((oe,ie)=>{var he;const[xe,ve]=oe.split("-");return T.length?ce.createElement("ol",{key:oe,dir:M==="auto"?Vb():M,tabIndex:-1,ref:W,className:p,"data-sonner-toaster":!0,"data-sonner-theme":ge,"data-y-position":xe,"data-x-position":ve,style:{"--front-toast-height":`${((he=V[0])==null?void 0:he.height)||0}px`,"--width":`${O5}px`,"--gap":`${j}px`,...C,...U5(g,m)},onBlur:Ie=>{U.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(U.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||U.current||(U.current=!0,X.current=Ie.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{Ce||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||Be(!0)},onPointerUp:()=>Be(!1)},T.filter(Ie=>!Ie.position&&ie===0||Ie.position===oe).map((Ie,Ge)=>{var Qe,me;return ce.createElement(j5,{key:Ie.id,icons:z,index:Ge,toast:Ie,defaultRichColors:I,duration:(Qe=N?.duration)!=null?Qe:A,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:s,visibleToasts:R,closeButton:(me=N?.closeButton)!=null?me:h,interacting:Ce,position:oe,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:G,toasts:T.filter(St=>St.position==Ie.position),heights:V.filter(St=>St.position==Ie.position),setHeights:F,expandByDefault:u,gap:j,expanded:B,swipeDirections:e.swipeDirections})})):null}))}),Lb=({...n})=>{const{theme:e="system"}=dC();return E.jsx(z5,{theme:e,className:"toaster group",position:"top-right",richColors:!0,closeButton:!0,duration:4e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",success:"group-[.toaster]:border-green-500/50 group-[.toaster]:bg-green-50 dark:group-[.toaster]:bg-green-950/30 group-[.toaster]:text-green-700 dark:group-[.toaster]:text-green-400",error:"group-[.toaster]:border-red-500/50 group-[.toaster]:bg-red-50 dark:group-[.toaster]:bg-red-950/30 group-[.toaster]:text-red-700 dark:group-[.toaster]:text-red-400",warning:"group-[.toaster]:border-yellow-500/50 group-[.toaster]:bg-yellow-50 dark:group-[.toaster]:bg-yellow-950/30 group-[.toaster]:text-yellow-700 dark:group-[.toaster]:text-yellow-400",info:"group-[.toaster]:border-blue-500/50 group-[.toaster]:bg-blue-50 dark:group-[.toaster]:bg-blue-950/30 group-[.toaster]:text-blue-700 dark:group-[.toaster]:text-blue-400"}},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function hC({className:n,...e}){return E.jsx("div",{"data-slot":"card",className:$e("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function fC({className:n,...e}){return E.jsx("div",{"data-slot":"card-header",className:$e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function pC({className:n,...e}){return E.jsx("h4",{"data-slot":"card-title",className:$e("leading-none",n),...e})}function mC({className:n,...e}){return E.jsx("p",{"data-slot":"card-description",className:$e("text-muted-foreground",n),...e})}function gC({className:n,...e}){return E.jsx("div",{"data-slot":"card-content",className:$e("px-6 [&:last-child]:pb-6",n),...e})}class Fb extends b.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t),this.props.onError?.(e,t),this.setState({errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:E.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-4",children:E.jsxs(hC,{className:"max-w-lg w-full",children:[E.jsxs(fC,{children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(tD,{className:"h-6 w-6 text-red-500"}),E.jsx(pC,{children:"Something went wrong"})]}),E.jsx(mC,{children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."})]}),E.jsxs(gC,{className:"space-y-4",children:[this.state.error&&E.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-950 p-4",children:E.jsx("p",{className:"text-sm font-mono text-red-800 dark:text-red-200",children:this.state.error.message})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs(Uu,{onClick:this.handleReset,className:"flex-1",children:[E.jsx(B2,{className:"h-4 w-4 mr-2"}),"Try Again"]}),E.jsx(Uu,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]}),!1]})]})}):this.props.children}}var $5="Label",yC=b.forwardRef((n,e)=>E.jsx(ht.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));yC.displayName=$5;var B5=yC;function mu({className:n,...e}){return E.jsx(B5,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}var Fp="Checkbox",[q5]=Hs(Fp),[H5,f_]=q5(Fp);function W5(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:h,required:p,value:g="on",internal_do_not_use_render:m}=n,[w,I]=gc({prop:t,defaultProp:s??!1,onChange:h,caller:Fp}),[A,C]=b.useState(null),[R,N]=b.useState(null),M=b.useRef(!1),j=A?!!l||!!A.closest("form"):!0,z={checked:w,disabled:i,setChecked:I,control:A,setControl:C,name:u,form:l,value:g,hasConsumerStoppedPropagationRef:M,required:p,defaultChecked:mi(s)?!1:s,isFormControl:j,bubbleInput:R,setBubbleInput:N};return E.jsx(H5,{scope:e,...z,children:G5(m)?m(z):r})}var vC="CheckboxTrigger",_C=b.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:i,value:l,disabled:u,checked:h,required:p,setControl:g,setChecked:m,hasConsumerStoppedPropagationRef:w,isFormControl:I,bubbleInput:A}=f_(vC,n),C=Et(s,g),R=b.useRef(h);return b.useEffect(()=>{const N=i?.form;if(N){const M=()=>m(R.current);return N.addEventListener("reset",M),()=>N.removeEventListener("reset",M)}},[i,m]),E.jsx(ht.button,{type:"button",role:"checkbox","aria-checked":mi(h)?"mixed":h,"aria-required":p,"data-state":xC(h),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:C,onKeyDown:Le(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Le(t,N=>{m(M=>mi(M)?!0:!M),A&&I&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})})});_C.displayName=vC;var wC=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h,onCheckedChange:p,form:g,...m}=n;return E.jsx(W5,{__scopeCheckbox:t,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:p,name:r,form:g,value:h,internal_do_not_use_render:({isFormControl:w})=>E.jsxs(E.Fragment,{children:[E.jsx(_C,{...m,ref:e,__scopeCheckbox:t}),w&&E.jsx(IC,{__scopeCheckbox:t})]})})});wC.displayName=Fp;var EC="CheckboxIndicator",bC=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,i=f_(EC,t);return E.jsx(Wn,{present:r||mi(i.checked)||i.checked===!0,children:E.jsx(ht.span,{"data-state":xC(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});bC.displayName=EC;var SC="CheckboxBubbleInput",IC=b.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:h,name:p,value:g,form:m,bubbleInput:w,setBubbleInput:I}=f_(SC,n),A=Et(t,I),C=eC(i),R=Qv(r);b.useEffect(()=>{const M=w;if(!M)return;const j=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(j,"checked").set,K=!s.current;if(C!==i&&$){const P=new Event("click",{bubbles:K});M.indeterminate=mi(i),$.call(M,mi(i)?!1:i),M.dispatchEvent(P)}},[w,C,i,s]);const N=b.useRef(mi(i)?!1:i);return E.jsx(ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??N.current,required:u,disabled:h,name:p,value:g,form:m,...e,tabIndex:-1,ref:A,style:{...e.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});IC.displayName=SC;function G5(n){return typeof n=="function"}function mi(n){return n==="indeterminate"}function xC(n){return mi(n)?"indeterminate":n?"checked":"unchecked"}function K5({className:n,...e}){return E.jsx(wC,{"data-slot":"checkbox",className:$e("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:E.jsx(bC,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:E.jsx(vx,{className:"size-3.5"})})})}function se(n,e,t){function r(u,h){var p;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(p=u._zod).traits??(p.traits=new Set),u._zod.traits.add(n),e(u,h);for(const g in l.prototype)g in u||Object.defineProperty(u,g,{value:l.prototype[g].bind(u)});u._zod.constr=l,u._zod.def=h}const s=t?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:n});function l(u){var h;const p=t?.Parent?new i:this;r(p,u),(h=p._zod).deferred??(h.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>t?.Parent&&u instanceof t.Parent?!0:u?._zod?.traits?.has(n)}),Object.defineProperty(l,"name",{value:n}),l}class ql extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class TC extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const CC={};function Sa(n){return CC}function Z5(n){const e=Object.values(n).filter(r=>typeof r=="number");return Object.entries(n).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function qy(n,e){return typeof e=="bigint"?e.toString():e}function p_(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function m_(n){return n==null}function g_(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}function Q5(n,e){const t=(n.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(s=Number.parseInt(h[1]))}const i=t>s?t:s,l=Number.parseInt(n.toFixed(i).replace(".","")),u=Number.parseInt(e.toFixed(i).replace(".",""));return l%u/10**i}const jb=Symbol("evaluating");function Ct(n,e,t){let r;Object.defineProperty(n,e,{get(){if(r!==jb)return r===void 0&&(r=jb,r=t()),r},set(s){Object.defineProperty(n,e,{value:s})},configurable:!0})}function Fa(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function ja(...n){const e={};for(const t of n){const r=Object.getOwnPropertyDescriptors(t);Object.assign(e,r)}return Object.defineProperties({},e)}function Ub(n){return JSON.stringify(n)}const PC="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function zf(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const Y5=p_(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Gu(n){if(zf(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(zf(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function AC(n){return Gu(n)?{...n}:Array.isArray(n)?[...n]:n}const X5=new Set(["string","number","symbol"]);function jp(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ai(n,e,t){const r=new n._zod.constr(e??n._zod.def);return(!e||t?.parent)&&(r._zod.parent=n),r}function Fe(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function J5(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}const eF={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function tF(n,e){const t=n._zod.def,r=ja(n._zod.def,{get shape(){const s={};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=t.shape[i])}return Fa(this,"shape",s),s},checks:[]});return Ai(n,r)}function nF(n,e){const t=n._zod.def,r=ja(n._zod.def,{get shape(){const s={...n._zod.def.shape};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return Fa(this,"shape",s),s},checks:[]});return Ai(n,r)}function rF(n,e){if(!Gu(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=ja(n._zod.def,{get shape(){const i={...n._zod.def.shape,...e};return Fa(this,"shape",i),i},checks:[]});return Ai(n,s)}function sF(n,e){if(!Gu(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const r={...n._zod.def.shape,...e};return Fa(this,"shape",r),r},checks:n._zod.def.checks};return Ai(n,t)}function oF(n,e){const t=ja(n._zod.def,{get shape(){const r={...n._zod.def.shape,...e._zod.def.shape};return Fa(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Ai(n,t)}function iF(n,e,t){const r=ja(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=n?new n({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)i[l]=n?new n({type:"optional",innerType:s[l]}):s[l];return Fa(this,"shape",i),i},checks:[]});return Ai(e,r)}function aF(n,e,t){const r=ja(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=new n({type:"nonoptional",innerType:s[l]}))}else for(const l in s)i[l]=new n({type:"nonoptional",innerType:s[l]});return Fa(this,"shape",i),i},checks:[]});return Ai(e,r)}function Ul(n,e=0){if(n.aborted===!0)return!0;for(let t=e;t<n.issues.length;t++)if(n.issues[t]?.continue!==!0)return!0;return!1}function RC(n,e){return e.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(n),t})}function Xh(n){return typeof n=="string"?n:n?.message}function Ia(n,e,t){const r={...n,path:n.path??[]};if(!n.message){const s=Xh(n.inst?._zod.def?.error?.(n))??Xh(e?.error?.(n))??Xh(t.customError?.(n))??Xh(t.localeError?.(n))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function y_(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function Ku(...n){const[e,t,r]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:r}:{...e}}const kC=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,qy,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},NC=se("$ZodError",kC),DC=se("$ZodError",kC,{Parent:Error});function lF(n,e=t=>t.message){const t={},r=[];for(const s of n.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}function cF(n,e=t=>t.message){const t={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>r({issues:l}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)t._errors.push(e(i));else{let l=t,u=0;for(;u<i.path.length;){const h=i.path[u];u===i.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(e(i))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return r(n),t}const v_=n=>(e,t,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise)throw new ql;if(l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>Ia(h,i,Sa())));throw PC(u,s?.callee),u}return l.value},__=n=>async(e,t,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>Ia(h,i,Sa())));throw PC(u,s?.callee),u}return l.value},Up=n=>(e,t,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:t,issues:[]},s);if(i instanceof Promise)throw new ql;return i.issues.length?{success:!1,error:new(n??NC)(i.issues.map(l=>Ia(l,s,Sa())))}:{success:!0,data:i.value}},uF=Up(DC),zp=n=>async(e,t,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:t,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new n(i.issues.map(l=>Ia(l,s,Sa())))}:{success:!0,data:i.value}},dF=zp(DC),hF=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return v_(n)(e,t,s)},fF=n=>(e,t,r)=>v_(n)(e,t,r),pF=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return __(n)(e,t,s)},mF=n=>async(e,t,r)=>__(n)(e,t,r),gF=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Up(n)(e,t,s)},yF=n=>(e,t,r)=>Up(n)(e,t,r),vF=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return zp(n)(e,t,s)},_F=n=>async(e,t,r)=>zp(n)(e,t,r),wF=/^[cC][^\s-]{8,}$/,EF=/^[0-9a-z]+$/,bF=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,SF=/^[0-9a-vA-V]{20}$/,IF=/^[A-Za-z0-9]{27}$/,xF=/^[a-zA-Z0-9_-]{21}$/,TF=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,CF=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,zb=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,PF=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,AF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function RF(){return new RegExp(AF,"u")}const kF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NF=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,DF=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,OF=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,MF=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,OC=/^[A-Za-z0-9_-]*$/,VF=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,LF=/^\+(?:[0-9]){6,14}[0-9]$/,MC="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",FF=new RegExp(`^${MC}$`);function VC(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function jF(n){return new RegExp(`^${VC(n)}$`)}function UF(n){const e=VC({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${t.join("|")})`;return new RegExp(`^${MC}T(?:${r})$`)}const zF=n=>{const e=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},$F=/^-?\d+$/,BF=/^-?\d+(?:\.\d+)?/,qF=/^(?:true|false)$/i,HF=/^[^A-Z]*$/,WF=/^[^a-z]*$/,or=se("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),LC={number:"number",bigint:"bigint",object:"date"},FC=se("$ZodCheckLessThan",(n,e)=>{or.init(n,e);const t=LC[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:t,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),jC=se("$ZodCheckGreaterThan",(n,e)=>{or.init(n,e);const t=LC[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:t,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),GF=se("$ZodCheckMultipleOf",(n,e)=>{or.init(n,e),n._zod.onattach.push(t=>{var r;(r=t._zod.bag).multipleOf??(r.multipleOf=e.value)}),n._zod.check=t=>{if(typeof t.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%e.value===BigInt(0):Q5(t.value,e.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:e.value,input:t.value,inst:n,continue:!e.abort})}}),KF=se("$ZodCheckNumberFormat",(n,e)=>{or.init(n,e),e.format=e.format||"float64";const t=e.format?.includes("int"),r=t?"int":"number",[s,i]=eF[e.format];n._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=s,u.maximum=i,t&&(u.pattern=$F)}),n._zod.check=l=>{const u=l.value;if(t){if(!Number.isInteger(u)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:u,inst:n});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort});return}}u<s&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:n,continue:!e.abort}),u>i&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:n})}}),ZF=se("$ZodCheckMaxLength",(n,e)=>{var t;or.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!m_(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),n._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const l=y_(s);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),QF=se("$ZodCheckMinLength",(n,e)=>{var t;or.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!m_(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),n._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const l=y_(s);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),YF=se("$ZodCheckLengthEquals",(n,e)=>{var t;or.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!m_(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),n._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const l=y_(s),u=i>e.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:n,continue:!e.abort})}}),$p=se("$ZodCheckStringFormat",(n,e)=>{var t,r;or.init(n,e),n._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(r=n._zod).check??(r.check=()=>{})}),XF=se("$ZodCheckRegex",(n,e)=>{$p.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),JF=se("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=HF),$p.init(n,e)}),ej=se("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=WF),$p.init(n,e)}),tj=se("$ZodCheckIncludes",(n,e)=>{or.init(n,e);const t=jp(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=r,n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),n._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:n,continue:!e.abort})}}),nj=se("$ZodCheckStartsWith",(n,e)=>{or.init(n,e);const t=new RegExp(`^${jp(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:n,continue:!e.abort})}}),rj=se("$ZodCheckEndsWith",(n,e)=>{or.init(n,e);const t=new RegExp(`.*${jp(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:n,continue:!e.abort})}}),sj=se("$ZodCheckOverwrite",(n,e)=>{or.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class oj{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),s=Math.min(...r.map(l=>l.length-l.trimStart().length)),i=r.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const e=Function,t=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...t,s.join(`
`))}}const ij={major:4,minor:1,patch:12},Qt=se("$ZodType",(n,e)=>{var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=ij;const r=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&r.unshift(n);for(const s of r)for(const i of s._zod.onattach)i(n);if(r.length===0)(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const s=(l,u,h)=>{let p=Ul(l),g;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(p)continue;const w=l.issues.length,I=m._zod.check(l);if(I instanceof Promise&&h?.async===!1)throw new ql;if(g||I instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await I,l.issues.length!==w&&(p||(p=Ul(l,w)))});else{if(l.issues.length===w)continue;p||(p=Ul(l,w))}}return g?g.then(()=>l):l},i=(l,u,h)=>{if(Ul(l))return l.aborted=!0,l;const p=s(u,r,h);if(p instanceof Promise){if(h.async===!1)throw new ql;return p.then(g=>n._zod.parse(g,h))}return n._zod.parse(p,h)};n._zod.run=(l,u)=>{if(u.skipChecks)return n._zod.parse(l,u);if(u.direction==="backward"){const p=n._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return p instanceof Promise?p.then(g=>i(g,l,u)):i(p,l,u)}const h=n._zod.parse(l,u);if(h instanceof Promise){if(u.async===!1)throw new ql;return h.then(p=>s(p,r,u))}return s(h,r,u)}}n["~standard"]={validate:s=>{try{const i=uF(n,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return dF(n,s).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),w_=se("$ZodString",(n,e)=>{Qt.init(n,e),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??zF(n._zod.bag),n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:n}),t}}),Mt=se("$ZodStringFormat",(n,e)=>{$p.init(n,e),w_.init(n,e)}),aj=se("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=CF),Mt.init(n,e)}),lj=se("$ZodUUID",(n,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=zb(r))}else e.pattern??(e.pattern=zb());Mt.init(n,e)}),cj=se("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=PF),Mt.init(n,e)}),uj=se("$ZodURL",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{try{const r=t.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:VF.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=s.href:t.value=r;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),dj=se("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=RF()),Mt.init(n,e)}),hj=se("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=xF),Mt.init(n,e)}),fj=se("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=wF),Mt.init(n,e)}),pj=se("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=EF),Mt.init(n,e)}),mj=se("$ZodULID",(n,e)=>{e.pattern??(e.pattern=bF),Mt.init(n,e)}),gj=se("$ZodXID",(n,e)=>{e.pattern??(e.pattern=SF),Mt.init(n,e)}),yj=se("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=IF),Mt.init(n,e)}),vj=se("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=UF(e)),Mt.init(n,e)}),_j=se("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=FF),Mt.init(n,e)}),wj=se("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=jF(e)),Mt.init(n,e)}),Ej=se("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=TF),Mt.init(n,e)}),bj=se("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=kF),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv4"})}),Sj=se("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=NF),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),Ij=se("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=DF),Mt.init(n,e)}),xj=se("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=OF),Mt.init(n,e),n._zod.check=t=>{const r=t.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const l=Number(i);if(`${l}`!==i)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${s}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function UC(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const Tj=se("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=MF),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{UC(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function Cj(n){if(!OC.test(n))return!1;const e=n.replace(/[-_]/g,r=>r==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return UC(t)}const Pj=se("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=OC),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{Cj(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),Aj=se("$ZodE164",(n,e)=>{e.pattern??(e.pattern=LF),Mt.init(n,e)});function Rj(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[r]=t;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const kj=se("$ZodJWT",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{Rj(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),zC=se("$ZodNumber",(n,e)=>{Qt.init(n,e),n._zod.pattern=n._zod.bag.pattern??BF,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=Number(t.value)}catch{}const s=t.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return t;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:s,inst:n,...i?{received:i}:{}}),t}}),Nj=se("$ZodNumber",(n,e)=>{KF.init(n,e),zC.init(n,e)}),Dj=se("$ZodBoolean",(n,e)=>{Qt.init(n,e),n._zod.pattern=qF,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=!!t.value}catch{}const s=t.value;return typeof s=="boolean"||t.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:n}),t}}),Oj=se("$ZodUnknown",(n,e)=>{Qt.init(n,e),n._zod.parse=t=>t}),Mj=se("$ZodNever",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)});function $b(n,e,t){n.issues.length&&e.issues.push(...RC(t,n.issues)),e.value[t]=n.value}const Vj=se("$ZodArray",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value;if(!Array.isArray(s))return t.issues.push({expected:"array",code:"invalid_type",input:s,inst:n}),t;t.value=Array(s.length);const i=[];for(let l=0;l<s.length;l++){const u=s[l],h=e.element._zod.run({value:u,issues:[]},r);h instanceof Promise?i.push(h.then(p=>$b(p,t,l))):$b(h,t,l)}return i.length?Promise.all(i).then(()=>t):t}});function $f(n,e,t,r){n.issues.length&&e.issues.push(...RC(t,n.issues)),n.value===void 0?t in r&&(e.value[t]=void 0):e.value[t]=n.value}function $C(n){const e=Object.keys(n.shape);for(const r of e)if(!n.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const t=J5(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function BC(n,e,t,r,s,i){const l=[],u=s.keySet,h=s.catchall._zod,p=h.def.type;for(const g of Object.keys(e)){if(u.has(g))continue;if(p==="never"){l.push(g);continue}const m=h.run({value:e[g],issues:[]},r);m instanceof Promise?n.push(m.then(w=>$f(w,t,g,e))):$f(m,t,g,e)}return l.length&&t.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:i}),n.length?Promise.all(n).then(()=>t):t}const Lj=se("$ZodObject",(n,e)=>{if(Qt.init(n,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const u=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...u};return Object.defineProperty(e,"shape",{value:h}),h}})}const r=p_(()=>$C(e));Ct(n._zod,"propValues",()=>{const u=e.shape,h={};for(const p in u){const g=u[p]._zod;if(g.values){h[p]??(h[p]=new Set);for(const m of g.values)h[p].add(m)}}return h});const s=zf,i=e.catchall;let l;n._zod.parse=(u,h)=>{l??(l=r.value);const p=u.value;if(!s(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:n}),u;u.value={};const g=[],m=l.shape;for(const w of l.keys){const A=m[w]._zod.run({value:p[w],issues:[]},h);A instanceof Promise?g.push(A.then(C=>$f(C,u,w,p))):$f(A,u,w,p)}return i?BC(g,p,u,h,r.value,n):g.length?Promise.all(g).then(()=>u):u}}),Fj=se("$ZodObjectJIT",(n,e)=>{Lj.init(n,e);const t=n._zod.parse,r=p_(()=>$C(e)),s=w=>{const I=new oj(["shape","payload","ctx"]),A=r.value,C=j=>{const z=Ub(j);return`shape[${z}]._zod.run({ value: input[${z}], issues: [] }, ctx)`};I.write("const input = payload.value;");const R=Object.create(null);let N=0;for(const j of A.keys)R[j]=`key_${N++}`;I.write("const newResult = {};");for(const j of A.keys){const z=R[j],$=Ub(j);I.write(`const ${z} = ${C(j)};`),I.write(`
        if (${z}.issues.length) {
          payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        
        if (${z}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${z}.value;
        }
        
      `)}I.write("payload.value = newResult;"),I.write("return payload;");const M=I.compile();return(j,z)=>M(w,j,z)};let i;const l=zf,u=!CC.jitless,p=u&&Y5.value,g=e.catchall;let m;n._zod.parse=(w,I)=>{m??(m=r.value);const A=w.value;return l(A)?u&&p&&I?.async===!1&&I.jitless!==!0?(i||(i=s(e.shape)),w=i(w,I),g?BC([],A,w,I,m,n):w):t(w,I):(w.issues.push({expected:"object",code:"invalid_type",input:A,inst:n}),w)}});function Bb(n,e,t,r){for(const i of n)if(i.issues.length===0)return e.value=i.value,e;const s=n.filter(i=>!Ul(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(i=>i.issues.map(l=>Ia(l,r,Sa())))}),e)}const jj=se("$ZodUnion",(n,e)=>{Qt.init(n,e),Ct(n._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Ct(n._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Ct(n._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Ct(n._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>g_(i.source)).join("|")})$`)}});const t=e.options.length===1,r=e.options[0]._zod.run;n._zod.parse=(s,i)=>{if(t)return r(s,i);let l=!1;const u=[];for(const h of e.options){const p=h._zod.run({value:s.value,issues:[]},i);if(p instanceof Promise)u.push(p),l=!0;else{if(p.issues.length===0)return p;u.push(p)}}return l?Promise.all(u).then(h=>Bb(h,s,n,i)):Bb(u,s,n,i)}}),Uj=se("$ZodIntersection",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value,i=e.left._zod.run({value:s,issues:[]},r),l=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([h,p])=>qb(t,h,p)):qb(t,i,l)}});function Hy(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(Gu(n)&&Gu(e)){const t=Object.keys(e),r=Object.keys(n).filter(i=>t.indexOf(i)!==-1),s={...n,...e};for(const i of r){const l=Hy(n[i],e[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};s[i]=l.data}return{valid:!0,data:s}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let r=0;r<n.length;r++){const s=n[r],i=e[r],l=Hy(s,i);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};t.push(l.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function qb(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),Ul(n))return n;const r=Hy(e.value,t.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return n.value=r.data,n}const zj=se("$ZodEnum",(n,e)=>{Qt.init(n,e);const t=Z5(e.entries),r=new Set(t);n._zod.values=r,n._zod.pattern=new RegExp(`^(${t.filter(s=>X5.has(typeof s)).map(s=>typeof s=="string"?jp(s):s.toString()).join("|")})$`),n._zod.parse=(s,i)=>{const l=s.value;return r.has(l)||s.issues.push({code:"invalid_value",values:t,input:l,inst:n}),s}}),$j=se("$ZodTransform",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new TC(n.constructor.name);const s=e.transform(t.value,t);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(t.value=l,t));if(s instanceof Promise)throw new ql;return t.value=s,t}});function Hb(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const Bj=se("$ZodOptional",(n,e)=>{Qt.init(n,e),n._zod.optin="optional",n._zod.optout="optional",Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${g_(t.source)})?$`):void 0}),n._zod.parse=(t,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>Hb(i,t.value)):Hb(s,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,r)}}),qj=se("$ZodNullable",(n,e)=>{Qt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${g_(t.source)}|null)$`):void 0}),Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,r)=>t.value===null?t:e.innerType._zod.run(t,r)}),Hj=se("$ZodDefault",(n,e)=>{Qt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);if(t.value===void 0)return t.value=e.defaultValue,t;const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>Wb(i,e)):Wb(s,e)}});function Wb(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const Wj=se("$ZodPrefault",(n,e)=>{Qt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>(r.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,r))}),Gj=se("$ZodNonOptional",(n,e)=>{Qt.init(n,e),Ct(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(r=>r!==void 0)):void 0}),n._zod.parse=(t,r)=>{const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>Gb(i,n)):Gb(s,n)}});function Gb(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const Kj=se("$ZodCatch",(n,e)=>{Qt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(l=>Ia(l,r,Sa()))},input:t.value}),t.issues=[]),t)):(t.value=s.value,s.issues.length&&(t.value=e.catchValue({...t,error:{issues:s.issues.map(i=>Ia(i,r,Sa()))},input:t.value}),t.issues=[]),t)}}),Zj=se("$ZodPipe",(n,e)=>{Qt.init(n,e),Ct(n._zod,"values",()=>e.in._zod.values),Ct(n._zod,"optin",()=>e.in._zod.optin),Ct(n._zod,"optout",()=>e.out._zod.optout),Ct(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(t,r);return i instanceof Promise?i.then(l=>Jh(l,e.in,r)):Jh(i,e.in,r)}const s=e.in._zod.run(t,r);return s instanceof Promise?s.then(i=>Jh(i,e.out,r)):Jh(s,e.out,r)}});function Jh(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const Qj=se("$ZodReadonly",(n,e)=>{Qt.init(n,e),Ct(n._zod,"propValues",()=>e.innerType._zod.propValues),Ct(n._zod,"values",()=>e.innerType._zod.values),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(Kb):Kb(s)}});function Kb(n){return n.value=Object.freeze(n.value),n}const Yj=se("$ZodCustom",(n,e)=>{or.init(n,e),Qt.init(n,e),n._zod.parse=(t,r)=>t,n._zod.check=t=>{const r=t.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>Zb(i,t,r,n));Zb(s,t,r,n)}});function Zb(n,e,t,r){if(!n){const s={code:"custom",input:t,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(Ku(s))}}class Xj{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const r=t[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Jj(){return new Xj}const ef=Jj();function e3(n,e){return new n({type:"string",...Fe(e)})}function t3(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Fe(e)})}function Qb(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(e)})}function n3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(e)})}function r3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(e)})}function s3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(e)})}function o3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(e)})}function i3(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Fe(e)})}function a3(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(e)})}function l3(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(e)})}function c3(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(e)})}function u3(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(e)})}function d3(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(e)})}function h3(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(e)})}function f3(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(e)})}function p3(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(e)})}function m3(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(e)})}function g3(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(e)})}function y3(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(e)})}function v3(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(e)})}function _3(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(e)})}function w3(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(e)})}function E3(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(e)})}function b3(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(e)})}function S3(n,e){return new n({type:"string",format:"date",check:"string_format",...Fe(e)})}function I3(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...Fe(e)})}function x3(n,e){return new n({type:"string",format:"duration",check:"string_format",...Fe(e)})}function T3(n,e){return new n({type:"number",checks:[],...Fe(e)})}function C3(n,e){return new n({type:"number",coerce:!0,checks:[],...Fe(e)})}function P3(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Fe(e)})}function A3(n,e){return new n({type:"boolean",...Fe(e)})}function R3(n){return new n({type:"unknown"})}function k3(n,e){return new n({type:"never",...Fe(e)})}function Yb(n,e){return new FC({check:"less_than",...Fe(e),value:n,inclusive:!1})}function ay(n,e){return new FC({check:"less_than",...Fe(e),value:n,inclusive:!0})}function Xb(n,e){return new jC({check:"greater_than",...Fe(e),value:n,inclusive:!1})}function ly(n,e){return new jC({check:"greater_than",...Fe(e),value:n,inclusive:!0})}function Jb(n,e){return new GF({check:"multiple_of",...Fe(e),value:n})}function qC(n,e){return new ZF({check:"max_length",...Fe(e),maximum:n})}function Bf(n,e){return new QF({check:"min_length",...Fe(e),minimum:n})}function HC(n,e){return new YF({check:"length_equals",...Fe(e),length:n})}function N3(n,e){return new XF({check:"string_format",format:"regex",...Fe(e),pattern:n})}function D3(n){return new JF({check:"string_format",format:"lowercase",...Fe(n)})}function O3(n){return new ej({check:"string_format",format:"uppercase",...Fe(n)})}function M3(n,e){return new tj({check:"string_format",format:"includes",...Fe(e),includes:n})}function V3(n,e){return new nj({check:"string_format",format:"starts_with",...Fe(e),prefix:n})}function L3(n,e){return new rj({check:"string_format",format:"ends_with",...Fe(e),suffix:n})}function md(n){return new sj({check:"overwrite",tx:n})}function F3(n){return md(e=>e.normalize(n))}function j3(){return md(n=>n.trim())}function U3(){return md(n=>n.toLowerCase())}function z3(){return md(n=>n.toUpperCase())}function $3(n,e,t){return new n({type:"array",element:e,...Fe(t)})}function B3(n,e,t){return new n({type:"custom",check:"custom",fn:e,...Fe(t)})}function q3(n){const e=H3(t=>(t.addIssue=r=>{if(typeof r=="string")t.issues.push(Ku(r,t.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=t.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),t.issues.push(Ku(s))}},n(t.value,t)));return e}function H3(n,e){const t=new or({check:"custom",...Fe(e)});return t._zod.check=n,t}const W3=se("ZodISODateTime",(n,e)=>{vj.init(n,e),Ut.init(n,e)});function G3(n){return b3(W3,n)}const K3=se("ZodISODate",(n,e)=>{_j.init(n,e),Ut.init(n,e)});function Z3(n){return S3(K3,n)}const Q3=se("ZodISOTime",(n,e)=>{wj.init(n,e),Ut.init(n,e)});function Y3(n){return I3(Q3,n)}const X3=se("ZodISODuration",(n,e)=>{Ej.init(n,e),Ut.init(n,e)});function J3(n){return x3(X3,n)}const e9=(n,e)=>{NC.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>cF(n,t)},flatten:{value:t=>lF(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,qy,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,qy,2)}},isEmpty:{get(){return n.issues.length===0}}})},Ur=se("ZodError",e9,{Parent:Error}),t9=v_(Ur),n9=__(Ur),r9=Up(Ur),s9=zp(Ur),o9=hF(Ur),i9=fF(Ur),a9=pF(Ur),l9=mF(Ur),c9=gF(Ur),u9=yF(Ur),d9=vF(Ur),h9=_F(Ur),sn=se("ZodType",(n,e)=>(Qt.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone(ja(e,{checks:[...e.checks??[],...t.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),n.clone=(t,r)=>Ai(n,t,r),n.brand=()=>n,n.register=((t,r)=>(t.add(n,r),n)),n.parse=(t,r)=>t9(n,t,r,{callee:n.parse}),n.safeParse=(t,r)=>r9(n,t,r),n.parseAsync=async(t,r)=>n9(n,t,r,{callee:n.parseAsync}),n.safeParseAsync=async(t,r)=>s9(n,t,r),n.spa=n.safeParseAsync,n.encode=(t,r)=>o9(n,t,r),n.decode=(t,r)=>i9(n,t,r),n.encodeAsync=async(t,r)=>a9(n,t,r),n.decodeAsync=async(t,r)=>l9(n,t,r),n.safeEncode=(t,r)=>c9(n,t,r),n.safeDecode=(t,r)=>u9(n,t,r),n.safeEncodeAsync=async(t,r)=>d9(n,t,r),n.safeDecodeAsync=async(t,r)=>h9(n,t,r),n.refine=(t,r)=>n.check(r6(t,r)),n.superRefine=t=>n.check(s6(t)),n.overwrite=t=>n.check(md(t)),n.optional=()=>rS(n),n.nullable=()=>sS(n),n.nullish=()=>rS(sS(n)),n.nonoptional=t=>Q9(n,t),n.array=()=>GC(n),n.or=t=>U9([n,t]),n.and=t=>$9(n,t),n.transform=t=>oS(n,q9(t)),n.default=t=>G9(n,t),n.prefault=t=>Z9(n,t),n.catch=t=>X9(n,t),n.pipe=t=>oS(n,t),n.readonly=()=>t6(n),n.describe=t=>{const r=n.clone();return ef.add(r,{description:t}),r},Object.defineProperty(n,"description",{get(){return ef.get(n)?.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return ef.get(n);const r=n.clone();return ef.add(r,t[0]),r},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),WC=se("_ZodString",(n,e)=>{w_.init(n,e),sn.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...r)=>n.check(N3(...r)),n.includes=(...r)=>n.check(M3(...r)),n.startsWith=(...r)=>n.check(V3(...r)),n.endsWith=(...r)=>n.check(L3(...r)),n.min=(...r)=>n.check(Bf(...r)),n.max=(...r)=>n.check(qC(...r)),n.length=(...r)=>n.check(HC(...r)),n.nonempty=(...r)=>n.check(Bf(1,...r)),n.lowercase=r=>n.check(D3(r)),n.uppercase=r=>n.check(O3(r)),n.trim=()=>n.check(j3()),n.normalize=(...r)=>n.check(F3(...r)),n.toLowerCase=()=>n.check(U3()),n.toUpperCase=()=>n.check(z3())}),f9=se("ZodString",(n,e)=>{w_.init(n,e),WC.init(n,e),n.email=t=>n.check(t3(p9,t)),n.url=t=>n.check(i3(m9,t)),n.jwt=t=>n.check(E3(R9,t)),n.emoji=t=>n.check(a3(g9,t)),n.guid=t=>n.check(Qb(eS,t)),n.uuid=t=>n.check(n3(tf,t)),n.uuidv4=t=>n.check(r3(tf,t)),n.uuidv6=t=>n.check(s3(tf,t)),n.uuidv7=t=>n.check(o3(tf,t)),n.nanoid=t=>n.check(l3(y9,t)),n.guid=t=>n.check(Qb(eS,t)),n.cuid=t=>n.check(c3(v9,t)),n.cuid2=t=>n.check(u3(_9,t)),n.ulid=t=>n.check(d3(w9,t)),n.base64=t=>n.check(v3(C9,t)),n.base64url=t=>n.check(_3(P9,t)),n.xid=t=>n.check(h3(E9,t)),n.ksuid=t=>n.check(f3(b9,t)),n.ipv4=t=>n.check(p3(S9,t)),n.ipv6=t=>n.check(m3(I9,t)),n.cidrv4=t=>n.check(g3(x9,t)),n.cidrv6=t=>n.check(y3(T9,t)),n.e164=t=>n.check(w3(A9,t)),n.datetime=t=>n.check(G3(t)),n.date=t=>n.check(Z3(t)),n.time=t=>n.check(Y3(t)),n.duration=t=>n.check(J3(t))});function at(n){return e3(f9,n)}const Ut=se("ZodStringFormat",(n,e)=>{Mt.init(n,e),WC.init(n,e)}),p9=se("ZodEmail",(n,e)=>{cj.init(n,e),Ut.init(n,e)}),eS=se("ZodGUID",(n,e)=>{aj.init(n,e),Ut.init(n,e)}),tf=se("ZodUUID",(n,e)=>{lj.init(n,e),Ut.init(n,e)}),m9=se("ZodURL",(n,e)=>{uj.init(n,e),Ut.init(n,e)}),g9=se("ZodEmoji",(n,e)=>{dj.init(n,e),Ut.init(n,e)}),y9=se("ZodNanoID",(n,e)=>{hj.init(n,e),Ut.init(n,e)}),v9=se("ZodCUID",(n,e)=>{fj.init(n,e),Ut.init(n,e)}),_9=se("ZodCUID2",(n,e)=>{pj.init(n,e),Ut.init(n,e)}),w9=se("ZodULID",(n,e)=>{mj.init(n,e),Ut.init(n,e)}),E9=se("ZodXID",(n,e)=>{gj.init(n,e),Ut.init(n,e)}),b9=se("ZodKSUID",(n,e)=>{yj.init(n,e),Ut.init(n,e)}),S9=se("ZodIPv4",(n,e)=>{bj.init(n,e),Ut.init(n,e)}),I9=se("ZodIPv6",(n,e)=>{Sj.init(n,e),Ut.init(n,e)}),x9=se("ZodCIDRv4",(n,e)=>{Ij.init(n,e),Ut.init(n,e)}),T9=se("ZodCIDRv6",(n,e)=>{xj.init(n,e),Ut.init(n,e)}),C9=se("ZodBase64",(n,e)=>{Tj.init(n,e),Ut.init(n,e)}),P9=se("ZodBase64URL",(n,e)=>{Pj.init(n,e),Ut.init(n,e)}),A9=se("ZodE164",(n,e)=>{Aj.init(n,e),Ut.init(n,e)}),R9=se("ZodJWT",(n,e)=>{kj.init(n,e),Ut.init(n,e)}),E_=se("ZodNumber",(n,e)=>{zC.init(n,e),sn.init(n,e),n.gt=(r,s)=>n.check(Xb(r,s)),n.gte=(r,s)=>n.check(ly(r,s)),n.min=(r,s)=>n.check(ly(r,s)),n.lt=(r,s)=>n.check(Yb(r,s)),n.lte=(r,s)=>n.check(ay(r,s)),n.max=(r,s)=>n.check(ay(r,s)),n.int=r=>n.check(tS(r)),n.safe=r=>n.check(tS(r)),n.positive=r=>n.check(Xb(0,r)),n.nonnegative=r=>n.check(ly(0,r)),n.negative=r=>n.check(Yb(0,r)),n.nonpositive=r=>n.check(ay(0,r)),n.multipleOf=(r,s)=>n.check(Jb(r,s)),n.step=(r,s)=>n.check(Jb(r,s)),n.finite=()=>n;const t=n._zod.bag;n.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),n.isFinite=!0,n.format=t.format??null});function cy(n){return T3(E_,n)}const k9=se("ZodNumberFormat",(n,e)=>{Nj.init(n,e),E_.init(n,e)});function tS(n){return P3(k9,n)}const N9=se("ZodBoolean",(n,e)=>{Dj.init(n,e),sn.init(n,e)});function D9(n){return A3(N9,n)}const O9=se("ZodUnknown",(n,e)=>{Oj.init(n,e),sn.init(n,e)});function nS(){return R3(O9)}const M9=se("ZodNever",(n,e)=>{Mj.init(n,e),sn.init(n,e)});function V9(n){return k3(M9,n)}const L9=se("ZodArray",(n,e)=>{Vj.init(n,e),sn.init(n,e),n.element=e.element,n.min=(t,r)=>n.check(Bf(t,r)),n.nonempty=t=>n.check(Bf(1,t)),n.max=(t,r)=>n.check(qC(t,r)),n.length=(t,r)=>n.check(HC(t,r)),n.unwrap=()=>n.element});function GC(n,e){return $3(L9,n,e)}const F9=se("ZodObject",(n,e)=>{Fj.init(n,e),sn.init(n,e),Ct(n,"shape",()=>e.shape),n.keyof=()=>b_(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:nS()}),n.loose=()=>n.clone({...n._zod.def,catchall:nS()}),n.strict=()=>n.clone({...n._zod.def,catchall:V9()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>rF(n,t),n.safeExtend=t=>sF(n,t),n.merge=t=>oF(n,t),n.pick=t=>tF(n,t),n.omit=t=>nF(n,t),n.partial=(...t)=>iF(KC,n,t[0]),n.required=(...t)=>aF(ZC,n,t[0])});function Ri(n,e){const t={type:"object",shape:n??{},...Fe(e)};return new F9(t)}const j9=se("ZodUnion",(n,e)=>{jj.init(n,e),sn.init(n,e),n.options=e.options});function U9(n,e){return new j9({type:"union",options:n,...Fe(e)})}const z9=se("ZodIntersection",(n,e)=>{Uj.init(n,e),sn.init(n,e)});function $9(n,e){return new z9({type:"intersection",left:n,right:e})}const Wy=se("ZodEnum",(n,e)=>{zj.init(n,e),sn.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(r,s)=>{const i={};for(const l of r)if(t.has(l))i[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Wy({...e,checks:[],...Fe(s),entries:i})},n.exclude=(r,s)=>{const i={...e.entries};for(const l of r)if(t.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new Wy({...e,checks:[],...Fe(s),entries:i})}});function b_(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(r=>[r,r])):n;return new Wy({type:"enum",entries:t,...Fe(e)})}const B9=se("ZodTransform",(n,e)=>{$j.init(n,e),sn.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new TC(n.constructor.name);t.addIssue=i=>{if(typeof i=="string")t.issues.push(Ku(i,t.value,e));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=t.value),l.inst??(l.inst=n),t.issues.push(Ku(l))}};const s=e.transform(t.value,t);return s instanceof Promise?s.then(i=>(t.value=i,t)):(t.value=s,t)}});function q9(n){return new B9({type:"transform",transform:n})}const KC=se("ZodOptional",(n,e)=>{Bj.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function rS(n){return new KC({type:"optional",innerType:n})}const H9=se("ZodNullable",(n,e)=>{qj.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function sS(n){return new H9({type:"nullable",innerType:n})}const W9=se("ZodDefault",(n,e)=>{Hj.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function G9(n,e){return new W9({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():AC(e)}})}const K9=se("ZodPrefault",(n,e)=>{Wj.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Z9(n,e){return new K9({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():AC(e)}})}const ZC=se("ZodNonOptional",(n,e)=>{Gj.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Q9(n,e){return new ZC({type:"nonoptional",innerType:n,...Fe(e)})}const Y9=se("ZodCatch",(n,e)=>{Kj.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function X9(n,e){return new Y9({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const J9=se("ZodPipe",(n,e)=>{Zj.init(n,e),sn.init(n,e),n.in=e.in,n.out=e.out});function oS(n,e){return new J9({type:"pipe",in:n,out:e})}const e6=se("ZodReadonly",(n,e)=>{Qj.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function t6(n){return new e6({type:"readonly",innerType:n})}const n6=se("ZodCustom",(n,e)=>{Yj.init(n,e),sn.init(n,e)});function r6(n,e={}){return B3(n6,n,e)}function s6(n){return q3(n)}function fi(n){return C3(E_,n)}const QC=8,Gy=`Password must be at least ${QC} characters`,YC=at().min(1,"Password is required").min(QC,Gy),iS=Ri({email:at().min(1,"Email is required").email("Please enter a valid email address"),password:at().min(1,"Password is required")}),aS=Ri({name:at().min(1,"Name is required").min(2,"Name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),password:YC,confirmPassword:at().min(1,"Please confirm your password")}).refine(n=>n.password===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});Ri({currentPassword:at().min(1,"Current password is required"),newPassword:YC,confirmPassword:at().min(1,"Please confirm your new password")}).refine(n=>n.newPassword===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});const BH=Ri({name:at().min(1,"Item name is required").min(3,"Item name must be at least 3 characters").max(100,"Item name must be less than 100 characters"),category:at().min(1,"Category is required"),subcategory:at().optional(),quantity:fi().int("Quantity must be a whole number").min(0,"Quantity cannot be negative"),location:at().min(1,"Location is required").regex(/^[A-Z]-\d+$/,"Location must be in format A-12 (Letter-Number)"),brand:at().min(1,"Brand is required").min(2,"Brand must be at least 2 characters").max(100,"Brand must be less than 100 characters"),pricePerPiece:fi().positive("Price per piece must be a positive number").max(1e6,"Price per piece seems too high"),supplierId:at().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Supplier ID must be in format SUP-001"),quantityPurchased:fi().int("Quantity purchased must be a whole number").min(0,"Quantity purchased cannot be negative"),quantitySold:fi().int("Quantity sold must be a whole number").min(0,"Quantity sold cannot be negative"),reorderRequired:D9()});Ri({name:at().min(1,"Company name is required").min(2,"Company name must be at least 2 characters").max(100,"Company name must be less than 100 characters"),contact:at().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),phone:at().min(1,"Phone number is required"),category:at().min(1,"Category is required"),status:b_(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:at().max(100,"Country must be less than 100 characters").optional(),city:at().max(100,"City must be less than 100 characters").optional(),address:at().max(200,"Address must be less than 200 characters").optional(),purchases:fi().min(0,"Purchases cannot be negative").optional(),payments:fi().min(0,"Payments cannot be negative").optional()});Ri({name:at().min(1,"Customer name is required").min(2,"Customer name must be at least 2 characters").max(100,"Customer name must be less than 100 characters"),contact:at().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),phone:at().min(1,"Phone number is required"),category:at().min(1,"Category is required"),status:b_(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:at().max(100,"Country must be less than 100 characters").optional(),city:at().max(100,"City must be less than 100 characters").optional(),address:at().max(200,"Address must be less than 200 characters").optional(),purchases:fi().min(0,"Purchases cannot be negative").optional(),payments:fi().min(0,"Payments cannot be negative").optional()});const o6=Ri({inventoryItemId:at().min(1,"Item is required"),itemName:at().min(1,"Item name is required"),quantity:cy().int("Quantity must be a whole number").min(1,"Quantity must be at least 1"),unitPrice:cy().positive("Unit price must be positive"),totalPrice:cy().positive("Total price must be positive")});Ri({supplierId:at().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Invalid supplier ID format"),supplierName:at().min(1,"Supplier name is required"),items:GC(o6).min(1,"At least one item is required"),expectedDeliveryDate:at().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format").refine(n=>{const e=new Date(n),t=new Date;return t.setHours(0,0,0,0),e>=t},"Expected delivery date must be today or in the future"),notes:at().optional()});function i6(){const{login:n,register:e}=pd(),[t,r]=b.useState("login"),[s,i]=b.useState({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1}),[l,u]=b.useState({}),[h,p]=b.useState(!1),[g,m]=b.useState(!1),w=()=>{i({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1}),u({})},I=N=>{r(N),w()};function A(N,M){const j=t==="login"?iS:aS,z=t==="login"?{email:N==="email"?M:s.email,password:N==="password"?M:s.password}:{name:N==="name"?M:s.name,email:N==="email"?M:s.email,password:N==="password"?M:s.password,confirmPassword:N==="confirmPassword"?M:s.confirmPassword},$=j.safeParse(z);if($.success)u(K=>{const P={...K};return delete P[N],P});else{const K=$.error.errors.find(P=>P.path[0]===N);u(K?P=>({...P,[N]:K.message}):P=>{const T={...P};return delete T[N],T})}}function C(){const N=t==="login"?iS:aS,M=t==="login"?{email:s.email,password:s.password}:{name:s.name,email:s.email,password:s.password,confirmPassword:s.confirmPassword},j=N.safeParse(M);if(!j.success){const z={};return j.error.errors.forEach($=>{const K=$.path.join(".");z[K]=$.message}),u(z),Object.values(z)[0]}return u({}),null}async function R(N){N.preventDefault();const M=C();if(M){ts.error(M);return}m(!0);try{t==="login"?(await n(s.email,s.password,s.rememberMe),ts.success("Welcome back!")):(await e(s.email,s.password,s.name),ts.success("Registration successful! Your account is pending approval by an administrator."),I("login"))}catch(j){if(j instanceof Error){const z=j.message;if(z.startsWith("NO_ACCOUNT:")){const $=z.replace("NO_ACCOUNT:","");ts.error($,{action:{label:"Sign Up",onClick:()=>I("register")},duration:8e3})}else z.startsWith("WRONG_PASSWORD:")?ts.error(z.replace("WRONG_PASSWORD:","")):z.startsWith("PENDING:")?ts.warning(z.replace("PENDING:",""),{duration:6e3}):z.startsWith("INACTIVE:")?ts.error(z.replace("INACTIVE:",""),{duration:6e3}):ts.error(z)}else ts.error("An error occurred. Please try again.")}finally{m(!1)}}return E.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:E.jsxs(hC,{className:"w-full max-w-[360px] shadow-xl mx-auto",children:[E.jsxs(fC,{className:"space-y-4 text-center",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:E.jsx(Ep,{className:"h-8 w-8 text-primary"})})}),E.jsxs("div",{children:[E.jsx(pC,{className:"text-2xl font-bold",children:t==="login"?"Welcome Back":"Create Account"}),E.jsx(mC,{className:"mt-2",children:t==="login"?"Sign in to your Warehouse Management System":"Register for a new account (requires admin approval)"})]})]}),E.jsx(gC,{children:E.jsxs("form",{onSubmit:R,className:"space-y-4",children:[t==="register"&&E.jsxs("div",{className:"space-y-2",children:[E.jsx(mu,{htmlFor:"name",children:"Full Name"}),E.jsxs("div",{className:"relative",children:[E.jsx(Cy,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(Su,{id:"name",type:"text",placeholder:"John Doe",value:s.name,onChange:N=>{i({...s,name:N.target.value}),A("name",N.target.value)},className:`pl-9 ${l.name?"border-red-500":""}`,disabled:g,autoComplete:"name"})]}),l.name&&E.jsx("p",{className:"text-sm text-red-500",children:l.name})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(mu,{htmlFor:"email",children:"Email"}),E.jsxs("div",{className:"relative",children:[E.jsx(N2,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(Su,{id:"email",type:"email",placeholder:"admin@wms.com",value:s.email,onChange:N=>{i({...s,email:N.target.value}),A("email",N.target.value)},className:`pl-9 ${l.email?"border-red-500":""}`,disabled:g,autoComplete:"email"})]}),l.email&&E.jsx("p",{className:"text-sm text-red-500",children:l.email})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(mu,{htmlFor:"password",children:"Password"}),E.jsxs("div",{className:"relative",children:[E.jsx(eb,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(Su,{id:"password",type:h?"text":"password",placeholder:t==="register"?`Min ${Gy.split(" ").pop()} characters`:"Enter your password",value:s.password,onChange:N=>{i({...s,password:N.target.value}),A("password",N.target.value)},className:`pl-9 pr-9 ${l.password?"border-red-500":""}`,disabled:g,autoComplete:t==="login"?"current-password":"new-password"}),E.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:g,tabIndex:-1,children:h?E.jsx(v2,{className:"h-4 w-4"}):E.jsx(w2,{className:"h-4 w-4"})})]}),l.password?E.jsx("p",{className:"text-sm text-red-500",children:l.password}):t==="register"&&E.jsx("p",{className:"text-xs text-muted-foreground",children:Gy})]}),t==="register"&&E.jsxs("div",{className:"space-y-2",children:[E.jsx(mu,{htmlFor:"confirmPassword",children:"Confirm Password"}),E.jsxs("div",{className:"relative",children:[E.jsx(eb,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(Su,{id:"confirmPassword",type:h?"text":"password",placeholder:"Confirm your password",value:s.confirmPassword,onChange:N=>{i({...s,confirmPassword:N.target.value}),A("confirmPassword",N.target.value)},className:`pl-9 ${l.confirmPassword?"border-red-500":""}`,disabled:g,autoComplete:"new-password"})]}),l.confirmPassword&&E.jsx("p",{className:"text-sm text-red-500",children:l.confirmPassword})]}),t==="login"&&E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(K5,{id:"remember",checked:s.rememberMe,onCheckedChange:N=>i({...s,rememberMe:N}),disabled:g}),E.jsx(mu,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),E.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",disabled:g,onClick:()=>ts.info("Password reset feature coming soon!"),children:"Forgot password?"})]}),E.jsx(Uu,{type:"submit",className:"w-full",disabled:g,children:g?E.jsxs(E.Fragment,{children:[E.jsx(kf,{className:"mr-2 h-4 w-4 animate-spin"}),t==="login"?"Signing in...":"Creating account..."]}):t==="login"?"Sign In":"Create Account"}),E.jsx("div",{className:"text-center text-sm",children:t==="login"?E.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",E.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>I("register"),disabled:g,children:"Sign up"})]}):E.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",E.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>I("login"),disabled:g,children:"Sign in"})]})}),t==="login"&&E.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[E.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Demo Credentials:"}),E.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[E.jsxs("p",{children:[E.jsx("span",{className:"font-medium",children:"Owner:"})," owner@wms.com / owner123"]}),E.jsxs("p",{children:[E.jsx("span",{className:"font-medium",children:"Admin:"})," admin@wms.com / admin123"]}),E.jsxs("p",{children:[E.jsx("span",{className:"font-medium",children:"Operator:"})," operator@wms.com / operator123"]})]})]}),t==="register"&&E.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:E.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:[E.jsx("strong",{children:"Note:"})," New accounts require administrator approval before you can access the system. You will be notified once your account is approved."]})})]})})]})})}const lS="wms_error_logs",cS=100;function Ky(n,e){const t={message:n?.message??String(n),stack:n?.stack,componentStack:e?.componentStack,timestamp:Date.now()};try{const r=localStorage.getItem(lS),s=r?JSON.parse(r):[];s.unshift(t),s.length>cS&&(s.length=cS),localStorage.setItem(lS,JSON.stringify(s))}catch{}}function a6({...n}){return E.jsx(l1,{"data-slot":"dialog",...n})}function qH({...n}){return E.jsx(wM,{"data-slot":"dialog-trigger",...n})}function l6({...n}){return E.jsx(c1,{"data-slot":"dialog-portal",...n})}function c6({className:n,...e}){return E.jsx(Uv,{"data-slot":"dialog-overlay",className:$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function u6({className:n,children:e,...t}){return E.jsxs(l6,{"data-slot":"dialog-portal",children:[E.jsx(c6,{}),E.jsxs(zv,{"data-slot":"dialog-content",className:$e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,E.jsxs(u1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[E.jsx(Nv,{}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function HH({className:n,...e}){return E.jsx("div",{"data-slot":"dialog-header",className:$e("flex flex-col gap-2 text-center sm:text-left",n),...e})}function WH({className:n,...e}){return E.jsx("div",{"data-slot":"dialog-footer",className:$e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function GH({className:n,...e}){return E.jsx($v,{"data-slot":"dialog-title",className:$e("text-lg leading-none font-semibold",n),...e})}function KH({className:n,...e}){return E.jsx(Bv,{"data-slot":"dialog-description",className:$e("text-muted-foreground text-sm",n),...e})}const d6=wp("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function uS({className:n,variant:e,asChild:t=!1,...r}){const s=t?_p:"span";return E.jsx(s,{"data-slot":"badge",className:$e(d6({variant:e}),n),...r})}function h6(n,[e,t]){return Math.min(t,Math.max(e,n))}function f6(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var S_="ScrollArea",[XC]=Hs(S_),[p6,zr]=XC(S_),JC=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...l}=n,[u,h]=b.useState(null),[p,g]=b.useState(null),[m,w]=b.useState(null),[I,A]=b.useState(null),[C,R]=b.useState(null),[N,M]=b.useState(0),[j,z]=b.useState(0),[$,K]=b.useState(!1),[P,T]=b.useState(!1),D=Et(e,F=>h(F)),V=t_(s);return E.jsx(p6,{scope:t,type:r,dir:V,scrollHideDelay:i,scrollArea:u,viewport:p,onViewportChange:g,content:m,onContentChange:w,scrollbarX:I,onScrollbarXChange:A,scrollbarXEnabled:$,onScrollbarXEnabledChange:K,scrollbarY:C,onScrollbarYChange:R,scrollbarYEnabled:P,onScrollbarYEnabledChange:T,onCornerWidthChange:M,onCornerHeightChange:z,children:E.jsx(ht.div,{dir:V,...l,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":j+"px",...n.style}})})});JC.displayName=S_;var eP="ScrollAreaViewport",tP=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=n,l=zr(eP,t),u=b.useRef(null),h=Et(e,u,l.onViewportChange);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),E.jsx(ht.div,{"data-radix-scroll-area-viewport":"",...i,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:E.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});tP.displayName=eP;var Gs="ScrollAreaScrollbar",I_=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=zr(Gs,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,u=n.orientation==="horizontal";return b.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),s.type==="hover"?E.jsx(m6,{...r,ref:e,forceMount:t}):s.type==="scroll"?E.jsx(g6,{...r,ref:e,forceMount:t}):s.type==="auto"?E.jsx(nP,{...r,ref:e,forceMount:t}):s.type==="always"?E.jsx(x_,{...r,ref:e}):null});I_.displayName=Gs;var m6=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=zr(Gs,n.__scopeScrollArea),[i,l]=b.useState(!1);return b.useEffect(()=>{const u=s.scrollArea;let h=0;if(u){const p=()=>{window.clearTimeout(h),l(!0)},g=()=>{h=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),E.jsx(Wn,{present:t||i,children:E.jsx(nP,{"data-state":i?"visible":"hidden",...r,ref:e})})}),g6=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=zr(Gs,n.__scopeScrollArea),i=n.orientation==="horizontal",l=qp(()=>h("SCROLL_END"),100),[u,h]=f6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,s.scrollHideDelay,h]),b.useEffect(()=>{const p=s.viewport,g=i?"scrollLeft":"scrollTop";if(p){let m=p[g];const w=()=>{const I=p[g];m!==I&&(h("SCROLL"),l()),m=I};return p.addEventListener("scroll",w),()=>p.removeEventListener("scroll",w)}},[s.viewport,i,h,l]),E.jsx(Wn,{present:t||u!=="hidden",children:E.jsx(x_,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Le(n.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Le(n.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),nP=b.forwardRef((n,e)=>{const t=zr(Gs,n.__scopeScrollArea),{forceMount:r,...s}=n,[i,l]=b.useState(!1),u=n.orientation==="horizontal",h=qp(()=>{if(t.viewport){const p=t.viewport.offsetWidth<t.viewport.scrollWidth,g=t.viewport.offsetHeight<t.viewport.scrollHeight;l(u?p:g)}},10);return Xl(t.viewport,h),Xl(t.content,h),E.jsx(Wn,{present:r||i,children:E.jsx(x_,{"data-state":i?"visible":"hidden",...s,ref:e})})}),x_=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=zr(Gs,n.__scopeScrollArea),i=b.useRef(null),l=b.useRef(0),[u,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=aP(u.viewport,u.content),g={...r,sizes:u,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:w=>i.current=w,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:w=>l.current=w};function m(w,I){return b6(w,l.current,u,I)}return t==="horizontal"?E.jsx(y6,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollLeft,I=dS(w,u,s.dir);i.current.style.transform=`translate3d(${I}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=m(w,s.dir))}}):t==="vertical"?E.jsx(v6,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollTop,I=dS(w,u);i.current.style.transform=`translate3d(0, ${I}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=m(w))}}):null}),y6=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=zr(Gs,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=Et(e,h,i.onScrollbarXChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),E.jsx(sP,{"data-orientation":"horizontal",...s,ref:p,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bp(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.x),onDragScroll:g=>n.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(i.viewport){const w=i.viewport.scrollLeft+g.deltaX;n.onWheelScroll(w),cP(w,m)&&g.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Hf(l.paddingLeft),paddingEnd:Hf(l.paddingRight)}})}})}),v6=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=zr(Gs,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=Et(e,h,i.onScrollbarYChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),E.jsx(sP,{"data-orientation":"vertical",...s,ref:p,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bp(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.y),onDragScroll:g=>n.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(i.viewport){const w=i.viewport.scrollTop+g.deltaY;n.onWheelScroll(w),cP(w,m)&&g.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Hf(l.paddingTop),paddingEnd:Hf(l.paddingBottom)}})}})}),[_6,rP]=XC(Gs),sP=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:m,...w}=n,I=zr(Gs,t),[A,C]=b.useState(null),R=Et(e,D=>C(D)),N=b.useRef(null),M=b.useRef(""),j=I.viewport,z=r.content-r.viewport,$=Mn(g),K=Mn(h),P=qp(m,10);function T(D){if(N.current){const V=D.clientX-N.current.left,F=D.clientY-N.current.top;p({x:V,y:F})}}return b.useEffect(()=>{const D=V=>{const F=V.target;A?.contains(F)&&$(V,z)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[j,A,z,$]),b.useEffect(K,[r,K]),Xl(A,P),Xl(I.content,P),E.jsx(_6,{scope:t,scrollbar:A,hasThumb:s,onThumbChange:Mn(i),onThumbPointerUp:Mn(l),onThumbPositionChange:K,onThumbPointerDown:Mn(u),children:E.jsx(ht.div,{...w,ref:R,style:{position:"absolute",...w.style},onPointerDown:Le(n.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),N.current=A.getBoundingClientRect(),M.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I.viewport&&(I.viewport.style.scrollBehavior="auto"),T(D))}),onPointerMove:Le(n.onPointerMove,T),onPointerUp:Le(n.onPointerUp,D=>{const V=D.target;V.hasPointerCapture(D.pointerId)&&V.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=M.current,I.viewport&&(I.viewport.style.scrollBehavior=""),N.current=null})})})}),qf="ScrollAreaThumb",oP=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=rP(qf,n.__scopeScrollArea);return E.jsx(Wn,{present:t||s.hasThumb,children:E.jsx(w6,{ref:e,...r})})}),w6=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,i=zr(qf,t),l=rP(qf,t),{onThumbPositionChange:u}=l,h=Et(e,m=>l.onThumbChange(m)),p=b.useRef(void 0),g=qp(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const w=()=>{if(g(),!p.current){const I=S6(m,u);p.current=I,u()}};return u(),m.addEventListener("scroll",w),()=>m.removeEventListener("scroll",w)}},[i.viewport,g,u]),E.jsx(ht.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(n.onPointerDownCapture,m=>{const I=m.target.getBoundingClientRect(),A=m.clientX-I.left,C=m.clientY-I.top;l.onThumbPointerDown({x:A,y:C})}),onPointerUp:Le(n.onPointerUp,l.onThumbPointerUp)})});oP.displayName=qf;var T_="ScrollAreaCorner",iP=b.forwardRef((n,e)=>{const t=zr(T_,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?E.jsx(E6,{...n,ref:e}):null});iP.displayName=T_;var E6=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=zr(T_,t),[i,l]=b.useState(0),[u,h]=b.useState(0),p=!!(i&&u);return Xl(s.scrollbarX,()=>{const g=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(g),h(g)}),Xl(s.scrollbarY,()=>{const g=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(g),l(g)}),p?E.jsx(ht.div,{...r,ref:e,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Hf(n){return n?parseInt(n,10):0}function aP(n,e){const t=n/e;return isNaN(t)?0:t}function Bp(n){const e=aP(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function b6(n,e,t,r="ltr"){const s=Bp(t),i=s/2,l=e||i,u=s-l,h=t.scrollbar.paddingStart+l,p=t.scrollbar.size-t.scrollbar.paddingEnd-u,g=t.content-t.viewport,m=r==="ltr"?[0,g]:[g*-1,0];return lP([h,p],m)(n)}function dS(n,e,t="ltr"){const r=Bp(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,l=e.content-e.viewport,u=i-r,h=t==="ltr"?[0,l]:[l*-1,0],p=h6(n,h);return lP([0,l],[0,u])(p)}function lP(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function cP(n,e){return n>0&&n<e}var S6=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const i={left:n.scrollLeft,top:n.scrollTop},l=t.left!==i.left,u=t.top!==i.top;(l||u)&&e(),t=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function qp(n,e){const t=Mn(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Xl(n,e){const t=Mn(e);yo(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var uP=JC,I6=tP,x6=iP;const dP=b.forwardRef(({className:n,children:e,...t},r)=>E.jsxs(uP,{ref:r,className:$e("relative overflow-hidden",n),...t,children:[E.jsx(I6,{className:"h-full w-full rounded-[inherit]",children:e}),E.jsx(hP,{}),E.jsx(x6,{})]}));dP.displayName=uP.displayName;const hP=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>E.jsx(I_,{ref:r,orientation:e,className:$e("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:E.jsx(oP,{className:"relative flex-1 rounded-full bg-border"})}));hP.displayName=I_.displayName;const fe={INVENTORY:"wms_inventory",SUPPLIERS:"wms_suppliers",CUSTOMERS:"wms_customers",ORDERS:"wms_orders",SHIPMENTS:"wms_shipments",PURCHASE_ORDERS:"wms_purchase_orders",SALES_ORDERS:"wms_sales_orders",CASH_BANK:"wms_cash_bank",PAYMENTS:"wms_payments",CATEGORIES:"wms_categories"};function _e(n,e){try{const t=JSON.stringify(e);localStorage.setItem(n,t)}catch(t){console.error(`Failed to save to localStorage (${n}):`,t)}}function Ks(n,e){try{const t=localStorage.getItem(n);return t===null?e:JSON.parse(t)}catch(t){return console.error(`Failed to load from localStorage (${n}):`,t),e}}const T6=[{id:"INV-001",name:"Laptop Computer",category:"Electronics",quantity:145,location:"A-12",status:"In Stock",brand:"Dell",pricePerPiece:899.99,supplierId:"SUP-001",quantityPurchased:200,quantitySold:55,reorderRequired:!1,description:"15.6-inch display, Intel Core i7 processor, 16GB RAM, 512GB SSD. Perfect for business and professional use with long battery life and lightweight design."},{id:"INV-002",name:"Office Chair",category:"Furniture",quantity:23,location:"B-08",status:"Low Stock",brand:"Herman Miller",pricePerPiece:549,supplierId:"SUP-002",quantityPurchased:100,quantitySold:77,reorderRequired:!0,description:"Ergonomic office chair with adjustable lumbar support, armrests, and seat height. Breathable mesh back for all-day comfort."},{id:"INV-003",name:"Standing Desk",category:"Furniture",quantity:67,location:"B-05",status:"In Stock",brand:"Uplift",pricePerPiece:799,supplierId:"SUP-002",quantityPurchased:120,quantitySold:53,reorderRequired:!1,description:"Electric height-adjustable standing desk with memory presets. 60x30 inch bamboo top with cable management system."},{id:"INV-004",name:"Wireless Mouse",category:"Electronics",quantity:8,location:"A-15",status:"Critical",brand:"Logitech",pricePerPiece:29.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:142,reorderRequired:!0,description:"Ergonomic wireless mouse with customizable buttons and long battery life. 2.4GHz wireless connection with USB receiver."},{id:"INV-005",name:"USB-C Cable",category:"Electronics",quantity:234,location:"A-20",status:"In Stock",brand:"Anker",pricePerPiece:12.99,supplierId:"SUP-001",quantityPurchased:500,quantitySold:266,reorderRequired:!1,description:"Premium braided USB-C to USB-C cable, 6ft length. Supports fast charging up to 100W and data transfer speeds up to 480Mbps."},{id:"INV-006",name:'Monitor 27"',category:"Electronics",quantity:89,location:"A-10",status:"In Stock",brand:"LG",pricePerPiece:349.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:61,reorderRequired:!1,description:"27-inch 4K UHD IPS display with HDR10 support. USB-C connectivity with 65W power delivery. Ideal for creative professionals."},{id:"INV-007",name:"Keyboard Mechanical",category:"Electronics",quantity:156,location:"A-14",status:"In Stock",brand:"Corsair",pricePerPiece:129.99,supplierId:"SUP-001",quantityPurchased:250,quantitySold:94,reorderRequired:!1,description:"Full-size mechanical keyboard with Cherry MX Brown switches. RGB backlighting with dedicated media controls and USB passthrough."},{id:"INV-008",name:"Filing Cabinet",category:"Furniture",quantity:34,location:"B-03",status:"In Stock",brand:"Steelcase",pricePerPiece:299,supplierId:"SUP-002",quantityPurchased:60,quantitySold:26,reorderRequired:!1,description:"4-drawer vertical filing cabinet with full-extension drawers. Built-in lock for security. Holds letter and legal size documents."}],C6=[{id:"SUP-001",name:"TechSource LLC",contact:"John Smith",email:"john@techsource.com",phone:"+1 (555) 123-4567",category:"Electronics",status:"Active",country:"United States",city:"San Francisco",address:"123 Tech Blvd, Suite 100",purchases:125e3,payments:1e5,balance:25e3},{id:"SUP-002",name:"FurniCraft Industries",contact:"Sarah Johnson",email:"sarah@furnicraft.com",phone:"+1 (555) 234-5678",category:"Furniture",status:"Active",country:"United States",city:"Grand Rapids",address:"456 Furniture Ave",purchases:85e3,payments:85e3,balance:0},{id:"SUP-003",name:"Global Electronics Co",contact:"Michael Chen",email:"michael@globalelec.com",phone:"+1 (555) 345-6789",category:"Electronics",status:"Active",country:"China",city:"Shenzhen",address:"789 Electronics Park, Building A",purchases:25e4,payments:2e5,balance:5e4},{id:"SUP-004",name:"Metro Supplies Inc",contact:"Emily Davis",email:"emily@metrosupplies.com",phone:"+1 (555) 456-7890",category:"Office Supplies",status:"Inactive",country:"United States",city:"New York",address:"321 Office Tower, Floor 5",purchases:45e3,payments:45e3,balance:0},{id:"SUP-005",name:"Premium Parts Ltd",contact:"Robert Wilson",email:"robert@premiumparts.com",phone:"+1 (555) 567-8901",category:"Electronics",status:"Active",country:"United Kingdom",city:"London",address:"10 Premium Lane, Industrial Estate",purchases:175e3,payments:15e4,balance:25e3}],P6=[{id:"CUS-001",name:"Acme Corp",contact:"Alice Johnson",email:"alice@acmecorp.com",phone:"+1 (555) 111-2222",category:"Technology",status:"Active",country:"United States",city:"San Francisco",address:"100 Market St, Suite 500",purchases:45e3,payments:4e4,balance:5e3},{id:"CUS-002",name:"TechStart Inc",contact:"Bob Williams",email:"bob@techstart.io",phone:"+1 (555) 222-3333",category:"Startup",status:"Active",country:"United States",city:"Austin",address:"200 Innovation Blvd",purchases:28e3,payments:28e3,balance:0},{id:"CUS-003",name:"Global Solutions",contact:"Carol Martinez",email:"carol@globalsolutions.com",phone:"+1 (555) 333-4444",category:"Enterprise",status:"Active",country:"United Kingdom",city:"London",address:"50 Canary Wharf",purchases:12e4,payments:1e5,balance:2e4},{id:"CUS-004",name:"Beta Systems",contact:"David Lee",email:"david@betasystems.net",phone:"+1 (555) 444-5555",category:"Technology",status:"Active",country:"Canada",city:"Toronto",address:"789 Bay Street",purchases:65e3,payments:6e4,balance:5e3},{id:"CUS-005",name:"Metro Supplies",contact:"Eva Brown",email:"eva@metrosupplies.com",phone:"+1 (555) 555-6666",category:"Retail",status:"Inactive",country:"United States",city:"New York",address:"321 Fifth Avenue",purchases:15e3,payments:15e3,balance:0}],A6=[{id:"ORD-1234",customer:"Acme Corp",items:15,total:"2,450",status:"Processing",date:"2025-10-15"},{id:"ORD-1235",customer:"TechStart Inc",items:8,total:"1,200",status:"Shipped",date:"2025-10-14"},{id:"ORD-1236",customer:"Global Solutions",items:23,total:"3,890",status:"Delivered",date:"2025-10-13"},{id:"ORD-1237",customer:"Beta Systems",items:12,total:"1,750",status:"Processing",date:"2025-10-15"},{id:"ORD-1238",customer:"Metro Supplies",items:6,total:"890",status:"Pending",date:"2025-10-16"},{id:"ORD-1239",customer:"Urban Retail",items:19,total:"2,100",status:"Shipped",date:"2025-10-14"},{id:"ORD-1240",customer:"Summit Trading",items:10,total:"1,560",status:"Processing",date:"2025-10-15"}],R6=[{id:"SHIP-5678",orderId:"ORD-1234",destination:"New York, NY",carrier:"FedEx",status:"In Transit",eta:"Oct 18, 2025"},{id:"SHIP-5679",orderId:"ORD-1235",destination:"Los Angeles, CA",carrier:"UPS",status:"Delivered",eta:"Oct 14, 2025"},{id:"SHIP-5680",orderId:"ORD-1236",destination:"Chicago, IL",carrier:"DHL",status:"In Transit",eta:"Oct 19, 2025"},{id:"SHIP-5681",orderId:"ORD-1237",destination:"Houston, TX",carrier:"FedEx",status:"Processing",eta:"Oct 20, 2025"},{id:"SHIP-5682",orderId:"ORD-1238",destination:"Phoenix, AZ",carrier:"USPS",status:"Pending",eta:"Oct 21, 2025"},{id:"SHIP-5683",orderId:"ORD-1239",destination:"Philadelphia, PA",carrier:"UPS",status:"In Transit",eta:"Oct 17, 2025"}],k6=[{id:"PO-001",poDate:"2025-10-01",supplierId:"SUP-001",supplierName:"TechSource LLC",supplierCountry:"United States",supplierCity:"San Francisco",billNumber:"INV-2025-0142",items:[{inventoryItemId:"INV-001",itemName:"Laptop Computer",quantity:50,unitPrice:899.99,totalPrice:44999.5,quantityReceived:50},{inventoryItemId:"INV-007",itemName:"Keyboard Mechanical",quantity:100,unitPrice:129.99,totalPrice:12999,quantityReceived:100}],totalAmount:57998.5,totalPaid:57998.5,poBalance:0,status:"Received",shippingStatus:"Delivered",createdBy:"1",createdDate:"2025-10-01",approvedBy:"1",approvedDate:"2025-10-02",receivedDate:"2025-10-10",notes:"Q4 restock order",expectedDeliveryDate:"2025-10-10",actualCost:57998.5},{id:"PO-002",poDate:"2025-10-15",supplierId:"SUP-002",supplierName:"FurniCraft Industries",supplierCountry:"United States",supplierCity:"Grand Rapids",billNumber:"FC-INV-4521",items:[{inventoryItemId:"INV-002",itemName:"Office Chair",quantity:30,unitPrice:549,totalPrice:16470},{inventoryItemId:"INV-003",itemName:"Standing Desk",quantity:20,unitPrice:799,totalPrice:15980}],totalAmount:32450,totalPaid:16225,poBalance:16225,status:"Ordered",shippingStatus:"In Transit",createdBy:"1",createdDate:"2025-10-15",approvedBy:"1",approvedDate:"2025-10-16",receivedDate:null,notes:"Office expansion order",expectedDeliveryDate:"2025-11-01"},{id:"PO-003",poDate:"2025-10-20",supplierId:"SUP-003",supplierName:"Global Gadgets",supplierCountry:"Philippines",supplierCity:"Makati",billNumber:"",items:[{inventoryItemId:"INV-004",itemName:"Wireless Mouse",quantity:100,unitPrice:29.99,totalPrice:2999}],totalAmount:2999,totalPaid:0,poBalance:2999,status:"Pending Approval",shippingStatus:"Pending",createdBy:"2",createdDate:"2025-10-20",approvedBy:null,approvedDate:null,receivedDate:null,notes:"Urgent restock for critical stock item",expectedDeliveryDate:"2025-10-30"},{id:"PO-004",poDate:"2025-10-22",supplierId:"SUP-001",supplierName:"TechSource LLC",supplierCountry:"United States",supplierCity:"San Francisco",billNumber:"",items:[{inventoryItemId:"INV-006",itemName:'Monitor 27"',quantity:25,unitPrice:349.99,totalPrice:8749.75}],totalAmount:8749.75,totalPaid:0,poBalance:8749.75,status:"Draft",shippingStatus:"Pending",createdBy:"1",createdDate:"2025-10-22",approvedBy:null,approvedDate:null,receivedDate:null,notes:"",expectedDeliveryDate:"2025-11-15"},{id:"PO-005",poDate:"2025-11-01",supplierId:"SUP-002",supplierName:"FurniCraft Industries",supplierCountry:"United States",supplierCity:"Grand Rapids",billNumber:"FC-INV-4590",items:[{inventoryItemId:"INV-008",itemName:"Filing Cabinet",quantity:15,unitPrice:299,totalPrice:4485}],totalAmount:4485,totalPaid:4485,poBalance:0,status:"Approved",shippingStatus:"Processing",createdBy:"1",createdDate:"2025-11-01",approvedBy:"1",approvedDate:"2025-11-02",receivedDate:null,notes:"Additional filing cabinets for archive room",expectedDeliveryDate:"2025-11-20"}],N6=[{id:"SO-001",soDate:"2025-10-05",customerId:"CUS-001",customerName:"Acme Corp",customerCountry:"United States",customerCity:"San Francisco",invoiceNumber:"INV-2025-0501",items:[{inventoryItemId:"INV-001",itemName:"Laptop Computer",quantity:10,unitPrice:1299.99,totalPrice:12999.9,quantityShipped:10},{inventoryItemId:"INV-007",itemName:"Keyboard Mechanical",quantity:10,unitPrice:169.99,totalPrice:1699.9,quantityShipped:10}],totalAmount:14699.8,totalReceived:14699.8,soBalance:0,receiptStatus:"Paid",shippingStatus:"Delivered",createdBy:"1",createdDate:"2025-10-05",notes:"Corporate bulk order - priority customer",expectedDeliveryDate:"2025-10-12"},{id:"SO-002",soDate:"2025-10-18",customerId:"CUS-003",customerName:"Global Solutions",customerCountry:"United Kingdom",customerCity:"London",invoiceNumber:"INV-2025-0502",items:[{inventoryItemId:"INV-006",itemName:'Monitor 27"',quantity:20,unitPrice:449.99,totalPrice:8999.8},{inventoryItemId:"INV-003",itemName:"Standing Desk",quantity:15,unitPrice:999,totalPrice:14985}],totalAmount:23984.8,totalReceived:12e3,soBalance:11984.8,receiptStatus:"Partially Paid",shippingStatus:"In Transit",createdBy:"1",createdDate:"2025-10-18",notes:"Office expansion project - Phase 1",expectedDeliveryDate:"2025-11-01"},{id:"SO-003",soDate:"2025-10-25",customerId:"CUS-002",customerName:"TechStart Inc",customerCountry:"United States",customerCity:"Austin",invoiceNumber:"INV-2025-0503",items:[{inventoryItemId:"INV-004",itemName:"Wireless Mouse",quantity:25,unitPrice:39.99,totalPrice:999.75},{inventoryItemId:"INV-005",itemName:"USB-C Cable",quantity:50,unitPrice:19.99,totalPrice:999.5}],totalAmount:1999.25,totalReceived:0,soBalance:1999.25,receiptStatus:"Unpaid",shippingStatus:"Processing",createdBy:"2",createdDate:"2025-10-25",notes:"Startup office setup",expectedDeliveryDate:"2025-11-05"},{id:"SO-004",soDate:"2025-11-01",customerId:"CUS-004",customerName:"Beta Systems",customerCountry:"Canada",customerCity:"Toronto",invoiceNumber:"INV-2025-0504",items:[{inventoryItemId:"INV-002",itemName:"Office Chair",quantity:8,unitPrice:699,totalPrice:5592},{inventoryItemId:"INV-008",itemName:"Filing Cabinet",quantity:4,unitPrice:399,totalPrice:1596}],totalAmount:7188,totalReceived:7188,soBalance:0,receiptStatus:"Paid",shippingStatus:"Shipped",createdBy:"1",createdDate:"2025-11-01",notes:"New office furniture order",expectedDeliveryDate:"2025-11-15"},{id:"SO-005",soDate:"2025-09-15",customerId:"CUS-003",customerName:"Global Solutions",customerCountry:"United Kingdom",customerCity:"London",invoiceNumber:"INV-2025-0495",items:[{inventoryItemId:"INV-001",itemName:"Laptop Computer",quantity:5,unitPrice:1299.99,totalPrice:6499.95}],totalAmount:6499.95,totalReceived:3e3,soBalance:3499.95,receiptStatus:"Overdue",shippingStatus:"Delivered",createdBy:"1",createdDate:"2025-09-15",notes:"Payment reminder sent - overdue",expectedDeliveryDate:"2025-09-25"}];function D6(n){return n.map(e=>{if(e.quantityPurchased===void 0||e.quantitySold===void 0||e.reorderRequired===void 0){const{reorderLevel:r,maintainStockAt:s,minimumStock:i,...l}=e,u=e.quantityPurchased??Math.floor(e.quantity*1.5),h=e.quantitySold??Math.floor(u-e.quantity),p=e.reorderRequired??e.quantity<=(e.minimumStock??e.reorderLevel??20);return{...l,brand:e.brand||"Unknown",pricePerPiece:e.pricePerPiece??0,supplierId:e.supplierId||"SUP-001",quantityPurchased:u,quantitySold:h,reorderRequired:p}}return e})}function O6(n){return n.map(e=>e.total&&e.total.includes("$")?{...e,total:e.total.replace(/\$/g,"")}:e)}function M6(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalPaid??0,s=e.poDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,poDate:s,supplierCountry:e.supplierCountry??"",supplierCity:e.supplierCity??"",billNumber:e.billNumber??"",items:e.items??[],totalAmount:t,totalPaid:r,poBalance:e.poBalance??t-r,status:e.status??"Draft",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s}})}function V6(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function L6(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function F6(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalReceived??0,s=e.soDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,soDate:s,customerCountry:e.customerCountry??"",customerCity:e.customerCity??"",invoiceNumber:e.invoiceNumber??"",items:e.items??[],totalAmount:t,totalReceived:r,soBalance:e.soBalance??t-r,receiptStatus:e.receiptStatus??"Unpaid",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s,archived:e.archived??!1}})}const j6=[{name:"Electronics",subcategories:["Phones","Laptops","Tablets","Accessories","Monitors"]},{name:"Furniture",subcategories:["Desks","Chairs","Cabinets","Shelving"]},{name:"Clothing",subcategories:["Shirts","Pants","Shoes","Accessories"]},{name:"Food & Beverages",subcategories:["Beverages","Snacks","Canned Goods","Fresh Produce"]}];let fo=D6(Ks(fe.INVENTORY,T6)),Xe=V6(Ks(fe.SUPPLIERS,C6)),ot=L6(Ks(fe.CUSTOMERS,P6)),qt=O6(Ks(fe.ORDERS,A6)),Kt=Ks(fe.SHIPMENTS,R6),Ae=M6(Ks(fe.PURCHASE_ORDERS,k6)),ct=F6(Ks(fe.SALES_ORDERS,N6)),Or=Ks(fe.CATEGORIES,j6);_e(fe.ORDERS,qt);_e(fe.INVENTORY,fo);_e(fe.SUPPLIERS,Xe);_e(fe.CUSTOMERS,ot);_e(fe.PURCHASE_ORDERS,Ae);_e(fe.SALES_ORDERS,ct);_e(fe.CATEGORIES,Or);function U6(n,e){return n<=0?"Critical":e?"Low Stock":"In Stock"}function z6(){const e=Xe.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SUP-${String(e).padStart(3,"0")}`}function $6(){const e=ot.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`CUS-${String(e).padStart(3,"0")}`}function B6(){const e=Ae.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`PO-${String(e).padStart(3,"0")}`}function q6(){const e=ct.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SO-${String(e).padStart(3,"0")}`}function we(n,e=150){return new Promise(t=>setTimeout(()=>t(n),e))}async function ZH(){return we([...fo])}async function H6(){return we([...Xe])}async function QH(n){const e=n.id&&n.id.trim()!==""?n.id:z6();if(Xe.some(l=>l.id===e))throw new Error(`Supplier with id ${e} already exists`);const t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name.trim(),contact:n.contact.trim(),email:n.email.trim(),phone:n.phone.trim(),category:n.category.trim(),status:n.status??"Active",country:n.country?.trim()??"",city:n.city?.trim()??"",address:n.address?.trim()??"",purchases:t,payments:r,balance:s};return Xe=[i,...Xe],_e(fe.SUPPLIERS,Xe),we(i)}async function YH(n){const e=Xe.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Supplier not found");const t=Xe[e],r=n.purchases!==void 0?n.purchases:t.purchases,s=n.payments!==void 0?n.payments:t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return Xe[e]=l,_e(fe.SUPPLIERS,Xe),we(l)}async function XH(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!0,archivedAt:new Date().toISOString()},_e(fe.SUPPLIERS,Xe),we(Xe[e])}async function JH(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!1,archivedAt:void 0},_e(fe.SUPPLIERS,Xe),we(Xe[e])}async function eW(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");Xe.splice(e,1),_e(fe.SUPPLIERS,Xe),await we(void 0)}async function tW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!0,archivedAt:new Date().toISOString()},t++}return _e(fe.SUPPLIERS,Xe),we({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function nW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!1,archivedAt:void 0},t++}return _e(fe.SUPPLIERS,Xe),we({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function rW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe.splice(s,1),t++}return _e(fe.SUPPLIERS,Xe),we({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function sW(){return we([...ot])}async function oW(n){const e=n.id&&n.id.trim()!==""?n.id:$6(),t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name,contact:n.contact,email:n.email,phone:n.phone,category:n.category,status:n.status??"Active",country:n.country??"",city:n.city??"",address:n.address??"",purchases:t,payments:r,balance:s};return ot.push(i),_e(fe.CUSTOMERS,ot),we(i)}async function iW(n){const e=ot.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Customer not found");const t=ot[e],r=n.purchases??t.purchases,s=n.payments??t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return ot[e]=l,_e(fe.CUSTOMERS,ot),we(l)}async function aW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!0,archivedAt:new Date().toISOString()};return ot[e]=t,_e(fe.CUSTOMERS,ot),we(t)}async function lW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!1,archivedAt:void 0};return ot[e]=t,_e(fe.CUSTOMERS,ot),we(t)}async function cW(n){const e=ot.findIndex(t=>t.id===n);if(e===-1)throw new Error("Customer not found");return ot.splice(e,1),_e(fe.CUSTOMERS,ot),we(void 0)}async function uW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return _e(fe.CUSTOMERS,ot),we({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function dW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!0,archivedAt:new Date().toISOString()},t++}return _e(fe.CUSTOMERS,ot),we({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function hW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!1,archivedAt:void 0},t++}return _e(fe.CUSTOMERS,ot),we({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function fW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return _e(fe.CUSTOMERS,ot),we({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function pW(n,e){const t=[];let r=0;for(const s of n){const i=ot.findIndex(l=>l.id===s);if(i===-1){t.push(`Customer ${s} not found`);continue}ot[i]={...ot[i],status:e},r++}return _e(fe.CUSTOMERS,ot),we({successCount:r,failedCount:t.length,errors:t.length>0?t:void 0})}async function W6(){return we([...qt])}async function G6(){return we([...Kt])}async function mW(n){const e=n.id&&n.id.trim()!==""?n.id:(()=>{const s=qt.map(i=>Number(i.id.replace(/[^0-9]/g,""))||0).reduce((i,l)=>Math.max(i,l),0)+1;return`ORD-${String(s).padStart(4,"0")}`})();if(qt.some(r=>r.id===e))throw new Error(`Order with id ${e} already exists`);const t={id:e,...n};return qt=[t,...qt],_e(fe.ORDERS,qt),we(t)}async function gW(n){const e=qt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Order not found");const r={...qt[e],...n};return qt[e]=r,_e(fe.ORDERS,qt),we(r)}async function yW(n){const e=qt.findIndex(t=>t.id===n);if(e===-1)throw new Error("Order not found");qt[e],qt.splice(e,1),_e(fe.ORDERS,qt),await we(void 0)}async function vW(n){const e=n.id&&n.id.trim()!==""?n.id:(()=>{const s=Kt.map(i=>Number(i.id.replace(/[^0-9]/g,""))||0).reduce((i,l)=>Math.max(i,l),0)+1;return`SHIP-${String(s).padStart(4,"0")}`})();if(Kt.some(r=>r.id===e))throw new Error(`Shipment with id ${e} already exists`);const t={id:e,...n};return Kt=[t,...Kt],_e(fe.SHIPMENTS,Kt),we(t)}async function _W(n){const e=Kt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Shipment not found");const r={...Kt[e],...n};return Kt[e]=r,_e(fe.SHIPMENTS,Kt),we(r)}async function wW(n){const e=Kt.findIndex(t=>t.id===n);if(e===-1)throw new Error("Shipment not found");Kt[e],Kt.splice(e,1),_e(fe.SHIPMENTS,Kt),await we(void 0)}async function EW(n){const e=[];let t=0;for(const r of n){const s=qt.findIndex(i=>i.id===r);s===-1?e.push(`Order ${r} not found`):(qt.splice(s,1),t++)}return _e(fe.ORDERS,qt),we({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function bW(n,e){const t=[];let r=0;for(const s of n){const i=qt.findIndex(l=>l.id===s);i===-1?t.push(`Order ${s} not found`):(qt[i]={...qt[i],status:e},r++)}return _e(fe.ORDERS,qt),we({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function SW(n){const e=[];let t=0;for(const r of n){const s=Kt.findIndex(i=>i.id===r);s===-1?e.push(`Shipment ${r} not found`):(Kt.splice(s,1),t++)}return _e(fe.SHIPMENTS,Kt),we({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function IW(n,e){const t=[];let r=0;for(const s of n){const i=Kt.findIndex(l=>l.id===s);i===-1?t.push(`Shipment ${s} not found`):(Kt[i]={...Kt[i],status:e},r++)}return _e(fe.SHIPMENTS,Kt),we({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function xW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);s===-1?e.push(`Supplier ${r} not found`):(Xe.splice(s,1),t++)}return _e(fe.SUPPLIERS,Xe),we({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function TW(n,e){const t=[];let r=0;for(const s of n){const i=Xe.findIndex(l=>l.id===s);i===-1?t.push(`Supplier ${s} not found`):(Xe[i]={...Xe[i],status:e},r++)}return _e(fe.SUPPLIERS,Xe),we({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function K6(){return we([...Ae])}async function CW(n){const e=n.id&&n.id.trim()!==""?n.id:B6();if(Ae.some(l=>l.id===e))throw new Error(`Purchase Order with id ${e} already exists`);const t=n.items.reduce((l,u)=>l+u.totalPrice,0),r=n.totalPaid??0,s=n.poDate??new Date().toISOString().split("T")[0],i={id:e,poDate:s,supplierId:n.supplierId,supplierName:n.supplierName,supplierCountry:n.supplierCountry??"",supplierCity:n.supplierCity??"",billNumber:n.billNumber??"",items:n.items.map(l=>({...l,quantityReceived:0})),totalAmount:t,totalPaid:r,poBalance:t-r,status:"Draft",shippingStatus:"Pending",createdBy:n.createdBy,createdDate:s,approvedBy:null,approvedDate:null,receivedDate:null,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return Ae=[i,...Ae],_e(fe.PURCHASE_ORDERS,Ae),we(i)}async function PW(n){const e=Ae.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Purchase Order not found");const r={...Ae[e],...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),(n.items!==void 0||n.totalPaid!==void 0)&&(r.poBalance=r.totalAmount-r.totalPaid),Ae[e]=r,_e(fe.PURCHASE_ORDERS,Ae),we(r)}async function AW(n){const e=Ae.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ae[e];if(t.status!=="Draft")throw new Error("Only Draft purchase orders can be submitted for approval");return Ae[e]={...t,status:"Pending Approval"},_e(fe.PURCHASE_ORDERS,Ae),we(Ae[e])}async function RW(n,e){const t=Ae.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Ae[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be approved");return Ae[t]={...r,status:"Approved",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},_e(fe.PURCHASE_ORDERS,Ae),we(Ae[t])}async function kW(n,e){const t=Ae.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Ae[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be rejected");return Ae[t]={...r,status:"Rejected",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},_e(fe.PURCHASE_ORDERS,Ae),we(Ae[t])}async function NW(n){const e=Ae.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ae[e];if(t.status!=="Approved")throw new Error("Only Approved purchase orders can be marked as ordered");return Ae[e]={...t,status:"Ordered"},_e(fe.PURCHASE_ORDERS,Ae),we(Ae[e])}async function DW(n){const e=Ae.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ae[e];if(["Received","Cancelled"].includes(t.status))throw new Error("Cannot cancel received or already cancelled purchase orders");return Ae[e]={...t,status:"Cancelled"},_e(fe.PURCHASE_ORDERS,Ae),we(Ae[e])}async function OW(n,e,t){const r=Ae.findIndex(m=>m.id===n);if(r===-1)throw new Error("Purchase Order not found");const s=Ae[r];if(!["Ordered","Partially Received"].includes(s.status))throw new Error("Can only receive items for Ordered or Partially Received purchase orders");const i=[],l=s.items.map(m=>{const w=e.find(R=>R.inventoryItemId===m.inventoryItemId);if(!w)return m;const A=(m.quantityReceived??0)+w.quantityReceived;if(A>m.quantity)throw new Error(`Cannot receive more than ordered quantity for ${m.itemName}`);const C=fo.findIndex(R=>R.id===m.inventoryItemId);if(C!==-1){const R=fo[C].quantity,N=R+w.quantityReceived;fo[C]={...fo[C],quantity:N,status:U6(N,fo[C].reorderLevel,fo[C].maintainStockAt)},i.push({itemId:m.inventoryItemId,itemName:m.itemName,previousQty:R,newQty:N})}return{...m,quantityReceived:A}}),u=l.every(m=>(m.quantityReceived??0)>=m.quantity),h=l.some(m=>(m.quantityReceived??0)>0);let p=s.status,g=s.receivedDate;return u?(p="Received",g=new Date().toISOString().split("T")[0]):h&&(p="Partially Received"),Ae[r]={...s,items:l,status:p,receivedDate:g,actualCost:t??s.actualCost},_e(fe.PURCHASE_ORDERS,Ae),_e(fe.INVENTORY,fo),we({purchaseOrder:Ae[r],inventoryUpdates:i})}async function MW(n){const e=Ae.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Ae[e]={...Ae[e],archived:!0,archivedAt:new Date().toISOString()},_e(fe.PURCHASE_ORDERS,Ae),we(Ae[e])}async function VW(n){const e=Ae.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Ae[e]={...Ae[e],archived:!1,archivedAt:void 0},_e(fe.PURCHASE_ORDERS,Ae),we(Ae[e])}async function LW(n){const e=Ae.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");Ae.splice(e,1),_e(fe.PURCHASE_ORDERS,Ae),await we(void 0)}async function FW(n){const e=[];let t=0;for(const r of n){const s=Ae.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ae[s]={...Ae[s],archived:!0,archivedAt:new Date().toISOString()},t++)}return _e(fe.PURCHASE_ORDERS,Ae),we({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function jW(n){const e=[];let t=0;for(const r of n){const s=Ae.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ae[s]={...Ae[s],archived:!1,archivedAt:void 0},t++)}return _e(fe.PURCHASE_ORDERS,Ae),we({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function UW(n){const e=[];let t=0;for(const r of n){const s=Ae.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ae.splice(s,1),t++)}return _e(fe.PURCHASE_ORDERS,Ae),we({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function zW(){return we([...ct])}async function $W(n){const e=n.id&&n.id.trim()!==""?n.id:q6();if(ct.some(h=>h.id===e))throw new Error(`Sales Order with id ${e} already exists`);const t=n.items.reduce((h,p)=>h+p.totalPrice,0),r=n.totalReceived??0,s=t-r,i=n.soDate??new Date().toISOString().split("T")[0];let l=n.receiptStatus??"Unpaid";n.receiptStatus||(r>=t?l="Paid":r>0&&(l="Partially Paid"));const u={id:e,soDate:i,customerId:n.customerId,customerName:n.customerName,customerCountry:n.customerCountry??"",customerCity:n.customerCity??"",invoiceNumber:n.invoiceNumber??"",items:n.items.map(h=>({...h,quantityShipped:0})),totalAmount:t,totalReceived:r,soBalance:s,receiptStatus:l,shippingStatus:n.shippingStatus??"Pending",createdBy:n.createdBy,createdDate:i,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return ct.push(u),_e(fe.SALES_ORDERS,ct),we(u)}async function BW(n){const e=ct.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Sales Order not found");const r={...ct[e],...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),r.soBalance=r.totalAmount-r.totalReceived,ct[e]=r,_e(fe.SALES_ORDERS,ct),we(r)}async function qW(n){const e=ct.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ct.splice(e,1),_e(fe.SALES_ORDERS,ct),we(void 0)}async function HW(n){const e=ct.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ct[e]={...ct[e],archived:!0,archivedAt:new Date().toISOString()},_e(fe.SALES_ORDERS,ct),we(ct[e])}async function WW(n){const e=ct.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ct[e]={...ct[e],archived:!1,archivedAt:void 0},_e(fe.SALES_ORDERS,ct),we(ct[e])}async function GW(n){const e=[];let t=0;for(const r of n){const s=ct.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ct[s]={...ct[s],archived:!0,archivedAt:new Date().toISOString()},t++}return _e(fe.SALES_ORDERS,ct),we({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function KW(n){const e=[];let t=0;for(const r of n){const s=ct.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ct[s]={...ct[s],archived:!1,archivedAt:void 0},t++}return _e(fe.SALES_ORDERS,ct),we({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function ZW(n){const e=[];let t=0;for(const r of n){const s=ct.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}if(!ct[s].archived){e.push(`Sales Order ${r} must be archived before permanent deletion`);continue}ct.splice(s,1),t++}return _e(fe.SALES_ORDERS,ct),we({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function QW(){return we([...Or])}async function YW(n){if(Or.find(r=>r.name.toLowerCase()===n.toLowerCase()))throw new Error(`Category "${n}" already exists`);const t={name:n,subcategories:[]};return Or=[...Or,t],_e(fe.CATEGORIES,Or),we(t)}async function XW(n,e){const t=Or.findIndex(i=>i.name===n);if(t===-1)throw new Error(`Category "${n}" not found`);const r=Or[t];if(r.subcategories.some(i=>i.toLowerCase()===e.toLowerCase()))throw new Error(`Subcategory "${e}" already exists in "${n}"`);const s={...r,subcategories:[...r.subcategories,e]};return Or=[...Or.slice(0,t),s,...Or.slice(t+1)],_e(fe.CATEGORIES,Or),we(s)}const Z6=[{id:"TRX-001",trxDate:"2025-10-10",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Bank Transfer",amountReceived:14699.8,notes:"Full payment for SO-001",createdAt:"2025-10-10T10:30:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-002",invoiceNumber:"INV-2025-0502",paymentMode:"Credit Card",amountReceived:12e3,notes:"Partial payment for SO-002",createdAt:"2025-10-20T14:15:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Bank Transfer",amountReceived:7188,notes:"Full payment for furniture order",createdAt:"2025-11-05T09:00:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-005",invoiceNumber:"INV-2025-0495",paymentMode:"Check",amountReceived:3e3,notes:"Partial payment - overdue balance",createdAt:"2025-09-20T11:45:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-11-01",customerId:"CUS-002",customerName:"TechStart Inc",country:"United States",city:"Austin",soId:"SO-003",invoiceNumber:"INV-2025-0503",paymentMode:"Cash",amountReceived:500,notes:"Deposit for order",createdAt:"2025-11-01T16:30:00Z",createdBy:"2",archived:!1},{id:"TRX-006",trxDate:"2025-10-25",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Online Payment",amountReceived:2500,notes:"Additional payment for extended warranty",createdAt:"2025-10-25T13:00:00Z",createdBy:"1",archived:!1},{id:"TRX-007",trxDate:"2025-11-10",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Credit Card",amountReceived:1500,notes:"Additional items added to order",createdAt:"2025-11-10T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-10-15",customerId:"CUS-005",customerName:"Metro Supplies",country:"United States",city:"New York",soId:"SO-003",invoiceNumber:"INV-2025-0499",paymentMode:"Bank Transfer",amountReceived:850,notes:"Final payment clearing balance",createdAt:"2025-10-15T09:30:00Z",createdBy:"1",archived:!1}];let et=Ks(fe.CASH_BANK,Z6);et=et.map(n=>({...n,archived:n.archived??!1}));_e(fe.CASH_BANK,et);function Q6(){const n=et.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function JW(){return we([...et])}async function eG(n){const e=n.id||Q6(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,customerId:n.customerId,customerName:n.customerName,country:n.country||"",city:n.city||"",soId:n.soId,invoiceNumber:n.invoiceNumber||"",paymentMode:n.paymentMode,amountReceived:n.amountReceived,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return et=[...et,r],_e(fe.CASH_BANK,et),we(r)}async function tG(n){const e=et.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n.id} not found`);const t=et[e],r={...t,trxDate:n.trxDate??t.trxDate,customerId:n.customerId??t.customerId,customerName:n.customerName??t.customerName,country:n.country??t.country,city:n.city??t.city,soId:n.soId??t.soId,invoiceNumber:n.invoiceNumber??t.invoiceNumber,paymentMode:n.paymentMode??t.paymentMode,amountReceived:n.amountReceived??t.amountReceived,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return et=[...et.slice(0,e),r,...et.slice(e+1)],_e(fe.CASH_BANK,et),we(r)}async function nG(n){const e=et.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...et[e],archived:!0,archivedAt:new Date().toISOString()};return et=[...et.slice(0,e),t,...et.slice(e+1)],_e(fe.CASH_BANK,et),we(t)}async function rG(n){const e=et.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...et[e],archived:!1,archivedAt:void 0};return et=[...et.slice(0,e),t,...et.slice(e+1)],_e(fe.CASH_BANK,et),we(t)}async function sG(n){if(et.findIndex(t=>t.id===n)===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);return et=et.filter(t=>t.id!==n),_e(fe.CASH_BANK,et),we(void 0)}async function oG(n){const e=new Date().toISOString(),t=[];return et=et.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),_e(fe.CASH_BANK,et),we(t)}async function iG(n){const e=[];return et=et.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),_e(fe.CASH_BANK,et),we(e)}async function aG(n){return et=et.filter(e=>!n.includes(e.id)),_e(fe.CASH_BANK,et),we(void 0)}const Y6=[{id:"TRX-001",trxDate:"2025-10-05",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-001",billNumber:"INV-2025-0142",paymentMode:"Bank Transfer",amountPaid:57998.5,notes:"Full payment for PO-001 - Q4 restock",createdAt:"2025-10-05T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Check",amountPaid:16225,notes:"50% deposit for office furniture",createdAt:"2025-10-20T14:30:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-005",billNumber:"FC-INV-4590",paymentMode:"Bank Transfer",amountPaid:4485,notes:"Full payment for filing cabinets",createdAt:"2025-11-05T09:15:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-28",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Credit Card",amountPaid:25e3,notes:"Partial payment for electronics shipment",createdAt:"2025-09-28T11:00:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-10-30",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Bank Transfer",amountPaid:25e3,notes:"Final payment for electronics shipment",createdAt:"2025-10-30T15:45:00Z",createdBy:"1",archived:!1},{id:"TRX-006",trxDate:"2025-11-02",supplierId:"SUP-005",supplierName:"Premium Parts Ltd",country:"United Kingdom",city:"London",poId:"PO-003",billNumber:"PP-UK-2025-456",paymentMode:"Online Payment",amountPaid:15e3,notes:"Payment for premium components",createdAt:"2025-11-02T08:30:00Z",createdBy:"2",archived:!1},{id:"TRX-007",trxDate:"2025-10-12",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-004",billNumber:"TS-INV-2025-234",paymentMode:"Cash",amountPaid:3500,notes:"Advance payment for monitor order",createdAt:"2025-10-12T13:20:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-11-08",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Bank Transfer",amountPaid:8e3,notes:"Second installment for furniture order",createdAt:"2025-11-08T10:00:00Z",createdBy:"1",archived:!1}];let tt=Ks(fe.PAYMENTS,Y6);tt=tt.map(n=>({...n,archived:n.archived??!1}));_e(fe.PAYMENTS,tt);function X6(){const n=tt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function lG(){return we([...tt])}async function cG(n){const e=n.id||X6(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,supplierId:n.supplierId,supplierName:n.supplierName,country:n.country||"",city:n.city||"",poId:n.poId,billNumber:n.billNumber||"",paymentMode:n.paymentMode,amountPaid:n.amountPaid,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return tt=[...tt,r],_e(fe.PAYMENTS,tt),we(r)}async function uG(n){const e=tt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Payment transaction with ID ${n.id} not found`);const t=tt[e],r={...t,trxDate:n.trxDate??t.trxDate,supplierId:n.supplierId??t.supplierId,supplierName:n.supplierName??t.supplierName,country:n.country??t.country,city:n.city??t.city,poId:n.poId??t.poId,billNumber:n.billNumber??t.billNumber,paymentMode:n.paymentMode??t.paymentMode,amountPaid:n.amountPaid??t.amountPaid,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),r,...tt.slice(e+1)],_e(fe.PAYMENTS,tt),we(r)}async function dG(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...tt[e],archived:!0,archivedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],_e(fe.PAYMENTS,tt),we(t)}async function hG(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...tt[e],archived:!1,archivedAt:void 0};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],_e(fe.PAYMENTS,tt),we(t)}async function fG(n){if(tt.findIndex(t=>t.id===n)===-1)throw new Error(`Payment transaction with ID ${n} not found`);return tt=tt.filter(t=>t.id!==n),_e(fe.PAYMENTS,tt),we(void 0)}async function pG(n){const e=new Date().toISOString(),t=[];return tt=tt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),_e(fe.PAYMENTS,tt),we(t)}async function mG(n){const e=[];return tt=tt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),_e(fe.PAYMENTS,tt),we(e)}async function gG(n){return tt=tt.filter(e=>!n.includes(e.id)),_e(fe.PAYMENTS,tt),we(void 0)}const J6=()=>{};var hS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},eU=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],l=n[t++],u=n[t++],h=((s&7)<<18|(i&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},pP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,g=i>>2,m=(i&3)<<4|u>>4;let w=(u&15)<<2|p>>6,I=p&63;h||(I=64,l||(w=64)),r.push(t[g],t[m],t[w],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):eU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const m=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||u==null||p==null||m==null)throw new tU;const w=i<<2|u>>4;if(r.push(w),p!==64){const I=u<<4&240|p>>2;if(r.push(I),m!==64){const A=p<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nU=function(n){const e=fP(n);return pP.encodeByteArray(e,!0)},Wf=function(n){return nU(n).replace(/\./g,"")},mP=function(n){try{return pP.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=()=>gP().__FIREBASE_DEFAULTS__,sU=()=>{if(typeof process>"u"||typeof hS>"u")return;const n=hS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mP(n[1]);return e&&JSON.parse(e)},Hp=()=>{try{return J6()||rU()||sU()||oU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yP=n=>Hp()?.emulatorHosts?.[n],iU=n=>{const e=yP(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},vP=()=>Hp()?.config,_P=n=>Hp()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wP(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Wf(JSON.stringify(t)),Wf(JSON.stringify(l)),""].join(".")}const Ru={};function cU(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?n.emulator.push(e):n.prod.push(e);return n}function uU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let fS=!1;function EP(n,e){if(typeof window>"u"||typeof document>"u"||!_c(window.location.host)||Ru[n]===e||Ru[n]||fS)return;Ru[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",i=cU().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{fS=!0,l()},w}function g(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function m(){const w=uU(r),I=t("text"),A=document.getElementById(I)||document.createElement("span"),C=t("learnmore"),R=document.getElementById(C)||document.createElement("a"),N=t("preprendIcon"),M=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const j=w.element;u(j),g(R,C);const z=p();h(M,N),j.append(M,A,R,z),document.body.appendChild(j)}i?(A.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function bP(){const n=Hp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mU(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SP(){return!bP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IP(){return!bP()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function xP(){try{return typeof indexedDB=="object"}catch{return!1}}function gU(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="FirebaseError";class xo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=yU,Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gd.prototype.create)}}class gd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?vU(i,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new xo(s,u,r)}}function vU(n,e){return n.replace(_U,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const _U=/\{\$([^}]+)}/g;function wU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],l=e[s];if(pS(i)&&pS(l)){if(!xa(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function pS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function EU(n,e){const t=new bU(n,e);return t.subscribe.bind(t)}class bU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");SU(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=uy),s.error===void 0&&(s.error=uy),s.complete===void 0&&(s.complete=uy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function uy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n){return n&&n._delegate?n._delegate:n}class Ta{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new aU;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TU(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xU(n){return n===ia?void 0:n}function TU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const PU={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},AU=it.INFO,RU={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},kU=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=RU[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C_{constructor(e){this.name=e,this._logLevel=AU,this._logHandler=kU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const NU=(n,e)=>e.some(t=>n instanceof t);let mS,gS;function DU(){return mS||(mS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OU(){return gS||(gS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TP=new WeakMap,Zy=new WeakMap,CP=new WeakMap,dy=new WeakMap,P_=new WeakMap;function MU(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",l)},i=()=>{t(gi(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&TP.set(t,n)}).catch(()=>{}),P_.set(e,n),e}function VU(n){if(Zy.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",l),n.removeEventListener("abort",l)},i=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",l),n.addEventListener("abort",l)});Zy.set(n,e)}let Qy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Zy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LU(n){Qy=n(Qy)}function FU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(hy(this),e,...t);return CP.set(r,e.sort?e.sort():[e]),gi(r)}:OU().includes(n)?function(...e){return n.apply(hy(this),e),gi(TP.get(this))}:function(...e){return gi(n.apply(hy(this),e))}}function jU(n){return typeof n=="function"?FU(n):(n instanceof IDBTransaction&&VU(n),NU(n,DU())?new Proxy(n,Qy):n)}function gi(n){if(n instanceof IDBRequest)return MU(n);if(dy.has(n))return dy.get(n);const e=jU(n);return e!==n&&(dy.set(n,e),P_.set(e,n)),e}const hy=n=>P_.get(n);function UU(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(n,e),u=gi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(gi(l.result),h.oldVersion,h.newVersion,gi(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const zU=["get","getKey","getAll","getAllKeys","count"],$U=["put","add","delete","clear"],fy=new Map;function yS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fy.get(e))return fy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=$U.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zU.includes(t)))return;const i=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),s&&h.done]))[0]};return fy.set(e,i),i}LU(n=>({...n,get:(e,t,r)=>yS(e,t)||n.get(e,t,r),has:(e,t)=>!!yS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function qU(n){return n.getComponent()?.type==="VERSION"}const Yy="@firebase/app",vS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new C_("@firebase/app"),HU="@firebase/app-compat",WU="@firebase/analytics-compat",GU="@firebase/analytics",KU="@firebase/app-check-compat",ZU="@firebase/app-check",QU="@firebase/auth",YU="@firebase/auth-compat",XU="@firebase/database",JU="@firebase/data-connect",ez="@firebase/database-compat",tz="@firebase/functions",nz="@firebase/functions-compat",rz="@firebase/installations",sz="@firebase/installations-compat",oz="@firebase/messaging",iz="@firebase/messaging-compat",az="@firebase/performance",lz="@firebase/performance-compat",cz="@firebase/remote-config",uz="@firebase/remote-config-compat",dz="@firebase/storage",hz="@firebase/storage-compat",fz="@firebase/firestore",pz="@firebase/ai",mz="@firebase/firestore-compat",gz="firebase",yz="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="[DEFAULT]",vz={[Yy]:"fire-core",[HU]:"fire-core-compat",[GU]:"fire-analytics",[WU]:"fire-analytics-compat",[ZU]:"fire-app-check",[KU]:"fire-app-check-compat",[QU]:"fire-auth",[YU]:"fire-auth-compat",[XU]:"fire-rtdb",[JU]:"fire-data-connect",[ez]:"fire-rtdb-compat",[tz]:"fire-fn",[nz]:"fire-fn-compat",[rz]:"fire-iid",[sz]:"fire-iid-compat",[oz]:"fire-fcm",[iz]:"fire-fcm-compat",[az]:"fire-perf",[lz]:"fire-perf-compat",[cz]:"fire-rc",[uz]:"fire-rc-compat",[dz]:"fire-gcs",[hz]:"fire-gcs-compat",[fz]:"fire-fst",[mz]:"fire-fst-compat",[pz]:"fire-vertex","fire-js":"fire-js",[gz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,_z=new Map,Jy=new Map;function _S(n,e){try{n.container.addComponent(e)}catch(t){wo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jl(n){const e=n.name;if(Jy.has(e))return wo.debug(`There were multiple attempts to register component ${e}.`),!1;Jy.set(e,n);for(const t of Gf.values())_S(t,n);for(const t of _z.values())_S(t,n);return!0}function A_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ks(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new gd("app","Firebase",wz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=yz;function PP(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Xy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw yi.create("bad-app-name",{appName:String(s)});if(t||(t=vP()),!t)throw yi.create("no-options");const i=Gf.get(s);if(i){if(xa(t,i.options)&&xa(r,i.config))return i;throw yi.create("duplicate-app",{appName:s})}const l=new CU(s);for(const h of Jy.values())l.addComponent(h);const u=new Ez(t,r,l);return Gf.set(s,u),u}function AP(n=Xy){const e=Gf.get(n);if(!e&&n===Xy&&vP())return PP();if(!e)throw yi.create("no-app",{appName:n});return e}function vi(n,e,t){let r=vz[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wo.warn(l.join(" "));return}Jl(new Ta(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz="firebase-heartbeat-database",Sz=1,Zu="firebase-heartbeat-store";let py=null;function RP(){return py||(py=UU(bz,Sz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zu)}catch(t){console.warn(t)}}}}).catch(n=>{throw yi.create("idb-open",{originalErrorMessage:n.message})})),py}async function Iz(n){try{const t=(await RP()).transaction(Zu),r=await t.objectStore(Zu).get(kP(n));return await t.done,r}catch(e){if(e instanceof xo)wo.warn(e.message);else{const t=yi.create("idb-get",{originalErrorMessage:e?.message});wo.warn(t.message)}}}async function wS(n,e){try{const r=(await RP()).transaction(Zu,"readwrite");await r.objectStore(Zu).put(e,kP(n)),await r.done}catch(t){if(t instanceof xo)wo.warn(t.message);else{const r=yi.create("idb-set",{originalErrorMessage:t?.message});wo.warn(r.message)}}}function kP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=1024,Tz=30;class Cz{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Az(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ES();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>Tz){const s=Rz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ES(),{heartbeatsToSend:t,unsentEntries:r}=Pz(this._heartbeatsCache.heartbeats),s=Wf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return wo.warn(e),""}}}function ES(){return new Date().toISOString().substring(0,10)}function Pz(n,e=xz){const t=[];let r=n.slice();for(const s of n){const i=t.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),bS(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),bS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Az{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xP()?gU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Iz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bS(n){return Wf(JSON.stringify({version:2,heartbeats:n})).length}function Rz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(n){Jl(new Ta("platform-logger",e=>new BU(e),"PRIVATE")),Jl(new Ta("heartbeat",e=>new Cz(e),"PRIVATE")),vi(Yy,vS,n),vi(Yy,vS,"esm2020"),vi("fire-js","")}kz("");var Nz="firebase",Dz="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(Nz,Dz,"app");var SS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,NP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function D(){}D.prototype=T.prototype,P.F=T.prototype,P.prototype=new D,P.prototype.constructor=P,P.D=function(V,F,B){for(var O=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)O[Ce-2]=arguments[Ce];return T.prototype[F].apply(V,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,T,D){D||(D=0);const V=Array(16);if(typeof T=="string")for(var F=0;F<16;++F)V[F]=T.charCodeAt(D++)|T.charCodeAt(D++)<<8|T.charCodeAt(D++)<<16|T.charCodeAt(D++)<<24;else for(F=0;F<16;++F)V[F]=T[D++]|T[D++]<<8|T[D++]<<16|T[D++]<<24;T=P.g[0],D=P.g[1],F=P.g[2];let B=P.g[3],O;O=T+(B^D&(F^B))+V[0]+3614090360&4294967295,T=D+(O<<7&4294967295|O>>>25),O=B+(F^T&(D^F))+V[1]+3905402710&4294967295,B=T+(O<<12&4294967295|O>>>20),O=F+(D^B&(T^D))+V[2]+606105819&4294967295,F=B+(O<<17&4294967295|O>>>15),O=D+(T^F&(B^T))+V[3]+3250441966&4294967295,D=F+(O<<22&4294967295|O>>>10),O=T+(B^D&(F^B))+V[4]+4118548399&4294967295,T=D+(O<<7&4294967295|O>>>25),O=B+(F^T&(D^F))+V[5]+1200080426&4294967295,B=T+(O<<12&4294967295|O>>>20),O=F+(D^B&(T^D))+V[6]+2821735955&4294967295,F=B+(O<<17&4294967295|O>>>15),O=D+(T^F&(B^T))+V[7]+4249261313&4294967295,D=F+(O<<22&4294967295|O>>>10),O=T+(B^D&(F^B))+V[8]+1770035416&4294967295,T=D+(O<<7&4294967295|O>>>25),O=B+(F^T&(D^F))+V[9]+2336552879&4294967295,B=T+(O<<12&4294967295|O>>>20),O=F+(D^B&(T^D))+V[10]+4294925233&4294967295,F=B+(O<<17&4294967295|O>>>15),O=D+(T^F&(B^T))+V[11]+2304563134&4294967295,D=F+(O<<22&4294967295|O>>>10),O=T+(B^D&(F^B))+V[12]+1804603682&4294967295,T=D+(O<<7&4294967295|O>>>25),O=B+(F^T&(D^F))+V[13]+4254626195&4294967295,B=T+(O<<12&4294967295|O>>>20),O=F+(D^B&(T^D))+V[14]+2792965006&4294967295,F=B+(O<<17&4294967295|O>>>15),O=D+(T^F&(B^T))+V[15]+1236535329&4294967295,D=F+(O<<22&4294967295|O>>>10),O=T+(F^B&(D^F))+V[1]+4129170786&4294967295,T=D+(O<<5&4294967295|O>>>27),O=B+(D^F&(T^D))+V[6]+3225465664&4294967295,B=T+(O<<9&4294967295|O>>>23),O=F+(T^D&(B^T))+V[11]+643717713&4294967295,F=B+(O<<14&4294967295|O>>>18),O=D+(B^T&(F^B))+V[0]+3921069994&4294967295,D=F+(O<<20&4294967295|O>>>12),O=T+(F^B&(D^F))+V[5]+3593408605&4294967295,T=D+(O<<5&4294967295|O>>>27),O=B+(D^F&(T^D))+V[10]+38016083&4294967295,B=T+(O<<9&4294967295|O>>>23),O=F+(T^D&(B^T))+V[15]+3634488961&4294967295,F=B+(O<<14&4294967295|O>>>18),O=D+(B^T&(F^B))+V[4]+3889429448&4294967295,D=F+(O<<20&4294967295|O>>>12),O=T+(F^B&(D^F))+V[9]+568446438&4294967295,T=D+(O<<5&4294967295|O>>>27),O=B+(D^F&(T^D))+V[14]+3275163606&4294967295,B=T+(O<<9&4294967295|O>>>23),O=F+(T^D&(B^T))+V[3]+4107603335&4294967295,F=B+(O<<14&4294967295|O>>>18),O=D+(B^T&(F^B))+V[8]+1163531501&4294967295,D=F+(O<<20&4294967295|O>>>12),O=T+(F^B&(D^F))+V[13]+2850285829&4294967295,T=D+(O<<5&4294967295|O>>>27),O=B+(D^F&(T^D))+V[2]+4243563512&4294967295,B=T+(O<<9&4294967295|O>>>23),O=F+(T^D&(B^T))+V[7]+1735328473&4294967295,F=B+(O<<14&4294967295|O>>>18),O=D+(B^T&(F^B))+V[12]+2368359562&4294967295,D=F+(O<<20&4294967295|O>>>12),O=T+(D^F^B)+V[5]+4294588738&4294967295,T=D+(O<<4&4294967295|O>>>28),O=B+(T^D^F)+V[8]+2272392833&4294967295,B=T+(O<<11&4294967295|O>>>21),O=F+(B^T^D)+V[11]+1839030562&4294967295,F=B+(O<<16&4294967295|O>>>16),O=D+(F^B^T)+V[14]+4259657740&4294967295,D=F+(O<<23&4294967295|O>>>9),O=T+(D^F^B)+V[1]+2763975236&4294967295,T=D+(O<<4&4294967295|O>>>28),O=B+(T^D^F)+V[4]+1272893353&4294967295,B=T+(O<<11&4294967295|O>>>21),O=F+(B^T^D)+V[7]+4139469664&4294967295,F=B+(O<<16&4294967295|O>>>16),O=D+(F^B^T)+V[10]+3200236656&4294967295,D=F+(O<<23&4294967295|O>>>9),O=T+(D^F^B)+V[13]+681279174&4294967295,T=D+(O<<4&4294967295|O>>>28),O=B+(T^D^F)+V[0]+3936430074&4294967295,B=T+(O<<11&4294967295|O>>>21),O=F+(B^T^D)+V[3]+3572445317&4294967295,F=B+(O<<16&4294967295|O>>>16),O=D+(F^B^T)+V[6]+76029189&4294967295,D=F+(O<<23&4294967295|O>>>9),O=T+(D^F^B)+V[9]+3654602809&4294967295,T=D+(O<<4&4294967295|O>>>28),O=B+(T^D^F)+V[12]+3873151461&4294967295,B=T+(O<<11&4294967295|O>>>21),O=F+(B^T^D)+V[15]+530742520&4294967295,F=B+(O<<16&4294967295|O>>>16),O=D+(F^B^T)+V[2]+3299628645&4294967295,D=F+(O<<23&4294967295|O>>>9),O=T+(F^(D|~B))+V[0]+4096336452&4294967295,T=D+(O<<6&4294967295|O>>>26),O=B+(D^(T|~F))+V[7]+1126891415&4294967295,B=T+(O<<10&4294967295|O>>>22),O=F+(T^(B|~D))+V[14]+2878612391&4294967295,F=B+(O<<15&4294967295|O>>>17),O=D+(B^(F|~T))+V[5]+4237533241&4294967295,D=F+(O<<21&4294967295|O>>>11),O=T+(F^(D|~B))+V[12]+1700485571&4294967295,T=D+(O<<6&4294967295|O>>>26),O=B+(D^(T|~F))+V[3]+2399980690&4294967295,B=T+(O<<10&4294967295|O>>>22),O=F+(T^(B|~D))+V[10]+4293915773&4294967295,F=B+(O<<15&4294967295|O>>>17),O=D+(B^(F|~T))+V[1]+2240044497&4294967295,D=F+(O<<21&4294967295|O>>>11),O=T+(F^(D|~B))+V[8]+1873313359&4294967295,T=D+(O<<6&4294967295|O>>>26),O=B+(D^(T|~F))+V[15]+4264355552&4294967295,B=T+(O<<10&4294967295|O>>>22),O=F+(T^(B|~D))+V[6]+2734768916&4294967295,F=B+(O<<15&4294967295|O>>>17),O=D+(B^(F|~T))+V[13]+1309151649&4294967295,D=F+(O<<21&4294967295|O>>>11),O=T+(F^(D|~B))+V[4]+4149444226&4294967295,T=D+(O<<6&4294967295|O>>>26),O=B+(D^(T|~F))+V[11]+3174756917&4294967295,B=T+(O<<10&4294967295|O>>>22),O=F+(T^(B|~D))+V[2]+718787259&4294967295,F=B+(O<<15&4294967295|O>>>17),O=D+(B^(F|~T))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+F&4294967295,P.g[3]=P.g[3]+B&4294967295}r.prototype.v=function(P,T){T===void 0&&(T=P.length);const D=T-this.blockSize,V=this.C;let F=this.h,B=0;for(;B<T;){if(F==0)for(;B<=D;)s(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<T;)if(V[F++]=P.charCodeAt(B++),F==this.blockSize){s(this,V),F=0;break}}else for(;B<T;)if(V[F++]=P[B++],F==this.blockSize){s(this,V),F=0;break}}this.h=F,this.o+=T},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;T=this.o*8;for(var D=P.length-8;D<P.length;++D)P[D]=T&255,T/=256;for(this.v(P),P=Array(16),T=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)P[T++]=this.g[D]>>>V&255;return P};function i(P,T){var D=u;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=T(P)}function l(P,T){this.h=T;const D=[];let V=!0;for(let F=P.length-1;F>=0;F--){const B=P[F]|0;V&&B==T||(D[F]=B,V=!1)}this.g=D}var u={};function h(P){return-128<=P&&P<128?i(P,function(T){return new l([T|0],T<0?-1:0)}):new l([P|0],P<0?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return R(p(-P));const T=[];let D=1;for(let V=0;P>=D;V++)T[V]=P/D|0,D*=4294967296;return new l(T,0)}function g(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return R(g(P.substring(1),T));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(T,8));let V=m;for(let B=0;B<P.length;B+=8){var F=Math.min(8,P.length-B);const O=parseInt(P.substring(B,B+F),T);F<8?(F=p(Math.pow(T,F)),V=V.j(F).add(p(O))):(V=V.j(D),V=V.add(p(O)))}return V}var m=h(0),w=h(1),I=h(16777216);n=l.prototype,n.m=function(){if(C(this))return-R(this).m();let P=0,T=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);P+=(V>=0?V:4294967296+V)*T,T*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A(this))return"0";if(C(this))return"-"+R(this).toString(P);const T=p(Math.pow(P,6));var D=this;let V="";for(;;){const F=z(D,T).g;D=N(D,F.j(T));let B=((D.g.length>0?D.g[0]:D.h)>>>0).toString(P);if(D=F,A(D))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function A(P){if(P.h!=0)return!1;for(let T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function C(P){return P.h==-1}n.l=function(P){return P=N(this,P),C(P)?-1:A(P)?0:1};function R(P){const T=P.g.length,D=[];for(let V=0;V<T;V++)D[V]=~P.g[V];return new l(D,~P.h).add(w)}n.abs=function(){return C(this)?R(this):this},n.add=function(P){const T=Math.max(this.g.length,P.g.length),D=[];let V=0;for(let F=0;F<=T;F++){let B=V+(this.i(F)&65535)+(P.i(F)&65535),O=(B>>>16)+(this.i(F)>>>16)+(P.i(F)>>>16);V=O>>>16,B&=65535,O&=65535,D[F]=O<<16|B}return new l(D,D[D.length-1]&-2147483648?-1:0)};function N(P,T){return P.add(R(T))}n.j=function(P){if(A(this)||A(P))return m;if(C(this))return C(P)?R(this).j(R(P)):R(R(this).j(P));if(C(P))return R(this.j(R(P)));if(this.l(I)<0&&P.l(I)<0)return p(this.m()*P.m());const T=this.g.length+P.g.length,D=[];for(var V=0;V<2*T;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let F=0;F<P.g.length;F++){const B=this.i(V)>>>16,O=this.i(V)&65535,Ce=P.i(F)>>>16,Be=P.i(F)&65535;D[2*V+2*F]+=O*Be,M(D,2*V+2*F),D[2*V+2*F+1]+=B*Be,M(D,2*V+2*F+1),D[2*V+2*F+1]+=O*Ce,M(D,2*V+2*F+1),D[2*V+2*F+2]+=B*Ce,M(D,2*V+2*F+2)}for(P=0;P<T;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=T;P<2*T;P++)D[P]=0;return new l(D,0)};function M(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function j(P,T){this.g=P,this.h=T}function z(P,T){if(A(T))throw Error("division by zero");if(A(P))return new j(m,m);if(C(P))return T=z(R(P),T),new j(R(T.g),R(T.h));if(C(T))return T=z(P,R(T)),new j(R(T.g),T.h);if(P.g.length>30){if(C(P)||C(T))throw Error("slowDivide_ only works with positive integers.");for(var D=w,V=T;V.l(P)<=0;)D=$(D),V=$(V);var F=K(D,1),B=K(V,1);for(V=K(V,2),D=K(D,2);!A(V);){var O=B.add(V);O.l(P)<=0&&(F=F.add(D),B=O),V=K(V,1),D=K(D,1)}return T=N(P,F.j(T)),new j(F,T)}for(F=m;P.l(T)>=0;){for(D=Math.max(1,Math.floor(P.m()/T.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=p(D),O=B.j(T);C(O)||O.l(P)>0;)D-=V,B=p(D),O=B.j(T);A(B)&&(B=w),F=F.add(B),P=N(P,O)}return new j(F,P)}n.B=function(P){return z(this,P).h},n.and=function(P){const T=Math.max(this.g.length,P.g.length),D=[];for(let V=0;V<T;V++)D[V]=this.i(V)&P.i(V);return new l(D,this.h&P.h)},n.or=function(P){const T=Math.max(this.g.length,P.g.length),D=[];for(let V=0;V<T;V++)D[V]=this.i(V)|P.i(V);return new l(D,this.h|P.h)},n.xor=function(P){const T=Math.max(this.g.length,P.g.length),D=[];for(let V=0;V<T;V++)D[V]=this.i(V)^P.i(V);return new l(D,this.h^P.h)};function $(P){const T=P.g.length+1,D=[];for(let V=0;V<T;V++)D[V]=P.i(V)<<1|P.i(V-1)>>>31;return new l(D,P.h)}function K(P,T){const D=T>>5;T%=32;const V=P.g.length-D,F=[];for(let B=0;B<V;B++)F[B]=T>0?P.i(B+D)>>>T|P.i(B+D+1)<<32-T:P.i(B+D);return new l(F,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,NP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,_i=l}).apply(typeof SS<"u"?SS:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DP,xu,OP,mf,ev,MP,VP,LP;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var _=0;_<d.length;++_){var S=d[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function s(d,_){if(_)e:{var S=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var Y=d[k];if(!(Y in S))break e;S=S[Y]}d=d[d.length-1],k=S[d],_=_(k),_!=k&&_!=null&&e(S,d,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(_){var S=[],k;for(k in _)Object.prototype.hasOwnProperty.call(_,k)&&S.push([k,_[k]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,S){return d.call.apply(d.bind,arguments)}function p(d,_,S){return p=h,p.apply(null,arguments)}function g(d,_){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function m(d,_){function S(){}S.prototype=_.prototype,d.Z=_.prototype,d.prototype=new S,d.prototype.constructor=d,d.Ob=function(k,Y,te){for(var ye=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ye[Ye-2]=arguments[Ye];return _.prototype[Y].apply(k,ye)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function I(d){const _=d.length;if(_>0){const S=Array(_);for(let k=0;k<_;k++)S[k]=d[k];return S}return[]}function A(d,_){for(let k=1;k<arguments.length;k++){const Y=arguments[k];var S=typeof Y;if(S=S!="object"?S:Y?Array.isArray(Y)?"array":S:"null",S=="array"||S=="object"&&typeof Y.length=="number"){S=d.length||0;const te=Y.length||0;d.length=S+te;for(let ye=0;ye<te;ye++)d[S+ye]=Y[ye]}else d.push(Y)}}class C{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(d){l.setTimeout(()=>{throw d},0)}function N(){var d=P;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class M{constructor(){this.h=this.g=null}add(_,S){const k=j.get();k.set(_,S),this.h?this.h.next=k:this.g=k,this.h=k}}var j=new C(()=>new z,d=>d.reset());class z{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let $,K=!1,P=new M,T=()=>{const d=Promise.resolve(void 0);$=()=>{d.then(D)}};function D(){for(var d;d=N();){try{d.h.call(d.g)}catch(S){R(S)}var _=j;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}K=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};l.addEventListener("test",S,_),l.removeEventListener("test",S,_)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Ce(d,_){F.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}m(Ce,F),Ce.prototype.init=function(d,_){const S=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(S=="mouseover"?_=d.fromElement:S=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),ge=0;function Ee(d,_,S,k,Y){this.listener=d,this.proxy=null,this.src=_,this.type=S,this.capture=!!k,this.ha=Y,this.key=++ge,this.da=this.fa=!1}function W(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ne(d,_,S){for(const k in d)_.call(S,d[k],k,d)}function X(d,_){for(const S in d)_.call(void 0,d[S],S,d)}function U(d){const _={};for(const S in d)_[S]=d[S];return _}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(d,_){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)d[S]=k[S];for(let te=0;te<G.length;te++)S=G[te],Object.prototype.hasOwnProperty.call(k,S)&&(d[S]=k[S])}}function ie(d){this.src=d,this.g={},this.h=0}ie.prototype.add=function(d,_,S,k,Y){const te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);const ye=xe(d,_,k,Y);return ye>-1?(_=d[ye],S||(_.fa=!1)):(_=new Ee(_,this.src,te,!!k,Y),_.fa=S,d.push(_)),_};function he(d,_){const S=_.type;if(S in d.g){var k=d.g[S],Y=Array.prototype.indexOf.call(k,_,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(k,Y,1),te&&(W(_),d.g[S].length==0&&(delete d.g[S],d.h--))}}function xe(d,_,S,k){for(let Y=0;Y<d.length;++Y){const te=d[Y];if(!te.da&&te.listener==_&&te.capture==!!S&&te.ha==k)return Y}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Ie={};function Ge(d,_,S,k,Y){if(Array.isArray(_)){for(let te=0;te<_.length;te++)Ge(d,_[te],S,k,Y);return null}return S=Po(S),d&&d[Be]?d.J(_,S,u(k)?!!k.capture:!1,Y):Qe(d,_,S,!1,k,Y)}function Qe(d,_,S,k,Y,te){if(!_)throw Error("Invalid event type");const ye=u(Y)?!!Y.capture:!!Y;let Ye=Zs(d);if(Ye||(d[ve]=Ye=new ie(d)),S=Ye.add(_,S,k,ye,te),S.proxy)return S;if(k=me(),S.proxy=k,k.src=d,k.listener=S,d.addEventListener)B||(Y=ye),Y===void 0&&(Y=!1),d.addEventListener(_.toString(),k,Y);else if(d.attachEvent)d.attachEvent(as(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function me(){function d(S){return _.call(d.src,d.listener,S)}const _=Ba;return d}function St(d,_,S,k,Y){if(Array.isArray(_))for(var te=0;te<_.length;te++)St(d,_[te],S,k,Y);else k=u(k)?!!k.capture:!!k,S=Po(S),d&&d[Be]?(d=d.i,te=String(_).toString(),te in d.g&&(_=d.g[te],S=xe(_,S,k,Y),S>-1&&(W(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete d.g[te],d.h--)))):d&&(d=Zs(d))&&(_=d.g[_.toString()],d=-1,_&&(d=xe(_,S,k,Y)),(S=d>-1?_[d]:null)&&hn(S))}function hn(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Be])he(_.i,d);else{var S=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(S,k,d.capture):_.detachEvent?_.detachEvent(as(S),k):_.addListener&&_.removeListener&&_.removeListener(k),(S=Zs(_))?(he(S,d),S.h==0&&(S.src=null,_[ve]=null)):W(d)}}}function as(d){return d in Ie?Ie[d]:Ie[d]="on"+d}function Ba(d,_){if(d.da)d=!0;else{_=new Ce(_,this);const S=d.listener,k=d.ha||d.src;d.fa&&hn(d),d=S.call(k,_)}return d}function Zs(d){return d=d[ve],d instanceof ie?d:null}var ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(d){return typeof d=="function"?d:(d[ir]||(d[ir]=function(_){return d.handleEvent(_)}),d[ir])}function gt(){V.call(this),this.i=new ie(this),this.M=this,this.G=null}m(gt,V),gt.prototype[Be]=!0,gt.prototype.removeEventListener=function(d,_,S,k){St(this,d,_,S,k)};function Vt(d,_){var S,k=d.G;if(k)for(S=[];k;k=k.G)S.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new F(_,d);else if(_ instanceof F)_.target=_.target||d;else{var Y=_;_=new F(k,d),oe(_,Y)}Y=!0;let te,ye;if(S)for(ye=S.length-1;ye>=0;ye--)te=_.g=S[ye],Y=ar(te,k,!0,_)&&Y;if(te=_.g=d,Y=ar(te,k,!0,_)&&Y,Y=ar(te,k,!1,_)&&Y,S)for(ye=0;ye<S.length;ye++)te=_.g=S[ye],Y=ar(te,k,!1,_)&&Y}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const S=d.g[_];for(let k=0;k<S.length;k++)W(S[k]);delete d.g[_],d.h--}}this.G=null},gt.prototype.J=function(d,_,S,k){return this.i.add(String(d),_,!1,S,k)},gt.prototype.K=function(d,_,S,k){return this.i.add(String(d),_,!0,S,k)};function ar(d,_,S,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let te=0;te<_.length;++te){const ye=_[te];if(ye&&!ye.da&&ye.capture==S){const Ye=ye.listener,Wt=ye.ha||ye.src;ye.fa&&he(d.i,ye),Y=Ye.call(Wt,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function on(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(d,_||0)}function Sr(d){d.g=on(()=>{d.g=null,d.i&&(d.i=!1,Sr(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class qa extends V{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Sr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(d){V.call(this),this.h=d,this.g={}}m(ls,V);var cs=[];function Ao(d){ne(d.g,function(_,S){this.g.hasOwnProperty(S)&&hn(_)},d),d.g={}}ls.prototype.N=function(){ls.Z.N.call(this),Ao(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $r=l.JSON.stringify,Ro=l.JSON.parse,Kn=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Br(){}function qr(){}var us={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ko(){F.call(this,"d")}m(ko,F);function No(){F.call(this,"c")}m(No,F);var Zn={},Do=null;function Ir(){return Do=Do||new gt}Zn.Ia="serverreachability";function jn(d){F.call(this,Zn.Ia,d)}m(jn,F);function Hr(d){const _=Ir();Vt(_,new jn(_))}Zn.STAT_EVENT="statevent";function Wr(d,_){F.call(this,Zn.STAT_EVENT,d),this.stat=_}m(Wr,F);function Pt(d){const _=Ir();Vt(_,new Wr(_,d))}Zn.Ja="timingevent";function Oo(d,_){F.call(this,Zn.Ja,d),this.size=_}m(Oo,F);function qe(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},_)}function It(){this.g=!0}It.prototype.ua=function(){this.g=!1};function Ht(d,_,S,k,Y,te){d.info(function(){if(d.g)if(te){var ye="",Ye=te.split("&");for(let vt=0;vt<Ye.length;vt++){var Wt=Ye[vt].split("=");if(Wt.length>1){const Jt=Wt[0];Wt=Wt[1];const pr=Jt.split("_");ye=pr.length>=2&&pr[1]=="type"?ye+(Jt+"="+Wt+"&"):ye+(Jt+"=redacted&")}}}else ye=null;else ye=te;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+_+`
`+S+`
`+ye})}function fn(d,_,S,k,Y,te,ye){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+_+`
`+S+`
`+te+" "+ye})}function Un(d,_,S,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Yt(d,S)+(k?" "+k:"")})}function zt(d,_){d.info(function(){return"TIMEOUT: "+_})}It.prototype.info=function(){};function Yt(d,_){if(!d.g)return _;if(!_)return null;try{const te=JSON.parse(_);if(te){for(d=0;d<te.length;d++)if(Array.isArray(te[d])){var S=te[d];if(!(S.length<2)){var k=S[1];if(Array.isArray(k)&&!(k.length<1)){var Y=k[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ye=1;ye<k.length;ye++)k[ye]=""}}}}return $r(te)}catch{return _}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cn;function xr(){}m(xr,Br),xr.prototype.g=function(){return new XMLHttpRequest},Cn=new xr;function pn(d){return encodeURIComponent(String(d))}function Di(d){var _=1;d=d.split(":");const S=[];for(;_>0&&d.length;)S.push(d.shift()),_--;return d.length&&S.push(d.join(":")),S}function Tr(d,_,S,k){this.j=d,this.i=_,this.l=S,this.S=k||1,this.V=new ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Od}function Od(){this.i=null,this.g="",this.h=!1}var Md={},xc={};function Gr(d,_,S){d.M=1,d.A=Ys(Cr(_)),d.u=S,d.R=!0,Tc(d,null)}function Tc(d,_){d.F=Date.now(),Oi(d),d.B=Cr(d.A);var S=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),Vc(S.i,"t",k),d.C=0,S=d.j.L,d.h=new Od,d.g=Hd(d.j,S?_:null,!d.u),d.P>0&&(d.O=new qa(p(d.Y,d,d.g),d.P)),_=d.V,S=d.g,k=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(cs[0]=Y.toString()),Y=cs);for(let te=0;te<Y.length;te++){const ye=Ge(S,Y[te],k||_.handleEvent,!1,_.h||_);if(!ye)break;_.g[ye.key]=ye}_=d.J?U(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),Hr(),Ht(d.i,d.v,d.B,d.l,d.S,d.u)}Tr.prototype.ba=function(d){d=d.target;const _=this.O;_&&ys(d)==3?_.j():this.Y(d)},Tr.prototype.Y=function(d){try{if(d==this.g)e:{const Ye=ys(this.g),Wt=this.g.ya(),vt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||Bd(this.g)))){this.K||Ye!=4||Wt==7||(Wt==8||vt<=0?Hr(3):Hr(2)),Ha(this);var _=this.g.ca();this.X=_;var S=Vd(this);if(this.o=_==200,fn(this.i,this.v,this.B,this.l,this.S,Ye,_),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Y=this.g;if((k=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(k)){var te=k;break t}}te=null}if(d=te)Un(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,At(this,d);else{this.o=!1,this.m=3,Pt(12),Qs(this),Mi(this);break e}}if(this.R){d=!0;let Jt;for(;!this.K&&this.C<S.length;)if(Jt=Fd(this,S),Jt==xc){Ye==4&&(this.m=4,Pt(14),d=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Md){this.m=4,Pt(15),Un(this.i,this.l,S,"[Invalid Chunk]"),d=!1;break}else Un(this.i,this.l,Jt,null),At(this,Jt);if(Ld(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||S.length!=0||this.h.h||(this.m=1,Pt(16),d=!1),this.o=this.o&&d,!d)Un(this.i,this.l,S,"[Invalid Chunked Response]"),Qs(this),Mi(this);else if(S.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),qi(ye),ye.P=!0,Pt(11))}}else Un(this.i,this.l,S,null),At(this,S);Ye==4&&Qs(this),this.o&&!this.K&&(Ye==4?tl(this.j,this):(this.o=!1,Oi(this)))}else Fc(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Qs(this),Mi(this)}}}catch{}finally{}};function Vd(d){if(!Ld(d))return d.g.la();const _=Bd(d.g);if(_==="")return"";let S="";const k=_.length,Y=ys(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Qs(d),Mi(d),"";d.h.i=new l.TextDecoder}for(let te=0;te<k;te++)d.h.h=!0,S+=d.h.i.decode(_[te],{stream:!(Y&&te==k-1)});return _.length=0,d.h.g+=S,d.C=0,d.h.g}function Ld(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Fd(d,_){var S=d.C,k=_.indexOf(`
`,S);return k==-1?xc:(S=Number(_.substring(S,k)),isNaN(S)?Md:(k+=1,k+S>_.length?xc:(_=_.slice(k,k+S),d.C=k+S,_)))}Tr.prototype.cancel=function(){this.K=!0,Qs(this)};function Oi(d){d.T=Date.now()+d.H,Cc(d,d.H)}function Cc(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qe(p(d.aa,d),_)}function Ha(d){d.D&&(l.clearTimeout(d.D),d.D=null)}Tr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(zt(this.i,this.B),this.M!=2&&(Hr(),Pt(17)),Qs(this),this.m=2,Mi(this)):Cc(this,this.T-d)};function Mi(d){d.j.I==0||d.K||tl(d.j,d)}function Qs(d){Ha(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,Ao(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function At(d,_){try{var S=d.j;if(S.I!=0&&(S.g==d||Ac(S.h,d))){if(!d.L&&Ac(S.h,d)&&S.I==3){try{var k=S.Ba.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<d.F)el(S),hr(S);else break e;ws(S),Pt(18)}}else S.xa=Y[1],0<S.xa-S.K&&Y[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=qe(p(S.Va,S),6e3));Vi(S.h)<=1&&S.ta&&(S.ta=void 0)}else fr(S,11)}else if((d.L||S.g==d)&&el(S),!O(_))for(Y=S.Ba.g.parse(_),_=0;_<Y.length;_++){let vt=Y[_];const Jt=vt[0];if(!(Jt<=S.K))if(S.K=Jt,vt=vt[1],S.I==2)if(vt[0]=="c"){S.M=vt[1],S.ba=vt[2];const pr=vt[3];pr!=null&&(S.ka=pr,S.j.info("VER="+S.ka));const no=vt[4];no!=null&&(S.za=no,S.j.info("SVER="+S.za));const Es=vt[5];Es!=null&&typeof Es=="number"&&Es>0&&(k=1.5*Es,S.O=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const bs=d.g;if(bs){const sl=bs.g?bs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sl){var te=k.h;te.g||sl.indexOf("spdy")==-1&&sl.indexOf("quic")==-1&&sl.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Ga(te,te.h),te.h=null))}if(k.G){const zc=bs.g?bs.g.getResponseHeader("X-HTTP-Session-Id"):null;zc&&(k.wa=zc,mt(k.J,k.G,zc))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-d.F,S.j.info("Handshake RTT: "+S.T+"ms")),k=S;var ye=d;if(k.na=Uc(k,k.L?k.ba:null,k.W),ye.L){Li(k.h,ye);var Ye=ye,Wt=k.O;Wt&&(Ye.H=Wt),Ye.D&&(Ha(Ye),Oi(Ye)),k.g=ye}else Pn(k);S.i.length>0&&to(S)}else vt[0]!="stop"&&vt[0]!="close"||fr(S,7);else S.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?fr(S,7):Xa(S):vt[0]!="noop"&&S.l&&S.l.qa(vt),S.A=0)}}Hr(4)}catch{}}var ym=class{constructor(d,_){this.g=d,this.map=_}};function Wa(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Vi(d){return d.h?1:d.g?d.g.size:0}function Ac(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Ga(d,_){d.g?d.g.add(_):d.h=_}function Li(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Wa.prototype.cancel=function(){if(this.i=cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function cr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const S of d.g.values())_=_.concat(S.G);return _}return I(d.i)}var jd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ur(d,_){if(d){d=d.split("&");for(let S=0;S<d.length;S++){const k=d[S].indexOf("=");let Y,te=null;k>=0?(Y=d[S].substring(0,k),te=d[S].substring(k+1)):Y=d[S],_(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function ds(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof ds?(this.l=d.l,Fi(this,d.j),this.o=d.o,this.g=d.g,hs(this,d.u),this.h=d.h,Mo(this,Lc(d.i)),this.m=d.m):d&&(_=String(d).match(jd))?(this.l=!1,Fi(this,_[1]||"",!0),this.o=ji(_[2]||""),this.g=ji(_[3]||"",!0),hs(this,_[4]),this.h=ji(_[5]||"",!0),Mo(this,_[6]||"",!0),this.m=ji(_[7]||"")):(this.l=!1,this.i=new lt(null,this.l))}ds.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(Ui(_,kc,!0),":");var S=this.g;return(S||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ui(_,kc,!0),"@"),d.push(pn(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&d.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Ui(S,S.charAt(0)=="/"?zi:Nc,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Ui(S,Dc)),d.join("")},ds.prototype.resolve=function(d){const _=Cr(this);let S=!!d.j;S?Fi(_,d.j):S=!!d.o,S?_.o=d.o:S=!!d.g,S?_.g=d.g:S=d.u!=null;var k=d.h;if(S)hs(_,d.u);else if(S=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(k=_.h.slice(0,Y+1)+k)}if(Y=k,Y==".."||Y==".")k="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){k=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let ye=0;ye<Y.length;){const Ye=Y[ye++];Ye=="."?k&&ye==Y.length&&te.push(""):Ye==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),k&&ye==Y.length&&te.push("")):(te.push(Ye),k=!0)}k=te.join("/")}else k=Y}return S?_.h=k:S=d.i.toString()!=="",S?Mo(_,Lc(d.i)):S=!!d.m,S&&(_.m=d.m),_};function Cr(d){return new ds(d)}function Fi(d,_,S){d.j=S?ji(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function hs(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function Mo(d,_,S){_ instanceof lt?(d.i=_,Za(d.i,d.l)):(S||(_=Ui(_,vm)),d.i=new lt(_,d.l))}function mt(d,_,S){d.i.set(_,S)}function Ys(d){return mt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ji(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ui(d,_,S){return typeof d=="string"?(d=encodeURI(d).replace(_,Rc),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Rc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var kc=/[#\/\?@]/g,Nc=/[#\?:]/g,zi=/[#\?]/g,vm=/[#\?@]/g,Dc=/#/g;function lt(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function fs(d){d.g||(d.g=new Map,d.h=0,d.i&&ur(d.i,function(_,S){d.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=lt.prototype,n.add=function(d,_){fs(this),this.i=null,d=ps(this,d);let S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(_),this.h+=1,this};function Oc(d,_){fs(d),_=ps(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ka(d,_){return fs(d),_=ps(d,_),d.g.has(_)}n.forEach=function(d,_){fs(this),this.g.forEach(function(S,k){S.forEach(function(Y){d.call(_,Y,k,this)},this)},this)};function Mc(d,_){fs(d);let S=[];if(typeof _=="string")Ka(d,_)&&(S=S.concat(d.g.get(ps(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)S=S.concat(d[_]);return S}n.set=function(d,_){return fs(this),this.i=null,d=ps(this,d),Ka(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=Mc(this,d),d.length>0?String(d[0]):_):_};function Vc(d,_,S){Oc(d,_),S.length>0&&(d.i=null,d.g.set(ps(d,_),I(S)),d.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let k=0;k<_.length;k++){var S=_[k];const Y=pn(S);S=Mc(this,S);for(let te=0;te<S.length;te++){let ye=Y;S[te]!==""&&(ye+="="+pn(S[te])),d.push(ye)}}return this.i=d.join("&")};function Lc(d){const _=new lt;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function ps(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Za(d,_){_&&!d.j&&(fs(d),d.i=null,d.g.forEach(function(S,k){const Y=k.toLowerCase();k!=Y&&(Oc(this,k),Vc(this,Y,S))},d)),d.j=_}function ms(d,_){const S=new It;if(l.Image){const k=new Image;k.onload=g(wn,S,"TestLoadImage: loaded",!0,_,k),k.onerror=g(wn,S,"TestLoadImage: error",!1,_,k),k.onabort=g(wn,S,"TestLoadImage: abort",!1,_,k),k.ontimeout=g(wn,S,"TestLoadImage: timeout",!1,_,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function gs(d,_){const S=new It,k=new AbortController,Y=setTimeout(()=>{k.abort(),wn(S,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then(te=>{clearTimeout(Y),te.ok?wn(S,"TestPingServer: ok",!0,_):wn(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),wn(S,"TestPingServer: error",!1,_)})}function wn(d,_,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function $i(){this.g=new Kn}function Xs(d){this.i=d.Sb||null,this.h=d.ab||!1}m(Xs,Br),Xs.prototype.g=function(){return new dr(this.i,this.h)};function dr(d,_){gt.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(dr,gt),n=dr.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,Kr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vo(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ud(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ud(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Vo(this):Kr(this),this.readyState==3&&Ud(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Vo(this))},n.Na=function(d){this.g&&(this.response=d,Vo(this))},n.ga=function(){this.g&&Vo(this)};function Vo(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Kr(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=_.next();return d.join(`\r
`)};function Kr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function zd(d){let _="";return ne(d,function(S,k){_+=k,_+=":",_+=S,_+=`\r
`}),_}function Qa(d,_,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=zd(S),typeof d=="string"?S!=null&&pn(S):mt(d,_,S))}function xt(d){gt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(xt,gt);var $d=/^https?$/i,_m=["POST","PUT"];n=xt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cn.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(te){Lo(this,te);return}if(d=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const te of k.keys())S.set(te,k.get(te));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(te=>te.toLowerCase()=="content-type"),Y=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(_m,_,void 0)>=0)||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ye]of S)this.g.setRequestHeader(te,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(te){Lo(this,te)}};function Lo(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Fo(d),eo(d)}function Fo(d){d.A||(d.A=!0,Vt(d,"complete"),Vt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Vt(this,"complete"),Vt(this,"abort"),eo(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eo(this,!0)),xt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Js(this):this.Xa())},n.Xa=function(){Js(this)};function Js(d){if(d.h&&typeof i<"u"){if(d.v&&ys(d)==4)setTimeout(d.Ca.bind(d),0);else if(Vt(d,"readystatechange"),ys(d)==4){d.h=!1;try{const te=d.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var k;if(k=te===0){let ye=String(d.D).match(jd)[1]||null;!ye&&l.self&&l.self.location&&(ye=l.self.location.protocol.slice(0,-1)),k=!$d.test(ye?ye.toLowerCase():"")}S=k}if(S)Vt(d,"complete"),Vt(d,"success");else{d.o=6;try{var Y=ys(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Fo(d)}}finally{eo(d)}}}}function eo(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const S=d.g;d.g=null,_||Vt(d,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ys(d){return d.g?d.g.readyState:0}n.ca=function(){try{return ys(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ro(_)}};function Bd(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Fc(d){const _={};d=(d.g&&ys(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(O(d[k]))continue;var S=Di(d[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const te=_[Y]||[];_[Y]=te,te.push(S)}X(_,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(d,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||_}function Ya(d){this.za=0,this.i=[],this.j=new It,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vs("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vs("baseRetryDelayMs",5e3,d),this.Za=vs("retryDelaySeedMs",1e4,d),this.Ta=vs("forwardChannelMaxRetries",2,d),this.va=vs("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Wa(d&&d.concurrentRequestLimit),this.Ba=new $i,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ya.prototype,n.ka=8,n.I=1,n.connect=function(d,_,S,k){Pt(0),this.W=d,this.H=_||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.J=Uc(this,null,this.W),to(this)};function Xa(d){if(Ja(d),d.I==3){var _=d.V++,S=Cr(d.J);if(mt(S,"SID",d.M),mt(S,"RID",_),mt(S,"TYPE","terminate"),_s(d,S),_=new Tr(d,d.j,_),_.M=2,_.A=Ys(Cr(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=_.A,S=!0),S||(_.g=Hd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Oi(_)}Hi(d)}function hr(d){d.g&&(qi(d),d.g.cancel(),d.g=null)}function Ja(d){hr(d),d.v&&(l.clearTimeout(d.v),d.v=null),el(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function to(d){if(!Pc(d.h)&&!d.m){d.m=!0;var _=d.Ea;$||T(),K||($(),K=!0),P.add(_,d),d.D=0}}function qd(d,_){return Vi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qe(p(d.Ea,d,_),nl(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new Tr(this,this.j,d);let te=this.o;if(this.U&&(te?(te=U(te),oe(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=jc(this,Y,_),S=Cr(this.J),mt(S,"RID",d),mt(S,"CVER",22),this.G&&mt(S,"X-HTTP-Session-Id",this.G),_s(this,S),te&&(this.R?_="headers="+pn(zd(te))+"&"+_:this.u&&Qa(S,this.u,te)),Ga(this.h,Y),this.Ra&&mt(S,"TYPE","init"),this.S?(mt(S,"$req",_),mt(S,"SID","null"),Y.U=!0,Gr(Y,S,null)):Gr(Y,S,_),this.I=2}}else this.I==3&&(d?Bi(this,d):this.i.length==0||Pc(this.h)||Bi(this))};function Bi(d,_){var S;_?S=_.l:S=d.V++;const k=Cr(d.J);mt(k,"SID",d.M),mt(k,"RID",S),mt(k,"AID",d.K),_s(d,k),d.u&&d.o&&Qa(k,d.u,d.o),S=new Tr(d,d.j,S,d.D+1),d.u===null&&(S.J=d.o),_&&(d.i=_.G.concat(d.i)),_=jc(d,S,1e3),S.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ga(d.h,S),Gr(S,k,_)}function _s(d,_){d.H&&ne(d.H,function(S,k){mt(_,k,S)}),d.l&&ne({},function(S,k){mt(_,k,S)})}function jc(d,_,S){S=Math.min(d.i.length,S);const k=d.l?p(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Ye=-1;for(;;){const Wt=["count="+S];Ye==-1?S>0?(Ye=Y[0].g,Wt.push("ofs="+Ye)):Ye=0:Wt.push("ofs="+Ye);let vt=!0;for(let Jt=0;Jt<S;Jt++){var te=Y[Jt].g;const pr=Y[Jt].map;if(te-=Ye,te<0)Ye=Math.max(0,Y[Jt].g-100),vt=!1;else try{te="req"+te+"_"||"";try{var ye=pr instanceof Map?pr:Object.entries(pr);for(const[no,Es]of ye){let bs=Es;u(Es)&&(bs=$r(Es)),Wt.push(te+no+"="+encodeURIComponent(bs))}}catch(no){throw Wt.push(te+"type="+encodeURIComponent("_badmap")),no}}catch{k&&k(pr)}}if(vt){ye=Wt.join("&");break e}}ye=void 0}return d=d.i.splice(0,S),_.G=d,ye}function Pn(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;$||T(),K||($(),K=!0),P.add(_,d),d.A=0}}function ws(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qe(p(d.Da,d),nl(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qe(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),hr(this),jo(this))};function qi(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function jo(d){d.g=new Tr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Cr(d.na);mt(_,"RID","rpc"),mt(_,"SID",d.M),mt(_,"AID",d.K),mt(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&mt(_,"TO",d.ia),mt(_,"TYPE","xmlhttp"),_s(d,_),d.u&&d.o&&Qa(_,d.u,d.o),d.O&&(d.g.H=d.O);var S=d.g;d=d.ba,S.M=1,S.A=Ys(Cr(_)),S.u=null,S.R=!0,Tc(S,d)}n.Va=function(){this.C!=null&&(this.C=null,hr(this),ws(this),Pt(19))};function el(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function tl(d,_){var S=null;if(d.g==_){el(d),qi(d),d.g=null;var k=2}else if(Ac(d.h,_))S=_.G,Li(d.h,_),k=1;else return;if(d.I!=0){if(_.o)if(k==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var Y=d.D;k=Ir(),Vt(k,new Oo(k,S)),to(d)}else Pn(d);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(k==1&&qd(d,_)||k==2&&ws(d)))switch(S&&S.length>0&&(_=d.h,_.i=_.i.concat(S)),Y){case 1:fr(d,5);break;case 4:fr(d,10);break;case 3:fr(d,6);break;default:fr(d,2)}}}function nl(d,_){let S=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(S*=2),S*_}function fr(d,_){if(d.j.info("Error code "+_),_==2){var S=p(d.bb,d),k=d.Ua;const Y=!k;k=new ds(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Fi(k,"https"),Ys(k),Y?ms(k.toString(),S):gs(k.toString(),S)}else Pt(2);d.I=0,d.l&&d.l.pa(_),Hi(d),Ja(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Hi(d){if(d.I=0,d.ja=[],d.l){const _=cr(d.h);(_.length!=0||d.i.length!=0)&&(A(d.ja,_),A(d.ja,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.oa()}}function Uc(d,_,S){var k=S instanceof ds?Cr(S):new ds(S);if(k.g!="")_&&(k.g=_+"."+k.g),hs(k,k.u);else{var Y=l.location;k=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new ds(null);k&&Fi(te,k),_&&(te.g=_),Y&&hs(te,Y),S&&(te.h=S),k=te}return S=d.G,_=d.wa,S&&_&&mt(k,S,_),mt(k,"VER",d.ka),_s(d,k),k}function Hd(d,_,S){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new xt(new Xs({ab:S})):new xt(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wd(){}n=Wd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function rl(){}rl.prototype.g=function(d,_){return new En(d,_)};function En(d,_){gt.call(this),this.g=new Ya(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!O(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Uo(this)}m(En,gt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Xa(this.g)},En.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.v&&(S={},S.__data__=$r(d),d=S);_.i.push(new ym(_.Ya++,d)),_.I==3&&to(_)},En.prototype.N=function(){this.g.l=null,delete this.j,Xa(this.g),delete this.g,En.Z.N.call(this)};function Gd(d){ko.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const S in _){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}m(Gd,ko);function Kd(){No.call(this),this.status=1}m(Kd,No);function Uo(d){this.g=d}m(Uo,Wd),Uo.prototype.ra=function(){Vt(this.g,"a")},Uo.prototype.qa=function(d){Vt(this.g,new Gd(d))},Uo.prototype.pa=function(d){Vt(this.g,new Kd)},Uo.prototype.oa=function(){Vt(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,LP=function(){return new rl},VP=function(){return Ir()},MP=Zn,ev={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,mf=lr,Xt.COMPLETE="complete",OP=Xt,qr.EventType=us,us.OPEN="a",us.CLOSE="b",us.ERROR="c",us.MESSAGE="d",gt.prototype.listen=gt.prototype.J,xu=qr,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,DP=xt}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});const IS="@firebase/firestore",xS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new C_("@firebase/firestore");function Ml(){return Ca.logLevel}function de(n,...e){if(Ca.logLevel<=it.DEBUG){const t=e.map(R_);Ca.debug(`Firestore (${Ec}): ${n}`,...t)}}function Bn(n,...e){if(Ca.logLevel<=it.ERROR){const t=e.map(R_);Ca.error(`Firestore (${Ec}): ${n}`,...t)}}function Pa(n,...e){if(Ca.logLevel<=it.WARN){const t=e.map(R_);Ca.warn(`Firestore (${Ec}): ${n}`,...t)}}function R_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,FP(n,r,t)}function FP(n,e,t){let r=`FIRESTORE (${Ec}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Bn(r),new Error(r)}function Ve(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||FP(e,s,r)}function Ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends xo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(In.UNAUTHENTICATED)))}shutdown(){}}class Mz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Vz{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ve(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let i=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vs,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=i;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vs)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new jP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class Lz{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Fz{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Lz(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jz{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ks(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new TS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Uz(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function tv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return my(s)===my(i)?Ke(s,i):my(s)?1:-1}return Ke(n.length,e.length)}const zz=55296,$z=57343;function my(n){const e=n.charCodeAt(0);return e>=zz&&e<=$z}function ec(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function UP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="__name__";class As{constructor(e,t,r){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&De(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=As.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return Ke(e.length,t.length)}static compareSegments(e,t){const r=As.isNumericId(e),s=As.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?As.extractNumericId(e).compare(As.extractNumericId(t)):tv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class yt extends As{construct(e,t,r){return new yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new yt(t)}static emptyPath(){return new yt([])}}const Bz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends As{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return Bz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CS}static keyField(){return new jt([CS])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new be(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new be(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(i(),s++)}if(i(),l)throw new be(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(yt.fromString(e))}static fromName(e){return new Se(yt.fromString(e).popFirst(5))}static empty(){return new Se(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n,e,t){if(!t)throw new be(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qz(n,e,t,r){if(e===!0&&r===!0)throw new be(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function PS(n){if(!Se.isDocumentKey(n))throw new be(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AS(n){if(Se.isDocumentKey(n))throw new be(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $P(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function N_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function qn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=N_(n);throw new be(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(n,e){const t={typeString:n};return e&&(t.value=e),t}function vd(n,e){if(!$P(n))throw new be(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&l!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new be(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=-62135596800,kS=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*kS);return new _t(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<RS)throw new be(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kS}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vd(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:nn("string",_t._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new _t(0,0))}static max(){return new je(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;class Kf{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function nv(n){return n.fields.find((e=>e.kind===2))}function aa(n){return n.fields.filter((e=>e.kind!==2))}Kf.UNKNOWN_ID=-1;class gf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yu(0,br.min())}}function Hz(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new _t(t+1,0):new _t(t,r));return new br(s,Se.empty(),e)}function BP(n){return new br(n.readTime,n.key,Qu)}class br{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new br(je.min(),Se.empty(),Qu)}static max(){return new br(je.max(),Se.empty(),Qu)}}function D_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==qP)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,r)=>{t(e)}))}static reject(e){return new Z(((t,r)=>{r(e)}))}static waitFor(e){return new Z(((t,r)=>{let s=0,i=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++i,l&&i===s&&t()}),(h=>r(h)))})),l=!0,i===s&&t()}))}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next((s=>s?Z.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new Z(((r,s)=>{const i=e.length,l=new Array(i);let u=0;for(let h=0;h<i;h++){const p=h;t(e[p]).next((g=>{l[p]=g,++u,u===i&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new Z(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="SimpleDb";class Wp{static open(e,t,r,s){try{return new Wp(t,e.transaction(s,r))}catch(i){throw new ku(t,i)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Vs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new ku(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=O_(r.target.error);this.S.reject(new ku(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(de(vr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Gz(t)}}class wi{static delete(e){return de(vr,"Removing database:",e),ca(gP().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!xP())return!1;if(wi.F())return!0;const e=un(),t=wi.M(e),r=0<t&&t<10,s=WP(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,wi.M(un())===12.2&&Bn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(de(vr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const l=i.target.result;t(l)},s.onblocked=()=>{r(new ku(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const l=i.target.error;l.name==="VersionError"?r(new be(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new be(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new ku(e,l))},s.onupgradeneeded=i=>{de(vr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const l=i.target.result;this.N.k(l,s.transaction,i.oldVersion,this.version).next((()=>{de(vr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const i=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=Wp.open(this.db,e,i?"readonly":"readwrite",r),h=s(u).next((p=>(u.C(),p))).catch((p=>(u.abort(p),Z.reject(p)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,p=h.name!=="FirebaseError"&&l<3;if(de(vr,"Transaction failed with error:",h.message,"Retrying:",p),this.close(),!p)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function WP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Wz{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ca(this.U.delete())}}class ku extends be{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ki(n){return n.name==="IndexedDbTransactionError"}class Gz{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(de(vr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(de(vr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ca(r)}add(e){return de(vr,"ADD",this.store.name,e,e),ca(this.store.add(e))}get(e){return ca(this.store.get(e)).next((t=>(t===void 0&&(t=null),de(vr,"GET",this.store.name,e,t),t)))}delete(e){return de(vr,"DELETE",this.store.name,e),ca(this.store.delete(e))}count(){return de(vr,"COUNT",this.store.name),ca(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Z(((l,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{l(h.target.result)}}))}{const i=this.cursor(r),l=[];return this.H(i,((u,h)=>{l.push(h)})).next((()=>l))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Z(((s,i)=>{r.onerror=l=>{i(l.target.error)},r.onsuccess=l=>{s(l.target.result)}}))}Z(e,t){de(vr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,((i,l,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}te(e){const t=this.cursor({});return new Z(((r,s)=>{t.onerror=i=>{const l=O_(i.target.error);s(l)},t.onsuccess=i=>{const l=i.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,t){const r=[];return new Z(((s,i)=>{e.onerror=l=>{i(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void s();const h=new Wz(u),p=t(u.primaryKey,u.value,h);if(p instanceof Z){const g=p.catch((m=>(h.done(),Z.reject(m))));r.push(g)}h.isDone?s():h.G===null?u.continue():u.continue(h.G)}})).next((()=>Z.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ca(n){return new Z(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=O_(r.target.error);t(s)}}))}let NS=!1;function O_(n){const e=wi.M(un());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return NS||(NS=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Nu="IndexBackfiller";class Kz{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){de(Nu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();de(Nu,`Documents written: ${t}`)}catch(t){ki(t)?de(Nu,"Ignoring IndexedDB error during index backfill: ",t):await Ua(t)}await this.re(6e4)}))}}class Zz{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,i=!0;return Z.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return de(Nu,`Processing collection: ${l}`),this.oe(e,l,s).next((u=>{s-=u,r.add(l)}));i=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((i=>{const l=i.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(s,i))).next((u=>(de(Nu,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,i)=>{const l=BP(i);D_(l,r)>0&&(r=l)})),new br(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=-1;function Gp(n){return n==null}function Xu(n){return n===0&&1/n==-1/0}function Qz(n){return typeof n=="number"&&Number.isInteger(n)&&!Xu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="";function Ln(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DS(e)),e=Yz(n.get(t),e);return DS(e)}function Yz(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case Zf:t+="";break;default:t+=i}}return t}function DS(n){return n+Zf+""}function Ds(n){const e=n.length;if(Ve(e>=2,64408,{path:n}),e===2)return Ve(n.charAt(0)===Zf&&n.charAt(1)==="",56145,{path:n}),yt.emptyPath();const t=e-2,r=[];let s="";for(let i=0;i<e;){const l=n.indexOf(Zf,i);switch((l<0||l>t)&&De(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(i,l);let h;s.length===0?h=u:(s+=u,h=s,s=""),r.push(h);break;case"":s+=n.substring(i,l),s+="\0";break;case"":s+=n.substring(i,l+1);break;default:De(61167,{path:n})}i=l+2}return new yt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="remoteDocuments",_d="owner",Al="owner",Ju="mutationQueues",Xz="userId",ns="mutations",OS="batchId",fa="userMutationsIndex",MS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(n,e){return[n,Ln(e)]}function GP(n,e,t){return[n,Ln(e),t]}const Jz={},tc="documentMutations",Qf="remoteDocumentsV14",e$=["prefixPath","collectionGroup","readTime","documentId"],vf="documentKeyIndex",t$=["prefixPath","collectionGroup","documentId"],KP="collectionGroupIndex",n$=["collectionGroup","readTime","prefixPath","documentId"],ed="remoteDocumentGlobal",rv="remoteDocumentGlobalKey",nc="targets",ZP="queryTargetsIndex",r$=["canonicalId","targetId"],rc="targetDocuments",s$=["targetId","path"],M_="documentTargetsIndex",o$=["path","targetId"],Yf="targetGlobalKey",ga="targetGlobal",td="collectionParents",i$=["collectionId","parent"],sc="clientMetadata",a$="clientId",Kp="bundles",l$="bundleId",Zp="namedQueries",c$="name",V_="indexConfiguration",u$="indexId",sv="collectionGroupIndex",d$="collectionGroup",Du="indexState",h$=["indexId","uid"],QP="sequenceNumberIndex",f$=["uid","sequenceNumber"],Ou="indexEntries",p$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],YP="documentKeyIndex",m$=["indexId","uid","orderedDocumentKey"],Qp="documentOverlays",g$=["userId","collectionPath","documentId"],ov="collectionPathOverlayIndex",y$=["userId","collectionPath","largestBatchId"],XP="collectionGroupOverlayIndex",v$=["userId","collectionGroup","largestBatchId"],L_="globals",_$="name",JP=[Ju,ns,tc,la,nc,_d,ga,rc,sc,ed,td,Kp,Zp],w$=[...JP,Qp],eA=[Ju,ns,tc,Qf,nc,_d,ga,rc,sc,ed,td,Kp,Zp,Qp],tA=eA,F_=[...tA,V_,Du,Ou],E$=F_,nA=[...F_,L_],b$=nA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends HP{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function dn(n,e){const t=Ze(n);return wi.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ni(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rf(this.root,e,this.comparator,!0)}}class rf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??xn.RED,this.left=s??xn.EMPTY,this.right=i??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new xn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return xn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LS(this.data.getIterator())}getIteratorFrom(e){return new LS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class LS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new sr([])}unionWith(e){let t=new wt(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new sA("Invalid base64 string: "+i):i}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const S$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(n){if(Ve(!!n,39018),typeof n=="string"){let e=0;const t=S$.exec(n);if(Ve(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bo(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="server_timestamp",iA="__type__",aA="__previous_value__",lA="__local_write_time__";function j_(n){return(n?.mapValue?.fields||{})[iA]?.stringValue===oA}function Yp(n){const e=n.mapValue.fields[aA];return j_(e)?Yp(e):e}function nd(n){const e=Eo(n.mapValue.fields[lA].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,t,r,s,i,l,u,h,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g}}const Xf="(default)";class Aa{constructor(e,t){this.projectId=e,this.database=t||Xf}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="__type__",cA="__max__",pi={mapValue:{fields:{__type__:{stringValue:cA}}}},z_="__vector__",oc="value",_f={nullValue:"NULL_VALUE"};function Ii(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?j_(n)?4:uA(n)?9007199254740991:Xp(n)?10:11:De(28295,{value:n})}function $s(n,e){if(n===e)return!0;const t=Ii(n);if(t!==Ii(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nd(n).isEqual(nd(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=Eo(s.timestampValue),u=Eo(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return bo(s.bytesValue).isEqual(bo(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return Dt(s.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Dt(s.integerValue)===Dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Dt(s.doubleValue),u=Dt(i.doubleValue);return l===u?Xu(l)===Xu(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return ec(n.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return(function(s,i){const l=s.mapValue.fields||{},u=i.mapValue.fields||{};if(VS(l)!==VS(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!$s(l[h],u[h])))return!1;return!0})(n,e);default:return De(52216,{left:n})}}function rd(n,e){return(n.values||[]).find((t=>$s(t,e)))!==void 0}function xi(n,e){if(n===e)return 0;const t=Ii(n),r=Ii(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return(function(i,l){const u=Dt(i.integerValue||i.doubleValue),h=Dt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,e);case 3:return FS(n.timestampValue,e.timestampValue);case 4:return FS(nd(n),nd(e));case 5:return tv(n.stringValue,e.stringValue);case 6:return(function(i,l){const u=bo(i),h=bo(l);return u.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(i,l){const u=i.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const g=Ke(u[p],h[p]);if(g!==0)return g}return Ke(u.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,l){const u=Ke(Dt(i.latitude),Dt(l.latitude));return u!==0?u:Ke(Dt(i.longitude),Dt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return jS(n.arrayValue,e.arrayValue);case 10:return(function(i,l){const u=i.fields||{},h=l.fields||{},p=u[oc]?.arrayValue,g=h[oc]?.arrayValue,m=Ke(p?.values?.length||0,g?.values?.length||0);return m!==0?m:jS(p,g)})(n.mapValue,e.mapValue);case 11:return(function(i,l){if(i===pi.mapValue&&l===pi.mapValue)return 0;if(i===pi.mapValue)return 1;if(l===pi.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let m=0;m<h.length&&m<g.length;++m){const w=tv(h[m],g[m]);if(w!==0)return w;const I=xi(u[h[m]],p[g[m]]);if(I!==0)return I}return Ke(h.length,g.length)})(n.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function FS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=Eo(n),r=Eo(e),s=Ke(t.seconds,r.seconds);return s!==0?s:Ke(t.nanos,r.nanos)}function jS(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=xi(t[s],r[s]);if(i)return i}return Ke(t.length,r.length)}function ic(n){return av(n)}function av(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Eo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return bo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Se.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=av(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${av(t.fields[l])}`;return s+"}"})(n.mapValue):De(61005,{value:n})}function wf(n){switch(Ii(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yp(n);return e?16+wf(e):16;case 5:return 2*n.stringValue.length;case 6:return bo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+wf(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Ni(r.fields,((i,l)=>{s+=i.length+wf(l)})),s})(n.mapValue);default:throw De(13486,{value:n})}}function $_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function lv(n){return!!n&&"integerValue"in n}function sd(n){return!!n&&"arrayValue"in n}function US(n){return!!n&&"nullValue"in n}function zS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ef(n){return!!n&&"mapValue"in n}function Xp(n){return(n?.mapValue?.fields||{})[U_]?.stringValue===z_}function Mu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ni(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Mu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mu(n.arrayValue.values[t]);return e}return{...n}}function uA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cA}const dA={mapValue:{fields:{[U_]:{stringValue:z_},[oc]:{arrayValue:{}}}}};function x$(n){return"nullValue"in n?_f:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?$_(Aa.empty(),Se.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Xp(n)?dA:{mapValue:{}}:De(35942,{value:n})}function T$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?$_(Aa.empty(),Se.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?dA:"mapValue"in n?Xp(n)?{mapValue:{}}:pi:De(61959,{value:n})}function $S(n,e){const t=xi(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function BS(n,e){const t=xi(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(t)}setAll(e){let t=jt.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=Mu(l):s.push(u.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Ef(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ni(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Vn(Mu(this.value))}}function hA(n){const e=[];return Ni(n.fields,((t,r)=>{const s=new jt([t]);if(Ef(r)){const i=hA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)})),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,r,s,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Bt(e,0,je.min(),je.min(),je.min(),Vn.empty(),0)}static newFoundDocument(e,t,r,s){return new Bt(e,1,t,je.min(),r,s,0)}static newNoDocument(e,t){return new Bt(e,2,t,je.min(),je.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,je.min(),je.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.position=e,this.inclusive=t}}function qS(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],l=n.position[s];if(i.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),t.key):r=xi(l,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function HS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$s(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t="asc"){this.field=e,this.dir=t}}function C$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{}class ut extends fA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new P$(e,t,r):t==="array-contains"?new k$(e,r):t==="in"?new _A(e,r):t==="not-in"?new N$(e,r):t==="array-contains-any"?new D$(e,r):new ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new A$(e,r):new R$(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xi(t,this.value)):t!==null&&Ii(this.value)===Ii(t)&&this.matchesComparison(xi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends fA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bt(e,t)}matches(e){return lc(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lc(n){return n.op==="and"}function cv(n){return n.op==="or"}function B_(n){return pA(n)&&lc(n)}function pA(n){for(const e of n.filters)if(e instanceof bt)return!1;return!0}function uv(n){if(n instanceof ut)return n.field.canonicalString()+n.op.toString()+ic(n.value);if(B_(n))return n.filters.map((e=>uv(e))).join(",");{const e=n.filters.map((t=>uv(t))).join(",");return`${n.op}(${e})`}}function mA(n,e){return n instanceof ut?(function(r,s){return s instanceof ut&&r.op===s.op&&r.field.isEqual(s.field)&&$s(r.value,s.value)})(n,e):n instanceof bt?(function(r,s){return s instanceof bt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,l,u)=>i&&mA(l,s.filters[u])),!0):!1})(n,e):void De(19439)}function gA(n,e){const t=n.filters.concat(e);return bt.create(t,n.op)}function yA(n){return n instanceof ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${ic(t.value)}`})(n):n instanceof bt?(function(t){return t.op.toString()+" {"+t.getFilters().map(yA).join(" ,")+"}"})(n):"Filter"}class P$ extends ut{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class A$ extends ut{constructor(e,t){super(e,"in",t),this.keys=vA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class R$ extends ut{constructor(e,t){super(e,"not-in",t),this.keys=vA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function vA(n,e){return(e.arrayValue?.values||[]).map((t=>Se.fromName(t.referenceValue)))}class k$ extends ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sd(t)&&rd(t.arrayValue,this.value)}}class _A extends ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rd(this.value.arrayValue,t)}}class N$ extends ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!rd(this.value.arrayValue,t)}}class D$ extends ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>rd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e,t=null,r=[],s=[],i=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=u,this.Te=null}}function dv(n,e=null,t=[],r=[],s=null,i=null,l=null){return new O$(n,e,t,r,s,i,l)}function Ra(n){const e=Ze(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>uv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Gp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ic(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ic(r))).join(",")),e.Te=t}return e.Te}function wd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!C$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!HS(n.startAt,e.startAt)&&HS(n.endAt,e.endAt)}function ep(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function tp(n,e){return n.filters.filter((t=>t instanceof ut&&t.field.isEqual(e)))}function WS(n,e,t){let r=_f,s=!0;for(const i of tp(n,e)){let l=_f,u=!0;switch(i.op){case"<":case"<=":l=x$(i.value);break;case"==":case"in":case">=":l=i.value;break;case">":l=i.value,u=!1;break;case"!=":case"not-in":l=_f}$S({value:r,inclusive:s},{value:l,inclusive:u})<0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];$S({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}function GS(n,e,t){let r=pi,s=!0;for(const i of tp(n,e)){let l=pi,u=!0;switch(i.op){case">=":case">":l=T$(i.value),u=!1;break;case"==":case"in":case"<=":l=i.value;break;case"<":l=i.value,u=!1;break;case"!=":case"not-in":l=pi}BS({value:r,inclusive:s},{value:l,inclusive:u})>0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];BS({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t=null,r=[],s=[],i=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M$(n,e,t,r,s,i,l,u){return new Jp(n,e,t,r,s,i,l,u)}function Ed(n){return new Jp(n)}function KS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function V$(n){return n.collectionGroup!==null}function Vu(n){const e=Ze(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new wt(jt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Jf(i,r))})),t.has(jt.keyField().canonicalString())||e.Ie.push(new Jf(jt.keyField(),r))}return e.Ie}function Fr(n){const e=Ze(n);return e.Ee||(e.Ee=L$(e,Vu(n))),e.Ee}function L$(n,e){if(n.limitType==="F")return dv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Jf(s.field,i)}));const t=n.endAt?new ac(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ac(n.startAt.position,n.startAt.inclusive):null;return dv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function hv(n,e,t){return new Jp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function em(n,e){return wd(Fr(n),Fr(e))&&n.limitType===e.limitType}function wA(n){return`${Ra(Fr(n))}|lt:${n.limitType}`}function Vl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>yA(s))).join(", ")}]`),Gp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>ic(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>ic(s))).join(",")),`Target(${r})`})(Fr(n))}; limitType=${n.limitType})`}function bd(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of Vu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,h){const p=qS(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,Vu(r),s)||r.endAt&&!(function(l,u,h){const p=qS(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,Vu(r),s))})(n,e)}function F$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EA(n){return(e,t)=>{let r=!1;for(const s of Vu(n)){const i=j$(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function j$(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):(function(i,l,u){const h=l.data.field(i),p=u.data.field(i);return h!==null&&p!==null?xi(h,p):De(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return rA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=new Ot(Se.comparator);function wr(){return U$}const bA=new Ot(Se.comparator);function Tu(...n){let e=bA;for(const t of n)e=e.insert(t.key,t);return e}function SA(n){let e=bA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Os(){return Lu()}function IA(){return Lu()}function Lu(){return new To((n=>n.toString()),((n,e)=>n.isEqual(e)))}const z$=new Ot(Se.comparator),$$=new wt(Se.comparator);function nt(...n){let e=$$;for(const t of n)e=e.add(t);return e}const B$=new wt(Ke);function q$(){return B$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xu(e)?"-0":e}}function xA(n){return{integerValue:""+n}}function H$(n,e){return Qz(e)?xA(e):q_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this._=void 0}}function W$(n,e,t){return n instanceof od?(function(s,i){const l={fields:{[iA]:{stringValue:oA},[lA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&j_(i)&&(i=Yp(i)),i&&(l.fields[aA]=i),{mapValue:l}})(t,e):n instanceof cc?CA(n,e):n instanceof uc?PA(n,e):(function(s,i){const l=TA(s,i),u=ZS(l)+ZS(s.Ae);return lv(l)&&lv(s.Ae)?xA(u):q_(s.serializer,u)})(n,e)}function G$(n,e,t){return n instanceof cc?CA(n,e):n instanceof uc?PA(n,e):t}function TA(n,e){return n instanceof id?(function(r){return lv(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class od extends tm{}class cc extends tm{constructor(e){super(),this.elements=e}}function CA(n,e){const t=AA(e);for(const r of n.elements)t.some((s=>$s(s,r)))||t.push(r);return{arrayValue:{values:t}}}class uc extends tm{constructor(e){super(),this.elements=e}}function PA(n,e){let t=AA(e);for(const r of n.elements)t=t.filter((s=>!$s(s,r)));return{arrayValue:{values:t}}}class id extends tm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ZS(n){return Dt(n.integerValue||n.doubleValue)}function AA(n){return sd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,t){this.field=e,this.transform=t}}function Z$(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof cc&&s instanceof cc||r instanceof uc&&s instanceof uc?ec(r.elements,s.elements,$s):r instanceof id&&s instanceof id?$s(r.Ae,s.Ae):r instanceof od&&s instanceof od})(n.transform,e.transform)}class Q${constructor(e,t){this.version=e,this.transformResults=t}}class _n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class nm{}function RA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sd(n.key,_n.none()):new bc(n.key,n.data,_n.none());{const t=n.data,r=Vn.empty();let s=new wt(jt.comparator);for(let i of e.fields)if(!s.has(i)){let l=t.field(i);l===null&&i.length>1&&(i=i.popLast(),l=t.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new Co(n.key,r,new sr(s.toArray()),_n.none())}}function Y$(n,e,t){n instanceof bc?(function(s,i,l){const u=s.value.clone(),h=YS(s.fieldTransforms,i,l.transformResults);u.setAll(h),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Co?(function(s,i,l){if(!bf(s.precondition,i))return void i.convertToUnknownDocument(l.version);const u=YS(s.fieldTransforms,i,l.transformResults),h=i.data;h.setAll(kA(s)),h.setAll(u),i.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Fu(n,e,t,r){return n instanceof bc?(function(i,l,u,h){if(!bf(i.precondition,l))return u;const p=i.value.clone(),g=XS(i.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Co?(function(i,l,u,h){if(!bf(i.precondition,l))return u;const p=XS(i.fieldTransforms,h,l),g=l.data;return g.setAll(kA(i)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(i,l,u){return bf(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function X$(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=TA(r.transform,s||null);i!=null&&(t===null&&(t=Vn.empty()),t.set(r.field,i))}return t||null}function QS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ec(r,s,((i,l)=>Z$(i,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bc extends nm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Co extends nm{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function YS(n,e,t){const r=new Map;Ve(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],l=i.transform,u=e.data.field(i.field);r.set(i.field,G$(l,u,t[s]))}return r}function XS(n,e,t){const r=new Map;for(const s of n){const i=s.transform,l=t.data.field(s.field);r.set(s.field,W$(i,l,e))}return r}class Sd extends nm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NA extends nm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Y$(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=IA();return this.mutations.forEach((s=>{const i=e.get(s.key),l=i.overlayedDocument;let u=this.applyToLocalView(l,i.mutatedFields);u=t.has(s.key)?null:u;const h=RA(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),nt())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,((t,r)=>QS(t,r)))&&ec(this.baseMutations,e.baseMutations,((t,r)=>QS(t,r)))}}class W_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return z$})();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new W_(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,dt;function eB(n){switch(n){case re.OK:return De(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function DA(n){if(n===void 0)return Bn("GRPC error has no .code"),re.UNKNOWN;switch(n){case tn.OK:return re.OK;case tn.CANCELLED:return re.CANCELLED;case tn.UNKNOWN:return re.UNKNOWN;case tn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case tn.INTERNAL:return re.INTERNAL;case tn.UNAVAILABLE:return re.UNAVAILABLE;case tn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case tn.NOT_FOUND:return re.NOT_FOUND;case tn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case tn.ABORTED:return re.ABORTED;case tn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case tn.DATA_LOSS:return re.DATA_LOSS;default:return De(39323,{code:n})}}(dt=tn||(tn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=new _i([4294967295,4294967295],0);function JS(n){const e=tB().encode(n),t=new NP;return t.update(e),new Uint8Array(t.digest())}function eI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new _i([t,r],0),new _i([s,i],0)]}class K_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(r<0)throw new Cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_i.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(_i.fromNumber(r)));return s.compare(nB)===1&&(s=new _i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=JS(e),[r,s]=eI(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new K_(i,s,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=JS(e),[r,s]=eI(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Id.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rm(je.min(),s,new Ot(Ke),wr(),nt())}}class Id{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Id(r,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class OA{constructor(e,t){this.targetId=e,this.Ce=t}}class MA{constructor(e,t,r=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class tI{constructor(){this.ve=0,this.Fe=nI(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),t=nt(),r=nt();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:De(38017,{changeType:i})}})),new Id(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=nI()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rB{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.Je=sf(),this.He=sf(),this.Ye=new Ot(Ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(ep(i))if(r===0){const l=new Se(i.path);this.et(t,l,Bt.newNoDocument(l,je.min()))}else Ve(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let l,u;try{l=bo(r).toUint8Array()}catch(h){if(h instanceof sA)return Pa("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new K_(l,s,i)}catch(h){return Pa(h instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,l)=>{const u=this.ot(l);if(u){if(i.current&&ep(u.target)){const h=new Se(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Bt.newNoDocument(h,e))}i.Be&&(t.set(l,i.ke()),i.qe())}}));let r=nt();this.He.forEach(((i,l)=>{let u=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,l)=>l.setReadTime(e)));const s=new rm(e,t,this.Ye,this.je,r);return this.je=wr(),this.Je=sf(),this.He=sf(),this.Ye=new Ot(Ke),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new tI,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new wt(Ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new wt(Ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tI),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function sf(){return new Ot(Se.comparator)}function nI(){return new Ot(Se.comparator)}const sB={asc:"ASCENDING",desc:"DESCENDING"},oB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iB={and:"AND",or:"OR"};class aB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fv(n,e){return n.useProto3Json||Gp(e)?e:{value:e}}function dc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lB(n,e){return dc(n,e.toTimestamp())}function Hn(n){return Ve(!!n,49232),je.fromTimestamp((function(t){const r=Eo(t);return new _t(r.seconds,r.nanos)})(n))}function Z_(n,e){return pv(n,e).canonicalString()}function pv(n,e){const t=(function(s){return new yt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function LA(n){const e=yt.fromString(n);return Ve(WA(e),10190,{key:e.toString()}),e}function np(n,e){return Z_(n.databaseId,e.path)}function ya(n,e){const t=LA(e);if(t.get(1)!==n.databaseId.projectId)throw new be(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(UA(t))}function FA(n,e){return Z_(n.databaseId,e)}function jA(n){const e=LA(n);return e.length===4?yt.emptyPath():UA(e)}function mv(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UA(n){return Ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rI(n,e,t){return{name:np(n,e),fields:t.value.mapValue.fields}}function cB(n,e,t){const r=ya(n,e.name),s=Hn(e.updateTime),i=e.createTime?Hn(e.createTime):je.min(),l=new Vn({mapValue:{fields:e.fields}}),u=Bt.newFoundDocument(r,s,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function uB(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(p,g){return p.useProto3Json?(Ve(g===void 0||typeof g=="string",58123),rn.fromBase64String(g||"")):(Ve(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),rn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const g=p.code===void 0?re.UNKNOWN:DA(p.code);return new be(g,p.message||"")})(l);t=new MA(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ya(n,r.document.name),i=Hn(r.document.updateTime),l=r.document.createTime?Hn(r.document.createTime):je.min(),u=new Vn({mapValue:{fields:r.document.fields}}),h=Bt.newFoundDocument(s,i,l,u),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Sf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ya(n,r.document),i=r.readTime?Hn(r.readTime):je.min(),l=Bt.newNoDocument(s,i),u=r.removedTargetIds||[];t=new Sf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ya(n,r.document),i=r.removedTargetIds||[];t=new Sf([],i,s,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new J$(s,i),u=r.targetId;t=new OA(u,l)}}return t}function rp(n,e){let t;if(e instanceof bc)t={update:rI(n,e.key,e.value)};else if(e instanceof Sd)t={delete:np(n,e.key)};else if(e instanceof Co)t={update:rI(n,e.key,e.data),updateMask:gB(e.fieldMask)};else{if(!(e instanceof NA))return De(16599,{Vt:e.type});t={verify:np(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,l){const u=l.transform;if(u instanceof od)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof cc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof uc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof id)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw De(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:lB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:De(27497)})(n,e.precondition)),t}function gv(n,e){const t=e.currentDocument?(function(i){return i.updateTime!==void 0?_n.updateTime(Hn(i.updateTime)):i.exists!==void 0?_n.exists(i.exists):_n.none()})(e.currentDocument):_n.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(l,u){let h=null;if("setToServerValue"in u)Ve(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),h=new od;else if("appendMissingElements"in u){const g=u.appendMissingElements.values||[];h=new cc(g)}else if("removeAllFromArray"in u){const g=u.removeAllFromArray.values||[];h=new uc(g)}else"increment"in u?h=new id(l,u.increment):De(16584,{proto:u});const p=jt.fromServerFormat(u.fieldPath);return new K$(p,h)})(n,s))):[];if(e.update){e.update.name;const s=ya(n,e.update.name),i=new Vn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const p=h.fieldPaths||[];return new sr(p.map((g=>jt.fromServerFormat(g))))})(e.updateMask);return new Co(s,i,l,t,r)}return new bc(s,i,t,r)}if(e.delete){const s=ya(n,e.delete);return new Sd(s,t)}if(e.verify){const s=ya(n,e.verify);return new NA(s,t)}return De(1463,{proto:e})}function dB(n,e){return n&&n.length>0?(Ve(e!==void 0,14353),n.map((t=>(function(s,i){let l=s.updateTime?Hn(s.updateTime):Hn(i);return l.isEqual(je.min())&&(l=Hn(i)),new Q$(l,s.transformResults||[])})(t,e)))):[]}function zA(n,e){return{documents:[FA(n,e.path)]}}function $A(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=FA(n,s);const i=(function(p){if(p.length!==0)return HA(bt.create(p,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Ll(w.field),direction:fB(w.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=fv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function BA(n){let e=jA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let i=[];t.where&&(i=(function(m){const w=qA(m);return w instanceof bt&&B_(w)?w.getFilters():[w]})(t.where));let l=[];t.orderBy&&(l=(function(m){return m.map((w=>(function(A){return new Jf(Fl(A.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(w)))})(t.orderBy));let u=null;t.limit&&(u=(function(m){let w;return w=typeof m=="object"?m.value:m,Gp(w)?null:w})(t.limit));let h=null;t.startAt&&(h=(function(m){const w=!!m.before,I=m.values||[];return new ac(I,w)})(t.startAt));let p=null;return t.endAt&&(p=(function(m){const w=!m.before,I=m.values||[];return new ac(I,w)})(t.endAt)),M$(e,s,l,i,u,"F",h,p)}function hB(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Fl(t.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fl(t.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fl(t.unaryFilter.field);return ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fl(t.unaryFilter.field);return ut.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ut.create(Fl(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return bt.create(t.compositeFilter.filters.map((r=>qA(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(t.compositeFilter.op))})(n):De(30097,{filter:n})}function fB(n){return sB[n]}function pB(n){return oB[n]}function mB(n){return iB[n]}function Ll(n){return{fieldPath:n.canonicalString()}}function Fl(n){return jt.fromServerFormat(n.fieldPath)}function HA(n){return n instanceof ut?(function(t){if(t.op==="=="){if(zS(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NAN"}};if(US(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zS(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NOT_NAN"}};if(US(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(t.field),op:pB(t.op),value:t.value}}})(n):n instanceof bt?(function(t){const r=t.getFilters().map((s=>HA(s)));return r.length===1?r[0]:{compositeFilter:{op:mB(t.op),filters:r}}})(n):De(54877,{filter:n})}function gB(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function WA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t,r,s,i=je.min(),l=je.min(),u=rn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.yt=e}}function yB(n,e){let t;if(e.document)t=cB(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Se.fromSegments(e.noDocument.path),s=Na(e.noDocument.readTime);t=Bt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return De(56709);{const r=Se.fromSegments(e.unknownDocument.path),s=Na(e.unknownDocument.version);t=Bt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const i=new _t(s[0],s[1]);return je.fromTimestamp(i)})(e.readTime)),t}function sI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:sp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,l){return{name:np(i,l.key),fields:l.data.value.mapValue.fields,updateTime:dc(i,l.version.toTimestamp()),createTime:dc(i,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ka(e.version)};else{if(!e.isUnknownDocument())return De(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:ka(e.version)}}return r}function sp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ka(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Na(n){const e=new _t(n.seconds,n.nanoseconds);return je.fromTimestamp(e)}function ua(n,e){const t=(e.baseMutations||[]).map((i=>gv(n.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const l=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>gv(n.yt,i))),s=_t.fromMillis(e.localWriteTimeMs);return new H_(e.batchId,s,t,r)}function Pu(n){const e=Na(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Na(n.lastLimboFreeSnapshotVersion):je.min();let r;return r=(function(i){return i.documents!==void 0})(n.query)?(function(i){const l=i.documents.length;return Ve(l===1,1966,{count:l}),Fr(Ed(jA(i.documents[0])))})(n.query):(function(i){return Fr(BA(i))})(n.query),new po(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,rn.fromBase64String(n.resumeToken))}function KA(n,e){const t=ka(e.snapshotVersion),r=ka(e.lastLimboFreeSnapshotVersion);let s;s=ep(e.target)?zA(n.yt,e.target):$A(n.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ra(e.target),readTime:t,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function ZA(n){const e=BA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hv(e,e.limit,"L"):e}function gy(n,e){return new G_(e.largestBatchId,gv(n.yt,e.overlayMutation))}function oI(n,e){const t=e.path.lastSegment();return[n,Ln(e.path.popLast()),t]}function iI(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:ka(r.readTime),documentKey:Ln(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{getBundleMetadata(e,t){return aI(e).get(t).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:Na(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,t){return aI(e).put((function(s){return{bundleId:s.id,createTime:ka(Hn(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return lI(e).get(t).next((r=>{if(r)return(function(i){return{name:i.name,query:ZA(i.bundledQuery),readTime:Na(i.readTime)}})(r)}))}saveNamedQuery(e,t){return lI(e).put((function(s){return{name:s.name,readTime:ka(Hn(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function aI(n){return dn(n,Kp)}function lI(n){return dn(n,Zp)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new sm(e,r)}getOverlay(e,t){return gu(e).get(oI(this.userId,t)).next((r=>r?gy(this.serializer,r):null))}getOverlays(e,t){const r=Os();return Z.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((i,l)=>{const u=new G_(t,l);s.push(this.St(e,u))})),Z.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((l=>s.add(Ln(l.getCollectionPath()))));const i=[];return s.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);i.push(gu(e).Z(ov,u))})),Z.waitFor(i)}getOverlaysForCollection(e,t,r){const s=Os(),i=Ln(t),l=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return gu(e).J(ov,l).next((u=>{for(const h of u){const p=gy(this.serializer,h);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const i=Os();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gu(e).ee({index:XP,range:u},((h,p,g)=>{const m=gy(this.serializer,p);i.size()<s||m.largestBatchId===l?(i.set(m.getKey(),m),l=m.largestBatchId):g.done()})).next((()=>i))}St(e,t){return gu(e).put((function(s,i,l){const[u,h,p]=oI(i,l.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:rp(s.yt,l.mutation)}})(this.serializer,this.userId,t))}}function gu(n){return dn(n,Qp)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{bt(e){return dn(e,L_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?rn.fromUint8Array(r):rn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Dt(e.integerValue));else if("doubleValue"in e){const r=Dt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Xu(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Eo(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(bo(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?uA(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Xp(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):De(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=oc,i=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Dt(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),Se.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}da.Kt=new da;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=255;function wB(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function cI(n){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const l=wB(255&r[i]);if(s+=l,l!==8)break}return s})(n);return Math.ceil(e/8)}class EB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),r=cI(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=cI(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(kl),this.sn(255)}_n(){this.an(kl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===kl?(this.sn(kl),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===kl?(this.an(kl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class bB{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class SB{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class yu{constructor(){this.cn=new EB,this.ln=new bB(this.cn),this.hn=new SB(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t,r,s){this.Tn=e,this.In=t,this.En=r,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new ha(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:If(this.En),directionalValue:If(this.dn),orderedDocumentKey:If(t),documentKey:r.path.toArray()}}Vn(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ri(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=uI(n.En,e.En),t!==0?t:(t=uI(n.dn,e.dn),t!==0?t:Se.comparator(n.In,e.In)))}function uI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function If(n){return IP()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function dI(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class hI{constructor(e){this.mn=new wt(((t,r)=>jt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ve(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=nv(e);if(t!==void 0&&!this.wn(t))return!1;const r=aa(e);let s=new Set,i=0,l=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=r[i];if(!this.Sn(u,h)||!this.bn(this.fn[l++],h))return!1}++i}for(;i<r.length;++i){const u=r[i];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new wt(jt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new gf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new gf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new gf(r.field,r.dir==="asc"?0:1)));return new Kf(Kf.UNKNOWN_ID,this.collectionId,t,Yu.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(n){if(Ve(n instanceof ut||n instanceof bt,20012),n instanceof ut){if(n instanceof _A){const t=n.value.arrayValue?.values?.map((r=>ut.create(n.field,"==",r)))||[];return bt.create(t,"or")}return n}const e=n.filters.map((t=>QA(t)));return bt.create(e,n.op)}function IB(n){if(n.getFilters().length===0)return[];const e=_v(QA(n));return Ve(YA(e),7391),yv(e)||vv(e)?[e]:e.getFilters()}function yv(n){return n instanceof ut}function vv(n){return n instanceof bt&&B_(n)}function YA(n){return yv(n)||vv(n)||(function(t){if(t instanceof bt&&cv(t)){for(const r of t.getFilters())if(!yv(r)&&!vv(r))return!1;return!0}return!1})(n)}function _v(n){if(Ve(n instanceof ut||n instanceof bt,34018),n instanceof ut)return n;if(n.filters.length===1)return _v(n.filters[0]);const e=n.filters.map((r=>_v(r)));let t=bt.create(e,n.op);return t=op(t),YA(t)?t:(Ve(t instanceof bt,64498),Ve(lc(t),40251),Ve(t.filters.length>1,57927),t.filters.reduce(((r,s)=>Q_(r,s))))}function Q_(n,e){let t;return Ve(n instanceof ut||n instanceof bt,38388),Ve(e instanceof ut||e instanceof bt,25473),t=n instanceof ut?e instanceof ut?(function(s,i){return bt.create([s,i],"and")})(n,e):fI(n,e):e instanceof ut?fI(e,n):(function(s,i){if(Ve(s.filters.length>0&&i.filters.length>0,48005),lc(s)&&lc(i))return gA(s,i.getFilters());const l=cv(s)?s:i,u=cv(s)?i:s,h=l.filters.map((p=>Q_(p,u)));return bt.create(h,"or")})(n,e),op(t)}function fI(n,e){if(lc(e))return gA(e,n.getFilters());{const t=e.filters.map((r=>Q_(n,r)));return bt.create(t,"or")}}function op(n){if(Ve(n instanceof ut||n instanceof bt,11850),n instanceof ut)return n;const e=n.getFilters();if(e.length===1)return op(e[0]);if(pA(n))return n;const t=e.map((s=>op(s))),r=[];return t.forEach((s=>{s instanceof ut?r.push(s):s instanceof bt&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:bt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(){this.Cn=new Y_}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(br.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(br.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class Y_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new wt(yt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="IndexedDbIndexManager",of=new Uint8Array(0);class TB{constructor(e,t){this.databaseId=t,this.vn=new Y_,this.Fn=new To((r=>Ra(r)),((r,s)=>wd(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const i={collectionId:r,parent:Ln(s)};return mI(e).put(i)}return Z.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[UP(t),""],!1,!0);return mI(e).J(s).next((i=>{for(const l of i){if(l.collectionId!==t)break;r.push(Ds(l.parent))}return r}))}addFieldIndex(e,t){const r=vu(e),s=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete s.indexId;const i=r.add(s);if(t.indexState){const l=Dl(e);return i.next((u=>{l.put(iI(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const r=vu(e),s=Dl(e),i=Nl(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=vu(e),r=Nl(e),s=Dl(e);return t.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return Z.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new hI(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,t){const r=Nl(e);let s=!0;const i=new Map;return Z.forEach(this.Mn(t),(l=>this.xn(e,l).next((u=>{s&&(s=!!u),i.set(l,u)})))).next((()=>{if(s){let l=nt();const u=[];return Z.forEach(i,((h,p)=>{de(pI,`Using index ${(function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(h)} to execute ${Ra(t)}`);const g=(function(j,z){const $=nv(z);if($===void 0)return null;for(const K of tp(j,$.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null})(p,h),m=(function(j,z){const $=new Map;for(const K of aa(z))for(const P of tp(j,K.fieldPath))switch(P.op){case"==":case"in":$.set(K.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return $.set(K.fieldPath.canonicalString(),P.value),Array.from($.values())}return null})(p,h),w=(function(j,z){const $=[];let K=!0;for(const P of aa(z)){const T=P.kind===0?WS(j,P.fieldPath,j.startAt):GS(j,P.fieldPath,j.startAt);$.push(T.value),K&&(K=T.inclusive)}return new ac($,K)})(p,h),I=(function(j,z){const $=[];let K=!0;for(const P of aa(z)){const T=P.kind===0?GS(j,P.fieldPath,j.endAt):WS(j,P.fieldPath,j.endAt);$.push(T.value),K&&(K=T.inclusive)}return new ac($,K)})(p,h),A=this.On(h,p,w),C=this.On(h,p,I),R=this.Nn(h,p,m),N=this.Bn(h.indexId,g,A,w.inclusive,C,I.inclusive,R);return Z.forEach(N,(M=>r.Y(M,t.limit).next((j=>{j.forEach((z=>{const $=Se.fromSegments(z.documentKey);l.has($)||(l=l.add($),u.push($))}))}))))})).next((()=>u))}return Z.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=IB(bt.create(e.filters,"and")).map((r=>dv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,s,i,l,u){const h=(t!=null?t.length:1)*Math.max(r.length,i.length),p=h/(t!=null?t.length:1),g=[];for(let m=0;m<h;++m){const w=t?this.Ln(t[m/p]):of,I=this.kn(e,w,r[m%p],s),A=this.qn(e,w,i[m%p],l),C=u.map((R=>this.kn(e,w,R,!0)));g.push(...this.createRange(I,A,C))}return g}kn(e,t,r,s){const i=new ha(e,Se.empty(),t,r);return s?i:i.An()}qn(e,t,r,s){const i=new ha(e,Se.empty(),t,r);return s?i.An():i}xn(e,t){const r=new hI(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let l=null;for(const u of i)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,t){let r=2;const s=this.Mn(t);return Z.forEach(s,(i=>this.xn(e,i).next((l=>{l?r!==0&&l.fields.length<(function(h){let p=new wt(jt.comparator),g=!1;for(const m of h.filters)for(const w of m.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?g=!0:p=p.add(w.field));for(const m of h.orderBy)m.field.isKeyField()||(p=p.add(m.field));return p.size+(g?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&s.length>1&&r===2?1:r))}Qn(e,t){const r=new yu;for(const s of aa(e)){const i=t.data.field(s.fieldPath);if(i==null)return null;const l=r.Pn(s.kind);da.Kt.Dt(i,l)}return r.un()}Ln(e){const t=new yu;return da.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new yu;return da.Kt.Dt($_(this.databaseId,t),r.Pn((function(i){const l=aa(i);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let s=[];s.push(new yu);let i=0;for(const l of aa(e)){const u=r[i++];for(const h of s)if(this.Un(t,l.fieldPath)&&sd(u))s=this.Kn(s,l,u);else{const p=h.Pn(l.kind);da.Kt.Dt(u,p)}}return this.Wn(s)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const s=[...e],i=[];for(const l of r.arrayValue.values||[])for(const u of s){const h=new yu;h.seed(u.un()),da.Kt.Dt(l,h.Pn(t.kind)),i.push(h)}return i}Un(e,t){return!!e.filters.find((r=>r instanceof ut&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=vu(e),s=Dl(e);return(t?r.J(sv,IDBKeyRange.bound(t,t)):r.J()).next((i=>{const l=[];return Z.forEach(i,(u=>s.get([u.indexId,this.uid]).next((h=>{l.push((function(g,m){const w=m?new Yu(m.sequenceNumber,new br(Na(m.readTime),new Se(Ds(m.documentKey)),m.largestBatchId)):Yu.empty(),I=g.fields.map((([A,C])=>new gf(jt.fromServerFormat(A),C)));return new Kf(g.indexId,g.collectionGroup,I,w)})(u,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ke(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=vu(e),i=Dl(e);return this.Gn(e).next((l=>s.J(sv,IDBKeyRange.bound(t,t)).next((u=>Z.forEach(u,(h=>i.put(iI(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return Z.forEach(t,((s,i)=>{const l=r.get(s.collectionGroup);return(l?Z.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Z.forEach(u,(h=>this.zn(e,s,h).next((p=>{const g=this.jn(i,h);return p.isEqual(g)?Z.resolve():this.Jn(e,i,h,p,g)})))))))}))}Hn(e,t,r,s){return Nl(e).put(s.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,s){return Nl(e).delete(s.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const s=Nl(e);let i=new wt(ri);return s.ee({index:YP,range:IDBKeyRange.only([r.indexId,this.uid,If(this.$n(r,t))])},((l,u)=>{i=i.add(new ha(r.indexId,t,dI(u.arrayValue),dI(u.directionalValue)))})).next((()=>i))}jn(e,t){let r=new wt(ri);const s=this.Qn(t,e);if(s==null)return r;const i=nv(t);if(i!=null){const l=e.data.field(i.fieldPath);if(sd(l))for(const u of l.arrayValue.values||[])r=r.add(new ha(t.indexId,e.key,this.Ln(u),s))}else r=r.add(new ha(t.indexId,e.key,of,s));return r}Jn(e,t,r,s,i){de(pI,"Updating index entries for document '%s'",t.key);const l=[];return(function(h,p,g,m,w){const I=h.getIterator(),A=p.getIterator();let C=Rl(I),R=Rl(A);for(;C||R;){let N=!1,M=!1;if(C&&R){const j=g(C,R);j<0?M=!0:j>0&&(N=!0)}else C!=null?M=!0:N=!0;N?(m(R),R=Rl(A)):M?(w(C),C=Rl(I)):(C=Rl(I),R=Rl(A))}})(s,i,ri,(u=>{l.push(this.Hn(e,t,r,u))}),(u=>{l.push(this.Yn(e,t,r,u))})),Z.waitFor(l)}Gn(e){let t=1;return Dl(e).ee({index:QP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,u)=>ri(l,u))).filter(((l,u,h)=>!u||ri(l,h[u-1])!==0));const s=[];s.push(e);for(const l of r){const u=ri(l,e),h=ri(l,t);if(u===0)s[0]=e.An();else if(u>0&&h<0)s.push(l),s.push(l.An());else if(h>0)break}s.push(t);const i=[];for(let l=0;l<s.length;l+=2){if(this.Zn(s[l],s[l+1]))return[];const u=s[l].Vn(this.uid,of,Se.empty()),h=s[l+1].Vn(this.uid,of,Se.empty());i.push(IDBKeyRange.bound(u,h))}return i}Zn(e,t){return ri(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gI)}getMinOffset(e,t){return Z.mapArray(this.Mn(t),(r=>this.xn(e,r).next((s=>s||De(44426))))).next(gI)}}function mI(n){return dn(n,td)}function Nl(n){return dn(n,Ou)}function vu(n){return dn(n,V_)}function Dl(n){return dn(n,Du)}function gI(n){Ve(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;D_(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new br(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XA=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(n,e,t){const r=n.store(ns),s=n.store(tc),i=[],l=IDBKeyRange.only(t.batchId);let u=0;const h=r.ee({range:l},((g,m,w)=>(u++,w.delete())));i.push(h.next((()=>{Ve(u===1,47070,{batchId:t.batchId})})));const p=[];for(const g of t.mutations){const m=GP(e,g.key.path,t.batchId);i.push(s.delete(m)),p.push(g.key)}return Z.waitFor(i).next((()=>p))}function ip(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw De(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(XA,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class om{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,t,r,s){Ve(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new om(i,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return si(e).ee({index:fa,range:r},((s,i,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const i=jl(e),l=si(e);return l.add({}).next((u=>{Ve(typeof u=="number",49019);const h=new H_(u,t,r,s),p=(function(I,A,C){const R=C.baseMutations.map((M=>rp(I.yt,M))),N=C.mutations.map((M=>rp(I.yt,M)));return{userId:A,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:R,mutations:N}})(this.serializer,this.userId,h),g=[];let m=new wt(((w,I)=>Ke(w.canonicalString(),I.canonicalString())));for(const w of s){const I=GP(this.userId,w.key.path,u);m=m.add(w.key.path.popLast()),g.push(l.put(p)),g.push(i.put(I,Jz))}return m.forEach((w=>{g.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),Z.waitFor(g).next((()=>h))}))}lookupMutationBatch(e,t){return si(e).get(t).next((r=>r?(Ve(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),ua(this.serializer,r)):null))}er(e,t){return this.Xn[t]?Z.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return si(e).ee({index:fa,range:s},((l,u,h)=>{u.userId===this.userId&&(Ve(u.batchId>=r,47524,{tr:r}),i=ua(this.serializer,u)),h.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ma;return si(e).ee({index:fa,range:t,reverse:!0},((s,i,l)=>{r=i.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ma],[this.userId,Number.POSITIVE_INFINITY]);return si(e).J(fa,t).next((r=>r.map((s=>ua(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=yf(this.userId,t.path),s=IDBKeyRange.lowerBound(r),i=[];return jl(e).ee({range:s},((l,u,h)=>{const[p,g,m]=l,w=Ds(g);if(p===this.userId&&t.path.isEqual(w))return si(e).get(m).next((I=>{if(!I)throw De(61480,{nr:l,batchId:m});Ve(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:m}),i.push(ua(this.serializer,I))}));h.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ke);const s=[];return t.forEach((i=>{const l=yf(this.userId,i.path),u=IDBKeyRange.lowerBound(l),h=jl(e).ee({range:u},((p,g,m)=>{const[w,I,A]=p,C=Ds(I);w===this.userId&&i.path.isEqual(C)?r=r.add(A):m.done()}));s.push(h)})),Z.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,i=yf(this.userId,r),l=IDBKeyRange.lowerBound(i);let u=new wt(Ke);return jl(e).ee({range:l},((h,p,g)=>{const[m,w,I]=h,A=Ds(w);m===this.userId&&r.isPrefixOf(A)?A.length===s&&(u=u.add(I)):g.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],s=[];return t.forEach((i=>{s.push(si(e).get(i).next((l=>{if(l===null)throw De(35274,{batchId:i});Ve(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:i}),r.push(ua(this.serializer,l))})))})),Z.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return JA(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Z.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Z.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return jl(e).ee({range:r},((i,l,u)=>{if(i[0]===this.userId){const h=Ds(i[1]);s.push(h)}else u.done()})).next((()=>{Ve(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,t){return eR(e,this.userId,t)}_r(e){return tR(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:ma,lastStreamToken:""}))}}function eR(n,e,t){const r=yf(e,t.path),s=r[1],i=IDBKeyRange.lowerBound(r);let l=!1;return jl(n).ee({range:i,X:!0},((u,h,p)=>{const[g,m,w]=u;g===e&&m===s&&(l=!0),p.done()})).next((()=>l))}function si(n){return dn(n,ns)}function jl(n){return dn(n,tc)}function tR(n){return dn(n,Ju)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Da(0)}static cr(){return new Da(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Da(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>je.fromTimestamp(new _t(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Ol(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Ve(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let s=0;const i=[];return Ol(e).ee(((l,u)=>{const h=Pu(u);h.sequenceNumber<=t&&r.get(h.targetId)===null&&(s++,i.push(this.removeTargetData(e,h)))})).next((()=>Z.waitFor(i))).next((()=>s))}forEachTarget(e,t){return Ol(e).ee(((r,s)=>{const i=Pu(s);t(i)}))}lr(e){return vI(e).get(Yf).next((t=>(Ve(t!==null,2888),t)))}hr(e,t){return vI(e).put(Yf,t)}Pr(e,t){return Ol(e).put(KA(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Ra(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Ol(e).ee({range:s,index:ZP},((l,u,h)=>{const p=Pu(u);wd(t,p.target)&&(i=p,h.done())})).next((()=>i))}addMatchingKeys(e,t,r){const s=[],i=li(e);return t.forEach((l=>{const u=Ln(l.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,l))})),Z.waitFor(s)}removeMatchingKeys(e,t,r){const s=li(e);return Z.forEach(t,(i=>{const l=Ln(i.path);return Z.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,t){const r=li(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=li(e);let i=nt();return s.ee({range:r,X:!0},((l,u,h)=>{const p=Ds(l[1]),g=new Se(p);i=i.add(g)})).next((()=>i))}containsKey(e,t){const r=Ln(t.path),s=IDBKeyRange.bound([r],[UP(r)],!1,!0);let i=0;return li(e).ee({index:M_,X:!0,range:s},(([l,u],h,p)=>{l!==0&&(i++,p.done())})).next((()=>i>0))}At(e,t){return Ol(e).get(t).next((r=>r?Pu(r):null))}}function Ol(n){return dn(n,nc)}function vI(n){return dn(n,ga)}function li(n){return dn(n,rc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="LruGarbageCollector",PB=1048576;function wI([n,e],[t,r]){const s=Ke(n,t);return s===0?Ke(e,r):s}class AB{constructor(e){this.Ir=e,this.buffer=new wt(wI),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(_I,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ki(t)?de(_I,"Ignoring IndexedDB error during garbage collection: ",t):await Ua(t)}await this.Vr(3e5)}))}}class RB{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Vr.ce);const r=new AB(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(yI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yI):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,l,u,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,l=Date.now(),this.nthSequenceNumber(e,s)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,t)))).next((m=>(i=m,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(p=Date.now(),Ml()<=it.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${i} targets in `+(h-u)+`ms
	Removed ${m} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m}))))}}function rR(n,e){return new RB(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,t){this.db=e,this.garbageCollector=rR(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,s)=>t(s)))}addReference(e,t,r){return af(e,r)}removeReference(e,t,r){return af(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return af(e,t)}br(e,t){return(function(s,i){let l=!1;return tR(s).te((u=>eR(s,u,i).next((h=>(h&&(l=!0),Z.resolve(!h)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((l,u)=>{if(u<=t){const h=this.br(e,l).next((p=>{if(!p)return i++,r.getEntry(e,l).next((()=>(r.removeEntry(l,je.min()),li(e).delete((function(m){return[0,Ln(m.path)]})(l)))))}));s.push(h)}})).next((()=>Z.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return af(e,t)}Sr(e,t){const r=li(e);let s,i=Vr.ce;return r.ee({index:M_},(([l,u],{path:h,sequenceNumber:p})=>{l===0?(i!==Vr.ce&&t(new Se(Ds(s)),i),i=p,s=h):i=Vr.ce})).next((()=>{i!==Vr.ce&&t(new Se(Ds(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function af(n,e){return li(n).put((function(r,s){return{targetId:0,path:Ln(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.changes=new To((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return oa(e).put(r)}removeEntry(e,t,r){return oa(e).delete((function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],sp(l),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Bt.newInvalidDocument(t);return oa(e).ee({index:vf,range:IDBKeyRange.only(_u(t))},((s,i)=>{r=this.Cr(t,i)})).next((()=>r))}vr(e,t){let r={size:0,document:Bt.newInvalidDocument(t)};return oa(e).ee({index:vf,range:IDBKeyRange.only(_u(t))},((s,i)=>{r={document:this.Cr(t,i),size:ip(i)}})).next((()=>r))}getEntries(e,t){let r=wr();return this.Fr(e,t,((s,i)=>{const l=this.Cr(s,i);r=r.insert(s,l)})).next((()=>r))}Mr(e,t){let r=wr(),s=new Ot(Se.comparator);return this.Fr(e,t,((i,l)=>{const u=this.Cr(i,l);r=r.insert(i,u),s=s.insert(i,ip(l))})).next((()=>({documents:r,Or:s})))}Fr(e,t,r){if(t.isEmpty())return Z.resolve();let s=new wt(SI);t.forEach((h=>s=s.add(h)));const i=IDBKeyRange.bound(_u(s.first()),_u(s.last())),l=s.getIterator();let u=l.getNext();return oa(e).ee({index:vf,range:i},((h,p,g)=>{const m=Se.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&SI(u,m)<0;)r(u,null),u=l.getNext();u&&u.isEqual(m)&&(r(u,p),u=l.hasNext()?l.getNext():null),u?g.j(_u(u)):g.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,i){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),sp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return oa(e).J(IDBKeyRange.bound(u,h,!0)).next((p=>{i?.incrementDocumentReadCount(p.length);let g=wr();for(const m of p){const w=this.Cr(Se.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);w.isFoundDocument()&&(bd(t,w)||s.has(w.key))&&(g=g.insert(w.key,w))}return g}))}getAllFromCollectionGroup(e,t,r,s){let i=wr();const l=bI(t,r),u=bI(t,br.max());return oa(e).ee({index:KP,range:IDBKeyRange.bound(l,u,!0)},((h,p,g)=>{const m=this.Cr(Se.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);i=i.insert(m.key,m),i.size===s&&g.done()})).next((()=>i))}newChangeBuffer(e){return new DB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return EI(e).get(rv).next((t=>(Ve(!!t,20021),t)))}Dr(e,t){return EI(e).put(rv,t)}Cr(e,t){if(t){const r=yB(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(je.min())))return r}return Bt.newInvalidDocument(e)}}function oR(n){return new NB(n)}class DB extends sR{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new To((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new wt(((i,l)=>Ke(i.canonicalString(),l.canonicalString())));return this.changes.forEach(((i,l)=>{const u=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,u.readTime)),l.isValidDocument()){const h=sI(this.Nr.serializer,l);s=s.add(i.path.popLast());const p=ip(h);r+=p-u.size,t.push(this.Nr.addEntry(e,i,h))}else if(r-=u.size,this.trackRemovals){const h=sI(this.Nr.serializer,l.convertToNoDocument(je.min()));t.push(this.Nr.addEntry(e,i,h))}})),s.forEach((i=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),t.push(this.Nr.updateMetadata(e,r)),Z.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:s})=>(s.forEach(((i,l)=>{this.Br.set(i,{size:l,readTime:r.get(i).readTime})})),r)))}}function EI(n){return dn(n,ed)}function oa(n){return dn(n,Qf)}function _u(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bI(n,e){const t=e.documentKey.path.toArray();return[n,sp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function SI(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<t.length-2&&i<r.length-2;++i)if(s=Ke(t[i],r[i]),s)return s;return s=Ke(t.length,r.length),s||(s=Ke(t[t.length-2],r[r.length-2]),s||Ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Fu(r.mutation,s,sr.empty(),_t.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=nt()){const s=Os();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let l=Tu();return i.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Os();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,nt())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,s){let i=wr();const l=Lu(),u=(function(){return Lu()})();return t.forEach(((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Co)?i=i.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Fu(g.mutation,p,g.mutation.getFieldMask(),_t.now())):l.set(p.key,sr.empty())})),this.recalculateAndSaveOverlays(e,i).next((h=>(h.forEach(((p,g)=>l.set(p,g))),t.forEach(((p,g)=>u.set(p,new OB(g,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Lu();let s=new Ot(((l,u)=>l-u)),i=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||sr.empty();g=u.applyToLocalView(p,g),r.set(h,g);const m=(s.get(u.batchId)||nt()).add(h);s=s.insert(u.batchId,m)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,g=h.value,m=IA();g.forEach((w=>{if(!i.has(w)){const I=RA(t.get(w),r.get(w));I!==null&&m.set(w,I),i=i.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,m))}return Z.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):V$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):Z.resolve(Os());let u=Qu,h=i;return l.next((p=>Z.forEach(p,((g,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),i.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{h=h.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,i))).next((()=>this.computeViews(e,h,p,nt()))).next((g=>({batchId:u,changes:SA(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((r=>{let s=Tu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let l=Tu();return this.indexManager.getCollectionParents(e,i).next((u=>Z.forEach(u,(h=>{const p=(function(m,w){return new Jp(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((m,w)=>{l=l.insert(m,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((l=>{i.forEach(((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Bt.newInvalidDocument(g)))}));let u=Tu();return l.forEach(((h,p)=>{const g=i.get(h);g!==void 0&&Fu(g.mutation,p,sr.empty(),_t.now()),bd(t,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Hn(s.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:ZA(s.bundledQuery),readTime:Hn(s.readTime)}})(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(){this.overlays=new Ot(Se.comparator),this.qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Os();return Z.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.St(e,t,i)})),Z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const s=Os(),i=t.length+1,l=new Se(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Ot(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=i.get(p.largestBatchId);g===null&&(g=Os(),i=i.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=Os(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>u.set(p,g))),!(u.size()>=s)););return Z.resolve(u)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new G_(t,r));let i=this.qr.get(t);i===void 0&&(i=nt(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.Qr=new wt(vn.$r),this.Ur=new wt(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new vn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new vn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Se(new yt([])),r=new vn(t,e),s=new vn(t,e+1),i=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),i.push(l.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Se(new yt([])),r=new vn(t,e),s=new vn(t,e+1);let i=nt();return this.Ur.forEachInRange([r,s],(l=>{i=i.add(l.key)})),i}containsKey(e){const t=new vn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Se.comparator(e.key,t.key)||Ke(e.Yr,t.Yr)}static Kr(e,t){return Ke(e.Yr,t.Yr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new wt(vn.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new H_(i,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new vn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return Z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ma:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new vn(t,0),s=new vn(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);i.push(u)})),Z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ke);return t.forEach((s=>{const i=new vn(s,0),l=new vn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],(u=>{r=r.add(u.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;Se.isDocumentKey(i)||(i=i.child(""));const l=new vn(new Se(i),0);let u=new wt(Ke);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Yr)),!0)}),l),Z.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ve(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(t.mutations,(s=>{const i=new vn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new vn(t,0),s=this.Zr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let r=wr();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bt.newInvalidDocument(s))})),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=wr();const l=t.path,u=new Se(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||D_(BP(g),r)<=0||(s.has(g.key)||bd(t,g))&&(i=i.insert(g.key,g.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,t,r,s){De(9500)}ii(e,t){return Z.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new UB(this)}getSize(e){return Z.resolve(this.size)}}class UB extends sR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e){this.persistence=e,this.si=new To((t=>Ra(t)),wd),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new X_,this.targetCount=0,this.ai=Da.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Da(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Pr(t),Z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Z.waitFor(i).next((()=>s))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((l=>{i.push(s.markPotentiallyOrphaned(e,l))})),Z.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,t){this.ui={},this.overlays={},this.ci=new Vr(0),this.li=!1,this.li=!0,this.hi=new LB,this.referenceDelegate=e(this),this.Pi=new zB(this),this.indexManager=new xB,this.remoteDocumentCache=(function(s){return new jB(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new GA(t),this.Ii=new MB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new FB(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const s=new $B(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,t){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class $B extends HP{constructor(e){super(),this.currentSequenceNumber=e}}class im{constructor(e){this.persistence=e,this.Ri=new X_,this.Vi=null}static mi(e){return new im(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const s=Se.fromPath(r);return this.gi(e,s).next((i=>{i||t.removeEntry(s,je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Z.or([()=>Z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ap{constructor(e,t){this.persistence=e,this.pi=new To((r=>Ln(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=rR(this,t)}static mi(e,t){return new ap(e,t)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Z.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Z.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,i.removeEntry(l,je.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wf(e.data.value)),t}br(e,t,r){return Z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.serializer=e}k(e,t,r,s){const i=new Wp("createOrUpgrade",t);r<1&&s>=1&&((function(h){h.createObjectStore(_d)})(e),(function(h){h.createObjectStore(Ju,{keyPath:Xz}),h.createObjectStore(ns,{keyPath:OS,autoIncrement:!0}).createIndex(fa,MS,{unique:!0}),h.createObjectStore(tc)})(e),II(e),(function(h){h.createObjectStore(la)})(e));let l=Z.resolve();return r<3&&s>=3&&(r!==0&&((function(h){h.deleteObjectStore(rc),h.deleteObjectStore(nc),h.deleteObjectStore(ga)})(e),II(e)),l=l.next((()=>(function(h){const p=h.store(ga),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:je.min().toTimestamp(),targetCount:0};return p.put(Yf,g)})(i)))),r<4&&s>=4&&(r!==0&&(l=l.next((()=>(function(h,p){return p.store(ns).J().next((m=>{h.deleteObjectStore(ns),h.createObjectStore(ns,{keyPath:OS,autoIncrement:!0}).createIndex(fa,MS,{unique:!0});const w=p.store(ns),I=m.map((A=>w.put(A)));return Z.waitFor(I)}))})(e,i)))),l=l.next((()=>{(function(h){h.createObjectStore(sc,{keyPath:a$})})(e)}))),r<5&&s>=5&&(l=l.next((()=>this.yi(i)))),r<6&&s>=6&&(l=l.next((()=>((function(h){h.createObjectStore(ed)})(e),this.wi(i))))),r<7&&s>=7&&(l=l.next((()=>this.Si(i)))),r<8&&s>=8&&(l=l.next((()=>this.bi(e,i)))),r<9&&s>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(l=l.next((()=>this.Di(i)))),r<11&&s>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(Kp,{keyPath:l$})})(e),(function(h){h.createObjectStore(Zp,{keyPath:c$})})(e)}))),r<12&&s>=12&&(l=l.next((()=>{(function(h){const p=h.createObjectStore(Qp,{keyPath:g$});p.createIndex(ov,y$,{unique:!1}),p.createIndex(XP,v$,{unique:!1})})(e)}))),r<13&&s>=13&&(l=l.next((()=>(function(h){const p=h.createObjectStore(Qf,{keyPath:e$});p.createIndex(vf,t$),p.createIndex(KP,n$)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(la)))),r<14&&s>=14&&(l=l.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(l=l.next((()=>(function(h){h.createObjectStore(V_,{keyPath:u$,autoIncrement:!0}).createIndex(sv,d$,{unique:!1}),h.createObjectStore(Du,{keyPath:h$}).createIndex(QP,f$,{unique:!1}),h.createObjectStore(Ou,{keyPath:p$}).createIndex(YP,m$,{unique:!1})})(e)))),r<16&&s>=16&&(l=l.next((()=>{t.objectStore(Du).clear()})).next((()=>{t.objectStore(Ou).clear()}))),r<17&&s>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(L_,{keyPath:_$})})(e)}))),r<18&&s>=18&&IP()&&(l=l.next((()=>{t.objectStore(Du).clear()})).next((()=>{t.objectStore(Ou).clear()}))),l}wi(e){let t=0;return e.store(la).ee(((r,s)=>{t+=ip(s)})).next((()=>{const r={byteSize:t};return e.store(ed).put(rv,r)}))}yi(e){const t=e.store(Ju),r=e.store(ns);return t.J().next((s=>Z.forEach(s,(i=>{const l=IDBKeyRange.bound([i.userId,ma],[i.userId,i.lastAcknowledgedBatchId]);return r.J(fa,l).next((u=>Z.forEach(u,(h=>{Ve(h.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const p=ua(this.serializer,h);return JA(e,i.userId,p).next((()=>{}))}))))}))))}Si(e){const t=e.store(rc),r=e.store(la);return e.store(ga).get(Yf).next((s=>{const i=[];return r.ee(((l,u)=>{const h=new yt(l),p=(function(m){return[0,Ln(m)]})(h);i.push(t.get(p).next((g=>g?Z.resolve():(m=>t.put({targetId:0,path:Ln(m),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>Z.waitFor(i)))}))}bi(e,t){e.createObjectStore(td,{keyPath:i$});const r=t.store(td),s=new Y_,i=l=>{if(s.add(l)){const u=l.lastSegment(),h=l.popLast();return r.put({collectionId:u,parent:Ln(h)})}};return t.store(la).ee({X:!0},((l,u)=>{const h=new yt(l);return i(h.popLast())})).next((()=>t.store(tc).ee({X:!0},(([l,u,h],p)=>{const g=Ds(u);return i(g.popLast())}))))}Di(e){const t=e.store(nc);return t.ee(((r,s)=>{const i=Pu(s),l=KA(this.serializer,i);return t.put(l)}))}Ci(e,t){const r=t.store(la),s=[];return r.ee(((i,l)=>{const u=t.store(Qf),h=(function(m){return m.document?new Se(yt.fromString(m.document.name).popFirst(5)):m.noDocument?Se.fromSegments(m.noDocument.path):m.unknownDocument?Se.fromSegments(m.unknownDocument.path):De(36783)})(l).path.toArray(),p={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(u.put(p))})).next((()=>Z.waitFor(s)))}Fi(e,t){const r=t.store(ns),s=oR(this.serializer),i=new J_(im.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((h=>{let p=u.get(h.userId)??nt();ua(this.serializer,h).keys().forEach((g=>p=p.add(g))),u.set(h.userId,p)})),Z.forEach(u,((h,p)=>{const g=new In(p),m=sm.wt(this.serializer,g),w=i.getIndexManager(g),I=om.wt(g,this.serializer,w,i.referenceDelegate);return new iR(s,I,m,w).recalculateAndSaveOverlaysForDocumentKeys(new iv(t,Vr.ce),h).next()}))}))}}function II(n){n.createObjectStore(rc,{keyPath:s$}).createIndex(M_,o$,{unique:!0}),n.createObjectStore(nc,{keyPath:"targetId"}).createIndex(ZP,r$,{unique:!0}),n.createObjectStore(ga)}const oi="IndexedDbPersistence",yy=18e5,vy=5e3,_y="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qB="main";class ew{constructor(e,t,r,s,i,l,u,h,p,g,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=i,this.window=l,this.document=u,this.xi=p,this.Oi=g,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!ew.v())throw new be(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kB(this,s),this.$i=t+qB,this.serializer=new GA(h),this.Ui=new wi(this.$i,this.Ni,new BB(this.serializer)),this.hi=new _B,this.Pi=new CB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oR(this.serializer),this.Ii=new vB,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&Bn(oi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new be(re.FAILED_PRECONDITION,_y);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Vr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>lf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ki(e))return de(oi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de(oi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return wu(e).get(Al).next((t=>Z.resolve(this.es(t))))}ts(e){return lf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,yy)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=dn(t,sc);return r.J().next((s=>{const i=this.ss(s,yy),l=s.filter((u=>i.indexOf(u)===-1));return Z.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Z.resolve(!0):wu(e).get(Al).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,vy)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new be(re.FAILED_PRECONDITION,_y);return!1}}return!(!this.networkEnabled||!this.inForeground)||lf(e).J().next((r=>this.ss(r,vy).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||l&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&de(oi,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[_d,sc],(e=>{const t=new iv(e,Vr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>lf(e).J().next((t=>this.ss(t,yy).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return om.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new TB(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return sm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){de(oi,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",i=(function(h){return h===18?b$:h===17?nA:h===16?E$:h===15?F_:h===14?tA:h===13?eA:h===12?w$:h===11?JP:void De(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,s,i,(u=>(l=new iv(u,this.ci?this.ci.next():Vr.ce),t==="readwrite-primary"?this.Hi(l).next((h=>!!h||this.Yi(l))).next((h=>{if(!h)throw Bn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new be(re.FAILED_PRECONDITION,qP);return r(l)})).next((h=>this.Xi(l).next((()=>h)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return wu(e).get(Al).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,vy)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new be(re.FAILED_PRECONDITION,_y)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wu(e).put(Al,t)}static v(){return wi.v()}Zi(e){const t=wu(e);return t.get(Al).next((r=>this.es(r)?(de(oi,"Releasing primary lease."),t.delete(Al)):Z.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Bn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;SP()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return de(oi,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Bn(oi,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Bn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wu(n){return dn(n,_d)}function lf(n){return dn(n,sc)}function HB(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=nt(),s=nt();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new tw(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SP()?8:WP(un())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next((l=>{i.result=l})).next((()=>{if(!i.result)return this.ws(e,t,s,r).next((l=>{i.result=l}))})).next((()=>{if(i.result)return;const l=new WB;return this.Ss(e,t,l).next((u=>{if(i.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>i.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Ml()<=it.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ml()<=it.DEBUG&&de("QueryEngine","Query:",Vl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ml()<=it.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):Z.resolve())}ys(e,t){if(KS(t))return Z.resolve(null);let r=Fr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=hv(t,null,"F"),r=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const l=nt(...i);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,u);return this.Cs(t,p,l,h.readTime)?this.ys(e,hv(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,s){return KS(t)||s.isEqual(je.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((i=>{const l=this.Ds(t,i);return this.Cs(t,l,r,s)?Z.resolve(null):(Ml()<=it.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vl(t)),this.vs(e,l,t,Hz(s,Qu)).next((u=>u)))}))}Ds(e,t){let r=new wt(EA(e));return t.forEach(((s,i)=>{bd(e,i)&&(r=r.add(i))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return Ml()<=it.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Vl(t)),this.ps.getDocumentsMatchingQuery(e,t,br.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((l=>{i=i.insert(l.key,l)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="LocalStore",GB=3e8;class KB{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Ot(Ke),this.xs=new To((i=>Ra(i)),wd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function lR(n,e,t,r){return new KB(n,e,t,r)}async function cR(n,e){const t=Ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const l=[],u=[];let h=nt();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of i){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function ZB(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,g){const m=p.batch,w=m.keys();let I=Z.resolve();return w.forEach((A=>{I=I.next((()=>g.getEntry(h,A))).next((C=>{const R=p.docVersions.get(A);Ve(R!==null,48541),C.version.compareTo(R)<0&&(m.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),g.addEntry(C)))}))})),I.next((()=>u.mutationQueue.removeMutationBatch(h,m)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=nt();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function uR(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function QB(n,e){const t=Ze(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((g,m)=>{const w=s.get(m);if(!w)return;u.push(t.Pi.removeMatchingKeys(i,g.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(i,g.addedDocuments,m))));let I=w.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?I=I.withResumeToken(rn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(m,I),(function(C,R,N){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=GB?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(w,I,g)&&u.push(t.Pi.updateTargetData(i,I))}));let h=wr(),p=nt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(i,g))})),u.push(YB(i,l,e.documentUpdates).next((g=>{h=g.ks,p=g.qs}))),!r.isEqual(je.min())){const g=t.Pi.getLastRemoteSnapshotVersion(i).next((m=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(g)}return Z.waitFor(u).next((()=>l.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,h,p))).next((()=>h))})).then((i=>(t.Ms=s,i)))}function YB(n,e,t){let r=nt(),s=nt();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let l=wr();return t.forEach(((u,h)=>{const p=i.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):de(nw,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function XB(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ma),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function JB(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((i=>i?(s=i,Z.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new po(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function wv(n,e,t){const r=Ze(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!ki(l))throw l;de(nw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function xI(n,e,t){const r=Ze(n);let s=je.min(),i=nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,g){const m=Ze(h),w=m.xs.get(g);return w!==void 0?Z.resolve(m.Ms.get(w)):m.Pi.getTargetData(p,g)})(r,l,Fr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{i=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:je.min(),t?i:nt()))).next((u=>(e8(r,F$(e),u),{documents:u,Qs:i})))))}function e8(n,e,t){let r=n.Os.get(e)||je.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(e,r)}class TI{constructor(){this.activeTargetIds=q$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dR{constructor(){this.Mo=new TI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="ConnectivityMonitor";class PI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(CI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(CI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf=null;function Ev(){return cf===null?cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():cf++,"0x"+cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="RestConnection",n8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Xf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const l=Ev(),u=this.zo(e,t.toUriEncodedString());de(wy,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,i);const{host:p}=new URL(u),g=_c(p);return this.Jo(e,u,h,r,g).then((m=>(de(wy,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw Pa(wy,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,t,r,s,i,l){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ec})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,t){const r=n8[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class o8 extends r8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const l=Ev();return new Promise(((u,h)=>{const p=new DP;p.setWithCredentials(!0),p.listenOnce(OP.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case mf.NO_ERROR:const m=p.getResponseJson();de(Dn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case mf.TIMEOUT:de(Dn,`RPC '${e}' ${l} timed out`),h(new be(re.DEADLINE_EXCEEDED,"Request time out"));break;case mf.HTTP_ERROR:const w=p.getStatus();if(de(Dn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const A=I?.error;if(A&&A.status&&A.message){const C=(function(N){const M=N.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(M)>=0?M:re.UNKNOWN})(A.status);h(new be(C,A.message))}else h(new be(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new be(re.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(Dn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);de(Dn,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=Ev(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=LP(),u=VP(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=i.join("");de(Dn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const m=l.createWebChannel(g,h);this.I_(m);let w=!1,I=!1;const A=new s8({Yo:R=>{I?de(Dn,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(w||(de(Dn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),w=!0),de(Dn,`RPC '${e}' stream ${s} sending:`,R),m.send(R))},Zo:()=>m.close()}),C=(R,N,M)=>{R.listen(N,(j=>{try{M(j)}catch(z){setTimeout((()=>{throw z}),0)}}))};return C(m,xu.EventType.OPEN,(()=>{I||(de(Dn,`RPC '${e}' stream ${s} transport opened.`),A.o_())})),C(m,xu.EventType.CLOSE,(()=>{I||(I=!0,de(Dn,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(m))})),C(m,xu.EventType.ERROR,(R=>{I||(I=!0,Pa(Dn,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),A.a_(new be(re.UNAVAILABLE,"The operation could not be completed")))})),C(m,xu.EventType.MESSAGE,(R=>{if(!I){const N=R.data[0];Ve(!!N,16349);const M=N,j=M?.error||M[0]?.error;if(j){de(Dn,`RPC '${e}' stream ${s} received error:`,j);const z=j.status;let $=(function(T){const D=tn[T];if(D!==void 0)return DA(D)})(z),K=j.message;$===void 0&&($=re.INTERNAL,K="Unknown error status: "+z+" with message "+j.message),I=!0,A.a_(new be($,K)),m.close()}else de(Dn,`RPC '${e}' stream ${s} received:`,N),A.u_(N)}})),C(u,MP.STAT_EVENT,(R=>{R.stat===ev.PROXY?de(Dn,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===ev.NOPROXY&&de(Dn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(){return typeof window<"u"?window:null}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(n){return new aB(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="PersistentStream";class fR{constructor(e,t,r,s,i,l,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hR(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Bn(t.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new be(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(AI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(AI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class a8 extends fR{constructor(e,t,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=uB(this.serializer,e),r=(function(i){if(!("targetChange"in i))return je.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?Hn(l.readTime):je.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=mv(this.serializer),t.addTarget=(function(i,l){let u;const h=l.target;if(u=ep(h)?{documents:zA(i,h)}:{query:$A(i,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=VA(i,l.resumeToken);const p=fv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=dc(i,l.snapshotVersion.toTimestamp());const p=fv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=hB(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=mv(this.serializer),t.removeTarget=e,this.q_(t)}}class l8 extends fR{constructor(e,t,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=dB(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=mv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>rp(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{}class u8 extends c8{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new be(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,l])=>this.connection.Go(e,pv(t,r),s,i,l))).catch((i=>{throw i.name==="FirebaseError"?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new be(re.UNKNOWN,i.toString())}))}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,pv(t,r),s,l,u,i))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(re.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class d8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bn(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class h8{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{za(this)&&(de(Oa,"Restarting streams for network reachability change."),await(async function(h){const p=Ze(h);p.Ea.add(4),await xd(p),p.Ra.set("Unknown"),p.Ea.delete(4),await lm(p)})(this))}))})),this.Ra=new d8(r,s)}}async function lm(n){if(za(n))for(const e of n.da)await e(!0)}async function xd(n){for(const e of n.da)await e(!1)}function pR(n,e){const t=Ze(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),iw(t)?ow(t):Sc(t).O_()&&sw(t,e))}function rw(n,e){const t=Ze(n),r=Sc(t);t.Ia.delete(e),r.O_()&&mR(t,e),t.Ia.size===0&&(r.O_()?r.L_():za(t)&&t.Ra.set("Unknown"))}function sw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sc(n).Y_(e)}function mR(n,e){n.Va.Ue(e),Sc(n).Z_(e)}function ow(n){n.Va=new rB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Sc(n).start(),n.Ra.ua()}function iw(n){return za(n)&&!Sc(n).x_()&&n.Ia.size>0}function za(n){return Ze(n).Ea.size===0}function gR(n){n.Va=void 0}async function f8(n){n.Ra.set("Online")}async function p8(n){n.Ia.forEach(((e,t)=>{sw(n,e)}))}async function m8(n,e){gR(n),iw(n)?(n.Ra.ha(e),ow(n)):n.Ra.set("Unknown")}async function g8(n,e,t){if(n.Ra.set("Online"),e instanceof MA&&e.state===2&&e.cause)try{await(async function(s,i){const l=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(n,e)}catch(r){de(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lp(n,r)}else if(e instanceof Sf?n.Va.Ze(e):e instanceof OA?n.Va.st(e):n.Va.tt(e),!t.isEqual(je.min()))try{const r=await uR(n.localStore);t.compareTo(r)>=0&&await(function(i,l){const u=i.Va.Tt(l);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.Ia.get(p);g&&i.Ia.set(p,g.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,p)=>{const g=i.Ia.get(h);if(!g)return;i.Ia.set(h,g.withResumeToken(rn.EMPTY_BYTE_STRING,g.snapshotVersion)),mR(i,h);const m=new po(g.target,h,p,g.sequenceNumber);sw(i,m)})),i.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){de(Oa,"Failed to raise snapshot:",r),await lp(n,r)}}async function lp(n,e,t){if(!ki(e))throw e;n.Ea.add(1),await xd(n),n.Ra.set("Offline"),t||(t=()=>uR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Oa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await lm(n)}))}function yR(n,e){return e().catch((t=>lp(n,t,e)))}async function Td(n){const e=Ze(n),t=Ti(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ma;for(;y8(e);)try{const s=await XB(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,v8(e,s)}catch(s){await lp(e,s)}vR(e)&&_R(e)}function y8(n){return za(n)&&n.Ta.length<10}function v8(n,e){n.Ta.push(e);const t=Ti(n);t.O_()&&t.X_&&t.ea(e.mutations)}function vR(n){return za(n)&&!Ti(n).x_()&&n.Ta.length>0}function _R(n){Ti(n).start()}async function _8(n){Ti(n).ra()}async function w8(n){const e=Ti(n);for(const t of n.Ta)e.ea(t.mutations)}async function E8(n,e,t){const r=n.Ta.shift(),s=W_.from(r,e,t);await yR(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Td(n)}async function b8(n,e){e&&Ti(n).X_&&await(async function(r,s){if((function(l){return eB(l)&&l!==re.ABORTED})(s.code)){const i=r.Ta.shift();Ti(r).B_(),await yR(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Td(r)}})(n,e),vR(n)&&_R(n)}async function RI(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),de(Oa,"RemoteStore received new credentials");const r=za(t);t.Ea.add(3),await xd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await lm(t)}async function S8(n,e){const t=Ze(n);e?(t.Ea.delete(2),await lm(t)):e||(t.Ea.add(2),await xd(t),t.Ra.set("Unknown"))}function Sc(n){return n.ma||(n.ma=(function(t,r,s){const i=Ze(t);return i.sa(),new a8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:f8.bind(null,n),t_:p8.bind(null,n),r_:m8.bind(null,n),H_:g8.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),iw(n)?ow(n):n.Ra.set("Unknown")):(await n.ma.stop(),gR(n))}))),n.ma}function Ti(n){return n.fa||(n.fa=(function(t,r,s){const i=Ze(t);return i.sa(),new l8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:_8.bind(null,n),r_:b8.bind(null,n),ta:w8.bind(null,n),na:E8.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Td(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Oa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const l=Date.now()+r,u=new aw(e,t,l,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lw(n,e){if(Bn("AsyncQueue",`${e}: ${n}`),ki(n))return new be(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static emptySet(e){return new Hl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=Tu(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.ga=new Ot(Se.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class hc{constructor(e,t,r,s,i,l,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,i){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new hc(e,t,Hl.emptySet(t),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&em(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class x8{constructor(){this.queries=NI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ze(t),i=s.queries;s.queries=NI(),i.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new be(re.ABORTED,"Firestore shutting down"))}}function NI(){return new To((n=>wA(n)),em)}async function cw(n,e){const t=Ze(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new I8,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=lw(l,`Initialization of query '${Vl(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&dw(t)}async function uw(n,e){const t=Ze(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const l=i.Sa.indexOf(e);l>=0&&(i.Sa.splice(l,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function T8(n,e){const t=Ze(n);let r=!1;for(const s of e){const i=s.query,l=t.queries.get(i);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&dw(t)}function C8(n,e,t){const r=Ze(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function dw(n){n.Ca.forEach((e=>{e.next()}))}var bv,DI;(DI=bv||(bv={})).Ma="default",DI.Cache="cache";class hw{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.key=e}}class ER{constructor(e){this.key=e}}class P8{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=EA(e),this.tu=new Hl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new kI,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,m)=>{const w=s.get(g),I=bd(this.query,m)?m:null,A=!!w&&this.mutatedKeys.has(w.key),C=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;w&&I?w.data.isEqual(I.data)?A!==C&&(r.track({type:3,doc:I}),R=!0):this.su(w,I)||(r.track({type:2,doc:I}),R=!0,(h&&this.eu(I,h)>0||p&&this.eu(I,p)<0)&&(u=!0)):!w&&I?(r.track({type:0,doc:I}),R=!0):w&&!I&&(r.track({type:1,doc:w}),R=!0,(h||p)&&(u=!0)),R&&(I?(l=l.add(I),i=C?i.add(g):i.delete(g)):(l=l.delete(g),i=i.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),i=i.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,m)=>(function(I,A){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:R})}};return C(I)-C(A)})(g.type,m.type)||this.eu(g.doc,m.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,p=h!==this.Za;return this.Za=h,l.length!==0||p?{snapshot:new hc(this.query,e.tu,i,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new ER(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new wR(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=nt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return hc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fw="SyncEngine";class A8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class R8{constructor(e){this.key=e,this.hu=!1}}class k8{constructor(e,t,r,s,i,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new To((u=>wA(u)),em),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Se.comparator),this.Au=new Map,this.Ru=new X_,this.Vu={},this.mu=new Map,this.fu=Da.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N8(n,e,t=!0){const r=CR(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await bR(r,e,t,!0),s}async function D8(n,e){const t=CR(n);await bR(t,e,!0,!1)}async function bR(n,e,t,r){const s=await JB(n.localStore,Fr(e)),i=s.targetId,l=n.sharedClientState.addLocalQueryTarget(i,t);let u;return r&&(u=await O8(n,e,i,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&pR(n.remoteStore,s),u}async function O8(n,e,t,r,s){n.pu=(m,w,I)=>(async function(C,R,N,M){let j=R.view.ru(N);j.Cs&&(j=await xI(C.localStore,R.query,!1).then((({documents:P})=>R.view.ru(P,j))));const z=M&&M.targetChanges.get(R.targetId),$=M&&M.targetMismatches.get(R.targetId)!=null,K=R.view.applyChanges(j,C.isPrimaryClient,z,$);return MI(C,R.targetId,K.au),K.snapshot})(n,m,w,I);const i=await xI(n.localStore,e,!0),l=new P8(e,i.Qs),u=l.ru(i.documents),h=Id.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(u,n.isPrimaryClient,h);MI(n,t,p.au);const g=new A8(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function M8(n,e,t){const r=Ze(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((l=>!em(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await wv(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&rw(r.remoteStore,s.targetId),Sv(r,s.targetId)})).catch(Ua)):(Sv(r,s.targetId),await wv(r.localStore,s.targetId,!0))}async function V8(n,e){const t=Ze(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),rw(t.remoteStore,r.targetId))}async function L8(n,e,t){const r=PR(n);try{const s=await(function(l,u){const h=Ze(l),p=_t.now(),g=u.reduce(((I,A)=>I.add(A.key)),nt());let m,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let A=wr(),C=nt();return h.Ns.getEntries(I,g).next((R=>{A=R,A.forEach(((N,M)=>{M.isValidDocument()||(C=C.add(N))}))})).next((()=>h.localDocuments.getOverlayedDocuments(I,A))).next((R=>{m=R;const N=[];for(const M of u){const j=X$(M,m.get(M.key).overlayedDocument);j!=null&&N.push(new Co(M.key,j,hA(j.value.mapValue),_n.exists(!0)))}return h.mutationQueue.addMutationBatch(I,p,N,u)})).next((R=>{w=R;const N=R.applyToLocalDocumentSet(m,C);return h.documentOverlayCache.saveOverlays(I,R.batchId,N)}))})).then((()=>({batchId:w.batchId,changes:SA(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let p=l.Vu[l.currentUser.toKey()];p||(p=new Ot(Ke)),p=p.insert(u,h),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,t),await Cd(r,s.changes),await Td(r.remoteStore)}catch(s){const i=lw(s,"Failed to persist write");t.reject(i)}}async function SR(n,e){const t=Ze(n);try{const r=await QB(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const l=t.Au.get(i);l&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ve(l.hu,14607):s.removedDocuments.size>0&&(Ve(l.hu,42227),l.hu=!1))})),await Cd(t,r,e)}catch(r){await Ua(r)}}function OI(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Ze(l);h.onlineState=u;let p=!1;h.queries.forEach(((g,m)=>{for(const w of m.Sa)w.va(u)&&(p=!0)})),p&&dw(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F8(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let l=new Ot(Se.comparator);l=l.insert(i,Bt.newNoDocument(i,je.min()));const u=nt().add(i),h=new rm(je.min(),new Map,new Ot(Ke),l,u);await SR(r,h),r.du=r.du.remove(i),r.Au.delete(e),pw(r)}else await wv(r.localStore,e,!1).then((()=>Sv(r,e,t))).catch(Ua)}async function j8(n,e){const t=Ze(n),r=e.batch.batchId;try{const s=await ZB(t.localStore,e);xR(t,r,null),IR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Cd(t,s)}catch(s){await Ua(s)}}async function U8(n,e,t){const r=Ze(n);try{const s=await(function(l,u){const h=Ze(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,u).next((m=>(Ve(m!==null,37113),g=m.keys(),h.mutationQueue.removeMutationBatch(p,m)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);xR(r,e,t),IR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Cd(r,s)}catch(s){await Ua(s)}}function IR(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function xR(n,e,t){const r=Ze(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Sv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||TR(n,r)}))}function TR(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(rw(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),pw(n))}function MI(n,e,t){for(const r of t)r instanceof wR?(n.Ru.addReference(r.key,e),z8(n,r)):r instanceof ER?(de(fw,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||TR(n,r.key)):De(19791,{wu:r})}function z8(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(de(fw,"New document in limbo: "+t),n.Eu.add(r),pw(n))}function pw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Se(yt.fromString(e)),r=n.fu.next();n.Au.set(r,new R8(t)),n.du=n.du.insert(t,r),pR(n.remoteStore,new po(Fr(Ed(t.path)),r,"TargetPurposeLimboResolution",Vr.ce))}}async function Cd(n,e,t){const r=Ze(n),s=[],i=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(p){s.push(p);const g=tw.As(h.targetId,p);i.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(h,p){const g=Ze(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Z.forEach(p,(w=>Z.forEach(w.Es,(I=>g.persistence.referenceDelegate.addReference(m,w.targetId,I))).next((()=>Z.forEach(w.ds,(I=>g.persistence.referenceDelegate.removeReference(m,w.targetId,I)))))))))}catch(m){if(!ki(m))throw m;de(nw,"Failed to update sequence numbers: "+m)}for(const m of p){const w=m.targetId;if(!m.fromCache){const I=g.Ms.get(w),A=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(A);g.Ms=g.Ms.insert(w,C)}}})(r.localStore,i))}async function $8(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){de(fw,"User change. New user:",e.toKey());const r=await cR(t.localStore,e);t.currentUser=e,(function(i,l){i.mu.forEach((u=>{u.forEach((h=>{h.reject(new be(re.CANCELLED,l))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cd(t,r.Ls)}}function B8(n,e){const t=Ze(n),r=t.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let s=nt();const i=t.Iu.get(e);if(!i)return s;for(const l of i){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function CR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F8.bind(null,e),e.Pu.H_=T8.bind(null,e.eventManager),e.Pu.yu=C8.bind(null,e.eventManager),e}function PR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U8.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return lR(this.persistence,new aR,e.initialUser,this.serializer)}Cu(e){return new J_(im.mi,this.serializer)}Du(e){return new dR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class q8 extends ad{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ve(this.persistence.referenceDelegate instanceof ap,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nR(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new J_((r=>ap.mi(r,t)),this.serializer)}}class H8 extends ad{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await PR(this.xu.syncEngine),await Td(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return lR(this.persistence,new aR,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new nR(r,e.asyncQueue,t)}Mu(e,t){const r=new Zz(t,this.persistence);return new Kz(e.asyncQueue,r)}Cu(e){const t=HB(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new ew(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,i8(),xf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new dR}}class cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$8.bind(null,this.syncEngine),await S8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new x8})()}createDatastore(e){const t=am(e.databaseInfo.databaseId),r=(function(i){return new o8(i)})(e.databaseInfo);return(function(i,l,u,h){return new u8(i,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,l,u){return new h8(r,s,i,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>OI(this.syncEngine,t,0)),(function(){return PI.v()?new PI:new t8})())}createSyncEngine(e,t){return(function(s,i,l,u,h,p,g){const m=new k8(s,i,l,u,h,p);return g&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ze(t);de(Oa,"RemoteStore shutting down."),r.Ea.add(5),await xd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class W8{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=In.UNAUTHENTICATED,this.clientId=k_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async l=>{de(Ci,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(de(Ci,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=lw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ey(n,e){n.asyncQueue.verifyOperationInProgress(),de(Ci,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await cR(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function VI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await G8(n);de(Ci,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>RI(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>RI(e.remoteStore,s))),n._onlineComponents=e}async function G8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Ci,"Using user provided OfflineComponentProvider");try{await Ey(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Pa("Error using user provided cache. Falling back to memory cache: "+t),await Ey(n,new ad)}}else de(Ci,"Using default OfflineComponentProvider"),await Ey(n,new q8(void 0));return n._offlineComponents}async function AR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Ci,"Using user provided OnlineComponentProvider"),await VI(n,n._uninitializedComponentsProvider._online)):(de(Ci,"Using default OnlineComponentProvider"),await VI(n,new cp))),n._onlineComponents}function K8(n){return AR(n).then((e=>e.syncEngine))}async function up(n){const e=await AR(n),t=e.eventManager;return t.onListen=N8.bind(null,e.syncEngine),t.onUnlisten=M8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=D8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=V8.bind(null,e.syncEngine),t}function Z8(n,e,t={}){const r=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,p){const g=new mw({next:w=>{g.Nu(),l.enqueueAndForget((()=>uw(i,m)));const I=w.docs.has(u);!I&&w.fromCache?p.reject(new be(re.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&h&&h.source==="server"?p.reject(new be(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),m=new hw(Ed(u.path),g,{includeMetadataChanges:!0,qa:!0});return cw(i,m)})(await up(n),n.asyncQueue,e,t,r))),r.promise}function Q8(n,e,t={}){const r=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,p){const g=new mw({next:w=>{g.Nu(),l.enqueueAndForget((()=>uw(i,m))),w.fromCache&&h.source==="server"?p.reject(new be(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),m=new hw(u,g,{includeMetadataChanges:!0,qa:!0});return cw(i,m)})(await up(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firestore.googleapis.com",FI=!0;class jI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kR,this.ssl=FI}else this.host=e.host,this.ssl=e.ssl??FI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PB)throw new be(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Oz;switch(r.type){case"firstParty":return new Fz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=LI.get(t);r&&(de("ComponentProvider","Removing Datastore"),LI.delete(t),r.terminate())})(this),Promise.resolve()}}function Y8(n,e,t,r={}){n=qn(n,cm);const s=_c(e),i=n._getSettings(),l={...i,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(wP(`https://${u}`),EP("Firestore",!0)),i.host!==kR&&i.host!==u&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...i,host:u,ssl:s,emulatorOptions:r};if(!xa(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=In.MOCK_USER;else{p=lU(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new be(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new In(m)}n._authCredentials=new Mz(new jP(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pd(this.firestore,e,this._query)}}class Zt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(vd(t,Zt._jsonSchema))return new Zt(e,r||null,new Se(yt.fromString(t.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:nn("string",Zt._jsonSchemaVersion),referencePath:nn("string")};class Ei extends Pd{constructor(e,t,r){super(e,t,Ed(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new Se(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function NR(n,e,...t){if(n=Tn(n),zP("collection","path",e),n instanceof cm){const r=yt.fromString(e,...t);return AS(r),new Ei(n,null,r)}{if(!(n instanceof Zt||n instanceof Ei))throw new be(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return AS(r),new Ei(n.firestore,null,r)}}function Pi(n,e,...t){if(n=Tn(n),arguments.length===1&&(e=k_.newId()),zP("doc","path",e),n instanceof cm){const r=yt.fromString(e,...t);return PS(r),new Zt(n,null,new Se(r))}{if(!(n instanceof Zt||n instanceof Ei))throw new be(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return PS(r),new Zt(n.firestore,n instanceof Ei?n.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="AsyncQueue";class zI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hR(this,"async_queue_retry"),this._c=()=>{const r=xf();r&&de(UI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=xf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=xf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ki(e))throw e;de(UI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Bn("INTERNAL UNHANDLED ERROR: ",$I(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=aw.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&De(47125,{Pc:$I(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $I(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(n,["next","error","complete"])}class Bs extends cm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new zI,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zI(e),this._firestoreClient=void 0,await e}}}function X8(n,e){const t=typeof n=="object"?n:AP(),r=typeof n=="string"?n:Xf,s=A_(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=iU("firestore");i&&Y8(s,...i)}return s}function Ad(n){if(n._terminated)throw new be(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DR(n),n._firestoreClient}function DR(n){const e=n._freezeSettings(),t=(function(s,i,l,u){return new I$(s,i,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,RR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new W8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}function J8(n,e){Pa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return e7(n,cp.provider,{build:r=>new H8(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function e7(n,e,t){if((n=qn(n,Bs))._firestoreClient||n._terminated)throw new be(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new be(re.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},DR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mr(rn.fromBase64String(e))}catch(t){throw new be(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mr(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vd(e,Mr._jsonSchema))return Mr.fromBase64String(e.bytes)}}Mr._jsonSchemaVersion="firestore/bytes/1.0",Mr._jsonSchema={type:nn("string",Mr._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(vd(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:nn("string",Ls._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vd(e,Fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Fs(e.vectorValues);throw new be(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fs._jsonSchemaVersion="firestore/vectorValue/1.0",Fs._jsonSchema={type:nn("string",Fs._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=/^__.*__$/;class n7{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,t,this.fieldTransforms):new bc(e,this.data,t,this.fieldTransforms)}}class OR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Co(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:n})}}class yw{constructor(e,t,r,s,i,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MR(this.Ac)&&t7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class r7{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||am(e)}Cc(e,t,r,s=!1){return new yw({Ac:e,methodName:t,Dc:r,path:jt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vw(n){const e=n._freezeSettings(),t=am(n._databaseId);return new r7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VR(n,e,t,r,s,i={}){const l=n.Cc(i.merge||i.mergeFields?2:0,e,t,s);_w("Data must be an object, but it was:",l,r);const u=jR(r,l);let h,p;if(i.merge)h=new sr(l.fieldMask),p=l.fieldTransforms;else if(i.mergeFields){const g=[];for(const m of i.mergeFields){const w=Iv(e,m,t);if(!l.contains(w))throw new be(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);zR(g,w)||g.push(w)}h=new sr(g),p=l.fieldTransforms.filter((m=>h.covers(m.field)))}else h=null,p=l.fieldTransforms;return new n7(new Vn(u),h,p)}class um extends gw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof um}}function LR(n,e,t,r){const s=n.Cc(1,e,t);_w("Data must be an object, but it was:",s,r);const i=[],l=Vn.empty();Ni(r,((h,p)=>{const g=ww(e,h,t);p=Tn(p);const m=s.yc(g);if(p instanceof um)i.push(g);else{const w=dm(p,m);w!=null&&(i.push(g),l.set(g,w))}}));const u=new sr(i);return new OR(l,u,s.fieldTransforms)}function FR(n,e,t,r,s,i){const l=n.Cc(1,e,t),u=[Iv(e,r,t)],h=[s];if(i.length%2!=0)throw new be(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<i.length;w+=2)u.push(Iv(e,i[w])),h.push(i[w+1]);const p=[],g=Vn.empty();for(let w=u.length-1;w>=0;--w)if(!zR(p,u[w])){const I=u[w];let A=h[w];A=Tn(A);const C=l.yc(I);if(A instanceof um)p.push(I);else{const R=dm(A,C);R!=null&&(p.push(I),g.set(I,R))}}const m=new sr(p);return new OR(g,m,l.fieldTransforms)}function dm(n,e){if(UR(n=Tn(n)))return _w("Unsupported field value:",e,n),jR(n,e);if(n instanceof gw)return(function(r,s){if(!MR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let l=0;for(const u of r){let h=dm(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),l++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=Tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return H$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_t.fromDate(r);return{timestampValue:dc(s.serializer,i)}}if(r instanceof _t){const i=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dc(s.serializer,i)}}if(r instanceof Ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mr)return{bytesValue:VA(s.serializer,r._byteString)};if(r instanceof Zt){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Z_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Fs)return(function(l,u){return{mapValue:{fields:{[U_]:{stringValue:z_},[oc]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return q_(u.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${N_(r)}`)})(n,e)}function jR(n,e){const t={};return rA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(n,((r,s)=>{const i=dm(s,e.mc(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function UR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof Ls||n instanceof Mr||n instanceof Zt||n instanceof gw||n instanceof Fs)}function _w(n,e,t){if(!UR(t)||!$P(t)){const r=N_(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Iv(n,e,t){if((e=Tn(e))instanceof Rd)return e._internalPath;if(typeof e=="string")return ww(n,e);throw dp("Field path arguments must be of type string or ",n,!1,void 0,t)}const s7=new RegExp("[~\\*/\\[\\]]");function ww(n,e,t){if(e.search(s7)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rd(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dp(n,e,t,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(i||l)&&(h+=" (found",i&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new be(re.INVALID_ARGUMENT,u+n+h)}function zR(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class o7 extends $R{data(){return super.data()}}function BR(n,e){return typeof e=="string"?ww(n,e):e instanceof Rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i7{convertValue(e,t="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ni(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){const t=e.fields?.[oc].arrayValue?.values?.map((r=>Dt(r.doubleValue)));return new Fs(t)}convertGeoPoint(e){return new Ls(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Yp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nd(e));default:return null}}convertTimestamp(e){const t=Eo(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yt.fromString(e);Ve(WA(r),9688,{name:e});const s=new Aa(r.get(1),r.get(3)),i=new Se(r.popFirst(5));return s.isEqual(t)||Bn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends $R{constructor(e,t,r,s,i,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(BR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=va._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:nn("string",va._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class Tf extends va{data(e={}){return super.data(e)}}class _a{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Au(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Tf(this._firestore,this._userDataWriter,r.key,r,new Au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new Tf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Au(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>i||u.type!==3)).map((u=>{const h=new Tf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Au(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:a7(u.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=k_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function a7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(n){n=qn(n,Zt);const e=qn(n.firestore,Bs);return Z8(Ad(e),n._key).then((t=>WR(e,n,t)))}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:nn("string",_a._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class Ew extends i7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function l7(n){n=qn(n,Pd);const e=qn(n.firestore,Bs),t=Ad(e),r=new Ew(e);return qR(n._query),Q8(t,n._query).then((s=>new _a(e,r,n,s)))}function c7(n,e,t){n=qn(n,Zt);const r=qn(n.firestore,Bs),s=HR(n.converter,e,t);return hm(r,[VR(vw(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,_n.none())])}function u7(n,e,t,...r){n=qn(n,Zt);const s=qn(n.firestore,Bs),i=vw(s);let l;return l=typeof(e=Tn(e))=="string"||e instanceof Rd?FR(i,"updateDoc",n._key,e,t,r):LR(i,"updateDoc",n._key,e),hm(s,[l.toMutation(n._key,_n.exists(!0))])}function d7(n){return hm(qn(n.firestore,Bs),[new Sd(n._key,_n.none())])}function h7(n,...e){n=Tn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||BI(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(BI(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let i,l,u;if(n instanceof Zt)l=qn(n.firestore,Bs),u=Ed(n._key.path),i={next:h=>{e[r]&&e[r](WR(l,n,h))},error:e[r+1],complete:e[r+2]};else{const h=qn(n,Pd);l=qn(h.firestore,Bs),u=h._query;const p=new Ew(l);i={next:g=>{e[r]&&e[r](new _a(l,p,h,g))},error:e[r+1],complete:e[r+2]},qR(n._query)}return(function(p,g,m,w){const I=new mw(w),A=new hw(g,I,m);return p.asyncQueue.enqueueAndForget((async()=>cw(await up(p),A))),()=>{I.Nu(),p.asyncQueue.enqueueAndForget((async()=>uw(await up(p),A)))}})(Ad(l),u,s,i)}function hm(n,e){return(function(r,s){const i=new Vs;return r.asyncQueue.enqueueAndForget((async()=>L8(await K8(r),s,i))),i.promise})(Ad(n),e)}function WR(n,e,t){const r=t.docs.get(e._key),s=new Ew(n);return new va(n,s,e._key,r,new Au(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vw(e)}set(e,t,r){this._verifyNotCommitted();const s=by(e,this._firestore),i=HR(s.converter,t,r),l=VR(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(l.toMutation(s._key,_n.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const i=by(e,this._firestore);let l;return l=typeof(t=Tn(t))=="string"||t instanceof Rd?FR(this._dataReader,"WriteBatch.update",i._key,t,r,s):LR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(l.toMutation(i._key,_n.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=by(e,this._firestore);return this._mutations=this._mutations.concat(new Sd(t._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function by(n,e){if((n=Tn(n)).firestore!==e)throw new be(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n){return Ad(n=qn(n,Bs)),new f7(n,(e=>hm(n,e)))}(function(e,t=!0){(function(s){Ec=s})(wc),Jl(new Ta("firestore",((r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),u=new Bs(new Vz(r.getProvider("auth-internal")),new jz(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new be(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(p.options.projectId,g)})(l,s),l);return i={useFetchStreams:t,...i},u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),vi(IS,xS,e),vi(IS,xS,"esm2020")})();function GR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p7=GR,KR=new gd("auth","Firebase",GR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new C_("@firebase/auth");function m7(n,...e){hp.logLevel<=it.WARN&&hp.warn(`Auth (${wc}): ${n}`,...e)}function Cf(n,...e){hp.logLevel<=it.ERROR&&hp.error(`Auth (${wc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(n,...e){throw bw(n,...e)}function js(n,...e){return bw(n,...e)}function ZR(n,e,t){const r={...p7(),[e]:t};return new gd("auth","Firebase",r).create(e,{appName:n.name})}function wa(n){return ZR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return KR.create(n,...e)}function We(n,e,...t){if(!n)throw bw(e,...t)}function mo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cf(e),new Error(e)}function Io(n,e){n||mo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(){return typeof self<"u"&&self.location?.href||""}function g7(){return qI()==="http:"||qI()==="https:"}function qI(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g7()||fU()||"connection"in navigator)?navigator.onLine:!0}function v7(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Io(t>e,"Short delay should be less than long delay!"),this.isMobile=dU()||pU()}get(){return y7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n,e){Io(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E7=new kd(3e4,6e4);function Iw(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ic(n,e,t,r,s={}){return YR(n,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const u=yd({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...i};return hU()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&_c(n.emulatorConfig.host)&&(p.credentials="include"),QR.fetch()(await XR(n,n.config.apiHost,t,u),p)})}async function YR(n,e,t){n._canInitEmulator=!1;const r={..._7,...e};try{const s=new S7(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw uf(n,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const u=i.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw uf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw uf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw uf(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ZR(n,g,p);So(n,g)}}catch(s){if(s instanceof xo)throw s;So(n,"network-request-failed",{message:String(s)})}}async function b7(n,e,t,r,s={}){const i=await Ic(n,e,t,r,s);return"mfaPendingCredential"in i&&So(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function XR(n,e,t,r){const s=`${e}${t}?${r}`,i=n,l=i.config.emulator?Sw(n.config,s):`${n.config.apiScheme}://${s}`;return w7.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(l).toString():l}class S7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(js(this.auth,"network-request-failed")),E7.get())})}}function uf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=js(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(n,e){return Ic(n,"POST","/v1/accounts:delete",e)}async function fp(n,e){return Ic(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function x7(n,e=!1){const t=Tn(n),r=await t.getIdToken(e),s=xw(r);We(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i?.sign_in_provider;return{claims:s,token:r,authTime:ju(Sy(s.auth_time)),issuedAtTime:ju(Sy(s.iat)),expirationTime:ju(Sy(s.exp)),signInProvider:l||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Sy(n){return Number(n)*1e3}function xw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const s=mP(t);return s?JSON.parse(s):(Cf("Failed to decode base64 JWT payload"),null)}catch(s){return Cf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function HI(n){const e=xw(n);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof xo&&T7(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function T7({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(n){const e=n.auth,t=await n.getIdToken(),r=await ld(n,fp(e,{idToken:t}));We(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=s.providerUserInfo?.length?JR(s.providerUserInfo):[],l=A7(n.providerData,i),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,p=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Tv(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function P7(n){const e=Tn(n);await pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A7(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function JR(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R7(n,e){const t=await YR(n,{},async()=>{const r=yd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,l=await XR(n,s,"/v1/token",`key=${i}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&_c(n.emulatorConfig.host)&&(h.credentials="include"),QR.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function k7(n,e){return Ic(n,"POST","/v2/accounts:revokeToken",Iw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=HI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await R7(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,l=new Wl;return r&&(We(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(We(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(n,e){We(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rs{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new C7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Tv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ld(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return x7(this,e)}reload(){return P7(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ks(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await ld(this,I7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:m,emailVerified:w,isAnonymous:I,providerData:A,stsTokenManager:C}=t;We(m&&C,e,"internal-error");const R=Wl.fromJSON(this.name,C);We(typeof m=="string",e,"internal-error"),ii(r,e.name),ii(s,e.name),We(typeof w=="boolean",e,"internal-error"),We(typeof I=="boolean",e,"internal-error"),ii(i,e.name),ii(l,e.name),ii(u,e.name),ii(h,e.name),ii(p,e.name),ii(g,e.name);const N=new rs({uid:m,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:i,tenantId:u,stsTokenManager:R,createdAt:p,lastLoginAt:g});return A&&Array.isArray(A)&&(N.providerData=A.map(M=>({...M}))),h&&(N._redirectEventId=h),N}static async _fromIdTokenResponse(e,t,r=!1){const s=new Wl;s.updateFromServerResponse(t);const i=new rs({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pp(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];We(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?JR(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!i?.length,u=new Wl;u.updateFromIdToken(r);const h=new rs({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Tv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Map;function go(n){Io(n instanceof Function,"Expected a class definition");let e=WI.get(n);return e?(Io(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,WI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ek.type="NONE";const GI=ek;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(n,e,t){return`firebase:${n}:${e}:${t}`}class Gl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Pf(this.userKey,s.apiKey,i),this.fullPersistenceKey=Pf("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fp(this.auth,{idToken:e}).catch(()=>{});return t?rs._fromGetAccountInfoResponse(this.auth,t,e):null}return rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Gl(go(GI),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let i=s[0]||go(GI);const l=Pf(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const g=await p._get(l);if(g){let m;if(typeof g=="string"){const w=await fp(e,{idToken:g}).catch(()=>{});if(!w)break;m=await rs._fromGetAccountInfoResponse(e,w,g)}else m=rs._fromJSON(e,g);p!==i&&(u=m),i=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new Gl(i,e,r):(i=h[0],u&&await i._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==i)try{await p._remove(l)}catch{}})),new Gl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ik(e))return"Blackberry";if(ak(e))return"Webos";if(nk(e))return"Safari";if((e.includes("chrome/")||rk(e))&&!e.includes("edge/"))return"Chrome";if(ok(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function tk(n=un()){return/firefox\//i.test(n)}function nk(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rk(n=un()){return/crios\//i.test(n)}function sk(n=un()){return/iemobile/i.test(n)}function ok(n=un()){return/android/i.test(n)}function ik(n=un()){return/blackberry/i.test(n)}function ak(n=un()){return/webos/i.test(n)}function Tw(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function N7(n=un()){return Tw(n)&&!!window.navigator?.standalone}function D7(){return mU()&&document.documentMode===10}function lk(n=un()){return Tw(n)||ok(n)||ak(n)||ik(n)||/windows phone/i.test(n)||sk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(n,e=[]){let t;switch(n){case"Browser":t=KI(un());break;case"Worker":t=`${KI(un())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((l,u)=>{try{const h=e(i);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M7(n,e={}){return Ic(n,"GET","/v2/passwordPolicy",Iw(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=6;class L7{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??V7,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZI(this),this.idTokenSubscription=new ZI(this),this.beforeStateQueue=new O7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=go(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fp(this,{idToken:e}),r=await rs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ks(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!i||i===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ks(this.app))return Promise.reject(wa(this));const t=e?Tn(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ks(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ks(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M7(this),t=new L7(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await k7(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&go(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[go(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(u,this,"internal-error"),u.then(()=>{l||i(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ck(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ks(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&m7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Cw(n){return Tn(n)}class ZI{constructor(e){this.auth=e,this.observer=null,this.addObserver=EU(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j7(n){Pw=n}function U7(n){return Pw.loadJS(n)}function z7(){return Pw.gapiScript}function $7(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(n,e){const t=A_(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(xa(i,e??{}))return s;So(s,"already-initialized")}return t.initialize({options:e})}function q7(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(go);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function H7(n,e,t){const r=Cw(n);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=uk(e),{host:l,port:u}=W7(e),h=u===null?"":`:${u}`,p={url:`${i}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(xa(p,r.config.emulator)&&xa(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,_c(l)?(wP(`${i}//${l}${h}`),EP("Auth",!0)):G7()}function uk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function W7(n){const e=uk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:QI(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:QI(l)}}}function QI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function G7(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mo("not implemented")}_getIdTokenResponse(e){return mo("not implemented")}_linkToIdToken(e,t){return mo("not implemented")}_getReauthenticationResolver(e){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(n,e){return b7(n,"POST","/v1/accounts:signInWithIdp",Iw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7="http://localhost";class Ma extends dk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):So("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const l=new Ma(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Kl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Kl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kl(e,t)}buildRequest(){const e={requestUri:K7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends hk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Nd{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ma._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ui.credential(t,r)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Nd{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Nd{constructor(){super("twitter.com")}static credential(e,t){return Ma._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return hi.credential(t,r)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await rs._fromIdTokenResponse(e,r,s),l=YI(r);return new fc({user:i,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=YI(r);return new fc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function YI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends xo{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new mp(e,t,r,s)}}function fk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?mp._fromErrorAndOperation(n,i,e,r):i})}async function Z7(n,e,t=!1){const r=await ld(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return fc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q7(n,e,t=!1){const{auth:r}=n;if(ks(r.app))return Promise.reject(wa(r));const s="reauthenticate";try{const i=await ld(n,fk(r,s,e,n),t);We(i.idToken,r,"internal-error");const l=xw(i.idToken);We(l,r,"internal-error");const{sub:u}=l;return We(n.uid===u,r,"user-mismatch"),fc._forOperation(n,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&So(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(n,e,t=!1){if(ks(n.app))return Promise.reject(wa(n));const r="signIn",s=await fk(n,r,e),i=await fc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function X7(n,e,t,r){return Tn(n).onIdTokenChanged(e,t,r)}function J7(n,e,t){return Tn(n).beforeAuthStateChanged(e,t)}const gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gp,"1"),this.storage.removeItem(gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=1e3,tq=10;class mk extends pk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);D7()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,tq):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},eq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mk.type="LOCAL";const nq=mk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk extends pk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gk.type="SESSION";const yk=gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new pm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(t.origin,i)),h=await rq(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((u,h)=>{const p=Aw("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(m){const w=m;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(w.data.response);break;default:clearTimeout(g),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(){return window}function oq(n){Us().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return typeof Us().WorkerGlobalScope<"u"&&typeof Us().importScripts=="function"}async function iq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aq(){return navigator?.serviceWorker?.controller||null}function lq(){return vk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="firebaseLocalStorageDb",cq=1,yp="firebaseLocalStorage",wk="fbase_key";class Dd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mm(n,e){return n.transaction([yp],e?"readwrite":"readonly").objectStore(yp)}function uq(){const n=indexedDB.deleteDatabase(_k);return new Dd(n).toPromise()}function Cv(){const n=indexedDB.open(_k,cq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yp,{keyPath:wk})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(yp)?e(r):(r.close(),await uq(),e(await Cv()))})})}async function XI(n,e,t){const r=mm(n,!0).put({[wk]:e,value:t});return new Dd(r).toPromise()}async function dq(n,e){const t=mm(n,!1).get(e),r=await new Dd(t).toPromise();return r===void 0?null:r.value}function JI(n,e){const t=mm(n,!0).delete(e);return new Dd(t).toPromise()}const hq=800,fq=3;class Ek{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>fq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pm._getInstance(lq()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iq(),!this.activeServiceWorker)return;this.sender=new sq(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cv();return await XI(e,gp,"1"),await JI(e,gp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>XI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>dq(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>JI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=mm(s,!1).getAll();return new Dd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ek.type="LOCAL";const pq=Ek;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(n,e){return e?go(e):(We(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends dk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gq(n){return Y7(n.auth,new Rw(n),n.bypassAuthState)}function yq(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),Q7(t,new Rw(n),n.bypassAuthState)}async function vq(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),Z7(t,new Rw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gq;case"linkViaPopup":case"linkViaRedirect":return vq;case"reauthViaPopup":case"reauthViaRedirect":return yq;default:So(this.auth,"internal-error")}}resolve(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=new kd(2e3,1e4);class zl extends bk{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,zl.currentPopupAction&&zl.currentPopupAction.cancel(),zl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){Io(this.filter.length===1,"Popup operations only handle one event");const e=Aw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_q.get())};e()}}zl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="pendingRedirect",Af=new Map;class Eq extends bk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const r=await bq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bq(n,e){const t=xq(e),r=Iq(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Sq(n,e){Af.set(n._key(),e)}function Iq(n){return go(n._redirectPersistence)}function xq(n){return Pf(wq,n.config.apiKey,n.name)}async function Tq(n,e,t=!1){if(ks(n.app))return Promise.reject(wa(n));const r=Cw(n),s=mq(r,e),l=await new Eq(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq=600*1e3;class Pq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Aq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Sk(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(js(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Cq&&this.cachedEventUids.clear(),this.cachedEventUids.has(ex(e))}saveEventToCache(e){this.cachedEventUids.add(ex(e)),this.lastProcessedEventTime=Date.now()}}function ex(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Sk({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Aq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(n,e={}){return Ic(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nq=/^https?/;async function Dq(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Rq(n);for(const t of e)try{if(Oq(t))return}catch{}So(n,"unauthorized-domain")}function Oq(n){const e=xv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!Nq.test(t))return!1;if(kq.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=new kd(3e4,6e4);function tx(){const n=Us().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Vq(n){return new Promise((e,t)=>{function r(){tx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tx(),t(js(n,"network-request-failed"))},timeout:Mq.get()})}if(Us().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Us().gapi?.load)r();else{const s=$7("iframefcb");return Us()[s]=()=>{gapi.load?r():t(js(n,"network-request-failed"))},U7(`${z7()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function Lq(n){return Rf=Rf||Vq(n),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq=new kd(5e3,15e3),jq="__/auth/iframe",Uq="emulator/auth/iframe",zq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$q=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bq(n){const e=n.config;We(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sw(e,Uq):`https://${n.config.authDomain}/${jq}`,r={apiKey:e.apiKey,appName:n.name,v:wc},s=$q.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${yd(r).slice(1)}`}async function qq(n){const e=await Lq(n),t=Us().gapi;return We(t,n,"internal-error"),e.open({where:document.body,url:Bq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zq,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=js(n,"network-request-failed"),u=Us().setTimeout(()=>{i(l)},Fq.get());function h(){Us().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wq=500,Gq=600,Kq="_blank",Zq="http://localhost";class nx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qq(n,e,t,r=Wq,s=Gq){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...Hq,width:r.toString(),height:s.toString(),top:i,left:l},p=un().toLowerCase();t&&(u=rk(p)?Kq:t),tk(p)&&(e=e||Zq,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[I,A])=>`${w}${I}=${A},`,"");if(N7(p)&&u!=="_self")return Yq(e||"",u),new nx(null);const m=window.open(e||"",u,g);We(m,n,"popup-blocked");try{m.focus()}catch{}return new nx(m)}function Yq(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq="__/auth/handler",Jq="emulator/auth/handler",eH=encodeURIComponent("fac");async function rx(n,e,t,r,s,i){We(n.config.authDomain,n,"auth-domain-config-required"),We(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:wc,eventId:s};if(e instanceof hk){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",wU(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries({}))l[g]=m}if(e instanceof Nd){const g=e.getScopes().filter(m=>m!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),p=h?`#${eH}=${encodeURIComponent(h)}`:"";return`${tH(n)}?${yd(u).slice(1)}${p}`}function tH({config:n}){return n.emulator?Sw(n,Jq):`https://${n.authDomain}/${Xq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="webStorageSupport";class nH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yk,this._completeRedirectFn=Tq,this._overrideRedirectResult=Sq}async _openPopup(e,t,r,s){Io(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await rx(e,t,r,xv(),s);return Qq(e,i,Aw())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await rx(e,t,r,xv(),s);return oq(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Io(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await qq(e),r=new Pq(e);return t.register("authEvent",s=>(We(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Iy,{type:Iy},s=>{const i=s?.[0]?.[Iy];i!==void 0&&t(!!i),So(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Dq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lk()||nk()||Tw()}}const rH=nH;var sx="@firebase/auth",ox="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iH(n){Jl(new Ta("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ck(n)},p=new F7(r,s,i,h);return q7(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jl(new Ta("auth-internal",e=>{const t=Cw(e.getProvider("auth").getImmediate());return(r=>new sH(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(sx,ox,oH(n)),vi(sx,ox,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=300,lH=_P("authIdTokenMaxAge")||aH;let ix=null;const cH=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>lH)return;const s=t?.token;ix!==s&&(ix=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function uH(n=AP()){const e=A_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=B7(n,{popupRedirectResolver:rH,persistence:[pq,nq,yk]}),r=_P("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=cH(i.toString());J7(t,l,()=>l(t.currentUser)),X7(t,u=>l(u))}}const s=yP("auth");return s&&H7(t,`http://${s}`),t}function dH(){return document.getElementsByTagName("head")?.[0]??document}j7({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=js("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",dH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iH("Browser");const hH={apiKey:"AIzaSyAtQmAaUFEuyJmeOq3M3ZIkI3a1gna_Do8",authDomain:"nosql-demo-e5885.firebaseapp.com",databaseURL:"https://nosql-demo-e5885-default-rtdb.firebaseio.com",projectId:"nosql-demo-e5885",storageBucket:"nosql-demo-e5885.firebasestorage.app",messagingSenderId:"377685820338",appId:"1:377685820338:web:12a7618478c1cdeda79aab",measurementId:"G-EWRZ4F64R6"};let xy,Fn,fH;try{xy=PP(hH),Fn=X8(xy),fH=uH(xy),J8(Fn).catch(n=>{n.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):n.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser")})}catch(n){throw console.error("Firebase initialization error:",n),n}const qs={INVENTORY:"inventory"};function Ik(n){const e={};for(const t of Object.keys(n))n[t]!==void 0&&(e[t]=n[t]);return e}function gm(n,e,t){return n<=0?"Critical":t!==void 0&&n<=t||e?"Low Stock":"In Stock"}async function pH(){const n=await l7(NR(Fn,qs.INVENTORY));let e=0;return n.forEach(t=>{const s=t.id.match(/INV-(\d+)/);if(s){const i=parseInt(s[1],10);i>e&&(e=i)}}),`INV-${String(e+1).padStart(3,"0")}`}function mH(n,e){return h7(NR(Fn,qs.INVENTORY),t=>{const r=[];t.forEach(s=>{const i=s.data();r.push({id:s.id,name:i.name,category:i.category,subcategory:i.subcategory,quantity:i.quantity||0,location:i.location,status:i.status||gm(i.quantity||0,i.reorderRequired||!1,i.reorderLevel),brand:i.brand||"",pricePerPiece:i.pricePerPiece||0,supplierId:i.supplierId||"",quantityPurchased:i.quantityPurchased||0,quantitySold:i.quantitySold||0,reorderRequired:i.reorderRequired||!1,reorderLevel:i.reorderLevel,photoUrl:i.photoUrl,description:i.description,archived:i.archived||!1,archivedAt:i.archivedAt})}),n(r)},e)}async function vG(n){const e=n.id&&n.id.trim()!==""?n.id:await pH(),t=Math.max(0,Math.floor(n.quantity)),r=Math.max(0,Math.floor(n.quantityPurchased)),s=Math.max(0,Math.floor(n.quantitySold)),i=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):void 0,l=i!==void 0&&t<=i?!0:n.reorderRequired,u=gm(t,l,i),h={id:e,name:n.name.trim(),category:n.category,subcategory:n.subcategory,quantity:t,location:n.location.trim(),status:u,brand:n.brand.trim(),pricePerPiece:n.pricePerPiece,supplierId:n.supplierId.trim(),quantityPurchased:r,quantitySold:s,reorderRequired:l,reorderLevel:i,photoUrl:n.photoUrl,description:n.description};if((await $a(Pi(Fn,qs.INVENTORY,e))).exists())throw new Error(`Item with id ${e} already exists`);const g=Ik(h);return await c7(Pi(Fn,qs.INVENTORY,e),g),h}async function _G(n){const e=Pi(Fn,qs.INVENTORY,n.id),t=await $a(e);if(!t.exists())throw new Error("Item not found");const r=t.data(),s=n.quantity!==void 0?Math.max(0,Math.floor(n.quantity)):r.quantity,i=n.quantityPurchased!==void 0?Math.max(0,Math.floor(n.quantityPurchased)):r.quantityPurchased,l=n.quantitySold!==void 0?Math.max(0,Math.floor(n.quantitySold)):r.quantitySold,u=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):r.reorderLevel;let h=n.reorderRequired!==void 0?n.reorderRequired:r.reorderRequired;u!==void 0&&s<=u&&(h=!0);const p={...r,...n,quantity:s,quantityPurchased:i,quantitySold:l,reorderRequired:h,reorderLevel:u,status:gm(s,h,u)},g=Ik(p);return await u7(e,g),p}async function wG(n){const e=Pi(Fn,qs.INVENTORY,n);if(!(await $a(e)).exists())throw new Error("Item not found");await d7(e)}async function EG(n){const e=fm(Fn),t=[];let r=0;for(const s of n){const i=Pi(Fn,qs.INVENTORY,s);if(!(await $a(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!0,archivedAt:new Date().toISOString()}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function bG(n){const e=fm(Fn),t=[];let r=0;for(const s of n){const i=Pi(Fn,qs.INVENTORY,s);if(!(await $a(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!1,archivedAt:null}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function gH(n){const e=fm(Fn),t=[];let r=0;for(const s of n){const i=Pi(Fn,qs.INVENTORY,s);if(!(await $a(i)).exists()){t.push(`Item ${s} not found`);continue}e.delete(i),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function SG(n){return gH(n)}async function IG(n,e){const t=fm(Fn),r=[];let s=0;for(const i of n){const l=Pi(Fn,qs.INVENTORY,i),u=await $a(l);if(!u.exists()){r.push(`Item ${i} not found`);continue}const h=u.data(),p=e.quantity!==void 0?Math.max(0,Math.floor(e.quantity)):h.quantity,g=e.reorderRequired!==void 0?e.reorderRequired:h.reorderRequired,m=gm(p,g);t.update(l,{...e,status:m}),s++}return await t.commit(),{success:r.length===0,successCount:s,failedCount:r.length,errors:r.length>0?r:void 0}}const xk=b.createContext(void 0);function yH({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(null),[i,l]=b.useState(null),[u,h]=b.useState(null),[p,g]=b.useState({inventory:!0,orders:!0,shipments:!0,suppliers:!0}),m=b.useRef(null);b.useEffect(()=>(m.current=mH(M=>{t(M),g(j=>({...j,inventory:!1}))},M=>{console.error("Firebase inventory subscription error:",M),g(j=>({...j,inventory:!1}))}),()=>{m.current&&m.current()}),[]),b.useEffect(()=>{w()},[]);async function w(){await Promise.all([A(),C(),R()])}async function I(){}async function A(){g(M=>({...M,orders:!0}));try{const M=await W6();s(M)}finally{g(M=>({...M,orders:!1}))}}async function C(){g(M=>({...M,shipments:!0}));try{const M=await G6();l(M)}finally{g(M=>({...M,shipments:!1}))}}async function R(){g(M=>({...M,suppliers:!0}));try{const M=await H6();h(M)}finally{g(M=>({...M,suppliers:!1}))}}const N={inventory:e,orders:r,shipments:i,suppliers:u,isLoading:p,setInventory:t,setOrders:s,setShipments:l,setSuppliers:h,refreshInventory:I,refreshOrders:A,refreshShipments:C,refreshSuppliers:R};return E.jsx(xk.Provider,{value:N,children:n})}function kw(){const n=b.useContext(xk);if(n===void 0)throw new Error("useAppContext must be used within an AppProvider");return n}function xG(){const{inventory:n,isLoading:e,setInventory:t,refreshInventory:r}=kw();return{inventory:n,isLoading:e.inventory,setInventory:t,refreshInventory:r}}function TG(){const{suppliers:n,isLoading:e,setSuppliers:t,refreshSuppliers:r}=kw();return{suppliers:n,isLoading:e.suppliers,setSuppliers:t,refreshSuppliers:r}}function vH(n,e=300){const[t,r]=b.useState(n);return b.useEffect(()=>{const s=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(s)}},[n,e]),t}const Eu="wms_recent_searches",_H=10,df=2,bu=10,Ty={inventory:{name:"Inventory",icon:Ep,view:"inventory"},orders:{name:"Orders",icon:Rv,view:"orders"},"purchase-orders":{name:"Purchase Orders",icon:Av,view:"purchase-orders"},shipments:{name:"Shipments",icon:kv,view:"shipments"},suppliers:{name:"Suppliers",icon:_x,view:"suppliers"}},wH=[{syntax:"status:critical",description:"Filter by status"},{syntax:"category:electronics",description:"Filter by category"},{syntax:"module:inventory",description:"Search in specific module"},{syntax:"supplier:ABC Corp",description:"Filter by supplier"},{syntax:"location:warehouse-a",description:"Filter by location"},{syntax:"price:>100",description:"Numeric range filter"}];function EH({open:n,onOpenChange:e,onNavigate:t}){const[r,s]=b.useState(""),[i,l]=b.useState(0),[u,h]=b.useState(!1),[p,g]=b.useState([]),[m,w]=b.useState(!1),[I,A]=b.useState([]),C=b.useRef(null),R=b.useRef(null),{inventory:N,orders:M,shipments:j,suppliers:z}=kw(),{user:$}=pd(),K=vH(r,300);b.useEffect(()=>{if($){const X=localStorage.getItem(Eu);if(X)try{const U=JSON.parse(X);A(U[$.id]||[])}catch{A([])}}},[$]),b.useEffect(()=>{n?(K6().then(g).catch(console.error),C.current?.focus()):(s(""),l(0),w(!1))},[n]);const P=b.useCallback(X=>{if(!$||X.length<df)return;const U=localStorage.getItem(Eu);let G={};if(U)try{G=JSON.parse(U)}catch{}const ie=(G[$.id]||[]).filter(xe=>xe!==X),he=[X,...ie].slice(0,_H);G[$.id]=he,localStorage.setItem(Eu,JSON.stringify(G)),A(he)},[$]),T=b.useCallback(()=>{if(!$)return;const X=localStorage.getItem(Eu);let U={};if(X)try{U=JSON.parse(X)}catch{}delete U[$.id],localStorage.setItem(Eu,JSON.stringify(U)),A([])},[$]),D=b.useCallback(X=>{const U=[];let G=X;const oe=/(\w+):([<>=]*)([^\s]+)/g;let ie;for(;(ie=oe.exec(X))!==null;){const[he,xe,ve,Ie]=ie;U.push({key:xe.toLowerCase(),value:Ie,operator:ve}),G=G.replace(he,"").trim()}return{filters:U,cleanQuery:G}},[]),V=b.useMemo(()=>{if(K.length<df)return[];h(!0);const{filters:X,cleanQuery:U}=D(K),G=U.toLowerCase(),oe=[],ie=X.find(Qe=>Qe.key==="module")?.value.toLowerCase(),he=X.find(Qe=>Qe.key==="status")?.value.toLowerCase(),xe=X.find(Qe=>Qe.key==="category")?.value.toLowerCase(),ve=X.find(Qe=>Qe.key==="supplier")?.value.toLowerCase(),Ie=X.find(Qe=>Qe.key==="location")?.value.toLowerCase(),Ge=X.find(Qe=>Qe.key==="price");return(!ie||ie==="inventory")&&(N||[]).filter(me=>{if(he&&me.status.toLowerCase()!==he||xe&&me.category.toLowerCase()!==xe||Ie&&!me.location.toLowerCase().includes(Ie))return!1;if(Ge){const St=me.pricePerPiece,hn=parseFloat(Ge.value);if(Ge.operator===">"&&St<=hn||Ge.operator==="<"&&St>=hn)return!1}return U?me.id.toLowerCase().includes(G)||me.name.toLowerCase().includes(G)||me.brand.toLowerCase().includes(G)||me.category.toLowerCase().includes(G)||me.location.toLowerCase().includes(G):!0}).slice(0,bu).forEach(me=>{const St=[];me.id.toLowerCase().includes(G)&&St.push("ID"),me.name.toLowerCase().includes(G)&&St.push("Name"),me.brand.toLowerCase().includes(G)&&St.push("Brand"),oe.push({id:me.id,title:me.name,subtitle:`${me.id}  ${me.brand}  ${me.category}  ${me.location}`,module:"inventory",moduleName:"Inventory",icon:Ep,matchedFields:St})}),(!ie||ie==="orders")&&(M||[]).filter(me=>he&&me.status.toLowerCase()!==he?!1:U?me.id.toLowerCase().includes(G)||me.customer.toLowerCase().includes(G)||me.status.toLowerCase().includes(G):!0).slice(0,bu).forEach(me=>{oe.push({id:me.id,title:me.customer,subtitle:`${me.id}  ${me.status}  ${me.total}`,module:"orders",moduleName:"Orders",icon:Rv,matchedFields:[]})}),(!ie||ie==="purchase-orders"||ie==="po")&&p.filter(me=>he&&me.status.toLowerCase().replace(/\s/g,"-")!==he||ve&&!me.supplierName.toLowerCase().includes(ve)?!1:U?me.id.toLowerCase().includes(G)||me.supplierName.toLowerCase().includes(G)||me.status.toLowerCase().includes(G):!0).slice(0,bu).forEach(me=>{oe.push({id:me.id,title:`${me.id} - ${me.supplierName}`,subtitle:`${me.status}  ${me.totalAmount.toLocaleString()}`,module:"purchase-orders",moduleName:"Purchase Orders",icon:Av,matchedFields:[]})}),(!ie||ie==="shipments")&&(j||[]).filter(me=>he&&me.status.toLowerCase().replace(/\s/g,"-")!==he?!1:U?me.id.toLowerCase().includes(G)||me.orderId.toLowerCase().includes(G)||me.destination.toLowerCase().includes(G)||me.carrier.toLowerCase().includes(G):!0).slice(0,bu).forEach(me=>{oe.push({id:me.id,title:`${me.id}  ${me.destination}`,subtitle:`Order: ${me.orderId}  ${me.carrier}  ${me.status}`,module:"shipments",moduleName:"Shipments",icon:kv,matchedFields:[]})}),(!ie||ie==="suppliers")&&(z||[]).filter(me=>he&&me.status.toLowerCase()!==he||xe&&!me.category.toLowerCase().includes(xe)?!1:U?me.id.toLowerCase().includes(G)||me.name.toLowerCase().includes(G)||me.contact.toLowerCase().includes(G)||me.email.toLowerCase().includes(G)||me.category.toLowerCase().includes(G):!0).slice(0,bu).forEach(me=>{oe.push({id:me.id,title:me.name,subtitle:`${me.id}  ${me.contact}  ${me.category}`,module:"suppliers",moduleName:"Suppliers",icon:_x,matchedFields:[]})}),h(!1),oe},[K,N,M,p,j,z,D]),F=b.useMemo(()=>{const X={inventory:[],orders:[],"purchase-orders":[],shipments:[],suppliers:[]};return V.forEach(U=>{X[U.module].push(U)}),X},[V]),B=b.useMemo(()=>Object.values(F).flat(),[F]),O=b.useMemo(()=>D(r).filters,[r,D]),Ce=b.useCallback(X=>{P(r),t(Ty[X.module].view,X.id),e(!1)},[r,P,t,e]),Be=b.useCallback(X=>{s(X)},[]),ge=b.useCallback(X=>{const U=new RegExp(`${X}:[^\\s]+\\s*`,"gi");s(G=>G.replace(U,"").trim())},[]);b.useEffect(()=>{const X=U=>{if(n)switch(U.key){case"ArrowDown":U.preventDefault(),l(G=>Math.min(G+1,B.length-1));break;case"ArrowUp":U.preventDefault(),l(G=>Math.max(G-1,0));break;case"Enter":U.preventDefault(),B[i]&&Ce(B[i]);break;case"Escape":e(!1);break}};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[n,B,i,Ce,e]),b.useEffect(()=>{l(0)},[B]);const Ee=(X,U)=>{if(!U||U.length<df)return X;const{cleanQuery:G}=D(U);if(!G)return X;const oe=new RegExp(`(${G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return X.split(oe).map((he,xe)=>oe.test(he)?E.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-800 rounded px-0.5",children:he},xe):he)},W=r.length===0&&I.length>0,ne=r.length>=df&&V.length===0&&!u;return E.jsx(a6,{open:n,onOpenChange:e,children:E.jsxs(u6,{className:"max-w-2xl p-0 gap-0 overflow-hidden",children:[E.jsxs("div",{className:"flex items-center border-b px-4 py-3 gap-3",children:[E.jsx(Nf,{className:"h-5 w-5 text-muted-foreground shrink-0"}),E.jsx(Su,{ref:C,value:r,onChange:X=>s(X.target.value),placeholder:"Search across all modules... (type ? for help)",className:"border-0 focus-visible:ring-0 p-0 h-auto text-base","aria-label":"Global search"}),u&&E.jsx(kf,{className:"h-4 w-4 animate-spin text-muted-foreground"}),E.jsx("button",{onClick:()=>w(!m),className:"p-1 hover:bg-muted rounded",title:"Show filter syntax help",children:E.jsx(c2,{className:"h-4 w-4 text-muted-foreground"})})]}),O.length>0&&E.jsx("div",{className:"flex flex-wrap gap-2 px-4 py-2 border-b bg-muted/30",children:O.map((X,U)=>E.jsxs(uS,{variant:"secondary",className:"gap-1 pr-1",children:[E.jsxs("span",{className:"font-medium",children:[X.key,":"]}),E.jsxs("span",{children:[X.operator||"",X.value]}),E.jsx("button",{onClick:()=>ge(X.key),className:"ml-1 hover:bg-muted rounded-full p-0.5",children:E.jsx(Nv,{className:"h-3 w-3"})})]},U))}),m&&E.jsxs("div",{className:"px-4 py-3 border-b bg-blue-50 dark:bg-blue-950/30",children:[E.jsx("p",{className:"text-sm font-medium mb-2",children:"Filter Syntax:"}),E.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:wH.map((X,U)=>E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:X.syntax}),E.jsx("span",{className:"text-muted-foreground",children:X.description})]},U))})]}),E.jsxs(dP,{className:"max-h-[400px]",ref:R,children:[W&&E.jsxs("div",{className:"p-2",children:[E.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-1",children:[E.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Recent Searches"}),E.jsx("button",{onClick:T,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear all"})]}),I.map((X,U)=>E.jsxs("button",{onClick:()=>Be(X),className:"flex items-center gap-3 w-full px-3 py-2 text-left hover:bg-muted rounded-md transition-colors",children:[E.jsx(p2,{className:"h-4 w-4 text-muted-foreground"}),E.jsx("span",{className:"text-sm",children:X})]},U))]}),ne&&E.jsxs("div",{className:"p-8 text-center",children:[E.jsx(H2,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),E.jsxs("p",{className:"text-muted-foreground",children:['No results found for "',r,'"']}),E.jsxs("p",{className:"text-sm text-muted-foreground/70 mt-1",children:["Try different keywords or use filters like ",E.jsx("code",{className:"bg-muted px-1 rounded",children:"status:active"})]})]}),V.length>0&&E.jsx("div",{className:"p-2",children:Object.entries(F).filter(([,X])=>X.length>0).map(([X,U])=>E.jsxs("div",{className:"mb-4 last:mb-0",children:[E.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 mb-1",children:[(()=>{const G=Ty[X].icon;return E.jsx(G,{className:"h-4 w-4 text-muted-foreground"})})(),E.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:Ty[X].name}),E.jsx(uS,{variant:"secondary",className:"h-5 px-1.5 text-xs",children:U.length})]}),U.map((G,oe)=>{const he=B.indexOf(G)===i;return E.jsxs("button",{onClick:()=>Ce(G),className:$e("flex items-start gap-3 w-full px-3 py-2 text-left rounded-md transition-colors",he?"bg-primary/10 text-primary":"hover:bg-muted"),children:[E.jsx(G.icon,{className:"h-4 w-4 mt-0.5 shrink-0"}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("div",{className:"font-medium text-sm truncate",children:Ee(G.title,r)}),E.jsx("div",{className:"text-xs text-muted-foreground truncate",children:Ee(G.subtitle,r)})]})]},G.id)})]},X))}),r.length===0&&I.length===0&&E.jsxs("div",{className:"p-8 text-center",children:[E.jsx(Nf,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),E.jsx("p",{className:"text-muted-foreground",children:"Start typing to search across all modules"}),E.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Search inventory, orders, purchase orders, shipments, and suppliers"})]})]}),E.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t bg-muted/30 text-xs text-muted-foreground",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),"to navigate"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Enter"}),"to select"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Esc"}),"to close"]})]}),E.jsxs("span",{children:[V.length," result",V.length!==1?"s":""]})]})]})})}function bH(){const[n,e]=b.useState(!1);return b.useEffect(()=>{const t=r=>{(r.metaKey||r.ctrlKey)&&r.key==="k"&&(r.preventDefault(),e(s=>!s))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),{open:n,setOpen:e}}function SH({setCurrentView:n,setCommandPaletteOpen:e}){const{user:t,logout:r}=pd(),s=()=>{r(),ts.success("Logged out successfully")};return E.jsxs("header",{className:"shrink-0 z-50 flex h-14 items-center gap-4 border-b bg-background px-4 sm:px-6",children:[E.jsxs("div",{className:"min-w-0 flex-1",children:[E.jsxs("h1",{className:"text-sm font-semibold truncate sm:text-base",children:[E.jsx("span",{className:"hidden lg:inline",children:"Warehouse Management System "}),E.jsx("span",{className:"lg:hidden",children:"WMS"})]}),E.jsx("p",{className:"text-xs text-muted-foreground truncate lg:hidden",children:"Inventory & Supply Chain"})]}),E.jsxs(Uu,{variant:"outline",className:"hidden sm:flex w-64 justify-start text-muted-foreground gap-2",onClick:()=>e(!0),children:[E.jsx(Nf,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"truncate",children:"Search everything..."}),E.jsxs("kbd",{className:"ml-auto pointer-events-none hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium md:inline-flex",children:[E.jsx(g2,{className:"h-3 w-3"}),"K"]})]}),E.jsxs(Uu,{variant:"outline",size:"icon",className:"sm:hidden shrink-0",onClick:()=>e(!0),children:[E.jsx(Nf,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Search"})]}),t&&E.jsxs(XT,{modal:!1,children:[E.jsx(JT,{asChild:!0,children:E.jsxs("button",{type:"button",className:"flex items-center gap-2 px-2 py-1.5 rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:[E.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:E.jsx(Cy,{className:"h-4 w-4 text-primary"})}),E.jsxs("div",{className:"hidden md:flex flex-col items-start text-left",children:[E.jsx("span",{className:"text-sm font-medium truncate max-w-[120px]",children:t.name}),E.jsx("span",{className:"text-xs text-muted-foreground",children:t.role})]}),E.jsx(r2,{className:"h-4 w-4 text-muted-foreground hidden md:block"})]})}),E.jsxs(c_,{align:"end",className:"w-56",sideOffset:8,children:[E.jsx(u_,{className:"font-normal",children:E.jsxs("div",{className:"flex flex-col space-y-1",children:[E.jsx("p",{className:"text-sm font-medium leading-none",children:t.name}),E.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),E.jsx(d_,{}),E.jsxs(Wu,{onSelect:()=>n("profile"),children:[E.jsx(Cy,{className:"mr-2 h-4 w-4"}),"View Profile"]}),E.jsxs(Wu,{onSelect:s,className:"text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400",children:[E.jsx(R2,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})}const ax=ce.lazy(()=>jr(()=>import("./dashboard-Q1JBYUK7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(n=>({default:n.Dashboard}))),IH=ce.lazy(()=>jr(()=>import("./inventory-view-_UxwQ4bw.js"),__vite__mapDeps([9,10,11,1,12,7,13,2,14,3,4,15,16,17,18,19,20,21])).then(n=>({default:n.InventoryView}))),xH=ce.lazy(()=>jr(()=>import("./orders-view-WRpIpXrq.js"),__vite__mapDeps([22,10,11,1,23,6,12,7,13,2,14,3,4])).then(n=>({default:n.OrdersView}))),TH=ce.lazy(()=>jr(()=>import("./purchase-orders-view-B-lAfG5q.js"),__vite__mapDeps([24,10,25,11,1,2,14,20,3,4,15,16,8])).then(n=>({default:n.PurchaseOrdersView}))),CH=ce.lazy(()=>jr(()=>import("./sales-orders-view-iC34kSmU.js"),__vite__mapDeps([26,2,11,1,10,25,20,3,4,15,16])).then(n=>({default:n.SalesOrdersView}))),PH=ce.lazy(()=>jr(()=>import("./shipments-view-D5h0FAVM.js"),__vite__mapDeps([27,10,11,1,23,6,12,7,13,2,14,28,4,18])).then(n=>({default:n.ShipmentsView}))),AH=ce.lazy(()=>jr(()=>import("./suppliers-view-qlf5-fGH.js"),__vite__mapDeps([29,10,11,1,12,7,13,2,14,28,16,30,21,18,4,3,17])).then(n=>({default:n.SuppliersView}))),RH=ce.lazy(()=>jr(()=>import("./customers-view-BCwfJzsL.js"),__vite__mapDeps([31,10,11,1,12,7,13,2,14,28,16,30,17,18,3])).then(n=>({default:n.CustomersView}))),kH=ce.lazy(()=>jr(()=>import("./user-management-view-DDo1SfGL.js"),__vite__mapDeps([32,10,2,13,33])).then(n=>({default:n.UserManagementView}))),NH=ce.lazy(()=>jr(()=>import("./admin-profile-view-DldO4PGp.js"),__vite__mapDeps([34,19,33,28,30,18,6])).then(n=>({default:n.AdminProfileView}))),DH=ce.lazy(()=>jr(()=>import("./cash-bank-view--BantHcm.js"),__vite__mapDeps([35,2,11,1,10,25,15,3,5,16])).then(n=>({default:n.CashBankView}))),OH=ce.lazy(()=>jr(()=>import("./payments-view-DtfloRiv.js"),__vite__mapDeps([36,2,11,1,10,25,15,3,5,16])).then(n=>({default:n.PaymentsView}))),MH=["dashboard","inventory","orders","purchase-orders","sales-orders","shipments","suppliers","customers","cash-bank","payments","users","profile"];function lx(){const n=window.location.hash.slice(1);return n&&MH.includes(n)?n:"dashboard"}function VH(){const{isAuthenticated:n,isLoading:e}=pd(),[t,r]=b.useState(lx),[s,i]=b.useState(null),[l,u]=b.useState(void 0),{open:h,setOpen:p}=bH();b.useEffect(()=>{const C=t==="dashboard"?"":`#${t}`;window.location.hash!==C&&window.location.hash!==`#${t}`&&window.history.replaceState(null,"",C||window.location.pathname)},[t]),b.useEffect(()=>{const C=()=>{const R=lx();r(R)};return window.addEventListener("hashchange",C),()=>window.removeEventListener("hashchange",C)},[]);const g=b.useCallback((C,R=!1)=>{r(C),R&&C!=="dashboard"&&i(C)},[]),m=b.useCallback((C,R)=>{r(C),u(R)},[]),w=b.useCallback(()=>{i(null)},[]),I=b.useCallback(()=>{u(void 0)},[]);if(e)return E.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx(kf,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),E.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})});if(!n)return E.jsxs(Fb,{onError:Ky,children:[E.jsx(i6,{}),E.jsx(Lb,{})]});const A=()=>{switch(t){case"dashboard":return E.jsx(ax,{navigateToView:g});case"inventory":return E.jsx(IH,{initialOpenDialog:s==="inventory",onDialogOpened:w,initialItemId:l,onItemDialogOpened:I});case"orders":return E.jsx(xH,{initialOpenDialog:s==="orders",onDialogOpened:w});case"purchase-orders":return E.jsx(TH,{initialOpenDialog:s==="purchase-orders",onDialogOpened:w});case"sales-orders":return E.jsx(CH,{});case"shipments":return E.jsx(PH,{initialOpenDialog:s==="shipments",onDialogOpened:w});case"suppliers":return E.jsx(AH,{initialOpenDialog:s==="suppliers",onDialogOpened:w,initialSupplierId:l,onSupplierDialogOpened:I});case"customers":return E.jsx(RH,{initialOpenDialog:s==="customers",onDialogOpened:w,initialCustomerId:l,onCustomerDialogOpened:I});case"cash-bank":return E.jsx(DH,{});case"payments":return E.jsx(OH,{});case"users":return E.jsx(kH,{});case"profile":return E.jsx(NH,{});default:return E.jsx(ax,{navigateToView:g})}};return E.jsx(Fb,{onError:Ky,children:E.jsxs(gL,{children:[E.jsx(p5,{currentView:t,setCurrentView:r}),E.jsxs(_L,{className:"flex flex-col bg-muted/30 h-screen overflow-hidden",children:[E.jsx(SH,{setCurrentView:r,setCommandPaletteOpen:p}),E.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-6",children:E.jsx(b.Suspense,{fallback:E.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[E.jsx(kf,{className:"h-4 w-4 animate-spin"})," Loading..."]}),children:A()})})]}),E.jsx(EH,{open:h,onOpenChange:p,onNavigate:m}),E.jsx(Lb,{})]})})}const cx="wms_favorites",ux="wms_saved_searches",Tk=b.createContext(void 0),LH=[{id:"ql-1",label:"Low Stock Items",entityType:"inventory",filters:{status:"Low Stock"},icon:"alert"},{id:"ql-2",label:"Critical Stock",entityType:"inventory",filters:{status:"Critical"},icon:"alert-circle"},{id:"ql-3",label:"Pending Orders",entityType:"orders",filters:{status:"Pending"},icon:"clock"},{id:"ql-4",label:"Processing Orders",entityType:"orders",filters:{status:"Processing"},icon:"loader"},{id:"ql-5",label:"In Transit Shipments",entityType:"shipments",filters:{status:"In Transit"},icon:"truck"},{id:"ql-6",label:"Active Suppliers",entityType:"suppliers",filters:{status:"Active"},icon:"users"}];function FH({children:n}){const[e,t]=b.useState([]),[r,s]=b.useState([]),[i]=b.useState(LH);b.useEffect(()=>{try{const C=localStorage.getItem(cx);C&&t(JSON.parse(C));const R=localStorage.getItem(ux);R&&s(JSON.parse(R))}catch(C){console.error("Failed to load favorites from localStorage:",C)}},[]),b.useEffect(()=>{try{localStorage.setItem(cx,JSON.stringify(e))}catch(C){console.error("Failed to save favorites to localStorage:",C)}},[e]),b.useEffect(()=>{try{localStorage.setItem(ux,JSON.stringify(r))}catch(C){console.error("Failed to save searches to localStorage:",C)}},[r]);const l=b.useCallback((C,R,N)=>{t(M=>M.some($=>$.entityType===C&&$.entityId===R)?M:[{id:`fav-${C}-${R}-${Date.now()}`,entityType:C,entityId:R,entityName:N,favoritedAt:new Date().toISOString()},...M])},[]),u=b.useCallback((C,R)=>{t(N=>N.filter(M=>!(M.entityType===C&&M.entityId===R)))},[]),h=b.useCallback((C,R,N)=>{t(M=>M.some(z=>z.entityType===C&&z.entityId===R)?M.filter(z=>!(z.entityType===C&&z.entityId===R)):[{id:`fav-${C}-${R}-${Date.now()}`,entityType:C,entityId:R,entityName:N,favoritedAt:new Date().toISOString()},...M])},[]),p=b.useCallback((C,R)=>e.some(N=>N.entityType===C&&N.entityId===R),[e]),g=b.useCallback(C=>e.filter(R=>R.entityType===C),[e]),m=b.useCallback((C=10)=>[...e].sort((R,N)=>new Date(N.favoritedAt).getTime()-new Date(R.favoritedAt).getTime()).slice(0,C),[e]),w=b.useCallback((C,R,N,M)=>{const j={id:`search-${Date.now()}`,name:C,entityType:R,searchTerm:N,filters:M||{},createdAt:new Date().toISOString()};s(z=>[j,...z])},[]),I=b.useCallback(C=>{s(R=>R.filter(N=>N.id!==C))},[]),A=b.useCallback(C=>r.filter(R=>R.entityType===C),[r]);return E.jsx(Tk.Provider,{value:{favorites:e,savedSearches:r,quickLinks:i,addFavorite:l,removeFavorite:u,toggleFavorite:h,isFavorite:p,getFavoritesByType:g,getRecentFavorites:m,saveSearch:w,deleteSearch:I,getSearchesByType:A},children:n})}function CG(){const n=b.useContext(Tk);if(!n)throw new Error("useFavorites must be used within a FavoritesProvider");return n}const jH=l5;zN.createRoot(document.getElementById("root")).render(E.jsx(jH,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:E.jsx(s5,{children:E.jsx(FH,{children:E.jsx(yH,{children:E.jsx(VH,{})})})})}));window.addEventListener("error",n=>{const e=n.error instanceof Error?n.error:new Error(String(n.message));Ky(e)});export{SG as $,u6 as A,Uu as B,hC as C,a6 as D,HH as E,GH as F,KH as G,mu as H,Su as I,WH as J,xG as K,I2 as L,TG as M,CG as N,QW as O,Ep as P,vH as Q,ce as R,Rv as S,tD as T,_x as U,_G as V,lD as W,vG as X,gH as Y,EG as Z,bG as _,UH as a,TW as a$,IG as a0,qH as a1,Nv as a2,Nf as a3,XT as a4,JT as a5,c_ as a6,u_ as a7,d_ as a8,Z4 as a9,VW as aA,LW as aB,MW as aC,OW as aD,UW as aE,FW as aF,zW as aG,sW as aH,$W as aI,KW as aJ,WW as aK,HW as aL,qW as aM,BW as aN,ZW as aO,GW as aP,G6 as aQ,_W as aR,SW as aS,IW as aT,vW as aU,wW as aV,YH as aW,xW as aX,tW as aY,nW as aZ,rW as a_,K5 as aa,w2 as ab,dP as ac,uD as ad,YW as ae,XW as af,QH as ag,wG as ah,BH as ai,W6 as aj,gW as ak,EW as al,bW as am,mW as an,yW as ao,vx as ap,H6 as aq,ZH as ar,CW as as,jW as at,PW as au,AW as av,RW as aw,kW as ax,NW as ay,DW as az,gx as b,j1 as b$,N2 as b0,JH as b1,eW as b2,XH as b3,iW as b4,uW as b5,dW as b6,hW as b7,fW as b8,pW as b9,dG as bA,gG as bB,o2 as bC,r2 as bD,Rp as bE,t_ as bF,gc as bG,L1 as bH,Hs as bI,pa as bJ,X1 as bK,Et as bL,F1 as bM,ht as bN,Le as bO,yo as bP,Sp as bQ,Ov as bR,eC as bS,$V as bT,Mn as bU,Hx as bV,Vx as bW,Vv as bX,Zl as bY,Mv as bZ,bp as b_,oW as ba,lW as bb,cW as bc,aW as bd,Q2 as be,sD as bf,Cy as bg,eb as bh,QC as bi,Gy as bj,v2 as bk,kf as bl,eG as bm,iG as bn,oG as bo,rG as bp,sG as bq,tG as br,nG as bs,aG as bt,cG as bu,mG as bv,pG as bw,hG as bx,fG as by,uG as bz,rt as c,h6 as c0,U1 as c1,a2 as c2,$e as d,wp as e,fx as f,dx as g,vp as h,pd as i,E as j,hD as k,K6 as l,JW as m,lG as n,B2 as o,fC as p,pC as q,b as r,gC as s,kv as t,kw as u,Av as v,mC as w,p2 as x,uS as y,ts as z};
