const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-6FEDHyvT.js","assets/skeleton-BdvbG1tM.js","assets/permissions-BqDqHH54.js","assets/dollar-sign-DoYV1tyO.js","assets/trending-up-DYshTZVH.js","assets/credit-card-DPoion6W.js","assets/calendar-kcTVyB0d.js","assets/star-HBKzydml.js","assets/shopping-bag-NxvLnVIp.js","assets/inventory-view-8kOt9p3p.js","assets/sortable-table-head-BSHyvvyS.js","assets/bulk-delete-dialog-Cose83QP.js","assets/favorite-button-CcSFSpFR.js","assets/useTableSort-D6ldi3jl.js","assets/editable-cell-DDGghIom.js","assets/archive-DjyZNRPP.js","assets/square-pen-CIy3Ixly.js","assets/map-pin-Expt1-hs.js","assets/circle-alert-_tnvsb8S.js","assets/file-text-BTalSc07.js","assets/tag-CgVH4DlB.js","assets/orders-view-Ru0QhCK0.js","assets/date-range-filter-RwiCDtR3.js","assets/purchase-orders-view-BOCmbikK.js","assets/printable-receipt-D6kxU4LR.js","assets/sales-orders-view-CH-WYDj3.js","assets/shipments-view-CWkNaMFc.js","assets/circle-check-big-CCoztUZU.js","assets/suppliers-view-nUi1eiRk.js","assets/phone-BQOUyt6T.js","assets/customers-view-Cwnt6A1C.js","assets/user-management-view-BzSaT6DW.js","assets/crown-BE4sM16m.js","assets/admin-profile-view-DXI4Sjae.js","assets/cash-bank-view-BdaHbK6E.js","assets/payments-view-DKWAgArC.js"])))=>i.map(i=>d[i]);
function $k(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var Jq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xg={exports:{}},nu={},Ig={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function Bk(){if(cE)return st;cE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),m=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=m&&j[m]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function R(j,G,se){this.props=j,this.context=G,this.refs=C,this.updater=se||x}R.prototype.isReactComponent={},R.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},R.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function D(){}D.prototype=R.prototype;function M(j,G,se){this.props=j,this.context=G,this.refs=C,this.updater=se||x}var z=M.prototype=new D;z.constructor=M,A(z,R.prototype),z.isPureReactComponent=!0;var U=Array.isArray,$=Object.prototype.hasOwnProperty,K={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(j,G,se){var ie,fe={},xe=null,we=null;if(G!=null)for(ie in G.ref!==void 0&&(we=G.ref),G.key!==void 0&&(xe=""+G.key),G)$.call(G,ie)&&!P.hasOwnProperty(ie)&&(fe[ie]=G[ie]);var be=arguments.length-2;if(be===1)fe.children=se;else if(1<be){for(var Ge=Array(be),Ke=0;Ke<be;Ke++)Ge[Ke]=arguments[Ke+2];fe.children=Ge}if(j&&j.defaultProps)for(ie in be=j.defaultProps,be)fe[ie]===void 0&&(fe[ie]=be[ie]);return{$$typeof:n,type:j,key:xe,ref:we,props:fe,_owner:K.current}}function N(j,G){return{$$typeof:n,type:j.type,key:G,ref:j.ref,props:j.props,_owner:j._owner}}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function F(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(se){return G[se]})}var B=/\/+/g;function O(j,G){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):G.toString(36)}function Te(j,G,se,ie,fe){var xe=typeof j;(xe==="undefined"||xe==="boolean")&&(j=null);var we=!1;if(j===null)we=!0;else switch(xe){case"string":case"number":we=!0;break;case"object":switch(j.$$typeof){case n:case e:we=!0}}if(we)return we=j,fe=fe(we),j=ie===""?"."+O(we,0):ie,U(fe)?(se="",j!=null&&(se=j.replace(B,"$&/")+"/"),Te(fe,G,se,"",function(Ke){return Ke})):fe!=null&&(V(fe)&&(fe=N(fe,se+(!fe.key||we&&we.key===fe.key?"":(""+fe.key).replace(B,"$&/")+"/")+j)),G.push(fe)),1;if(we=0,ie=ie===""?".":ie+":",U(j))for(var be=0;be<j.length;be++){xe=j[be];var Ge=ie+O(xe,be);we+=Te(xe,G,se,Ge,fe)}else if(Ge=E(j),typeof Ge=="function")for(j=Ge.call(j),be=0;!(xe=j.next()).done;)xe=xe.value,Ge=ie+O(xe,be++),we+=Te(xe,G,se,Ge,fe);else if(xe==="object")throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return we}function Be(j,G,se){if(j==null)return j;var ie=[],fe=0;return Te(j,ie,"","",function(xe){return G.call(se,xe,fe++)}),ie}function ve(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(se){(j._status===0||j._status===-1)&&(j._status=1,j._result=se)},function(se){(j._status===0||j._status===-1)&&(j._status=2,j._result=se)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var Ee={current:null},W={transition:null},ne={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:W,ReactCurrentOwner:K};function X(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:Be,forEach:function(j,G,se){Be(j,function(){G.apply(this,arguments)},se)},count:function(j){var G=0;return Be(j,function(){G++}),G},toArray:function(j){return Be(j,function(G){return G})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},st.Component=R,st.Fragment=t,st.Profiler=s,st.PureComponent=M,st.StrictMode=r,st.Suspense=h,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,st.act=X,st.cloneElement=function(j,G,se){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ie=A({},j.props),fe=j.key,xe=j.ref,we=j._owner;if(G!=null){if(G.ref!==void 0&&(xe=G.ref,we=K.current),G.key!==void 0&&(fe=""+G.key),j.type&&j.type.defaultProps)var be=j.type.defaultProps;for(Ge in G)$.call(G,Ge)&&!P.hasOwnProperty(Ge)&&(ie[Ge]=G[Ge]===void 0&&be!==void 0?be[Ge]:G[Ge])}var Ge=arguments.length-2;if(Ge===1)ie.children=se;else if(1<Ge){be=Array(Ge);for(var Ke=0;Ke<Ge;Ke++)be[Ke]=arguments[Ke+2];ie.children=be}return{$$typeof:n,type:j.type,key:fe,ref:xe,props:ie,_owner:we}},st.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:i,_context:j},j.Consumer=j},st.createElement=T,st.createFactory=function(j){var G=T.bind(null,j);return G.type=j,G},st.createRef=function(){return{current:null}},st.forwardRef=function(j){return{$$typeof:u,render:j}},st.isValidElement=V,st.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:ve}},st.memo=function(j,G){return{$$typeof:p,type:j,compare:G===void 0?null:G}},st.startTransition=function(j){var G=W.transition;W.transition={};try{j()}finally{W.transition=G}},st.unstable_act=X,st.useCallback=function(j,G){return Ee.current.useCallback(j,G)},st.useContext=function(j){return Ee.current.useContext(j)},st.useDebugValue=function(){},st.useDeferredValue=function(j){return Ee.current.useDeferredValue(j)},st.useEffect=function(j,G){return Ee.current.useEffect(j,G)},st.useId=function(){return Ee.current.useId()},st.useImperativeHandle=function(j,G,se){return Ee.current.useImperativeHandle(j,G,se)},st.useInsertionEffect=function(j,G){return Ee.current.useInsertionEffect(j,G)},st.useLayoutEffect=function(j,G){return Ee.current.useLayoutEffect(j,G)},st.useMemo=function(j,G){return Ee.current.useMemo(j,G)},st.useReducer=function(j,G,se){return Ee.current.useReducer(j,G,se)},st.useRef=function(j){return Ee.current.useRef(j)},st.useState=function(j){return Ee.current.useState(j)},st.useSyncExternalStore=function(j,G,se){return Ee.current.useSyncExternalStore(j,G,se)},st.useTransition=function(){return Ee.current.useTransition()},st.version="18.3.1",st}var uE;function hv(){return uE||(uE=1,Ig.exports=Bk()),Ig.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function qk(){if(dE)return nu;dE=1;var n=hv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var y,m={},E=null,x=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(x=h.ref);for(y in h)r.call(h,y)&&!i.hasOwnProperty(y)&&(m[y]=h[y]);if(u&&u.defaultProps)for(y in h=u.defaultProps,h)m[y]===void 0&&(m[y]=h[y]);return{$$typeof:e,type:u,key:E,ref:x,props:m,_owner:s.current}}return nu.Fragment=t,nu.jsx=l,nu.jsxs=l,nu}var hE;function Hk(){return hE||(hE=1,xg.exports=qk()),xg.exports}var w=Hk(),Ch={},Tg={exports:{}},Qn={},Cg={exports:{}},Pg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function Wk(){return fE||(fE=1,(function(n){function e(W,ne){var X=W.length;W.push(ne);e:for(;0<X;){var j=X-1>>>1,G=W[j];if(0<s(G,ne))W[j]=ne,W[X]=G,X=j;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],X=W.pop();if(X!==ne){W[0]=X;e:for(var j=0,G=W.length,se=G>>>1;j<se;){var ie=2*(j+1)-1,fe=W[ie],xe=ie+1,we=W[xe];if(0>s(fe,X))xe<G&&0>s(we,fe)?(W[j]=we,W[xe]=X,j=xe):(W[j]=fe,W[ie]=X,j=ie);else if(xe<G&&0>s(we,X))W[j]=we,W[xe]=X,j=xe;else break e}}return ne}function s(W,ne){var X=W.sortIndex-ne.sortIndex;return X!==0?X:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],y=1,m=null,E=3,x=!1,A=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(W){for(var ne=t(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=W)r(p),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=t(p)}}function U(W){if(C=!1,z(W),!A)if(t(h)!==null)A=!0,ve($);else{var ne=t(p);ne!==null&&Ee(U,ne.startTime-W)}}function $(W,ne){A=!1,C&&(C=!1,D(T),T=-1),x=!0;var X=E;try{for(z(ne),m=t(h);m!==null&&(!(m.expirationTime>ne)||W&&!F());){var j=m.callback;if(typeof j=="function"){m.callback=null,E=m.priorityLevel;var G=j(m.expirationTime<=ne);ne=n.unstable_now(),typeof G=="function"?m.callback=G:m===t(h)&&r(h),z(ne)}else r(h);m=t(h)}if(m!==null)var se=!0;else{var ie=t(p);ie!==null&&Ee(U,ie.startTime-ne),se=!1}return se}finally{m=null,E=X,x=!1}}var K=!1,P=null,T=-1,N=5,V=-1;function F(){return!(n.unstable_now()-V<N)}function B(){if(P!==null){var W=n.unstable_now();V=W;var ne=!0;try{ne=P(!0,W)}finally{ne?O():(K=!1,P=null)}}else K=!1}var O;if(typeof M=="function")O=function(){M(B)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Be=Te.port2;Te.port1.onmessage=B,O=function(){Be.postMessage(null)}}else O=function(){R(B,0)};function ve(W){P=W,K||(K=!0,O())}function Ee(W,ne){T=R(function(){W(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){A||x||(A=!0,ve($))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(W){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var X=E;E=ne;try{return W()}finally{E=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var X=E;E=W;try{return ne()}finally{E=X}},n.unstable_scheduleCallback=function(W,ne,X){var j=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?j+X:j):X=j,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=X+G,W={id:y++,callback:ne,priorityLevel:W,startTime:X,expirationTime:G,sortIndex:-1},X>j?(W.sortIndex=X,e(p,W),t(h)===null&&W===t(p)&&(C?(D(T),T=-1):C=!0,Ee(U,X-j))):(W.sortIndex=G,e(h,W),A||x||(A=!0,ve($))),W},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(W){var ne=E;return function(){var X=E;E=ne;try{return W.apply(this,arguments)}finally{E=X}}}})(Pg)),Pg}var pE;function Gk(){return pE||(pE=1,Cg.exports=Wk()),Cg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function Kk(){if(mE)return Qn;mE=1;var n=hv(),e=Gk();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},m={};function E(o){return h.call(m,o)?!0:h.call(y,o)?!1:p.test(o)?m[o]=!0:(y[o]=!0,!1)}function x(o,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function A(o,a,c,f){if(a===null||typeof a>"u"||x(o,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(o,a,c,f,g,v,I){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=v,this.removeEmptyString=I}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){R[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];R[a]=new C(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){R[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){R[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){R[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){R[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){R[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){R[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){R[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function M(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(D,M);R[a]=new C(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(D,M);R[a]=new C(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(D,M);R[a]=new C(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){R[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),R.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){R[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function z(o,a,c,f){var g=R.hasOwnProperty(a)?R[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(A(a,c,g,f)&&(c=null),f||g===null?E(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):g.mustUseProperty?o[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?o.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?o.setAttributeNS(f,a,c):o.setAttribute(a,c))))}var U=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),K=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),W=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var X=Object.assign,j;function G(o){if(j===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||""}return`
`+j+o}var se=!1;function ie(o,a){if(!o||se)return"";se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var f=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){f=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){f=ee}o()}}catch(ee){if(ee&&f&&typeof ee.stack=="string"){for(var g=ee.stack.split(`
`),v=f.stack.split(`
`),I=g.length-1,L=v.length-1;1<=I&&0<=L&&g[I]!==v[L];)L--;for(;1<=I&&0<=L;I--,L--)if(g[I]!==v[L]){if(I!==1||L!==1)do if(I--,L--,0>L||g[I]!==v[L]){var q=`
`+g[I].replace(" at new "," at ");return o.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",o.displayName)),q}while(1<=I&&0<=L);break}}}finally{se=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?G(o):""}function fe(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case K:return"Portal";case N:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case Te:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case V:return(o._context.displayName||"Context")+".Provider";case B:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Be:return a=o.displayName||null,a!==null?a:xe(o.type)||"Memo";case ve:a=o._payload,o=o._init;try{return xe(o(a))}catch{}}return null}function we(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(a);case 8:return a===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function be(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ge(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ke(o){var a=Ge(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),f=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return g.call(this)},set:function(I){f=""+I,v.call(this,I)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function ye(o){o._valueTracker||(o._valueTracker=Ke(o))}function St(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return o&&(f=Ge(o)?o.checked?"true":"false":o.value),o=f,o!==c?(a.setValue(o),!0):!1}function hn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function rs(o,a){var c=a.checked;return X({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Da(o,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=be(a.value!=null?a.value:c),o._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Us(o,a){a=a.checked,a!=null&&z(o,"checked",a,!1)}function er(o,a){Us(o,a);var c=be(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?yt(o,a.type,c):a.hasOwnProperty("defaultValue")&&yt(o,a.type,be(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function _o(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function yt(o,a,c){(a!=="number"||hn(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var Vt=Array.isArray;function tr(o,a,c,f){if(o=o.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<o.length;c++)g=a.hasOwnProperty("$"+o[c].value),o[c].selected!==g&&(o[c].selected=g),g&&f&&(o[c].defaultSelected=!0)}else{for(c=""+be(c),a=null,g=0;g<o.length;g++){if(o[g].value===c){o[g].selected=!0,f&&(o[g].defaultSelected=!0);return}a!==null||o[g].disabled||(a=o[g])}a!==null&&(a.selected=!0)}}function on(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function yr(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Vt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:be(c)}}function Oa(o,a){var c=be(a.value),f=be(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),f!=null&&(o.defaultValue=""+f)}function ss(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function os(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wo(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?os(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Lr,Eo=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return o(a,c,f,g)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Lr=Lr||document.createElement("div"),Lr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Lr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Bn(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(o){jr.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),Fr[a]=Fr[o]})});function is(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Fr.hasOwnProperty(o)&&Fr[o]?(""+a).trim():a+"px"}function bo(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=is(c,a[c],f);c==="float"&&(c="cssFloat"),f?o.setProperty(c,g):o[c]=g}}var So=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qn(o,a){if(a){if(So[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function xo(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vr=null;function Mn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var zr=null,Ur=null,Pt=null;function Io(o){if(o=Uc(o)){if(typeof zr!="function")throw Error(t(280));var a=o.stateNode;a&&(a=$d(a),zr(o.stateNode,o.type,a))}}function qe(o){Ur?Pt?Pt.push(o):Pt=[o]:Ur=o}function xt(){if(Ur){var o=Ur,a=Pt;if(Pt=Ur=null,Io(o),a)for(o=0;o<a.length;o++)Io(a[o])}}function Ht(o,a){return o(a)}function fn(){}var Vn=!1;function Ut(o,a,c){if(Vn)return o(a,c);Vn=!0;try{return Ht(o,a,c)}finally{Vn=!1,(Ur!==null||Pt!==null)&&(fn(),xt())}}function Yt(o,a){var c=o.stateNode;if(c===null)return null;var f=$d(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var nr=!1;if(u)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{nr=!1}function In(o,a,c,f,g,v,I,L,q){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(le){this.onError(le)}}var _r=!1,pn=null,xi=!1,wr=null,wd={onError:function(o){_r=!0,pn=o}};function Ed(o,a,c,f,g,v,I,L,q){_r=!1,pn=null,In.apply(wd,arguments)}function mc(o,a,c,f,g,v,I,L,q){if(Ed.apply(this,arguments),_r){if(_r){var ee=pn;_r=!1,pn=null}else throw Error(t(198));xi||(xi=!0,wr=ee)}}function $r(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function gc(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function bd(o){if($r(o)!==o)throw Error(t(188))}function Sd(o){var a=o.alternate;if(!a){if(a=$r(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,f=a;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return bd(g),o;if(v===f)return bd(g),a;v=v.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=v;else{for(var I=!1,L=g.child;L;){if(L===c){I=!0,c=g,f=v;break}if(L===f){I=!0,f=g,c=v;break}L=L.sibling}if(!I){for(L=v.child;L;){if(L===c){I=!0,c=v,f=g;break}if(L===f){I=!0,f=v,c=g;break}L=L.sibling}if(!I)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function xd(o){return o=Sd(o),o!==null?Ii(o):null}function Ii(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Ii(o);if(a!==null)return a;o=o.sibling}return null}var yc=e.unstable_scheduleCallback,Ma=e.unstable_cancelCallback,Ti=e.unstable_shouldYield,$s=e.unstable_requestPaint,At=e.unstable_now,tm=e.unstable_getCurrentPriorityLevel,Va=e.unstable_ImmediatePriority,vc=e.unstable_UserBlockingPriority,Ci=e.unstable_NormalPriority,_c=e.unstable_LowPriority,La=e.unstable_IdlePriority,Pi=null,rr=null;function Id(o){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Pi,o,void 0,(o.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:Ai,as=Math.log,Er=Math.LN2;function Ai(o){return o>>>=0,o===0?32:31-(as(o)/Er|0)|0}var ls=64,To=4194304;function gt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Bs(o,a){var c=o.pendingLanes;if(c===0)return 0;var f=0,g=o.suspendedLanes,v=o.pingedLanes,I=c&268435455;if(I!==0){var L=I&~g;L!==0?f=gt(L):(v&=I,v!==0&&(f=gt(v)))}else I=c&~g,I!==0?f=gt(I):v!==0&&(f=gt(v));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,v=a&-a,g>=v||g===16&&(v&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=f;0<a;)c=31-sr(a),g=1<<c,f|=o[c],a&=~g;return f}function Ri(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ki(o,a){for(var c=o.suspendedLanes,f=o.pingedLanes,g=o.expirationTimes,v=o.pendingLanes;0<v;){var I=31-sr(v),L=1<<I,q=g[I];q===-1?((L&c)===0||(L&f)!==0)&&(g[I]=Ri(L,a)):q<=a&&(o.expiredLanes|=L),v&=~L}}function wc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Ec(){var o=ls;return ls<<=1,(ls&4194240)===0&&(ls=64),o}function bc(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Ni(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-sr(a),o[a]=c}function nm(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<c;){var g=31-sr(c),v=1<<g;a[g]=0,f[g]=-1,o[g]=-1,c&=~v}}function Sc(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var f=31-sr(c),g=1<<f;g&a|o[f]&a&&(o[f]|=a),c&=~g}}var ct=0;function cs(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var xc,Fa,Ic,Tc,Cc,us=!1,ja=[],ds=null,hs=null,_n=null,Di=new Map,qs=new Map,or=[],Td="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Co(o,a){switch(o){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Di.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(a.pointerId)}}function Br(o,a,c,f,g,v){return o===null||o.nativeEvent!==v?(o={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},a!==null&&(a=Uc(a),a!==null&&Fa(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),o)}function Cd(o,a,c,f,g){switch(a){case"focusin":return ds=Br(ds,o,a,c,f,g),!0;case"dragenter":return hs=Br(hs,o,a,c,f,g),!0;case"mouseover":return _n=Br(_n,o,a,c,f,g),!0;case"pointerover":var v=g.pointerId;return Di.set(v,Br(Di.get(v)||null,o,a,c,f,g)),!0;case"gotpointercapture":return v=g.pointerId,qs.set(v,Br(qs.get(v)||null,o,a,c,f,g)),!0}return!1}function za(o){var a=Li(o.target);if(a!==null){var c=$r(a);if(c!==null){if(a=c.tag,a===13){if(a=gc(c),a!==null){o.blockedOn=a,Cc(o.priority,function(){Ic(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function It(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Ua(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var f=new c.constructor(c.type,c);vr=f,c.target.dispatchEvent(f),vr=null}else return a=Uc(c),a!==null&&Fa(a),o.blockedOn=c,!1;a.shift()}return!0}function Pd(o,a,c){It(o)&&c.delete(a)}function rm(){us=!1,ds!==null&&It(ds)&&(ds=null),hs!==null&&It(hs)&&(hs=null),_n!==null&&It(_n)&&(_n=null),Di.forEach(Pd),qs.forEach(Pd)}function Po(o,a){o.blockedOn===a&&(o.blockedOn=null,us||(us=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rm)))}function Ao(o){function a(g){return Po(g,o)}if(0<ja.length){Po(ja[0],o);for(var c=1;c<ja.length;c++){var f=ja[c];f.blockedOn===o&&(f.blockedOn=null)}}for(ds!==null&&Po(ds,o),hs!==null&&Po(hs,o),_n!==null&&Po(_n,o),Di.forEach(a),qs.forEach(a),c=0;c<or.length;c++)f=or[c],f.blockedOn===o&&(f.blockedOn=null);for(;0<or.length&&(c=or[0],c.blockedOn===null);)za(c),c.blockedOn===null&&or.shift()}var Hs=U.ReactCurrentBatchConfig,Ws=!0;function fs(o,a,c,f){var g=ct,v=Hs.transition;Hs.transition=null;try{ct=1,Pc(o,a,c,f)}finally{ct=g,Hs.transition=v}}function Ad(o,a,c,f){var g=ct,v=Hs.transition;Hs.transition=null;try{ct=4,Pc(o,a,c,f)}finally{ct=g,Hs.transition=v}}function Pc(o,a,c,f){if(Ws){var g=Ua(o,a,c,f);if(g===null)pm(o,a,f,ps,c),Co(o,f);else if(Cd(g,o,a,c,f))f.stopPropagation();else if(Co(o,f),a&4&&-1<Td.indexOf(o)){for(;g!==null;){var v=Uc(g);if(v!==null&&xc(v),v=Ua(o,a,c,f),v===null&&pm(o,a,f,ps,c),v===g)break;g=v}g!==null&&f.stopPropagation()}else pm(o,a,f,null,c)}}var ps=null;function Ua(o,a,c,f){if(ps=null,o=Mn(f),o=Li(o),o!==null)if(a=$r(o),a===null)o=null;else if(c=a.tag,c===13){if(o=gc(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return ps=o,null}function $a(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tm()){case Va:return 1;case vc:return 4;case Ci:case _c:return 16;case La:return 536870912;default:return 16}default:return 16}}var ir=null,Ba=null,Gs=null;function Rd(){if(Gs)return Gs;var o,a=Ba,c=a.length,f,g="value"in ir?ir.value:ir.textContent,v=g.length;for(o=0;o<c&&a[o]===g[o];o++);var I=c-o;for(f=1;f<=I&&a[c-f]===g[v-f];f++);return Gs=g.slice(o,1<f?1-f:void 0)}function Oi(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function ms(){return!0}function Ac(){return!1}function Tn(o){function a(c,f,g,v,I){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var L in o)o.hasOwnProperty(L)&&(c=o[L],this[L]=c?c(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ms:Ac,this.isPropagationStopped=Ac,this}return X(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),a}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Tn(gs),Ro=X({},gs,{view:0,detail:0}),qa=Tn(Ro),Ha,Wa,ar,Vi=X({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ze,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ar&&(ar&&o.type==="mousemove"?(Ha=o.screenX-ar.screenX,Wa=o.screenY-ar.screenY):Wa=Ha=0,ar=o),Ha)},movementY:function(o){return"movementY"in o?o.movementY:Wa}}),Rc=Tn(Vi),kd=X({},Vi,{dataTransfer:0}),Nd=Tn(kd),Ga=X({},Ro,{relatedTarget:0}),wn=Tn(Ga),Dd=X({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Od=Tn(Dd),ko=X({},gs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),d=Tn(ko),_=X({},gs,{data:0}),S=Tn(_),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _e(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=te[o])?!!a[o]:!1}function Ze(){return _e}var Wt=X({},Ro,{key:function(o){if(o.key){var a=k[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Oi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Y[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ze,charCode:function(o){return o.type==="keypress"?Oi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Oi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),vt=Tn(Wt),Jt=X({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=Tn(Jt),Ks=X({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ze}),ys=Tn(Ks),vs=X({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ka=Tn(vs),kc=X({},Vi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),VR=Tn(kc),LR=[9,13,27,32],sm=u&&"CompositionEvent"in window,Nc=null;u&&"documentMode"in document&&(Nc=document.documentMode);var FR=u&&"TextEvent"in window&&!Nc,t0=u&&(!sm||Nc&&8<Nc&&11>=Nc),n0=" ",r0=!1;function s0(o,a){switch(o){case"keyup":return LR.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Za=!1;function jR(o,a){switch(o){case"compositionend":return o0(a);case"keypress":return a.which!==32?null:(r0=!0,n0);case"textInput":return o=a.data,o===n0&&r0?null:o;default:return null}}function zR(o,a){if(Za)return o==="compositionend"||!sm&&s0(o,a)?(o=Rd(),Gs=Ba=ir=null,Za=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return t0&&a.locale!=="ko"?null:a.data;default:return null}}var UR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i0(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!UR[o.type]:a==="textarea"}function a0(o,a,c,f){qe(f),a=jd(a,"onChange"),0<a.length&&(c=new Mi("onChange","change",null,c,f),o.push({event:c,listeners:a}))}var Dc=null,Oc=null;function $R(o){I0(o,0)}function Md(o){var a=el(o);if(St(a))return o}function BR(o,a){if(o==="change")return a}var l0=!1;if(u){var om;if(u){var im="oninput"in document;if(!im){var c0=document.createElement("div");c0.setAttribute("oninput","return;"),im=typeof c0.oninput=="function"}om=im}else om=!1;l0=om&&(!document.documentMode||9<document.documentMode)}function u0(){Dc&&(Dc.detachEvent("onpropertychange",d0),Oc=Dc=null)}function d0(o){if(o.propertyName==="value"&&Md(Oc)){var a=[];a0(a,Oc,o,Mn(o)),Ut($R,a)}}function qR(o,a,c){o==="focusin"?(u0(),Dc=a,Oc=c,Dc.attachEvent("onpropertychange",d0)):o==="focusout"&&u0()}function HR(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Md(Oc)}function WR(o,a){if(o==="click")return Md(a)}function GR(o,a){if(o==="input"||o==="change")return Md(a)}function KR(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var qr=typeof Object.is=="function"?Object.is:KR;function Mc(o,a){if(qr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(a,g)||!qr(o[g],a[g]))return!1}return!0}function h0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function f0(o,a){var c=h0(o);o=0;for(var f;c;){if(c.nodeType===3){if(f=o+c.textContent.length,o<=a&&f>=a)return{node:c,offset:a-o};o=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=h0(c)}}function p0(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?p0(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function m0(){for(var o=window,a=hn();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=hn(o.document)}return a}function am(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function ZR(o){var a=m0(),c=o.focusedElem,f=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&p0(c.ownerDocument.documentElement,c)){if(f!==null&&am(c)){if(a=f.start,o=f.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var g=c.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!o.extend&&v>f&&(g=f,f=v,v=g),g=f0(c,v);var I=f0(c,f);g&&I&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==I.node||o.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),o.removeAllRanges(),v>f?(o.addRange(a),o.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var QR=u&&"documentMode"in document&&11>=document.documentMode,Qa=null,lm=null,Vc=null,cm=!1;function g0(o,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;cm||Qa==null||Qa!==hn(f)||(f=Qa,"selectionStart"in f&&am(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Vc&&Mc(Vc,f)||(Vc=f,f=jd(lm,"onSelect"),0<f.length&&(a=new Mi("onSelect","select",null,a,c),o.push({event:a,listeners:f}),a.target=Qa)))}function Vd(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var Ya={animationend:Vd("Animation","AnimationEnd"),animationiteration:Vd("Animation","AnimationIteration"),animationstart:Vd("Animation","AnimationStart"),transitionend:Vd("Transition","TransitionEnd")},um={},y0={};u&&(y0=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Ld(o){if(um[o])return um[o];if(!Ya[o])return o;var a=Ya[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in y0)return um[o]=a[c];return o}var v0=Ld("animationend"),_0=Ld("animationiteration"),w0=Ld("animationstart"),E0=Ld("transitionend"),b0=new Map,S0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(o,a){b0.set(o,a),i(a,[o])}for(var dm=0;dm<S0.length;dm++){var hm=S0[dm],YR=hm.toLowerCase(),XR=hm[0].toUpperCase()+hm.slice(1);No(YR,"on"+XR)}No(v0,"onAnimationEnd"),No(_0,"onAnimationIteration"),No(w0,"onAnimationStart"),No("dblclick","onDoubleClick"),No("focusin","onFocus"),No("focusout","onBlur"),No(E0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lc));function x0(o,a,c){var f=o.type||"unknown-event";o.currentTarget=c,mc(f,a,void 0,o),o.currentTarget=null}function I0(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var f=o[c],g=f.event;f=f.listeners;e:{var v=void 0;if(a)for(var I=f.length-1;0<=I;I--){var L=f[I],q=L.instance,ee=L.currentTarget;if(L=L.listener,q!==v&&g.isPropagationStopped())break e;x0(g,L,ee),v=q}else for(I=0;I<f.length;I++){if(L=f[I],q=L.instance,ee=L.currentTarget,L=L.listener,q!==v&&g.isPropagationStopped())break e;x0(g,L,ee),v=q}}}if(xi)throw o=wr,xi=!1,wr=null,o}function Rt(o,a){var c=a[wm];c===void 0&&(c=a[wm]=new Set);var f=o+"__bubble";c.has(f)||(T0(a,o,2,!1),c.add(f))}function fm(o,a,c){var f=0;a&&(f|=4),T0(c,o,f,a)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Fc(o){if(!o[Fd]){o[Fd]=!0,r.forEach(function(c){c!=="selectionchange"&&(JR.has(c)||fm(c,!1,o),fm(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Fd]||(a[Fd]=!0,fm("selectionchange",!1,a))}}function T0(o,a,c,f){switch($a(a)){case 1:var g=fs;break;case 4:g=Ad;break;default:g=Pc}c=g.bind(null,a,c,o),g=void 0,!nr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?o.addEventListener(a,c,{capture:!0,passive:g}):o.addEventListener(a,c,!0):g!==void 0?o.addEventListener(a,c,{passive:g}):o.addEventListener(a,c,!1)}function pm(o,a,c,f,g){var v=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var L=f.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(I===4)for(I=f.return;I!==null;){var q=I.tag;if((q===3||q===4)&&(q=I.stateNode.containerInfo,q===g||q.nodeType===8&&q.parentNode===g))return;I=I.return}for(;L!==null;){if(I=Li(L),I===null)return;if(q=I.tag,q===5||q===6){f=v=I;continue e}L=L.parentNode}}f=f.return}Ut(function(){var ee=v,le=Mn(c),de=[];e:{var ae=b0.get(o);if(ae!==void 0){var Ie=Mi,Re=o;switch(o){case"keypress":if(Oi(c)===0)break e;case"keydown":case"keyup":Ie=vt;break;case"focusin":Re="focus",Ie=wn;break;case"focusout":Re="blur",Ie=wn;break;case"beforeblur":case"afterblur":Ie=wn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=ys;break;case v0:case _0:case w0:Ie=Od;break;case E0:Ie=Ka;break;case"scroll":Ie=qa;break;case"wheel":Ie=VR;break;case"copy":case"cut":case"paste":Ie=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=lr}var Oe=(a&4)!==0,Gt=!Oe&&o==="scroll",Q=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var H=ee,J;H!==null;){J=H;var pe=J.stateNode;if(J.tag===5&&pe!==null&&(J=pe,Q!==null&&(pe=Yt(H,Q),pe!=null&&Oe.push(jc(H,pe,J)))),Gt)break;H=H.return}0<Oe.length&&(ae=new Ie(ae,Re,null,c,le),de.push({event:ae,listeners:Oe}))}}if((a&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",Ie=o==="mouseout"||o==="pointerout",ae&&c!==vr&&(Re=c.relatedTarget||c.fromElement)&&(Li(Re)||Re[Zs]))break e;if((Ie||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,Ie?(Re=c.relatedTarget||c.toElement,Ie=ee,Re=Re?Li(Re):null,Re!==null&&(Gt=$r(Re),Re!==Gt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Ie=null,Re=ee),Ie!==Re)){if(Oe=Rc,pe="onMouseLeave",Q="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=lr,pe="onPointerLeave",Q="onPointerEnter",H="pointer"),Gt=Ie==null?ae:el(Ie),J=Re==null?ae:el(Re),ae=new Oe(pe,H+"leave",Ie,c,le),ae.target=Gt,ae.relatedTarget=J,pe=null,Li(le)===ee&&(Oe=new Oe(Q,H+"enter",Re,c,le),Oe.target=J,Oe.relatedTarget=Gt,pe=Oe),Gt=pe,Ie&&Re)t:{for(Oe=Ie,Q=Re,H=0,J=Oe;J;J=Xa(J))H++;for(J=0,pe=Q;pe;pe=Xa(pe))J++;for(;0<H-J;)Oe=Xa(Oe),H--;for(;0<J-H;)Q=Xa(Q),J--;for(;H--;){if(Oe===Q||Q!==null&&Oe===Q.alternate)break t;Oe=Xa(Oe),Q=Xa(Q)}Oe=null}else Oe=null;Ie!==null&&C0(de,ae,Ie,Oe,!1),Re!==null&&Gt!==null&&C0(de,Gt,Re,Oe,!0)}}e:{if(ae=ee?el(ee):window,Ie=ae.nodeName&&ae.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&ae.type==="file")var Me=BR;else if(i0(ae))if(l0)Me=GR;else{Me=HR;var ze=qR}else(Ie=ae.nodeName)&&Ie.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Me=WR);if(Me&&(Me=Me(o,ee))){a0(de,Me,c,le);break e}ze&&ze(o,ae,ee),o==="focusout"&&(ze=ae._wrapperState)&&ze.controlled&&ae.type==="number"&&yt(ae,"number",ae.value)}switch(ze=ee?el(ee):window,o){case"focusin":(i0(ze)||ze.contentEditable==="true")&&(Qa=ze,lm=ee,Vc=null);break;case"focusout":Vc=lm=Qa=null;break;case"mousedown":cm=!0;break;case"contextmenu":case"mouseup":case"dragend":cm=!1,g0(de,c,le);break;case"selectionchange":if(QR)break;case"keydown":case"keyup":g0(de,c,le)}var Ue;if(sm)e:{switch(o){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Za?s0(o,c)&&(He="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(t0&&c.locale!=="ko"&&(Za||He!=="onCompositionStart"?He==="onCompositionEnd"&&Za&&(Ue=Rd()):(ir=le,Ba="value"in ir?ir.value:ir.textContent,Za=!0)),ze=jd(ee,He),0<ze.length&&(He=new S(He,o,null,c,le),de.push({event:He,listeners:ze}),Ue?He.data=Ue:(Ue=o0(c),Ue!==null&&(He.data=Ue)))),(Ue=FR?jR(o,c):zR(o,c))&&(ee=jd(ee,"onBeforeInput"),0<ee.length&&(le=new S("onBeforeInput","beforeinput",null,c,le),de.push({event:le,listeners:ee}),le.data=Ue))}I0(de,a)})}function jc(o,a,c){return{instance:o,listener:a,currentTarget:c}}function jd(o,a){for(var c=a+"Capture",f=[];o!==null;){var g=o,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Yt(o,c),v!=null&&f.unshift(jc(o,v,g)),v=Yt(o,a),v!=null&&f.push(jc(o,v,g))),o=o.return}return f}function Xa(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function C0(o,a,c,f,g){for(var v=a._reactName,I=[];c!==null&&c!==f;){var L=c,q=L.alternate,ee=L.stateNode;if(q!==null&&q===f)break;L.tag===5&&ee!==null&&(L=ee,g?(q=Yt(c,v),q!=null&&I.unshift(jc(c,q,L))):g||(q=Yt(c,v),q!=null&&I.push(jc(c,q,L)))),c=c.return}I.length!==0&&o.push({event:a,listeners:I})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function P0(o){return(typeof o=="string"?o:""+o).replace(ek,`
`).replace(tk,"")}function zd(o,a,c){if(a=P0(a),P0(o)!==a&&c)throw Error(t(425))}function Ud(){}var mm=null,gm=null;function ym(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(o){return A0.resolve(null).then(o).catch(sk)}:vm;function sk(o){setTimeout(function(){throw o})}function _m(o,a){var c=a,f=0;do{var g=c.nextSibling;if(o.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){o.removeChild(g),Ao(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);Ao(a)}function Do(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function R0(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),_s="__reactFiber$"+Ja,zc="__reactProps$"+Ja,Zs="__reactContainer$"+Ja,wm="__reactEvents$"+Ja,ok="__reactListeners$"+Ja,ik="__reactHandles$"+Ja;function Li(o){var a=o[_s];if(a)return a;for(var c=o.parentNode;c;){if(a=c[Zs]||c[_s]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=R0(o);o!==null;){if(c=o[_s])return c;o=R0(o)}return a}o=c,c=o.parentNode}return null}function Uc(o){return o=o[_s]||o[Zs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function el(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function $d(o){return o[zc]||null}var Em=[],tl=-1;function Oo(o){return{current:o}}function kt(o){0>tl||(o.current=Em[tl],Em[tl]=null,tl--)}function Tt(o,a){tl++,Em[tl]=o.current,o.current=a}var Mo={},Cn=Oo(Mo),Hn=Oo(!1),Fi=Mo;function nl(o,a){var c=o.type.contextTypes;if(!c)return Mo;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in c)g[v]=a[v];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=g),g}function Wn(o){return o=o.childContextTypes,o!=null}function Bd(){kt(Hn),kt(Cn)}function k0(o,a,c){if(Cn.current!==Mo)throw Error(t(168));Tt(Cn,a),Tt(Hn,c)}function N0(o,a,c){var f=o.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,we(o)||"Unknown",g));return X({},c,f)}function qd(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Mo,Fi=Cn.current,Tt(Cn,o),Tt(Hn,Hn.current),!0}function D0(o,a,c){var f=o.stateNode;if(!f)throw Error(t(169));c?(o=N0(o,a,Fi),f.__reactInternalMemoizedMergedChildContext=o,kt(Hn),kt(Cn),Tt(Cn,o)):kt(Hn),Tt(Hn,c)}var Qs=null,Hd=!1,bm=!1;function O0(o){Qs===null?Qs=[o]:Qs.push(o)}function ak(o){Hd=!0,O0(o)}function Vo(){if(!bm&&Qs!==null){bm=!0;var o=0,a=ct;try{var c=Qs;for(ct=1;o<c.length;o++){var f=c[o];do f=f(!0);while(f!==null)}Qs=null,Hd=!1}catch(g){throw Qs!==null&&(Qs=Qs.slice(o+1)),yc(Va,Vo),g}finally{ct=a,bm=!1}}return null}var rl=[],sl=0,Wd=null,Gd=0,br=[],Sr=0,ji=null,Ys=1,Xs="";function zi(o,a){rl[sl++]=Gd,rl[sl++]=Wd,Wd=o,Gd=a}function M0(o,a,c){br[Sr++]=Ys,br[Sr++]=Xs,br[Sr++]=ji,ji=o;var f=Ys;o=Xs;var g=32-sr(f)-1;f&=~(1<<g),c+=1;var v=32-sr(a)+g;if(30<v){var I=g-g%5;v=(f&(1<<I)-1).toString(32),f>>=I,g-=I,Ys=1<<32-sr(a)+g|c<<g|f,Xs=v+o}else Ys=1<<v|c<<g|f,Xs=o}function Sm(o){o.return!==null&&(zi(o,1),M0(o,1,0))}function xm(o){for(;o===Wd;)Wd=rl[--sl],rl[sl]=null,Gd=rl[--sl],rl[sl]=null;for(;o===ji;)ji=br[--Sr],br[Sr]=null,Xs=br[--Sr],br[Sr]=null,Ys=br[--Sr],br[Sr]=null}var cr=null,ur=null,Nt=!1,Hr=null;function V0(o,a){var c=Cr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function L0(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,cr=o,ur=Do(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,cr=o,ur=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ji!==null?{id:Ys,overflow:Xs}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Cr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,cr=o,ur=null,!0):!1;default:return!1}}function Im(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Tm(o){if(Nt){var a=ur;if(a){var c=a;if(!L0(o,a)){if(Im(o))throw Error(t(418));a=Do(c.nextSibling);var f=cr;a&&L0(o,a)?V0(f,c):(o.flags=o.flags&-4097|2,Nt=!1,cr=o)}}else{if(Im(o))throw Error(t(418));o.flags=o.flags&-4097|2,Nt=!1,cr=o}}}function F0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;cr=o}function Kd(o){if(o!==cr)return!1;if(!Nt)return F0(o),Nt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!ym(o.type,o.memoizedProps)),a&&(a=ur)){if(Im(o))throw j0(),Error(t(418));for(;a;)V0(o,a),a=Do(a.nextSibling)}if(F0(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){ur=Do(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}ur=null}}else ur=cr?Do(o.stateNode.nextSibling):null;return!0}function j0(){for(var o=ur;o;)o=Do(o.nextSibling)}function ol(){ur=cr=null,Nt=!1}function Cm(o){Hr===null?Hr=[o]:Hr.push(o)}var lk=U.ReactCurrentBatchConfig;function $c(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,o));var g=f,v=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(I){var L=g.refs;I===null?delete L[v]:L[v]=I},a._stringRef=v,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function Zd(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function z0(o){var a=o._init;return a(o._payload)}function U0(o){function a(Q,H){if(o){var J=Q.deletions;J===null?(Q.deletions=[H],Q.flags|=16):J.push(H)}}function c(Q,H){if(!o)return null;for(;H!==null;)a(Q,H),H=H.sibling;return null}function f(Q,H){for(Q=new Map;H!==null;)H.key!==null?Q.set(H.key,H):Q.set(H.index,H),H=H.sibling;return Q}function g(Q,H){return Q=qo(Q,H),Q.index=0,Q.sibling=null,Q}function v(Q,H,J){return Q.index=J,o?(J=Q.alternate,J!==null?(J=J.index,J<H?(Q.flags|=2,H):J):(Q.flags|=2,H)):(Q.flags|=1048576,H)}function I(Q){return o&&Q.alternate===null&&(Q.flags|=2),Q}function L(Q,H,J,pe){return H===null||H.tag!==6?(H=vg(J,Q.mode,pe),H.return=Q,H):(H=g(H,J),H.return=Q,H)}function q(Q,H,J,pe){var Me=J.type;return Me===P?le(Q,H,J.props.children,pe,J.key):H!==null&&(H.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ve&&z0(Me)===H.type)?(pe=g(H,J.props),pe.ref=$c(Q,H,J),pe.return=Q,pe):(pe=_h(J.type,J.key,J.props,null,Q.mode,pe),pe.ref=$c(Q,H,J),pe.return=Q,pe)}function ee(Q,H,J,pe){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=_g(J,Q.mode,pe),H.return=Q,H):(H=g(H,J.children||[]),H.return=Q,H)}function le(Q,H,J,pe,Me){return H===null||H.tag!==7?(H=Ki(J,Q.mode,pe,Me),H.return=Q,H):(H=g(H,J),H.return=Q,H)}function de(Q,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=vg(""+H,Q.mode,J),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case $:return J=_h(H.type,H.key,H.props,null,Q.mode,J),J.ref=$c(Q,null,H),J.return=Q,J;case K:return H=_g(H,Q.mode,J),H.return=Q,H;case ve:var pe=H._init;return de(Q,pe(H._payload),J)}if(Vt(H)||ne(H))return H=Ki(H,Q.mode,J,null),H.return=Q,H;Zd(Q,H)}return null}function ae(Q,H,J,pe){var Me=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Me!==null?null:L(Q,H,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===Me?q(Q,H,J,pe):null;case K:return J.key===Me?ee(Q,H,J,pe):null;case ve:return Me=J._init,ae(Q,H,Me(J._payload),pe)}if(Vt(J)||ne(J))return Me!==null?null:le(Q,H,J,pe,null);Zd(Q,J)}return null}function Ie(Q,H,J,pe,Me){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Q=Q.get(J)||null,L(H,Q,""+pe,Me);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case $:return Q=Q.get(pe.key===null?J:pe.key)||null,q(H,Q,pe,Me);case K:return Q=Q.get(pe.key===null?J:pe.key)||null,ee(H,Q,pe,Me);case ve:var ze=pe._init;return Ie(Q,H,J,ze(pe._payload),Me)}if(Vt(pe)||ne(pe))return Q=Q.get(J)||null,le(H,Q,pe,Me,null);Zd(H,pe)}return null}function Re(Q,H,J,pe){for(var Me=null,ze=null,Ue=H,He=H=0,yn=null;Ue!==null&&He<J.length;He++){Ue.index>He?(yn=Ue,Ue=null):yn=Ue.sibling;var mt=ae(Q,Ue,J[He],pe);if(mt===null){Ue===null&&(Ue=yn);break}o&&Ue&&mt.alternate===null&&a(Q,Ue),H=v(mt,H,He),ze===null?Me=mt:ze.sibling=mt,ze=mt,Ue=yn}if(He===J.length)return c(Q,Ue),Nt&&zi(Q,He),Me;if(Ue===null){for(;He<J.length;He++)Ue=de(Q,J[He],pe),Ue!==null&&(H=v(Ue,H,He),ze===null?Me=Ue:ze.sibling=Ue,ze=Ue);return Nt&&zi(Q,He),Me}for(Ue=f(Q,Ue);He<J.length;He++)yn=Ie(Ue,Q,He,J[He],pe),yn!==null&&(o&&yn.alternate!==null&&Ue.delete(yn.key===null?He:yn.key),H=v(yn,H,He),ze===null?Me=yn:ze.sibling=yn,ze=yn);return o&&Ue.forEach(function(Ho){return a(Q,Ho)}),Nt&&zi(Q,He),Me}function Oe(Q,H,J,pe){var Me=ne(J);if(typeof Me!="function")throw Error(t(150));if(J=Me.call(J),J==null)throw Error(t(151));for(var ze=Me=null,Ue=H,He=H=0,yn=null,mt=J.next();Ue!==null&&!mt.done;He++,mt=J.next()){Ue.index>He?(yn=Ue,Ue=null):yn=Ue.sibling;var Ho=ae(Q,Ue,mt.value,pe);if(Ho===null){Ue===null&&(Ue=yn);break}o&&Ue&&Ho.alternate===null&&a(Q,Ue),H=v(Ho,H,He),ze===null?Me=Ho:ze.sibling=Ho,ze=Ho,Ue=yn}if(mt.done)return c(Q,Ue),Nt&&zi(Q,He),Me;if(Ue===null){for(;!mt.done;He++,mt=J.next())mt=de(Q,mt.value,pe),mt!==null&&(H=v(mt,H,He),ze===null?Me=mt:ze.sibling=mt,ze=mt);return Nt&&zi(Q,He),Me}for(Ue=f(Q,Ue);!mt.done;He++,mt=J.next())mt=Ie(Ue,Q,He,mt.value,pe),mt!==null&&(o&&mt.alternate!==null&&Ue.delete(mt.key===null?He:mt.key),H=v(mt,H,He),ze===null?Me=mt:ze.sibling=mt,ze=mt);return o&&Ue.forEach(function(Uk){return a(Q,Uk)}),Nt&&zi(Q,He),Me}function Gt(Q,H,J,pe){if(typeof J=="object"&&J!==null&&J.type===P&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var Me=J.key,ze=H;ze!==null;){if(ze.key===Me){if(Me=J.type,Me===P){if(ze.tag===7){c(Q,ze.sibling),H=g(ze,J.props.children),H.return=Q,Q=H;break e}}else if(ze.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ve&&z0(Me)===ze.type){c(Q,ze.sibling),H=g(ze,J.props),H.ref=$c(Q,ze,J),H.return=Q,Q=H;break e}c(Q,ze);break}else a(Q,ze);ze=ze.sibling}J.type===P?(H=Ki(J.props.children,Q.mode,pe,J.key),H.return=Q,Q=H):(pe=_h(J.type,J.key,J.props,null,Q.mode,pe),pe.ref=$c(Q,H,J),pe.return=Q,Q=pe)}return I(Q);case K:e:{for(ze=J.key;H!==null;){if(H.key===ze)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(Q,H.sibling),H=g(H,J.children||[]),H.return=Q,Q=H;break e}else{c(Q,H);break}else a(Q,H);H=H.sibling}H=_g(J,Q.mode,pe),H.return=Q,Q=H}return I(Q);case ve:return ze=J._init,Gt(Q,H,ze(J._payload),pe)}if(Vt(J))return Re(Q,H,J,pe);if(ne(J))return Oe(Q,H,J,pe);Zd(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(c(Q,H.sibling),H=g(H,J),H.return=Q,Q=H):(c(Q,H),H=vg(J,Q.mode,pe),H.return=Q,Q=H),I(Q)):c(Q,H)}return Gt}var il=U0(!0),$0=U0(!1),Qd=Oo(null),Yd=null,al=null,Pm=null;function Am(){Pm=al=Yd=null}function Rm(o){var a=Qd.current;kt(Qd),o._currentValue=a}function km(o,a,c){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===c)break;o=o.return}}function ll(o,a){Yd=o,Pm=al=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Gn=!0),o.firstContext=null)}function xr(o){var a=o._currentValue;if(Pm!==o)if(o={context:o,memoizedValue:a,next:null},al===null){if(Yd===null)throw Error(t(308));al=o,Yd.dependencies={lanes:0,firstContext:o}}else al=al.next=o;return a}var Ui=null;function Nm(o){Ui===null?Ui=[o]:Ui.push(o)}function B0(o,a,c,f){var g=a.interleaved;return g===null?(c.next=c,Nm(a)):(c.next=g.next,g.next=c),a.interleaved=c,Js(o,f)}function Js(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Lo=!1;function Dm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q0(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function eo(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Fo(o,a,c){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(pt&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,Js(o,c)}return g=f.interleaved,g===null?(a.next=a,Nm(f)):(a.next=g.next,g.next=a),f.interleaved=a,Js(o,c)}function Xd(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Sc(o,c)}}function H0(o,a){var c=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var I={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?g=v=I:v=v.next=I,c=c.next}while(c!==null);v===null?g=v=a:v=v.next=a}else g=v=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function Jd(o,a,c,f){var g=o.updateQueue;Lo=!1;var v=g.firstBaseUpdate,I=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var q=L,ee=q.next;q.next=null,I===null?v=ee:I.next=ee,I=q;var le=o.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==I&&(L===null?le.firstBaseUpdate=ee:L.next=ee,le.lastBaseUpdate=q))}if(v!==null){var de=g.baseState;I=0,le=ee=q=null,L=v;do{var ae=L.lane,Ie=L.eventTime;if((f&ae)===ae){le!==null&&(le=le.next={eventTime:Ie,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Re=o,Oe=L;switch(ae=a,Ie=c,Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){de=Re.call(Ie,de,ae);break e}de=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,ae=typeof Re=="function"?Re.call(Ie,de,ae):Re,ae==null)break e;de=X({},de,ae);break e;case 2:Lo=!0}}L.callback!==null&&L.lane!==0&&(o.flags|=64,ae=g.effects,ae===null?g.effects=[L]:ae.push(L))}else Ie={eventTime:Ie,lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(ee=le=Ie,q=de):le=le.next=Ie,I|=ae;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);if(le===null&&(q=de),g.baseState=q,g.firstBaseUpdate=ee,g.lastBaseUpdate=le,a=g.shared.interleaved,a!==null){g=a;do I|=g.lane,g=g.next;while(g!==a)}else v===null&&(g.shared.lanes=0);qi|=I,o.lanes=I,o.memoizedState=de}}function W0(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var f=o[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var Bc={},ws=Oo(Bc),qc=Oo(Bc),Hc=Oo(Bc);function $i(o){if(o===Bc)throw Error(t(174));return o}function Om(o,a){switch(Tt(Hc,a),Tt(qc,o),Tt(ws,Bc),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:wo(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=wo(a,o)}kt(ws),Tt(ws,a)}function cl(){kt(ws),kt(qc),kt(Hc)}function G0(o){$i(Hc.current);var a=$i(ws.current),c=wo(a,o.type);a!==c&&(Tt(qc,o),Tt(ws,c))}function Mm(o){qc.current===o&&(kt(ws),kt(qc))}var Lt=Oo(0);function eh(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Vm=[];function Lm(){for(var o=0;o<Vm.length;o++)Vm[o]._workInProgressVersionPrimary=null;Vm.length=0}var th=U.ReactCurrentDispatcher,Fm=U.ReactCurrentBatchConfig,Bi=0,Ft=null,an=null,mn=null,nh=!1,Wc=!1,Gc=0,ck=0;function Pn(){throw Error(t(321))}function jm(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!qr(o[c],a[c]))return!1;return!0}function zm(o,a,c,f,g,v){if(Bi=v,Ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,th.current=o===null||o.memoizedState===null?fk:pk,o=c(f,g),Wc){v=0;do{if(Wc=!1,Gc=0,25<=v)throw Error(t(301));v+=1,mn=an=null,a.updateQueue=null,th.current=mk,o=c(f,g)}while(Wc)}if(th.current=oh,a=an!==null&&an.next!==null,Bi=0,mn=an=Ft=null,nh=!1,a)throw Error(t(300));return o}function Um(){var o=Gc!==0;return Gc=0,o}function Es(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Ft.memoizedState=mn=o:mn=mn.next=o,mn}function Ir(){if(an===null){var o=Ft.alternate;o=o!==null?o.memoizedState:null}else o=an.next;var a=mn===null?Ft.memoizedState:mn.next;if(a!==null)mn=a,an=o;else{if(o===null)throw Error(t(310));an=o,o={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},mn===null?Ft.memoizedState=mn=o:mn=mn.next=o}return mn}function Kc(o,a){return typeof a=="function"?a(o):a}function $m(o){var a=Ir(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=an,g=f.baseQueue,v=c.pending;if(v!==null){if(g!==null){var I=g.next;g.next=v.next,v.next=I}f.baseQueue=g=v,c.pending=null}if(g!==null){v=g.next,f=f.baseState;var L=I=null,q=null,ee=v;do{var le=ee.lane;if((Bi&le)===le)q!==null&&(q=q.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),f=ee.hasEagerState?ee.eagerState:o(f,ee.action);else{var de={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};q===null?(L=q=de,I=f):q=q.next=de,Ft.lanes|=le,qi|=le}ee=ee.next}while(ee!==null&&ee!==v);q===null?I=f:q.next=L,qr(f,a.memoizedState)||(Gn=!0),a.memoizedState=f,a.baseState=I,a.baseQueue=q,c.lastRenderedState=f}if(o=c.interleaved,o!==null){g=o;do v=g.lane,Ft.lanes|=v,qi|=v,g=g.next;while(g!==o)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Bm(o){var a=Ir(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=c.dispatch,g=c.pending,v=a.memoizedState;if(g!==null){c.pending=null;var I=g=g.next;do v=o(v,I.action),I=I.next;while(I!==g);qr(v,a.memoizedState)||(Gn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,f]}function K0(){}function Z0(o,a){var c=Ft,f=Ir(),g=a(),v=!qr(f.memoizedState,g);if(v&&(f.memoizedState=g,Gn=!0),f=f.queue,qm(X0.bind(null,c,f,o),[o]),f.getSnapshot!==a||v||mn!==null&&mn.memoizedState.tag&1){if(c.flags|=2048,Zc(9,Y0.bind(null,c,f,g,a),void 0,null),gn===null)throw Error(t(349));(Bi&30)!==0||Q0(c,a,g)}return g}function Q0(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=Ft.updateQueue,a===null?(a={lastEffect:null,stores:null},Ft.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function Y0(o,a,c,f){a.value=c,a.getSnapshot=f,J0(a)&&ew(o)}function X0(o,a,c){return c(function(){J0(a)&&ew(o)})}function J0(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!qr(o,c)}catch{return!0}}function ew(o){var a=Js(o,1);a!==null&&Zr(a,o,1,-1)}function tw(o){var a=Es();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:o},a.queue=o,o=o.dispatch=hk.bind(null,Ft,o),[a.memoizedState,o]}function Zc(o,a,c,f){return o={tag:o,create:a,destroy:c,deps:f,next:null},a=Ft.updateQueue,a===null?(a={lastEffect:null,stores:null},Ft.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(f=c.next,c.next=o,o.next=f,a.lastEffect=o)),o}function nw(){return Ir().memoizedState}function rh(o,a,c,f){var g=Es();Ft.flags|=o,g.memoizedState=Zc(1|a,c,void 0,f===void 0?null:f)}function sh(o,a,c,f){var g=Ir();f=f===void 0?null:f;var v=void 0;if(an!==null){var I=an.memoizedState;if(v=I.destroy,f!==null&&jm(f,I.deps)){g.memoizedState=Zc(a,c,v,f);return}}Ft.flags|=o,g.memoizedState=Zc(1|a,c,v,f)}function rw(o,a){return rh(8390656,8,o,a)}function qm(o,a){return sh(2048,8,o,a)}function sw(o,a){return sh(4,2,o,a)}function ow(o,a){return sh(4,4,o,a)}function iw(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function aw(o,a,c){return c=c!=null?c.concat([o]):null,sh(4,4,iw.bind(null,a,o),c)}function Hm(){}function lw(o,a){var c=Ir();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&jm(a,f[1])?f[0]:(c.memoizedState=[o,a],o)}function cw(o,a){var c=Ir();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&jm(a,f[1])?f[0]:(o=o(),c.memoizedState=[o,a],o)}function uw(o,a,c){return(Bi&21)===0?(o.baseState&&(o.baseState=!1,Gn=!0),o.memoizedState=c):(qr(c,a)||(c=Ec(),Ft.lanes|=c,qi|=c,o.baseState=!0),a)}function uk(o,a){var c=ct;ct=c!==0&&4>c?c:4,o(!0);var f=Fm.transition;Fm.transition={};try{o(!1),a()}finally{ct=c,Fm.transition=f}}function dw(){return Ir().memoizedState}function dk(o,a,c){var f=$o(o);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},hw(o))fw(a,c);else if(c=B0(o,a,c,f),c!==null){var g=Fn();Zr(c,o,f,g),pw(c,a,f)}}function hk(o,a,c){var f=$o(o),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(hw(o))fw(a,g);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var I=a.lastRenderedState,L=v(I,c);if(g.hasEagerState=!0,g.eagerState=L,qr(L,I)){var q=a.interleaved;q===null?(g.next=g,Nm(a)):(g.next=q.next,q.next=g),a.interleaved=g;return}}catch{}finally{}c=B0(o,a,g,f),c!==null&&(g=Fn(),Zr(c,o,f,g),pw(c,a,f))}}function hw(o){var a=o.alternate;return o===Ft||a!==null&&a===Ft}function fw(o,a){Wc=nh=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function pw(o,a,c){if((c&4194240)!==0){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Sc(o,c)}}var oh={readContext:xr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},fk={readContext:xr,useCallback:function(o,a){return Es().memoizedState=[o,a===void 0?null:a],o},useContext:xr,useEffect:rw,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,rh(4194308,4,iw.bind(null,a,o),c)},useLayoutEffect:function(o,a){return rh(4194308,4,o,a)},useInsertionEffect:function(o,a){return rh(4,2,o,a)},useMemo:function(o,a){var c=Es();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var f=Es();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},f.queue=o,o=o.dispatch=dk.bind(null,Ft,o),[f.memoizedState,o]},useRef:function(o){var a=Es();return o={current:o},a.memoizedState=o},useState:tw,useDebugValue:Hm,useDeferredValue:function(o){return Es().memoizedState=o},useTransition:function(){var o=tw(!1),a=o[0];return o=uk.bind(null,o[1]),Es().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var f=Ft,g=Es();if(Nt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),gn===null)throw Error(t(349));(Bi&30)!==0||Q0(f,a,c)}g.memoizedState=c;var v={value:c,getSnapshot:a};return g.queue=v,rw(X0.bind(null,f,v,o),[o]),f.flags|=2048,Zc(9,Y0.bind(null,f,v,c,a),void 0,null),c},useId:function(){var o=Es(),a=gn.identifierPrefix;if(Nt){var c=Xs,f=Ys;c=(f&~(1<<32-sr(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=Gc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=ck++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},pk={readContext:xr,useCallback:lw,useContext:xr,useEffect:qm,useImperativeHandle:aw,useInsertionEffect:sw,useLayoutEffect:ow,useMemo:cw,useReducer:$m,useRef:nw,useState:function(){return $m(Kc)},useDebugValue:Hm,useDeferredValue:function(o){var a=Ir();return uw(a,an.memoizedState,o)},useTransition:function(){var o=$m(Kc)[0],a=Ir().memoizedState;return[o,a]},useMutableSource:K0,useSyncExternalStore:Z0,useId:dw,unstable_isNewReconciler:!1},mk={readContext:xr,useCallback:lw,useContext:xr,useEffect:qm,useImperativeHandle:aw,useInsertionEffect:sw,useLayoutEffect:ow,useMemo:cw,useReducer:Bm,useRef:nw,useState:function(){return Bm(Kc)},useDebugValue:Hm,useDeferredValue:function(o){var a=Ir();return an===null?a.memoizedState=o:uw(a,an.memoizedState,o)},useTransition:function(){var o=Bm(Kc)[0],a=Ir().memoizedState;return[o,a]},useMutableSource:K0,useSyncExternalStore:Z0,useId:dw,unstable_isNewReconciler:!1};function Wr(o,a){if(o&&o.defaultProps){a=X({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function Wm(o,a,c,f){a=o.memoizedState,c=c(f,a),c=c==null?a:X({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var ih={isMounted:function(o){return(o=o._reactInternals)?$r(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var f=Fn(),g=$o(o),v=eo(f,g);v.payload=a,c!=null&&(v.callback=c),a=Fo(o,v,g),a!==null&&(Zr(a,o,g,f),Xd(a,o,g))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var f=Fn(),g=$o(o),v=eo(f,g);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=Fo(o,v,g),a!==null&&(Zr(a,o,g,f),Xd(a,o,g))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=Fn(),f=$o(o),g=eo(c,f);g.tag=2,a!=null&&(g.callback=a),a=Fo(o,g,f),a!==null&&(Zr(a,o,f,c),Xd(a,o,f))}};function mw(o,a,c,f,g,v,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,v,I):a.prototype&&a.prototype.isPureReactComponent?!Mc(c,f)||!Mc(g,v):!0}function gw(o,a,c){var f=!1,g=Mo,v=a.contextType;return typeof v=="object"&&v!==null?v=xr(v):(g=Wn(a)?Fi:Cn.current,f=a.contextTypes,v=(f=f!=null)?nl(o,g):Mo),a=new a(c,v),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ih,o.stateNode=a,a._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=v),a}function yw(o,a,c,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==o&&ih.enqueueReplaceState(a,a.state,null)}function Gm(o,a,c,f){var g=o.stateNode;g.props=c,g.state=o.memoizedState,g.refs={},Dm(o);var v=a.contextType;typeof v=="object"&&v!==null?g.context=xr(v):(v=Wn(a)?Fi:Cn.current,g.context=nl(o,v)),g.state=o.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Wm(o,a,v,c),g.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&ih.enqueueReplaceState(g,g.state,null),Jd(o,c,g,f),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function ul(o,a){try{var c="",f=a;do c+=fe(f),f=f.return;while(f);var g=c}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:o,source:a,stack:g,digest:null}}function Km(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function Zm(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var gk=typeof WeakMap=="function"?WeakMap:Map;function vw(o,a,c){c=eo(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){fh||(fh=!0,ug=f),Zm(o,a)},c}function _w(o,a,c){c=eo(-1,c),c.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){Zm(o,a)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){Zm(o,a),typeof f!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),c}function ww(o,a,c){var f=o.pingCache;if(f===null){f=o.pingCache=new gk;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),o=Rk.bind(null,o,a,c),a.then(o,o))}function Ew(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function bw(o,a,c,f,g){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=eo(-1,1),a.tag=2,Fo(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=g,o)}var yk=U.ReactCurrentOwner,Gn=!1;function Ln(o,a,c,f){a.child=o===null?$0(a,null,c,f):il(a,o.child,c,f)}function Sw(o,a,c,f,g){c=c.render;var v=a.ref;return ll(a,g),f=zm(o,a,c,f,v,g),c=Um(),o!==null&&!Gn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,to(o,a,g)):(Nt&&c&&Sm(a),a.flags|=1,Ln(o,a,f,g),a.child)}function xw(o,a,c,f,g){if(o===null){var v=c.type;return typeof v=="function"&&!yg(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=v,Iw(o,a,v,f,g)):(o=_h(c.type,null,f,a,a.mode,g),o.ref=a.ref,o.return=a,a.child=o)}if(v=o.child,(o.lanes&g)===0){var I=v.memoizedProps;if(c=c.compare,c=c!==null?c:Mc,c(I,f)&&o.ref===a.ref)return to(o,a,g)}return a.flags|=1,o=qo(v,f),o.ref=a.ref,o.return=a,a.child=o}function Iw(o,a,c,f,g){if(o!==null){var v=o.memoizedProps;if(Mc(v,f)&&o.ref===a.ref)if(Gn=!1,a.pendingProps=f=v,(o.lanes&g)!==0)(o.flags&131072)!==0&&(Gn=!0);else return a.lanes=o.lanes,to(o,a,g)}return Qm(o,a,c,f,g)}function Tw(o,a,c){var f=a.pendingProps,g=f.children,v=o!==null?o.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(hl,dr),dr|=c;else{if((c&1073741824)===0)return o=v!==null?v.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Tt(hl,dr),dr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:c,Tt(hl,dr),dr|=f}else v!==null?(f=v.baseLanes|c,a.memoizedState=null):f=c,Tt(hl,dr),dr|=f;return Ln(o,a,g,c),a.child}function Cw(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Qm(o,a,c,f,g){var v=Wn(c)?Fi:Cn.current;return v=nl(a,v),ll(a,g),c=zm(o,a,c,f,v,g),f=Um(),o!==null&&!Gn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,to(o,a,g)):(Nt&&f&&Sm(a),a.flags|=1,Ln(o,a,c,g),a.child)}function Pw(o,a,c,f,g){if(Wn(c)){var v=!0;qd(a)}else v=!1;if(ll(a,g),a.stateNode===null)lh(o,a),gw(a,c,f),Gm(a,c,f,g),f=!0;else if(o===null){var I=a.stateNode,L=a.memoizedProps;I.props=L;var q=I.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=xr(ee):(ee=Wn(c)?Fi:Cn.current,ee=nl(a,ee));var le=c.getDerivedStateFromProps,de=typeof le=="function"||typeof I.getSnapshotBeforeUpdate=="function";de||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(L!==f||q!==ee)&&yw(a,I,f,ee),Lo=!1;var ae=a.memoizedState;I.state=ae,Jd(a,f,I,g),q=a.memoizedState,L!==f||ae!==q||Hn.current||Lo?(typeof le=="function"&&(Wm(a,c,le,f),q=a.memoizedState),(L=Lo||mw(a,c,L,f,ae,q,ee))?(de||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=q),I.props=f,I.state=q,I.context=ee,f=L):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{I=a.stateNode,q0(o,a),L=a.memoizedProps,ee=a.type===a.elementType?L:Wr(a.type,L),I.props=ee,de=a.pendingProps,ae=I.context,q=c.contextType,typeof q=="object"&&q!==null?q=xr(q):(q=Wn(c)?Fi:Cn.current,q=nl(a,q));var Ie=c.getDerivedStateFromProps;(le=typeof Ie=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(L!==de||ae!==q)&&yw(a,I,f,q),Lo=!1,ae=a.memoizedState,I.state=ae,Jd(a,f,I,g);var Re=a.memoizedState;L!==de||ae!==Re||Hn.current||Lo?(typeof Ie=="function"&&(Wm(a,c,Ie,f),Re=a.memoizedState),(ee=Lo||mw(a,c,ee,f,ae,Re,q)||!1)?(le||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,Re,q),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,Re,q)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Re),I.props=f,I.state=Re,I.context=q,f=ee):(typeof I.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),f=!1)}return Ym(o,a,c,f,v,g)}function Ym(o,a,c,f,g,v){Cw(o,a);var I=(a.flags&128)!==0;if(!f&&!I)return g&&D0(a,c,!1),to(o,a,v);f=a.stateNode,yk.current=a;var L=I&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,o!==null&&I?(a.child=il(a,o.child,null,v),a.child=il(a,null,L,v)):Ln(o,a,L,v),a.memoizedState=f.state,g&&D0(a,c,!0),a.child}function Aw(o){var a=o.stateNode;a.pendingContext?k0(o,a.pendingContext,a.pendingContext!==a.context):a.context&&k0(o,a.context,!1),Om(o,a.containerInfo)}function Rw(o,a,c,f,g){return ol(),Cm(g),a.flags|=256,Ln(o,a,c,f),a.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Jm(o){return{baseLanes:o,cachePool:null,transitions:null}}function kw(o,a,c){var f=a.pendingProps,g=Lt.current,v=!1,I=(a.flags&128)!==0,L;if((L=I)||(L=o!==null&&o.memoizedState===null?!1:(g&2)!==0),L?(v=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),Tt(Lt,g&1),o===null)return Tm(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(I=f.children,o=f.fallback,v?(f=a.mode,v=a.child,I={mode:"hidden",children:I},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=I):v=wh(I,f,0,null),o=Ki(o,f,c,null),v.return=a,o.return=a,v.sibling=o,a.child=v,a.child.memoizedState=Jm(c),a.memoizedState=Xm,o):eg(a,I));if(g=o.memoizedState,g!==null&&(L=g.dehydrated,L!==null))return vk(o,a,I,f,L,g,c);if(v){v=f.fallback,I=a.mode,g=o.child,L=g.sibling;var q={mode:"hidden",children:f.children};return(I&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=q,a.deletions=null):(f=qo(g,q),f.subtreeFlags=g.subtreeFlags&14680064),L!==null?v=qo(L,v):(v=Ki(v,I,c,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,I=o.child.memoizedState,I=I===null?Jm(c):{baseLanes:I.baseLanes|c,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=o.childLanes&~c,a.memoizedState=Xm,f}return v=o.child,o=v.sibling,f=qo(v,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=f,a.memoizedState=null,f}function eg(o,a){return a=wh({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function ah(o,a,c,f){return f!==null&&Cm(f),il(a,o.child,null,c),o=eg(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function vk(o,a,c,f,g,v,I){if(c)return a.flags&256?(a.flags&=-257,f=Km(Error(t(422))),ah(o,a,I,f)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(v=f.fallback,g=a.mode,f=wh({mode:"visible",children:f.children},g,0,null),v=Ki(v,g,I,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,(a.mode&1)!==0&&il(a,o.child,null,I),a.child.memoizedState=Jm(I),a.memoizedState=Xm,v);if((a.mode&1)===0)return ah(o,a,I,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var L=f.dgst;return f=L,v=Error(t(419)),f=Km(v,f,void 0),ah(o,a,I,f)}if(L=(I&o.childLanes)!==0,Gn||L){if(f=gn,f!==null){switch(I&-I){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|I))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Js(o,g),Zr(f,o,g,-1))}return gg(),f=Km(Error(t(421))),ah(o,a,I,f)}return g.data==="$?"?(a.flags|=128,a.child=o.child,a=kk.bind(null,o),g._reactRetry=a,null):(o=v.treeContext,ur=Do(g.nextSibling),cr=a,Nt=!0,Hr=null,o!==null&&(br[Sr++]=Ys,br[Sr++]=Xs,br[Sr++]=ji,Ys=o.id,Xs=o.overflow,ji=a),a=eg(a,f.children),a.flags|=4096,a)}function Nw(o,a,c){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),km(o.return,a,c)}function tg(o,a,c,f,g){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=g)}function Dw(o,a,c){var f=a.pendingProps,g=f.revealOrder,v=f.tail;if(Ln(o,a,f.children,c),f=Lt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Nw(o,c,a);else if(o.tag===19)Nw(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(Tt(Lt,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)o=c.alternate,o!==null&&eh(o)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),tg(a,!1,g,c,v);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(o=g.alternate,o!==null&&eh(o)===null){a.child=g;break}o=g.sibling,g.sibling=c,c=g,g=o}tg(a,!0,c,null,v);break;case"together":tg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function lh(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function to(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),qi|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=qo(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=qo(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function _k(o,a,c){switch(a.tag){case 3:Aw(a),ol();break;case 5:G0(a);break;case 1:Wn(a.type)&&qd(a);break;case 4:Om(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;Tt(Qd,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Tt(Lt,Lt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?kw(o,a,c):(Tt(Lt,Lt.current&1),o=to(o,a,c),o!==null?o.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(o.flags&128)!==0){if(f)return Dw(o,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Tt(Lt,Lt.current),f)break;return null;case 22:case 23:return a.lanes=0,Tw(o,a,c)}return to(o,a,c)}var Ow,ng,Mw,Vw;Ow=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},ng=function(){},Mw=function(o,a,c,f){var g=o.memoizedProps;if(g!==f){o=a.stateNode,$i(ws.current);var v=null;switch(c){case"input":g=rs(o,g),f=rs(o,f),v=[];break;case"select":g=X({},g,{value:void 0}),f=X({},f,{value:void 0}),v=[];break;case"textarea":g=on(o,g),f=on(o,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=Ud)}qn(c,f);var I;c=null;for(ee in g)if(!f.hasOwnProperty(ee)&&g.hasOwnProperty(ee)&&g[ee]!=null)if(ee==="style"){var L=g[ee];for(I in L)L.hasOwnProperty(I)&&(c||(c={}),c[I]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?v||(v=[]):(v=v||[]).push(ee,null));for(ee in f){var q=f[ee];if(L=g?.[ee],f.hasOwnProperty(ee)&&q!==L&&(q!=null||L!=null))if(ee==="style")if(L){for(I in L)!L.hasOwnProperty(I)||q&&q.hasOwnProperty(I)||(c||(c={}),c[I]="");for(I in q)q.hasOwnProperty(I)&&L[I]!==q[I]&&(c||(c={}),c[I]=q[I])}else c||(v||(v=[]),v.push(ee,c)),c=q;else ee==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,L=L?L.__html:void 0,q!=null&&L!==q&&(v=v||[]).push(ee,q)):ee==="children"?typeof q!="string"&&typeof q!="number"||(v=v||[]).push(ee,""+q):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?(q!=null&&ee==="onScroll"&&Rt("scroll",o),v||L===q||(v=[])):(v=v||[]).push(ee,q))}c&&(v=v||[]).push("style",c);var ee=v;(a.updateQueue=ee)&&(a.flags|=4)}},Vw=function(o,a,c,f){c!==f&&(a.flags|=4)};function Qc(o,a){if(!Nt)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function An(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,f=0;if(a)for(var g=o.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=f,o.childLanes=c,a}function wk(o,a,c){var f=a.pendingProps;switch(xm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(a),null;case 1:return Wn(a.type)&&Bd(),An(a),null;case 3:return f=a.stateNode,cl(),kt(Hn),kt(Cn),Lm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Kd(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Hr!==null&&(fg(Hr),Hr=null))),ng(o,a),An(a),null;case 5:Mm(a);var g=$i(Hc.current);if(c=a.type,o!==null&&a.stateNode!=null)Mw(o,a,c,f,g),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return An(a),null}if(o=$i(ws.current),Kd(a)){f=a.stateNode,c=a.type;var v=a.memoizedProps;switch(f[_s]=a,f[zc]=v,o=(a.mode&1)!==0,c){case"dialog":Rt("cancel",f),Rt("close",f);break;case"iframe":case"object":case"embed":Rt("load",f);break;case"video":case"audio":for(g=0;g<Lc.length;g++)Rt(Lc[g],f);break;case"source":Rt("error",f);break;case"img":case"image":case"link":Rt("error",f),Rt("load",f);break;case"details":Rt("toggle",f);break;case"input":Da(f,v),Rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Rt("invalid",f);break;case"textarea":yr(f,v),Rt("invalid",f)}qn(c,v),g=null;for(var I in v)if(v.hasOwnProperty(I)){var L=v[I];I==="children"?typeof L=="string"?f.textContent!==L&&(v.suppressHydrationWarning!==!0&&zd(f.textContent,L,o),g=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&zd(f.textContent,L,o),g=["children",""+L]):s.hasOwnProperty(I)&&L!=null&&I==="onScroll"&&Rt("scroll",f)}switch(c){case"input":ye(f),_o(f,v,!0);break;case"textarea":ye(f),ss(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Ud)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{I=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=os(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=I.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=I.createElement(c,{is:f.is}):(o=I.createElement(c),c==="select"&&(I=o,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):o=I.createElementNS(o,c),o[_s]=a,o[zc]=f,Ow(o,a,!1,!1),a.stateNode=o;e:{switch(I=xo(c,f),c){case"dialog":Rt("cancel",o),Rt("close",o),g=f;break;case"iframe":case"object":case"embed":Rt("load",o),g=f;break;case"video":case"audio":for(g=0;g<Lc.length;g++)Rt(Lc[g],o);g=f;break;case"source":Rt("error",o),g=f;break;case"img":case"image":case"link":Rt("error",o),Rt("load",o),g=f;break;case"details":Rt("toggle",o),g=f;break;case"input":Da(o,f),g=rs(o,f),Rt("invalid",o);break;case"option":g=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},g=X({},f,{value:void 0}),Rt("invalid",o);break;case"textarea":yr(o,f),g=on(o,f),Rt("invalid",o);break;default:g=f}qn(c,g),L=g;for(v in L)if(L.hasOwnProperty(v)){var q=L[v];v==="style"?bo(o,q):v==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Eo(o,q)):v==="children"?typeof q=="string"?(c!=="textarea"||q!=="")&&Bn(o,q):typeof q=="number"&&Bn(o,""+q):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?q!=null&&v==="onScroll"&&Rt("scroll",o):q!=null&&z(o,v,q,I))}switch(c){case"input":ye(o),_o(o,f,!1);break;case"textarea":ye(o),ss(o);break;case"option":f.value!=null&&o.setAttribute("value",""+be(f.value));break;case"select":o.multiple=!!f.multiple,v=f.value,v!=null?tr(o,!!f.multiple,v,!1):f.defaultValue!=null&&tr(o,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=Ud)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return An(a),null;case 6:if(o&&a.stateNode!=null)Vw(o,a,o.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=$i(Hc.current),$i(ws.current),Kd(a)){if(f=a.stateNode,c=a.memoizedProps,f[_s]=a,(v=f.nodeValue!==c)&&(o=cr,o!==null))switch(o.tag){case 3:zd(f.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&zd(f.nodeValue,c,(o.mode&1)!==0)}v&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[_s]=a,a.stateNode=f}return An(a),null;case 13:if(kt(Lt),f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Nt&&ur!==null&&(a.mode&1)!==0&&(a.flags&128)===0)j0(),ol(),a.flags|=98560,v=!1;else if(v=Kd(a),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(t(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[_s]=a}else ol(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;An(a),v=!1}else Hr!==null&&(fg(Hr),Hr=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Lt.current&1)!==0?ln===0&&(ln=3):gg())),a.updateQueue!==null&&(a.flags|=4),An(a),null);case 4:return cl(),ng(o,a),o===null&&Fc(a.stateNode.containerInfo),An(a),null;case 10:return Rm(a.type._context),An(a),null;case 17:return Wn(a.type)&&Bd(),An(a),null;case 19:if(kt(Lt),v=a.memoizedState,v===null)return An(a),null;if(f=(a.flags&128)!==0,I=v.rendering,I===null)if(f)Qc(v,!1);else{if(ln!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(I=eh(o),I!==null){for(a.flags|=128,Qc(v,!1),f=I.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)v=c,o=f,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=o,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,o=I.dependencies,v.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Tt(Lt,Lt.current&1|2),a.child}o=o.sibling}v.tail!==null&&At()>fl&&(a.flags|=128,f=!0,Qc(v,!1),a.lanes=4194304)}else{if(!f)if(o=eh(I),o!==null){if(a.flags|=128,f=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Qc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!Nt)return An(a),null}else 2*At()-v.renderingStartTime>fl&&c!==1073741824&&(a.flags|=128,f=!0,Qc(v,!1),a.lanes=4194304);v.isBackwards?(I.sibling=a.child,a.child=I):(c=v.last,c!==null?c.sibling=I:a.child=I,v.last=I)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=At(),a.sibling=null,c=Lt.current,Tt(Lt,f?c&1|2:c&1),a):(An(a),null);case 22:case 23:return mg(),f=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(dr&1073741824)!==0&&(An(a),a.subtreeFlags&6&&(a.flags|=8192)):An(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function Ek(o,a){switch(xm(a),a.tag){case 1:return Wn(a.type)&&Bd(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return cl(),kt(Hn),kt(Cn),Lm(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Mm(a),null;case 13:if(kt(Lt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));ol()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return kt(Lt),null;case 4:return cl(),null;case 10:return Rm(a.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var ch=!1,Rn=!1,bk=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function dl(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){$t(o,a,f)}else c.current=null}function rg(o,a,c){try{c()}catch(f){$t(o,a,f)}}var Lw=!1;function Sk(o,a){if(mm=Ws,o=m0(),am(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var I=0,L=-1,q=-1,ee=0,le=0,de=o,ae=null;t:for(;;){for(var Ie;de!==c||g!==0&&de.nodeType!==3||(L=I+g),de!==v||f!==0&&de.nodeType!==3||(q=I+f),de.nodeType===3&&(I+=de.nodeValue.length),(Ie=de.firstChild)!==null;)ae=de,de=Ie;for(;;){if(de===o)break t;if(ae===c&&++ee===g&&(L=I),ae===v&&++le===f&&(q=I),(Ie=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=Ie}c=L===-1||q===-1?null:{start:L,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(gm={focusedElem:o,selectionRange:c},Ws=!1,Ce=a;Ce!==null;)if(a=Ce,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ce=o;else for(;Ce!==null;){a=Ce;try{var Re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Oe=Re.memoizedProps,Gt=Re.memoizedState,Q=a.stateNode,H=Q.getSnapshotBeforeUpdate(a.elementType===a.type?Oe:Wr(a.type,Oe),Gt);Q.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){$t(a,a.return,pe)}if(o=a.sibling,o!==null){o.return=a.return,Ce=o;break}Ce=a.return}return Re=Lw,Lw=!1,Re}function Yc(o,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&o)===o){var v=g.destroy;g.destroy=void 0,v!==void 0&&rg(a,c,v)}g=g.next}while(g!==f)}}function uh(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function sg(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function Fw(o){var a=o.alternate;a!==null&&(o.alternate=null,Fw(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[_s],delete a[zc],delete a[wm],delete a[ok],delete a[ik])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function jw(o){return o.tag===5||o.tag===3||o.tag===4}function zw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||jw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function og(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Ud));else if(f!==4&&(o=o.child,o!==null))for(og(o,a,c),o=o.sibling;o!==null;)og(o,a,c),o=o.sibling}function ig(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(ig(o,a,c),o=o.sibling;o!==null;)ig(o,a,c),o=o.sibling}var En=null,Gr=!1;function jo(o,a,c){for(c=c.child;c!==null;)Uw(o,a,c),c=c.sibling}function Uw(o,a,c){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Pi,c)}catch{}switch(c.tag){case 5:Rn||dl(c,a);case 6:var f=En,g=Gr;En=null,jo(o,a,c),En=f,Gr=g,En!==null&&(Gr?(o=En,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):En.removeChild(c.stateNode));break;case 18:En!==null&&(Gr?(o=En,c=c.stateNode,o.nodeType===8?_m(o.parentNode,c):o.nodeType===1&&_m(o,c),Ao(o)):_m(En,c.stateNode));break;case 4:f=En,g=Gr,En=c.stateNode.containerInfo,Gr=!0,jo(o,a,c),En=f,Gr=g;break;case 0:case 11:case 14:case 15:if(!Rn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,I=v.destroy;v=v.tag,I!==void 0&&((v&2)!==0||(v&4)!==0)&&rg(c,a,I),g=g.next}while(g!==f)}jo(o,a,c);break;case 1:if(!Rn&&(dl(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(L){$t(c,a,L)}jo(o,a,c);break;case 21:jo(o,a,c);break;case 22:c.mode&1?(Rn=(f=Rn)||c.memoizedState!==null,jo(o,a,c),Rn=f):jo(o,a,c);break;default:jo(o,a,c)}}function $w(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new bk),a.forEach(function(f){var g=Nk.bind(null,o,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Kr(o,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var v=o,I=a,L=I;e:for(;L!==null;){switch(L.tag){case 5:En=L.stateNode,Gr=!1;break e;case 3:En=L.stateNode.containerInfo,Gr=!0;break e;case 4:En=L.stateNode.containerInfo,Gr=!0;break e}L=L.return}if(En===null)throw Error(t(160));Uw(v,I,g),En=null,Gr=!1;var q=g.alternate;q!==null&&(q.return=null),g.return=null}catch(ee){$t(g,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Bw(a,o),a=a.sibling}function Bw(o,a){var c=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Kr(a,o),bs(o),f&4){try{Yc(3,o,o.return),uh(3,o)}catch(Oe){$t(o,o.return,Oe)}try{Yc(5,o,o.return)}catch(Oe){$t(o,o.return,Oe)}}break;case 1:Kr(a,o),bs(o),f&512&&c!==null&&dl(c,c.return);break;case 5:if(Kr(a,o),bs(o),f&512&&c!==null&&dl(c,c.return),o.flags&32){var g=o.stateNode;try{Bn(g,"")}catch(Oe){$t(o,o.return,Oe)}}if(f&4&&(g=o.stateNode,g!=null)){var v=o.memoizedProps,I=c!==null?c.memoizedProps:v,L=o.type,q=o.updateQueue;if(o.updateQueue=null,q!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Us(g,v),xo(L,I);var ee=xo(L,v);for(I=0;I<q.length;I+=2){var le=q[I],de=q[I+1];le==="style"?bo(g,de):le==="dangerouslySetInnerHTML"?Eo(g,de):le==="children"?Bn(g,de):z(g,le,de,ee)}switch(L){case"input":er(g,v);break;case"textarea":Oa(g,v);break;case"select":var ae=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var Ie=v.value;Ie!=null?tr(g,!!v.multiple,Ie,!1):ae!==!!v.multiple&&(v.defaultValue!=null?tr(g,!!v.multiple,v.defaultValue,!0):tr(g,!!v.multiple,v.multiple?[]:"",!1))}g[zc]=v}catch(Oe){$t(o,o.return,Oe)}}break;case 6:if(Kr(a,o),bs(o),f&4){if(o.stateNode===null)throw Error(t(162));g=o.stateNode,v=o.memoizedProps;try{g.nodeValue=v}catch(Oe){$t(o,o.return,Oe)}}break;case 3:if(Kr(a,o),bs(o),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ao(a.containerInfo)}catch(Oe){$t(o,o.return,Oe)}break;case 4:Kr(a,o),bs(o);break;case 13:Kr(a,o),bs(o),g=o.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(cg=At())),f&4&&$w(o);break;case 22:if(le=c!==null&&c.memoizedState!==null,o.mode&1?(Rn=(ee=Rn)||le,Kr(a,o),Rn=ee):Kr(a,o),bs(o),f&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!le&&(o.mode&1)!==0)for(Ce=o,le=o.child;le!==null;){for(de=Ce=le;Ce!==null;){switch(ae=Ce,Ie=ae.child,ae.tag){case 0:case 11:case 14:case 15:Yc(4,ae,ae.return);break;case 1:dl(ae,ae.return);var Re=ae.stateNode;if(typeof Re.componentWillUnmount=="function"){f=ae,c=ae.return;try{a=f,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(Oe){$t(f,c,Oe)}}break;case 5:dl(ae,ae.return);break;case 22:if(ae.memoizedState!==null){Ww(de);continue}}Ie!==null?(Ie.return=ae,Ce=Ie):Ww(de)}le=le.sibling}e:for(le=null,de=o;;){if(de.tag===5){if(le===null){le=de;try{g=de.stateNode,ee?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=de.stateNode,q=de.memoizedProps.style,I=q!=null&&q.hasOwnProperty("display")?q.display:null,L.style.display=is("display",I))}catch(Oe){$t(o,o.return,Oe)}}}else if(de.tag===6){if(le===null)try{de.stateNode.nodeValue=ee?"":de.memoizedProps}catch(Oe){$t(o,o.return,Oe)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===o)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===o)break e;for(;de.sibling===null;){if(de.return===null||de.return===o)break e;le===de&&(le=null),de=de.return}le===de&&(le=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Kr(a,o),bs(o),f&4&&$w(o);break;case 21:break;default:Kr(a,o),bs(o)}}function bs(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(jw(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Bn(g,""),f.flags&=-33);var v=zw(o);ig(o,v,g);break;case 3:case 4:var I=f.stateNode.containerInfo,L=zw(o);og(o,L,I);break;default:throw Error(t(161))}}catch(q){$t(o,o.return,q)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function xk(o,a,c){Ce=o,qw(o)}function qw(o,a,c){for(var f=(o.mode&1)!==0;Ce!==null;){var g=Ce,v=g.child;if(g.tag===22&&f){var I=g.memoizedState!==null||ch;if(!I){var L=g.alternate,q=L!==null&&L.memoizedState!==null||Rn;L=ch;var ee=Rn;if(ch=I,(Rn=q)&&!ee)for(Ce=g;Ce!==null;)I=Ce,q=I.child,I.tag===22&&I.memoizedState!==null?Gw(g):q!==null?(q.return=I,Ce=q):Gw(g);for(;v!==null;)Ce=v,qw(v),v=v.sibling;Ce=g,ch=L,Rn=ee}Hw(o)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,Ce=v):Hw(o)}}function Hw(o){for(;Ce!==null;){var a=Ce;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Rn||uh(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Rn)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Wr(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&W0(a,v,f);break;case 3:var I=a.updateQueue;if(I!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}W0(a,I,c)}break;case 5:var L=a.stateNode;if(c===null&&a.flags&4){c=L;var q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&c.focus();break;case"img":q.src&&(c.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var de=le.dehydrated;de!==null&&Ao(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Rn||a.flags&512&&sg(a)}catch(ae){$t(a,a.return,ae)}}if(a===o){Ce=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ce=c;break}Ce=a.return}}function Ww(o){for(;Ce!==null;){var a=Ce;if(a===o){Ce=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ce=c;break}Ce=a.return}}function Gw(o){for(;Ce!==null;){var a=Ce;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{uh(4,a)}catch(q){$t(a,c,q)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(q){$t(a,g,q)}}var v=a.return;try{sg(a)}catch(q){$t(a,v,q)}break;case 5:var I=a.return;try{sg(a)}catch(q){$t(a,I,q)}}}catch(q){$t(a,a.return,q)}if(a===o){Ce=null;break}var L=a.sibling;if(L!==null){L.return=a.return,Ce=L;break}Ce=a.return}}var Ik=Math.ceil,dh=U.ReactCurrentDispatcher,ag=U.ReactCurrentOwner,Tr=U.ReactCurrentBatchConfig,pt=0,gn=null,en=null,bn=0,dr=0,hl=Oo(0),ln=0,Xc=null,qi=0,hh=0,lg=0,Jc=null,Kn=null,cg=0,fl=1/0,no=null,fh=!1,ug=null,zo=null,ph=!1,Uo=null,mh=0,eu=0,dg=null,gh=-1,yh=0;function Fn(){return(pt&6)!==0?At():gh!==-1?gh:gh=At()}function $o(o){return(o.mode&1)===0?1:(pt&2)!==0&&bn!==0?bn&-bn:lk.transition!==null?(yh===0&&(yh=Ec()),yh):(o=ct,o!==0||(o=window.event,o=o===void 0?16:$a(o.type)),o)}function Zr(o,a,c,f){if(50<eu)throw eu=0,dg=null,Error(t(185));Ni(o,c,f),((pt&2)===0||o!==gn)&&(o===gn&&((pt&2)===0&&(hh|=c),ln===4&&Bo(o,bn)),Zn(o,f),c===1&&pt===0&&(a.mode&1)===0&&(fl=At()+500,Hd&&Vo()))}function Zn(o,a){var c=o.callbackNode;ki(o,a);var f=Bs(o,o===gn?bn:0);if(f===0)c!==null&&Ma(c),o.callbackNode=null,o.callbackPriority=0;else if(a=f&-f,o.callbackPriority!==a){if(c!=null&&Ma(c),a===1)o.tag===0?ak(Zw.bind(null,o)):O0(Zw.bind(null,o)),rk(function(){(pt&6)===0&&Vo()}),c=null;else{switch(cs(f)){case 1:c=Va;break;case 4:c=vc;break;case 16:c=Ci;break;case 536870912:c=La;break;default:c=Ci}c=rE(c,Kw.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function Kw(o,a){if(gh=-1,yh=0,(pt&6)!==0)throw Error(t(327));var c=o.callbackNode;if(pl()&&o.callbackNode!==c)return null;var f=Bs(o,o===gn?bn:0);if(f===0)return null;if((f&30)!==0||(f&o.expiredLanes)!==0||a)a=vh(o,f);else{a=f;var g=pt;pt|=2;var v=Yw();(gn!==o||bn!==a)&&(no=null,fl=At()+500,Wi(o,a));do try{Pk();break}catch(L){Qw(o,L)}while(!0);Am(),dh.current=v,pt=g,en!==null?a=0:(gn=null,bn=0,a=ln)}if(a!==0){if(a===2&&(g=wc(o),g!==0&&(f=g,a=hg(o,g))),a===1)throw c=Xc,Wi(o,0),Bo(o,f),Zn(o,At()),c;if(a===6)Bo(o,f);else{if(g=o.current.alternate,(f&30)===0&&!Tk(g)&&(a=vh(o,f),a===2&&(v=wc(o),v!==0&&(f=v,a=hg(o,v))),a===1))throw c=Xc,Wi(o,0),Bo(o,f),Zn(o,At()),c;switch(o.finishedWork=g,o.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:Gi(o,Kn,no);break;case 3:if(Bo(o,f),(f&130023424)===f&&(a=cg+500-At(),10<a)){if(Bs(o,0)!==0)break;if(g=o.suspendedLanes,(g&f)!==f){Fn(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=vm(Gi.bind(null,o,Kn,no),a);break}Gi(o,Kn,no);break;case 4:if(Bo(o,f),(f&4194240)===f)break;for(a=o.eventTimes,g=-1;0<f;){var I=31-sr(f);v=1<<I,I=a[I],I>g&&(g=I),f&=~v}if(f=g,f=At()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Ik(f/1960))-f,10<f){o.timeoutHandle=vm(Gi.bind(null,o,Kn,no),f);break}Gi(o,Kn,no);break;case 5:Gi(o,Kn,no);break;default:throw Error(t(329))}}}return Zn(o,At()),o.callbackNode===c?Kw.bind(null,o):null}function hg(o,a){var c=Jc;return o.current.memoizedState.isDehydrated&&(Wi(o,a).flags|=256),o=vh(o,a),o!==2&&(a=Kn,Kn=c,a!==null&&fg(a)),o}function fg(o){Kn===null?Kn=o:Kn.push.apply(Kn,o)}function Tk(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],v=g.getSnapshot;g=g.value;try{if(!qr(v(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bo(o,a){for(a&=~lg,a&=~hh,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-sr(a),f=1<<c;o[c]=-1,a&=~f}}function Zw(o){if((pt&6)!==0)throw Error(t(327));pl();var a=Bs(o,0);if((a&1)===0)return Zn(o,At()),null;var c=vh(o,a);if(o.tag!==0&&c===2){var f=wc(o);f!==0&&(a=f,c=hg(o,f))}if(c===1)throw c=Xc,Wi(o,0),Bo(o,a),Zn(o,At()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Gi(o,Kn,no),Zn(o,At()),null}function pg(o,a){var c=pt;pt|=1;try{return o(a)}finally{pt=c,pt===0&&(fl=At()+500,Hd&&Vo())}}function Hi(o){Uo!==null&&Uo.tag===0&&(pt&6)===0&&pl();var a=pt;pt|=1;var c=Tr.transition,f=ct;try{if(Tr.transition=null,ct=1,o)return o()}finally{ct=f,Tr.transition=c,pt=a,(pt&6)===0&&Vo()}}function mg(){dr=hl.current,kt(hl)}function Wi(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,nk(c)),en!==null)for(c=en.return;c!==null;){var f=c;switch(xm(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Bd();break;case 3:cl(),kt(Hn),kt(Cn),Lm();break;case 5:Mm(f);break;case 4:cl();break;case 13:kt(Lt);break;case 19:kt(Lt);break;case 10:Rm(f.type._context);break;case 22:case 23:mg()}c=c.return}if(gn=o,en=o=qo(o.current,null),bn=dr=a,ln=0,Xc=null,lg=hh=qi=0,Kn=Jc=null,Ui!==null){for(a=0;a<Ui.length;a++)if(c=Ui[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,v=c.pending;if(v!==null){var I=v.next;v.next=g,f.next=I}c.pending=f}Ui=null}return o}function Qw(o,a){do{var c=en;try{if(Am(),th.current=oh,nh){for(var f=Ft.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}nh=!1}if(Bi=0,mn=an=Ft=null,Wc=!1,Gc=0,ag.current=null,c===null||c.return===null){ln=1,Xc=a,en=null;break}e:{var v=o,I=c.return,L=c,q=a;if(a=bn,L.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ee=q,le=L,de=le.tag;if((le.mode&1)===0&&(de===0||de===11||de===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var Ie=Ew(I);if(Ie!==null){Ie.flags&=-257,bw(Ie,I,L,v,a),Ie.mode&1&&ww(v,ee,a),a=Ie,q=ee;var Re=a.updateQueue;if(Re===null){var Oe=new Set;Oe.add(q),a.updateQueue=Oe}else Re.add(q);break e}else{if((a&1)===0){ww(v,ee,a),gg();break e}q=Error(t(426))}}else if(Nt&&L.mode&1){var Gt=Ew(I);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),bw(Gt,I,L,v,a),Cm(ul(q,L));break e}}v=q=ul(q,L),ln!==4&&(ln=2),Jc===null?Jc=[v]:Jc.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var Q=vw(v,q,a);H0(v,Q);break e;case 1:L=q;var H=v.type,J=v.stateNode;if((v.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(zo===null||!zo.has(J)))){v.flags|=65536,a&=-a,v.lanes|=a;var pe=_w(v,L,a);H0(v,pe);break e}}v=v.return}while(v!==null)}Jw(c)}catch(Me){a=Me,en===c&&c!==null&&(en=c=c.return);continue}break}while(!0)}function Yw(){var o=dh.current;return dh.current=oh,o===null?oh:o}function gg(){(ln===0||ln===3||ln===2)&&(ln=4),gn===null||(qi&268435455)===0&&(hh&268435455)===0||Bo(gn,bn)}function vh(o,a){var c=pt;pt|=2;var f=Yw();(gn!==o||bn!==a)&&(no=null,Wi(o,a));do try{Ck();break}catch(g){Qw(o,g)}while(!0);if(Am(),pt=c,dh.current=f,en!==null)throw Error(t(261));return gn=null,bn=0,ln}function Ck(){for(;en!==null;)Xw(en)}function Pk(){for(;en!==null&&!Ti();)Xw(en)}function Xw(o){var a=nE(o.alternate,o,dr);o.memoizedProps=o.pendingProps,a===null?Jw(o):en=a,ag.current=null}function Jw(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=wk(c,a,dr),c!==null){en=c;return}}else{if(c=Ek(c,a),c!==null){c.flags&=32767,en=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{ln=6,en=null;return}}if(a=a.sibling,a!==null){en=a;return}en=a=o}while(a!==null);ln===0&&(ln=5)}function Gi(o,a,c){var f=ct,g=Tr.transition;try{Tr.transition=null,ct=1,Ak(o,a,c,f)}finally{Tr.transition=g,ct=f}return null}function Ak(o,a,c,f){do pl();while(Uo!==null);if((pt&6)!==0)throw Error(t(327));c=o.finishedWork;var g=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var v=c.lanes|c.childLanes;if(nm(o,v),o===gn&&(en=gn=null,bn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ph||(ph=!0,rE(Ci,function(){return pl(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=Tr.transition,Tr.transition=null;var I=ct;ct=1;var L=pt;pt|=4,ag.current=null,Sk(o,c),Bw(c,o),ZR(gm),Ws=!!mm,gm=mm=null,o.current=c,xk(c),$s(),pt=L,ct=I,Tr.transition=v}else o.current=c;if(ph&&(ph=!1,Uo=o,mh=g),v=o.pendingLanes,v===0&&(zo=null),Id(c.stateNode),Zn(o,At()),a!==null)for(f=o.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(fh)throw fh=!1,o=ug,ug=null,o;return(mh&1)!==0&&o.tag!==0&&pl(),v=o.pendingLanes,(v&1)!==0?o===dg?eu++:(eu=0,dg=o):eu=0,Vo(),null}function pl(){if(Uo!==null){var o=cs(mh),a=Tr.transition,c=ct;try{if(Tr.transition=null,ct=16>o?16:o,Uo===null)var f=!1;else{if(o=Uo,Uo=null,mh=0,(pt&6)!==0)throw Error(t(331));var g=pt;for(pt|=4,Ce=o.current;Ce!==null;){var v=Ce,I=v.child;if((Ce.flags&16)!==0){var L=v.deletions;if(L!==null){for(var q=0;q<L.length;q++){var ee=L[q];for(Ce=ee;Ce!==null;){var le=Ce;switch(le.tag){case 0:case 11:case 15:Yc(8,le,v)}var de=le.child;if(de!==null)de.return=le,Ce=de;else for(;Ce!==null;){le=Ce;var ae=le.sibling,Ie=le.return;if(Fw(le),le===ee){Ce=null;break}if(ae!==null){ae.return=Ie,Ce=ae;break}Ce=Ie}}}var Re=v.alternate;if(Re!==null){var Oe=Re.child;if(Oe!==null){Re.child=null;do{var Gt=Oe.sibling;Oe.sibling=null,Oe=Gt}while(Oe!==null)}}Ce=v}}if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,Ce=I;else e:for(;Ce!==null;){if(v=Ce,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Yc(9,v,v.return)}var Q=v.sibling;if(Q!==null){Q.return=v.return,Ce=Q;break e}Ce=v.return}}var H=o.current;for(Ce=H;Ce!==null;){I=Ce;var J=I.child;if((I.subtreeFlags&2064)!==0&&J!==null)J.return=I,Ce=J;else e:for(I=H;Ce!==null;){if(L=Ce,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:uh(9,L)}}catch(Me){$t(L,L.return,Me)}if(L===I){Ce=null;break e}var pe=L.sibling;if(pe!==null){pe.return=L.return,Ce=pe;break e}Ce=L.return}}if(pt=g,Vo(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Pi,o)}catch{}f=!0}return f}finally{ct=c,Tr.transition=a}}return!1}function eE(o,a,c){a=ul(c,a),a=vw(o,a,1),o=Fo(o,a,1),a=Fn(),o!==null&&(Ni(o,1,a),Zn(o,a))}function $t(o,a,c){if(o.tag===3)eE(o,o,c);else for(;a!==null;){if(a.tag===3){eE(a,o,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(zo===null||!zo.has(f))){o=ul(c,o),o=_w(a,o,1),a=Fo(a,o,1),o=Fn(),a!==null&&(Ni(a,1,o),Zn(a,o));break}}a=a.return}}function Rk(o,a,c){var f=o.pingCache;f!==null&&f.delete(a),a=Fn(),o.pingedLanes|=o.suspendedLanes&c,gn===o&&(bn&c)===c&&(ln===4||ln===3&&(bn&130023424)===bn&&500>At()-cg?Wi(o,0):lg|=c),Zn(o,a)}function tE(o,a){a===0&&((o.mode&1)===0?a=1:(a=To,To<<=1,(To&130023424)===0&&(To=4194304)));var c=Fn();o=Js(o,a),o!==null&&(Ni(o,a,c),Zn(o,c))}function kk(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),tE(o,c)}function Nk(o,a){var c=0;switch(o.tag){case 13:var f=o.stateNode,g=o.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),tE(o,c)}var nE;nE=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Hn.current)Gn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return Gn=!1,_k(o,a,c);Gn=(o.flags&131072)!==0}else Gn=!1,Nt&&(a.flags&1048576)!==0&&M0(a,Gd,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;lh(o,a),o=a.pendingProps;var g=nl(a,Cn.current);ll(a,c),g=zm(null,a,f,o,g,c);var v=Um();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Wn(f)?(v=!0,qd(a)):v=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Dm(a),g.updater=ih,a.stateNode=g,g._reactInternals=a,Gm(a,f,o,c),a=Ym(null,a,f,!0,v,c)):(a.tag=0,Nt&&v&&Sm(a),Ln(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(lh(o,a),o=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=Ok(f),o=Wr(f,o),g){case 0:a=Qm(null,a,f,o,c);break e;case 1:a=Pw(null,a,f,o,c);break e;case 11:a=Sw(null,a,f,o,c);break e;case 14:a=xw(null,a,f,Wr(f.type,o),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Wr(f,g),Qm(o,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Wr(f,g),Pw(o,a,f,g,c);case 3:e:{if(Aw(a),o===null)throw Error(t(387));f=a.pendingProps,v=a.memoizedState,g=v.element,q0(o,a),Jd(a,f,null,c);var I=a.memoizedState;if(f=I.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){g=ul(Error(t(423)),a),a=Rw(o,a,f,c,g);break e}else if(f!==g){g=ul(Error(t(424)),a),a=Rw(o,a,f,c,g);break e}else for(ur=Do(a.stateNode.containerInfo.firstChild),cr=a,Nt=!0,Hr=null,c=$0(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ol(),f===g){a=to(o,a,c);break e}Ln(o,a,f,c)}a=a.child}return a;case 5:return G0(a),o===null&&Tm(a),f=a.type,g=a.pendingProps,v=o!==null?o.memoizedProps:null,I=g.children,ym(f,g)?I=null:v!==null&&ym(f,v)&&(a.flags|=32),Cw(o,a),Ln(o,a,I,c),a.child;case 6:return o===null&&Tm(a),null;case 13:return kw(o,a,c);case 4:return Om(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=il(a,null,f,c):Ln(o,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Wr(f,g),Sw(o,a,f,g,c);case 7:return Ln(o,a,a.pendingProps,c),a.child;case 8:return Ln(o,a,a.pendingProps.children,c),a.child;case 12:return Ln(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,v=a.memoizedProps,I=g.value,Tt(Qd,f._currentValue),f._currentValue=I,v!==null)if(qr(v.value,I)){if(v.children===g.children&&!Hn.current){a=to(o,a,c);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var L=v.dependencies;if(L!==null){I=v.child;for(var q=L.firstContext;q!==null;){if(q.context===f){if(v.tag===1){q=eo(-1,c&-c),q.tag=2;var ee=v.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?q.next=q:(q.next=le.next,le.next=q),ee.pending=q}}v.lanes|=c,q=v.alternate,q!==null&&(q.lanes|=c),km(v.return,c,a),L.lanes|=c;break}q=q.next}}else if(v.tag===10)I=v.type===a.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(t(341));I.lanes|=c,L=I.alternate,L!==null&&(L.lanes|=c),km(I,c,a),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===a){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}Ln(o,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,ll(a,c),g=xr(g),f=f(g),a.flags|=1,Ln(o,a,f,c),a.child;case 14:return f=a.type,g=Wr(f,a.pendingProps),g=Wr(f.type,g),xw(o,a,f,g,c);case 15:return Iw(o,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Wr(f,g),lh(o,a),a.tag=1,Wn(f)?(o=!0,qd(a)):o=!1,ll(a,c),gw(a,f,g),Gm(a,f,g,c),Ym(null,a,f,!0,o,c);case 19:return Dw(o,a,c);case 22:return Tw(o,a,c)}throw Error(t(156,a.tag))};function rE(o,a){return yc(o,a)}function Dk(o,a,c,f){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(o,a,c,f){return new Dk(o,a,c,f)}function yg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ok(o){if(typeof o=="function")return yg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===Be)return 14}return 2}function qo(o,a){var c=o.alternate;return c===null?(c=Cr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function _h(o,a,c,f,g,v){var I=2;if(f=o,typeof o=="function")yg(o)&&(I=1);else if(typeof o=="string")I=5;else e:switch(o){case P:return Ki(c.children,g,v,a);case T:I=8,g|=8;break;case N:return o=Cr(12,c,a,g|2),o.elementType=N,o.lanes=v,o;case O:return o=Cr(13,c,a,g),o.elementType=O,o.lanes=v,o;case Te:return o=Cr(19,c,a,g),o.elementType=Te,o.lanes=v,o;case Ee:return wh(c,g,v,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case V:I=10;break e;case F:I=9;break e;case B:I=11;break e;case Be:I=14;break e;case ve:I=16,f=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Cr(I,c,a,g),a.elementType=o,a.type=f,a.lanes=v,a}function Ki(o,a,c,f){return o=Cr(7,o,f,a),o.lanes=c,o}function wh(o,a,c,f){return o=Cr(22,o,f,a),o.elementType=Ee,o.lanes=c,o.stateNode={isHidden:!1},o}function vg(o,a,c){return o=Cr(6,o,null,a),o.lanes=c,o}function _g(o,a,c){return a=Cr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function Mk(o,a,c,f,g){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bc(0),this.expirationTimes=bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bc(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function wg(o,a,c,f,g,v,I,L,q){return o=new Mk(o,a,c,L,q),a===1?(a=1,v===!0&&(a|=8)):a=0,v=Cr(3,null,null,a),o.current=v,v.stateNode=o,v.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(v),o}function Vk(o,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:f==null?null:""+f,children:o,containerInfo:a,implementation:c}}function sE(o){if(!o)return Mo;o=o._reactInternals;e:{if($r(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Wn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Wn(c))return N0(o,c,a)}return a}function oE(o,a,c,f,g,v,I,L,q){return o=wg(c,f,!0,o,g,v,I,L,q),o.context=sE(null),c=o.current,f=Fn(),g=$o(c),v=eo(f,g),v.callback=a??null,Fo(c,v,g),o.current.lanes=g,Ni(o,g,f),Zn(o,f),o}function Eh(o,a,c,f){var g=a.current,v=Fn(),I=$o(g);return c=sE(c),a.context===null?a.context=c:a.pendingContext=c,a=eo(v,I),a.payload={element:o},f=f===void 0?null:f,f!==null&&(a.callback=f),o=Fo(g,a,I),o!==null&&(Zr(o,g,I,v),Xd(o,g,I)),I}function bh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function iE(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function Eg(o,a){iE(o,a),(o=o.alternate)&&iE(o,a)}function Lk(){return null}var aE=typeof reportError=="function"?reportError:function(o){console.error(o)};function bg(o){this._internalRoot=o}Sh.prototype.render=bg.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Eh(o,a,null,null)},Sh.prototype.unmount=bg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Hi(function(){Eh(null,o,null,null)}),a[Zs]=null}};function Sh(o){this._internalRoot=o}Sh.prototype.unstable_scheduleHydration=function(o){if(o){var a=Tc();o={blockedOn:null,target:o,priority:a};for(var c=0;c<or.length&&a!==0&&a<or[c].priority;c++);or.splice(c,0,o),c===0&&za(o)}};function Sg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function xh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function lE(){}function Fk(o,a,c,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var ee=bh(I);v.call(ee)}}var I=oE(a,f,o,0,null,!1,!1,"",lE);return o._reactRootContainer=I,o[Zs]=I.current,Fc(o.nodeType===8?o.parentNode:o),Hi(),I}for(;g=o.lastChild;)o.removeChild(g);if(typeof f=="function"){var L=f;f=function(){var ee=bh(q);L.call(ee)}}var q=wg(o,0,!1,null,null,!1,!1,"",lE);return o._reactRootContainer=q,o[Zs]=q.current,Fc(o.nodeType===8?o.parentNode:o),Hi(function(){Eh(a,q,c,f)}),q}function Ih(o,a,c,f,g){var v=c._reactRootContainer;if(v){var I=v;if(typeof g=="function"){var L=g;g=function(){var q=bh(I);L.call(q)}}Eh(a,I,o,g)}else I=Fk(c,a,o,g,f);return bh(I)}xc=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=gt(a.pendingLanes);c!==0&&(Sc(a,c|1),Zn(a,At()),(pt&6)===0&&(fl=At()+500,Vo()))}break;case 13:Hi(function(){var f=Js(o,1);if(f!==null){var g=Fn();Zr(f,o,1,g)}}),Eg(o,1)}},Fa=function(o){if(o.tag===13){var a=Js(o,134217728);if(a!==null){var c=Fn();Zr(a,o,134217728,c)}Eg(o,134217728)}},Ic=function(o){if(o.tag===13){var a=$o(o),c=Js(o,a);if(c!==null){var f=Fn();Zr(c,o,a,f)}Eg(o,a)}},Tc=function(){return ct},Cc=function(o,a){var c=ct;try{return ct=o,a()}finally{ct=c}},zr=function(o,a,c){switch(a){case"input":if(er(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==o&&f.form===o.form){var g=$d(f);if(!g)throw Error(t(90));St(f),er(f,g)}}}break;case"textarea":Oa(o,c);break;case"select":a=c.value,a!=null&&tr(o,!!c.multiple,a,!1)}},Ht=pg,fn=Hi;var jk={usingClientEntryPoint:!1,Events:[Uc,el,$d,qe,xt,pg]},tu={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zk={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=xd(o),o===null?null:o.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||Lk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Pi=Th.inject(zk),rr=Th}catch{}}return Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jk,Qn.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sg(a))throw Error(t(200));return Vk(o,a,null,c)},Qn.createRoot=function(o,a){if(!Sg(o))throw Error(t(299));var c=!1,f="",g=aE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=wg(o,1,!1,null,null,c,!1,f,g),o[Zs]=a.current,Fc(o.nodeType===8?o.parentNode:o),new bg(a)},Qn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=xd(a),o=o===null?null:o.stateNode,o},Qn.flushSync=function(o){return Hi(o)},Qn.hydrate=function(o,a,c){if(!xh(a))throw Error(t(200));return Ih(null,o,a,!0,c)},Qn.hydrateRoot=function(o,a,c){if(!Sg(o))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,v="",I=aE;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),a=oE(a,null,o,1,c??null,g,!1,v,I),o[Zs]=a.current,Fc(o),f)for(o=0;o<f.length;o++)c=f[o],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Sh(a)},Qn.render=function(o,a,c){if(!xh(a))throw Error(t(200));return Ih(null,o,a,!1,c)},Qn.unmountComponentAtNode=function(o){if(!xh(o))throw Error(t(40));return o._reactRootContainer?(Hi(function(){Ih(null,null,o,!1,function(){o._reactRootContainer=null,o[Zs]=null})}),!0):!1},Qn.unstable_batchedUpdates=pg,Qn.unstable_renderSubtreeIntoContainer=function(o,a,c,f){if(!xh(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Ih(o,a,c,!1,f)},Qn.version="18.3.1-next-f1338f8080-20240426",Qn}var gE;function Vx(){if(gE)return Tg.exports;gE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tg.exports=Kk(),Tg.exports}var yE;function Zk(){if(yE)return Ch;yE=1;var n=Vx();return Ch.createRoot=n.createRoot,Ch.hydrateRoot=n.hydrateRoot,Ch}var Qk=Zk();const Yk="modulepreload",Xk=function(n){return"/"+n},vE={},Or=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=l(t.map(p=>{if(p=Xk(p),p in vE)return;vE[p]=!0;const y=p.endsWith(".css"),m=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":Yk,y||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),y)return new Promise((x,A)=>{E.addEventListener("load",x),E.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};var b=hv();const ce=Mx(b),Lx=$k({__proto__:null,default:ce},[b]);function _E(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function sp(...n){return e=>{let t=!1;const r=n.map(s=>{const i=_E(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():_E(n[s],null)}}}}function wt(...n){return b.useCallback(sp(...n),n)}function Ul(n){const e=Jk(n),t=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),h=u.find(t2);if(h){const p=h.props.children,y=u.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return w.jsx(e,{...l,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,y):null})}return w.jsx(e,{...l,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var op=Ul("Slot");function Jk(n){const e=b.forwardRef((t,r)=>{const{children:s,...i}=t;if(b.isValidElement(s)){const l=r2(s),u=n2(i,s.props);return s.type!==b.Fragment&&(u.ref=r?sp(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Fx=Symbol("radix.slottable");function e2(n){const e=({children:t})=>w.jsx(w.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=Fx,e}function t2(n){return b.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Fx}function n2(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...u)=>{const h=i(...u);return s(...u),h}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function r2(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function jx(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=jx(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function zx(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=jx(n))&&(r&&(r+=" "),r+=e);return r}const wE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,EE=zx,ip=(n,e)=>t=>{var r;if(e?.variants==null)return EE(n,t?.class,t?.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(p=>{const y=t?.[p],m=i?.[p];if(y===null)return null;const E=wE(y)||wE(m);return s[p][E]}),u=t&&Object.entries(t).reduce((p,y)=>{let[m,E]=y;return E===void 0||(p[m]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:m,className:E,...x}=y;return Object.entries(x).every(A=>{let[C,R]=A;return Array.isArray(R)?R.includes({...i,...u}[C]):{...i,...u}[C]===R})?[...p,m,E]:p},[]);return EE(n,l,h,t?.class,t?.className)};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o2=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),bE=n=>{const e=o2(n);return e.charAt(0).toUpperCase()+e.slice(1)},Ux=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...u},h)=>b.createElement("svg",{ref:h,...i2,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Ux("lucide",s),...u},[...l.map(([p,y])=>b.createElement(p,y)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(n,e)=>{const t=b.forwardRef(({className:r,...s},i)=>b.createElement(a2,{ref:i,iconNode:e,className:Ux(`lucide-${s2(bE(n))}`,`lucide-${n}`,r),...s}));return t.displayName=bE(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],c2=rt("bell",l2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$x=rt("check",u2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],h2=rt("chevron-down",d2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],p2=rt("chevron-right",f2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],g2=rt("chevron-up",m2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],v2=rt("circle-help",y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],w2=rt("circle",_2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],fv=rt("clipboard-list",E2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],S2=rt("clock",b2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],I2=rt("command",x2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],C2=rt("eye-off",T2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],A2=rt("eye",P2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],k2=rt("factory",R2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],D2=rt("landmark",N2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],M2=rt("layout-dashboard",O2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gf=rt("loader-circle",V2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],SE=rt("lock",L2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],j2=rt("log-out",F2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],U2=rt("mail",z2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],B2=rt("moon",$2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ap=rt("package",q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],W2=rt("panel-left-close",H2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],K2=rt("panel-left",G2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Q2=rt("receipt",Z2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],X2=rt("refresh-cw",Y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],eN=rt("search-x",J2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],yf=rt("search",tN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rN=rt("settings",nN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oN=rt("shield",sN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],pv=rt("shopping-cart",iN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],lN=rt("sun",aN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uN=rt("triangle-alert",cN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],mv=rt("truck",dN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],fN=rt("user-check",hN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dy=rt("user",pN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Bx=rt("users",mN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],yN=rt("wallet",gN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],_N=rt("warehouse",vN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gv=rt("x",wN),Ag=768;function EN(){const[n,e]=b.useState(void 0);return b.useEffect(()=>{const t=window.matchMedia(`(max-width: ${Ag-1}px)`),r=()=>{e(window.innerWidth<Ag)};return t.addEventListener("change",r),e(window.innerWidth<Ag),()=>t.removeEventListener("change",r)},[]),!!n}const yv="-",bN=n=>{const e=xN(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(yv);return u[0]===""&&u.length!==1&&u.shift(),qx(u,e)||SN(l)},getConflictingClassGroupIds:(l,u)=>{const h=t[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},qx=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?qx(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(yv);return e.validators.find(({validator:l})=>l(i))?.classGroupId},xE=/^\[(.+)\]$/,SN=n=>{if(xE.test(n)){const e=xE.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},xN=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)hy(t[s],r,s,e);return r},hy=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:IE(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(IN(s)){hy(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,l])=>{hy(l,IE(e,i),t,r)})})},IE=(n,e)=>{let t=n;return e.split(yv).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},IN=n=>n.isThemeGetter,TN=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,l)=>{t.set(i,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let l=t.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){t.has(i)?t.set(i,l):s(i,l)}}},fy="!",py=":",CN=py.length,PN=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const i=[];let l=0,u=0,h=0,p;for(let A=0;A<s.length;A++){let C=s[A];if(l===0&&u===0){if(C===py){i.push(s.slice(h,A)),h=A+CN;continue}if(C==="/"){p=A;continue}}C==="["?l++:C==="]"?l--:C==="("?u++:C===")"&&u--}const y=i.length===0?s:s.substring(h),m=AN(y),E=m!==y,x=p&&p>h?p-h:void 0;return{modifiers:i,hasImportantModifier:E,baseClassName:m,maybePostfixModifierPosition:x}};if(e){const s=e+py,i=r;r=l=>l.startsWith(s)?i(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=i=>t({className:i,parseClassName:s})}return r},AN=n=>n.endsWith(fy)?n.substring(0,n.length-1):n.startsWith(fy)?n.substring(1):n,RN=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...i.sort(),l),i=[]):i.push(l)}),s.push(...i.sort()),s}},kN=n=>({cache:TN(n.cacheSize),parseClassName:PN(n),sortModifiers:RN(n),...bN(n)}),NN=/\s+/,DN=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,l=[],u=n.trim().split(NN);let h="";for(let p=u.length-1;p>=0;p-=1){const y=u[p],{isExternal:m,modifiers:E,hasImportantModifier:x,baseClassName:A,maybePostfixModifierPosition:C}=t(y);if(m){h=y+(h.length>0?" "+h:h);continue}let R=!!C,D=r(R?A.substring(0,C):A);if(!D){if(!R){h=y+(h.length>0?" "+h:h);continue}if(D=r(A),!D){h=y+(h.length>0?" "+h:h);continue}R=!1}const M=i(E).join(":"),z=x?M+fy:M,U=z+D;if(l.includes(U))continue;l.push(U);const $=s(D,R);for(let K=0;K<$.length;++K){const P=$[K];l.push(z+P)}h=y+(h.length>0?" "+h:h)}return h};function ON(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Hx(e))&&(r&&(r+=" "),r+=t);return r}const Hx=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Hx(n[r]))&&(t&&(t+=" "),t+=e);return t};function MN(n,...e){let t,r,s,i=l;function l(h){const p=e.reduce((y,m)=>m(y),n());return t=kN(p),r=t.cache.get,s=t.cache.set,i=u,u(h)}function u(h){const p=r(h);if(p)return p;const y=DN(h,t);return s(h,y),y}return function(){return i(ON.apply(null,arguments))}}const cn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Wx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Gx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VN=/^\d+\/\d+$/,LN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ml=n=>VN.test(n),et=n=>!!n&&!Number.isNaN(Number(n)),Wo=n=>!!n&&Number.isInteger(Number(n)),Rg=n=>n.endsWith("%")&&et(n.slice(0,-1)),ro=n=>LN.test(n),$N=()=>!0,BN=n=>FN.test(n)&&!jN.test(n),Kx=()=>!1,qN=n=>zN.test(n),HN=n=>UN.test(n),WN=n=>!ke(n)&&!Ne(n),GN=n=>sc(n,Yx,Kx),ke=n=>Wx.test(n),Zi=n=>sc(n,Xx,BN),kg=n=>sc(n,XN,et),TE=n=>sc(n,Zx,Kx),KN=n=>sc(n,Qx,HN),Ph=n=>sc(n,Jx,qN),Ne=n=>Gx.test(n),ru=n=>oc(n,Xx),ZN=n=>oc(n,JN),CE=n=>oc(n,Zx),QN=n=>oc(n,Yx),YN=n=>oc(n,Qx),Ah=n=>oc(n,Jx,!0),sc=(n,e,t)=>{const r=Wx.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},oc=(n,e,t=!1)=>{const r=Gx.exec(n);return r?r[1]?e(r[1]):t:!1},Zx=n=>n==="position"||n==="percentage",Qx=n=>n==="image"||n==="url",Yx=n=>n==="length"||n==="size"||n==="bg-size",Xx=n=>n==="length",XN=n=>n==="number",JN=n=>n==="family-name",Jx=n=>n==="shadow",eD=()=>{const n=cn("color"),e=cn("font"),t=cn("text"),r=cn("font-weight"),s=cn("tracking"),i=cn("leading"),l=cn("breakpoint"),u=cn("container"),h=cn("spacing"),p=cn("radius"),y=cn("shadow"),m=cn("inset-shadow"),E=cn("text-shadow"),x=cn("drop-shadow"),A=cn("blur"),C=cn("perspective"),R=cn("aspect"),D=cn("ease"),M=cn("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...U(),Ne,ke],K=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],T=()=>[Ne,ke,h],N=()=>[ml,"full","auto",...T()],V=()=>[Wo,"none","subgrid",Ne,ke],F=()=>["auto",{span:["full",Wo,Ne,ke]},Wo,Ne,ke],B=()=>[Wo,"auto",Ne,ke],O=()=>["auto","min","max","fr",Ne,ke],Te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Be=()=>["start","end","center","stretch","center-safe","end-safe"],ve=()=>["auto",...T()],Ee=()=>[ml,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],W=()=>[n,Ne,ke],ne=()=>[...U(),CE,TE,{position:[Ne,ke]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",QN,GN,{size:[Ne,ke]}],G=()=>[Rg,ru,Zi],se=()=>["","none","full",p,Ne,ke],ie=()=>["",et,ru,Zi],fe=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[et,Rg,CE,TE],be=()=>["","none",A,Ne,ke],Ge=()=>["none",et,Ne,ke],Ke=()=>["none",et,Ne,ke],ye=()=>[et,Ne,ke],St=()=>[ml,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ro],breakpoint:[ro],color:[$N],container:[ro],"drop-shadow":[ro],ease:["in","out","in-out"],font:[WN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ro],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ro],shadow:[ro],spacing:["px",et],text:[ro],"text-shadow":[ro],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ml,ke,Ne,R]}],container:["container"],columns:[{columns:[et,ke,Ne,u]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Wo,"auto",Ne,ke]}],basis:[{basis:[ml,"full","auto",u,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,ml,"auto","initial","none",ke]}],grow:[{grow:["",et,Ne,ke]}],shrink:[{shrink:["",et,Ne,ke]}],order:[{order:[Wo,"first","last","none",Ne,ke]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...Te(),"normal"]}],"justify-items":[{"justify-items":[...Be(),"normal"]}],"justify-self":[{"justify-self":["auto",...Be()]}],"align-content":[{content:["normal",...Te()]}],"align-items":[{items:[...Be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Be(),{baseline:["","last"]}]}],"place-content":[{"place-content":Te()}],"place-items":[{"place-items":[...Be(),"baseline"]}],"place-self":[{"place-self":["auto",...Be()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:ve()}],mx:[{mx:ve()}],my:[{my:ve()}],ms:[{ms:ve()}],me:[{me:ve()}],mt:[{mt:ve()}],mr:[{mr:ve()}],mb:[{mb:ve()}],ml:[{ml:ve()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ee()}],w:[{w:[u,"screen",...Ee()]}],"min-w":[{"min-w":[u,"screen","none",...Ee()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Ee()]}],h:[{h:["screen","lh",...Ee()]}],"min-h":[{"min-h":["screen","lh","none",...Ee()]}],"max-h":[{"max-h":["screen","lh",...Ee()]}],"font-size":[{text:["base",t,ru,Zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,kg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rg,ke]}],"font-family":[{font:[ZN,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,ke]}],"line-clamp":[{"line-clamp":[et,"none",Ne,kg]}],leading:[{leading:[i,...T()]}],"list-image":[{"list-image":["none",Ne,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",Ne,Zi]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[et,"auto",Ne,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wo,Ne,ke],radial:["",Ne,ke],conic:[Wo,Ne,ke]},YN,KN]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,Ne,ke]}],"outline-w":[{outline:["",et,ru,Zi]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",y,Ah,Ph]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",m,Ah,Ph]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[et,Zi]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",E,Ah,Ph]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[et,Ne,ke]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Ne,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,ke]}],filter:[{filter:["","none",Ne,ke]}],blur:[{blur:be()}],brightness:[{brightness:[et,Ne,ke]}],contrast:[{contrast:[et,Ne,ke]}],"drop-shadow":[{"drop-shadow":["","none",x,Ah,Ph]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",et,Ne,ke]}],"hue-rotate":[{"hue-rotate":[et,Ne,ke]}],invert:[{invert:["",et,Ne,ke]}],saturate:[{saturate:[et,Ne,ke]}],sepia:[{sepia:["",et,Ne,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,ke]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[et,Ne,ke]}],"backdrop-contrast":[{"backdrop-contrast":[et,Ne,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,Ne,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,Ne,ke]}],"backdrop-invert":[{"backdrop-invert":["",et,Ne,ke]}],"backdrop-opacity":[{"backdrop-opacity":[et,Ne,ke]}],"backdrop-saturate":[{"backdrop-saturate":[et,Ne,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",et,Ne,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",Ne,ke]}],ease:[{ease:["linear","initial",D,Ne,ke]}],delay:[{delay:[et,Ne,ke]}],animate:[{animate:["none",M,Ne,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ne,ke]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:Ke()}],"scale-x":[{"scale-x":Ke()}],"scale-y":[{"scale-y":Ke()}],"scale-z":[{"scale-z":Ke()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[Ne,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:St()}],"translate-x":[{"translate-x":St()}],"translate-y":[{"translate-y":St()}],"translate-z":[{"translate-z":St()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,ke]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[et,ru,Zi,kg]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tD=MN(eD);function $e(...n){return tD(zx(n))}const nD=ip("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function ku({className:n,variant:e,size:t,asChild:r=!1,...s}){const i=r?op:"button";return w.jsx(i,{"data-slot":"button",className:$e(nD({variant:e,size:t,className:n})),...s})}function fu({className:n,type:e,...t}){return w.jsx("input",{type:e,"data-slot":"input",className:$e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var vv=Vx();const eI=Mx(vv);var rD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ft=rD.reduce((n,e)=>{const t=Ul(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(h,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function tI(n,e){n&&vv.flushSync(()=>n.dispatchEvent(e))}var sD="Separator",PE="horizontal",oD=["horizontal","vertical"],nI=b.forwardRef((n,e)=>{const{decorative:t,orientation:r=PE,...s}=n,i=iD(r)?r:PE,u=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return w.jsx(ft.div,{"data-orientation":i,...u,...s,ref:e})});nI.displayName=sD;function iD(n){return oD.includes(n)}var aD=nI;function lD({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return w.jsx(aD,{"data-slot":"separator-root",decorative:t,orientation:e,className:$e("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function Le(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function cD(n,e){const t=b.createContext(e),r=i=>{const{children:l,...u}=i,h=b.useMemo(()=>u,Object.values(u));return w.jsx(t.Provider,{value:h,children:l})};r.displayName=n+"Provider";function s(i){const l=b.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function Ls(n,e=[]){let t=[];function r(i,l){const u=b.createContext(l),h=t.length;t=[...t,l];const p=m=>{const{scope:E,children:x,...A}=m,C=E?.[n]?.[h]||u,R=b.useMemo(()=>A,Object.values(A));return w.jsx(C.Provider,{value:R,children:x})};p.displayName=i+"Provider";function y(m,E){const x=E?.[n]?.[h]||u,A=b.useContext(x);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[p,y]}const s=()=>{const i=t.map(l=>b.createContext(l));return function(u){const h=u?.[n]||i;return b.useMemo(()=>({[`__scope${n}`]:{...u,[n]:h}}),[u,h])}};return s.scopeName=n,[r,uD(s,...e)]}function uD(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const m=h(i)[`__scope${p}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var lo=globalThis?.document?b.useLayoutEffect:()=>{},dD=Lx[" useId ".trim().toString()]||(()=>{}),hD=0;function oa(n){const[e,t]=b.useState(dD());return lo(()=>{t(r=>r??String(hD++))},[n]),e?`radix-${e}`:""}var fD=Lx[" useInsertionEffect ".trim().toString()]||lo;function ic({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,l]=pD({defaultProp:e,onChange:t}),u=n!==void 0,h=u?n:s;{const y=b.useRef(n!==void 0);b.useEffect(()=>{const m=y.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=u},[u,r])}const p=b.useCallback(y=>{if(u){const m=mD(y)?y(n):y;m!==n&&l.current?.(m)}else i(y)},[u,n,i,l]);return[h,p]}function pD({defaultProp:n,onChange:e}){const[t,r]=b.useState(n),s=b.useRef(t),i=b.useRef(e);return fD(()=>{i.current=e},[e]),b.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,r,i]}function mD(n){return typeof n=="function"}function Dn(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}function gD(n,e=globalThis?.document){const t=Dn(n);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var yD="DismissableLayer",my="dismissableLayer.update",vD="dismissableLayer.pointerDownOutside",_D="dismissableLayer.focusOutside",AE,rI=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lp=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...h}=n,p=b.useContext(rI),[y,m]=b.useState(null),E=y?.ownerDocument??globalThis?.document,[,x]=b.useState({}),A=wt(e,P=>m(P)),C=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),D=C.indexOf(R),M=y?C.indexOf(y):-1,z=p.layersWithOutsidePointerEventsDisabled.size>0,U=M>=D,$=bD(P=>{const T=P.target,N=[...p.branches].some(V=>V.contains(T));!U||N||(s?.(P),l?.(P),P.defaultPrevented||u?.())},E),K=SD(P=>{const T=P.target;[...p.branches].some(V=>V.contains(T))||(i?.(P),l?.(P),P.defaultPrevented||u?.())},E);return gD(P=>{M===p.layers.size-1&&(r?.(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},E),b.useEffect(()=>{if(y)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(AE=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),RE(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=AE)}},[y,E,t,p]),b.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),RE())},[y,p]),b.useEffect(()=>{const P=()=>x({});return document.addEventListener(my,P),()=>document.removeEventListener(my,P)},[]),w.jsx(ft.div,{...h,ref:A,style:{pointerEvents:z?U?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,K.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,K.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,$.onPointerDownCapture)})});lp.displayName=yD;var wD="DismissableLayerBranch",ED=b.forwardRef((n,e)=>{const t=b.useContext(rI),r=b.useRef(null),s=wt(e,r);return b.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),w.jsx(ft.div,{...n,ref:s})});ED.displayName=wD;function bD(n,e=globalThis?.document){const t=Dn(n),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let h=function(){sI(vD,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function SD(n,e=globalThis?.document){const t=Dn(n),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&sI(_D,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function RE(){const n=new CustomEvent(my);document.dispatchEvent(n)}function sI(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?tI(s,i):s.dispatchEvent(i)}var Ng="focusScope.autoFocusOnMount",Dg="focusScope.autoFocusOnUnmount",kE={bubbles:!1,cancelable:!0},xD="FocusScope",_v=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=n,[u,h]=b.useState(null),p=Dn(s),y=Dn(i),m=b.useRef(null),E=wt(e,C=>h(C)),x=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let C=function(z){if(x.paused||!u)return;const U=z.target;u.contains(U)?m.current=U:Xo(m.current,{select:!0})},R=function(z){if(x.paused||!u)return;const U=z.relatedTarget;U!==null&&(u.contains(U)||Xo(m.current,{select:!0}))},D=function(z){if(document.activeElement===document.body)for(const $ of z)$.removedNodes.length>0&&Xo(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",R);const M=new MutationObserver(D);return u&&M.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",R),M.disconnect()}}},[r,u,x.paused]),b.useEffect(()=>{if(u){DE.add(x);const C=document.activeElement;if(!u.contains(C)){const D=new CustomEvent(Ng,kE);u.addEventListener(Ng,p),u.dispatchEvent(D),D.defaultPrevented||(ID(RD(oI(u)),{select:!0}),document.activeElement===C&&Xo(u))}return()=>{u.removeEventListener(Ng,p),setTimeout(()=>{const D=new CustomEvent(Dg,kE);u.addEventListener(Dg,y),u.dispatchEvent(D),D.defaultPrevented||Xo(C??document.body,{select:!0}),u.removeEventListener(Dg,y),DE.remove(x)},0)}}},[u,p,y,x]);const A=b.useCallback(C=>{if(!t&&!r||x.paused)return;const R=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,D=document.activeElement;if(R&&D){const M=C.currentTarget,[z,U]=TD(M);z&&U?!C.shiftKey&&D===U?(C.preventDefault(),t&&Xo(z,{select:!0})):C.shiftKey&&D===z&&(C.preventDefault(),t&&Xo(U,{select:!0})):D===M&&C.preventDefault()}},[t,r,x.paused]);return w.jsx(ft.div,{tabIndex:-1,...l,ref:E,onKeyDown:A})});_v.displayName=xD;function ID(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Xo(r,{select:e}),document.activeElement!==t)return}function TD(n){const e=oI(n),t=NE(e,n),r=NE(e.reverse(),n);return[t,r]}function oI(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function NE(n,e){for(const t of n)if(!CD(t,{upTo:e}))return t}function CD(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function PD(n){return n instanceof HTMLInputElement&&"select"in n}function Xo(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&PD(n)&&e&&n.select()}}var DE=AD();function AD(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=OE(n,e),n.unshift(e)},remove(e){n=OE(n,e),n[0]?.resume()}}}function OE(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function RD(n){return n.filter(e=>e.tagName!=="A")}var kD="Portal",cp=b.forwardRef((n,e)=>{const{container:t,...r}=n,[s,i]=b.useState(!1);lo(()=>i(!0),[]);const l=t||s&&globalThis?.document?.body;return l?eI.createPortal(w.jsx(ft.div,{...r,ref:e}),l):null});cp.displayName=kD;function ND(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Un=n=>{const{present:e,children:t}=n,r=DD(e),s=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),i=wt(r.ref,OD(s));return typeof t=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};Un.displayName="Presence";function DD(n){const[e,t]=b.useState(),r=b.useRef(null),s=b.useRef(n),i=b.useRef("none"),l=n?"mounted":"unmounted",[u,h]=ND(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Rh(r.current);i.current=u==="mounted"?p:"none"},[u]),lo(()=>{const p=r.current,y=s.current;if(y!==n){const E=i.current,x=Rh(p);n?h("MOUNT"):x==="none"||p?.display==="none"?h("UNMOUNT"):h(y&&E!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),lo(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,m=x=>{const C=Rh(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&C&&(h("ANIMATION_END"),!s.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},E=x=>{x.target===e&&(i.current=Rh(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Rh(n){return n?.animationName||"none"}function OD(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Og=0;function iI(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??ME()),document.body.insertAdjacentElement("beforeend",n[1]??ME()),Og++,()=>{Og===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Og--}},[])}function ME(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ts=function(){return Ts=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ts.apply(this,arguments)};function aI(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function MD(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var Yh="right-scroll-bar-position",Xh="width-before-scroll-bar",VD="with-scroll-bars-hidden",LD="--removed-body-scroll-bar-size";function Mg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function FD(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var jD=typeof window<"u"?b.useLayoutEffect:b.useEffect,VE=new WeakMap;function zD(n,e){var t=FD(null,function(r){return n.forEach(function(s){return Mg(s,r)})});return jD(function(){var r=VE.get(t);if(r){var s=new Set(r),i=new Set(n),l=t.current;s.forEach(function(u){i.has(u)||Mg(u,null)}),i.forEach(function(u){s.has(u)||Mg(u,l)})}VE.set(t,n)},[n]),t}function UD(n){return n}function $D(n,e){e===void 0&&(e=UD);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var l=e(i,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(r=!0;t.length;){var l=t;t=[],l.forEach(i)}t={push:function(u){return i(u)},filter:function(){return t}}},assignMedium:function(i){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(i),l=t}var h=function(){var y=l;l=[],y.forEach(i)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(y){l.push(y),p()},filter:function(y){return l=l.filter(y),t}}}};return s}function BD(n){n===void 0&&(n={});var e=$D(null);return e.options=Ts({async:!0,ssr:!1},n),e}var lI=function(n){var e=n.sideCar,t=aI(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ts({},t))};lI.isSideCarExport=!0;function qD(n,e){return n.useMedium(e),lI}var cI=BD(),Vg=function(){},up=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:Vg,onWheelCapture:Vg,onTouchMoveCapture:Vg}),s=r[0],i=r[1],l=n.forwardProps,u=n.children,h=n.className,p=n.removeScrollBar,y=n.enabled,m=n.shards,E=n.sideCar,x=n.noRelative,A=n.noIsolation,C=n.inert,R=n.allowPinchZoom,D=n.as,M=D===void 0?"div":D,z=n.gapMode,U=aI(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=E,K=zD([t,e]),P=Ts(Ts({},U),s);return b.createElement(b.Fragment,null,y&&b.createElement($,{sideCar:cI,removeScrollBar:p,shards:m,noRelative:x,noIsolation:A,inert:C,setCallbacks:i,allowPinchZoom:!!R,lockRef:t,gapMode:z}),l?b.cloneElement(b.Children.only(u),Ts(Ts({},P),{ref:K})):b.createElement(M,Ts({},P,{className:h,ref:K}),u))});up.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};up.classNames={fullWidth:Xh,zeroRight:Yh};var HD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WD(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=HD();return e&&n.setAttribute("nonce",e),n}function GD(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function KD(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var ZD=function(){var n=0,e=null;return{add:function(t){n==0&&(e=WD())&&(GD(e,t),KD(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},QD=function(){var n=ZD();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},uI=function(){var n=QD(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},YD={left:0,top:0,right:0,gap:0},Lg=function(n){return parseInt(n||"",10)||0},XD=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[Lg(t),Lg(r),Lg(s)]},JD=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return YD;var e=XD(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},eO=uI(),Nl="data-scroll-locked",tO=function(n,e,t,r){var s=n.left,i=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(VD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Nl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Xh,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Yh," .").concat(Yh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xh," .").concat(Xh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Nl,`] {
    `).concat(LD,": ").concat(u,`px;
  }
`)},LE=function(){var n=parseInt(document.body.getAttribute(Nl)||"0",10);return isFinite(n)?n:0},nO=function(){b.useEffect(function(){return document.body.setAttribute(Nl,(LE()+1).toString()),function(){var n=LE()-1;n<=0?document.body.removeAttribute(Nl):document.body.setAttribute(Nl,n.toString())}},[])},rO=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;nO();var i=b.useMemo(function(){return JD(s)},[s]);return b.createElement(eO,{styles:tO(i,!e,s,t?"":"!important")})},gy=!1;if(typeof window<"u")try{var kh=Object.defineProperty({},"passive",{get:function(){return gy=!0,!0}});window.addEventListener("test",kh,kh),window.removeEventListener("test",kh,kh)}catch{gy=!1}var gl=gy?{passive:!1}:!1,sO=function(n){return n.tagName==="TEXTAREA"},dI=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!sO(n)&&t[e]==="visible")},oO=function(n){return dI(n,"overflowY")},iO=function(n){return dI(n,"overflowX")},FE=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=hI(n,r);if(s){var i=fI(n,r),l=i[1],u=i[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},aO=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},lO=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},hI=function(n,e){return n==="v"?oO(e):iO(e)},fI=function(n,e){return n==="v"?aO(e):lO(e)},cO=function(n,e){return n==="h"&&e==="rtl"?-1:1},uO=function(n,e,t,r,s){var i=cO(n,window.getComputedStyle(e).direction),l=i*r,u=t.target,h=e.contains(u),p=!1,y=l>0,m=0,E=0;do{if(!u)break;var x=fI(n,u),A=x[0],C=x[1],R=x[2],D=C-R-i*A;(A||D)&&hI(n,u)&&(m+=D,E+=A);var M=u.parentNode;u=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(y&&Math.abs(m)<1||!y&&Math.abs(E)<1)&&(p=!0),p},Nh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},jE=function(n){return[n.deltaX,n.deltaY]},zE=function(n){return n&&"current"in n?n.current:n},dO=function(n,e){return n[0]===e[0]&&n[1]===e[1]},hO=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},fO=0,yl=[];function pO(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),s=b.useState(fO++)[0],i=b.useState(uI)[0],l=b.useRef(n);b.useEffect(function(){l.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var C=MD([n.lockRef.current],(n.shards||[]).map(zE),!0).filter(Boolean);return C.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var u=b.useCallback(function(C,R){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var D=Nh(C),M=t.current,z="deltaX"in C?C.deltaX:M[0]-D[0],U="deltaY"in C?C.deltaY:M[1]-D[1],$,K=C.target,P=Math.abs(z)>Math.abs(U)?"h":"v";if("touches"in C&&P==="h"&&K.type==="range")return!1;var T=FE(P,K);if(!T)return!0;if(T?$=P:($=P==="v"?"h":"v",T=FE(P,K)),!T)return!1;if(!r.current&&"changedTouches"in C&&(z||U)&&(r.current=$),!$)return!0;var N=r.current||$;return uO(N,R,C,N==="h"?z:U)},[]),h=b.useCallback(function(C){var R=C;if(!(!yl.length||yl[yl.length-1]!==i)){var D="deltaY"in R?jE(R):Nh(R),M=e.current.filter(function($){return $.name===R.type&&($.target===R.target||R.target===$.shadowParent)&&dO($.delta,D)})[0];if(M&&M.should){R.cancelable&&R.preventDefault();return}if(!M){var z=(l.current.shards||[]).map(zE).filter(Boolean).filter(function($){return $.contains(R.target)}),U=z.length>0?u(R,z[0]):!l.current.noIsolation;U&&R.cancelable&&R.preventDefault()}}},[]),p=b.useCallback(function(C,R,D,M){var z={name:C,delta:R,target:D,should:M,shadowParent:mO(D)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(U){return U!==z})},1)},[]),y=b.useCallback(function(C){t.current=Nh(C),r.current=void 0},[]),m=b.useCallback(function(C){p(C.type,jE(C),C.target,u(C,n.lockRef.current))},[]),E=b.useCallback(function(C){p(C.type,Nh(C),C.target,u(C,n.lockRef.current))},[]);b.useEffect(function(){return yl.push(i),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:E}),document.addEventListener("wheel",h,gl),document.addEventListener("touchmove",h,gl),document.addEventListener("touchstart",y,gl),function(){yl=yl.filter(function(C){return C!==i}),document.removeEventListener("wheel",h,gl),document.removeEventListener("touchmove",h,gl),document.removeEventListener("touchstart",y,gl)}},[]);var x=n.removeScrollBar,A=n.inert;return b.createElement(b.Fragment,null,A?b.createElement(i,{styles:hO(s)}):null,x?b.createElement(rO,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function mO(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const gO=qD(cI,pO);var wv=b.forwardRef(function(n,e){return b.createElement(up,Ts({},n,{ref:e,sideCar:gO}))});wv.classNames=up.classNames;var yO=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},vl=new WeakMap,Dh=new WeakMap,Oh={},Fg=0,pI=function(n){return n&&(n.host||pI(n.parentNode))},vO=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=pI(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},_O=function(n,e,t,r){var s=vO(e,Array.isArray(n)?n:[n]);Oh[t]||(Oh[t]=new WeakMap);var i=Oh[t],l=[],u=new Set,h=new Set(s),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};s.forEach(p);var y=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(E){if(u.has(E))y(E);else try{var x=E.getAttribute(r),A=x!==null&&x!=="false",C=(vl.get(E)||0)+1,R=(i.get(E)||0)+1;vl.set(E,C),i.set(E,R),l.push(E),C===1&&A&&Dh.set(E,!0),R===1&&E.setAttribute(t,"true"),A||E.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",E,D)}})};return y(e),u.clear(),Fg++,function(){l.forEach(function(m){var E=vl.get(m)-1,x=i.get(m)-1;vl.set(m,E),i.set(m,x),E||(Dh.has(m)||m.removeAttribute(r),Dh.delete(m)),x||m.removeAttribute(t)}),Fg--,Fg||(vl=new WeakMap,vl=new WeakMap,Dh=new WeakMap,Oh={})}},mI=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=yO(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),_O(r,s,t,"aria-hidden")):function(){return null}},dp="Dialog",[gI]=Ls(dp),[wO,ns]=gI(dp),yI=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=n,u=b.useRef(null),h=b.useRef(null),[p,y]=ic({prop:r,defaultProp:s??!1,onChange:i,caller:dp});return w.jsx(wO,{scope:e,triggerRef:u,contentRef:h,contentId:oa(),titleId:oa(),descriptionId:oa(),open:p,onOpenChange:y,onOpenToggle:b.useCallback(()=>y(m=>!m),[y]),modal:l,children:t})};yI.displayName=dp;var vI="DialogTrigger",_I=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ns(vI,t),i=wt(e,s.triggerRef);return w.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Sv(s.open),...r,ref:i,onClick:Le(n.onClick,s.onOpenToggle)})});_I.displayName=vI;var Ev="DialogPortal",[EO,wI]=gI(Ev,{forceMount:void 0}),EI=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=ns(Ev,e);return w.jsx(EO,{scope:e,forceMount:t,children:b.Children.map(r,l=>w.jsx(Un,{present:t||i.open,children:w.jsx(cp,{asChild:!0,container:s,children:l})}))})};EI.displayName=Ev;var vf="DialogOverlay",bI=b.forwardRef((n,e)=>{const t=wI(vf,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=ns(vf,n.__scopeDialog);return i.modal?w.jsx(Un,{present:r||i.open,children:w.jsx(SO,{...s,ref:e})}):null});bI.displayName=vf;var bO=Ul("DialogOverlay.RemoveScroll"),SO=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ns(vf,t);return w.jsx(wv,{as:bO,allowPinchZoom:!0,shards:[s.contentRef],children:w.jsx(ft.div,{"data-state":Sv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ha="DialogContent",SI=b.forwardRef((n,e)=>{const t=wI(ha,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=ns(ha,n.__scopeDialog);return w.jsx(Un,{present:r||i.open,children:i.modal?w.jsx(xO,{...s,ref:e}):w.jsx(IO,{...s,ref:e})})});SI.displayName=ha;var xO=b.forwardRef((n,e)=>{const t=ns(ha,n.__scopeDialog),r=b.useRef(null),s=wt(e,t.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return mI(i)},[]),w.jsx(xI,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(n.onCloseAutoFocus,i=>{i.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Le(n.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Le(n.onFocusOutside,i=>i.preventDefault())})}),IO=b.forwardRef((n,e)=>{const t=ns(ha,n.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return w.jsx(xI,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{n.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{n.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;t.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),xI=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=n,u=ns(ha,t),h=b.useRef(null),p=wt(e,h);return iI(),w.jsxs(w.Fragment,{children:[w.jsx(_v,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:w.jsx(lp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Sv(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(TO,{titleId:u.titleId}),w.jsx(PO,{contentRef:h,descriptionId:u.descriptionId})]})]})}),bv="DialogTitle",II=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ns(bv,t);return w.jsx(ft.h2,{id:s.titleId,...r,ref:e})});II.displayName=bv;var TI="DialogDescription",CI=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ns(TI,t);return w.jsx(ft.p,{id:s.descriptionId,...r,ref:e})});CI.displayName=TI;var PI="DialogClose",AI=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ns(PI,t);return w.jsx(ft.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,()=>s.onOpenChange(!1))})});AI.displayName=PI;function Sv(n){return n?"open":"closed"}var RI="DialogTitleWarning",[eH,kI]=cD(RI,{contentName:ha,titleName:bv,docsSlug:"dialog"}),TO=({titleId:n})=>{const e=kI(RI),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},CO="DialogDescriptionWarning",PO=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kI(CO).contentName}}.`;return b.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},NI=yI,AO=_I,DI=EI,xv=bI,Iv=SI,Tv=II,Cv=CI,OI=AI;const RO=NI,kO=DI,MI=b.forwardRef(({className:n,...e},t)=>w.jsx(xv,{className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));MI.displayName=xv.displayName;const NO=ip("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),VI=b.forwardRef(({side:n="right",className:e,children:t,...r},s)=>w.jsxs(kO,{children:[w.jsx(MI,{}),w.jsxs(Iv,{ref:s,className:$e(NO({side:n}),e),...r,children:[t,w.jsxs(OI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[w.jsx(gv,{className:"h-4 w-4"}),w.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));VI.displayName=Iv.displayName;const LI=({className:n,...e})=>w.jsx("div",{className:$e("flex flex-col space-y-2 text-center sm:text-left",n),...e});LI.displayName="SheetHeader";const FI=b.forwardRef(({className:n,...e},t)=>w.jsx(Tv,{ref:t,className:$e("text-lg font-semibold text-foreground",n),...e}));FI.displayName=Tv.displayName;const jI=b.forwardRef(({className:n,...e},t)=>w.jsx(Cv,{ref:t,className:$e("text-sm text-muted-foreground",n),...e}));jI.displayName=Cv.displayName;const DO=["top","right","bottom","left"],pi=Math.min,fr=Math.max,_f=Math.round,Mh=Math.floor,Ns=n=>({x:n,y:n}),OO={left:"right",right:"left",bottom:"top",top:"bottom"},MO={start:"end",end:"start"};function yy(n,e,t){return fr(n,pi(e,t))}function co(n,e){return typeof n=="function"?n(e):n}function uo(n){return n.split("-")[0]}function ac(n){return n.split("-")[1]}function Pv(n){return n==="x"?"y":"x"}function Av(n){return n==="y"?"height":"width"}const VO=new Set(["top","bottom"]);function As(n){return VO.has(uo(n))?"y":"x"}function Rv(n){return Pv(As(n))}function LO(n,e,t){t===void 0&&(t=!1);const r=ac(n),s=Rv(n),i=Av(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=wf(l)),[l,wf(l)]}function FO(n){const e=wf(n);return[vy(n),e,vy(e)]}function vy(n){return n.replace(/start|end/g,e=>MO[e])}const UE=["left","right"],$E=["right","left"],jO=["top","bottom"],zO=["bottom","top"];function UO(n,e,t){switch(n){case"top":case"bottom":return t?e?$E:UE:e?UE:$E;case"left":case"right":return e?jO:zO;default:return[]}}function $O(n,e,t,r){const s=ac(n);let i=UO(uo(n),t==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(vy)))),i}function wf(n){return n.replace(/left|right|bottom|top/g,e=>OO[e])}function BO(n){return{top:0,right:0,bottom:0,left:0,...n}}function zI(n){return typeof n!="number"?BO(n):{top:n,right:n,bottom:n,left:n}}function Ef(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function BE(n,e,t){let{reference:r,floating:s}=n;const i=As(e),l=Rv(e),u=Av(l),h=uo(e),p=i==="y",y=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,E=r[u]/2-s[u]/2;let x;switch(h){case"top":x={x:y,y:r.y-s.height};break;case"bottom":x={x:y,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-s.width,y:m};break;default:x={x:r.x,y:r.y}}switch(ac(e)){case"start":x[l]-=E*(t&&p?-1:1);break;case"end":x[l]+=E*(t&&p?-1:1);break}return x}const qO=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=t,u=i.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:y,y:m}=BE(p,r,h),E=r,x={},A=0;for(let C=0;C<u.length;C++){const{name:R,fn:D}=u[C],{x:M,y:z,data:U,reset:$}=await D({x:y,y:m,initialPlacement:r,placement:E,strategy:s,middlewareData:x,rects:p,platform:l,elements:{reference:n,floating:e}});y=M??y,m=z??m,x={...x,[R]:{...x[R],...U}},$&&A<=50&&(A++,typeof $=="object"&&($.placement&&(E=$.placement),$.rects&&(p=$.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):$.rects),{x:y,y:m}=BE(p,E,h)),C=-1)}return{x:y,y:m,placement:E,strategy:s,middlewareData:x}};async function Nu(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:u,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:m="floating",altBoundary:E=!1,padding:x=0}=co(e,n),A=zI(x),R=u[E?m==="floating"?"reference":"floating":m],D=Ef(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(R)))==null||t?R:R.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:p,rootBoundary:y,strategy:h})),M=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,z=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),U=await(i.isElement==null?void 0:i.isElement(z))?await(i.getScale==null?void 0:i.getScale(z))||{x:1,y:1}:{x:1,y:1},$=Ef(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:z,strategy:h}):M);return{top:(D.top-$.top+A.top)/U.y,bottom:($.bottom-D.bottom+A.bottom)/U.y,left:(D.left-$.left+A.left)/U.x,right:($.right-D.right+A.right)/U.x}}const HO=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:y=0}=co(n,e)||{};if(p==null)return{};const m=zI(y),E={x:t,y:r},x=Rv(s),A=Av(x),C=await l.getDimensions(p),R=x==="y",D=R?"top":"left",M=R?"bottom":"right",z=R?"clientHeight":"clientWidth",U=i.reference[A]+i.reference[x]-E[x]-i.floating[A],$=E[x]-i.reference[x],K=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let P=K?K[z]:0;(!P||!await(l.isElement==null?void 0:l.isElement(K)))&&(P=u.floating[z]||i.floating[A]);const T=U/2-$/2,N=P/2-C[A]/2-1,V=pi(m[D],N),F=pi(m[M],N),B=V,O=P-C[A]-F,Te=P/2-C[A]/2+T,Be=yy(B,Te,O),ve=!h.arrow&&ac(s)!=null&&Te!==Be&&i.reference[A]/2-(Te<B?V:F)-C[A]/2<0,Ee=ve?Te<B?Te-B:Te-O:0;return{[x]:E[x]+Ee,data:{[x]:Be,centerOffset:Te-Be-Ee,...ve&&{alignmentOffset:Ee}},reset:ve}}}),WO=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:y=!0,crossAxis:m=!0,fallbackPlacements:E,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:C=!0,...R}=co(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const D=uo(s),M=As(u),z=uo(u)===u,U=await(h.isRTL==null?void 0:h.isRTL(p.floating)),$=E||(z||!C?[wf(u)]:FO(u)),K=A!=="none";!E&&K&&$.push(...$O(u,C,A,U));const P=[u,...$],T=await Nu(e,R),N=[];let V=((r=i.flip)==null?void 0:r.overflows)||[];if(y&&N.push(T[D]),m){const Te=LO(s,l,U);N.push(T[Te[0]],T[Te[1]])}if(V=[...V,{placement:s,overflows:N}],!N.every(Te=>Te<=0)){var F,B;const Te=(((F=i.flip)==null?void 0:F.index)||0)+1,Be=P[Te];if(Be&&(!(m==="alignment"?M!==As(Be):!1)||V.every(W=>As(W.placement)===M?W.overflows[0]>0:!0)))return{data:{index:Te,overflows:V},reset:{placement:Be}};let ve=(B=V.filter(Ee=>Ee.overflows[0]<=0).sort((Ee,W)=>Ee.overflows[1]-W.overflows[1])[0])==null?void 0:B.placement;if(!ve)switch(x){case"bestFit":{var O;const Ee=(O=V.filter(W=>{if(K){const ne=As(W.placement);return ne===M||ne==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ne=>ne>0).reduce((ne,X)=>ne+X,0)]).sort((W,ne)=>W[1]-ne[1])[0])==null?void 0:O[0];Ee&&(ve=Ee);break}case"initialPlacement":ve=u;break}if(s!==ve)return{reset:{placement:ve}}}return{}}}};function qE(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function HE(n){return DO.some(e=>n[e]>=0)}const GO=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=co(n,e);switch(r){case"referenceHidden":{const i=await Nu(e,{...s,elementContext:"reference"}),l=qE(i,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:HE(l)}}}case"escaped":{const i=await Nu(e,{...s,altBoundary:!0}),l=qE(i,t.floating);return{data:{escapedOffsets:l,escaped:HE(l)}}}default:return{}}}}},UI=new Set(["left","top"]);async function KO(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=uo(t),u=ac(t),h=As(t)==="y",p=UI.has(l)?-1:1,y=i&&h?-1:1,m=co(e,n);let{mainAxis:E,crossAxis:x,alignmentAxis:A}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof A=="number"&&(x=u==="end"?A*-1:A),h?{x:x*y,y:E*p}:{x:E*p,y:x*y}}const ZO=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:l,middlewareData:u}=e,h=await KO(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:i+h.y,data:{...h,placement:l}}}}},QO=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:R=>{let{x:D,y:M}=R;return{x:D,y:M}}},...h}=co(n,e),p={x:t,y:r},y=await Nu(e,h),m=As(uo(s)),E=Pv(m);let x=p[E],A=p[m];if(i){const R=E==="y"?"top":"left",D=E==="y"?"bottom":"right",M=x+y[R],z=x-y[D];x=yy(M,x,z)}if(l){const R=m==="y"?"top":"left",D=m==="y"?"bottom":"right",M=A+y[R],z=A-y[D];A=yy(M,A,z)}const C=u.fn({...e,[E]:x,[m]:A});return{...C,data:{x:C.x-t,y:C.y-r,enabled:{[E]:i,[m]:l}}}}}},YO=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=co(n,e),y={x:t,y:r},m=As(s),E=Pv(m);let x=y[E],A=y[m];const C=co(u,e),R=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const z=E==="y"?"height":"width",U=i.reference[E]-i.floating[z]+R.mainAxis,$=i.reference[E]+i.reference[z]-R.mainAxis;x<U?x=U:x>$&&(x=$)}if(p){var D,M;const z=E==="y"?"width":"height",U=UI.has(uo(s)),$=i.reference[m]-i.floating[z]+(U&&((D=l.offset)==null?void 0:D[m])||0)+(U?0:R.crossAxis),K=i.reference[m]+i.reference[z]+(U?0:((M=l.offset)==null?void 0:M[m])||0)-(U?R.crossAxis:0);A<$?A=$:A>K&&(A=K)}return{[E]:x,[m]:A}}}},XO=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:l,elements:u}=e,{apply:h=()=>{},...p}=co(n,e),y=await Nu(e,p),m=uo(s),E=ac(s),x=As(s)==="y",{width:A,height:C}=i.floating;let R,D;m==="top"||m==="bottom"?(R=m,D=E===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(D=m,R=E==="end"?"top":"bottom");const M=C-y.top-y.bottom,z=A-y.left-y.right,U=pi(C-y[R],M),$=pi(A-y[D],z),K=!e.middlewareData.shift;let P=U,T=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(T=z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=M),K&&!E){const V=fr(y.left,0),F=fr(y.right,0),B=fr(y.top,0),O=fr(y.bottom,0);x?T=A-2*(V!==0||F!==0?V+F:fr(y.left,y.right)):P=C-2*(B!==0||O!==0?B+O:fr(y.top,y.bottom))}await h({...e,availableWidth:T,availableHeight:P});const N=await l.getDimensions(u.floating);return A!==N.width||C!==N.height?{reset:{rects:!0}}:{}}}};function hp(){return typeof window<"u"}function lc(n){return $I(n)?(n.nodeName||"").toLowerCase():"#document"}function mr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Fs(n){var e;return(e=($I(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function $I(n){return hp()?n instanceof Node||n instanceof mr(n).Node:!1}function es(n){return hp()?n instanceof Element||n instanceof mr(n).Element:!1}function Ms(n){return hp()?n instanceof HTMLElement||n instanceof mr(n).HTMLElement:!1}function WE(n){return!hp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof mr(n).ShadowRoot}const JO=new Set(["inline","contents"]);function ed(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=ts(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!JO.has(s)}const eM=new Set(["table","td","th"]);function tM(n){return eM.has(lc(n))}const nM=[":popover-open",":modal"];function fp(n){return nM.some(e=>{try{return n.matches(e)}catch{return!1}})}const rM=["transform","translate","scale","rotate","perspective"],sM=["transform","translate","scale","rotate","perspective","filter"],oM=["paint","layout","strict","content"];function kv(n){const e=Nv(),t=es(n)?ts(n):n;return rM.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||sM.some(r=>(t.willChange||"").includes(r))||oM.some(r=>(t.contain||"").includes(r))}function iM(n){let e=mi(n);for(;Ms(e)&&!$l(e);){if(kv(e))return e;if(fp(e))return null;e=mi(e)}return null}function Nv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const aM=new Set(["html","body","#document"]);function $l(n){return aM.has(lc(n))}function ts(n){return mr(n).getComputedStyle(n)}function pp(n){return es(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function mi(n){if(lc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||WE(n)&&n.host||Fs(n);return WE(e)?e.host:e}function BI(n){const e=mi(n);return $l(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ms(e)&&ed(e)?e:BI(e)}function Du(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=BI(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),l=mr(s);if(i){const u=_y(l);return e.concat(l,l.visualViewport||[],ed(s)?s:[],u&&t?Du(u):[])}return e.concat(s,Du(s,[],t))}function _y(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function qI(n){const e=ts(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ms(n),i=s?n.offsetWidth:t,l=s?n.offsetHeight:r,u=_f(t)!==i||_f(r)!==l;return u&&(t=i,r=l),{width:t,height:r,$:u}}function Dv(n){return es(n)?n:n.contextElement}function Dl(n){const e=Dv(n);if(!Ms(e))return Ns(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=qI(e);let l=(i?_f(t.width):t.width)/r,u=(i?_f(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const lM=Ns(0);function HI(n){const e=mr(n);return!Nv()||!e.visualViewport?lM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cM(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==mr(n)?!1:e}function fa(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=Dv(n);let l=Ns(1);e&&(r?es(r)&&(l=Dl(r)):l=Dl(n));const u=cM(i,t,r)?HI(i):Ns(0);let h=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,y=s.width/l.x,m=s.height/l.y;if(i){const E=mr(i),x=r&&es(r)?mr(r):r;let A=E,C=_y(A);for(;C&&r&&x!==A;){const R=Dl(C),D=C.getBoundingClientRect(),M=ts(C),z=D.left+(C.clientLeft+parseFloat(M.paddingLeft))*R.x,U=D.top+(C.clientTop+parseFloat(M.paddingTop))*R.y;h*=R.x,p*=R.y,y*=R.x,m*=R.y,h+=z,p+=U,A=mr(C),C=_y(A)}}return Ef({width:y,height:m,x:h,y:p})}function mp(n,e){const t=pp(n).scrollLeft;return e?e.left+t:fa(Fs(n)).left+t}function WI(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-mp(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function uM(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",l=Fs(r),u=e?fp(e.floating):!1;if(r===l||u&&i)return t;let h={scrollLeft:0,scrollTop:0},p=Ns(1);const y=Ns(0),m=Ms(r);if((m||!m&&!i)&&((lc(r)!=="body"||ed(l))&&(h=pp(r)),Ms(r))){const x=fa(r);p=Dl(r),y.x=x.x+r.clientLeft,y.y=x.y+r.clientTop}const E=l&&!m&&!i?WI(l,h):Ns(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+y.x+E.x,y:t.y*p.y-h.scrollTop*p.y+y.y+E.y}}function dM(n){return Array.from(n.getClientRects())}function hM(n){const e=Fs(n),t=pp(n),r=n.ownerDocument.body,s=fr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=fr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+mp(n);const u=-t.scrollTop;return ts(r).direction==="rtl"&&(l+=fr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:u}}const GE=25;function fM(n,e){const t=mr(n),r=Fs(n),s=t.visualViewport;let i=r.clientWidth,l=r.clientHeight,u=0,h=0;if(s){i=s.width,l=s.height;const y=Nv();(!y||y&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const p=mp(r);if(p<=0){const y=r.ownerDocument,m=y.body,E=getComputedStyle(m),x=y.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,A=Math.abs(r.clientWidth-m.clientWidth-x);A<=GE&&(i-=A)}else p<=GE&&(i+=p);return{width:i,height:l,x:u,y:h}}const pM=new Set(["absolute","fixed"]);function mM(n,e){const t=fa(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=Ms(n)?Dl(n):Ns(1),l=n.clientWidth*i.x,u=n.clientHeight*i.y,h=s*i.x,p=r*i.y;return{width:l,height:u,x:h,y:p}}function KE(n,e,t){let r;if(e==="viewport")r=fM(n,t);else if(e==="document")r=hM(Fs(n));else if(es(e))r=mM(e,t);else{const s=HI(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ef(r)}function GI(n,e){const t=mi(n);return t===e||!es(t)||$l(t)?!1:ts(t).position==="fixed"||GI(t,e)}function gM(n,e){const t=e.get(n);if(t)return t;let r=Du(n,[],!1).filter(u=>es(u)&&lc(u)!=="body"),s=null;const i=ts(n).position==="fixed";let l=i?mi(n):n;for(;es(l)&&!$l(l);){const u=ts(l),h=kv(l);!h&&u.position==="fixed"&&(s=null),(i?!h&&!s:!h&&u.position==="static"&&!!s&&pM.has(s.position)||ed(l)&&!h&&GI(n,l))?r=r.filter(y=>y!==l):s=u,l=mi(l)}return e.set(n,r),r}function yM(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?fp(e)?[]:gM(e,this._c):[].concat(t),r],u=l[0],h=l.reduce((p,y)=>{const m=KE(e,y,s);return p.top=fr(m.top,p.top),p.right=pi(m.right,p.right),p.bottom=pi(m.bottom,p.bottom),p.left=fr(m.left,p.left),p},KE(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function vM(n){const{width:e,height:t}=qI(n);return{width:e,height:t}}function _M(n,e,t){const r=Ms(e),s=Fs(e),i=t==="fixed",l=fa(n,!0,i,e);let u={scrollLeft:0,scrollTop:0};const h=Ns(0);function p(){h.x=mp(s)}if(r||!r&&!i)if((lc(e)!=="body"||ed(s))&&(u=pp(e)),r){const x=fa(e,!0,i,e);h.x=x.x+e.clientLeft,h.y=x.y+e.clientTop}else s&&p();i&&!r&&s&&p();const y=s&&!r&&!i?WI(s,u):Ns(0),m=l.left+u.scrollLeft-h.x-y.x,E=l.top+u.scrollTop-h.y-y.y;return{x:m,y:E,width:l.width,height:l.height}}function jg(n){return ts(n).position==="static"}function ZE(n,e){if(!Ms(n)||ts(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Fs(n)===t&&(t=t.ownerDocument.body),t}function KI(n,e){const t=mr(n);if(fp(n))return t;if(!Ms(n)){let s=mi(n);for(;s&&!$l(s);){if(es(s)&&!jg(s))return s;s=mi(s)}return t}let r=ZE(n,e);for(;r&&tM(r)&&jg(r);)r=ZE(r,e);return r&&$l(r)&&jg(r)&&!kv(r)?t:r||iM(n)||t}const wM=async function(n){const e=this.getOffsetParent||KI,t=this.getDimensions,r=await t(n.floating);return{reference:_M(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EM(n){return ts(n).direction==="rtl"}const bM={convertOffsetParentRelativeRectToViewportRelativeRect:uM,getDocumentElement:Fs,getClippingRect:yM,getOffsetParent:KI,getElementRects:wM,getClientRects:dM,getDimensions:vM,getScale:Dl,isElement:es,isRTL:EM};function ZI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function SM(n,e){let t=null,r;const s=Fs(n);function i(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),i();const p=n.getBoundingClientRect(),{left:y,top:m,width:E,height:x}=p;if(u||e(),!E||!x)return;const A=Mh(m),C=Mh(s.clientWidth-(y+E)),R=Mh(s.clientHeight-(m+x)),D=Mh(y),z={rootMargin:-A+"px "+-C+"px "+-R+"px "+-D+"px",threshold:fr(0,pi(1,h))||1};let U=!0;function $(K){const P=K[0].intersectionRatio;if(P!==h){if(!U)return l();P?l(!1,P):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!ZI(p,n.getBoundingClientRect())&&l(),U=!1}try{t=new IntersectionObserver($,{...z,root:s.ownerDocument})}catch{t=new IntersectionObserver($,z)}t.observe(n)}return l(!0),i}function xM(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Dv(n),y=s||i?[...p?Du(p):[],...Du(e)]:[];y.forEach(D=>{s&&D.addEventListener("scroll",t,{passive:!0}),i&&D.addEventListener("resize",t)});const m=p&&u?SM(p,t):null;let E=-1,x=null;l&&(x=new ResizeObserver(D=>{let[M]=D;M&&M.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var z;(z=x)==null||z.observe(e)})),t()}),p&&!h&&x.observe(p),x.observe(e));let A,C=h?fa(n):null;h&&R();function R(){const D=fa(n);C&&!ZI(C,D)&&t(),C=D,A=requestAnimationFrame(R)}return t(),()=>{var D;y.forEach(M=>{s&&M.removeEventListener("scroll",t),i&&M.removeEventListener("resize",t)}),m?.(),(D=x)==null||D.disconnect(),x=null,h&&cancelAnimationFrame(A)}}const IM=ZO,TM=QO,CM=WO,PM=XO,AM=GO,QE=HO,RM=YO,kM=(n,e,t)=>{const r=new Map,s={platform:bM,...t},i={...s.platform,_c:r};return qO(n,e,{...s,platform:i})};var NM=typeof document<"u",DM=function(){},Jh=NM?b.useLayoutEffect:DM;function bf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!bf(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!bf(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function QI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function YE(n,e){const t=QI(n);return Math.round(e*t)/t}function zg(n){const e=b.useRef(n);return Jh(()=>{e.current=n}),e}function OM(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=n,[y,m]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,x]=b.useState(r);bf(E,r)||x(r);const[A,C]=b.useState(null),[R,D]=b.useState(null),M=b.useCallback(W=>{W!==K.current&&(K.current=W,C(W))},[]),z=b.useCallback(W=>{W!==P.current&&(P.current=W,D(W))},[]),U=i||A,$=l||R,K=b.useRef(null),P=b.useRef(null),T=b.useRef(y),N=h!=null,V=zg(h),F=zg(s),B=zg(p),O=b.useCallback(()=>{if(!K.current||!P.current)return;const W={placement:e,strategy:t,middleware:E};F.current&&(W.platform=F.current),kM(K.current,P.current,W).then(ne=>{const X={...ne,isPositioned:B.current!==!1};Te.current&&!bf(T.current,X)&&(T.current=X,vv.flushSync(()=>{m(X)}))})},[E,e,t,F,B]);Jh(()=>{p===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,m(W=>({...W,isPositioned:!1})))},[p]);const Te=b.useRef(!1);Jh(()=>(Te.current=!0,()=>{Te.current=!1}),[]),Jh(()=>{if(U&&(K.current=U),$&&(P.current=$),U&&$){if(V.current)return V.current(U,$,O);O()}},[U,$,O,V,N]);const Be=b.useMemo(()=>({reference:K,floating:P,setReference:M,setFloating:z}),[M,z]),ve=b.useMemo(()=>({reference:U,floating:$}),[U,$]),Ee=b.useMemo(()=>{const W={position:t,left:0,top:0};if(!ve.floating)return W;const ne=YE(ve.floating,y.x),X=YE(ve.floating,y.y);return u?{...W,transform:"translate("+ne+"px, "+X+"px)",...QI(ve.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:X}},[t,u,ve.floating,y.x,y.y]);return b.useMemo(()=>({...y,update:O,refs:Be,elements:ve,floatingStyles:Ee}),[y,O,Be,ve,Ee])}const MM=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?QE({element:r.current,padding:s}).fn(t):{}:r?QE({element:r,padding:s}).fn(t):{}}}},VM=(n,e)=>({...IM(n),options:[n,e]}),LM=(n,e)=>({...TM(n),options:[n,e]}),FM=(n,e)=>({...RM(n),options:[n,e]}),jM=(n,e)=>({...CM(n),options:[n,e]}),zM=(n,e)=>({...PM(n),options:[n,e]}),UM=(n,e)=>({...AM(n),options:[n,e]}),$M=(n,e)=>({...MM(n),options:[n,e]});var BM="Arrow",YI=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return w.jsx(ft.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});YI.displayName=BM;var qM=YI;function Ov(n){const[e,t]=b.useState(void 0);return lo(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const h=i.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Mv="Popper",[XI,gp]=Ls(Mv),[HM,JI]=XI(Mv),e1=n=>{const{__scopePopper:e,children:t}=n,[r,s]=b.useState(null);return w.jsx(HM,{scope:e,anchor:r,onAnchorChange:s,children:t})};e1.displayName=Mv;var t1="PopperAnchor",n1=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=JI(t1,t),l=b.useRef(null),u=wt(e,l),h=b.useRef(null);return b.useEffect(()=>{const p=h.current;h.current=r?.current||l.current,p!==h.current&&i.onAnchorChange(h.current)}),r?null:w.jsx(ft.div,{...s,ref:u})});n1.displayName=t1;var Vv="PopperContent",[WM,GM]=XI(Vv),r1=b.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:m="partial",hideWhenDetached:E=!1,updatePositionStrategy:x="optimized",onPlaced:A,...C}=n,R=JI(Vv,t),[D,M]=b.useState(null),z=wt(e,we=>M(we)),[U,$]=b.useState(null),K=Ov(U),P=K?.width??0,T=K?.height??0,N=r+(i!=="center"?"-"+i:""),V=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},F=Array.isArray(p)?p:[p],B=F.length>0,O={padding:V,boundary:F.filter(ZM),altBoundary:B},{refs:Te,floatingStyles:Be,placement:ve,isPositioned:Ee,middlewareData:W}=OM({strategy:"fixed",placement:N,whileElementsMounted:(...we)=>xM(...we,{animationFrame:x==="always"}),elements:{reference:R.anchor},middleware:[VM({mainAxis:s+T,alignmentAxis:l}),h&&LM({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?FM():void 0,...O}),h&&jM({...O}),zM({...O,apply:({elements:we,rects:be,availableWidth:Ge,availableHeight:Ke})=>{const{width:ye,height:St}=be.reference,hn=we.floating.style;hn.setProperty("--radix-popper-available-width",`${Ge}px`),hn.setProperty("--radix-popper-available-height",`${Ke}px`),hn.setProperty("--radix-popper-anchor-width",`${ye}px`),hn.setProperty("--radix-popper-anchor-height",`${St}px`)}}),U&&$M({element:U,padding:u}),QM({arrowWidth:P,arrowHeight:T}),E&&UM({strategy:"referenceHidden",...O})]}),[ne,X]=i1(ve),j=Dn(A);lo(()=>{Ee&&j?.()},[Ee,j]);const G=W.arrow?.x,se=W.arrow?.y,ie=W.arrow?.centerOffset!==0,[fe,xe]=b.useState();return lo(()=>{D&&xe(window.getComputedStyle(D).zIndex)},[D]),w.jsx("div",{ref:Te.setFloating,"data-radix-popper-content-wrapper":"",style:{...Be,transform:Ee?Be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:w.jsx(WM,{scope:t,placedSide:ne,onArrowChange:$,arrowX:G,arrowY:se,shouldHideArrow:ie,children:w.jsx(ft.div,{"data-side":ne,"data-align":X,...C,ref:z,style:{...C.style,animation:Ee?void 0:"none"}})})})});r1.displayName=Vv;var s1="PopperArrow",KM={top:"bottom",right:"left",bottom:"top",left:"right"},o1=b.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=GM(s1,r),l=KM[i.placedSide];return w.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:w.jsx(qM,{...s,ref:t,style:{...s.style,display:"block"}})})});o1.displayName=s1;function ZM(n){return n!==null}var QM=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,u=l?0:n.arrowWidth,h=l?0:n.arrowHeight,[p,y]=i1(t),m={start:"0%",center:"50%",end:"100%"}[y],E=(s.arrow?.x??0)+u/2,x=(s.arrow?.y??0)+h/2;let A="",C="";return p==="bottom"?(A=l?m:`${E}px`,C=`${-h}px`):p==="top"?(A=l?m:`${E}px`,C=`${r.floating.height+h}px`):p==="right"?(A=`${-h}px`,C=l?m:`${x}px`):p==="left"&&(A=`${r.floating.width+h}px`,C=l?m:`${x}px`),{data:{x:A,y:C}}}});function i1(n){const[e,t="center"]=n.split("-");return[e,t]}var a1=e1,l1=n1,c1=r1,u1=o1,YM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),XM="VisuallyHidden",d1=b.forwardRef((n,e)=>w.jsx(ft.span,{...n,ref:e,style:{...YM,...n.style}}));d1.displayName=XM;var JM=d1,[yp]=Ls("Tooltip",[gp]),vp=gp(),h1="TooltipProvider",e4=700,wy="tooltip.open",[t4,Lv]=yp(h1),f1=n=>{const{__scopeTooltip:e,delayDuration:t=e4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,l=b.useRef(!0),u=b.useRef(!1),h=b.useRef(0);return b.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),w.jsx(t4,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(h.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(p=>{u.current=p},[]),disableHoverableContent:s,children:i})};f1.displayName=h1;var Ou="Tooltip",[n4,td]=yp(Ou),p1=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:u}=n,h=Lv(Ou,n.__scopeTooltip),p=vp(e),[y,m]=b.useState(null),E=oa(),x=b.useRef(0),A=l??h.disableHoverableContent,C=u??h.delayDuration,R=b.useRef(!1),[D,M]=ic({prop:r,defaultProp:s??!1,onChange:P=>{P?(h.onOpen(),document.dispatchEvent(new CustomEvent(wy))):h.onClose(),i?.(P)},caller:Ou}),z=b.useMemo(()=>D?R.current?"delayed-open":"instant-open":"closed",[D]),U=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,R.current=!1,M(!0)},[M]),$=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,M(!1)},[M]),K=b.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{R.current=!0,M(!0),x.current=0},C)},[C,M]);return b.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),w.jsx(a1,{...p,children:w.jsx(n4,{scope:e,contentId:E,open:D,stateAttribute:z,trigger:y,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{h.isOpenDelayedRef.current?K():U()},[h.isOpenDelayedRef,K,U]),onTriggerLeave:b.useCallback(()=>{A?$():(window.clearTimeout(x.current),x.current=0)},[$,A]),onOpen:U,onClose:$,disableHoverableContent:A,children:t})})};p1.displayName=Ou;var Ey="TooltipTrigger",m1=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=td(Ey,t),i=Lv(Ey,t),l=vp(t),u=b.useRef(null),h=wt(e,u,s.onTriggerChange),p=b.useRef(!1),y=b.useRef(!1),m=b.useCallback(()=>p.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),w.jsx(l1,{asChild:!0,...l,children:w.jsx(ft.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:h,onPointerMove:Le(n.onPointerMove,E=>{E.pointerType!=="touch"&&!y.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),y.current=!0)}),onPointerLeave:Le(n.onPointerLeave,()=>{s.onTriggerLeave(),y.current=!1}),onPointerDown:Le(n.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Le(n.onFocus,()=>{p.current||s.onOpen()}),onBlur:Le(n.onBlur,s.onClose),onClick:Le(n.onClick,s.onClose)})})});m1.displayName=Ey;var Fv="TooltipPortal",[r4,s4]=yp(Fv,{forceMount:void 0}),g1=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:s}=n,i=td(Fv,e);return w.jsx(r4,{scope:e,forceMount:t,children:w.jsx(Un,{present:t||i.open,children:w.jsx(cp,{asChild:!0,container:s,children:r})})})};g1.displayName=Fv;var Bl="TooltipContent",y1=b.forwardRef((n,e)=>{const t=s4(Bl,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,l=td(Bl,n.__scopeTooltip);return w.jsx(Un,{present:r||l.open,children:l.disableHoverableContent?w.jsx(v1,{side:s,...i,ref:e}):w.jsx(o4,{side:s,...i,ref:e})})}),o4=b.forwardRef((n,e)=>{const t=td(Bl,n.__scopeTooltip),r=Lv(Bl,n.__scopeTooltip),s=b.useRef(null),i=wt(e,s),[l,u]=b.useState(null),{trigger:h,onClose:p}=t,y=s.current,{onPointerInTransitChange:m}=r,E=b.useCallback(()=>{u(null),m(!1)},[m]),x=b.useCallback((A,C)=>{const R=A.currentTarget,D={x:A.clientX,y:A.clientY},M=u4(D,R.getBoundingClientRect()),z=d4(D,M),U=h4(C.getBoundingClientRect()),$=p4([...z,...U]);u($),m(!0)},[m]);return b.useEffect(()=>()=>E(),[E]),b.useEffect(()=>{if(h&&y){const A=R=>x(R,y),C=R=>x(R,h);return h.addEventListener("pointerleave",A),y.addEventListener("pointerleave",C),()=>{h.removeEventListener("pointerleave",A),y.removeEventListener("pointerleave",C)}}},[h,y,x,E]),b.useEffect(()=>{if(l){const A=C=>{const R=C.target,D={x:C.clientX,y:C.clientY},M=h?.contains(R)||y?.contains(R),z=!f4(D,l);M?E():z&&(E(),p())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[h,y,l,p,E]),w.jsx(v1,{...n,ref:i})}),[i4,a4]=yp(Ou,{isInside:!1}),l4=e2("TooltipContent"),v1=b.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=n,h=td(Bl,t),p=vp(t),{onClose:y}=h;return b.useEffect(()=>(document.addEventListener(wy,y),()=>document.removeEventListener(wy,y)),[y]),b.useEffect(()=>{if(h.trigger){const m=E=>{E.target?.contains(h.trigger)&&y()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,y]),w.jsx(lp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:y,children:w.jsxs(c1,{"data-state":h.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(l4,{children:r}),w.jsx(i4,{scope:t,isInside:!0,children:w.jsx(JM,{id:h.contentId,role:"tooltip",children:s||r})})]})})});y1.displayName=Bl;var _1="TooltipArrow",c4=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=vp(t);return a4(_1,t).isInside?null:w.jsx(u1,{...s,...r,ref:e})});c4.displayName=_1;function u4(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function d4(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function h4(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function f4(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,y=u.y,m=h.x,E=h.y;y>r!=E>r&&t<(m-p)*(r-y)/(E-y)+p&&(s=!s)}return s}function p4(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),m4(e)}function m4(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var g4=f1,y4=p1,v4=m1,_4=g1,w1=y1;const by=g4,Sy=y4,xy=v4,Sf=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>w.jsx(_4,{children:w.jsx(w1,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Sf.displayName=w1.displayName;const w4="sidebar_state",E4=3600*24*7,b4="12rem",XE="18rem",S4="3rem",x4="b",E1=b.createContext(null);function _p(){const n=b.useContext(E1);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function I4({defaultOpen:n=!0,open:e,onOpenChange:t,className:r,style:s,children:i,...l}){const u=EN(),[h,p]=b.useState(!1),[y,m]=b.useState(n),E=e??y,x=b.useCallback(D=>{const M=typeof D=="function"?D(E):D;t?t(M):m(M),document.cookie=`${w4}=${M}; path=/; max-age=${E4}`},[t,E]),A=b.useCallback(()=>u?p(D=>!D):x(D=>!D),[u,x,p]);b.useEffect(()=>{const D=M=>{M.key===x4&&(M.metaKey||M.ctrlKey)&&(M.preventDefault(),A())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[A]);const C=E?"expanded":"collapsed",R=b.useMemo(()=>({state:C,open:E,setOpen:x,isMobile:u,openMobile:h,setOpenMobile:p,toggleSidebar:A}),[C,E,x,u,h,p,A]);return w.jsx(E1.Provider,{value:R,children:w.jsx(by,{delayDuration:0,children:w.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":b4,"--sidebar-width-icon":S4,...s},className:$e("group/sidebar-wrapper flex min-h-screen w-full",r),...l,children:i})})})}function T4({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:s,...i}){const{isMobile:l,state:u,openMobile:h,setOpenMobile:p}=_p();return t==="none"?w.jsx("div",{"data-slot":"sidebar",className:$e("bg-sidebar text-sidebar-foreground flex h-full flex-col",r),style:{width:"var(--sidebar-width)"},...i,children:s}):l?w.jsx(RO,{open:h,onOpenChange:p,...i,children:w.jsxs(VI,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground p-0 [&>button]:hidden",style:{"--sidebar-width":XE,width:XE},side:n,children:[w.jsxs(LI,{className:"sr-only",children:[w.jsx(FI,{children:"Sidebar"}),w.jsx(jI,{children:"Displays the mobile sidebar."})]}),w.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):w.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[w.jsx("div",{"data-slot":"sidebar-gap",className:$e("relative shrink-0 bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:!w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)]"),style:{width:"var(--sidebar-width)"}}),w.jsx("div",{"data-slot":"sidebar-container",className:$e("fixed inset-y-0 z-10 hidden h-screen transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem+2px)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),style:{width:"var(--sidebar-width)"},...i,children:w.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function C4({className:n,...e}){const{toggleSidebar:t}=_p();return w.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:t,title:"Toggle Sidebar",className:$e("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","cursor-ew-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...e})}function P4({className:n,...e}){return w.jsx("main",{"data-slot":"sidebar-inset",className:$e("bg-background relative flex min-w-0 flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",n),...e})}function A4({className:n,...e}){return w.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:$e("flex flex-col gap-2 p-2",n),...e})}function R4({className:n,...e}){return w.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:$e("flex flex-col gap-2 p-2",n),...e})}function k4({className:n,...e}){return w.jsx(lD,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:$e("bg-sidebar-border mx-2 w-auto",n),...e})}function N4({className:n,...e}){return w.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:$e("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function JE({className:n,...e}){return w.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:$e("relative flex w-full min-w-0 flex-col p-2",n),...e})}function eb({className:n,asChild:e=!1,...t}){const r=e?op:"div";return w.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:$e("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})}function tb({className:n,...e}){return w.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:$e("w-full text-sm",n),...e})}function Ug({className:n,...e}){return w.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:$e("flex w-full min-w-0 flex-col gap-1",n),...e})}function Vh({className:n,...e}){return w.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:$e("group/menu-item relative",n),...e})}const D4=ip("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function $g({asChild:n=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:s,className:i,...l}){const u=n?op:"button",{isMobile:h,state:p}=_p(),y=w.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:$e(D4({variant:t,size:r}),i),...l});return s?(typeof s=="string"&&(s={children:s}),w.jsxs(Sy,{children:[w.jsx(xy,{asChild:!0,children:y}),w.jsx(Sf,{side:"right",align:"center",hidden:p!=="collapsed"||h,...s})]})):y}function b1(n){const e=n+"CollectionProvider",[t,r]=Ls(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:R,children:D}=C,M=ce.useRef(null),z=ce.useRef(new Map).current;return w.jsx(s,{scope:R,itemMap:z,collectionRef:M,children:D})};l.displayName=e;const u=n+"CollectionSlot",h=Ul(u),p=ce.forwardRef((C,R)=>{const{scope:D,children:M}=C,z=i(u,D),U=wt(R,z.collectionRef);return w.jsx(h,{ref:U,children:M})});p.displayName=u;const y=n+"CollectionItemSlot",m="data-radix-collection-item",E=Ul(y),x=ce.forwardRef((C,R)=>{const{scope:D,children:M,...z}=C,U=ce.useRef(null),$=wt(R,U),K=i(y,D);return ce.useEffect(()=>(K.itemMap.set(U,{ref:U,...z}),()=>void K.itemMap.delete(U))),w.jsx(E,{[m]:"",ref:$,children:M})});x.displayName=y;function A(C){const R=i(n+"CollectionConsumer",C);return ce.useCallback(()=>{const M=R.collectionRef.current;if(!M)return[];const z=Array.from(M.querySelectorAll(`[${m}]`));return Array.from(R.itemMap.values()).sort((K,P)=>z.indexOf(K.ref.current)-z.indexOf(P.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:p,ItemSlot:x},A,r]}var O4=b.createContext(void 0);function jv(n){const e=b.useContext(O4);return n||e||"ltr"}var Bg="rovingFocusGroup.onEntryFocus",M4={bubbles:!1,cancelable:!0},nd="RovingFocusGroup",[Iy,S1,V4]=b1(nd),[L4,x1]=Ls(nd,[V4]),[F4,j4]=L4(nd),I1=b.forwardRef((n,e)=>w.jsx(Iy.Provider,{scope:n.__scopeRovingFocusGroup,children:w.jsx(Iy.Slot,{scope:n.__scopeRovingFocusGroup,children:w.jsx(z4,{...n,ref:e})})}));I1.displayName=nd;var z4=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...m}=n,E=b.useRef(null),x=wt(e,E),A=jv(i),[C,R]=ic({prop:l,defaultProp:u??null,onChange:h,caller:nd}),[D,M]=b.useState(!1),z=Dn(p),U=S1(t),$=b.useRef(!1),[K,P]=b.useState(0);return b.useEffect(()=>{const T=E.current;if(T)return T.addEventListener(Bg,z),()=>T.removeEventListener(Bg,z)},[z]),w.jsx(F4,{scope:t,orientation:r,dir:A,loop:s,currentTabStopId:C,onItemFocus:b.useCallback(T=>R(T),[R]),onItemShiftTab:b.useCallback(()=>M(!0),[]),onFocusableItemAdd:b.useCallback(()=>P(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>P(T=>T-1),[]),children:w.jsx(ft.div,{tabIndex:D||K===0?-1:0,"data-orientation":r,...m,ref:x,style:{outline:"none",...n.style},onMouseDown:Le(n.onMouseDown,()=>{$.current=!0}),onFocus:Le(n.onFocus,T=>{const N=!$.current;if(T.target===T.currentTarget&&N&&!D){const V=new CustomEvent(Bg,M4);if(T.currentTarget.dispatchEvent(V),!V.defaultPrevented){const F=U().filter(ve=>ve.focusable),B=F.find(ve=>ve.active),O=F.find(ve=>ve.id===C),Be=[B,O,...F].filter(Boolean).map(ve=>ve.ref.current);P1(Be,y)}}$.current=!1}),onBlur:Le(n.onBlur,()=>M(!1))})})}),T1="RovingFocusGroupItem",C1=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...u}=n,h=oa(),p=i||h,y=j4(T1,t),m=y.currentTabStopId===p,E=S1(t),{onFocusableItemAdd:x,onFocusableItemRemove:A,currentTabStopId:C}=y;return b.useEffect(()=>{if(r)return x(),()=>A()},[r,x,A]),w.jsx(Iy.ItemSlot,{scope:t,id:p,focusable:r,active:s,children:w.jsx(ft.span,{tabIndex:m?0:-1,"data-orientation":y.orientation,...u,ref:e,onMouseDown:Le(n.onMouseDown,R=>{r?y.onItemFocus(p):R.preventDefault()}),onFocus:Le(n.onFocus,()=>y.onItemFocus(p)),onKeyDown:Le(n.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){y.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const D=B4(R,y.orientation,y.dir);if(D!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let z=E().filter(U=>U.focusable).map(U=>U.ref.current);if(D==="last")z.reverse();else if(D==="prev"||D==="next"){D==="prev"&&z.reverse();const U=z.indexOf(R.currentTarget);z=y.loop?q4(z,U+1):z.slice(U+1)}setTimeout(()=>P1(z))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:C!=null}):l})})});C1.displayName=T1;var U4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $4(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function B4(n,e,t){const r=$4(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return U4[r]}function P1(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function q4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var H4=I1,W4=C1,Ty=["Enter"," "],G4=["ArrowDown","PageUp","Home"],A1=["ArrowUp","PageDown","End"],K4=[...G4,...A1],Z4={ltr:[...Ty,"ArrowRight"],rtl:[...Ty,"ArrowLeft"]},Q4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rd="Menu",[Mu,Y4,X4]=b1(rd),[Ca,R1]=Ls(rd,[X4,gp,x1]),wp=gp(),k1=x1(),[J4,Pa]=Ca(rd),[eV,sd]=Ca(rd),N1=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=n,u=wp(e),[h,p]=b.useState(null),y=b.useRef(!1),m=Dn(i),E=jv(s);return b.useEffect(()=>{const x=()=>{y.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>y.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),w.jsx(a1,{...u,children:w.jsx(J4,{scope:e,open:t,onOpenChange:m,content:h,onContentChange:p,children:w.jsx(eV,{scope:e,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:y,dir:E,modal:l,children:r})})})};N1.displayName=rd;var tV="MenuAnchor",zv=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=wp(t);return w.jsx(l1,{...s,...r,ref:e})});zv.displayName=tV;var Uv="MenuPortal",[nV,D1]=Ca(Uv,{forceMount:void 0}),O1=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,i=Pa(Uv,e);return w.jsx(nV,{scope:e,forceMount:t,children:w.jsx(Un,{present:t||i.open,children:w.jsx(cp,{asChild:!0,container:s,children:r})})})};O1.displayName=Uv;var Nr="MenuContent",[rV,$v]=Ca(Nr),M1=b.forwardRef((n,e)=>{const t=D1(Nr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=Pa(Nr,n.__scopeMenu),l=sd(Nr,n.__scopeMenu);return w.jsx(Mu.Provider,{scope:n.__scopeMenu,children:w.jsx(Un,{present:r||i.open,children:w.jsx(Mu.Slot,{scope:n.__scopeMenu,children:l.modal?w.jsx(sV,{...s,ref:e}):w.jsx(oV,{...s,ref:e})})})})}),sV=b.forwardRef((n,e)=>{const t=Pa(Nr,n.__scopeMenu),r=b.useRef(null),s=wt(e,r);return b.useEffect(()=>{const i=r.current;if(i)return mI(i)},[]),w.jsx(Bv,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Le(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),oV=b.forwardRef((n,e)=>{const t=Pa(Nr,n.__scopeMenu);return w.jsx(Bv,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),iV=Ul("MenuContent.ScrollLock"),Bv=b.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:m,onInteractOutside:E,onDismiss:x,disableOutsideScroll:A,...C}=n,R=Pa(Nr,t),D=sd(Nr,t),M=wp(t),z=k1(t),U=Y4(t),[$,K]=b.useState(null),P=b.useRef(null),T=wt(e,P,R.onContentChange),N=b.useRef(0),V=b.useRef(""),F=b.useRef(0),B=b.useRef(null),O=b.useRef("right"),Te=b.useRef(0),Be=A?wv:b.Fragment,ve=A?{as:iV,allowPinchZoom:!0}:void 0,Ee=ne=>{const X=V.current+ne,j=U().filter(we=>!we.disabled),G=document.activeElement,se=j.find(we=>we.ref.current===G)?.textValue,ie=j.map(we=>we.textValue),fe=vV(ie,X,se),xe=j.find(we=>we.textValue===fe)?.ref.current;(function we(be){V.current=be,window.clearTimeout(N.current),be!==""&&(N.current=window.setTimeout(()=>we(""),1e3))})(X),xe&&setTimeout(()=>xe.focus())};b.useEffect(()=>()=>window.clearTimeout(N.current),[]),iI();const W=b.useCallback(ne=>O.current===B.current?.side&&wV(ne,B.current?.area),[]);return w.jsx(rV,{scope:t,searchRef:V,onItemEnter:b.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),onItemLeave:b.useCallback(ne=>{W(ne)||(P.current?.focus(),K(null))},[W]),onTriggerLeave:b.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),pointerGraceTimerRef:F,onPointerGraceIntentChange:b.useCallback(ne=>{B.current=ne},[]),children:w.jsx(Be,{...ve,children:w.jsx(_v,{asChild:!0,trapped:s,onMountAutoFocus:Le(i,ne=>{ne.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:w.jsx(lp,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:m,onInteractOutside:E,onDismiss:x,children:w.jsx(H4,{asChild:!0,...z,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:$,onCurrentTabStopIdChange:K,onEntryFocus:Le(h,ne=>{D.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(c1,{role:"menu","aria-orientation":"vertical","data-state":Y1(R.open),"data-radix-menu-content":"",dir:D.dir,...M,...C,ref:T,style:{outline:"none",...C.style},onKeyDown:Le(C.onKeyDown,ne=>{const j=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,G=ne.ctrlKey||ne.altKey||ne.metaKey,se=ne.key.length===1;j&&(ne.key==="Tab"&&ne.preventDefault(),!G&&se&&Ee(ne.key));const ie=P.current;if(ne.target!==ie||!K4.includes(ne.key))return;ne.preventDefault();const xe=U().filter(we=>!we.disabled).map(we=>we.ref.current);A1.includes(ne.key)&&xe.reverse(),gV(xe)}),onBlur:Le(n.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(N.current),V.current="")}),onPointerMove:Le(n.onPointerMove,Vu(ne=>{const X=ne.target,j=Te.current!==ne.clientX;if(ne.currentTarget.contains(X)&&j){const G=ne.clientX>Te.current?"right":"left";O.current=G,Te.current=ne.clientX}}))})})})})})})});M1.displayName=Nr;var aV="MenuGroup",qv=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return w.jsx(ft.div,{role:"group",...r,ref:e})});qv.displayName=aV;var lV="MenuLabel",V1=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return w.jsx(ft.div,{...r,ref:e})});V1.displayName=lV;var xf="MenuItem",nb="menu.itemSelect",Ep=b.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,i=b.useRef(null),l=sd(xf,n.__scopeMenu),u=$v(xf,n.__scopeMenu),h=wt(e,i),p=b.useRef(!1),y=()=>{const m=i.current;if(!t&&m){const E=new CustomEvent(nb,{bubbles:!0,cancelable:!0});m.addEventListener(nb,x=>r?.(x),{once:!0}),tI(m,E),E.defaultPrevented?p.current=!1:l.onClose()}};return w.jsx(L1,{...s,ref:h,disabled:t,onClick:Le(n.onClick,y),onPointerDown:m=>{n.onPointerDown?.(m),p.current=!0},onPointerUp:Le(n.onPointerUp,m=>{p.current||m.currentTarget?.click()}),onKeyDown:Le(n.onKeyDown,m=>{const E=u.searchRef.current!=="";t||E&&m.key===" "||Ty.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Ep.displayName=xf;var L1=b.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...i}=n,l=$v(xf,t),u=k1(t),h=b.useRef(null),p=wt(e,h),[y,m]=b.useState(!1),[E,x]=b.useState("");return b.useEffect(()=>{const A=h.current;A&&x((A.textContent??"").trim())},[i.children]),w.jsx(Mu.ItemSlot,{scope:t,disabled:r,textValue:s??E,children:w.jsx(W4,{asChild:!0,...u,focusable:!r,children:w.jsx(ft.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:p,onPointerMove:Le(n.onPointerMove,Vu(A=>{r?l.onItemLeave(A):(l.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(n.onPointerLeave,Vu(A=>l.onItemLeave(A))),onFocus:Le(n.onFocus,()=>m(!0)),onBlur:Le(n.onBlur,()=>m(!1))})})})}),cV="MenuCheckboxItem",F1=b.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return w.jsx(B1,{scope:n.__scopeMenu,checked:t,children:w.jsx(Ep,{role:"menuitemcheckbox","aria-checked":If(t)?"mixed":t,...s,ref:e,"data-state":Wv(t),onSelect:Le(s.onSelect,()=>r?.(If(t)?!0:!t),{checkForDefaultPrevented:!1})})})});F1.displayName=cV;var j1="MenuRadioGroup",[uV,dV]=Ca(j1,{value:void 0,onValueChange:()=>{}}),z1=b.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,i=Dn(r);return w.jsx(uV,{scope:n.__scopeMenu,value:t,onValueChange:i,children:w.jsx(qv,{...s,ref:e})})});z1.displayName=j1;var U1="MenuRadioItem",$1=b.forwardRef((n,e)=>{const{value:t,...r}=n,s=dV(U1,n.__scopeMenu),i=t===s.value;return w.jsx(B1,{scope:n.__scopeMenu,checked:i,children:w.jsx(Ep,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Wv(i),onSelect:Le(r.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});$1.displayName=U1;var Hv="MenuItemIndicator",[B1,hV]=Ca(Hv,{checked:!1}),q1=b.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,i=hV(Hv,t);return w.jsx(Un,{present:r||If(i.checked)||i.checked===!0,children:w.jsx(ft.span,{...s,ref:e,"data-state":Wv(i.checked)})})});q1.displayName=Hv;var fV="MenuSeparator",H1=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return w.jsx(ft.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});H1.displayName=fV;var pV="MenuArrow",W1=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=wp(t);return w.jsx(u1,{...s,...r,ref:e})});W1.displayName=pV;var mV="MenuSub",[tH,G1]=Ca(mV),pu="MenuSubTrigger",K1=b.forwardRef((n,e)=>{const t=Pa(pu,n.__scopeMenu),r=sd(pu,n.__scopeMenu),s=G1(pu,n.__scopeMenu),i=$v(pu,n.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=i,p={__scopeMenu:n.__scopeMenu},y=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>y,[y]),b.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),h(null)}},[u,h]),w.jsx(zv,{asChild:!0,...p,children:w.jsx(L1,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":Y1(t.open),...n,ref:sp(e,s.onTriggerChange),onClick:m=>{n.onClick?.(m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Le(n.onPointerMove,Vu(m=>{i.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),y()},100))})),onPointerLeave:Le(n.onPointerLeave,Vu(m=>{y();const E=t.content?.getBoundingClientRect();if(E){const x=t.content?.dataset.side,A=x==="right",C=A?-5:5,R=E[A?"left":"right"],D=E[A?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+C,y:m.clientY},{x:R,y:E.top},{x:D,y:E.top},{x:D,y:E.bottom},{x:R,y:E.bottom}],side:x}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Le(n.onKeyDown,m=>{const E=i.searchRef.current!=="";n.disabled||E&&m.key===" "||Z4[r.dir].includes(m.key)&&(t.onOpenChange(!0),t.content?.focus(),m.preventDefault())})})})});K1.displayName=pu;var Z1="MenuSubContent",Q1=b.forwardRef((n,e)=>{const t=D1(Nr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=Pa(Nr,n.__scopeMenu),l=sd(Nr,n.__scopeMenu),u=G1(Z1,n.__scopeMenu),h=b.useRef(null),p=wt(e,h);return w.jsx(Mu.Provider,{scope:n.__scopeMenu,children:w.jsx(Un,{present:r||i.open,children:w.jsx(Mu.Slot,{scope:n.__scopeMenu,children:w.jsx(Bv,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{l.isUsingKeyboardRef.current&&h.current?.focus(),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Le(n.onFocusOutside,y=>{y.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Le(n.onEscapeKeyDown,y=>{l.onClose(),y.preventDefault()}),onKeyDown:Le(n.onKeyDown,y=>{const m=y.currentTarget.contains(y.target),E=Q4[l.dir].includes(y.key);m&&E&&(i.onOpenChange(!1),u.trigger?.focus(),y.preventDefault())})})})})})});Q1.displayName=Z1;function Y1(n){return n?"open":"closed"}function If(n){return n==="indeterminate"}function Wv(n){return If(n)?"indeterminate":n?"checked":"unchecked"}function gV(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function yV(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function vV(n,e,t){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let l=yV(n,Math.max(i,0));s.length===1&&(l=l.filter(p=>p!==t));const h=l.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return h!==t?h:void 0}function _V(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,y=u.y,m=h.x,E=h.y;y>r!=E>r&&t<(m-p)*(r-y)/(E-y)+p&&(s=!s)}return s}function wV(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return _V(t,e)}function Vu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var EV=N1,bV=zv,SV=O1,xV=M1,IV=qv,TV=V1,CV=Ep,PV=F1,AV=z1,RV=$1,kV=q1,NV=H1,DV=W1,OV=K1,MV=Q1,bp="DropdownMenu",[VV]=Ls(bp,[R1]),$n=R1(),[LV,X1]=VV(bp),J1=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=n,h=$n(e),p=b.useRef(null),[y,m]=ic({prop:s,defaultProp:i??!1,onChange:l,caller:bp});return w.jsx(LV,{scope:e,triggerId:oa(),triggerRef:p,contentId:oa(),open:y,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(E=>!E),[m]),modal:u,children:w.jsx(EV,{...h,open:y,onOpenChange:m,dir:r,modal:u,children:t})})};J1.displayName=bp;var eT="DropdownMenuTrigger",tT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,i=X1(eT,t),l=$n(t);return w.jsx(bV,{asChild:!0,...l,children:w.jsx(ft.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:sp(e,i.triggerRef),onPointerDown:Le(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:Le(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});tT.displayName=eT;var FV="DropdownMenuPortal",nT=n=>{const{__scopeDropdownMenu:e,...t}=n,r=$n(e);return w.jsx(SV,{...r,...t})};nT.displayName=FV;var rT="DropdownMenuContent",sT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=X1(rT,t),i=$n(t),l=b.useRef(!1);return w.jsx(xV,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Le(n.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Le(n.onInteractOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,y=h.button===2||p;(!s.modal||y)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sT.displayName=rT;var jV="DropdownMenuGroup",zV=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$n(t);return w.jsx(IV,{...s,...r,ref:e})});zV.displayName=jV;var UV="DropdownMenuLabel",oT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$n(t);return w.jsx(TV,{...s,...r,ref:e})});oT.displayName=UV;var $V="DropdownMenuItem",iT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$n(t);return w.jsx(CV,{...s,...r,ref:e})});iT.displayName=$V;var BV="DropdownMenuCheckboxItem",aT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$n(t);return w.jsx(PV,{...s,...r,ref:e})});aT.displayName=BV;var qV="DropdownMenuRadioGroup",HV=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$n(t);return w.jsx(AV,{...s,...r,ref:e})});HV.displayName=qV;var WV="DropdownMenuRadioItem",lT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$n(t);return w.jsx(RV,{...s,...r,ref:e})});lT.displayName=WV;var GV="DropdownMenuItemIndicator",cT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$n(t);return w.jsx(kV,{...s,...r,ref:e})});cT.displayName=GV;var KV="DropdownMenuSeparator",uT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$n(t);return w.jsx(NV,{...s,...r,ref:e})});uT.displayName=KV;var ZV="DropdownMenuArrow",QV=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$n(t);return w.jsx(DV,{...s,...r,ref:e})});QV.displayName=ZV;var YV="DropdownMenuSubTrigger",dT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$n(t);return w.jsx(OV,{...s,...r,ref:e})});dT.displayName=YV;var XV="DropdownMenuSubContent",hT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$n(t);return w.jsx(MV,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hT.displayName=XV;var JV=J1,eL=tT,tL=nT,fT=sT,pT=oT,mT=iT,gT=aT,yT=lT,vT=cT,_T=uT,wT=dT,ET=hT;const bT=JV,ST=eL,nL=b.forwardRef(({className:n,inset:e,children:t,...r},s)=>w.jsxs(wT,{ref:s,className:$e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,w.jsx(p2,{className:"ml-auto"})]}));nL.displayName=wT.displayName;const rL=b.forwardRef(({className:n,...e},t)=>w.jsx(ET,{ref:t,className:$e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));rL.displayName=ET.displayName;const Gv=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>w.jsx(tL,{children:w.jsx(fT,{ref:r,sideOffset:e,className:$e("z-[100] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Gv.displayName=fT.displayName;const Lu=b.forwardRef(({className:n,inset:e,...t},r)=>w.jsx(mT,{ref:r,className:$e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));Lu.displayName=mT.displayName;const sL=b.forwardRef(({className:n,children:e,checked:t,...r},s)=>w.jsxs(gT,{ref:s,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(vT,{children:w.jsx($x,{className:"h-4 w-4"})})}),e]}));sL.displayName=gT.displayName;const oL=b.forwardRef(({className:n,children:e,...t},r)=>w.jsxs(yT,{ref:r,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(vT,{children:w.jsx(w2,{className:"h-2 w-2 fill-current"})})}),e]}));oL.displayName=yT.displayName;const Kv=b.forwardRef(({className:n,inset:e,...t},r)=>w.jsx(pT,{ref:r,className:$e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));Kv.displayName=pT.displayName;const Zv=b.forwardRef(({className:n,...e},t)=>w.jsx(_T,{ref:t,className:$e("-mx-1 my-1 h-px bg-muted",n),...e}));Zv.displayName=_T.displayName;function xT(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Sp="Switch",[iL]=Ls(Sp),[aL,lL]=iL(Sp),IT=b.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h="on",onCheckedChange:p,form:y,...m}=n,[E,x]=b.useState(null),A=wt(e,z=>x(z)),C=b.useRef(!1),R=E?y||!!E.closest("form"):!0,[D,M]=ic({prop:s,defaultProp:i??!1,onChange:p,caller:Sp});return w.jsxs(aL,{scope:t,checked:D,disabled:u,children:[w.jsx(ft.button,{type:"button",role:"switch","aria-checked":D,"aria-required":l,"data-state":AT(D),"data-disabled":u?"":void 0,disabled:u,value:h,...m,ref:A,onClick:Le(n.onClick,z=>{M(U=>!U),R&&(C.current=z.isPropagationStopped(),C.current||z.stopPropagation())})}),R&&w.jsx(PT,{control:E,bubbles:!C.current,name:r,value:h,checked:D,required:l,disabled:u,form:y,style:{transform:"translateX(-100%)"}})]})});IT.displayName=Sp;var TT="SwitchThumb",CT=b.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,s=lL(TT,t);return w.jsx(ft.span,{"data-state":AT(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});CT.displayName=TT;var cL="SwitchBubbleInput",PT=b.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...s},i)=>{const l=b.useRef(null),u=wt(l,i),h=xT(t),p=Ov(e);return b.useEffect(()=>{const y=l.current;if(!y)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==t&&x){const A=new Event("click",{bubbles:r});x.call(y,t),y.dispatchEvent(A)}},[h,t,r]),w.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:u,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});PT.displayName=cL;function AT(n){return n?"checked":"unchecked"}var RT=IT,uL=CT;const kT=b.forwardRef(({className:n,...e},t)=>w.jsx(RT,{className:$e("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:w.jsx(uL,{className:$e("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));kT.displayName=RT.displayName;const NT=b.createContext(void 0),Go="wms_auth_user",su="wms_remember_me",DT="wms_users",dL=[{id:"0",email:"owner@wms.com",password:"owner123",name:"System Owner",role:"Owner",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"1",email:"admin@wms.com",password:"admin123",name:"Admin User",role:"Admin",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"2",email:"operator@wms.com",password:"operator123",name:"Operator User",role:"Operator",status:"Active",createdAt:"2024-01-15T00:00:00Z"}];function Yn(){try{const n=localStorage.getItem(DT);if(n)return JSON.parse(n)}catch(n){console.error("Error reading users from storage:",n)}return[]}function xs(n){localStorage.setItem(DT,JSON.stringify(n))}function hL(){Yn().length===0&&xs(dL)}function fL({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(!0);b.useEffect(()=>{hL()},[]),b.useEffect(()=>{(async()=>{try{const z=localStorage.getItem(Go),U=localStorage.getItem(su);if(z&&U==="true"){const $=JSON.parse(z),P=Yn().find(T=>T.id===$.id);P&&P.status==="Active"&&t({id:P.id,email:P.email,name:P.name,role:P.role,status:P.status,createdAt:P.createdAt,lastLogin:P.lastLogin})}else{const $=sessionStorage.getItem(Go);if($){const K=JSON.parse($),T=Yn().find(N=>N.id===K.id);T&&T.status==="Active"&&t({id:T.id,email:T.email,name:T.name,role:T.role,status:T.status,createdAt:T.createdAt,lastLogin:T.lastLogin})}}}catch(z){console.error("Error checking authentication:",z)}finally{s(!1)}})()},[]);const i=async(M,z,U=!1)=>{await new Promise(V=>setTimeout(V,1e3));const $=Yn(),K=$.find(V=>V.email.toLowerCase()===M.toLowerCase());if(!K)throw new Error("NO_ACCOUNT:No account found with this email address. Would you like to create one?");if(K.password!==z)throw new Error("WRONG_PASSWORD:Incorrect password. Please try again.");const P=K;if(P.status==="Pending")throw new Error("PENDING:Your account is pending approval. Please wait for an administrator to approve your account.");if(P.status==="Inactive")throw new Error("INACTIVE:Your account has been deactivated. Please contact an administrator.");const T=$.map(V=>V.id===P.id?{...V,lastLogin:new Date().toISOString()}:V);xs(T);const N={id:P.id,email:P.email,name:P.name,role:P.role,status:P.status,createdAt:P.createdAt,lastLogin:new Date().toISOString()};t(N),U?(localStorage.setItem(Go,JSON.stringify(N)),localStorage.setItem(su,"true")):(sessionStorage.setItem(Go,JSON.stringify(N)),localStorage.removeItem(su))},l=async(M,z,U)=>{await new Promise(P=>setTimeout(P,1e3));const $=Yn();if($.some(P=>P.email.toLowerCase()===M.toLowerCase()))throw new Error("An account with this email already exists");const K={id:`user_${Date.now()}`,email:M,password:z,name:U,role:"Operator",status:"Pending",createdAt:new Date().toISOString()};xs([...$,K])},u=()=>{t(null),localStorage.removeItem(Go),localStorage.removeItem(su),sessionStorage.removeItem(Go)},h=b.useCallback(()=>Yn(),[]),p=b.useCallback(()=>Yn().filter(M=>M.status==="Pending"),[]),y=b.useCallback(M=>{const U=Yn().map($=>$.id===M?{...$,status:"Active"}:$);xs(U)},[]),m=b.useCallback(M=>{const U=Yn().filter($=>$.id!==M);xs(U)},[]),E=b.useCallback((M,z)=>{const $=Yn().map(K=>K.id===M?{...K,role:z}:K);xs($),e&&e.id===M&&t({...e,role:z})},[e]),x=b.useCallback((M,z)=>{const $=Yn().map(K=>K.id===M?{...K,status:z}:K);xs($),e&&e.id===M&&z!=="Active"&&u()},[e]),A=b.useCallback(M=>{const U=Yn().filter($=>$.id!==M);xs(U),e&&e.id===M&&u()},[e]),C=b.useCallback(M=>{if(!e)return;const U=Yn().map(P=>P.id===e.id?{...P,...M}:P);xs(U);const $={...e,...M};t($),localStorage.getItem(su)==="true"?localStorage.setItem(Go,JSON.stringify($)):sessionStorage.setItem(Go,JSON.stringify($))},[e]),R=b.useCallback(async(M,z)=>{if(!e)throw new Error("Not authenticated");await new Promise(P=>setTimeout(P,500));const U=Yn(),$=U.find(P=>P.id===e.id);if(!$||$.password!==M)throw new Error("Current password is incorrect");const K=U.map(P=>P.id===e.id?{...P,password:z}:P);xs(K)},[e]),D={user:e,isAuthenticated:!!e,isLoading:r,login:i,logout:u,register:l,getAllUsers:h,getPendingUsers:p,approveUser:y,rejectUser:m,updateUserRole:E,updateUserStatus:x,deleteUser:A,updateProfile:C,changePassword:R};return w.jsx(NT.Provider,{value:D,children:n})}function od(){const n=b.useContext(NT);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}var pL=(n,e,t,r,s,i,l,u)=>{let h=document.documentElement,p=["light","dark"];function y(x){(Array.isArray(n)?n:[n]).forEach(A=>{let C=A==="class",R=C&&i?s.map(D=>i[D]||D):s;C?(h.classList.remove(...R),h.classList.add(i&&i[x]?i[x]:x)):h.setAttribute(A,x)}),m(x)}function m(x){u&&p.includes(x)&&(h.style.colorScheme=x)}function E(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)y(r);else try{let x=localStorage.getItem(e)||t,A=l&&x==="system"?E():x;y(A)}catch{}},rb=["light","dark"],OT="(prefers-color-scheme: dark)",mL=typeof window>"u",Qv=b.createContext(void 0),gL={setTheme:n=>{},themes:[]},MT=()=>{var n;return(n=b.useContext(Qv))!=null?n:gL},yL=n=>b.useContext(Qv)?b.createElement(b.Fragment,null,n.children):b.createElement(_L,{...n}),vL=["light","dark"],_L=({forcedTheme:n,disableTransitionOnChange:e=!1,enableSystem:t=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=vL,defaultTheme:l=t?"system":"light",attribute:u="data-theme",value:h,children:p,nonce:y,scriptProps:m})=>{let[E,x]=b.useState(()=>EL(s,l)),[A,C]=b.useState(()=>E==="system"?qg():E),R=h?Object.values(h):i,D=b.useCallback($=>{let K=$;if(!K)return;$==="system"&&t&&(K=qg());let P=h?h[K]:K,T=e?bL(y):null,N=document.documentElement,V=F=>{F==="class"?(N.classList.remove(...R),P&&N.classList.add(P)):F.startsWith("data-")&&(P?N.setAttribute(F,P):N.removeAttribute(F))};if(Array.isArray(u)?u.forEach(V):V(u),r){let F=rb.includes(l)?l:null,B=rb.includes(K)?K:F;N.style.colorScheme=B}T?.()},[y]),M=b.useCallback($=>{let K=typeof $=="function"?$(E):$;x(K);try{localStorage.setItem(s,K)}catch{}},[E]),z=b.useCallback($=>{let K=qg($);C(K),E==="system"&&t&&!n&&D("system")},[E,n]);b.useEffect(()=>{let $=window.matchMedia(OT);return $.addListener(z),z($),()=>$.removeListener(z)},[z]),b.useEffect(()=>{let $=K=>{K.key===s&&(K.newValue?x(K.newValue):M(l))};return window.addEventListener("storage",$),()=>window.removeEventListener("storage",$)},[M]),b.useEffect(()=>{D(n??E)},[n,E]);let U=b.useMemo(()=>({theme:E,setTheme:M,forcedTheme:n,resolvedTheme:E==="system"?A:E,themes:t?[...i,"system"]:i,systemTheme:t?A:void 0}),[E,M,n,A,t,i]);return b.createElement(Qv.Provider,{value:U},b.createElement(wL,{forcedTheme:n,storageKey:s,attribute:u,enableSystem:t,enableColorScheme:r,defaultTheme:l,value:h,themes:i,nonce:y,scriptProps:m}),p)},wL=b.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:l,themes:u,nonce:h,scriptProps:p})=>{let y=JSON.stringify([t,e,i,n,u,l,r,s]).slice(1,-1);return b.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${pL.toString()})(${y})`}})}),EL=(n,e)=>{if(mL)return;let t;try{t=localStorage.getItem(n)||void 0}catch{}return t||e},bL=n=>{let e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},qg=n=>(n||(n=window.matchMedia(OT)),n.matches?"dark":"light");function SL({currentView:n,setCurrentView:e}){const{user:t}=od(),{state:r,toggleSidebar:s}=_p(),{theme:i,setTheme:l}=MT(),u=r==="collapsed",[h,p]=b.useState(!0),y=[{id:"dashboard",label:"Dashboard",icon:M2},{id:"inventory",label:"Inventory",icon:ap},{id:"orders",label:"Orders",icon:pv},{id:"purchase-orders",label:"Purchase Orders",icon:fv},{id:"sales-orders",label:"Sales Orders",icon:Q2},{id:"shipments",label:"Shipments",icon:mv},{id:"suppliers",label:"Suppliers",icon:k2},{id:"customers",label:"Customers",icon:fN},{id:"cash-bank",label:"Cash and Bank",icon:D2},{id:"payments",label:"Payments",icon:yN}],m=[{id:"users",label:"User Management",icon:oN}],E=()=>{window.location.reload()};return w.jsxs(T4,{collapsible:"icon",children:[w.jsx(A4,{className:"h-14 border-b border-sidebar-border px-3 flex items-center",children:w.jsx(by,{children:w.jsxs(Sy,{children:[w.jsx(xy,{asChild:!0,children:w.jsxs("button",{onClick:E,className:"flex items-center gap-2 justify-start group-data-[collapsible=icon]:justify-center w-full cursor-pointer","aria-label":"Refresh application",children:[w.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary hover:bg-primary/90 transition-colors",children:w.jsx(_N,{className:"h-5 w-5 text-primary-foreground"})}),w.jsx("span",{className:"font-semibold text-sidebar-foreground group-data-[collapsible=icon]:hidden",children:"WMS"})]})}),w.jsx(Sf,{side:"right",children:w.jsx("p",{children:"Refresh Application"})})]})})}),w.jsxs(N4,{children:[w.jsxs(JE,{children:[w.jsx(eb,{children:"Management"}),w.jsx(tb,{children:w.jsx(Ug,{children:y.map(x=>w.jsx(Vh,{children:w.jsxs($g,{onClick:()=>e(x.id),isActive:n===x.id,tooltip:x.label,children:[w.jsx(x.icon,{className:"h-4 w-4 shrink-0"}),w.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:x.label})]})},x.id))})})]}),t?.role==="Admin"&&w.jsxs(JE,{children:[w.jsx(eb,{children:"Administration"}),w.jsx(tb,{children:w.jsx(Ug,{children:m.map(x=>w.jsx(Vh,{children:w.jsxs($g,{onClick:()=>e(x.id),isActive:n===x.id,tooltip:x.label,children:[w.jsx(x.icon,{className:"h-4 w-4 shrink-0"}),w.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:x.label})]})},x.id))})})]})]}),w.jsx(R4,{className:"border-t border-sidebar-border p-2",children:w.jsxs(Ug,{children:[w.jsx(Vh,{children:w.jsxs(bT,{modal:!1,children:[w.jsx(by,{children:w.jsxs(Sy,{children:[w.jsx(xy,{asChild:!0,children:w.jsx(ST,{asChild:!0,children:w.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground transition-colors",children:[w.jsx(rN,{className:"h-4 w-4 shrink-0"}),w.jsx("span",{className:"group-data-[collapsible=icon]:hidden flex-1 text-left",children:"Settings"}),w.jsx(g2,{className:"h-4 w-4 shrink-0 group-data-[collapsible=icon]:hidden"})]})})}),w.jsx(Sf,{side:"right",className:"group-data-[collapsible=icon]:block hidden",children:"Settings"})]})}),w.jsxs(Gv,{side:u?"right":"top",align:"start",className:"w-56",sideOffset:8,children:[w.jsx(Kv,{children:"Settings"}),w.jsx(Zv,{}),w.jsxs(Lu,{onSelect:x=>x.preventDefault(),className:"flex items-center justify-between cursor-pointer",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(c2,{className:"h-4 w-4"}),w.jsx("span",{children:"Notifications"})]}),w.jsx(kT,{checked:h,onCheckedChange:p})]}),w.jsxs(Lu,{onSelect:()=>l(i==="dark"?"light":"dark"),className:"cursor-pointer",children:[i==="dark"?w.jsx(lN,{className:"mr-2 h-4 w-4"}):w.jsx(B2,{className:"mr-2 h-4 w-4"}),i==="dark"?"Light Mode":"Dark Mode"]})]})]})}),w.jsx(k4,{className:"my-1"}),w.jsx(Vh,{children:w.jsxs($g,{onClick:s,tooltip:u?"Expand Sidebar":"Collapse Sidebar",children:[u?w.jsx(K2,{className:"h-4 w-4 shrink-0"}):w.jsx(W2,{className:"h-4 w-4 shrink-0"}),w.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Collapse"})]})})]})}),w.jsx(C4,{})]})}function xL(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const IL=n=>{switch(n){case"success":return PL;case"info":return RL;case"warning":return AL;case"error":return kL;default:return null}},TL=Array(12).fill(0),CL=({visible:n,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ce.createElement("div",{className:"sonner-spinner"},TL.map((t,r)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),PL=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),AL=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),RL=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kL=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),NL=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),DL=()=>{const[n,e]=ce.useState(document.hidden);return ce.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Cy=1;class OL{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Cy++,l=this.toasts.find(h=>h.id===i),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(h=>h.id===i?(this.publish({...h,...e,id:i,title:r}),{...h,...e,id:i,dismissible:u,title:r}):h):this.addToast({title:r,...s,dismissible:u,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,l;const u=s.then(async p=>{if(l=["resolve",p],ce.isValidElement(p))i=!1,this.create({id:r,type:"default",message:p});else if(VL(p)&&!p.ok){i=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,E=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,A=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:E,...A})}else if(p instanceof Error){i=!1;const m=typeof t.error=="function"?await t.error(p):t.error,E=typeof t.description=="function"?await t.description(p):t.description,A=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:E,...A})}else if(t.success!==void 0){i=!1;const m=typeof t.success=="function"?await t.success(p):t.success,E=typeof t.description=="function"?await t.description(p):t.description,A=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:E,...A})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){i=!1;const y=typeof t.error=="function"?await t.error(p):t.error,m=typeof t.description=="function"?await t.description(p):t.description,x=typeof y=="object"&&!ce.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:m,...x})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,y)=>u.then(()=>l[0]==="reject"?y(l[1]):p(l[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,t)=>{const r=t?.id||Cy++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Xn=new OL,ML=(n,e)=>{const t=e?.id||Cy++;return Xn.addToast({title:n,...e,id:t}),t},VL=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",LL=ML,FL=()=>Xn.toasts,jL=()=>Xn.getActiveToasts(),Qr=Object.assign(LL,{success:Xn.success,info:Xn.info,warning:Xn.warning,error:Xn.error,custom:Xn.custom,message:Xn.message,promise:Xn.promise,dismiss:Xn.dismiss,loading:Xn.loading},{getHistory:FL,getToasts:jL});xL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Lh(n){return n.label!==void 0}const zL=3,UL="24px",$L="16px",sb=4e3,BL=356,qL=14,HL=45,WL=200;function Ss(...n){return n.filter(Boolean).join(" ")}function GL(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const KL=n=>{var e,t,r,s,i,l,u,h,p;const{invert:y,toast:m,unstyled:E,interacting:x,setHeights:A,visibleToasts:C,heights:R,index:D,toasts:M,expanded:z,removeToast:U,defaultRichColors:$,closeButton:K,style:P,cancelButtonStyle:T,actionButtonStyle:N,className:V="",descriptionClassName:F="",duration:B,position:O,gap:Te,expandByDefault:Be,classNames:ve,icons:Ee,closeButtonAriaLabel:W="Close toast"}=n,[ne,X]=ce.useState(null),[j,G]=ce.useState(null),[se,ie]=ce.useState(!1),[fe,xe]=ce.useState(!1),[we,be]=ce.useState(!1),[Ge,Ke]=ce.useState(!1),[ye,St]=ce.useState(!1),[hn,rs]=ce.useState(0),[Da,Us]=ce.useState(0),er=ce.useRef(m.duration||B||sb),_o=ce.useRef(null),yt=ce.useRef(null),Vt=D===0,tr=D+1<=C,on=m.type,yr=m.dismissible!==!1,Oa=m.className||"",ss=m.descriptionClassName||"",os=ce.useMemo(()=>R.findIndex(qe=>qe.toastId===m.id)||0,[R,m.id]),wo=ce.useMemo(()=>{var qe;return(qe=m.closeButton)!=null?qe:K},[m.closeButton,K]),Lr=ce.useMemo(()=>m.duration||B||sb,[m.duration,B]),Eo=ce.useRef(0),Bn=ce.useRef(0),Fr=ce.useRef(0),jr=ce.useRef(null),[is,bo]=O.split("-"),So=ce.useMemo(()=>R.reduce((qe,xt,Ht)=>Ht>=os?qe:qe+xt.height,0),[R,os]),qn=DL(),xo=m.invert||y,vr=on==="loading";Bn.current=ce.useMemo(()=>os*Te+So,[os,So]),ce.useEffect(()=>{er.current=Lr},[Lr]),ce.useEffect(()=>{ie(!0)},[]),ce.useEffect(()=>{const qe=yt.current;if(qe){const xt=qe.getBoundingClientRect().height;return Us(xt),A(Ht=>[{toastId:m.id,height:xt,position:m.position},...Ht]),()=>A(Ht=>Ht.filter(fn=>fn.toastId!==m.id))}},[A,m.id]),ce.useLayoutEffect(()=>{if(!se)return;const qe=yt.current,xt=qe.style.height;qe.style.height="auto";const Ht=qe.getBoundingClientRect().height;qe.style.height=xt,Us(Ht),A(fn=>fn.find(Ut=>Ut.toastId===m.id)?fn.map(Ut=>Ut.toastId===m.id?{...Ut,height:Ht}:Ut):[{toastId:m.id,height:Ht,position:m.position},...fn])},[se,m.title,m.description,A,m.id,m.jsx,m.action,m.cancel]);const Mn=ce.useCallback(()=>{xe(!0),rs(Bn.current),A(qe=>qe.filter(xt=>xt.toastId!==m.id)),setTimeout(()=>{U(m)},WL)},[m,U,A,Bn]);ce.useEffect(()=>{if(m.promise&&on==="loading"||m.duration===1/0||m.type==="loading")return;let qe;return z||x||qn?(()=>{if(Fr.current<Eo.current){const fn=new Date().getTime()-Eo.current;er.current=er.current-fn}Fr.current=new Date().getTime()})():(()=>{er.current!==1/0&&(Eo.current=new Date().getTime(),qe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Mn()},er.current))})(),()=>clearTimeout(qe)},[z,x,m,on,qn,Mn]),ce.useEffect(()=>{m.delete&&(Mn(),m.onDismiss==null||m.onDismiss.call(m,m))},[Mn,m.delete]);function zr(){var qe;if(Ee?.loading){var xt;return ce.createElement("div",{className:Ss(ve?.loader,m==null||(xt=m.classNames)==null?void 0:xt.loader,"sonner-loader"),"data-visible":on==="loading"},Ee.loading)}return ce.createElement(CL,{className:Ss(ve?.loader,m==null||(qe=m.classNames)==null?void 0:qe.loader),visible:on==="loading"})}const Ur=m.icon||Ee?.[on]||IL(on);var Pt,Io;return ce.createElement("li",{tabIndex:0,ref:yt,className:Ss(V,Oa,ve?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,ve?.default,ve?.[on],m==null||(t=m.classNames)==null?void 0:t[on]),"data-sonner-toast":"","data-rich-colors":(Pt=m.richColors)!=null?Pt:$,"data-styled":!(m.jsx||m.unstyled||E),"data-mounted":se,"data-promise":!!m.promise,"data-swiped":ye,"data-removed":fe,"data-visible":tr,"data-y-position":is,"data-x-position":bo,"data-index":D,"data-front":Vt,"data-swiping":we,"data-dismissible":yr,"data-type":on,"data-invert":xo,"data-swipe-out":Ge,"data-swipe-direction":j,"data-expanded":!!(z||Be&&se),"data-testid":m.testId,style:{"--index":D,"--toasts-before":D,"--z-index":M.length-D,"--offset":`${fe?hn:Bn.current}px`,"--initial-height":Be?"auto":`${Da}px`,...P,...m.style},onDragEnd:()=>{be(!1),X(null),jr.current=null},onPointerDown:qe=>{qe.button!==2&&(vr||!yr||(_o.current=new Date,rs(Bn.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(be(!0),jr.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,xt,Ht;if(Ge||!yr)return;jr.current=null;const fn=Number(((qe=yt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Vn=Number(((xt=yt.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((Ht=_o.current)==null?void 0:Ht.getTime()),Yt=ne==="x"?fn:Vn,nr=Math.abs(Yt)/Ut;if(Math.abs(Yt)>=HL||nr>.11){rs(Bn.current),m.onDismiss==null||m.onDismiss.call(m,m),G(ne==="x"?fn>0?"right":"left":Vn>0?"down":"up"),Mn(),Ke(!0);return}else{var Xt,In;(Xt=yt.current)==null||Xt.style.setProperty("--swipe-amount-x","0px"),(In=yt.current)==null||In.style.setProperty("--swipe-amount-y","0px")}St(!1),be(!1),X(null)},onPointerMove:qe=>{var xt,Ht,fn;if(!jr.current||!yr||((xt=window.getSelection())==null?void 0:xt.toString().length)>0)return;const Ut=qe.clientY-jr.current.y,Yt=qe.clientX-jr.current.x;var nr;const Xt=(nr=n.swipeDirections)!=null?nr:GL(O);!ne&&(Math.abs(Yt)>1||Math.abs(Ut)>1)&&X(Math.abs(Yt)>Math.abs(Ut)?"x":"y");let In={x:0,y:0};const _r=pn=>1/(1.5+Math.abs(pn)/20);if(ne==="y"){if(Xt.includes("top")||Xt.includes("bottom"))if(Xt.includes("top")&&Ut<0||Xt.includes("bottom")&&Ut>0)In.y=Ut;else{const pn=Ut*_r(Ut);In.y=Math.abs(pn)<Math.abs(Ut)?pn:Ut}}else if(ne==="x"&&(Xt.includes("left")||Xt.includes("right")))if(Xt.includes("left")&&Yt<0||Xt.includes("right")&&Yt>0)In.x=Yt;else{const pn=Yt*_r(Yt);In.x=Math.abs(pn)<Math.abs(Yt)?pn:Yt}(Math.abs(In.x)>0||Math.abs(In.y)>0)&&St(!0),(Ht=yt.current)==null||Ht.style.setProperty("--swipe-amount-x",`${In.x}px`),(fn=yt.current)==null||fn.style.setProperty("--swipe-amount-y",`${In.y}px`)}},wo&&!m.jsx&&on!=="loading"?ce.createElement("button",{"aria-label":W,"data-disabled":vr,"data-close-button":!0,onClick:vr||!yr?()=>{}:()=>{Mn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Ss(ve?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Io=Ee?.close)!=null?Io:NL):null,(on||m.icon||m.promise)&&m.icon!==null&&(Ee?.[on]!==null||m.icon)?ce.createElement("div",{"data-icon":"",className:Ss(ve?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||zr():null,m.type!=="loading"?Ur:null):null,ce.createElement("div",{"data-content":"",className:Ss(ve?.content,m==null||(i=m.classNames)==null?void 0:i.content)},ce.createElement("div",{"data-title":"",className:Ss(ve?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ce.createElement("div",{"data-description":"",className:Ss(F,ss,ve?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),ce.isValidElement(m.cancel)?m.cancel:m.cancel&&Lh(m.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:qe=>{Lh(m.cancel)&&yr&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,qe),Mn())},className:Ss(ve?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,ce.isValidElement(m.action)?m.action:m.action&&Lh(m.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||N,onClick:qe=>{Lh(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,qe),!qe.defaultPrevented&&Mn())},className:Ss(ve?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function ob(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function ZL(n,e){const t={};return[n,e].forEach((r,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",u=i?$L:UL;function h(p){["top","right","bottom","left"].forEach(y=>{t[`${l}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=u:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(u)}),t}const QL=ce.forwardRef(function(e,t){const{id:r,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:h,className:p,offset:y,mobileOffset:m,theme:E="light",richColors:x,duration:A,style:C,visibleToasts:R=zL,toastOptions:D,dir:M=ob(),gap:z=qL,icons:U,containerAriaLabel:$="Notifications"}=e,[K,P]=ce.useState([]),T=ce.useMemo(()=>r?K.filter(se=>se.toasterId===r):K.filter(se=>!se.toasterId),[K,r]),N=ce.useMemo(()=>Array.from(new Set([i].concat(T.filter(se=>se.position).map(se=>se.position)))),[T,i]),[V,F]=ce.useState([]),[B,O]=ce.useState(!1),[Te,Be]=ce.useState(!1),[ve,Ee]=ce.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=ce.useRef(null),ne=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=ce.useRef(null),j=ce.useRef(!1),G=ce.useCallback(se=>{P(ie=>{var fe;return(fe=ie.find(xe=>xe.id===se.id))!=null&&fe.delete||Xn.dismiss(se.id),ie.filter(({id:xe})=>xe!==se.id)})},[]);return ce.useEffect(()=>Xn.subscribe(se=>{if(se.dismiss){requestAnimationFrame(()=>{P(ie=>ie.map(fe=>fe.id===se.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{eI.flushSync(()=>{P(ie=>{const fe=ie.findIndex(xe=>xe.id===se.id);return fe!==-1?[...ie.slice(0,fe),{...ie[fe],...se},...ie.slice(fe+1)]:[se,...ie]})})})}),[K]),ce.useEffect(()=>{if(E!=="system"){Ee(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ee("dark"):Ee("light")),typeof window>"u")return;const se=window.matchMedia("(prefers-color-scheme: dark)");try{se.addEventListener("change",({matches:ie})=>{Ee(ie?"dark":"light")})}catch{se.addListener(({matches:fe})=>{try{Ee(fe?"dark":"light")}catch(xe){console.error(xe)}})}},[E]),ce.useEffect(()=>{K.length<=1&&O(!1)},[K]),ce.useEffect(()=>{const se=ie=>{var fe;if(l.every(be=>ie[be]||ie.code===be)){var we;O(!0),(we=W.current)==null||we.focus()}ie.code==="Escape"&&(document.activeElement===W.current||(fe=W.current)!=null&&fe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[l]),ce.useEffect(()=>{if(W.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,j.current=!1)}},[W.current]),ce.createElement("section",{ref:t,"aria-label":`${$} ${ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((se,ie)=>{var fe;const[xe,we]=se.split("-");return T.length?ce.createElement("ol",{key:se,dir:M==="auto"?ob():M,tabIndex:-1,ref:W,className:p,"data-sonner-toaster":!0,"data-sonner-theme":ve,"data-y-position":xe,"data-x-position":we,style:{"--front-toast-height":`${((fe=V[0])==null?void 0:fe.height)||0}px`,"--width":`${BL}px`,"--gap":`${z}px`,...C,...ZL(y,m)},onBlur:be=>{j.current&&!be.currentTarget.contains(be.relatedTarget)&&(j.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||j.current||(j.current=!0,X.current=be.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{Te||O(!1)},onDragEnd:()=>O(!1),onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||Be(!0)},onPointerUp:()=>Be(!1)},T.filter(be=>!be.position&&ie===0||be.position===se).map((be,Ge)=>{var Ke,ye;return ce.createElement(KL,{key:be.id,icons:U,index:Ge,toast:be,defaultRichColors:x,duration:(Ke=D?.duration)!=null?Ke:A,className:D?.className,descriptionClassName:D?.descriptionClassName,invert:s,visibleToasts:R,closeButton:(ye=D?.closeButton)!=null?ye:h,interacting:Te,position:se,style:D?.style,unstyled:D?.unstyled,classNames:D?.classNames,cancelButtonStyle:D?.cancelButtonStyle,actionButtonStyle:D?.actionButtonStyle,closeButtonAriaLabel:D?.closeButtonAriaLabel,removeToast:G,toasts:T.filter(St=>St.position==be.position),heights:V.filter(St=>St.position==be.position),setHeights:F,expandByDefault:u,gap:z,expanded:B,swipeDirections:e.swipeDirections})})):null}))}),ib=({...n})=>{const{theme:e="system"}=MT();return w.jsx(QL,{theme:e,className:"toaster group",position:"top-right",richColors:!0,closeButton:!0,duration:4e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",success:"group-[.toaster]:border-green-500/50 group-[.toaster]:bg-green-50 dark:group-[.toaster]:bg-green-950/30 group-[.toaster]:text-green-700 dark:group-[.toaster]:text-green-400",error:"group-[.toaster]:border-red-500/50 group-[.toaster]:bg-red-50 dark:group-[.toaster]:bg-red-950/30 group-[.toaster]:text-red-700 dark:group-[.toaster]:text-red-400",warning:"group-[.toaster]:border-yellow-500/50 group-[.toaster]:bg-yellow-50 dark:group-[.toaster]:bg-yellow-950/30 group-[.toaster]:text-yellow-700 dark:group-[.toaster]:text-yellow-400",info:"group-[.toaster]:border-blue-500/50 group-[.toaster]:bg-blue-50 dark:group-[.toaster]:bg-blue-950/30 group-[.toaster]:text-blue-700 dark:group-[.toaster]:text-blue-400"}},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function VT({className:n,...e}){return w.jsx("div",{"data-slot":"card",className:$e("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function LT({className:n,...e}){return w.jsx("div",{"data-slot":"card-header",className:$e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function FT({className:n,...e}){return w.jsx("h4",{"data-slot":"card-title",className:$e("leading-none",n),...e})}function jT({className:n,...e}){return w.jsx("p",{"data-slot":"card-description",className:$e("text-muted-foreground",n),...e})}function zT({className:n,...e}){return w.jsx("div",{"data-slot":"card-content",className:$e("px-6 [&:last-child]:pb-6",n),...e})}class ab extends b.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t),this.props.onError?.(e,t),this.setState({errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:w.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-4",children:w.jsxs(VT,{className:"max-w-lg w-full",children:[w.jsxs(LT,{children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(uN,{className:"h-6 w-6 text-red-500"}),w.jsx(FT,{children:"Something went wrong"})]}),w.jsx(jT,{children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."})]}),w.jsxs(zT,{className:"space-y-4",children:[this.state.error&&w.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-950 p-4",children:w.jsx("p",{className:"text-sm font-mono text-red-800 dark:text-red-200",children:this.state.error.message})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs(ku,{onClick:this.handleReset,className:"flex-1",children:[w.jsx(X2,{className:"h-4 w-4 mr-2"}),"Try Again"]}),w.jsx(ku,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]}),!1]})]})}):this.props.children}}var YL="Label",UT=b.forwardRef((n,e)=>w.jsx(ft.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));UT.displayName=YL;var XL=UT;function ou({className:n,...e}){return w.jsx(XL,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}var xp="Checkbox",[JL]=Ls(xp),[e5,Yv]=JL(xp);function t5(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:h,required:p,value:y="on",internal_do_not_use_render:m}=n,[E,x]=ic({prop:t,defaultProp:s??!1,onChange:h,caller:xp}),[A,C]=b.useState(null),[R,D]=b.useState(null),M=b.useRef(!1),z=A?!!l||!!A.closest("form"):!0,U={checked:E,disabled:i,setChecked:x,control:A,setControl:C,name:u,form:l,value:y,hasConsumerStoppedPropagationRef:M,required:p,defaultChecked:ii(s)?!1:s,isFormControl:z,bubbleInput:R,setBubbleInput:D};return w.jsx(e5,{scope:e,...U,children:n5(m)?m(U):r})}var $T="CheckboxTrigger",BT=b.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:i,value:l,disabled:u,checked:h,required:p,setControl:y,setChecked:m,hasConsumerStoppedPropagationRef:E,isFormControl:x,bubbleInput:A}=Yv($T,n),C=wt(s,y),R=b.useRef(h);return b.useEffect(()=>{const D=i?.form;if(D){const M=()=>m(R.current);return D.addEventListener("reset",M),()=>D.removeEventListener("reset",M)}},[i,m]),w.jsx(ft.button,{type:"button",role:"checkbox","aria-checked":ii(h)?"mixed":h,"aria-required":p,"data-state":ZT(h),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:C,onKeyDown:Le(e,D=>{D.key==="Enter"&&D.preventDefault()}),onClick:Le(t,D=>{m(M=>ii(M)?!0:!M),A&&x&&(E.current=D.isPropagationStopped(),E.current||D.stopPropagation())})})});BT.displayName=$T;var qT=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h,onCheckedChange:p,form:y,...m}=n;return w.jsx(t5,{__scopeCheckbox:t,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:p,name:r,form:y,value:h,internal_do_not_use_render:({isFormControl:E})=>w.jsxs(w.Fragment,{children:[w.jsx(BT,{...m,ref:e,__scopeCheckbox:t}),E&&w.jsx(KT,{__scopeCheckbox:t})]})})});qT.displayName=xp;var HT="CheckboxIndicator",WT=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,i=Yv(HT,t);return w.jsx(Un,{present:r||ii(i.checked)||i.checked===!0,children:w.jsx(ft.span,{"data-state":ZT(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});WT.displayName=HT;var GT="CheckboxBubbleInput",KT=b.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:h,name:p,value:y,form:m,bubbleInput:E,setBubbleInput:x}=Yv(GT,n),A=wt(t,x),C=xT(i),R=Ov(r);b.useEffect(()=>{const M=E;if(!M)return;const z=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(z,"checked").set,K=!s.current;if(C!==i&&$){const P=new Event("click",{bubbles:K});M.indeterminate=ii(i),$.call(M,ii(i)?!1:i),M.dispatchEvent(P)}},[E,C,i,s]);const D=b.useRef(ii(i)?!1:i);return w.jsx(ft.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??D.current,required:u,disabled:h,name:p,value:y,form:m,...e,tabIndex:-1,ref:A,style:{...e.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});KT.displayName=GT;function n5(n){return typeof n=="function"}function ii(n){return n==="indeterminate"}function ZT(n){return ii(n)?"indeterminate":n?"checked":"unchecked"}function r5({className:n,...e}){return w.jsx(qT,{"data-slot":"checkbox",className:$e("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:w.jsx(WT,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:w.jsx($x,{className:"size-3.5"})})})}function re(n,e,t){function r(u,h){var p;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(p=u._zod).traits??(p.traits=new Set),u._zod.traits.add(n),e(u,h);for(const y in l.prototype)y in u||Object.defineProperty(u,y,{value:l.prototype[y].bind(u)});u._zod.constr=l,u._zod.def=h}const s=t?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:n});function l(u){var h;const p=t?.Parent?new i:this;r(p,u),(h=p._zod).deferred??(h.deferred=[]);for(const y of p._zod.deferred)y();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>t?.Parent&&u instanceof t.Parent?!0:u?._zod?.traits?.has(n)}),Object.defineProperty(l,"name",{value:n}),l}class Ol extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class QT extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const YT={};function pa(n){return YT}function s5(n){const e=Object.values(n).filter(r=>typeof r=="number");return Object.entries(n).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function Py(n,e){return typeof e=="bigint"?e.toString():e}function Xv(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function Jv(n){return n==null}function e_(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}function o5(n,e){const t=(n.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(s=Number.parseInt(h[1]))}const i=t>s?t:s,l=Number.parseInt(n.toFixed(i).replace(".","")),u=Number.parseInt(e.toFixed(i).replace(".",""));return l%u/10**i}const lb=Symbol("evaluating");function Ct(n,e,t){let r;Object.defineProperty(n,e,{get(){if(r!==lb)return r===void 0&&(r=lb,r=t()),r},set(s){Object.defineProperty(n,e,{value:s})},configurable:!0})}function Aa(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function Ra(...n){const e={};for(const t of n){const r=Object.getOwnPropertyDescriptors(t);Object.assign(e,r)}return Object.defineProperties({},e)}function cb(n){return JSON.stringify(n)}const XT="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function Tf(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const i5=Xv(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Fu(n){if(Tf(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(Tf(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function JT(n){return Fu(n)?{...n}:Array.isArray(n)?[...n]:n}const a5=new Set(["string","number","symbol"]);function Ip(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wi(n,e,t){const r=new n._zod.constr(e??n._zod.def);return(!e||t?.parent)&&(r._zod.parent=n),r}function Fe(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function l5(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}const c5={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function u5(n,e){const t=n._zod.def,r=Ra(n._zod.def,{get shape(){const s={};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=t.shape[i])}return Aa(this,"shape",s),s},checks:[]});return wi(n,r)}function d5(n,e){const t=n._zod.def,r=Ra(n._zod.def,{get shape(){const s={...n._zod.def.shape};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return Aa(this,"shape",s),s},checks:[]});return wi(n,r)}function h5(n,e){if(!Fu(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Ra(n._zod.def,{get shape(){const i={...n._zod.def.shape,...e};return Aa(this,"shape",i),i},checks:[]});return wi(n,s)}function f5(n,e){if(!Fu(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const r={...n._zod.def.shape,...e};return Aa(this,"shape",r),r},checks:n._zod.def.checks};return wi(n,t)}function p5(n,e){const t=Ra(n._zod.def,{get shape(){const r={...n._zod.def.shape,...e._zod.def.shape};return Aa(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return wi(n,t)}function m5(n,e,t){const r=Ra(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=n?new n({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)i[l]=n?new n({type:"optional",innerType:s[l]}):s[l];return Aa(this,"shape",i),i},checks:[]});return wi(e,r)}function g5(n,e,t){const r=Ra(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=new n({type:"nonoptional",innerType:s[l]}))}else for(const l in s)i[l]=new n({type:"nonoptional",innerType:s[l]});return Aa(this,"shape",i),i},checks:[]});return wi(e,r)}function Rl(n,e=0){if(n.aborted===!0)return!0;for(let t=e;t<n.issues.length;t++)if(n.issues[t]?.continue!==!0)return!0;return!1}function eC(n,e){return e.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(n),t})}function Fh(n){return typeof n=="string"?n:n?.message}function ma(n,e,t){const r={...n,path:n.path??[]};if(!n.message){const s=Fh(n.inst?._zod.def?.error?.(n))??Fh(e?.error?.(n))??Fh(t.customError?.(n))??Fh(t.localeError?.(n))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function t_(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function ju(...n){const[e,t,r]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:r}:{...e}}const tC=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,Py,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},nC=re("$ZodError",tC),rC=re("$ZodError",tC,{Parent:Error});function y5(n,e=t=>t.message){const t={},r=[];for(const s of n.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}function v5(n,e=t=>t.message){const t={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>r({issues:l}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)t._errors.push(e(i));else{let l=t,u=0;for(;u<i.path.length;){const h=i.path[u];u===i.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(e(i))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return r(n),t}const n_=n=>(e,t,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise)throw new Ol;if(l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>ma(h,i,pa())));throw XT(u,s?.callee),u}return l.value},r_=n=>async(e,t,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>ma(h,i,pa())));throw XT(u,s?.callee),u}return l.value},Tp=n=>(e,t,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:t,issues:[]},s);if(i instanceof Promise)throw new Ol;return i.issues.length?{success:!1,error:new(n??nC)(i.issues.map(l=>ma(l,s,pa())))}:{success:!0,data:i.value}},_5=Tp(rC),Cp=n=>async(e,t,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:t,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new n(i.issues.map(l=>ma(l,s,pa())))}:{success:!0,data:i.value}},w5=Cp(rC),E5=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return n_(n)(e,t,s)},b5=n=>(e,t,r)=>n_(n)(e,t,r),S5=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return r_(n)(e,t,s)},x5=n=>async(e,t,r)=>r_(n)(e,t,r),I5=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Tp(n)(e,t,s)},T5=n=>(e,t,r)=>Tp(n)(e,t,r),C5=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Cp(n)(e,t,s)},P5=n=>async(e,t,r)=>Cp(n)(e,t,r),A5=/^[cC][^\s-]{8,}$/,R5=/^[0-9a-z]+$/,k5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,N5=/^[0-9a-vA-V]{20}$/,D5=/^[A-Za-z0-9]{27}$/,O5=/^[a-zA-Z0-9_-]{21}$/,M5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,V5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ub=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,L5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,F5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function j5(){return new RegExp(F5,"u")}const z5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,U5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,$5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,B5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,q5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,sC=/^[A-Za-z0-9_-]*$/,H5=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,W5=/^\+(?:[0-9]){6,14}[0-9]$/,oC="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",G5=new RegExp(`^${oC}$`);function iC(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function K5(n){return new RegExp(`^${iC(n)}$`)}function Z5(n){const e=iC({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${t.join("|")})`;return new RegExp(`^${oC}T(?:${r})$`)}const Q5=n=>{const e=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Y5=/^-?\d+$/,X5=/^-?\d+(?:\.\d+)?/,J5=/^(?:true|false)$/i,eF=/^[^A-Z]*$/,tF=/^[^a-z]*$/,Jn=re("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),aC={number:"number",bigint:"bigint",object:"date"},lC=re("$ZodCheckLessThan",(n,e)=>{Jn.init(n,e);const t=aC[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:t,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),cC=re("$ZodCheckGreaterThan",(n,e)=>{Jn.init(n,e);const t=aC[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:t,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),nF=re("$ZodCheckMultipleOf",(n,e)=>{Jn.init(n,e),n._zod.onattach.push(t=>{var r;(r=t._zod.bag).multipleOf??(r.multipleOf=e.value)}),n._zod.check=t=>{if(typeof t.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%e.value===BigInt(0):o5(t.value,e.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:e.value,input:t.value,inst:n,continue:!e.abort})}}),rF=re("$ZodCheckNumberFormat",(n,e)=>{Jn.init(n,e),e.format=e.format||"float64";const t=e.format?.includes("int"),r=t?"int":"number",[s,i]=c5[e.format];n._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=s,u.maximum=i,t&&(u.pattern=Y5)}),n._zod.check=l=>{const u=l.value;if(t){if(!Number.isInteger(u)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:u,inst:n});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort});return}}u<s&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:n,continue:!e.abort}),u>i&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:n})}}),sF=re("$ZodCheckMaxLength",(n,e)=>{var t;Jn.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!Jv(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),n._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const l=t_(s);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),oF=re("$ZodCheckMinLength",(n,e)=>{var t;Jn.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!Jv(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),n._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const l=t_(s);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),iF=re("$ZodCheckLengthEquals",(n,e)=>{var t;Jn.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!Jv(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),n._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const l=t_(s),u=i>e.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:n,continue:!e.abort})}}),Pp=re("$ZodCheckStringFormat",(n,e)=>{var t,r;Jn.init(n,e),n._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(r=n._zod).check??(r.check=()=>{})}),aF=re("$ZodCheckRegex",(n,e)=>{Pp.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),lF=re("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=eF),Pp.init(n,e)}),cF=re("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=tF),Pp.init(n,e)}),uF=re("$ZodCheckIncludes",(n,e)=>{Jn.init(n,e);const t=Ip(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=r,n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),n._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:n,continue:!e.abort})}}),dF=re("$ZodCheckStartsWith",(n,e)=>{Jn.init(n,e);const t=new RegExp(`^${Ip(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:n,continue:!e.abort})}}),hF=re("$ZodCheckEndsWith",(n,e)=>{Jn.init(n,e);const t=new RegExp(`.*${Ip(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:n,continue:!e.abort})}}),fF=re("$ZodCheckOverwrite",(n,e)=>{Jn.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class pF{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),s=Math.min(...r.map(l=>l.length-l.trimStart().length)),i=r.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const e=Function,t=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...t,s.join(`
`))}}const mF={major:4,minor:1,patch:12},Qt=re("$ZodType",(n,e)=>{var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=mF;const r=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&r.unshift(n);for(const s of r)for(const i of s._zod.onattach)i(n);if(r.length===0)(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const s=(l,u,h)=>{let p=Rl(l),y;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(p)continue;const E=l.issues.length,x=m._zod.check(l);if(x instanceof Promise&&h?.async===!1)throw new Ol;if(y||x instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await x,l.issues.length!==E&&(p||(p=Rl(l,E)))});else{if(l.issues.length===E)continue;p||(p=Rl(l,E))}}return y?y.then(()=>l):l},i=(l,u,h)=>{if(Rl(l))return l.aborted=!0,l;const p=s(u,r,h);if(p instanceof Promise){if(h.async===!1)throw new Ol;return p.then(y=>n._zod.parse(y,h))}return n._zod.parse(p,h)};n._zod.run=(l,u)=>{if(u.skipChecks)return n._zod.parse(l,u);if(u.direction==="backward"){const p=n._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return p instanceof Promise?p.then(y=>i(y,l,u)):i(p,l,u)}const h=n._zod.parse(l,u);if(h instanceof Promise){if(u.async===!1)throw new Ol;return h.then(p=>s(p,r,u))}return s(h,r,u)}}n["~standard"]={validate:s=>{try{const i=_5(n,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return w5(n,s).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),s_=re("$ZodString",(n,e)=>{Qt.init(n,e),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??Q5(n._zod.bag),n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:n}),t}}),Mt=re("$ZodStringFormat",(n,e)=>{Pp.init(n,e),s_.init(n,e)}),gF=re("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=V5),Mt.init(n,e)}),yF=re("$ZodUUID",(n,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=ub(r))}else e.pattern??(e.pattern=ub());Mt.init(n,e)}),vF=re("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=L5),Mt.init(n,e)}),_F=re("$ZodURL",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{try{const r=t.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:H5.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=s.href:t.value=r;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),wF=re("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=j5()),Mt.init(n,e)}),EF=re("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=O5),Mt.init(n,e)}),bF=re("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=A5),Mt.init(n,e)}),SF=re("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=R5),Mt.init(n,e)}),xF=re("$ZodULID",(n,e)=>{e.pattern??(e.pattern=k5),Mt.init(n,e)}),IF=re("$ZodXID",(n,e)=>{e.pattern??(e.pattern=N5),Mt.init(n,e)}),TF=re("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=D5),Mt.init(n,e)}),CF=re("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=Z5(e)),Mt.init(n,e)}),PF=re("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=G5),Mt.init(n,e)}),AF=re("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=K5(e)),Mt.init(n,e)}),RF=re("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=M5),Mt.init(n,e)}),kF=re("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=z5),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv4"})}),NF=re("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=U5),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),DF=re("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=$5),Mt.init(n,e)}),OF=re("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=B5),Mt.init(n,e),n._zod.check=t=>{const r=t.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const l=Number(i);if(`${l}`!==i)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${s}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function uC(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const MF=re("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=q5),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{uC(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function VF(n){if(!sC.test(n))return!1;const e=n.replace(/[-_]/g,r=>r==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return uC(t)}const LF=re("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=sC),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{VF(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),FF=re("$ZodE164",(n,e)=>{e.pattern??(e.pattern=W5),Mt.init(n,e)});function jF(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[r]=t;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const zF=re("$ZodJWT",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{jF(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),dC=re("$ZodNumber",(n,e)=>{Qt.init(n,e),n._zod.pattern=n._zod.bag.pattern??X5,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=Number(t.value)}catch{}const s=t.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return t;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:s,inst:n,...i?{received:i}:{}}),t}}),UF=re("$ZodNumber",(n,e)=>{rF.init(n,e),dC.init(n,e)}),$F=re("$ZodBoolean",(n,e)=>{Qt.init(n,e),n._zod.pattern=J5,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=!!t.value}catch{}const s=t.value;return typeof s=="boolean"||t.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:n}),t}}),BF=re("$ZodUnknown",(n,e)=>{Qt.init(n,e),n._zod.parse=t=>t}),qF=re("$ZodNever",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)});function db(n,e,t){n.issues.length&&e.issues.push(...eC(t,n.issues)),e.value[t]=n.value}const HF=re("$ZodArray",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value;if(!Array.isArray(s))return t.issues.push({expected:"array",code:"invalid_type",input:s,inst:n}),t;t.value=Array(s.length);const i=[];for(let l=0;l<s.length;l++){const u=s[l],h=e.element._zod.run({value:u,issues:[]},r);h instanceof Promise?i.push(h.then(p=>db(p,t,l))):db(h,t,l)}return i.length?Promise.all(i).then(()=>t):t}});function Cf(n,e,t,r){n.issues.length&&e.issues.push(...eC(t,n.issues)),n.value===void 0?t in r&&(e.value[t]=void 0):e.value[t]=n.value}function hC(n){const e=Object.keys(n.shape);for(const r of e)if(!n.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const t=l5(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function fC(n,e,t,r,s,i){const l=[],u=s.keySet,h=s.catchall._zod,p=h.def.type;for(const y of Object.keys(e)){if(u.has(y))continue;if(p==="never"){l.push(y);continue}const m=h.run({value:e[y],issues:[]},r);m instanceof Promise?n.push(m.then(E=>Cf(E,t,y,e))):Cf(m,t,y,e)}return l.length&&t.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:i}),n.length?Promise.all(n).then(()=>t):t}const WF=re("$ZodObject",(n,e)=>{if(Qt.init(n,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const u=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...u};return Object.defineProperty(e,"shape",{value:h}),h}})}const r=Xv(()=>hC(e));Ct(n._zod,"propValues",()=>{const u=e.shape,h={};for(const p in u){const y=u[p]._zod;if(y.values){h[p]??(h[p]=new Set);for(const m of y.values)h[p].add(m)}}return h});const s=Tf,i=e.catchall;let l;n._zod.parse=(u,h)=>{l??(l=r.value);const p=u.value;if(!s(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:n}),u;u.value={};const y=[],m=l.shape;for(const E of l.keys){const A=m[E]._zod.run({value:p[E],issues:[]},h);A instanceof Promise?y.push(A.then(C=>Cf(C,u,E,p))):Cf(A,u,E,p)}return i?fC(y,p,u,h,r.value,n):y.length?Promise.all(y).then(()=>u):u}}),GF=re("$ZodObjectJIT",(n,e)=>{WF.init(n,e);const t=n._zod.parse,r=Xv(()=>hC(e)),s=E=>{const x=new pF(["shape","payload","ctx"]),A=r.value,C=z=>{const U=cb(z);return`shape[${U}]._zod.run({ value: input[${U}], issues: [] }, ctx)`};x.write("const input = payload.value;");const R=Object.create(null);let D=0;for(const z of A.keys)R[z]=`key_${D++}`;x.write("const newResult = {};");for(const z of A.keys){const U=R[z],$=cb(z);x.write(`const ${U} = ${C(z)};`),x.write(`
        if (${U}.issues.length) {
          payload.issues = payload.issues.concat(${U}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        
        if (${U}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${U}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const M=x.compile();return(z,U)=>M(E,z,U)};let i;const l=Tf,u=!YT.jitless,p=u&&i5.value,y=e.catchall;let m;n._zod.parse=(E,x)=>{m??(m=r.value);const A=E.value;return l(A)?u&&p&&x?.async===!1&&x.jitless!==!0?(i||(i=s(e.shape)),E=i(E,x),y?fC([],A,E,x,m,n):E):t(E,x):(E.issues.push({expected:"object",code:"invalid_type",input:A,inst:n}),E)}});function hb(n,e,t,r){for(const i of n)if(i.issues.length===0)return e.value=i.value,e;const s=n.filter(i=>!Rl(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(i=>i.issues.map(l=>ma(l,r,pa())))}),e)}const KF=re("$ZodUnion",(n,e)=>{Qt.init(n,e),Ct(n._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Ct(n._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Ct(n._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Ct(n._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>e_(i.source)).join("|")})$`)}});const t=e.options.length===1,r=e.options[0]._zod.run;n._zod.parse=(s,i)=>{if(t)return r(s,i);let l=!1;const u=[];for(const h of e.options){const p=h._zod.run({value:s.value,issues:[]},i);if(p instanceof Promise)u.push(p),l=!0;else{if(p.issues.length===0)return p;u.push(p)}}return l?Promise.all(u).then(h=>hb(h,s,n,i)):hb(u,s,n,i)}}),ZF=re("$ZodIntersection",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value,i=e.left._zod.run({value:s,issues:[]},r),l=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([h,p])=>fb(t,h,p)):fb(t,i,l)}});function Ay(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(Fu(n)&&Fu(e)){const t=Object.keys(e),r=Object.keys(n).filter(i=>t.indexOf(i)!==-1),s={...n,...e};for(const i of r){const l=Ay(n[i],e[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};s[i]=l.data}return{valid:!0,data:s}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let r=0;r<n.length;r++){const s=n[r],i=e[r],l=Ay(s,i);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};t.push(l.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function fb(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),Rl(n))return n;const r=Ay(e.value,t.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return n.value=r.data,n}const QF=re("$ZodEnum",(n,e)=>{Qt.init(n,e);const t=s5(e.entries),r=new Set(t);n._zod.values=r,n._zod.pattern=new RegExp(`^(${t.filter(s=>a5.has(typeof s)).map(s=>typeof s=="string"?Ip(s):s.toString()).join("|")})$`),n._zod.parse=(s,i)=>{const l=s.value;return r.has(l)||s.issues.push({code:"invalid_value",values:t,input:l,inst:n}),s}}),YF=re("$ZodTransform",(n,e)=>{Qt.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new QT(n.constructor.name);const s=e.transform(t.value,t);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(t.value=l,t));if(s instanceof Promise)throw new Ol;return t.value=s,t}});function pb(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const XF=re("$ZodOptional",(n,e)=>{Qt.init(n,e),n._zod.optin="optional",n._zod.optout="optional",Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${e_(t.source)})?$`):void 0}),n._zod.parse=(t,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>pb(i,t.value)):pb(s,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,r)}}),JF=re("$ZodNullable",(n,e)=>{Qt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${e_(t.source)}|null)$`):void 0}),Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,r)=>t.value===null?t:e.innerType._zod.run(t,r)}),ej=re("$ZodDefault",(n,e)=>{Qt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);if(t.value===void 0)return t.value=e.defaultValue,t;const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>mb(i,e)):mb(s,e)}});function mb(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const tj=re("$ZodPrefault",(n,e)=>{Qt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>(r.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,r))}),nj=re("$ZodNonOptional",(n,e)=>{Qt.init(n,e),Ct(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(r=>r!==void 0)):void 0}),n._zod.parse=(t,r)=>{const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>gb(i,n)):gb(s,n)}});function gb(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const rj=re("$ZodCatch",(n,e)=>{Qt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(l=>ma(l,r,pa()))},input:t.value}),t.issues=[]),t)):(t.value=s.value,s.issues.length&&(t.value=e.catchValue({...t,error:{issues:s.issues.map(i=>ma(i,r,pa()))},input:t.value}),t.issues=[]),t)}}),sj=re("$ZodPipe",(n,e)=>{Qt.init(n,e),Ct(n._zod,"values",()=>e.in._zod.values),Ct(n._zod,"optin",()=>e.in._zod.optin),Ct(n._zod,"optout",()=>e.out._zod.optout),Ct(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(t,r);return i instanceof Promise?i.then(l=>jh(l,e.in,r)):jh(i,e.in,r)}const s=e.in._zod.run(t,r);return s instanceof Promise?s.then(i=>jh(i,e.out,r)):jh(s,e.out,r)}});function jh(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const oj=re("$ZodReadonly",(n,e)=>{Qt.init(n,e),Ct(n._zod,"propValues",()=>e.innerType._zod.propValues),Ct(n._zod,"values",()=>e.innerType._zod.values),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(yb):yb(s)}});function yb(n){return n.value=Object.freeze(n.value),n}const ij=re("$ZodCustom",(n,e)=>{Jn.init(n,e),Qt.init(n,e),n._zod.parse=(t,r)=>t,n._zod.check=t=>{const r=t.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>vb(i,t,r,n));vb(s,t,r,n)}});function vb(n,e,t,r){if(!n){const s={code:"custom",input:t,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(ju(s))}}class aj{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const r=t[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function lj(){return new aj}const zh=lj();function cj(n,e){return new n({type:"string",...Fe(e)})}function uj(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Fe(e)})}function _b(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(e)})}function dj(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(e)})}function hj(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(e)})}function fj(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(e)})}function pj(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(e)})}function mj(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Fe(e)})}function gj(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(e)})}function yj(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(e)})}function vj(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(e)})}function _j(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(e)})}function wj(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(e)})}function Ej(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(e)})}function bj(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(e)})}function Sj(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(e)})}function xj(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(e)})}function Ij(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(e)})}function Tj(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(e)})}function Cj(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(e)})}function Pj(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(e)})}function Aj(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(e)})}function Rj(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(e)})}function kj(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(e)})}function Nj(n,e){return new n({type:"string",format:"date",check:"string_format",...Fe(e)})}function Dj(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...Fe(e)})}function Oj(n,e){return new n({type:"string",format:"duration",check:"string_format",...Fe(e)})}function Mj(n,e){return new n({type:"number",checks:[],...Fe(e)})}function Vj(n,e){return new n({type:"number",coerce:!0,checks:[],...Fe(e)})}function Lj(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Fe(e)})}function Fj(n,e){return new n({type:"boolean",...Fe(e)})}function jj(n){return new n({type:"unknown"})}function zj(n,e){return new n({type:"never",...Fe(e)})}function wb(n,e){return new lC({check:"less_than",...Fe(e),value:n,inclusive:!1})}function Hg(n,e){return new lC({check:"less_than",...Fe(e),value:n,inclusive:!0})}function Eb(n,e){return new cC({check:"greater_than",...Fe(e),value:n,inclusive:!1})}function Wg(n,e){return new cC({check:"greater_than",...Fe(e),value:n,inclusive:!0})}function bb(n,e){return new nF({check:"multiple_of",...Fe(e),value:n})}function pC(n,e){return new sF({check:"max_length",...Fe(e),maximum:n})}function Pf(n,e){return new oF({check:"min_length",...Fe(e),minimum:n})}function mC(n,e){return new iF({check:"length_equals",...Fe(e),length:n})}function Uj(n,e){return new aF({check:"string_format",format:"regex",...Fe(e),pattern:n})}function $j(n){return new lF({check:"string_format",format:"lowercase",...Fe(n)})}function Bj(n){return new cF({check:"string_format",format:"uppercase",...Fe(n)})}function qj(n,e){return new uF({check:"string_format",format:"includes",...Fe(e),includes:n})}function Hj(n,e){return new dF({check:"string_format",format:"starts_with",...Fe(e),prefix:n})}function Wj(n,e){return new hF({check:"string_format",format:"ends_with",...Fe(e),suffix:n})}function id(n){return new fF({check:"overwrite",tx:n})}function Gj(n){return id(e=>e.normalize(n))}function Kj(){return id(n=>n.trim())}function Zj(){return id(n=>n.toLowerCase())}function Qj(){return id(n=>n.toUpperCase())}function Yj(n,e,t){return new n({type:"array",element:e,...Fe(t)})}function Xj(n,e,t){return new n({type:"custom",check:"custom",fn:e,...Fe(t)})}function Jj(n){const e=e3(t=>(t.addIssue=r=>{if(typeof r=="string")t.issues.push(ju(r,t.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=t.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),t.issues.push(ju(s))}},n(t.value,t)));return e}function e3(n,e){const t=new Jn({check:"custom",...Fe(e)});return t._zod.check=n,t}const t3=re("ZodISODateTime",(n,e)=>{CF.init(n,e),zt.init(n,e)});function n3(n){return kj(t3,n)}const r3=re("ZodISODate",(n,e)=>{PF.init(n,e),zt.init(n,e)});function s3(n){return Nj(r3,n)}const o3=re("ZodISOTime",(n,e)=>{AF.init(n,e),zt.init(n,e)});function i3(n){return Dj(o3,n)}const a3=re("ZodISODuration",(n,e)=>{RF.init(n,e),zt.init(n,e)});function l3(n){return Oj(a3,n)}const c3=(n,e)=>{nC.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>v5(n,t)},flatten:{value:t=>y5(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,Py,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,Py,2)}},isEmpty:{get(){return n.issues.length===0}}})},Mr=re("ZodError",c3,{Parent:Error}),u3=n_(Mr),d3=r_(Mr),h3=Tp(Mr),f3=Cp(Mr),p3=E5(Mr),m3=b5(Mr),g3=S5(Mr),y3=x5(Mr),v3=I5(Mr),_3=T5(Mr),w3=C5(Mr),E3=P5(Mr),sn=re("ZodType",(n,e)=>(Qt.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone(Ra(e,{checks:[...e.checks??[],...t.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),n.clone=(t,r)=>wi(n,t,r),n.brand=()=>n,n.register=((t,r)=>(t.add(n,r),n)),n.parse=(t,r)=>u3(n,t,r,{callee:n.parse}),n.safeParse=(t,r)=>h3(n,t,r),n.parseAsync=async(t,r)=>d3(n,t,r,{callee:n.parseAsync}),n.safeParseAsync=async(t,r)=>f3(n,t,r),n.spa=n.safeParseAsync,n.encode=(t,r)=>p3(n,t,r),n.decode=(t,r)=>m3(n,t,r),n.encodeAsync=async(t,r)=>g3(n,t,r),n.decodeAsync=async(t,r)=>y3(n,t,r),n.safeEncode=(t,r)=>v3(n,t,r),n.safeDecode=(t,r)=>_3(n,t,r),n.safeEncodeAsync=async(t,r)=>w3(n,t,r),n.safeDecodeAsync=async(t,r)=>E3(n,t,r),n.refine=(t,r)=>n.check(h9(t,r)),n.superRefine=t=>n.check(f9(t)),n.overwrite=t=>n.check(id(t)),n.optional=()=>Tb(n),n.nullable=()=>Cb(n),n.nullish=()=>Tb(Cb(n)),n.nonoptional=t=>o9(n,t),n.array=()=>yC(n),n.or=t=>Z3([n,t]),n.and=t=>Y3(n,t),n.transform=t=>Pb(n,J3(t)),n.default=t=>n9(n,t),n.prefault=t=>s9(n,t),n.catch=t=>a9(n,t),n.pipe=t=>Pb(n,t),n.readonly=()=>u9(n),n.describe=t=>{const r=n.clone();return zh.add(r,{description:t}),r},Object.defineProperty(n,"description",{get(){return zh.get(n)?.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return zh.get(n);const r=n.clone();return zh.add(r,t[0]),r},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),gC=re("_ZodString",(n,e)=>{s_.init(n,e),sn.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...r)=>n.check(Uj(...r)),n.includes=(...r)=>n.check(qj(...r)),n.startsWith=(...r)=>n.check(Hj(...r)),n.endsWith=(...r)=>n.check(Wj(...r)),n.min=(...r)=>n.check(Pf(...r)),n.max=(...r)=>n.check(pC(...r)),n.length=(...r)=>n.check(mC(...r)),n.nonempty=(...r)=>n.check(Pf(1,...r)),n.lowercase=r=>n.check($j(r)),n.uppercase=r=>n.check(Bj(r)),n.trim=()=>n.check(Kj()),n.normalize=(...r)=>n.check(Gj(...r)),n.toLowerCase=()=>n.check(Zj()),n.toUpperCase=()=>n.check(Qj())}),b3=re("ZodString",(n,e)=>{s_.init(n,e),gC.init(n,e),n.email=t=>n.check(uj(S3,t)),n.url=t=>n.check(mj(x3,t)),n.jwt=t=>n.check(Rj(j3,t)),n.emoji=t=>n.check(gj(I3,t)),n.guid=t=>n.check(_b(Sb,t)),n.uuid=t=>n.check(dj(Uh,t)),n.uuidv4=t=>n.check(hj(Uh,t)),n.uuidv6=t=>n.check(fj(Uh,t)),n.uuidv7=t=>n.check(pj(Uh,t)),n.nanoid=t=>n.check(yj(T3,t)),n.guid=t=>n.check(_b(Sb,t)),n.cuid=t=>n.check(vj(C3,t)),n.cuid2=t=>n.check(_j(P3,t)),n.ulid=t=>n.check(wj(A3,t)),n.base64=t=>n.check(Cj(V3,t)),n.base64url=t=>n.check(Pj(L3,t)),n.xid=t=>n.check(Ej(R3,t)),n.ksuid=t=>n.check(bj(k3,t)),n.ipv4=t=>n.check(Sj(N3,t)),n.ipv6=t=>n.check(xj(D3,t)),n.cidrv4=t=>n.check(Ij(O3,t)),n.cidrv6=t=>n.check(Tj(M3,t)),n.e164=t=>n.check(Aj(F3,t)),n.datetime=t=>n.check(n3(t)),n.date=t=>n.check(s3(t)),n.time=t=>n.check(i3(t)),n.duration=t=>n.check(l3(t))});function lt(n){return cj(b3,n)}const zt=re("ZodStringFormat",(n,e)=>{Mt.init(n,e),gC.init(n,e)}),S3=re("ZodEmail",(n,e)=>{vF.init(n,e),zt.init(n,e)}),Sb=re("ZodGUID",(n,e)=>{gF.init(n,e),zt.init(n,e)}),Uh=re("ZodUUID",(n,e)=>{yF.init(n,e),zt.init(n,e)}),x3=re("ZodURL",(n,e)=>{_F.init(n,e),zt.init(n,e)}),I3=re("ZodEmoji",(n,e)=>{wF.init(n,e),zt.init(n,e)}),T3=re("ZodNanoID",(n,e)=>{EF.init(n,e),zt.init(n,e)}),C3=re("ZodCUID",(n,e)=>{bF.init(n,e),zt.init(n,e)}),P3=re("ZodCUID2",(n,e)=>{SF.init(n,e),zt.init(n,e)}),A3=re("ZodULID",(n,e)=>{xF.init(n,e),zt.init(n,e)}),R3=re("ZodXID",(n,e)=>{IF.init(n,e),zt.init(n,e)}),k3=re("ZodKSUID",(n,e)=>{TF.init(n,e),zt.init(n,e)}),N3=re("ZodIPv4",(n,e)=>{kF.init(n,e),zt.init(n,e)}),D3=re("ZodIPv6",(n,e)=>{NF.init(n,e),zt.init(n,e)}),O3=re("ZodCIDRv4",(n,e)=>{DF.init(n,e),zt.init(n,e)}),M3=re("ZodCIDRv6",(n,e)=>{OF.init(n,e),zt.init(n,e)}),V3=re("ZodBase64",(n,e)=>{MF.init(n,e),zt.init(n,e)}),L3=re("ZodBase64URL",(n,e)=>{LF.init(n,e),zt.init(n,e)}),F3=re("ZodE164",(n,e)=>{FF.init(n,e),zt.init(n,e)}),j3=re("ZodJWT",(n,e)=>{zF.init(n,e),zt.init(n,e)}),o_=re("ZodNumber",(n,e)=>{dC.init(n,e),sn.init(n,e),n.gt=(r,s)=>n.check(Eb(r,s)),n.gte=(r,s)=>n.check(Wg(r,s)),n.min=(r,s)=>n.check(Wg(r,s)),n.lt=(r,s)=>n.check(wb(r,s)),n.lte=(r,s)=>n.check(Hg(r,s)),n.max=(r,s)=>n.check(Hg(r,s)),n.int=r=>n.check(xb(r)),n.safe=r=>n.check(xb(r)),n.positive=r=>n.check(Eb(0,r)),n.nonnegative=r=>n.check(Wg(0,r)),n.negative=r=>n.check(wb(0,r)),n.nonpositive=r=>n.check(Hg(0,r)),n.multipleOf=(r,s)=>n.check(bb(r,s)),n.step=(r,s)=>n.check(bb(r,s)),n.finite=()=>n;const t=n._zod.bag;n.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),n.isFinite=!0,n.format=t.format??null});function Gg(n){return Mj(o_,n)}const z3=re("ZodNumberFormat",(n,e)=>{UF.init(n,e),o_.init(n,e)});function xb(n){return Lj(z3,n)}const U3=re("ZodBoolean",(n,e)=>{$F.init(n,e),sn.init(n,e)});function $3(n){return Fj(U3,n)}const B3=re("ZodUnknown",(n,e)=>{BF.init(n,e),sn.init(n,e)});function Ib(){return jj(B3)}const q3=re("ZodNever",(n,e)=>{qF.init(n,e),sn.init(n,e)});function H3(n){return zj(q3,n)}const W3=re("ZodArray",(n,e)=>{HF.init(n,e),sn.init(n,e),n.element=e.element,n.min=(t,r)=>n.check(Pf(t,r)),n.nonempty=t=>n.check(Pf(1,t)),n.max=(t,r)=>n.check(pC(t,r)),n.length=(t,r)=>n.check(mC(t,r)),n.unwrap=()=>n.element});function yC(n,e){return Yj(W3,n,e)}const G3=re("ZodObject",(n,e)=>{GF.init(n,e),sn.init(n,e),Ct(n,"shape",()=>e.shape),n.keyof=()=>i_(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:Ib()}),n.loose=()=>n.clone({...n._zod.def,catchall:Ib()}),n.strict=()=>n.clone({...n._zod.def,catchall:H3()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>h5(n,t),n.safeExtend=t=>f5(n,t),n.merge=t=>p5(n,t),n.pick=t=>u5(n,t),n.omit=t=>d5(n,t),n.partial=(...t)=>m5(vC,n,t[0]),n.required=(...t)=>g5(_C,n,t[0])});function Ei(n,e){const t={type:"object",shape:n??{},...Fe(e)};return new G3(t)}const K3=re("ZodUnion",(n,e)=>{KF.init(n,e),sn.init(n,e),n.options=e.options});function Z3(n,e){return new K3({type:"union",options:n,...Fe(e)})}const Q3=re("ZodIntersection",(n,e)=>{ZF.init(n,e),sn.init(n,e)});function Y3(n,e){return new Q3({type:"intersection",left:n,right:e})}const Ry=re("ZodEnum",(n,e)=>{QF.init(n,e),sn.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(r,s)=>{const i={};for(const l of r)if(t.has(l))i[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Ry({...e,checks:[],...Fe(s),entries:i})},n.exclude=(r,s)=>{const i={...e.entries};for(const l of r)if(t.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new Ry({...e,checks:[],...Fe(s),entries:i})}});function i_(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(r=>[r,r])):n;return new Ry({type:"enum",entries:t,...Fe(e)})}const X3=re("ZodTransform",(n,e)=>{YF.init(n,e),sn.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new QT(n.constructor.name);t.addIssue=i=>{if(typeof i=="string")t.issues.push(ju(i,t.value,e));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=t.value),l.inst??(l.inst=n),t.issues.push(ju(l))}};const s=e.transform(t.value,t);return s instanceof Promise?s.then(i=>(t.value=i,t)):(t.value=s,t)}});function J3(n){return new X3({type:"transform",transform:n})}const vC=re("ZodOptional",(n,e)=>{XF.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Tb(n){return new vC({type:"optional",innerType:n})}const e9=re("ZodNullable",(n,e)=>{JF.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Cb(n){return new e9({type:"nullable",innerType:n})}const t9=re("ZodDefault",(n,e)=>{ej.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function n9(n,e){return new t9({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():JT(e)}})}const r9=re("ZodPrefault",(n,e)=>{tj.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function s9(n,e){return new r9({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():JT(e)}})}const _C=re("ZodNonOptional",(n,e)=>{nj.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function o9(n,e){return new _C({type:"nonoptional",innerType:n,...Fe(e)})}const i9=re("ZodCatch",(n,e)=>{rj.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function a9(n,e){return new i9({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const l9=re("ZodPipe",(n,e)=>{sj.init(n,e),sn.init(n,e),n.in=e.in,n.out=e.out});function Pb(n,e){return new l9({type:"pipe",in:n,out:e})}const c9=re("ZodReadonly",(n,e)=>{oj.init(n,e),sn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function u9(n){return new c9({type:"readonly",innerType:n})}const d9=re("ZodCustom",(n,e)=>{ij.init(n,e),sn.init(n,e)});function h9(n,e={}){return Xj(d9,n,e)}function f9(n){return Jj(n)}function si(n){return Vj(o_,n)}const wC=8,ky=`Password must be at least ${wC} characters`,EC=lt().min(1,"Password is required").min(wC,ky),Ab=Ei({email:lt().min(1,"Email is required").email("Please enter a valid email address"),password:lt().min(1,"Password is required")}),Rb=Ei({name:lt().min(1,"Name is required").min(2,"Name must be at least 2 characters"),email:lt().min(1,"Email is required").email("Please enter a valid email address"),password:EC,confirmPassword:lt().min(1,"Please confirm your password")}).refine(n=>n.password===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});Ei({currentPassword:lt().min(1,"Current password is required"),newPassword:EC,confirmPassword:lt().min(1,"Please confirm your new password")}).refine(n=>n.newPassword===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});const nH=Ei({name:lt().min(1,"Item name is required").min(3,"Item name must be at least 3 characters").max(100,"Item name must be less than 100 characters"),category:lt().min(1,"Category is required"),subcategory:lt().optional(),quantity:si().int("Quantity must be a whole number").min(0,"Quantity cannot be negative"),location:lt().min(1,"Location is required").regex(/^[A-Z]-\d+$/,"Location must be in format A-12 (Letter-Number)"),brand:lt().min(1,"Brand is required").min(2,"Brand must be at least 2 characters").max(100,"Brand must be less than 100 characters"),pricePerPiece:si().positive("Price per piece must be a positive number").max(1e6,"Price per piece seems too high"),supplierId:lt().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Supplier ID must be in format SUP-001"),quantityPurchased:si().int("Quantity purchased must be a whole number").min(0,"Quantity purchased cannot be negative"),quantitySold:si().int("Quantity sold must be a whole number").min(0,"Quantity sold cannot be negative"),reorderRequired:$3()});Ei({name:lt().min(1,"Company name is required").min(2,"Company name must be at least 2 characters").max(100,"Company name must be less than 100 characters"),contact:lt().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:lt().min(1,"Email is required").email("Please enter a valid email address"),phone:lt().min(1,"Phone number is required"),category:lt().min(1,"Category is required"),status:i_(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:lt().max(100,"Country must be less than 100 characters").optional(),city:lt().max(100,"City must be less than 100 characters").optional(),address:lt().max(200,"Address must be less than 200 characters").optional(),purchases:si().min(0,"Purchases cannot be negative").optional(),payments:si().min(0,"Payments cannot be negative").optional()});Ei({name:lt().min(1,"Customer name is required").min(2,"Customer name must be at least 2 characters").max(100,"Customer name must be less than 100 characters"),contact:lt().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:lt().min(1,"Email is required").email("Please enter a valid email address"),phone:lt().min(1,"Phone number is required"),category:lt().min(1,"Category is required"),status:i_(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:lt().max(100,"Country must be less than 100 characters").optional(),city:lt().max(100,"City must be less than 100 characters").optional(),address:lt().max(200,"Address must be less than 200 characters").optional(),purchases:si().min(0,"Purchases cannot be negative").optional(),payments:si().min(0,"Payments cannot be negative").optional()});const p9=Ei({inventoryItemId:lt().min(1,"Item is required"),itemName:lt().min(1,"Item name is required"),quantity:Gg().int("Quantity must be a whole number").min(1,"Quantity must be at least 1"),unitPrice:Gg().positive("Unit price must be positive"),totalPrice:Gg().positive("Total price must be positive")});Ei({supplierId:lt().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Invalid supplier ID format"),supplierName:lt().min(1,"Supplier name is required"),items:yC(p9).min(1,"At least one item is required"),expectedDeliveryDate:lt().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format").refine(n=>{const e=new Date(n),t=new Date;return t.setHours(0,0,0,0),e>=t},"Expected delivery date must be today or in the future"),notes:lt().optional()});function m9(){const{login:n,register:e}=od(),[t,r]=b.useState("login"),[s,i]=b.useState({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1}),[l,u]=b.useState({}),[h,p]=b.useState(!1),[y,m]=b.useState(!1),E=()=>{i({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1}),u({})},x=D=>{r(D),E()};function A(D,M){const z=t==="login"?Ab:Rb,U=t==="login"?{email:D==="email"?M:s.email,password:D==="password"?M:s.password}:{name:D==="name"?M:s.name,email:D==="email"?M:s.email,password:D==="password"?M:s.password,confirmPassword:D==="confirmPassword"?M:s.confirmPassword},$=z.safeParse(U);if($.success)u(K=>{const P={...K};return delete P[D],P});else{const K=$.error.errors.find(P=>P.path[0]===D);u(K?P=>({...P,[D]:K.message}):P=>{const T={...P};return delete T[D],T})}}function C(){const D=t==="login"?Ab:Rb,M=t==="login"?{email:s.email,password:s.password}:{name:s.name,email:s.email,password:s.password,confirmPassword:s.confirmPassword},z=D.safeParse(M);if(!z.success){const U={};return z.error.errors.forEach($=>{const K=$.path.join(".");U[K]=$.message}),u(U),Object.values(U)[0]}return u({}),null}async function R(D){D.preventDefault();const M=C();if(M){Qr.error(M);return}m(!0);try{t==="login"?(await n(s.email,s.password,s.rememberMe),Qr.success("Welcome back!")):(await e(s.email,s.password,s.name),Qr.success("Registration successful! Your account is pending approval by an administrator."),x("login"))}catch(z){if(z instanceof Error){const U=z.message;if(U.startsWith("NO_ACCOUNT:")){const $=U.replace("NO_ACCOUNT:","");Qr.error($,{action:{label:"Sign Up",onClick:()=>x("register")},duration:8e3})}else U.startsWith("WRONG_PASSWORD:")?Qr.error(U.replace("WRONG_PASSWORD:","")):U.startsWith("PENDING:")?Qr.warning(U.replace("PENDING:",""),{duration:6e3}):U.startsWith("INACTIVE:")?Qr.error(U.replace("INACTIVE:",""),{duration:6e3}):Qr.error(U)}else Qr.error("An error occurred. Please try again.")}finally{m(!1)}}return w.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:w.jsxs(VT,{className:"w-full max-w-[360px] shadow-xl mx-auto",children:[w.jsxs(LT,{className:"space-y-4 text-center",children:[w.jsx("div",{className:"flex justify-center",children:w.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:w.jsx(ap,{className:"h-8 w-8 text-primary"})})}),w.jsxs("div",{children:[w.jsx(FT,{className:"text-2xl font-bold",children:t==="login"?"Welcome Back":"Create Account"}),w.jsx(jT,{className:"mt-2",children:t==="login"?"Sign in to your Warehouse Management System":"Register for a new account (requires admin approval)"})]})]}),w.jsx(zT,{children:w.jsxs("form",{onSubmit:R,className:"space-y-4",children:[t==="register"&&w.jsxs("div",{className:"space-y-2",children:[w.jsx(ou,{htmlFor:"name",children:"Full Name"}),w.jsxs("div",{className:"relative",children:[w.jsx(dy,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),w.jsx(fu,{id:"name",type:"text",placeholder:"John Doe",value:s.name,onChange:D=>{i({...s,name:D.target.value}),A("name",D.target.value)},className:`pl-9 ${l.name?"border-red-500":""}`,disabled:y,autoComplete:"name"})]}),l.name&&w.jsx("p",{className:"text-sm text-red-500",children:l.name})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(ou,{htmlFor:"email",children:"Email"}),w.jsxs("div",{className:"relative",children:[w.jsx(U2,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),w.jsx(fu,{id:"email",type:"email",placeholder:"admin@wms.com",value:s.email,onChange:D=>{i({...s,email:D.target.value}),A("email",D.target.value)},className:`pl-9 ${l.email?"border-red-500":""}`,disabled:y,autoComplete:"email"})]}),l.email&&w.jsx("p",{className:"text-sm text-red-500",children:l.email})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(ou,{htmlFor:"password",children:"Password"}),w.jsxs("div",{className:"relative",children:[w.jsx(SE,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),w.jsx(fu,{id:"password",type:h?"text":"password",placeholder:t==="register"?`Min ${ky.split(" ").pop()} characters`:"Enter your password",value:s.password,onChange:D=>{i({...s,password:D.target.value}),A("password",D.target.value)},className:`pl-9 pr-9 ${l.password?"border-red-500":""}`,disabled:y,autoComplete:t==="login"?"current-password":"new-password"}),w.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:y,tabIndex:-1,children:h?w.jsx(C2,{className:"h-4 w-4"}):w.jsx(A2,{className:"h-4 w-4"})})]}),l.password?w.jsx("p",{className:"text-sm text-red-500",children:l.password}):t==="register"&&w.jsx("p",{className:"text-xs text-muted-foreground",children:ky})]}),t==="register"&&w.jsxs("div",{className:"space-y-2",children:[w.jsx(ou,{htmlFor:"confirmPassword",children:"Confirm Password"}),w.jsxs("div",{className:"relative",children:[w.jsx(SE,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),w.jsx(fu,{id:"confirmPassword",type:h?"text":"password",placeholder:"Confirm your password",value:s.confirmPassword,onChange:D=>{i({...s,confirmPassword:D.target.value}),A("confirmPassword",D.target.value)},className:`pl-9 ${l.confirmPassword?"border-red-500":""}`,disabled:y,autoComplete:"new-password"})]}),l.confirmPassword&&w.jsx("p",{className:"text-sm text-red-500",children:l.confirmPassword})]}),t==="login"&&w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx(r5,{id:"remember",checked:s.rememberMe,onCheckedChange:D=>i({...s,rememberMe:D}),disabled:y}),w.jsx(ou,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),w.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",disabled:y,onClick:()=>Qr.info("Password reset feature coming soon!"),children:"Forgot password?"})]}),w.jsx(ku,{type:"submit",className:"w-full",disabled:y,children:y?w.jsxs(w.Fragment,{children:[w.jsx(gf,{className:"mr-2 h-4 w-4 animate-spin"}),t==="login"?"Signing in...":"Creating account..."]}):t==="login"?"Sign In":"Create Account"}),w.jsx("div",{className:"text-center text-sm",children:t==="login"?w.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",w.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>x("register"),disabled:y,children:"Sign up"})]}):w.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",w.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>x("login"),disabled:y,children:"Sign in"})]})}),t==="login"&&w.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[w.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Demo Credentials:"}),w.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[w.jsxs("p",{children:[w.jsx("span",{className:"font-medium",children:"Owner:"})," owner@wms.com / owner123"]}),w.jsxs("p",{children:[w.jsx("span",{className:"font-medium",children:"Admin:"})," admin@wms.com / admin123"]}),w.jsxs("p",{children:[w.jsx("span",{className:"font-medium",children:"Operator:"})," operator@wms.com / operator123"]})]})]}),t==="register"&&w.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:w.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:[w.jsx("strong",{children:"Note:"})," New accounts require administrator approval before you can access the system. You will be notified once your account is approved."]})})]})})]})})}const kb="wms_error_logs",Nb=100;function Ny(n,e){const t={message:n?.message??String(n),stack:n?.stack,componentStack:e?.componentStack,timestamp:Date.now()};try{const r=localStorage.getItem(kb),s=r?JSON.parse(r):[];s.unshift(t),s.length>Nb&&(s.length=Nb),localStorage.setItem(kb,JSON.stringify(s))}catch{}}function g9({...n}){return w.jsx(NI,{"data-slot":"dialog",...n})}function rH({...n}){return w.jsx(AO,{"data-slot":"dialog-trigger",...n})}function y9({...n}){return w.jsx(DI,{"data-slot":"dialog-portal",...n})}function v9({className:n,...e}){return w.jsx(xv,{"data-slot":"dialog-overlay",className:$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function _9({className:n,children:e,...t}){return w.jsxs(y9,{"data-slot":"dialog-portal",children:[w.jsx(v9,{}),w.jsxs(Iv,{"data-slot":"dialog-content",className:$e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,w.jsxs(OI,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[w.jsx(gv,{}),w.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function sH({className:n,...e}){return w.jsx("div",{"data-slot":"dialog-header",className:$e("flex flex-col gap-2 text-center sm:text-left",n),...e})}function oH({className:n,...e}){return w.jsx("div",{"data-slot":"dialog-footer",className:$e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function iH({className:n,...e}){return w.jsx(Tv,{"data-slot":"dialog-title",className:$e("text-lg leading-none font-semibold",n),...e})}function aH({className:n,...e}){return w.jsx(Cv,{"data-slot":"dialog-description",className:$e("text-muted-foreground text-sm",n),...e})}const w9=ip("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Db({className:n,variant:e,asChild:t=!1,...r}){const s=t?op:"span";return w.jsx(s,{"data-slot":"badge",className:$e(w9({variant:e}),n),...r})}function E9(n,[e,t]){return Math.min(t,Math.max(e,n))}function b9(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var a_="ScrollArea",[bC]=Ls(a_),[S9,Vr]=bC(a_),SC=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...l}=n,[u,h]=b.useState(null),[p,y]=b.useState(null),[m,E]=b.useState(null),[x,A]=b.useState(null),[C,R]=b.useState(null),[D,M]=b.useState(0),[z,U]=b.useState(0),[$,K]=b.useState(!1),[P,T]=b.useState(!1),N=wt(e,F=>h(F)),V=jv(s);return w.jsx(S9,{scope:t,type:r,dir:V,scrollHideDelay:i,scrollArea:u,viewport:p,onViewportChange:y,content:m,onContentChange:E,scrollbarX:x,onScrollbarXChange:A,scrollbarXEnabled:$,onScrollbarXEnabledChange:K,scrollbarY:C,onScrollbarYChange:R,scrollbarYEnabled:P,onScrollbarYEnabledChange:T,onCornerWidthChange:M,onCornerHeightChange:U,children:w.jsx(ft.div,{dir:V,...l,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":D+"px","--radix-scroll-area-corner-height":z+"px",...n.style}})})});SC.displayName=a_;var xC="ScrollAreaViewport",IC=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=n,l=Vr(xC,t),u=b.useRef(null),h=wt(e,u,l.onViewportChange);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),w.jsx(ft.div,{"data-radix-scroll-area-viewport":"",...i,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:w.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});IC.displayName=xC;var js="ScrollAreaScrollbar",l_=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Vr(js,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,u=n.orientation==="horizontal";return b.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),s.type==="hover"?w.jsx(x9,{...r,ref:e,forceMount:t}):s.type==="scroll"?w.jsx(I9,{...r,ref:e,forceMount:t}):s.type==="auto"?w.jsx(TC,{...r,ref:e,forceMount:t}):s.type==="always"?w.jsx(c_,{...r,ref:e}):null});l_.displayName=js;var x9=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Vr(js,n.__scopeScrollArea),[i,l]=b.useState(!1);return b.useEffect(()=>{const u=s.scrollArea;let h=0;if(u){const p=()=>{window.clearTimeout(h),l(!0)},y=()=>{h=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",y),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",y)}}},[s.scrollArea,s.scrollHideDelay]),w.jsx(Un,{present:t||i,children:w.jsx(TC,{"data-state":i?"visible":"hidden",...r,ref:e})})}),I9=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Vr(js,n.__scopeScrollArea),i=n.orientation==="horizontal",l=Rp(()=>h("SCROLL_END"),100),[u,h]=b9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,s.scrollHideDelay,h]),b.useEffect(()=>{const p=s.viewport,y=i?"scrollLeft":"scrollTop";if(p){let m=p[y];const E=()=>{const x=p[y];m!==x&&(h("SCROLL"),l()),m=x};return p.addEventListener("scroll",E),()=>p.removeEventListener("scroll",E)}},[s.viewport,i,h,l]),w.jsx(Un,{present:t||u!=="hidden",children:w.jsx(c_,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Le(n.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Le(n.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),TC=b.forwardRef((n,e)=>{const t=Vr(js,n.__scopeScrollArea),{forceMount:r,...s}=n,[i,l]=b.useState(!1),u=n.orientation==="horizontal",h=Rp(()=>{if(t.viewport){const p=t.viewport.offsetWidth<t.viewport.scrollWidth,y=t.viewport.offsetHeight<t.viewport.scrollHeight;l(u?p:y)}},10);return ql(t.viewport,h),ql(t.content,h),w.jsx(Un,{present:r||i,children:w.jsx(c_,{"data-state":i?"visible":"hidden",...s,ref:e})})}),c_=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=Vr(js,n.__scopeScrollArea),i=b.useRef(null),l=b.useRef(0),[u,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=kC(u.viewport,u.content),y={...r,sizes:u,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:E=>i.current=E,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:E=>l.current=E};function m(E,x){return k9(E,l.current,u,x)}return t==="horizontal"?w.jsx(T9,{...y,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const E=s.viewport.scrollLeft,x=Ob(E,u,s.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:E=>{s.viewport&&(s.viewport.scrollLeft=E)},onDragScroll:E=>{s.viewport&&(s.viewport.scrollLeft=m(E,s.dir))}}):t==="vertical"?w.jsx(C9,{...y,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const E=s.viewport.scrollTop,x=Ob(E,u);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:E=>{s.viewport&&(s.viewport.scrollTop=E)},onDragScroll:E=>{s.viewport&&(s.viewport.scrollTop=m(E))}}):null}),T9=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=Vr(js,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=wt(e,h,i.onScrollbarXChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),w.jsx(PC,{"data-orientation":"horizontal",...s,ref:p,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ap(t)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.x),onDragScroll:y=>n.onDragScroll(y.x),onWheelScroll:(y,m)=>{if(i.viewport){const E=i.viewport.scrollLeft+y.deltaX;n.onWheelScroll(E),DC(E,m)&&y.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Rf(l.paddingLeft),paddingEnd:Rf(l.paddingRight)}})}})}),C9=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=Vr(js,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=wt(e,h,i.onScrollbarYChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),w.jsx(PC,{"data-orientation":"vertical",...s,ref:p,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ap(t)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.y),onDragScroll:y=>n.onDragScroll(y.y),onWheelScroll:(y,m)=>{if(i.viewport){const E=i.viewport.scrollTop+y.deltaY;n.onWheelScroll(E),DC(E,m)&&y.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Rf(l.paddingTop),paddingEnd:Rf(l.paddingBottom)}})}})}),[P9,CC]=bC(js),PC=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:y,onResize:m,...E}=n,x=Vr(js,t),[A,C]=b.useState(null),R=wt(e,N=>C(N)),D=b.useRef(null),M=b.useRef(""),z=x.viewport,U=r.content-r.viewport,$=Dn(y),K=Dn(h),P=Rp(m,10);function T(N){if(D.current){const V=N.clientX-D.current.left,F=N.clientY-D.current.top;p({x:V,y:F})}}return b.useEffect(()=>{const N=V=>{const F=V.target;A?.contains(F)&&$(V,U)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[z,A,U,$]),b.useEffect(K,[r,K]),ql(A,P),ql(x.content,P),w.jsx(P9,{scope:t,scrollbar:A,hasThumb:s,onThumbChange:Dn(i),onThumbPointerUp:Dn(l),onThumbPositionChange:K,onThumbPointerDown:Dn(u),children:w.jsx(ft.div,{...E,ref:R,style:{position:"absolute",...E.style},onPointerDown:Le(n.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),D.current=A.getBoundingClientRect(),M.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),T(N))}),onPointerMove:Le(n.onPointerMove,T),onPointerUp:Le(n.onPointerUp,N=>{const V=N.target;V.hasPointerCapture(N.pointerId)&&V.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=M.current,x.viewport&&(x.viewport.style.scrollBehavior=""),D.current=null})})})}),Af="ScrollAreaThumb",AC=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=CC(Af,n.__scopeScrollArea);return w.jsx(Un,{present:t||s.hasThumb,children:w.jsx(A9,{ref:e,...r})})}),A9=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,i=Vr(Af,t),l=CC(Af,t),{onThumbPositionChange:u}=l,h=wt(e,m=>l.onThumbChange(m)),p=b.useRef(void 0),y=Rp(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const E=()=>{if(y(),!p.current){const x=N9(m,u);p.current=x,u()}};return u(),m.addEventListener("scroll",E),()=>m.removeEventListener("scroll",E)}},[i.viewport,y,u]),w.jsx(ft.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(n.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),A=m.clientX-x.left,C=m.clientY-x.top;l.onThumbPointerDown({x:A,y:C})}),onPointerUp:Le(n.onPointerUp,l.onThumbPointerUp)})});AC.displayName=Af;var u_="ScrollAreaCorner",RC=b.forwardRef((n,e)=>{const t=Vr(u_,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?w.jsx(R9,{...n,ref:e}):null});RC.displayName=u_;var R9=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=Vr(u_,t),[i,l]=b.useState(0),[u,h]=b.useState(0),p=!!(i&&u);return ql(s.scrollbarX,()=>{const y=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(y),h(y)}),ql(s.scrollbarY,()=>{const y=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(y),l(y)}),p?w.jsx(ft.div,{...r,ref:e,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Rf(n){return n?parseInt(n,10):0}function kC(n,e){const t=n/e;return isNaN(t)?0:t}function Ap(n){const e=kC(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function k9(n,e,t,r="ltr"){const s=Ap(t),i=s/2,l=e||i,u=s-l,h=t.scrollbar.paddingStart+l,p=t.scrollbar.size-t.scrollbar.paddingEnd-u,y=t.content-t.viewport,m=r==="ltr"?[0,y]:[y*-1,0];return NC([h,p],m)(n)}function Ob(n,e,t="ltr"){const r=Ap(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,l=e.content-e.viewport,u=i-r,h=t==="ltr"?[0,l]:[l*-1,0],p=E9(n,h);return NC([0,l],[0,u])(p)}function NC(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function DC(n,e){return n>0&&n<e}var N9=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const i={left:n.scrollLeft,top:n.scrollTop},l=t.left!==i.left,u=t.top!==i.top;(l||u)&&e(),t=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Rp(n,e){const t=Dn(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function ql(n,e){const t=Dn(e);lo(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var OC=SC,D9=IC,O9=RC;const MC=b.forwardRef(({className:n,children:e,...t},r)=>w.jsxs(OC,{ref:r,className:$e("relative overflow-hidden",n),...t,children:[w.jsx(D9,{className:"h-full w-full rounded-[inherit]",children:e}),w.jsx(VC,{}),w.jsx(O9,{})]}));MC.displayName=OC.displayName;const VC=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>w.jsx(l_,{ref:r,orientation:e,className:$e("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:w.jsx(AC,{className:"relative flex-1 rounded-full bg-border"})}));VC.displayName=l_.displayName;const ue={INVENTORY:"wms_inventory",SUPPLIERS:"wms_suppliers",CUSTOMERS:"wms_customers",ORDERS:"wms_orders",SHIPMENTS:"wms_shipments",PURCHASE_ORDERS:"wms_purchase_orders",SALES_ORDERS:"wms_sales_orders",CASH_BANK:"wms_cash_bank",PAYMENTS:"wms_payments",CATEGORIES:"wms_categories"};function me(n,e){try{const t=JSON.stringify(e);localStorage.setItem(n,t)}catch(t){console.error(`Failed to save to localStorage (${n}):`,t)}}function zs(n,e){try{const t=localStorage.getItem(n);return t===null?e:JSON.parse(t)}catch(t){return console.error(`Failed to load from localStorage (${n}):`,t),e}}const M9=[{id:"INV-001",name:"Laptop Computer",category:"Electronics",quantity:145,location:"A-12",status:"In Stock",brand:"Dell",pricePerPiece:899.99,supplierId:"SUP-001",quantityPurchased:200,quantitySold:55,reorderRequired:!1,description:"15.6-inch display, Intel Core i7 processor, 16GB RAM, 512GB SSD. Perfect for business and professional use with long battery life and lightweight design."},{id:"INV-002",name:"Office Chair",category:"Furniture",quantity:23,location:"B-08",status:"Low Stock",brand:"Herman Miller",pricePerPiece:549,supplierId:"SUP-002",quantityPurchased:100,quantitySold:77,reorderRequired:!0,description:"Ergonomic office chair with adjustable lumbar support, armrests, and seat height. Breathable mesh back for all-day comfort."},{id:"INV-003",name:"Standing Desk",category:"Furniture",quantity:67,location:"B-05",status:"In Stock",brand:"Uplift",pricePerPiece:799,supplierId:"SUP-002",quantityPurchased:120,quantitySold:53,reorderRequired:!1,description:"Electric height-adjustable standing desk with memory presets. 60x30 inch bamboo top with cable management system."},{id:"INV-004",name:"Wireless Mouse",category:"Electronics",quantity:8,location:"A-15",status:"Critical",brand:"Logitech",pricePerPiece:29.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:142,reorderRequired:!0,description:"Ergonomic wireless mouse with customizable buttons and long battery life. 2.4GHz wireless connection with USB receiver."},{id:"INV-005",name:"USB-C Cable",category:"Electronics",quantity:234,location:"A-20",status:"In Stock",brand:"Anker",pricePerPiece:12.99,supplierId:"SUP-001",quantityPurchased:500,quantitySold:266,reorderRequired:!1,description:"Premium braided USB-C to USB-C cable, 6ft length. Supports fast charging up to 100W and data transfer speeds up to 480Mbps."},{id:"INV-006",name:'Monitor 27"',category:"Electronics",quantity:89,location:"A-10",status:"In Stock",brand:"LG",pricePerPiece:349.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:61,reorderRequired:!1,description:"27-inch 4K UHD IPS display with HDR10 support. USB-C connectivity with 65W power delivery. Ideal for creative professionals."},{id:"INV-007",name:"Keyboard Mechanical",category:"Electronics",quantity:156,location:"A-14",status:"In Stock",brand:"Corsair",pricePerPiece:129.99,supplierId:"SUP-001",quantityPurchased:250,quantitySold:94,reorderRequired:!1,description:"Full-size mechanical keyboard with Cherry MX Brown switches. RGB backlighting with dedicated media controls and USB passthrough."},{id:"INV-008",name:"Filing Cabinet",category:"Furniture",quantity:34,location:"B-03",status:"In Stock",brand:"Steelcase",pricePerPiece:299,supplierId:"SUP-002",quantityPurchased:60,quantitySold:26,reorderRequired:!1,description:"4-drawer vertical filing cabinet with full-extension drawers. Built-in lock for security. Holds letter and legal size documents."}],V9=[{id:"SUP-001",name:"TechSource LLC",contact:"John Smith",email:"john@techsource.com",phone:"+1 (555) 123-4567",category:"Electronics",status:"Active",country:"United States",city:"San Francisco",address:"123 Tech Blvd, Suite 100",purchases:125e3,payments:1e5,balance:25e3},{id:"SUP-002",name:"FurniCraft Industries",contact:"Sarah Johnson",email:"sarah@furnicraft.com",phone:"+1 (555) 234-5678",category:"Furniture",status:"Active",country:"United States",city:"Grand Rapids",address:"456 Furniture Ave",purchases:85e3,payments:85e3,balance:0},{id:"SUP-003",name:"Global Electronics Co",contact:"Michael Chen",email:"michael@globalelec.com",phone:"+1 (555) 345-6789",category:"Electronics",status:"Active",country:"China",city:"Shenzhen",address:"789 Electronics Park, Building A",purchases:25e4,payments:2e5,balance:5e4},{id:"SUP-004",name:"Metro Supplies Inc",contact:"Emily Davis",email:"emily@metrosupplies.com",phone:"+1 (555) 456-7890",category:"Office Supplies",status:"Inactive",country:"United States",city:"New York",address:"321 Office Tower, Floor 5",purchases:45e3,payments:45e3,balance:0},{id:"SUP-005",name:"Premium Parts Ltd",contact:"Robert Wilson",email:"robert@premiumparts.com",phone:"+1 (555) 567-8901",category:"Electronics",status:"Active",country:"United Kingdom",city:"London",address:"10 Premium Lane, Industrial Estate",purchases:175e3,payments:15e4,balance:25e3}],L9=[{id:"CUS-001",name:"Acme Corp",contact:"Alice Johnson",email:"alice@acmecorp.com",phone:"+1 (555) 111-2222",category:"Technology",status:"Active",country:"United States",city:"San Francisco",address:"100 Market St, Suite 500",purchases:45e3,payments:4e4,balance:5e3},{id:"CUS-002",name:"TechStart Inc",contact:"Bob Williams",email:"bob@techstart.io",phone:"+1 (555) 222-3333",category:"Startup",status:"Active",country:"United States",city:"Austin",address:"200 Innovation Blvd",purchases:28e3,payments:28e3,balance:0},{id:"CUS-003",name:"Global Solutions",contact:"Carol Martinez",email:"carol@globalsolutions.com",phone:"+1 (555) 333-4444",category:"Enterprise",status:"Active",country:"United Kingdom",city:"London",address:"50 Canary Wharf",purchases:12e4,payments:1e5,balance:2e4},{id:"CUS-004",name:"Beta Systems",contact:"David Lee",email:"david@betasystems.net",phone:"+1 (555) 444-5555",category:"Technology",status:"Active",country:"Canada",city:"Toronto",address:"789 Bay Street",purchases:65e3,payments:6e4,balance:5e3},{id:"CUS-005",name:"Metro Supplies",contact:"Eva Brown",email:"eva@metrosupplies.com",phone:"+1 (555) 555-6666",category:"Retail",status:"Inactive",country:"United States",city:"New York",address:"321 Fifth Avenue",purchases:15e3,payments:15e3,balance:0}],F9=[{id:"ORD-1234",customer:"Acme Corp",items:15,total:"2,450",status:"Processing",date:"2025-10-15"},{id:"ORD-1235",customer:"TechStart Inc",items:8,total:"1,200",status:"Shipped",date:"2025-10-14"},{id:"ORD-1236",customer:"Global Solutions",items:23,total:"3,890",status:"Delivered",date:"2025-10-13"},{id:"ORD-1237",customer:"Beta Systems",items:12,total:"1,750",status:"Processing",date:"2025-10-15"},{id:"ORD-1238",customer:"Metro Supplies",items:6,total:"890",status:"Pending",date:"2025-10-16"},{id:"ORD-1239",customer:"Urban Retail",items:19,total:"2,100",status:"Shipped",date:"2025-10-14"},{id:"ORD-1240",customer:"Summit Trading",items:10,total:"1,560",status:"Processing",date:"2025-10-15"}],j9=[{id:"SHIP-5678",orderId:"ORD-1234",destination:"New York, NY",carrier:"FedEx",status:"In Transit",eta:"Oct 18, 2025"},{id:"SHIP-5679",orderId:"ORD-1235",destination:"Los Angeles, CA",carrier:"UPS",status:"Delivered",eta:"Oct 14, 2025"},{id:"SHIP-5680",orderId:"ORD-1236",destination:"Chicago, IL",carrier:"DHL",status:"In Transit",eta:"Oct 19, 2025"},{id:"SHIP-5681",orderId:"ORD-1237",destination:"Houston, TX",carrier:"FedEx",status:"Processing",eta:"Oct 20, 2025"},{id:"SHIP-5682",orderId:"ORD-1238",destination:"Phoenix, AZ",carrier:"USPS",status:"Pending",eta:"Oct 21, 2025"},{id:"SHIP-5683",orderId:"ORD-1239",destination:"Philadelphia, PA",carrier:"UPS",status:"In Transit",eta:"Oct 17, 2025"}],z9=[{id:"PO-001",poDate:"2025-10-01",supplierId:"SUP-001",supplierName:"TechSource LLC",supplierCountry:"United States",supplierCity:"San Francisco",billNumber:"INV-2025-0142",items:[{inventoryItemId:"INV-001",itemName:"Laptop Computer",quantity:50,unitPrice:899.99,totalPrice:44999.5,quantityReceived:50},{inventoryItemId:"INV-007",itemName:"Keyboard Mechanical",quantity:100,unitPrice:129.99,totalPrice:12999,quantityReceived:100}],totalAmount:57998.5,totalPaid:57998.5,poBalance:0,status:"Received",shippingStatus:"Delivered",createdBy:"1",createdDate:"2025-10-01",approvedBy:"1",approvedDate:"2025-10-02",receivedDate:"2025-10-10",notes:"Q4 restock order",expectedDeliveryDate:"2025-10-10",actualCost:57998.5},{id:"PO-002",poDate:"2025-10-15",supplierId:"SUP-002",supplierName:"FurniCraft Industries",supplierCountry:"United States",supplierCity:"Grand Rapids",billNumber:"FC-INV-4521",items:[{inventoryItemId:"INV-002",itemName:"Office Chair",quantity:30,unitPrice:549,totalPrice:16470},{inventoryItemId:"INV-003",itemName:"Standing Desk",quantity:20,unitPrice:799,totalPrice:15980}],totalAmount:32450,totalPaid:16225,poBalance:16225,status:"Ordered",shippingStatus:"In Transit",createdBy:"1",createdDate:"2025-10-15",approvedBy:"1",approvedDate:"2025-10-16",receivedDate:null,notes:"Office expansion order",expectedDeliveryDate:"2025-11-01"},{id:"PO-003",poDate:"2025-10-20",supplierId:"SUP-003",supplierName:"Global Gadgets",supplierCountry:"Philippines",supplierCity:"Makati",billNumber:"",items:[{inventoryItemId:"INV-004",itemName:"Wireless Mouse",quantity:100,unitPrice:29.99,totalPrice:2999}],totalAmount:2999,totalPaid:0,poBalance:2999,status:"Pending Approval",shippingStatus:"Pending",createdBy:"2",createdDate:"2025-10-20",approvedBy:null,approvedDate:null,receivedDate:null,notes:"Urgent restock for critical stock item",expectedDeliveryDate:"2025-10-30"},{id:"PO-004",poDate:"2025-10-22",supplierId:"SUP-001",supplierName:"TechSource LLC",supplierCountry:"United States",supplierCity:"San Francisco",billNumber:"",items:[{inventoryItemId:"INV-006",itemName:'Monitor 27"',quantity:25,unitPrice:349.99,totalPrice:8749.75}],totalAmount:8749.75,totalPaid:0,poBalance:8749.75,status:"Draft",shippingStatus:"Pending",createdBy:"1",createdDate:"2025-10-22",approvedBy:null,approvedDate:null,receivedDate:null,notes:"",expectedDeliveryDate:"2025-11-15"},{id:"PO-005",poDate:"2025-11-01",supplierId:"SUP-002",supplierName:"FurniCraft Industries",supplierCountry:"United States",supplierCity:"Grand Rapids",billNumber:"FC-INV-4590",items:[{inventoryItemId:"INV-008",itemName:"Filing Cabinet",quantity:15,unitPrice:299,totalPrice:4485}],totalAmount:4485,totalPaid:4485,poBalance:0,status:"Approved",shippingStatus:"Processing",createdBy:"1",createdDate:"2025-11-01",approvedBy:"1",approvedDate:"2025-11-02",receivedDate:null,notes:"Additional filing cabinets for archive room",expectedDeliveryDate:"2025-11-20"}],U9=[{id:"SO-001",soDate:"2025-10-05",customerId:"CUS-001",customerName:"Acme Corp",customerCountry:"United States",customerCity:"San Francisco",invoiceNumber:"INV-2025-0501",items:[{inventoryItemId:"INV-001",itemName:"Laptop Computer",quantity:10,unitPrice:1299.99,totalPrice:12999.9,quantityShipped:10},{inventoryItemId:"INV-007",itemName:"Keyboard Mechanical",quantity:10,unitPrice:169.99,totalPrice:1699.9,quantityShipped:10}],totalAmount:14699.8,totalReceived:14699.8,soBalance:0,receiptStatus:"Paid",shippingStatus:"Delivered",createdBy:"1",createdDate:"2025-10-05",notes:"Corporate bulk order - priority customer",expectedDeliveryDate:"2025-10-12"},{id:"SO-002",soDate:"2025-10-18",customerId:"CUS-003",customerName:"Global Solutions",customerCountry:"United Kingdom",customerCity:"London",invoiceNumber:"INV-2025-0502",items:[{inventoryItemId:"INV-006",itemName:'Monitor 27"',quantity:20,unitPrice:449.99,totalPrice:8999.8},{inventoryItemId:"INV-003",itemName:"Standing Desk",quantity:15,unitPrice:999,totalPrice:14985}],totalAmount:23984.8,totalReceived:12e3,soBalance:11984.8,receiptStatus:"Partially Paid",shippingStatus:"In Transit",createdBy:"1",createdDate:"2025-10-18",notes:"Office expansion project - Phase 1",expectedDeliveryDate:"2025-11-01"},{id:"SO-003",soDate:"2025-10-25",customerId:"CUS-002",customerName:"TechStart Inc",customerCountry:"United States",customerCity:"Austin",invoiceNumber:"INV-2025-0503",items:[{inventoryItemId:"INV-004",itemName:"Wireless Mouse",quantity:25,unitPrice:39.99,totalPrice:999.75},{inventoryItemId:"INV-005",itemName:"USB-C Cable",quantity:50,unitPrice:19.99,totalPrice:999.5}],totalAmount:1999.25,totalReceived:0,soBalance:1999.25,receiptStatus:"Unpaid",shippingStatus:"Processing",createdBy:"2",createdDate:"2025-10-25",notes:"Startup office setup",expectedDeliveryDate:"2025-11-05"},{id:"SO-004",soDate:"2025-11-01",customerId:"CUS-004",customerName:"Beta Systems",customerCountry:"Canada",customerCity:"Toronto",invoiceNumber:"INV-2025-0504",items:[{inventoryItemId:"INV-002",itemName:"Office Chair",quantity:8,unitPrice:699,totalPrice:5592},{inventoryItemId:"INV-008",itemName:"Filing Cabinet",quantity:4,unitPrice:399,totalPrice:1596}],totalAmount:7188,totalReceived:7188,soBalance:0,receiptStatus:"Paid",shippingStatus:"Shipped",createdBy:"1",createdDate:"2025-11-01",notes:"New office furniture order",expectedDeliveryDate:"2025-11-15"},{id:"SO-005",soDate:"2025-09-15",customerId:"CUS-003",customerName:"Global Solutions",customerCountry:"United Kingdom",customerCity:"London",invoiceNumber:"INV-2025-0495",items:[{inventoryItemId:"INV-001",itemName:"Laptop Computer",quantity:5,unitPrice:1299.99,totalPrice:6499.95}],totalAmount:6499.95,totalReceived:3e3,soBalance:3499.95,receiptStatus:"Overdue",shippingStatus:"Delivered",createdBy:"1",createdDate:"2025-09-15",notes:"Payment reminder sent - overdue",expectedDeliveryDate:"2025-09-25"}];function $9(n){return n.map(e=>{if(e.quantityPurchased===void 0||e.quantitySold===void 0||e.reorderRequired===void 0){const{reorderLevel:r,maintainStockAt:s,minimumStock:i,...l}=e,u=e.quantityPurchased??Math.floor(e.quantity*1.5),h=e.quantitySold??Math.floor(u-e.quantity),p=e.reorderRequired??e.quantity<=(e.minimumStock??e.reorderLevel??20);return{...l,brand:e.brand||"Unknown",pricePerPiece:e.pricePerPiece??0,supplierId:e.supplierId||"SUP-001",quantityPurchased:u,quantitySold:h,reorderRequired:p}}return e})}function B9(n){return n.map(e=>e.total&&e.total.includes("$")?{...e,total:e.total.replace(/\$/g,"")}:e)}function q9(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalPaid??0,s=e.poDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,poDate:s,supplierCountry:e.supplierCountry??"",supplierCity:e.supplierCity??"",billNumber:e.billNumber??"",items:e.items??[],totalAmount:t,totalPaid:r,poBalance:e.poBalance??t-r,status:e.status??"Draft",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s}})}function H9(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function W9(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function G9(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalReceived??0,s=e.soDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,soDate:s,customerCountry:e.customerCountry??"",customerCity:e.customerCity??"",invoiceNumber:e.invoiceNumber??"",items:e.items??[],totalAmount:t,totalReceived:r,soBalance:e.soBalance??t-r,receiptStatus:e.receiptStatus??"Unpaid",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s,archived:e.archived??!1}})}const K9=[{name:"Electronics",subcategories:["Phones","Laptops","Tablets","Accessories","Monitors"]},{name:"Furniture",subcategories:["Desks","Chairs","Cabinets","Shelving"]},{name:"Clothing",subcategories:["Shirts","Pants","Shoes","Accessories"]},{name:"Food & Beverages",subcategories:["Beverages","Snacks","Canned Goods","Fresh Produce"]}];let Je=$9(zs(ue.INVENTORY,M9)),Xe=H9(zs(ue.SUPPLIERS,V9)),ot=W9(zs(ue.CUSTOMERS,L9)),qt=B9(zs(ue.ORDERS,F9)),Kt=zs(ue.SHIPMENTS,j9),Ae=q9(zs(ue.PURCHASE_ORDERS,z9)),ut=G9(zs(ue.SALES_ORDERS,U9)),Pr=zs(ue.CATEGORIES,K9);me(ue.ORDERS,qt);me(ue.INVENTORY,Je);me(ue.SUPPLIERS,Xe);me(ue.CUSTOMERS,ot);me(ue.PURCHASE_ORDERS,Ae);me(ue.SALES_ORDERS,ut);me(ue.CATEGORIES,Pr);function kp(n,e){return n<=0?"Critical":e?"Low Stock":"In Stock"}function Z9(){const e=Je.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`INV-${String(e).padStart(3,"0")}`}function Q9(){const e=Xe.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SUP-${String(e).padStart(3,"0")}`}function Y9(){const e=ot.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`CUS-${String(e).padStart(3,"0")}`}function X9(){const e=Ae.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`PO-${String(e).padStart(3,"0")}`}function J9(){const e=ut.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SO-${String(e).padStart(3,"0")}`}function ge(n,e=150){return new Promise(t=>setTimeout(()=>t(n),e))}async function lH(){return ge([...Je])}async function cH(n){const e=n.id&&n.id.trim()!==""?n.id:Z9(),t=Math.max(0,Math.floor(n.quantity)),r=Math.max(0,Math.floor(n.quantityPurchased)),s=Math.max(0,Math.floor(n.quantitySold)),i=n.reorderRequired,l=kp(t,i),u={id:e,name:n.name.trim(),category:n.category,quantity:t,location:n.location.trim(),status:l,brand:n.brand.trim(),pricePerPiece:n.pricePerPiece,supplierId:n.supplierId.trim(),quantityPurchased:r,quantitySold:s,reorderRequired:i};if(Je.some(p=>p.id===e))throw new Error(`Item with id ${e} already exists`);return Je=[u,...Je],me(ue.INVENTORY,Je),ge(u)}async function uH(n){const e=Je.findIndex(h=>h.id===n.id);if(e===-1)throw new Error("Item not found");const t=Je[e],r=n.quantity!==void 0?Math.max(0,Math.floor(n.quantity)):t.quantity,s=n.quantityPurchased!==void 0?Math.max(0,Math.floor(n.quantityPurchased)):t.quantityPurchased,i=n.quantitySold!==void 0?Math.max(0,Math.floor(n.quantitySold)):t.quantitySold,l=n.reorderRequired!==void 0?n.reorderRequired:t.reorderRequired,u={...t,...n,quantity:r,quantityPurchased:s,quantitySold:i,reorderRequired:l,status:kp(r,l)};return Je[e]=u,me(ue.INVENTORY,Je),ge(u)}async function dH(n){const e=Je.findIndex(t=>t.id===n);if(e===-1)throw new Error("Item not found");Je[e],Je.splice(e,1),me(ue.INVENTORY,Je),await ge(void 0)}async function hH(n){const e=[];let t=0;for(const r of n){const s=Je.findIndex(i=>i.id===r);if(s===-1){e.push(`Item ${r} not found`);continue}Je[s]={...Je[s],archived:!0,archivedAt:new Date().toISOString()},t++}return me(ue.INVENTORY,Je),ge({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function fH(n){const e=[];let t=0;for(const r of n){const s=Je.findIndex(i=>i.id===r);if(s===-1){e.push(`Item ${r} not found`);continue}Je[s]={...Je[s],archived:!1,archivedAt:void 0},t++}return me(ue.INVENTORY,Je),ge({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function pH(n){const e=[];let t=0;for(const r of n){const s=Je.findIndex(i=>i.id===r);if(s===-1){e.push(`Item ${r} not found`);continue}Je.splice(s,1),t++}return me(ue.INVENTORY,Je),ge({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function e6(){return ge([...Xe])}async function mH(n){const e=n.id&&n.id.trim()!==""?n.id:Q9();if(Xe.some(l=>l.id===e))throw new Error(`Supplier with id ${e} already exists`);const t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name.trim(),contact:n.contact.trim(),email:n.email.trim(),phone:n.phone.trim(),category:n.category.trim(),status:n.status??"Active",country:n.country?.trim()??"",city:n.city?.trim()??"",address:n.address?.trim()??"",purchases:t,payments:r,balance:s};return Xe=[i,...Xe],me(ue.SUPPLIERS,Xe),ge(i)}async function gH(n){const e=Xe.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Supplier not found");const t=Xe[e],r=n.purchases!==void 0?n.purchases:t.purchases,s=n.payments!==void 0?n.payments:t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return Xe[e]=l,me(ue.SUPPLIERS,Xe),ge(l)}async function yH(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!0,archivedAt:new Date().toISOString()},me(ue.SUPPLIERS,Xe),ge(Xe[e])}async function vH(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!1,archivedAt:void 0},me(ue.SUPPLIERS,Xe),ge(Xe[e])}async function _H(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");Xe.splice(e,1),me(ue.SUPPLIERS,Xe),await ge(void 0)}async function wH(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!0,archivedAt:new Date().toISOString()},t++}return me(ue.SUPPLIERS,Xe),ge({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function EH(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!1,archivedAt:void 0},t++}return me(ue.SUPPLIERS,Xe),ge({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function bH(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe.splice(s,1),t++}return me(ue.SUPPLIERS,Xe),ge({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function SH(){return ge([...ot])}async function xH(n){const e=n.id&&n.id.trim()!==""?n.id:Y9(),t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name,contact:n.contact,email:n.email,phone:n.phone,category:n.category,status:n.status??"Active",country:n.country??"",city:n.city??"",address:n.address??"",purchases:t,payments:r,balance:s};return ot.push(i),me(ue.CUSTOMERS,ot),ge(i)}async function IH(n){const e=ot.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Customer not found");const t=ot[e],r=n.purchases??t.purchases,s=n.payments??t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return ot[e]=l,me(ue.CUSTOMERS,ot),ge(l)}async function TH(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!0,archivedAt:new Date().toISOString()};return ot[e]=t,me(ue.CUSTOMERS,ot),ge(t)}async function CH(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!1,archivedAt:void 0};return ot[e]=t,me(ue.CUSTOMERS,ot),ge(t)}async function PH(n){const e=ot.findIndex(t=>t.id===n);if(e===-1)throw new Error("Customer not found");return ot.splice(e,1),me(ue.CUSTOMERS,ot),ge(void 0)}async function AH(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return me(ue.CUSTOMERS,ot),ge({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function RH(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!0,archivedAt:new Date().toISOString()},t++}return me(ue.CUSTOMERS,ot),ge({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function kH(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!1,archivedAt:void 0},t++}return me(ue.CUSTOMERS,ot),ge({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function NH(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return me(ue.CUSTOMERS,ot),ge({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function DH(n,e){const t=[];let r=0;for(const s of n){const i=ot.findIndex(l=>l.id===s);if(i===-1){t.push(`Customer ${s} not found`);continue}ot[i]={...ot[i],status:e},r++}return me(ue.CUSTOMERS,ot),ge({successCount:r,failedCount:t.length,errors:t.length>0?t:void 0})}async function t6(){return ge([...qt])}async function n6(){return ge([...Kt])}async function OH(n){const e=n.id&&n.id.trim()!==""?n.id:(()=>{const s=qt.map(i=>Number(i.id.replace(/[^0-9]/g,""))||0).reduce((i,l)=>Math.max(i,l),0)+1;return`ORD-${String(s).padStart(4,"0")}`})();if(qt.some(r=>r.id===e))throw new Error(`Order with id ${e} already exists`);const t={id:e,...n};return qt=[t,...qt],me(ue.ORDERS,qt),ge(t)}async function MH(n){const e=qt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Order not found");const r={...qt[e],...n};return qt[e]=r,me(ue.ORDERS,qt),ge(r)}async function VH(n){const e=qt.findIndex(t=>t.id===n);if(e===-1)throw new Error("Order not found");qt[e],qt.splice(e,1),me(ue.ORDERS,qt),await ge(void 0)}async function LH(n){const e=n.id&&n.id.trim()!==""?n.id:(()=>{const s=Kt.map(i=>Number(i.id.replace(/[^0-9]/g,""))||0).reduce((i,l)=>Math.max(i,l),0)+1;return`SHIP-${String(s).padStart(4,"0")}`})();if(Kt.some(r=>r.id===e))throw new Error(`Shipment with id ${e} already exists`);const t={id:e,...n};return Kt=[t,...Kt],me(ue.SHIPMENTS,Kt),ge(t)}async function FH(n){const e=Kt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Shipment not found");const r={...Kt[e],...n};return Kt[e]=r,me(ue.SHIPMENTS,Kt),ge(r)}async function jH(n){const e=Kt.findIndex(t=>t.id===n);if(e===-1)throw new Error("Shipment not found");Kt[e],Kt.splice(e,1),me(ue.SHIPMENTS,Kt),await ge(void 0)}async function zH(n){const e=[];let t=0;for(const r of n){const s=Je.findIndex(i=>i.id===r);s===-1?e.push(`Item ${r} not found`):(Je.splice(s,1),t++)}return me(ue.INVENTORY,Je),ge({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function UH(n,e){const t=[];let r=0;for(const s of n){const i=Je.findIndex(l=>l.id===s);if(i===-1)t.push(`Item ${s} not found`);else{const l=Je[i],u=e.quantity!==void 0?Math.max(0,Math.floor(e.quantity)):l.quantity,h=e.reorderLevel!==void 0?Math.max(0,Math.floor(e.reorderLevel)):l.reorderLevel;e.maintainStockAt!==void 0?Math.max(0,Math.floor(e.maintainStockAt)):l.maintainStockAt,Je[i]={...l,...e,quantity:u,reorderLevel:h,status:kp(u,h)},r++}}return me(ue.INVENTORY,Je),ge({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function $H(n){const e=[];let t=0;for(const r of n){const s=qt.findIndex(i=>i.id===r);s===-1?e.push(`Order ${r} not found`):(qt.splice(s,1),t++)}return me(ue.ORDERS,qt),ge({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function BH(n,e){const t=[];let r=0;for(const s of n){const i=qt.findIndex(l=>l.id===s);i===-1?t.push(`Order ${s} not found`):(qt[i]={...qt[i],status:e},r++)}return me(ue.ORDERS,qt),ge({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function qH(n){const e=[];let t=0;for(const r of n){const s=Kt.findIndex(i=>i.id===r);s===-1?e.push(`Shipment ${r} not found`):(Kt.splice(s,1),t++)}return me(ue.SHIPMENTS,Kt),ge({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function HH(n,e){const t=[];let r=0;for(const s of n){const i=Kt.findIndex(l=>l.id===s);i===-1?t.push(`Shipment ${s} not found`):(Kt[i]={...Kt[i],status:e},r++)}return me(ue.SHIPMENTS,Kt),ge({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function WH(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);s===-1?e.push(`Supplier ${r} not found`):(Xe.splice(s,1),t++)}return me(ue.SUPPLIERS,Xe),ge({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function GH(n,e){const t=[];let r=0;for(const s of n){const i=Xe.findIndex(l=>l.id===s);i===-1?t.push(`Supplier ${s} not found`):(Xe[i]={...Xe[i],status:e},r++)}return me(ue.SUPPLIERS,Xe),ge({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function r6(){return ge([...Ae])}async function KH(n){const e=n.id&&n.id.trim()!==""?n.id:X9();if(Ae.some(l=>l.id===e))throw new Error(`Purchase Order with id ${e} already exists`);const t=n.items.reduce((l,u)=>l+u.totalPrice,0),r=n.totalPaid??0,s=n.poDate??new Date().toISOString().split("T")[0],i={id:e,poDate:s,supplierId:n.supplierId,supplierName:n.supplierName,supplierCountry:n.supplierCountry??"",supplierCity:n.supplierCity??"",billNumber:n.billNumber??"",items:n.items.map(l=>({...l,quantityReceived:0})),totalAmount:t,totalPaid:r,poBalance:t-r,status:"Draft",shippingStatus:"Pending",createdBy:n.createdBy,createdDate:s,approvedBy:null,approvedDate:null,receivedDate:null,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return Ae=[i,...Ae],me(ue.PURCHASE_ORDERS,Ae),ge(i)}async function ZH(n){const e=Ae.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Purchase Order not found");const r={...Ae[e],...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),(n.items!==void 0||n.totalPaid!==void 0)&&(r.poBalance=r.totalAmount-r.totalPaid),Ae[e]=r,me(ue.PURCHASE_ORDERS,Ae),ge(r)}async function QH(n){const e=Ae.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ae[e];if(t.status!=="Draft")throw new Error("Only Draft purchase orders can be submitted for approval");return Ae[e]={...t,status:"Pending Approval"},me(ue.PURCHASE_ORDERS,Ae),ge(Ae[e])}async function YH(n,e){const t=Ae.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Ae[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be approved");return Ae[t]={...r,status:"Approved",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},me(ue.PURCHASE_ORDERS,Ae),ge(Ae[t])}async function XH(n,e){const t=Ae.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Ae[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be rejected");return Ae[t]={...r,status:"Rejected",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},me(ue.PURCHASE_ORDERS,Ae),ge(Ae[t])}async function JH(n){const e=Ae.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ae[e];if(t.status!=="Approved")throw new Error("Only Approved purchase orders can be marked as ordered");return Ae[e]={...t,status:"Ordered"},me(ue.PURCHASE_ORDERS,Ae),ge(Ae[e])}async function eW(n){const e=Ae.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Ae[e];if(["Received","Cancelled"].includes(t.status))throw new Error("Cannot cancel received or already cancelled purchase orders");return Ae[e]={...t,status:"Cancelled"},me(ue.PURCHASE_ORDERS,Ae),ge(Ae[e])}async function tW(n,e,t){const r=Ae.findIndex(m=>m.id===n);if(r===-1)throw new Error("Purchase Order not found");const s=Ae[r];if(!["Ordered","Partially Received"].includes(s.status))throw new Error("Can only receive items for Ordered or Partially Received purchase orders");const i=[],l=s.items.map(m=>{const E=e.find(R=>R.inventoryItemId===m.inventoryItemId);if(!E)return m;const A=(m.quantityReceived??0)+E.quantityReceived;if(A>m.quantity)throw new Error(`Cannot receive more than ordered quantity for ${m.itemName}`);const C=Je.findIndex(R=>R.id===m.inventoryItemId);if(C!==-1){const R=Je[C].quantity,D=R+E.quantityReceived;Je[C]={...Je[C],quantity:D,status:kp(D,Je[C].reorderLevel,Je[C].maintainStockAt)},i.push({itemId:m.inventoryItemId,itemName:m.itemName,previousQty:R,newQty:D})}return{...m,quantityReceived:A}}),u=l.every(m=>(m.quantityReceived??0)>=m.quantity),h=l.some(m=>(m.quantityReceived??0)>0);let p=s.status,y=s.receivedDate;return u?(p="Received",y=new Date().toISOString().split("T")[0]):h&&(p="Partially Received"),Ae[r]={...s,items:l,status:p,receivedDate:y,actualCost:t??s.actualCost},me(ue.PURCHASE_ORDERS,Ae),me(ue.INVENTORY,Je),ge({purchaseOrder:Ae[r],inventoryUpdates:i})}async function nW(n){const e=Ae.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Ae[e]={...Ae[e],archived:!0,archivedAt:new Date().toISOString()},me(ue.PURCHASE_ORDERS,Ae),ge(Ae[e])}async function rW(n){const e=Ae.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Ae[e]={...Ae[e],archived:!1,archivedAt:void 0},me(ue.PURCHASE_ORDERS,Ae),ge(Ae[e])}async function sW(n){const e=Ae.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");Ae.splice(e,1),me(ue.PURCHASE_ORDERS,Ae),await ge(void 0)}async function oW(n){const e=[];let t=0;for(const r of n){const s=Ae.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ae[s]={...Ae[s],archived:!0,archivedAt:new Date().toISOString()},t++)}return me(ue.PURCHASE_ORDERS,Ae),ge({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function iW(n){const e=[];let t=0;for(const r of n){const s=Ae.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ae[s]={...Ae[s],archived:!1,archivedAt:void 0},t++)}return me(ue.PURCHASE_ORDERS,Ae),ge({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function aW(n){const e=[];let t=0;for(const r of n){const s=Ae.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Ae.splice(s,1),t++)}return me(ue.PURCHASE_ORDERS,Ae),ge({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function lW(){return ge([...ut])}async function cW(n){const e=n.id&&n.id.trim()!==""?n.id:J9();if(ut.some(h=>h.id===e))throw new Error(`Sales Order with id ${e} already exists`);const t=n.items.reduce((h,p)=>h+p.totalPrice,0),r=n.totalReceived??0,s=t-r,i=n.soDate??new Date().toISOString().split("T")[0];let l=n.receiptStatus??"Unpaid";n.receiptStatus||(r>=t?l="Paid":r>0&&(l="Partially Paid"));const u={id:e,soDate:i,customerId:n.customerId,customerName:n.customerName,customerCountry:n.customerCountry??"",customerCity:n.customerCity??"",invoiceNumber:n.invoiceNumber??"",items:n.items.map(h=>({...h,quantityShipped:0})),totalAmount:t,totalReceived:r,soBalance:s,receiptStatus:l,shippingStatus:n.shippingStatus??"Pending",createdBy:n.createdBy,createdDate:i,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return ut.push(u),me(ue.SALES_ORDERS,ut),ge(u)}async function uW(n){const e=ut.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Sales Order not found");const r={...ut[e],...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),r.soBalance=r.totalAmount-r.totalReceived,ut[e]=r,me(ue.SALES_ORDERS,ut),ge(r)}async function dW(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut.splice(e,1),me(ue.SALES_ORDERS,ut),ge(void 0)}async function hW(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut[e]={...ut[e],archived:!0,archivedAt:new Date().toISOString()},me(ue.SALES_ORDERS,ut),ge(ut[e])}async function fW(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut[e]={...ut[e],archived:!1,archivedAt:void 0},me(ue.SALES_ORDERS,ut),ge(ut[e])}async function pW(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ut[s]={...ut[s],archived:!0,archivedAt:new Date().toISOString()},t++}return me(ue.SALES_ORDERS,ut),ge({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function mW(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ut[s]={...ut[s],archived:!1,archivedAt:void 0},t++}return me(ue.SALES_ORDERS,ut),ge({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function gW(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}if(!ut[s].archived){e.push(`Sales Order ${r} must be archived before permanent deletion`);continue}ut.splice(s,1),t++}return me(ue.SALES_ORDERS,ut),ge({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function yW(){return ge([...Pr])}async function vW(n){if(Pr.find(r=>r.name.toLowerCase()===n.toLowerCase()))throw new Error(`Category "${n}" already exists`);const t={name:n,subcategories:[]};return Pr=[...Pr,t],me(ue.CATEGORIES,Pr),ge(t)}async function _W(n,e){const t=Pr.findIndex(i=>i.name===n);if(t===-1)throw new Error(`Category "${n}" not found`);const r=Pr[t];if(r.subcategories.some(i=>i.toLowerCase()===e.toLowerCase()))throw new Error(`Subcategory "${e}" already exists in "${n}"`);const s={...r,subcategories:[...r.subcategories,e]};return Pr=[...Pr.slice(0,t),s,...Pr.slice(t+1)],me(ue.CATEGORIES,Pr),ge(s)}const s6=[{id:"TRX-001",trxDate:"2025-10-10",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Bank Transfer",amountReceived:14699.8,notes:"Full payment for SO-001",createdAt:"2025-10-10T10:30:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-002",invoiceNumber:"INV-2025-0502",paymentMode:"Credit Card",amountReceived:12e3,notes:"Partial payment for SO-002",createdAt:"2025-10-20T14:15:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Bank Transfer",amountReceived:7188,notes:"Full payment for furniture order",createdAt:"2025-11-05T09:00:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-005",invoiceNumber:"INV-2025-0495",paymentMode:"Check",amountReceived:3e3,notes:"Partial payment - overdue balance",createdAt:"2025-09-20T11:45:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-11-01",customerId:"CUS-002",customerName:"TechStart Inc",country:"United States",city:"Austin",soId:"SO-003",invoiceNumber:"INV-2025-0503",paymentMode:"Cash",amountReceived:500,notes:"Deposit for order",createdAt:"2025-11-01T16:30:00Z",createdBy:"2",archived:!1},{id:"TRX-006",trxDate:"2025-10-25",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Online Payment",amountReceived:2500,notes:"Additional payment for extended warranty",createdAt:"2025-10-25T13:00:00Z",createdBy:"1",archived:!1},{id:"TRX-007",trxDate:"2025-11-10",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Credit Card",amountReceived:1500,notes:"Additional items added to order",createdAt:"2025-11-10T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-10-15",customerId:"CUS-005",customerName:"Metro Supplies",country:"United States",city:"New York",soId:"SO-003",invoiceNumber:"INV-2025-0499",paymentMode:"Bank Transfer",amountReceived:850,notes:"Final payment clearing balance",createdAt:"2025-10-15T09:30:00Z",createdBy:"1",archived:!1}];let tt=zs(ue.CASH_BANK,s6);tt=tt.map(n=>({...n,archived:n.archived??!1}));me(ue.CASH_BANK,tt);function o6(){const n=tt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function wW(){return ge([...tt])}async function EW(n){const e=n.id||o6(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,customerId:n.customerId,customerName:n.customerName,country:n.country||"",city:n.city||"",soId:n.soId,invoiceNumber:n.invoiceNumber||"",paymentMode:n.paymentMode,amountReceived:n.amountReceived,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return tt=[...tt,r],me(ue.CASH_BANK,tt),ge(r)}async function bW(n){const e=tt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n.id} not found`);const t=tt[e],r={...t,trxDate:n.trxDate??t.trxDate,customerId:n.customerId??t.customerId,customerName:n.customerName??t.customerName,country:n.country??t.country,city:n.city??t.city,soId:n.soId??t.soId,invoiceNumber:n.invoiceNumber??t.invoiceNumber,paymentMode:n.paymentMode??t.paymentMode,amountReceived:n.amountReceived??t.amountReceived,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),r,...tt.slice(e+1)],me(ue.CASH_BANK,tt),ge(r)}async function SW(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...tt[e],archived:!0,archivedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],me(ue.CASH_BANK,tt),ge(t)}async function xW(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...tt[e],archived:!1,archivedAt:void 0};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],me(ue.CASH_BANK,tt),ge(t)}async function IW(n){if(tt.findIndex(t=>t.id===n)===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);return tt=tt.filter(t=>t.id!==n),me(ue.CASH_BANK,tt),ge(void 0)}async function TW(n){const e=new Date().toISOString(),t=[];return tt=tt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),me(ue.CASH_BANK,tt),ge(t)}async function CW(n){const e=[];return tt=tt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),me(ue.CASH_BANK,tt),ge(e)}async function PW(n){return tt=tt.filter(e=>!n.includes(e.id)),me(ue.CASH_BANK,tt),ge(void 0)}const i6=[{id:"TRX-001",trxDate:"2025-10-05",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-001",billNumber:"INV-2025-0142",paymentMode:"Bank Transfer",amountPaid:57998.5,notes:"Full payment for PO-001 - Q4 restock",createdAt:"2025-10-05T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Check",amountPaid:16225,notes:"50% deposit for office furniture",createdAt:"2025-10-20T14:30:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-005",billNumber:"FC-INV-4590",paymentMode:"Bank Transfer",amountPaid:4485,notes:"Full payment for filing cabinets",createdAt:"2025-11-05T09:15:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-28",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Credit Card",amountPaid:25e3,notes:"Partial payment for electronics shipment",createdAt:"2025-09-28T11:00:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-10-30",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Bank Transfer",amountPaid:25e3,notes:"Final payment for electronics shipment",createdAt:"2025-10-30T15:45:00Z",createdBy:"1",archived:!1},{id:"TRX-006",trxDate:"2025-11-02",supplierId:"SUP-005",supplierName:"Premium Parts Ltd",country:"United Kingdom",city:"London",poId:"PO-003",billNumber:"PP-UK-2025-456",paymentMode:"Online Payment",amountPaid:15e3,notes:"Payment for premium components",createdAt:"2025-11-02T08:30:00Z",createdBy:"2",archived:!1},{id:"TRX-007",trxDate:"2025-10-12",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-004",billNumber:"TS-INV-2025-234",paymentMode:"Cash",amountPaid:3500,notes:"Advance payment for monitor order",createdAt:"2025-10-12T13:20:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-11-08",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Bank Transfer",amountPaid:8e3,notes:"Second installment for furniture order",createdAt:"2025-11-08T10:00:00Z",createdBy:"1",archived:!1}];let nt=zs(ue.PAYMENTS,i6);nt=nt.map(n=>({...n,archived:n.archived??!1}));me(ue.PAYMENTS,nt);function a6(){const n=nt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function AW(){return ge([...nt])}async function RW(n){const e=n.id||a6(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,supplierId:n.supplierId,supplierName:n.supplierName,country:n.country||"",city:n.city||"",poId:n.poId,billNumber:n.billNumber||"",paymentMode:n.paymentMode,amountPaid:n.amountPaid,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return nt=[...nt,r],me(ue.PAYMENTS,nt),ge(r)}async function kW(n){const e=nt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Payment transaction with ID ${n.id} not found`);const t=nt[e],r={...t,trxDate:n.trxDate??t.trxDate,supplierId:n.supplierId??t.supplierId,supplierName:n.supplierName??t.supplierName,country:n.country??t.country,city:n.city??t.city,poId:n.poId??t.poId,billNumber:n.billNumber??t.billNumber,paymentMode:n.paymentMode??t.paymentMode,amountPaid:n.amountPaid??t.amountPaid,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return nt=[...nt.slice(0,e),r,...nt.slice(e+1)],me(ue.PAYMENTS,nt),ge(r)}async function NW(n){const e=nt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...nt[e],archived:!0,archivedAt:new Date().toISOString()};return nt=[...nt.slice(0,e),t,...nt.slice(e+1)],me(ue.PAYMENTS,nt),ge(t)}async function DW(n){const e=nt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...nt[e],archived:!1,archivedAt:void 0};return nt=[...nt.slice(0,e),t,...nt.slice(e+1)],me(ue.PAYMENTS,nt),ge(t)}async function OW(n){if(nt.findIndex(t=>t.id===n)===-1)throw new Error(`Payment transaction with ID ${n} not found`);return nt=nt.filter(t=>t.id!==n),me(ue.PAYMENTS,nt),ge(void 0)}async function MW(n){const e=new Date().toISOString(),t=[];return nt=nt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),me(ue.PAYMENTS,nt),ge(t)}async function VW(n){const e=[];return nt=nt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),me(ue.PAYMENTS,nt),ge(e)}async function LW(n){return nt=nt.filter(e=>!n.includes(e.id)),me(ue.PAYMENTS,nt),ge(void 0)}const l6=()=>{};var Mb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},c6=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],l=n[t++],u=n[t++],h=((s&7)<<18|(i&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},FC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,y=i>>2,m=(i&3)<<4|u>>4;let E=(u&15)<<2|p>>6,x=p&63;h||(x=64,l||(E=64)),r.push(t[y],t[m],t[E],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(LC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):c6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const m=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||u==null||p==null||m==null)throw new u6;const E=i<<2|u>>4;if(r.push(E),p!==64){const x=u<<4&240|p>>2;if(r.push(x),m!==64){const A=p<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class u6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d6=function(n){const e=LC(n);return FC.encodeByteArray(e,!0)},kf=function(n){return d6(n).replace(/\./g,"")},jC=function(n){try{return FC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=()=>zC().__FIREBASE_DEFAULTS__,f6=()=>{if(typeof process>"u"||typeof Mb>"u")return;const n=Mb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},p6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jC(n[1]);return e&&JSON.parse(e)},Np=()=>{try{return l6()||h6()||f6()||p6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UC=n=>Np()?.emulatorHosts?.[n],m6=n=>{const e=UC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$C=()=>Np()?.config,BC=n=>Np()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qC(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[kf(JSON.stringify(t)),kf(JSON.stringify(l)),""].join(".")}const wu={};function v6(){const n={prod:[],emulator:[]};for(const e of Object.keys(wu))wu[e]?n.emulator.push(e):n.prod.push(e);return n}function _6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Vb=!1;function HC(n,e){if(typeof window>"u"||typeof document>"u"||!cc(window.location.host)||wu[n]===e||wu[n]||Vb)return;wu[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",i=v6().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Vb=!0,l()},E}function y(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function m(){const E=_6(r),x=t("text"),A=document.getElementById(x)||document.createElement("span"),C=t("learnmore"),R=document.getElementById(C)||document.createElement("a"),D=t("preprendIcon"),M=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;u(z),y(R,C);const U=p();h(M,D),z.append(M,A,R,U),document.body.appendChild(z)}i?(A.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function WC(){const n=Np()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function S6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x6(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function GC(){return!WC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KC(){return!WC()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ZC(){try{return typeof indexedDB=="object"}catch{return!1}}function I6(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="FirebaseError";class yo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=T6,Object.setPrototypeOf(this,yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ad.prototype.create)}}class ad{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?C6(i,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new yo(s,u,r)}}function C6(n,e){return n.replace(P6,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const P6=/\{\$([^}]+)}/g;function A6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ga(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],l=e[s];if(Lb(i)&&Lb(l)){if(!ga(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Lb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function R6(n,e){const t=new k6(n,e);return t.subscribe.bind(t)}class k6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");N6(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Kg),s.error===void 0&&(s.error=Kg),s.complete===void 0&&(s.complete=Kg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n){return n&&n._delegate?n._delegate:n}class ya{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new g6;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M6(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O6(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O6(n){return n===Yi?void 0:n}function M6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new D6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(at||(at={}));const L6={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},F6=at.INFO,j6={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},z6=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=j6[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d_{constructor(e){this.name=e,this._logLevel=F6,this._logHandler=z6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const U6=(n,e)=>e.some(t=>n instanceof t);let Fb,jb;function $6(){return Fb||(Fb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B6(){return jb||(jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QC=new WeakMap,Dy=new WeakMap,YC=new WeakMap,Zg=new WeakMap,h_=new WeakMap;function q6(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",l)},i=()=>{t(ai(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&QC.set(t,n)}).catch(()=>{}),h_.set(e,n),e}function H6(n){if(Dy.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",l),n.removeEventListener("abort",l)},i=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",l),n.addEventListener("abort",l)});Dy.set(n,e)}let Oy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Dy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||YC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ai(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function W6(n){Oy=n(Oy)}function G6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Qg(this),e,...t);return YC.set(r,e.sort?e.sort():[e]),ai(r)}:B6().includes(n)?function(...e){return n.apply(Qg(this),e),ai(QC.get(this))}:function(...e){return ai(n.apply(Qg(this),e))}}function K6(n){return typeof n=="function"?G6(n):(n instanceof IDBTransaction&&H6(n),U6(n,$6())?new Proxy(n,Oy):n)}function ai(n){if(n instanceof IDBRequest)return q6(n);if(Zg.has(n))return Zg.get(n);const e=K6(n);return e!==n&&(Zg.set(n,e),h_.set(e,n)),e}const Qg=n=>h_.get(n);function Z6(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(n,e),u=ai(l);return r&&l.addEventListener("upgradeneeded",h=>{r(ai(l.result),h.oldVersion,h.newVersion,ai(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const Q6=["get","getKey","getAll","getAllKeys","count"],Y6=["put","add","delete","clear"],Yg=new Map;function zb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Y6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Q6.includes(t)))return;const i=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),s&&h.done]))[0]};return Yg.set(e,i),i}W6(n=>({...n,get:(e,t,r)=>zb(e,t)||n.get(e,t,r),has:(e,t)=>!!zb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(J6(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function J6(n){return n.getComponent()?.type==="VERSION"}const My="@firebase/app",Ub="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new d_("@firebase/app"),ez="@firebase/app-compat",tz="@firebase/analytics-compat",nz="@firebase/analytics",rz="@firebase/app-check-compat",sz="@firebase/app-check",oz="@firebase/auth",iz="@firebase/auth-compat",az="@firebase/database",lz="@firebase/data-connect",cz="@firebase/database-compat",uz="@firebase/functions",dz="@firebase/functions-compat",hz="@firebase/installations",fz="@firebase/installations-compat",pz="@firebase/messaging",mz="@firebase/messaging-compat",gz="@firebase/performance",yz="@firebase/performance-compat",vz="@firebase/remote-config",_z="@firebase/remote-config-compat",wz="@firebase/storage",Ez="@firebase/storage-compat",bz="@firebase/firestore",Sz="@firebase/ai",xz="@firebase/firestore-compat",Iz="firebase",Tz="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="[DEFAULT]",Cz={[My]:"fire-core",[ez]:"fire-core-compat",[nz]:"fire-analytics",[tz]:"fire-analytics-compat",[sz]:"fire-app-check",[rz]:"fire-app-check-compat",[oz]:"fire-auth",[iz]:"fire-auth-compat",[az]:"fire-rtdb",[lz]:"fire-data-connect",[cz]:"fire-rtdb-compat",[uz]:"fire-fn",[dz]:"fire-fn-compat",[hz]:"fire-iid",[fz]:"fire-iid-compat",[pz]:"fire-fcm",[mz]:"fire-fcm-compat",[gz]:"fire-perf",[yz]:"fire-perf-compat",[vz]:"fire-rc",[_z]:"fire-rc-compat",[wz]:"fire-gcs",[Ez]:"fire-gcs-compat",[bz]:"fire-fst",[xz]:"fire-fst-compat",[Sz]:"fire-vertex","fire-js":"fire-js",[Iz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Map,Pz=new Map,Ly=new Map;function $b(n,e){try{n.container.addComponent(e)}catch(t){ho.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hl(n){const e=n.name;if(Ly.has(e))return ho.debug(`There were multiple attempts to register component ${e}.`),!1;Ly.set(e,n);for(const t of Nf.values())$b(t,n);for(const t of Pz.values())$b(t,n);return!0}function f_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Cs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new ad("app","Firebase",Az);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=Tz;function XC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Vy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw li.create("bad-app-name",{appName:String(s)});if(t||(t=$C()),!t)throw li.create("no-options");const i=Nf.get(s);if(i){if(ga(t,i.options)&&ga(r,i.config))return i;throw li.create("duplicate-app",{appName:s})}const l=new V6(s);for(const h of Ly.values())l.addComponent(h);const u=new Rz(t,r,l);return Nf.set(s,u),u}function JC(n=Vy){const e=Nf.get(n);if(!e&&n===Vy&&$C())return XC();if(!e)throw li.create("no-app",{appName:n});return e}function ci(n,e,t){let r=Cz[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ho.warn(l.join(" "));return}Hl(new ya(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="firebase-heartbeat-database",Nz=1,zu="firebase-heartbeat-store";let Xg=null;function eP(){return Xg||(Xg=Z6(kz,Nz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zu)}catch(t){console.warn(t)}}}}).catch(n=>{throw li.create("idb-open",{originalErrorMessage:n.message})})),Xg}async function Dz(n){try{const t=(await eP()).transaction(zu),r=await t.objectStore(zu).get(tP(n));return await t.done,r}catch(e){if(e instanceof yo)ho.warn(e.message);else{const t=li.create("idb-get",{originalErrorMessage:e?.message});ho.warn(t.message)}}}async function Bb(n,e){try{const r=(await eP()).transaction(zu,"readwrite");await r.objectStore(zu).put(e,tP(n)),await r.done}catch(t){if(t instanceof yo)ho.warn(t.message);else{const r=li.create("idb-set",{originalErrorMessage:t?.message});ho.warn(r.message)}}}function tP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=1024,Mz=30;class Vz{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fz(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>Mz){const s=jz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ho.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qb(),{heartbeatsToSend:t,unsentEntries:r}=Lz(this._heartbeatsCache.heartbeats),s=kf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ho.warn(e),""}}}function qb(){return new Date().toISOString().substring(0,10)}function Lz(n,e=Oz){const t=[];let r=n.slice();for(const s of n){const i=t.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),Hb(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Hb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Fz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZC()?I6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Dz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hb(n){return kf(JSON.stringify({version:2,heartbeats:n})).length}function jz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(n){Hl(new ya("platform-logger",e=>new X6(e),"PRIVATE")),Hl(new ya("heartbeat",e=>new Vz(e),"PRIVATE")),ci(My,Ub,n),ci(My,Ub,"esm2020"),ci("fire-js","")}zz("");var Uz="firebase",$z="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(Uz,$z,"app");var Wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ui,nP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function N(){}N.prototype=T.prototype,P.F=T.prototype,P.prototype=new N,P.prototype.constructor=P,P.D=function(V,F,B){for(var O=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)O[Te-2]=arguments[Te];return T.prototype[F].apply(V,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,T,N){N||(N=0);const V=Array(16);if(typeof T=="string")for(var F=0;F<16;++F)V[F]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(F=0;F<16;++F)V[F]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=P.g[0],N=P.g[1],F=P.g[2];let B=P.g[3],O;O=T+(B^N&(F^B))+V[0]+3614090360&4294967295,T=N+(O<<7&4294967295|O>>>25),O=B+(F^T&(N^F))+V[1]+3905402710&4294967295,B=T+(O<<12&4294967295|O>>>20),O=F+(N^B&(T^N))+V[2]+606105819&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(T^F&(B^T))+V[3]+3250441966&4294967295,N=F+(O<<22&4294967295|O>>>10),O=T+(B^N&(F^B))+V[4]+4118548399&4294967295,T=N+(O<<7&4294967295|O>>>25),O=B+(F^T&(N^F))+V[5]+1200080426&4294967295,B=T+(O<<12&4294967295|O>>>20),O=F+(N^B&(T^N))+V[6]+2821735955&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(T^F&(B^T))+V[7]+4249261313&4294967295,N=F+(O<<22&4294967295|O>>>10),O=T+(B^N&(F^B))+V[8]+1770035416&4294967295,T=N+(O<<7&4294967295|O>>>25),O=B+(F^T&(N^F))+V[9]+2336552879&4294967295,B=T+(O<<12&4294967295|O>>>20),O=F+(N^B&(T^N))+V[10]+4294925233&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(T^F&(B^T))+V[11]+2304563134&4294967295,N=F+(O<<22&4294967295|O>>>10),O=T+(B^N&(F^B))+V[12]+1804603682&4294967295,T=N+(O<<7&4294967295|O>>>25),O=B+(F^T&(N^F))+V[13]+4254626195&4294967295,B=T+(O<<12&4294967295|O>>>20),O=F+(N^B&(T^N))+V[14]+2792965006&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(T^F&(B^T))+V[15]+1236535329&4294967295,N=F+(O<<22&4294967295|O>>>10),O=T+(F^B&(N^F))+V[1]+4129170786&4294967295,T=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(T^N))+V[6]+3225465664&4294967295,B=T+(O<<9&4294967295|O>>>23),O=F+(T^N&(B^T))+V[11]+643717713&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^T&(F^B))+V[0]+3921069994&4294967295,N=F+(O<<20&4294967295|O>>>12),O=T+(F^B&(N^F))+V[5]+3593408605&4294967295,T=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(T^N))+V[10]+38016083&4294967295,B=T+(O<<9&4294967295|O>>>23),O=F+(T^N&(B^T))+V[15]+3634488961&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^T&(F^B))+V[4]+3889429448&4294967295,N=F+(O<<20&4294967295|O>>>12),O=T+(F^B&(N^F))+V[9]+568446438&4294967295,T=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(T^N))+V[14]+3275163606&4294967295,B=T+(O<<9&4294967295|O>>>23),O=F+(T^N&(B^T))+V[3]+4107603335&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^T&(F^B))+V[8]+1163531501&4294967295,N=F+(O<<20&4294967295|O>>>12),O=T+(F^B&(N^F))+V[13]+2850285829&4294967295,T=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(T^N))+V[2]+4243563512&4294967295,B=T+(O<<9&4294967295|O>>>23),O=F+(T^N&(B^T))+V[7]+1735328473&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^T&(F^B))+V[12]+2368359562&4294967295,N=F+(O<<20&4294967295|O>>>12),O=T+(N^F^B)+V[5]+4294588738&4294967295,T=N+(O<<4&4294967295|O>>>28),O=B+(T^N^F)+V[8]+2272392833&4294967295,B=T+(O<<11&4294967295|O>>>21),O=F+(B^T^N)+V[11]+1839030562&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^T)+V[14]+4259657740&4294967295,N=F+(O<<23&4294967295|O>>>9),O=T+(N^F^B)+V[1]+2763975236&4294967295,T=N+(O<<4&4294967295|O>>>28),O=B+(T^N^F)+V[4]+1272893353&4294967295,B=T+(O<<11&4294967295|O>>>21),O=F+(B^T^N)+V[7]+4139469664&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^T)+V[10]+3200236656&4294967295,N=F+(O<<23&4294967295|O>>>9),O=T+(N^F^B)+V[13]+681279174&4294967295,T=N+(O<<4&4294967295|O>>>28),O=B+(T^N^F)+V[0]+3936430074&4294967295,B=T+(O<<11&4294967295|O>>>21),O=F+(B^T^N)+V[3]+3572445317&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^T)+V[6]+76029189&4294967295,N=F+(O<<23&4294967295|O>>>9),O=T+(N^F^B)+V[9]+3654602809&4294967295,T=N+(O<<4&4294967295|O>>>28),O=B+(T^N^F)+V[12]+3873151461&4294967295,B=T+(O<<11&4294967295|O>>>21),O=F+(B^T^N)+V[15]+530742520&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^T)+V[2]+3299628645&4294967295,N=F+(O<<23&4294967295|O>>>9),O=T+(F^(N|~B))+V[0]+4096336452&4294967295,T=N+(O<<6&4294967295|O>>>26),O=B+(N^(T|~F))+V[7]+1126891415&4294967295,B=T+(O<<10&4294967295|O>>>22),O=F+(T^(B|~N))+V[14]+2878612391&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~T))+V[5]+4237533241&4294967295,N=F+(O<<21&4294967295|O>>>11),O=T+(F^(N|~B))+V[12]+1700485571&4294967295,T=N+(O<<6&4294967295|O>>>26),O=B+(N^(T|~F))+V[3]+2399980690&4294967295,B=T+(O<<10&4294967295|O>>>22),O=F+(T^(B|~N))+V[10]+4293915773&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~T))+V[1]+2240044497&4294967295,N=F+(O<<21&4294967295|O>>>11),O=T+(F^(N|~B))+V[8]+1873313359&4294967295,T=N+(O<<6&4294967295|O>>>26),O=B+(N^(T|~F))+V[15]+4264355552&4294967295,B=T+(O<<10&4294967295|O>>>22),O=F+(T^(B|~N))+V[6]+2734768916&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~T))+V[13]+1309151649&4294967295,N=F+(O<<21&4294967295|O>>>11),O=T+(F^(N|~B))+V[4]+4149444226&4294967295,T=N+(O<<6&4294967295|O>>>26),O=B+(N^(T|~F))+V[11]+3174756917&4294967295,B=T+(O<<10&4294967295|O>>>22),O=F+(T^(B|~N))+V[2]+718787259&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~T))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+F&4294967295,P.g[3]=P.g[3]+B&4294967295}r.prototype.v=function(P,T){T===void 0&&(T=P.length);const N=T-this.blockSize,V=this.C;let F=this.h,B=0;for(;B<T;){if(F==0)for(;B<=N;)s(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<T;)if(V[F++]=P.charCodeAt(B++),F==this.blockSize){s(this,V),F=0;break}}else for(;B<T;)if(V[F++]=P[B++],F==this.blockSize){s(this,V),F=0;break}}this.h=F,this.o+=T},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;T=this.o*8;for(var N=P.length-8;N<P.length;++N)P[N]=T&255,T/=256;for(this.v(P),P=Array(16),T=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)P[T++]=this.g[N]>>>V&255;return P};function i(P,T){var N=u;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=T(P)}function l(P,T){this.h=T;const N=[];let V=!0;for(let F=P.length-1;F>=0;F--){const B=P[F]|0;V&&B==T||(N[F]=B,V=!1)}this.g=N}var u={};function h(P){return-128<=P&&P<128?i(P,function(T){return new l([T|0],T<0?-1:0)}):new l([P|0],P<0?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return R(p(-P));const T=[];let N=1;for(let V=0;P>=N;V++)T[V]=P/N|0,N*=4294967296;return new l(T,0)}function y(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return R(y(P.substring(1),T));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(T,8));let V=m;for(let B=0;B<P.length;B+=8){var F=Math.min(8,P.length-B);const O=parseInt(P.substring(B,B+F),T);F<8?(F=p(Math.pow(T,F)),V=V.j(F).add(p(O))):(V=V.j(N),V=V.add(p(O)))}return V}var m=h(0),E=h(1),x=h(16777216);n=l.prototype,n.m=function(){if(C(this))return-R(this).m();let P=0,T=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);P+=(V>=0?V:4294967296+V)*T,T*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A(this))return"0";if(C(this))return"-"+R(this).toString(P);const T=p(Math.pow(P,6));var N=this;let V="";for(;;){const F=U(N,T).g;N=D(N,F.j(T));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(P);if(N=F,A(N))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function A(P){if(P.h!=0)return!1;for(let T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function C(P){return P.h==-1}n.l=function(P){return P=D(this,P),C(P)?-1:A(P)?0:1};function R(P){const T=P.g.length,N=[];for(let V=0;V<T;V++)N[V]=~P.g[V];return new l(N,~P.h).add(E)}n.abs=function(){return C(this)?R(this):this},n.add=function(P){const T=Math.max(this.g.length,P.g.length),N=[];let V=0;for(let F=0;F<=T;F++){let B=V+(this.i(F)&65535)+(P.i(F)&65535),O=(B>>>16)+(this.i(F)>>>16)+(P.i(F)>>>16);V=O>>>16,B&=65535,O&=65535,N[F]=O<<16|B}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(P,T){return P.add(R(T))}n.j=function(P){if(A(this)||A(P))return m;if(C(this))return C(P)?R(this).j(R(P)):R(R(this).j(P));if(C(P))return R(this.j(R(P)));if(this.l(x)<0&&P.l(x)<0)return p(this.m()*P.m());const T=this.g.length+P.g.length,N=[];for(var V=0;V<2*T;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let F=0;F<P.g.length;F++){const B=this.i(V)>>>16,O=this.i(V)&65535,Te=P.i(F)>>>16,Be=P.i(F)&65535;N[2*V+2*F]+=O*Be,M(N,2*V+2*F),N[2*V+2*F+1]+=B*Be,M(N,2*V+2*F+1),N[2*V+2*F+1]+=O*Te,M(N,2*V+2*F+1),N[2*V+2*F+2]+=B*Te,M(N,2*V+2*F+2)}for(P=0;P<T;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=T;P<2*T;P++)N[P]=0;return new l(N,0)};function M(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function z(P,T){this.g=P,this.h=T}function U(P,T){if(A(T))throw Error("division by zero");if(A(P))return new z(m,m);if(C(P))return T=U(R(P),T),new z(R(T.g),R(T.h));if(C(T))return T=U(P,R(T)),new z(R(T.g),T.h);if(P.g.length>30){if(C(P)||C(T))throw Error("slowDivide_ only works with positive integers.");for(var N=E,V=T;V.l(P)<=0;)N=$(N),V=$(V);var F=K(N,1),B=K(V,1);for(V=K(V,2),N=K(N,2);!A(V);){var O=B.add(V);O.l(P)<=0&&(F=F.add(N),B=O),V=K(V,1),N=K(N,1)}return T=D(P,F.j(T)),new z(F,T)}for(F=m;P.l(T)>=0;){for(N=Math.max(1,Math.floor(P.m()/T.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=p(N),O=B.j(T);C(O)||O.l(P)>0;)N-=V,B=p(N),O=B.j(T);A(B)&&(B=E),F=F.add(B),P=D(P,O)}return new z(F,P)}n.B=function(P){return U(this,P).h},n.and=function(P){const T=Math.max(this.g.length,P.g.length),N=[];for(let V=0;V<T;V++)N[V]=this.i(V)&P.i(V);return new l(N,this.h&P.h)},n.or=function(P){const T=Math.max(this.g.length,P.g.length),N=[];for(let V=0;V<T;V++)N[V]=this.i(V)|P.i(V);return new l(N,this.h|P.h)},n.xor=function(P){const T=Math.max(this.g.length,P.g.length),N=[];for(let V=0;V<T;V++)N[V]=this.i(V)^P.i(V);return new l(N,this.h^P.h)};function $(P){const T=P.g.length+1,N=[];for(let V=0;V<T;V++)N[V]=P.i(V)<<1|P.i(V-1)>>>31;return new l(N,P.h)}function K(P,T){const N=T>>5;T%=32;const V=P.g.length-N,F=[];for(let B=0;B<V;B++)F[B]=T>0?P.i(B+N)>>>T|P.i(B+N+1)<<32-T:P.i(B+N);return new l(F,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,ui=l}).apply(typeof Wb<"u"?Wb:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rP,mu,sP,ef,Fy,oP,iP,aP;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var _=0;_<d.length;++_){var S=d[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function s(d,_){if(_)e:{var S=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var Y=d[k];if(!(Y in S))break e;S=S[Y]}d=d[d.length-1],k=S[d],_=_(k),_!=k&&_!=null&&e(S,d,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(_){var S=[],k;for(k in _)Object.prototype.hasOwnProperty.call(_,k)&&S.push([k,_[k]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,S){return d.call.apply(d.bind,arguments)}function p(d,_,S){return p=h,p.apply(null,arguments)}function y(d,_){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function m(d,_){function S(){}S.prototype=_.prototype,d.Z=_.prototype,d.prototype=new S,d.prototype.constructor=d,d.Ob=function(k,Y,te){for(var _e=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)_e[Ze-2]=arguments[Ze];return _.prototype[Y].apply(k,_e)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function x(d){const _=d.length;if(_>0){const S=Array(_);for(let k=0;k<_;k++)S[k]=d[k];return S}return[]}function A(d,_){for(let k=1;k<arguments.length;k++){const Y=arguments[k];var S=typeof Y;if(S=S!="object"?S:Y?Array.isArray(Y)?"array":S:"null",S=="array"||S=="object"&&typeof Y.length=="number"){S=d.length||0;const te=Y.length||0;d.length=S+te;for(let _e=0;_e<te;_e++)d[S+_e]=Y[_e]}else d.push(Y)}}class C{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(d){l.setTimeout(()=>{throw d},0)}function D(){var d=P;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class M{constructor(){this.h=this.g=null}add(_,S){const k=z.get();k.set(_,S),this.h?this.h.next=k:this.g=k,this.h=k}}var z=new C(()=>new U,d=>d.reset());class U{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let $,K=!1,P=new M,T=()=>{const d=Promise.resolve(void 0);$=()=>{d.then(N)}};function N(){for(var d;d=D();){try{d.h.call(d.g)}catch(S){R(S)}var _=z;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}K=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};l.addEventListener("test",S,_),l.removeEventListener("test",S,_)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Te(d,_){F.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}m(Te,F),Te.prototype.init=function(d,_){const S=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(S=="mouseover"?_=d.fromElement:S=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Te.Z.h.call(this)},Te.prototype.h=function(){Te.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),ve=0;function Ee(d,_,S,k,Y){this.listener=d,this.proxy=null,this.src=_,this.type=S,this.capture=!!k,this.ha=Y,this.key=++ve,this.da=this.fa=!1}function W(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ne(d,_,S){for(const k in d)_.call(S,d[k],k,d)}function X(d,_){for(const S in d)_.call(void 0,d[S],S,d)}function j(d){const _={};for(const S in d)_[S]=d[S];return _}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(d,_){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)d[S]=k[S];for(let te=0;te<G.length;te++)S=G[te],Object.prototype.hasOwnProperty.call(k,S)&&(d[S]=k[S])}}function ie(d){this.src=d,this.g={},this.h=0}ie.prototype.add=function(d,_,S,k,Y){const te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);const _e=xe(d,_,k,Y);return _e>-1?(_=d[_e],S||(_.fa=!1)):(_=new Ee(_,this.src,te,!!k,Y),_.fa=S,d.push(_)),_};function fe(d,_){const S=_.type;if(S in d.g){var k=d.g[S],Y=Array.prototype.indexOf.call(k,_,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(k,Y,1),te&&(W(_),d.g[S].length==0&&(delete d.g[S],d.h--))}}function xe(d,_,S,k){for(let Y=0;Y<d.length;++Y){const te=d[Y];if(!te.da&&te.listener==_&&te.capture==!!S&&te.ha==k)return Y}return-1}var we="closure_lm_"+(Math.random()*1e6|0),be={};function Ge(d,_,S,k,Y){if(Array.isArray(_)){for(let te=0;te<_.length;te++)Ge(d,_[te],S,k,Y);return null}return S=_o(S),d&&d[Be]?d.J(_,S,u(k)?!!k.capture:!1,Y):Ke(d,_,S,!1,k,Y)}function Ke(d,_,S,k,Y,te){if(!_)throw Error("Invalid event type");const _e=u(Y)?!!Y.capture:!!Y;let Ze=Us(d);if(Ze||(d[we]=Ze=new ie(d)),S=Ze.add(_,S,k,_e,te),S.proxy)return S;if(k=ye(),S.proxy=k,k.src=d,k.listener=S,d.addEventListener)B||(Y=_e),Y===void 0&&(Y=!1),d.addEventListener(_.toString(),k,Y);else if(d.attachEvent)d.attachEvent(rs(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function ye(){function d(S){return _.call(d.src,d.listener,S)}const _=Da;return d}function St(d,_,S,k,Y){if(Array.isArray(_))for(var te=0;te<_.length;te++)St(d,_[te],S,k,Y);else k=u(k)?!!k.capture:!!k,S=_o(S),d&&d[Be]?(d=d.i,te=String(_).toString(),te in d.g&&(_=d.g[te],S=xe(_,S,k,Y),S>-1&&(W(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete d.g[te],d.h--)))):d&&(d=Us(d))&&(_=d.g[_.toString()],d=-1,_&&(d=xe(_,S,k,Y)),(S=d>-1?_[d]:null)&&hn(S))}function hn(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Be])fe(_.i,d);else{var S=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(S,k,d.capture):_.detachEvent?_.detachEvent(rs(S),k):_.addListener&&_.removeListener&&_.removeListener(k),(S=Us(_))?(fe(S,d),S.h==0&&(S.src=null,_[we]=null)):W(d)}}}function rs(d){return d in be?be[d]:be[d]="on"+d}function Da(d,_){if(d.da)d=!0;else{_=new Te(_,this);const S=d.listener,k=d.ha||d.src;d.fa&&hn(d),d=S.call(k,_)}return d}function Us(d){return d=d[we],d instanceof ie?d:null}var er="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(d){return typeof d=="function"?d:(d[er]||(d[er]=function(_){return d.handleEvent(_)}),d[er])}function yt(){V.call(this),this.i=new ie(this),this.M=this,this.G=null}m(yt,V),yt.prototype[Be]=!0,yt.prototype.removeEventListener=function(d,_,S,k){St(this,d,_,S,k)};function Vt(d,_){var S,k=d.G;if(k)for(S=[];k;k=k.G)S.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new F(_,d);else if(_ instanceof F)_.target=_.target||d;else{var Y=_;_=new F(k,d),se(_,Y)}Y=!0;let te,_e;if(S)for(_e=S.length-1;_e>=0;_e--)te=_.g=S[_e],Y=tr(te,k,!0,_)&&Y;if(te=_.g=d,Y=tr(te,k,!0,_)&&Y,Y=tr(te,k,!1,_)&&Y,S)for(_e=0;_e<S.length;_e++)te=_.g=S[_e],Y=tr(te,k,!1,_)&&Y}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const S=d.g[_];for(let k=0;k<S.length;k++)W(S[k]);delete d.g[_],d.h--}}this.G=null},yt.prototype.J=function(d,_,S,k){return this.i.add(String(d),_,!1,S,k)},yt.prototype.K=function(d,_,S,k){return this.i.add(String(d),_,!0,S,k)};function tr(d,_,S,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let te=0;te<_.length;++te){const _e=_[te];if(_e&&!_e.da&&_e.capture==S){const Ze=_e.listener,Wt=_e.ha||_e.src;_e.fa&&fe(d.i,_e),Y=Ze.call(Wt,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function on(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(d,_||0)}function yr(d){d.g=on(()=>{d.g=null,d.i&&(d.i=!1,yr(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Oa extends V{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(d){V.call(this),this.h=d,this.g={}}m(ss,V);var os=[];function wo(d){ne(d.g,function(_,S){this.g.hasOwnProperty(S)&&hn(_)},d),d.g={}}ss.prototype.N=function(){ss.Z.N.call(this),wo(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lr=l.JSON.stringify,Eo=l.JSON.parse,Bn=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Fr(){}function jr(){}var is={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bo(){F.call(this,"d")}m(bo,F);function So(){F.call(this,"c")}m(So,F);var qn={},xo=null;function vr(){return xo=xo||new yt}qn.Ia="serverreachability";function Mn(d){F.call(this,qn.Ia,d)}m(Mn,F);function zr(d){const _=vr();Vt(_,new Mn(_))}qn.STAT_EVENT="statevent";function Ur(d,_){F.call(this,qn.STAT_EVENT,d),this.stat=_}m(Ur,F);function Pt(d){const _=vr();Vt(_,new Ur(_,d))}qn.Ja="timingevent";function Io(d,_){F.call(this,qn.Ja,d),this.size=_}m(Io,F);function qe(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},_)}function xt(){this.g=!0}xt.prototype.ua=function(){this.g=!1};function Ht(d,_,S,k,Y,te){d.info(function(){if(d.g)if(te){var _e="",Ze=te.split("&");for(let vt=0;vt<Ze.length;vt++){var Wt=Ze[vt].split("=");if(Wt.length>1){const Jt=Wt[0];Wt=Wt[1];const lr=Jt.split("_");_e=lr.length>=2&&lr[1]=="type"?_e+(Jt+"="+Wt+"&"):_e+(Jt+"=redacted&")}}}else _e=null;else _e=te;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+_+`
`+S+`
`+_e})}function fn(d,_,S,k,Y,te,_e){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+_+`
`+S+`
`+te+" "+_e})}function Vn(d,_,S,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Yt(d,S)+(k?" "+k:"")})}function Ut(d,_){d.info(function(){return"TIMEOUT: "+_})}xt.prototype.info=function(){};function Yt(d,_){if(!d.g)return _;if(!_)return null;try{const te=JSON.parse(_);if(te){for(d=0;d<te.length;d++)if(Array.isArray(te[d])){var S=te[d];if(!(S.length<2)){var k=S[1];if(Array.isArray(k)&&!(k.length<1)){var Y=k[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let _e=1;_e<k.length;_e++)k[_e]=""}}}}return Lr(te)}catch{return _}}var nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},In;function _r(){}m(_r,Fr),_r.prototype.g=function(){return new XMLHttpRequest},In=new _r;function pn(d){return encodeURIComponent(String(d))}function xi(d){var _=1;d=d.split(":");const S=[];for(;_>0&&d.length;)S.push(d.shift()),_--;return d.length&&S.push(d.join(":")),S}function wr(d,_,S,k){this.j=d,this.i=_,this.l=S,this.S=k||1,this.V=new ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wd}function wd(){this.i=null,this.g="",this.h=!1}var Ed={},mc={};function $r(d,_,S){d.M=1,d.A=Bs(Er(_)),d.u=S,d.R=!0,gc(d,null)}function gc(d,_){d.F=Date.now(),Ii(d),d.B=Er(d.A);var S=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),Tc(S.i,"t",k),d.C=0,S=d.j.L,d.h=new wd,d.g=kd(d.j,S?_:null,!d.u),d.P>0&&(d.O=new Oa(p(d.Y,d,d.g),d.P)),_=d.V,S=d.g,k=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(os[0]=Y.toString()),Y=os);for(let te=0;te<Y.length;te++){const _e=Ge(S,Y[te],k||_.handleEvent,!1,_.h||_);if(!_e)break;_.g[_e.key]=_e}_=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),zr(),Ht(d.i,d.v,d.B,d.l,d.S,d.u)}wr.prototype.ba=function(d){d=d.target;const _=this.O;_&&fs(d)==3?_.j():this.Y(d)},wr.prototype.Y=function(d){try{if(d==this.g)e:{const Ze=fs(this.g),Wt=this.g.ya(),vt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||Ad(this.g)))){this.K||Ze!=4||Wt==7||(Wt==8||vt<=0?zr(3):zr(2)),Ma(this);var _=this.g.ca();this.X=_;var S=bd(this);if(this.o=_==200,fn(this.i,this.v,this.B,this.l,this.S,Ze,_),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Y=this.g;if((k=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(k)){var te=k;break t}}te=null}if(d=te)Vn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,At(this,d);else{this.o=!1,this.m=3,Pt(12),$s(this),Ti(this);break e}}if(this.R){d=!0;let Jt;for(;!this.K&&this.C<S.length;)if(Jt=xd(this,S),Jt==mc){Ze==4&&(this.m=4,Pt(14),d=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Ed){this.m=4,Pt(15),Vn(this.i,this.l,S,"[Invalid Chunk]"),d=!1;break}else Vn(this.i,this.l,Jt,null),At(this,Jt);if(Sd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||S.length!=0||this.h.h||(this.m=1,Pt(16),d=!1),this.o=this.o&&d,!d)Vn(this.i,this.l,S,"[Invalid Chunked Response]"),$s(this),Ti(this);else if(S.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Mi(_e),_e.P=!0,Pt(11))}}else Vn(this.i,this.l,S,null),At(this,S);Ze==4&&$s(this),this.o&&!this.K&&(Ze==4?Ha(this.j,this):(this.o=!1,Ii(this)))}else Pc(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),$s(this),Ti(this)}}}catch{}finally{}};function bd(d){if(!Sd(d))return d.g.la();const _=Ad(d.g);if(_==="")return"";let S="";const k=_.length,Y=fs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return $s(d),Ti(d),"";d.h.i=new l.TextDecoder}for(let te=0;te<k;te++)d.h.h=!0,S+=d.h.i.decode(_[te],{stream:!(Y&&te==k-1)});return _.length=0,d.h.g+=S,d.C=0,d.h.g}function Sd(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function xd(d,_){var S=d.C,k=_.indexOf(`
`,S);return k==-1?mc:(S=Number(_.substring(S,k)),isNaN(S)?Ed:(k+=1,k+S>_.length?mc:(_=_.slice(k,k+S),d.C=k+S,_)))}wr.prototype.cancel=function(){this.K=!0,$s(this)};function Ii(d){d.T=Date.now()+d.H,yc(d,d.H)}function yc(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qe(p(d.aa,d),_)}function Ma(d){d.D&&(l.clearTimeout(d.D),d.D=null)}wr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ut(this.i,this.B),this.M!=2&&(zr(),Pt(17)),$s(this),this.m=2,Ti(this)):yc(this,this.T-d)};function Ti(d){d.j.I==0||d.K||Ha(d.j,d)}function $s(d){Ma(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,wo(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function At(d,_){try{var S=d.j;if(S.I!=0&&(S.g==d||_c(S.h,d))){if(!d.L&&_c(S.h,d)&&S.I==3){try{var k=S.Ba.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<d.F)qa(S),ir(S);else break e;gs(S),Pt(18)}}else S.xa=Y[1],0<S.xa-S.K&&Y[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=qe(p(S.Va,S),6e3));Ci(S.h)<=1&&S.ta&&(S.ta=void 0)}else ar(S,11)}else if((d.L||S.g==d)&&qa(S),!O(_))for(Y=S.Ba.g.parse(_),_=0;_<Y.length;_++){let vt=Y[_];const Jt=vt[0];if(!(Jt<=S.K))if(S.K=Jt,vt=vt[1],S.I==2)if(vt[0]=="c"){S.M=vt[1],S.ba=vt[2];const lr=vt[3];lr!=null&&(S.ka=lr,S.j.info("VER="+S.ka));const Ks=vt[4];Ks!=null&&(S.za=Ks,S.j.info("SVER="+S.za));const ys=vt[5];ys!=null&&typeof ys=="number"&&ys>0&&(k=1.5*ys,S.O=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const vs=d.g;if(vs){const Ka=vs.g?vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var te=k.h;te.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(La(te,te.h),te.h=null))}if(k.G){const kc=vs.g?vs.g.getResponseHeader("X-HTTP-Session-Id"):null;kc&&(k.wa=kc,gt(k.J,k.G,kc))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-d.F,S.j.info("Handshake RTT: "+S.T+"ms")),k=S;var _e=d;if(k.na=Rc(k,k.L?k.ba:null,k.W),_e.L){Pi(k.h,_e);var Ze=_e,Wt=k.O;Wt&&(Ze.H=Wt),Ze.D&&(Ma(Ze),Ii(Ze)),k.g=_e}else Tn(k);S.i.length>0&&Gs(S)}else vt[0]!="stop"&&vt[0]!="close"||ar(S,7);else S.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?ar(S,7):$a(S):vt[0]!="noop"&&S.l&&S.l.qa(vt),S.A=0)}}zr(4)}catch{}}var tm=class{constructor(d,_){this.g=d,this.map=_}};function Va(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ci(d){return d.h?1:d.g?d.g.size:0}function _c(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function La(d,_){d.g?d.g.add(_):d.h=_}function Pi(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Va.prototype.cancel=function(){if(this.i=rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function rr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const S of d.g.values())_=_.concat(S.G);return _}return x(d.i)}var Id=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sr(d,_){if(d){d=d.split("&");for(let S=0;S<d.length;S++){const k=d[S].indexOf("=");let Y,te=null;k>=0?(Y=d[S].substring(0,k),te=d[S].substring(k+1)):Y=d[S],_(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function as(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof as?(this.l=d.l,Ai(this,d.j),this.o=d.o,this.g=d.g,ls(this,d.u),this.h=d.h,To(this,Cc(d.i)),this.m=d.m):d&&(_=String(d).match(Id))?(this.l=!1,Ai(this,_[1]||"",!0),this.o=Ri(_[2]||""),this.g=Ri(_[3]||"",!0),ls(this,_[4]),this.h=Ri(_[5]||"",!0),To(this,_[6]||"",!0),this.m=Ri(_[7]||"")):(this.l=!1,this.i=new ct(null,this.l))}as.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(ki(_,Ec,!0),":");var S=this.g;return(S||_=="file")&&(d.push("//"),(_=this.o)&&d.push(ki(_,Ec,!0),"@"),d.push(pn(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&d.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(ki(S,S.charAt(0)=="/"?Ni:bc,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",ki(S,Sc)),d.join("")},as.prototype.resolve=function(d){const _=Er(this);let S=!!d.j;S?Ai(_,d.j):S=!!d.o,S?_.o=d.o:S=!!d.g,S?_.g=d.g:S=d.u!=null;var k=d.h;if(S)ls(_,d.u);else if(S=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(k=_.h.slice(0,Y+1)+k)}if(Y=k,Y==".."||Y==".")k="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){k=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let _e=0;_e<Y.length;){const Ze=Y[_e++];Ze=="."?k&&_e==Y.length&&te.push(""):Ze==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),k&&_e==Y.length&&te.push("")):(te.push(Ze),k=!0)}k=te.join("/")}else k=Y}return S?_.h=k:S=d.i.toString()!=="",S?To(_,Cc(d.i)):S=!!d.m,S&&(_.m=d.m),_};function Er(d){return new as(d)}function Ai(d,_,S){d.j=S?Ri(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ls(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function To(d,_,S){_ instanceof ct?(d.i=_,ja(d.i,d.l)):(S||(_=ki(_,nm)),d.i=new ct(_,d.l))}function gt(d,_,S){d.i.set(_,S)}function Bs(d){return gt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ri(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ki(d,_,S){return typeof d=="string"?(d=encodeURI(d).replace(_,wc),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function wc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ec=/[#\/\?@]/g,bc=/[#\?:]/g,Ni=/[#\?]/g,nm=/[#\?@]/g,Sc=/#/g;function ct(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function cs(d){d.g||(d.g=new Map,d.h=0,d.i&&sr(d.i,function(_,S){d.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=ct.prototype,n.add=function(d,_){cs(this),this.i=null,d=us(this,d);let S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(_),this.h+=1,this};function xc(d,_){cs(d),_=us(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Fa(d,_){return cs(d),_=us(d,_),d.g.has(_)}n.forEach=function(d,_){cs(this),this.g.forEach(function(S,k){S.forEach(function(Y){d.call(_,Y,k,this)},this)},this)};function Ic(d,_){cs(d);let S=[];if(typeof _=="string")Fa(d,_)&&(S=S.concat(d.g.get(us(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)S=S.concat(d[_]);return S}n.set=function(d,_){return cs(this),this.i=null,d=us(this,d),Fa(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=Ic(this,d),d.length>0?String(d[0]):_):_};function Tc(d,_,S){xc(d,_),S.length>0&&(d.i=null,d.g.set(us(d,_),x(S)),d.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let k=0;k<_.length;k++){var S=_[k];const Y=pn(S);S=Ic(this,S);for(let te=0;te<S.length;te++){let _e=Y;S[te]!==""&&(_e+="="+pn(S[te])),d.push(_e)}}return this.i=d.join("&")};function Cc(d){const _=new ct;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function us(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function ja(d,_){_&&!d.j&&(cs(d),d.i=null,d.g.forEach(function(S,k){const Y=k.toLowerCase();k!=Y&&(xc(this,k),Tc(this,Y,S))},d)),d.j=_}function ds(d,_){const S=new xt;if(l.Image){const k=new Image;k.onload=y(_n,S,"TestLoadImage: loaded",!0,_,k),k.onerror=y(_n,S,"TestLoadImage: error",!1,_,k),k.onabort=y(_n,S,"TestLoadImage: abort",!1,_,k),k.ontimeout=y(_n,S,"TestLoadImage: timeout",!1,_,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function hs(d,_){const S=new xt,k=new AbortController,Y=setTimeout(()=>{k.abort(),_n(S,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then(te=>{clearTimeout(Y),te.ok?_n(S,"TestPingServer: ok",!0,_):_n(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),_n(S,"TestPingServer: error",!1,_)})}function _n(d,_,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function Di(){this.g=new Bn}function qs(d){this.i=d.Sb||null,this.h=d.ab||!1}m(qs,Fr),qs.prototype.g=function(){return new or(this.i,this.h)};function or(d,_){yt.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(or,yt),n=or.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,Br(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Td(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Td(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Co(this):Br(this),this.readyState==3&&Td(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Co(this))},n.Na=function(d){this.g&&(this.response=d,Co(this))},n.ga=function(){this.g&&Co(this)};function Co(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Br(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=_.next();return d.join(`\r
`)};function Br(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Cd(d){let _="";return ne(d,function(S,k){_+=k,_+=":",_+=S,_+=`\r
`}),_}function za(d,_,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=Cd(S),typeof d=="string"?S!=null&&pn(S):gt(d,_,S))}function It(d){yt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(It,yt);var Pd=/^https?$/i,rm=["POST","PUT"];n=It.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():In.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(te){Po(this,te);return}if(d=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const te of k.keys())S.set(te,k.get(te));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(te=>te.toLowerCase()=="content-type"),Y=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(rm,_,void 0)>=0)||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,_e]of S)this.g.setRequestHeader(te,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(te){Po(this,te)}};function Po(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Ao(d),Ws(d)}function Ao(d){d.A||(d.A=!0,Vt(d,"complete"),Vt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Vt(this,"complete"),Vt(this,"abort"),Ws(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ws(this,!0)),It.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Hs(this):this.Xa())},n.Xa=function(){Hs(this)};function Hs(d){if(d.h&&typeof i<"u"){if(d.v&&fs(d)==4)setTimeout(d.Ca.bind(d),0);else if(Vt(d,"readystatechange"),fs(d)==4){d.h=!1;try{const te=d.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var k;if(k=te===0){let _e=String(d.D).match(Id)[1]||null;!_e&&l.self&&l.self.location&&(_e=l.self.location.protocol.slice(0,-1)),k=!Pd.test(_e?_e.toLowerCase():"")}S=k}if(S)Vt(d,"complete"),Vt(d,"success");else{d.o=6;try{var Y=fs(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Ao(d)}}finally{Ws(d)}}}}function Ws(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const S=d.g;d.g=null,_||Vt(d,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function fs(d){return d.g?d.g.readyState:0}n.ca=function(){try{return fs(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Eo(_)}};function Ad(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Pc(d){const _={};d=(d.g&&fs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(O(d[k]))continue;var S=xi(d[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const te=_[Y]||[];_[Y]=te,te.push(S)}X(_,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(d,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||_}function Ua(d){this.za=0,this.i=[],this.j=new xt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ps("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ps("baseRetryDelayMs",5e3,d),this.Za=ps("retryDelaySeedMs",1e4,d),this.Ta=ps("forwardChannelMaxRetries",2,d),this.va=ps("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Va(d&&d.concurrentRequestLimit),this.Ba=new Di,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ua.prototype,n.ka=8,n.I=1,n.connect=function(d,_,S,k){Pt(0),this.W=d,this.H=_||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.J=Rc(this,null,this.W),Gs(this)};function $a(d){if(Ba(d),d.I==3){var _=d.V++,S=Er(d.J);if(gt(S,"SID",d.M),gt(S,"RID",_),gt(S,"TYPE","terminate"),ms(d,S),_=new wr(d,d.j,_),_.M=2,_.A=Bs(Er(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=_.A,S=!0),S||(_.g=kd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ii(_)}Vi(d)}function ir(d){d.g&&(Mi(d),d.g.cancel(),d.g=null)}function Ba(d){ir(d),d.v&&(l.clearTimeout(d.v),d.v=null),qa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function Gs(d){if(!vc(d.h)&&!d.m){d.m=!0;var _=d.Ea;$||T(),K||($(),K=!0),P.add(_,d),d.D=0}}function Rd(d,_){return Ci(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qe(p(d.Ea,d,_),Wa(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new wr(this,this.j,d);let te=this.o;if(this.U&&(te?(te=j(te),se(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=Ac(this,Y,_),S=Er(this.J),gt(S,"RID",d),gt(S,"CVER",22),this.G&&gt(S,"X-HTTP-Session-Id",this.G),ms(this,S),te&&(this.R?_="headers="+pn(Cd(te))+"&"+_:this.u&&za(S,this.u,te)),La(this.h,Y),this.Ra&&gt(S,"TYPE","init"),this.S?(gt(S,"$req",_),gt(S,"SID","null"),Y.U=!0,$r(Y,S,null)):$r(Y,S,_),this.I=2}}else this.I==3&&(d?Oi(this,d):this.i.length==0||vc(this.h)||Oi(this))};function Oi(d,_){var S;_?S=_.l:S=d.V++;const k=Er(d.J);gt(k,"SID",d.M),gt(k,"RID",S),gt(k,"AID",d.K),ms(d,k),d.u&&d.o&&za(k,d.u,d.o),S=new wr(d,d.j,S,d.D+1),d.u===null&&(S.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Ac(d,S,1e3),S.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),La(d.h,S),$r(S,k,_)}function ms(d,_){d.H&&ne(d.H,function(S,k){gt(_,k,S)}),d.l&&ne({},function(S,k){gt(_,k,S)})}function Ac(d,_,S){S=Math.min(d.i.length,S);const k=d.l?p(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Ze=-1;for(;;){const Wt=["count="+S];Ze==-1?S>0?(Ze=Y[0].g,Wt.push("ofs="+Ze)):Ze=0:Wt.push("ofs="+Ze);let vt=!0;for(let Jt=0;Jt<S;Jt++){var te=Y[Jt].g;const lr=Y[Jt].map;if(te-=Ze,te<0)Ze=Math.max(0,Y[Jt].g-100),vt=!1;else try{te="req"+te+"_"||"";try{var _e=lr instanceof Map?lr:Object.entries(lr);for(const[Ks,ys]of _e){let vs=ys;u(ys)&&(vs=Lr(ys)),Wt.push(te+Ks+"="+encodeURIComponent(vs))}}catch(Ks){throw Wt.push(te+"type="+encodeURIComponent("_badmap")),Ks}}catch{k&&k(lr)}}if(vt){_e=Wt.join("&");break e}}_e=void 0}return d=d.i.splice(0,S),_.G=d,_e}function Tn(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;$||T(),K||($(),K=!0),P.add(_,d),d.A=0}}function gs(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qe(p(d.Da,d),Wa(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Ro(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qe(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),ir(this),Ro(this))};function Mi(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function Ro(d){d.g=new wr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Er(d.na);gt(_,"RID","rpc"),gt(_,"SID",d.M),gt(_,"AID",d.K),gt(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&gt(_,"TO",d.ia),gt(_,"TYPE","xmlhttp"),ms(d,_),d.u&&d.o&&za(_,d.u,d.o),d.O&&(d.g.H=d.O);var S=d.g;d=d.ba,S.M=1,S.A=Bs(Er(_)),S.u=null,S.R=!0,gc(S,d)}n.Va=function(){this.C!=null&&(this.C=null,ir(this),gs(this),Pt(19))};function qa(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function Ha(d,_){var S=null;if(d.g==_){qa(d),Mi(d),d.g=null;var k=2}else if(_c(d.h,_))S=_.G,Pi(d.h,_),k=1;else return;if(d.I!=0){if(_.o)if(k==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var Y=d.D;k=vr(),Vt(k,new Io(k,S)),Gs(d)}else Tn(d);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(k==1&&Rd(d,_)||k==2&&gs(d)))switch(S&&S.length>0&&(_=d.h,_.i=_.i.concat(S)),Y){case 1:ar(d,5);break;case 4:ar(d,10);break;case 3:ar(d,6);break;default:ar(d,2)}}}function Wa(d,_){let S=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(S*=2),S*_}function ar(d,_){if(d.j.info("Error code "+_),_==2){var S=p(d.bb,d),k=d.Ua;const Y=!k;k=new as(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ai(k,"https"),Bs(k),Y?ds(k.toString(),S):hs(k.toString(),S)}else Pt(2);d.I=0,d.l&&d.l.pa(_),Vi(d),Ba(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Vi(d){if(d.I=0,d.ja=[],d.l){const _=rr(d.h);(_.length!=0||d.i.length!=0)&&(A(d.ja,_),A(d.ja,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.oa()}}function Rc(d,_,S){var k=S instanceof as?Er(S):new as(S);if(k.g!="")_&&(k.g=_+"."+k.g),ls(k,k.u);else{var Y=l.location;k=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new as(null);k&&Ai(te,k),_&&(te.g=_),Y&&ls(te,Y),S&&(te.h=S),k=te}return S=d.G,_=d.wa,S&&_&&gt(k,S,_),gt(k,"VER",d.ka),ms(d,k),k}function kd(d,_,S){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new It(new qs({ab:S})):new It(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nd(){}n=Nd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ga(){}Ga.prototype.g=function(d,_){return new wn(d,_)};function wn(d,_){yt.call(this),this.g=new Ua(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!O(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new ko(this)}m(wn,yt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){$a(this.g)},wn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.v&&(S={},S.__data__=Lr(d),d=S);_.i.push(new tm(_.Ya++,d)),_.I==3&&Gs(_)},wn.prototype.N=function(){this.g.l=null,delete this.j,$a(this.g),delete this.g,wn.Z.N.call(this)};function Dd(d){bo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const S in _){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}m(Dd,bo);function Od(){So.call(this),this.status=1}m(Od,So);function ko(d){this.g=d}m(ko,Nd),ko.prototype.ra=function(){Vt(this.g,"a")},ko.prototype.qa=function(d){Vt(this.g,new Dd(d))},ko.prototype.pa=function(d){Vt(this.g,new Od)},ko.prototype.oa=function(){Vt(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,aP=function(){return new Ga},iP=function(){return vr()},oP=qn,Fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,ef=nr,Xt.COMPLETE="complete",sP=Xt,jr.EventType=is,is.OPEN="a",is.CLOSE="b",is.ERROR="c",is.MESSAGE="d",yt.prototype.listen=yt.prototype.J,mu=jr,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,rP=It}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});const Gb="@firebase/firestore",Kb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new d_("@firebase/firestore");function Il(){return va.logLevel}function he(n,...e){if(va.logLevel<=at.DEBUG){const t=e.map(p_);va.debug(`Firestore (${dc}): ${n}`,...t)}}function jn(n,...e){if(va.logLevel<=at.ERROR){const t=e.map(p_);va.error(`Firestore (${dc}): ${n}`,...t)}}function _a(n,...e){if(va.logLevel<=at.WARN){const t=e.map(p_);va.warn(`Firestore (${dc}): ${n}`,...t)}}function p_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,lP(n,r,t)}function lP(n,e,t){let r=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw jn(r),new Error(r)}function Ve(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||lP(e,s,r)}function Ye(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends yo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sn.UNAUTHENTICATED)))}shutdown(){}}class qz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Hz{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ve(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let i=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ia,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=i;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ia)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new cP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class Wz{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gz{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Wz(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kz{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Zb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Zz(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function Qe(n,e){return n<e?-1:n>e?1:0}function jy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return Jg(s)===Jg(i)?Qe(s,i):Jg(s)?1:-1}return Qe(n.length,e.length)}const Qz=55296,Yz=57343;function Jg(n){const e=n.charCodeAt(0);return e>=Qz&&e<=Yz}function Wl(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function dP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="__name__";class Is{constructor(e,t,r){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&De(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Is.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Is?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=Is.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return Qe(e.length,t.length)}static compareSegments(e,t){const r=Is.isNumericId(e),s=Is.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Is.extractNumericId(e).compare(Is.extractNumericId(t)):jy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ui.fromString(e.substring(4,e.length-2))}}class Et extends Is{construct(e,t,r){return new Et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Et(t)}static emptyPath(){return new Et([])}}const Xz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Is{construct(e,t,r){return new Zt(e,t,r)}static isValidIdentifier(e){return Xz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qb}static keyField(){return new Zt([Qb])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Pe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new Pe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Pe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(i(),s++)}if(i(),l)throw new Pe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(Et.fromString(e))}static fromName(e){return new Se(Et.fromString(e).popFirst(5))}static empty(){return new Se(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new Et(e.slice()))}}function Jz(n,e,t,r){if(e===!0&&r===!0)throw new Pe(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Yb(n){if(Se.isDocumentKey(n))throw new Pe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eU(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function tU(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function Eu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tU(n);throw new Pe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(n,e){const t={typeString:n};return e&&(t.value=e),t}function cd(n,e){if(!eU(n))throw new Pe(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&l!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new Pe(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=-62135596800,Jb=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Jb);return new Ot(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xb)throw new Pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jb}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cd(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:nn("string",Ot._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Ot(0,0))}static max(){return new je(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;class Df{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function zy(n){return n.fields.find((e=>e.kind===2))}function Xi(n){return n.fields.filter((e=>e.kind!==2))}Df.UNKNOWN_ID=-1;class tf{constructor(e,t){this.fieldPath=e,this.kind=t}}class $u{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $u(0,gr.min())}}function nU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new Ot(t+1,0):new Ot(t,r));return new gr(s,Se.empty(),e)}function hP(n){return new gr(n.readTime,n.key,Uu)}class gr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new gr(je.min(),Se.empty(),Uu)}static max(){return new gr(je.max(),Se.empty(),Uu)}}function m_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==fP)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,r)=>{t(e)}))}static reject(e){return new Z(((t,r)=>{r(e)}))}static waitFor(e){return new Z(((t,r)=>{let s=0,i=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++i,l&&i===s&&t()}),(h=>r(h)))})),l=!0,i===s&&t()}))}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next((s=>s?Z.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new Z(((r,s)=>{const i=e.length,l=new Array(i);let u=0;for(let h=0;h<i;h++){const p=h;t(e[p]).next((y=>{l[p]=y,++u,u===i&&r(l)}),(y=>s(y)))}}))}static doWhile(e,t){return new Z(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="SimpleDb";class Dp{static open(e,t,r,s){try{return new Dp(t,e.transaction(s,r))}catch(i){throw new bu(t,i)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new ia,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new bu(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=g_(r.target.error);this.S.reject(new bu(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(hr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new sU(t)}}class di{static delete(e){return he(hr,"Removing database:",e),ea(zC().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ZC())return!1;if(di.F())return!0;const e=un(),t=di.M(e),r=0<t&&t<10,s=mP(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,di.M(un())===12.2&&jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(hr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const l=i.target.result;t(l)},s.onblocked=()=>{r(new bu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const l=i.target.error;l.name==="VersionError"?r(new Pe(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new Pe(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new bu(e,l))},s.onupgradeneeded=i=>{he(hr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const l=i.target.result;this.N.k(l,s.transaction,i.oldVersion,this.version).next((()=>{he(hr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const i=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=Dp.open(this.db,e,i?"readonly":"readwrite",r),h=s(u).next((p=>(u.C(),p))).catch((p=>(u.abort(p),Z.reject(p)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,p=h.name!=="FirebaseError"&&l<3;if(he(hr,"Transaction failed with error:",h.message,"Retrying:",p),this.close(),!p)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function mP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class rU{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ea(this.U.delete())}}class bu extends Pe{constructor(e,t){super(oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Si(n){return n.name==="IndexedDbTransactionError"}class sU{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(he(hr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(he(hr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ea(r)}add(e){return he(hr,"ADD",this.store.name,e,e),ea(this.store.add(e))}get(e){return ea(this.store.get(e)).next((t=>(t===void 0&&(t=null),he(hr,"GET",this.store.name,e,t),t)))}delete(e){return he(hr,"DELETE",this.store.name,e),ea(this.store.delete(e))}count(){return he(hr,"COUNT",this.store.name),ea(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Z(((l,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{l(h.target.result)}}))}{const i=this.cursor(r),l=[];return this.H(i,((u,h)=>{l.push(h)})).next((()=>l))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Z(((s,i)=>{r.onerror=l=>{i(l.target.error)},r.onsuccess=l=>{s(l.target.result)}}))}Z(e,t){he(hr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,((i,l,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}te(e){const t=this.cursor({});return new Z(((r,s)=>{t.onerror=i=>{const l=g_(i.target.error);s(l)},t.onsuccess=i=>{const l=i.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,t){const r=[];return new Z(((s,i)=>{e.onerror=l=>{i(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void s();const h=new rU(u),p=t(u.primaryKey,u.value,h);if(p instanceof Z){const y=p.catch((m=>(h.done(),Z.reject(m))));r.push(y)}h.isDone?s():h.G===null?u.continue():u.continue(h.G)}})).next((()=>Z.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ea(n){return new Z(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=g_(r.target.error);t(s)}}))}let eS=!1;function g_(n){const e=di.M(un());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eS||(eS=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Su="IndexBackfiller";class oU{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(Su,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();he(Su,`Documents written: ${t}`)}catch(t){Si(t)?he(Su,"Ignoring IndexedDB error during index backfill: ",t):await ka(t)}await this.re(6e4)}))}}class iU{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,i=!0;return Z.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return he(Su,`Processing collection: ${l}`),this.oe(e,l,s).next((u=>{s-=u,r.add(l)}));i=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((i=>{const l=i.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(s,i))).next((u=>(he(Su,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,i)=>{const l=hP(i);m_(l,r)>0&&(r=l)})),new gr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=-1;function Op(n){return n==null}function Of(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="";function On(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tS(e)),e=aU(n.get(t),e);return tS(e)}function aU(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case Mf:t+="";break;default:t+=i}}return t}function tS(n){return n+Mf+""}function Rs(n){const e=n.length;if(Ve(e>=2,64408,{path:n}),e===2)return Ve(n.charAt(0)===Mf&&n.charAt(1)==="",56145,{path:n}),Et.emptyPath();const t=e-2,r=[];let s="";for(let i=0;i<e;){const l=n.indexOf(Mf,i);switch((l<0||l>t)&&De(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(i,l);let h;s.length===0?h=u:(s+=u,h=s,s=""),r.push(h);break;case"":s+=n.substring(i,l),s+="\0";break;case"":s+=n.substring(i,l+1);break;default:De(61167,{path:n})}i=l+2}return new Et(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="remoteDocuments",ud="owner",_l="owner",Bu="mutationQueues",lU="userId",Yr="mutations",nS="batchId",sa="userMutationsIndex",rS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(n,e){return[n,On(e)]}function gP(n,e,t){return[n,On(e),t]}const cU={},Gl="documentMutations",Vf="remoteDocumentsV14",uU=["prefixPath","collectionGroup","readTime","documentId"],rf="documentKeyIndex",dU=["prefixPath","collectionGroup","documentId"],yP="collectionGroupIndex",hU=["collectionGroup","readTime","prefixPath","documentId"],qu="remoteDocumentGlobal",Uy="remoteDocumentGlobalKey",Kl="targets",vP="queryTargetsIndex",fU=["canonicalId","targetId"],Zl="targetDocuments",pU=["targetId","path"],y_="documentTargetsIndex",mU=["path","targetId"],Lf="targetGlobalKey",la="targetGlobal",Hu="collectionParents",gU=["collectionId","parent"],Ql="clientMetadata",yU="clientId",Mp="bundles",vU="bundleId",Vp="namedQueries",_U="name",v_="indexConfiguration",wU="indexId",$y="collectionGroupIndex",EU="collectionGroup",xu="indexState",bU=["indexId","uid"],_P="sequenceNumberIndex",SU=["uid","sequenceNumber"],Iu="indexEntries",xU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wP="documentKeyIndex",IU=["indexId","uid","orderedDocumentKey"],Lp="documentOverlays",TU=["userId","collectionPath","documentId"],By="collectionPathOverlayIndex",CU=["userId","collectionPath","largestBatchId"],EP="collectionGroupOverlayIndex",PU=["userId","collectionGroup","largestBatchId"],__="globals",AU="name",bP=[Bu,Yr,Gl,Ji,Kl,ud,la,Zl,Ql,qu,Hu,Mp,Vp],RU=[...bP,Lp],SP=[Bu,Yr,Gl,Vf,Kl,ud,la,Zl,Ql,qu,Hu,Mp,Vp,Lp],xP=SP,w_=[...xP,v_,xu,Iu],kU=w_,IP=[...w_,__],NU=IP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends pP{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function dn(n,e){const t=Ye(n);return di.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function dd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new jt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bh(this.root,e,this.comparator,!0)}}class Bh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??xn.RED,this.left=s??xn.EMPTY,this.right=i??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new xn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return xn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oS(this.data.getIterator())}getIteratorFrom(e){return new oS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class oS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new so([])}unionWith(e){let t=new _t(Zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new so(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new TP("Invalid base64 string: "+i):i}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const OU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fo(n){if(Ve(!!n,39018),typeof n=="string"){let e=0;const t=OU.exec(n);if(Ve(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function po(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="server_timestamp",PP="__type__",AP="__previous_value__",RP="__local_write_time__";function E_(n){return(n?.mapValue?.fields||{})[PP]?.stringValue===CP}function Fp(n){const e=n.mapValue.fields[AP];return E_(e)?Fp(e):e}function Wu(n){const e=fo(n.mapValue.fields[RP].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,t,r,s,i,l,u,h,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=y}}const Ff="(default)";class wa{constructor(e,t){this.projectId=e,this.database=t||Ff}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="__type__",NP="__max__",oi={mapValue:{fields:{__type__:{stringValue:NP}}}},DP="__vector__",Gu="value",sf={nullValue:"NULL_VALUE"};function gi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?E_(n)?4:OP(n)?9007199254740991:jp(n)?10:11:De(28295,{value:n})}function Vs(n,e){if(n===e)return!0;const t=gi(n);if(t!==gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wu(n).isEqual(Wu(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=fo(s.timestampValue),u=fo(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return po(s.bytesValue).isEqual(po(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return Dt(s.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Dt(s.integerValue)===Dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Dt(s.doubleValue),u=Dt(i.doubleValue);return l===u?Of(l)===Of(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Wl(n.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return(function(s,i){const l=s.mapValue.fields||{},u=i.mapValue.fields||{};if(sS(l)!==sS(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Vs(l[h],u[h])))return!1;return!0})(n,e);default:return De(52216,{left:n})}}function Ku(n,e){return(n.values||[]).find((t=>Vs(t,e)))!==void 0}function yi(n,e){if(n===e)return 0;const t=gi(n),r=gi(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return(function(i,l){const u=Dt(i.integerValue||i.doubleValue),h=Dt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,e);case 3:return iS(n.timestampValue,e.timestampValue);case 4:return iS(Wu(n),Wu(e));case 5:return jy(n.stringValue,e.stringValue);case 6:return(function(i,l){const u=po(i),h=po(l);return u.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(i,l){const u=i.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=Qe(u[p],h[p]);if(y!==0)return y}return Qe(u.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,l){const u=Qe(Dt(i.latitude),Dt(l.latitude));return u!==0?u:Qe(Dt(i.longitude),Dt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return aS(n.arrayValue,e.arrayValue);case 10:return(function(i,l){const u=i.fields||{},h=l.fields||{},p=u[Gu]?.arrayValue,y=h[Gu]?.arrayValue,m=Qe(p?.values?.length||0,y?.values?.length||0);return m!==0?m:aS(p,y)})(n.mapValue,e.mapValue);case 11:return(function(i,l){if(i===oi.mapValue&&l===oi.mapValue)return 0;if(i===oi.mapValue)return 1;if(l===oi.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),p=l.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let m=0;m<h.length&&m<y.length;++m){const E=jy(h[m],y[m]);if(E!==0)return E;const x=yi(u[h[m]],p[y[m]]);if(x!==0)return x}return Qe(h.length,y.length)})(n.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function iS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=fo(n),r=fo(e),s=Qe(t.seconds,r.seconds);return s!==0?s:Qe(t.nanos,r.nanos)}function aS(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=yi(t[s],r[s]);if(i)return i}return Qe(t.length,r.length)}function Yl(n){return Hy(n)}function Hy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=fo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return po(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Se.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=Hy(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${Hy(t.fields[l])}`;return s+"}"})(n.mapValue):De(61005,{value:n})}function of(n){switch(gi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fp(n);return e?16+of(e):16;case 5:return 2*n.stringValue.length;case 6:return po(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+of(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return dd(r.fields,((i,l)=>{s+=i.length+of(l)})),s})(n.mapValue);default:throw De(13486,{value:n})}}function b_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wy(n){return!!n&&"integerValue"in n}function Zu(n){return!!n&&"arrayValue"in n}function lS(n){return!!n&&"nullValue"in n}function cS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ey(n){return!!n&&"mapValue"in n}function jp(n){return(n?.mapValue?.fields||{})[kP]?.stringValue===DP}function Tu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return dd(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Tu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tu(n.arrayValue.values[t]);return e}return{...n}}function OP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NP}const MP={mapValue:{fields:{[kP]:{stringValue:DP},[Gu]:{arrayValue:{}}}}};function VU(n){return"nullValue"in n?sf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?b_(wa.empty(),Se.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?jp(n)?MP:{mapValue:{}}:De(35942,{value:n})}function LU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?b_(wa.empty(),Se.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?MP:"mapValue"in n?jp(n)?{mapValue:{}}:oi:De(61959,{value:n})}function uS(n,e){const t=yi(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function dS(n,e){const t=yi(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.value=e}static empty(){return new Ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ey(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(t)}setAll(e){let t=Zt.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=Tu(l):s.push(u.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());ey(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];ey(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){dd(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Ar(Tu(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,r,s,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Bt(e,0,je.min(),je.min(),je.min(),Ar.empty(),0)}static newFoundDocument(e,t,r,s){return new Bt(e,1,t,je.min(),r,s,0)}static newNoDocument(e,t){return new Bt(e,2,t,je.min(),je.min(),Ar.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,je.min(),je.min(),Ar.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t){this.position=e,this.inclusive=t}}function hS(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],l=n.position[s];if(i.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),t.key):r=yi(l,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function fS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t="asc"){this.field=e,this.dir=t}}function FU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{}class dt extends VP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jU(e,t,r):t==="array-contains"?new $U(e,r):t==="in"?new $P(e,r):t==="not-in"?new BU(e,r):t==="array-contains-any"?new qU(e,r):new dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new zU(e,r):new UU(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yi(t,this.value)):t!==null&&gi(this.value)===gi(t)&&this.matchesComparison(yi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends VP{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bt(e,t)}matches(e){return Jl(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jl(n){return n.op==="and"}function Gy(n){return n.op==="or"}function S_(n){return LP(n)&&Jl(n)}function LP(n){for(const e of n.filters)if(e instanceof bt)return!1;return!0}function Ky(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+Yl(n.value);if(S_(n))return n.filters.map((e=>Ky(e))).join(",");{const e=n.filters.map((t=>Ky(t))).join(",");return`${n.op}(${e})`}}function FP(n,e){return n instanceof dt?(function(r,s){return s instanceof dt&&r.op===s.op&&r.field.isEqual(s.field)&&Vs(r.value,s.value)})(n,e):n instanceof bt?(function(r,s){return s instanceof bt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,l,u)=>i&&FP(l,s.filters[u])),!0):!1})(n,e):void De(19439)}function jP(n,e){const t=n.filters.concat(e);return bt.create(t,n.op)}function zP(n){return n instanceof dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Yl(t.value)}`})(n):n instanceof bt?(function(t){return t.op.toString()+" {"+t.getFilters().map(zP).join(" ,")+"}"})(n):"Filter"}class jU extends dt{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class zU extends dt{constructor(e,t){super(e,"in",t),this.keys=UP("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class UU extends dt{constructor(e,t){super(e,"not-in",t),this.keys=UP("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function UP(n,e){return(e.arrayValue?.values||[]).map((t=>Se.fromName(t.referenceValue)))}class $U extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zu(t)&&Ku(t.arrayValue,this.value)}}class $P extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ku(this.value.arrayValue,t)}}class BU extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ku(this.value.arrayValue,t)}}class qU extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ku(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,t=null,r=[],s=[],i=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=u,this.Te=null}}function Zy(n,e=null,t=[],r=[],s=null,i=null,l=null){return new HU(n,e,t,r,s,i,l)}function Ea(n){const e=Ye(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Ky(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Op(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Yl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Yl(r))).join(",")),e.Te=t}return e.Te}function hd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!FU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fS(n.startAt,e.startAt)&&fS(n.endAt,e.endAt)}function zf(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Uf(n,e){return n.filters.filter((t=>t instanceof dt&&t.field.isEqual(e)))}function pS(n,e,t){let r=sf,s=!0;for(const i of Uf(n,e)){let l=sf,u=!0;switch(i.op){case"<":case"<=":l=VU(i.value);break;case"==":case"in":case">=":l=i.value;break;case">":l=i.value,u=!1;break;case"!=":case"not-in":l=sf}uS({value:r,inclusive:s},{value:l,inclusive:u})<0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];uS({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}function mS(n,e,t){let r=oi,s=!0;for(const i of Uf(n,e)){let l=oi,u=!0;switch(i.op){case">=":case">":l=LU(i.value),u=!1;break;case"==":case"in":case"<=":l=i.value;break;case"<":l=i.value,u=!1;break;case"!=":case"not-in":l=oi}dS({value:r,inclusive:s},{value:l,inclusive:u})>0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];dS({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t=null,r=[],s=[],i=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WU(n,e,t,r,s,i,l,u){return new zp(n,e,t,r,s,i,l,u)}function Up(n){return new zp(n)}function gS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GU(n){return n.collectionGroup!==null}function Cu(n){const e=Ye(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new _t(Zt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new jf(i,r))})),t.has(Zt.keyField().canonicalString())||e.Ie.push(new jf(Zt.keyField(),r))}return e.Ie}function Dr(n){const e=Ye(n);return e.Ee||(e.Ee=KU(e,Cu(n))),e.Ee}function KU(n,e){if(n.limitType==="F")return Zy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new jf(s.field,i)}));const t=n.endAt?new Xl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xl(n.startAt.position,n.startAt.inclusive):null;return Zy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Qy(n,e,t){return new zp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $p(n,e){return hd(Dr(n),Dr(e))&&n.limitType===e.limitType}function BP(n){return`${Ea(Dr(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>zP(s))).join(", ")}]`),Op(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Yl(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Yl(s))).join(",")),`Target(${r})`})(Dr(n))}; limitType=${n.limitType})`}function fd(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of Cu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,h){const p=hS(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,Cu(r),s)||r.endAt&&!(function(l,u,h){const p=hS(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,Cu(r),s))})(n,e)}function ZU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qP(n){return(e,t)=>{let r=!1;for(const s of Cu(n)){const i=QU(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function QU(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):(function(i,l,u){const h=l.data.field(i),p=u.data.field(i);return h!==null&&p!==null?yi(h,p):De(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){dd(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return DU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new jt(Se.comparator);function kr(){return YU}const HP=new jt(Se.comparator);function gu(...n){let e=HP;for(const t of n)e=e.insert(t.key,t);return e}function XU(n){let e=HP;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function ks(){return Pu()}function WP(){return Pu()}function Pu(){return new vo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const JU=new jt(Se.comparator),e$=new _t(Se.comparator);function it(...n){let e=e$;for(const t of n)e=e.add(t);return e}const t$=new _t(Qe);function n$(){return t$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(e)?"-0":e}}function s$(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this._=void 0}}function o$(n,e,t){return n instanceof Qu?(function(s,i){const l={fields:{[PP]:{stringValue:CP},[RP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&E_(i)&&(i=Fp(i)),i&&(l.fields[AP]=i),{mapValue:l}})(t,e):n instanceof ec?GP(n,e):n instanceof tc?KP(n,e):(function(s,i){const l=a$(s,i),u=yS(l)+yS(s.Ae);return Wy(l)&&Wy(s.Ae)?s$(u):r$(s.serializer,u)})(n,e)}function i$(n,e,t){return n instanceof ec?GP(n,e):n instanceof tc?KP(n,e):t}function a$(n,e){return n instanceof Yu?(function(r){return Wy(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Qu extends Bp{}class ec extends Bp{constructor(e){super(),this.elements=e}}function GP(n,e){const t=ZP(e);for(const r of n.elements)t.some((s=>Vs(s,r)))||t.push(r);return{arrayValue:{values:t}}}class tc extends Bp{constructor(e){super(),this.elements=e}}function KP(n,e){let t=ZP(e);for(const r of n.elements)t=t.filter((s=>!Vs(s,r)));return{arrayValue:{values:t}}}class Yu extends Bp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yS(n){return Dt(n.integerValue||n.doubleValue)}function ZP(n){return Zu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,t){this.field=e,this.transform=t}}function c$(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof ec&&s instanceof ec||r instanceof tc&&s instanceof tc?Wl(r.elements,s.elements,Vs):r instanceof Yu&&s instanceof Yu?Vs(r.Ae,s.Ae):r instanceof Qu&&s instanceof Qu})(n.transform,e.transform)}class u${constructor(e,t){this.version=e,this.transformResults=t}}class Xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function af(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class qp{}function QP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new x_(n.key,Xr.none()):new pd(n.key,n.data,Xr.none());{const t=n.data,r=Ar.empty();let s=new _t(Zt.comparator);for(let i of e.fields)if(!s.has(i)){let l=t.field(i);l===null&&i.length>1&&(i=i.popLast(),l=t.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new hc(n.key,r,new so(s.toArray()),Xr.none())}}function d$(n,e,t){n instanceof pd?(function(s,i,l){const u=s.value.clone(),h=_S(s.fieldTransforms,i,l.transformResults);u.setAll(h),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof hc?(function(s,i,l){if(!af(s.precondition,i))return void i.convertToUnknownDocument(l.version);const u=_S(s.fieldTransforms,i,l.transformResults),h=i.data;h.setAll(YP(s)),h.setAll(u),i.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Au(n,e,t,r){return n instanceof pd?(function(i,l,u,h){if(!af(i.precondition,l))return u;const p=i.value.clone(),y=wS(i.fieldTransforms,h,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof hc?(function(i,l,u,h){if(!af(i.precondition,l))return u;const p=wS(i.fieldTransforms,h,l),y=l.data;return y.setAll(YP(i)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(i,l,u){return af(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function vS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wl(r,s,((i,l)=>c$(i,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pd extends qp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hc extends qp{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function YP(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function _S(n,e,t){const r=new Map;Ve(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],l=i.transform,u=e.data.field(i.field);r.set(i.field,i$(l,u,t[s]))}return r}function wS(n,e,t){const r=new Map;for(const s of n){const i=s.transform,l=t.data.field(s.field);r.set(s.field,o$(i,l,e))}return r}class x_ extends qp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XP extends qp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&d$(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Au(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Au(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=WP();return this.mutations.forEach((s=>{const i=e.get(s.key),l=i.overlayedDocument;let u=this.applyToLocalView(l,i.mutatedFields);u=t.has(s.key)?null:u;const h=QP(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),it())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,((t,r)=>vS(t,r)))&&Wl(this.baseMutations,e.baseMutations,((t,r)=>vS(t,r)))}}class T_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return JU})();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new T_(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,ht;function f$(n){switch(n){case oe.OK:return De(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function JP(n){if(n===void 0)return jn("GRPC error has no .code"),oe.UNKNOWN;switch(n){case tn.OK:return oe.OK;case tn.CANCELLED:return oe.CANCELLED;case tn.UNKNOWN:return oe.UNKNOWN;case tn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case tn.INTERNAL:return oe.INTERNAL;case tn.UNAVAILABLE:return oe.UNAVAILABLE;case tn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case tn.NOT_FOUND:return oe.NOT_FOUND;case tn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case tn.ABORTED:return oe.ABORTED;case tn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case tn.DATA_LOSS:return oe.DATA_LOSS;default:return De(39323,{code:n})}}(ht=tn||(tn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=new ui([4294967295,4294967295],0);function ES(n){const e=p$().encode(n),t=new nP;return t.update(e),new Uint8Array(t.digest())}function bS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ui([t,r],0),new ui([s,i],0)]}class P_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(r<0)throw new yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ui.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ui.fromNumber(r)));return s.compare(m$)===1&&(s=new ui([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ES(e),[r,s]=bS(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new P_(i,s,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=ES(e),[r,s]=bS(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,md.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Hp(je.min(),s,new jt(Qe),kr(),it())}}class md{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new md(r,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class eA{constructor(e,t){this.targetId=e,this.Ce=t}}class tA{constructor(e,t,r=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class SS{constructor(){this.ve=0,this.Fe=xS(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),t=it(),r=it();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:De(38017,{changeType:i})}})),new md(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=xS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class g${constructor(e){this.Ge=e,this.ze=new Map,this.je=kr(),this.Je=qh(),this.He=qh(),this.Ye=new jt(Qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(zf(i))if(r===0){const l=new Se(i.path);this.et(t,l,Bt.newNoDocument(l,je.min()))}else Ve(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let l,u;try{l=po(r).toUint8Array()}catch(h){if(h instanceof TP)return _a("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new P_(l,s,i)}catch(h){return _a(h instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,l)=>{const u=this.ot(l);if(u){if(i.current&&zf(u.target)){const h=new Se(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Bt.newNoDocument(h,e))}i.Be&&(t.set(l,i.ke()),i.qe())}}));let r=it();this.He.forEach(((i,l)=>{let u=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,l)=>l.setReadTime(e)));const s=new Hp(e,t,this.Ye,this.je,r);return this.je=kr(),this.Je=qh(),this.He=qh(),this.Ye=new jt(Qe),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new SS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new _t(Qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new _t(Qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new SS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function qh(){return new jt(Se.comparator)}function xS(){return new jt(Se.comparator)}const y$={asc:"ASCENDING",desc:"DESCENDING"},v$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_$={and:"AND",or:"OR"};class w${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yy(n,e){return n.useProto3Json||Op(e)?e:{value:e}}function $f(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function b$(n,e){return $f(n,e.toTimestamp())}function zn(n){return Ve(!!n,49232),je.fromTimestamp((function(t){const r=fo(t);return new Ot(r.seconds,r.nanos)})(n))}function nA(n,e){return Xy(n,e).canonicalString()}function Xy(n,e){const t=(function(s){return new Et(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function rA(n){const e=Et.fromString(n);return Ve(hA(e),10190,{key:e.toString()}),e}function Bf(n,e){return nA(n.databaseId,e.path)}function ca(n,e){const t=rA(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(iA(t))}function sA(n,e){return nA(n.databaseId,e)}function oA(n){const e=rA(n);return e.length===4?Et.emptyPath():iA(e)}function Jy(n){return new Et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iA(n){return Ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function IS(n,e,t){return{name:Bf(n,e),fields:t.value.mapValue.fields}}function S$(n,e,t){const r=ca(n,e.name),s=zn(e.updateTime),i=e.createTime?zn(e.createTime):je.min(),l=new Ar({mapValue:{fields:e.fields}}),u=Bt.newFoundDocument(r,s,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function x$(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(p,y){return p.useProto3Json?(Ve(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):(Ve(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const y=p.code===void 0?oe.UNKNOWN:JP(p.code);return new Pe(y,p.message||"")})(l);t=new tA(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ca(n,r.document.name),i=zn(r.document.updateTime),l=r.document.createTime?zn(r.document.createTime):je.min(),u=new Ar({mapValue:{fields:r.document.fields}}),h=Bt.newFoundDocument(s,i,l,u),p=r.targetIds||[],y=r.removedTargetIds||[];t=new lf(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ca(n,r.document),i=r.readTime?zn(r.readTime):je.min(),l=Bt.newNoDocument(s,i),u=r.removedTargetIds||[];t=new lf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ca(n,r.document),i=r.removedTargetIds||[];t=new lf([],i,s,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new h$(s,i),u=r.targetId;t=new eA(u,l)}}return t}function qf(n,e){let t;if(e instanceof pd)t={update:IS(n,e.key,e.value)};else if(e instanceof x_)t={delete:Bf(n,e.key)};else if(e instanceof hc)t={update:IS(n,e.key,e.data),updateMask:R$(e.fieldMask)};else{if(!(e instanceof XP))return De(16599,{Vt:e.type});t={verify:Bf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,l){const u=l.transform;if(u instanceof Qu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ec)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof tc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Yu)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw De(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:b$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:De(27497)})(n,e.precondition)),t}function ev(n,e){const t=e.currentDocument?(function(i){return i.updateTime!==void 0?Xr.updateTime(zn(i.updateTime)):i.exists!==void 0?Xr.exists(i.exists):Xr.none()})(e.currentDocument):Xr.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(l,u){let h=null;if("setToServerValue"in u)Ve(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),h=new Qu;else if("appendMissingElements"in u){const y=u.appendMissingElements.values||[];h=new ec(y)}else if("removeAllFromArray"in u){const y=u.removeAllFromArray.values||[];h=new tc(y)}else"increment"in u?h=new Yu(l,u.increment):De(16584,{proto:u});const p=Zt.fromServerFormat(u.fieldPath);return new l$(p,h)})(n,s))):[];if(e.update){e.update.name;const s=ca(n,e.update.name),i=new Ar({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const p=h.fieldPaths||[];return new so(p.map((y=>Zt.fromServerFormat(y))))})(e.updateMask);return new hc(s,i,l,t,r)}return new pd(s,i,t,r)}if(e.delete){const s=ca(n,e.delete);return new x_(s,t)}if(e.verify){const s=ca(n,e.verify);return new XP(s,t)}return De(1463,{proto:e})}function I$(n,e){return n&&n.length>0?(Ve(e!==void 0,14353),n.map((t=>(function(s,i){let l=s.updateTime?zn(s.updateTime):zn(i);return l.isEqual(je.min())&&(l=zn(i)),new u$(l,s.transformResults||[])})(t,e)))):[]}function aA(n,e){return{documents:[sA(n,e.path)]}}function lA(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=sA(n,s);const i=(function(p){if(p.length!==0)return dA(bt.create(p,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const l=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:Cl(E.field),direction:C$(E.dir)}})(y)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Yy(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function cA(n){let e=oA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let i=[];t.where&&(i=(function(m){const E=uA(m);return E instanceof bt&&S_(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(m){return m.map((E=>(function(A){return new jf(Pl(A.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(E)))})(t.orderBy));let u=null;t.limit&&(u=(function(m){let E;return E=typeof m=="object"?m.value:m,Op(E)?null:E})(t.limit));let h=null;t.startAt&&(h=(function(m){const E=!!m.before,x=m.values||[];return new Xl(x,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(m){const E=!m.before,x=m.values||[];return new Xl(x,E)})(t.endAt)),WU(e,s,l,i,u,"F",h,p)}function T$(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Pl(t.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Pl(t.unaryFilter.field);return dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Pl(t.unaryFilter.field);return dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Pl(t.unaryFilter.field);return dt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(n):n.fieldFilter!==void 0?(function(t){return dt.create(Pl(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return bt.create(t.compositeFilter.filters.map((r=>uA(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(t.compositeFilter.op))})(n):De(30097,{filter:n})}function C$(n){return y$[n]}function P$(n){return v$[n]}function A$(n){return _$[n]}function Cl(n){return{fieldPath:n.canonicalString()}}function Pl(n){return Zt.fromServerFormat(n.fieldPath)}function dA(n){return n instanceof dt?(function(t){if(t.op==="=="){if(cS(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NAN"}};if(lS(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cS(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NOT_NAN"}};if(lS(t.value))return{unaryFilter:{field:Cl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(t.field),op:P$(t.op),value:t.value}}})(n):n instanceof bt?(function(t){const r=t.getFilters().map((s=>dA(s)));return r.length===1?r[0]:{compositeFilter:{op:A$(t.op),filters:r}}})(n):De(54877,{filter:n})}function R$(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function hA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t,r,s,i=je.min(),l=je.min(),u=rn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.yt=e}}function k$(n,e){let t;if(e.document)t=S$(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Se.fromSegments(e.noDocument.path),s=Sa(e.noDocument.readTime);t=Bt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return De(56709);{const r=Se.fromSegments(e.unknownDocument.path),s=Sa(e.unknownDocument.version);t=Bt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const i=new Ot(s[0],s[1]);return je.fromTimestamp(i)})(e.readTime)),t}function TS(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,l){return{name:Bf(i,l.key),fields:l.data.value.mapValue.fields,updateTime:$f(i,l.version.toTimestamp()),createTime:$f(i,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ba(e.version)};else{if(!e.isUnknownDocument())return De(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:ba(e.version)}}return r}function Hf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ba(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sa(n){const e=new Ot(n.seconds,n.nanoseconds);return je.fromTimestamp(e)}function ta(n,e){const t=(e.baseMutations||[]).map((i=>ev(n.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const l=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>ev(n.yt,i))),s=Ot.fromMillis(e.localWriteTimeMs);return new I_(e.batchId,s,t,r)}function vu(n){const e=Sa(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Sa(n.lastLimboFreeSnapshotVersion):je.min();let r;return r=(function(i){return i.documents!==void 0})(n.query)?(function(i){const l=i.documents.length;return Ve(l===1,1966,{count:l}),Dr(Up(oA(i.documents[0])))})(n.query):(function(i){return Dr(cA(i))})(n.query),new oo(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,rn.fromBase64String(n.resumeToken))}function pA(n,e){const t=ba(e.snapshotVersion),r=ba(e.lastLimboFreeSnapshotVersion);let s;s=zf(e.target)?aA(n.yt,e.target):lA(n.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ea(e.target),readTime:t,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function mA(n){const e=cA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qy(e,e.limit,"L"):e}function ty(n,e){return new C_(e.largestBatchId,ev(n.yt,e.overlayMutation))}function CS(n,e){const t=e.path.lastSegment();return[n,On(e.path.popLast()),t]}function PS(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:ba(r.readTime),documentKey:On(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${getBundleMetadata(e,t){return AS(e).get(t).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:Sa(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,t){return AS(e).put((function(s){return{bundleId:s.id,createTime:ba(zn(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return RS(e).get(t).next((r=>{if(r)return(function(i){return{name:i.name,query:mA(i.bundledQuery),readTime:Sa(i.readTime)}})(r)}))}saveNamedQuery(e,t){return RS(e).put((function(s){return{name:s.name,readTime:ba(zn(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function AS(n){return dn(n,Mp)}function RS(n){return dn(n,Vp)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new Wp(e,r)}getOverlay(e,t){return iu(e).get(CS(this.userId,t)).next((r=>r?ty(this.serializer,r):null))}getOverlays(e,t){const r=ks();return Z.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((i,l)=>{const u=new C_(t,l);s.push(this.St(e,u))})),Z.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((l=>s.add(On(l.getCollectionPath()))));const i=[];return s.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);i.push(iu(e).Z(By,u))})),Z.waitFor(i)}getOverlaysForCollection(e,t,r){const s=ks(),i=On(t),l=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return iu(e).J(By,l).next((u=>{for(const h of u){const p=ty(this.serializer,h);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const i=ks();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return iu(e).ee({index:EP,range:u},((h,p,y)=>{const m=ty(this.serializer,p);i.size()<s||m.largestBatchId===l?(i.set(m.getKey(),m),l=m.largestBatchId):y.done()})).next((()=>i))}St(e,t){return iu(e).put((function(s,i,l){const[u,h,p]=CS(i,l.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:qf(s.yt,l.mutation)}})(this.serializer,this.userId,t))}}function iu(n){return dn(n,Lp)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${bt(e){return dn(e,__)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?rn.fromUint8Array(r):rn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Dt(e.integerValue));else if("doubleValue"in e){const r=Dt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Of(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=fo(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(po(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?OP(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):jp(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):De(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=Gu,i=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Dt(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),Se.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}na.Kt=new na;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=255;function O$(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function kS(n){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const l=O$(255&r[i]);if(s+=l,l!==8)break}return s})(n);return Math.ceil(e/8)}class M${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),r=kS(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=kS(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(El),this.sn(255)}_n(){this.an(El),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===El?(this.sn(El),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===El?(this.an(El),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class V${constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class L${constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class au{constructor(){this.cn=new M$,this.ln=new V$(this.cn),this.hn=new L$(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,r,s){this.Tn=e,this.In=t,this.En=r,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new ra(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:cf(this.En),directionalValue:cf(this.dn),orderedDocumentKey:cf(t),documentKey:r.path.toArray()}}Vn(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Ko(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=NS(n.En,e.En),t!==0?t:(t=NS(n.dn,e.dn),t!==0?t:Se.comparator(n.In,e.In)))}function NS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function cf(n){return KC()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function DS(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class OS{constructor(e){this.mn=new _t(((t,r)=>Zt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ve(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=zy(e);if(t!==void 0&&!this.wn(t))return!1;const r=Xi(e);let s=new Set,i=0,l=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=r[i];if(!this.Sn(u,h)||!this.bn(this.fn[l++],h))return!1}++i}for(;i<r.length;++i){const u=r[i];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new _t(Zt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new tf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new tf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new tf(r.field,r.dir==="asc"?0:1)));return new Df(Df.UNKNOWN_ID,this.collectionId,t,$u.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n){if(Ve(n instanceof dt||n instanceof bt,20012),n instanceof dt){if(n instanceof $P){const t=n.value.arrayValue?.values?.map((r=>dt.create(n.field,"==",r)))||[];return bt.create(t,"or")}return n}const e=n.filters.map((t=>gA(t)));return bt.create(e,n.op)}function F$(n){if(n.getFilters().length===0)return[];const e=rv(gA(n));return Ve(yA(e),7391),tv(e)||nv(e)?[e]:e.getFilters()}function tv(n){return n instanceof dt}function nv(n){return n instanceof bt&&S_(n)}function yA(n){return tv(n)||nv(n)||(function(t){if(t instanceof bt&&Gy(t)){for(const r of t.getFilters())if(!tv(r)&&!nv(r))return!1;return!0}return!1})(n)}function rv(n){if(Ve(n instanceof dt||n instanceof bt,34018),n instanceof dt)return n;if(n.filters.length===1)return rv(n.filters[0]);const e=n.filters.map((r=>rv(r)));let t=bt.create(e,n.op);return t=Wf(t),yA(t)?t:(Ve(t instanceof bt,64498),Ve(Jl(t),40251),Ve(t.filters.length>1,57927),t.filters.reduce(((r,s)=>A_(r,s))))}function A_(n,e){let t;return Ve(n instanceof dt||n instanceof bt,38388),Ve(e instanceof dt||e instanceof bt,25473),t=n instanceof dt?e instanceof dt?(function(s,i){return bt.create([s,i],"and")})(n,e):MS(n,e):e instanceof dt?MS(e,n):(function(s,i){if(Ve(s.filters.length>0&&i.filters.length>0,48005),Jl(s)&&Jl(i))return jP(s,i.getFilters());const l=Gy(s)?s:i,u=Gy(s)?i:s,h=l.filters.map((p=>A_(p,u)));return bt.create(h,"or")})(n,e),Wf(t)}function MS(n,e){if(Jl(e))return jP(e,n.getFilters());{const t=e.filters.map((r=>A_(n,r)));return bt.create(t,"or")}}function Wf(n){if(Ve(n instanceof dt||n instanceof bt,11850),n instanceof dt)return n;const e=n.getFilters();if(e.length===1)return Wf(e[0]);if(LP(n))return n;const t=e.map((s=>Wf(s))),r=[];return t.forEach((s=>{s instanceof dt?r.push(s):s instanceof bt&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:bt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.Cn=new R_}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(gr.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class R_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new _t(Et.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="IndexedDbIndexManager",Hh=new Uint8Array(0);class z${constructor(e,t){this.databaseId=t,this.vn=new R_,this.Fn=new vo((r=>Ea(r)),((r,s)=>hd(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const i={collectionId:r,parent:On(s)};return LS(e).put(i)}return Z.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[dP(t),""],!1,!0);return LS(e).J(s).next((i=>{for(const l of i){if(l.collectionId!==t)break;r.push(Rs(l.parent))}return r}))}addFieldIndex(e,t){const r=lu(e),s=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete s.indexId;const i=r.add(s);if(t.indexState){const l=Sl(e);return i.next((u=>{l.put(PS(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const r=lu(e),s=Sl(e),i=bl(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=lu(e),r=bl(e),s=Sl(e);return t.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return Z.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new OS(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,t){const r=bl(e);let s=!0;const i=new Map;return Z.forEach(this.Mn(t),(l=>this.xn(e,l).next((u=>{s&&(s=!!u),i.set(l,u)})))).next((()=>{if(s){let l=it();const u=[];return Z.forEach(i,((h,p)=>{he(VS,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map((U=>`${U.fieldPath}:${U.kind}`)).join(",")}`})(h)} to execute ${Ea(t)}`);const y=(function(z,U){const $=zy(U);if($===void 0)return null;for(const K of Uf(z,$.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null})(p,h),m=(function(z,U){const $=new Map;for(const K of Xi(U))for(const P of Uf(z,K.fieldPath))switch(P.op){case"==":case"in":$.set(K.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return $.set(K.fieldPath.canonicalString(),P.value),Array.from($.values())}return null})(p,h),E=(function(z,U){const $=[];let K=!0;for(const P of Xi(U)){const T=P.kind===0?pS(z,P.fieldPath,z.startAt):mS(z,P.fieldPath,z.startAt);$.push(T.value),K&&(K=T.inclusive)}return new Xl($,K)})(p,h),x=(function(z,U){const $=[];let K=!0;for(const P of Xi(U)){const T=P.kind===0?mS(z,P.fieldPath,z.endAt):pS(z,P.fieldPath,z.endAt);$.push(T.value),K&&(K=T.inclusive)}return new Xl($,K)})(p,h),A=this.On(h,p,E),C=this.On(h,p,x),R=this.Nn(h,p,m),D=this.Bn(h.indexId,y,A,E.inclusive,C,x.inclusive,R);return Z.forEach(D,(M=>r.Y(M,t.limit).next((z=>{z.forEach((U=>{const $=Se.fromSegments(U.documentKey);l.has($)||(l=l.add($),u.push($))}))}))))})).next((()=>u))}return Z.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=F$(bt.create(e.filters,"and")).map((r=>Zy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,s,i,l,u){const h=(t!=null?t.length:1)*Math.max(r.length,i.length),p=h/(t!=null?t.length:1),y=[];for(let m=0;m<h;++m){const E=t?this.Ln(t[m/p]):Hh,x=this.kn(e,E,r[m%p],s),A=this.qn(e,E,i[m%p],l),C=u.map((R=>this.kn(e,E,R,!0)));y.push(...this.createRange(x,A,C))}return y}kn(e,t,r,s){const i=new ra(e,Se.empty(),t,r);return s?i:i.An()}qn(e,t,r,s){const i=new ra(e,Se.empty(),t,r);return s?i.An():i}xn(e,t){const r=new OS(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let l=null;for(const u of i)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,t){let r=2;const s=this.Mn(t);return Z.forEach(s,(i=>this.xn(e,i).next((l=>{l?r!==0&&l.fields.length<(function(h){let p=new _t(Zt.comparator),y=!1;for(const m of h.filters)for(const E of m.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const m of h.orderBy)m.field.isKeyField()||(p=p.add(m.field));return p.size+(y?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&s.length>1&&r===2?1:r))}Qn(e,t){const r=new au;for(const s of Xi(e)){const i=t.data.field(s.fieldPath);if(i==null)return null;const l=r.Pn(s.kind);na.Kt.Dt(i,l)}return r.un()}Ln(e){const t=new au;return na.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new au;return na.Kt.Dt(b_(this.databaseId,t),r.Pn((function(i){const l=Xi(i);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let s=[];s.push(new au);let i=0;for(const l of Xi(e)){const u=r[i++];for(const h of s)if(this.Un(t,l.fieldPath)&&Zu(u))s=this.Kn(s,l,u);else{const p=h.Pn(l.kind);na.Kt.Dt(u,p)}}return this.Wn(s)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const s=[...e],i=[];for(const l of r.arrayValue.values||[])for(const u of s){const h=new au;h.seed(u.un()),na.Kt.Dt(l,h.Pn(t.kind)),i.push(h)}return i}Un(e,t){return!!e.filters.find((r=>r instanceof dt&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=lu(e),s=Sl(e);return(t?r.J($y,IDBKeyRange.bound(t,t)):r.J()).next((i=>{const l=[];return Z.forEach(i,(u=>s.get([u.indexId,this.uid]).next((h=>{l.push((function(y,m){const E=m?new $u(m.sequenceNumber,new gr(Sa(m.readTime),new Se(Rs(m.documentKey)),m.largestBatchId)):$u.empty(),x=y.fields.map((([A,C])=>new tf(Zt.fromServerFormat(A),C)));return new Df(y.indexId,y.collectionGroup,x,E)})(u,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Qe(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=lu(e),i=Sl(e);return this.Gn(e).next((l=>s.J($y,IDBKeyRange.bound(t,t)).next((u=>Z.forEach(u,(h=>i.put(PS(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return Z.forEach(t,((s,i)=>{const l=r.get(s.collectionGroup);return(l?Z.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Z.forEach(u,(h=>this.zn(e,s,h).next((p=>{const y=this.jn(i,h);return p.isEqual(y)?Z.resolve():this.Jn(e,i,h,p,y)})))))))}))}Hn(e,t,r,s){return bl(e).put(s.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,s){return bl(e).delete(s.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const s=bl(e);let i=new _t(Ko);return s.ee({index:wP,range:IDBKeyRange.only([r.indexId,this.uid,cf(this.$n(r,t))])},((l,u)=>{i=i.add(new ra(r.indexId,t,DS(u.arrayValue),DS(u.directionalValue)))})).next((()=>i))}jn(e,t){let r=new _t(Ko);const s=this.Qn(t,e);if(s==null)return r;const i=zy(t);if(i!=null){const l=e.data.field(i.fieldPath);if(Zu(l))for(const u of l.arrayValue.values||[])r=r.add(new ra(t.indexId,e.key,this.Ln(u),s))}else r=r.add(new ra(t.indexId,e.key,Hh,s));return r}Jn(e,t,r,s,i){he(VS,"Updating index entries for document '%s'",t.key);const l=[];return(function(h,p,y,m,E){const x=h.getIterator(),A=p.getIterator();let C=wl(x),R=wl(A);for(;C||R;){let D=!1,M=!1;if(C&&R){const z=y(C,R);z<0?M=!0:z>0&&(D=!0)}else C!=null?M=!0:D=!0;D?(m(R),R=wl(A)):M?(E(C),C=wl(x)):(C=wl(x),R=wl(A))}})(s,i,Ko,(u=>{l.push(this.Hn(e,t,r,u))}),(u=>{l.push(this.Yn(e,t,r,u))})),Z.waitFor(l)}Gn(e){let t=1;return Sl(e).ee({index:_P,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,u)=>Ko(l,u))).filter(((l,u,h)=>!u||Ko(l,h[u-1])!==0));const s=[];s.push(e);for(const l of r){const u=Ko(l,e),h=Ko(l,t);if(u===0)s[0]=e.An();else if(u>0&&h<0)s.push(l),s.push(l.An());else if(h>0)break}s.push(t);const i=[];for(let l=0;l<s.length;l+=2){if(this.Zn(s[l],s[l+1]))return[];const u=s[l].Vn(this.uid,Hh,Se.empty()),h=s[l+1].Vn(this.uid,Hh,Se.empty());i.push(IDBKeyRange.bound(u,h))}return i}Zn(e,t){return Ko(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(FS)}getMinOffset(e,t){return Z.mapArray(this.Mn(t),(r=>this.xn(e,r).next((s=>s||De(44426))))).next(FS)}}function LS(n){return dn(n,Hu)}function bl(n){return dn(n,Iu)}function lu(n){return dn(n,v_)}function Sl(n){return dn(n,xu)}function FS(n){Ve(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;m_(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new gr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vA=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n,e,t){const r=n.store(Yr),s=n.store(Gl),i=[],l=IDBKeyRange.only(t.batchId);let u=0;const h=r.ee({range:l},((y,m,E)=>(u++,E.delete())));i.push(h.next((()=>{Ve(u===1,47070,{batchId:t.batchId})})));const p=[];for(const y of t.mutations){const m=gP(e,y.key.path,t.batchId);i.push(s.delete(m)),p.push(y.key)}return Z.waitFor(i).next((()=>p))}function Gf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw De(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(vA,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class Gp{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,t,r,s){Ve(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new Gp(i,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zo(e).ee({index:sa,range:r},((s,i,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const i=Al(e),l=Zo(e);return l.add({}).next((u=>{Ve(typeof u=="number",49019);const h=new I_(u,t,r,s),p=(function(x,A,C){const R=C.baseMutations.map((M=>qf(x.yt,M))),D=C.mutations.map((M=>qf(x.yt,M)));return{userId:A,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:R,mutations:D}})(this.serializer,this.userId,h),y=[];let m=new _t(((E,x)=>Qe(E.canonicalString(),x.canonicalString())));for(const E of s){const x=gP(this.userId,E.key.path,u);m=m.add(E.key.path.popLast()),y.push(l.put(p)),y.push(i.put(x,cU))}return m.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),Z.waitFor(y).next((()=>h))}))}lookupMutationBatch(e,t){return Zo(e).get(t).next((r=>r?(Ve(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),ta(this.serializer,r)):null))}er(e,t){return this.Xn[t]?Z.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Zo(e).ee({index:sa,range:s},((l,u,h)=>{u.userId===this.userId&&(Ve(u.batchId>=r,47524,{tr:r}),i=ta(this.serializer,u)),h.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=aa;return Zo(e).ee({index:sa,range:t,reverse:!0},((s,i,l)=>{r=i.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,aa],[this.userId,Number.POSITIVE_INFINITY]);return Zo(e).J(sa,t).next((r=>r.map((s=>ta(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=nf(this.userId,t.path),s=IDBKeyRange.lowerBound(r),i=[];return Al(e).ee({range:s},((l,u,h)=>{const[p,y,m]=l,E=Rs(y);if(p===this.userId&&t.path.isEqual(E))return Zo(e).get(m).next((x=>{if(!x)throw De(61480,{nr:l,batchId:m});Ve(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:m}),i.push(ta(this.serializer,x))}));h.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _t(Qe);const s=[];return t.forEach((i=>{const l=nf(this.userId,i.path),u=IDBKeyRange.lowerBound(l),h=Al(e).ee({range:u},((p,y,m)=>{const[E,x,A]=p,C=Rs(x);E===this.userId&&i.path.isEqual(C)?r=r.add(A):m.done()}));s.push(h)})),Z.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,i=nf(this.userId,r),l=IDBKeyRange.lowerBound(i);let u=new _t(Qe);return Al(e).ee({range:l},((h,p,y)=>{const[m,E,x]=h,A=Rs(E);m===this.userId&&r.isPrefixOf(A)?A.length===s&&(u=u.add(x)):y.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],s=[];return t.forEach((i=>{s.push(Zo(e).get(i).next((l=>{if(l===null)throw De(35274,{batchId:i});Ve(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:i}),r.push(ta(this.serializer,l))})))})),Z.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return _A(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Z.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Z.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return Al(e).ee({range:r},((i,l,u)=>{if(i[0]===this.userId){const h=Rs(i[1]);s.push(h)}else u.done()})).next((()=>{Ve(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,t){return wA(e,this.userId,t)}_r(e){return EA(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:aa,lastStreamToken:""}))}}function wA(n,e,t){const r=nf(e,t.path),s=r[1],i=IDBKeyRange.lowerBound(r);let l=!1;return Al(n).ee({range:i,X:!0},((u,h,p)=>{const[y,m,E]=u;y===e&&m===s&&(l=!0),p.done()})).next((()=>l))}function Zo(n){return dn(n,Yr)}function Al(n){return dn(n,Gl)}function EA(n){return dn(n,Bu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xa(0)}static cr(){return new xa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new xa(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>je.fromTimestamp(new Ot(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>xl(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Ve(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let s=0;const i=[];return xl(e).ee(((l,u)=>{const h=vu(u);h.sequenceNumber<=t&&r.get(h.targetId)===null&&(s++,i.push(this.removeTargetData(e,h)))})).next((()=>Z.waitFor(i))).next((()=>s))}forEachTarget(e,t){return xl(e).ee(((r,s)=>{const i=vu(s);t(i)}))}lr(e){return zS(e).get(Lf).next((t=>(Ve(t!==null,2888),t)))}hr(e,t){return zS(e).put(Lf,t)}Pr(e,t){return xl(e).put(pA(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Ea(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return xl(e).ee({range:s,index:vP},((l,u,h)=>{const p=vu(u);hd(t,p.target)&&(i=p,h.done())})).next((()=>i))}addMatchingKeys(e,t,r){const s=[],i=Jo(e);return t.forEach((l=>{const u=On(l.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,l))})),Z.waitFor(s)}removeMatchingKeys(e,t,r){const s=Jo(e);return Z.forEach(t,(i=>{const l=On(i.path);return Z.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,t){const r=Jo(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Jo(e);let i=it();return s.ee({range:r,X:!0},((l,u,h)=>{const p=Rs(l[1]),y=new Se(p);i=i.add(y)})).next((()=>i))}containsKey(e,t){const r=On(t.path),s=IDBKeyRange.bound([r],[dP(r)],!1,!0);let i=0;return Jo(e).ee({index:y_,X:!0,range:s},(([l,u],h,p)=>{l!==0&&(i++,p.done())})).next((()=>i>0))}At(e,t){return xl(e).get(t).next((r=>r?vu(r):null))}}function xl(n){return dn(n,Kl)}function zS(n){return dn(n,la)}function Jo(n){return dn(n,Zl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="LruGarbageCollector",$$=1048576;function $S([n,e],[t,r]){const s=Qe(n,t);return s===0?Qe(e,r):s}class B${constructor(e){this.Ir=e,this.buffer=new _t($S),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$S(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bA{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(US,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Si(t)?he(US,"Ignoring IndexedDB error during garbage collection: ",t):await ka(t)}await this.Vr(3e5)}))}}class q${constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Rr.ce);const r=new B$(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(jS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,l,u,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,l=Date.now(),this.nthSequenceNumber(e,s)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,t)))).next((m=>(i=m,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(p=Date.now(),Il()<=at.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${i} targets in `+(h-u)+`ms
	Removed ${m} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m}))))}}function SA(n,e){return new q$(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,t){this.db=e,this.garbageCollector=SA(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,s)=>t(s)))}addReference(e,t,r){return Wh(e,r)}removeReference(e,t,r){return Wh(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Wh(e,t)}br(e,t){return(function(s,i){let l=!1;return EA(s).te((u=>wA(s,u,i).next((h=>(h&&(l=!0),Z.resolve(!h)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((l,u)=>{if(u<=t){const h=this.br(e,l).next((p=>{if(!p)return i++,r.getEntry(e,l).next((()=>(r.removeEntry(l,je.min()),Jo(e).delete((function(m){return[0,On(m.path)]})(l)))))}));s.push(h)}})).next((()=>Z.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Wh(e,t)}Sr(e,t){const r=Jo(e);let s,i=Rr.ce;return r.ee({index:y_},(([l,u],{path:h,sequenceNumber:p})=>{l===0?(i!==Rr.ce&&t(new Se(Rs(s)),i),i=p,s=h):i=Rr.ce})).next((()=>{i!==Rr.ce&&t(new Se(Rs(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wh(n,e){return Jo(n).put((function(r,s){return{targetId:0,path:On(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.changes=new vo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Qi(e).put(r)}removeEntry(e,t,r){return Qi(e).delete((function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Hf(l),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Bt.newInvalidDocument(t);return Qi(e).ee({index:rf,range:IDBKeyRange.only(cu(t))},((s,i)=>{r=this.Cr(t,i)})).next((()=>r))}vr(e,t){let r={size:0,document:Bt.newInvalidDocument(t)};return Qi(e).ee({index:rf,range:IDBKeyRange.only(cu(t))},((s,i)=>{r={document:this.Cr(t,i),size:Gf(i)}})).next((()=>r))}getEntries(e,t){let r=kr();return this.Fr(e,t,((s,i)=>{const l=this.Cr(s,i);r=r.insert(s,l)})).next((()=>r))}Mr(e,t){let r=kr(),s=new jt(Se.comparator);return this.Fr(e,t,((i,l)=>{const u=this.Cr(i,l);r=r.insert(i,u),s=s.insert(i,Gf(l))})).next((()=>({documents:r,Or:s})))}Fr(e,t,r){if(t.isEmpty())return Z.resolve();let s=new _t(HS);t.forEach((h=>s=s.add(h)));const i=IDBKeyRange.bound(cu(s.first()),cu(s.last())),l=s.getIterator();let u=l.getNext();return Qi(e).ee({index:rf,range:i},((h,p,y)=>{const m=Se.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&HS(u,m)<0;)r(u,null),u=l.getNext();u&&u.isEqual(m)&&(r(u,p),u=l.hasNext()?l.getNext():null),u?y.j(cu(u)):y.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,i){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),Hf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qi(e).J(IDBKeyRange.bound(u,h,!0)).next((p=>{i?.incrementDocumentReadCount(p.length);let y=kr();for(const m of p){const E=this.Cr(Se.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);E.isFoundDocument()&&(fd(t,E)||s.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(e,t,r,s){let i=kr();const l=qS(t,r),u=qS(t,gr.max());return Qi(e).ee({index:yP,range:IDBKeyRange.bound(l,u,!0)},((h,p,y)=>{const m=this.Cr(Se.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);i=i.insert(m.key,m),i.size===s&&y.done()})).next((()=>i))}newChangeBuffer(e){return new G$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return BS(e).get(Uy).next((t=>(Ve(!!t,20021),t)))}Dr(e,t){return BS(e).put(Uy,t)}Cr(e,t){if(t){const r=k$(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(je.min())))return r}return Bt.newInvalidDocument(e)}}function IA(n){return new W$(n)}class G$ extends xA{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new vo((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new _t(((i,l)=>Qe(i.canonicalString(),l.canonicalString())));return this.changes.forEach(((i,l)=>{const u=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,u.readTime)),l.isValidDocument()){const h=TS(this.Nr.serializer,l);s=s.add(i.path.popLast());const p=Gf(h);r+=p-u.size,t.push(this.Nr.addEntry(e,i,h))}else if(r-=u.size,this.trackRemovals){const h=TS(this.Nr.serializer,l.convertToNoDocument(je.min()));t.push(this.Nr.addEntry(e,i,h))}})),s.forEach((i=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),t.push(this.Nr.updateMetadata(e,r)),Z.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:s})=>(s.forEach(((i,l)=>{this.Br.set(i,{size:l,readTime:r.get(i).readTime})})),r)))}}function BS(n){return dn(n,qu)}function Qi(n){return dn(n,Vf)}function cu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qS(n,e){const t=e.documentKey.path.toArray();return[n,Hf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function HS(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<t.length-2&&i<r.length-2;++i)if(s=Qe(t[i],r[i]),s)return s;return s=Qe(t.length,r.length),s||(s=Qe(t[t.length-2],r[r.length-2]),s||Qe(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Au(r.mutation,s,so.empty(),Ot.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=it()){const s=ks();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let l=gu();return i.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=ks();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,it())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,s){let i=kr();const l=Pu(),u=(function(){return Pu()})();return t.forEach(((h,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof hc)?i=i.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),Au(y.mutation,p,y.mutation.getFieldMask(),Ot.now())):l.set(p.key,so.empty())})),this.recalculateAndSaveOverlays(e,i).next((h=>(h.forEach(((p,y)=>l.set(p,y))),t.forEach(((p,y)=>u.set(p,new K$(y,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Pu();let s=new jt(((l,u)=>l-u)),i=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||so.empty();y=u.applyToLocalView(p,y),r.set(h,y);const m=(s.get(u.batchId)||it()).add(h);s=s.insert(u.batchId,m)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,y=h.value,m=WP();y.forEach((E=>{if(!i.has(E)){const x=QP(t.get(E),r.get(E));x!==null&&m.set(E,x),i=i.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,m))}return Z.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):Z.resolve(ks());let u=Uu,h=i;return l.next((p=>Z.forEach(p,((y,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),i.get(y)?Z.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{h=h.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,i))).next((()=>this.computeViews(e,h,p,it()))).next((y=>({batchId:u,changes:XU(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((r=>{let s=gu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let l=gu();return this.indexManager.getCollectionParents(e,i).next((u=>Z.forEach(u,(h=>{const p=(function(m,E){return new zp(E,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((y=>{y.forEach(((m,E)=>{l=l.insert(m,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((l=>{i.forEach(((h,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,Bt.newInvalidDocument(y)))}));let u=gu();return l.forEach(((h,p)=>{const y=i.get(h);y!==void 0&&Au(y.mutation,p,so.empty(),Ot.now()),fd(t,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:zn(s.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:mA(s.bundledQuery),readTime:zn(s.readTime)}})(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(){this.overlays=new jt(Se.comparator),this.qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ks();return Z.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.St(e,t,i)})),Z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const s=ks(),i=t.length+1,l=new Se(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new jt(((p,y)=>p-y));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=i.get(p.largestBatchId);y===null&&(y=ks(),i=i.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const u=ks(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,y)=>u.set(p,y))),!(u.size()>=s)););return Z.resolve(u)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new C_(t,r));let i=this.qr.get(t);i===void 0&&(i=it(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.Qr=new _t(vn.$r),this.Ur=new _t(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new vn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new vn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Se(new Et([])),r=new vn(t,e),s=new vn(t,e+1),i=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),i.push(l.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Se(new Et([])),r=new vn(t,e),s=new vn(t,e+1);let i=it();return this.Ur.forEachInRange([r,s],(l=>{i=i.add(l.key)})),i}containsKey(e){const t=new vn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Se.comparator(e.key,t.key)||Qe(e.Yr,t.Yr)}static Kr(e,t){return Qe(e.Yr,t.Yr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new _t(vn.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new I_(i,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new vn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return Z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?aa:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new vn(t,0),s=new vn(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);i.push(u)})),Z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _t(Qe);return t.forEach((s=>{const i=new vn(s,0),l=new vn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],(u=>{r=r.add(u.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;Se.isDocumentKey(i)||(i=i.child(""));const l=new vn(new Se(i),0);let u=new _t(Qe);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Yr)),!0)}),l),Z.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ve(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(t.mutations,(s=>{const i=new vn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new vn(t,0),s=this.Zr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this.ri=e,this.docs=(function(){return new jt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let r=kr();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bt.newInvalidDocument(s))})),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=kr();const l=t.path,u=new Se(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||m_(hP(y),r)<=0||(s.has(y.key)||fd(t,y))&&(i=i.insert(y.key,y.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,t,r,s){De(9500)}ii(e,t){return Z.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new eB(this)}getSize(e){return Z.resolve(this.size)}}class eB extends xA{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.persistence=e,this.si=new vo((t=>Ea(t)),hd),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new k_,this.targetCount=0,this.ai=xa.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new xa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Pr(t),Z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Z.waitFor(i).next((()=>s))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((l=>{i.push(s.markPotentiallyOrphaned(e,l))})),Z.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t){this.ui={},this.overlays={},this.ci=new Rr(0),this.li=!1,this.li=!0,this.hi=new Y$,this.referenceDelegate=e(this),this.Pi=new tB(this),this.indexManager=new j$,this.remoteDocumentCache=(function(s){return new J$(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new fA(t),this.Ii=new Z$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Q$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new X$(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const s=new nB(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,t){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class nB extends pP{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new k_,this.Vi=null}static mi(e){return new Kp(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const s=Se.fromPath(r);return this.gi(e,s).next((i=>{i||t.removeEntry(s,je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Z.or([()=>Z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Kf{constructor(e,t){this.persistence=e,this.pi=new vo((r=>On(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=SA(this,t)}static mi(e,t){return new Kf(e,t)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Z.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Z.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,i.removeEntry(l,je.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=of(e.data.value)),t}br(e,t,r){return Z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.serializer=e}k(e,t,r,s){const i=new Dp("createOrUpgrade",t);r<1&&s>=1&&((function(h){h.createObjectStore(ud)})(e),(function(h){h.createObjectStore(Bu,{keyPath:lU}),h.createObjectStore(Yr,{keyPath:nS,autoIncrement:!0}).createIndex(sa,rS,{unique:!0}),h.createObjectStore(Gl)})(e),WS(e),(function(h){h.createObjectStore(Ji)})(e));let l=Z.resolve();return r<3&&s>=3&&(r!==0&&((function(h){h.deleteObjectStore(Zl),h.deleteObjectStore(Kl),h.deleteObjectStore(la)})(e),WS(e)),l=l.next((()=>(function(h){const p=h.store(la),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:je.min().toTimestamp(),targetCount:0};return p.put(Lf,y)})(i)))),r<4&&s>=4&&(r!==0&&(l=l.next((()=>(function(h,p){return p.store(Yr).J().next((m=>{h.deleteObjectStore(Yr),h.createObjectStore(Yr,{keyPath:nS,autoIncrement:!0}).createIndex(sa,rS,{unique:!0});const E=p.store(Yr),x=m.map((A=>E.put(A)));return Z.waitFor(x)}))})(e,i)))),l=l.next((()=>{(function(h){h.createObjectStore(Ql,{keyPath:yU})})(e)}))),r<5&&s>=5&&(l=l.next((()=>this.yi(i)))),r<6&&s>=6&&(l=l.next((()=>((function(h){h.createObjectStore(qu)})(e),this.wi(i))))),r<7&&s>=7&&(l=l.next((()=>this.Si(i)))),r<8&&s>=8&&(l=l.next((()=>this.bi(e,i)))),r<9&&s>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(l=l.next((()=>this.Di(i)))),r<11&&s>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(Mp,{keyPath:vU})})(e),(function(h){h.createObjectStore(Vp,{keyPath:_U})})(e)}))),r<12&&s>=12&&(l=l.next((()=>{(function(h){const p=h.createObjectStore(Lp,{keyPath:TU});p.createIndex(By,CU,{unique:!1}),p.createIndex(EP,PU,{unique:!1})})(e)}))),r<13&&s>=13&&(l=l.next((()=>(function(h){const p=h.createObjectStore(Vf,{keyPath:uU});p.createIndex(rf,dU),p.createIndex(yP,hU)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(Ji)))),r<14&&s>=14&&(l=l.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(l=l.next((()=>(function(h){h.createObjectStore(v_,{keyPath:wU,autoIncrement:!0}).createIndex($y,EU,{unique:!1}),h.createObjectStore(xu,{keyPath:bU}).createIndex(_P,SU,{unique:!1}),h.createObjectStore(Iu,{keyPath:xU}).createIndex(wP,IU,{unique:!1})})(e)))),r<16&&s>=16&&(l=l.next((()=>{t.objectStore(xu).clear()})).next((()=>{t.objectStore(Iu).clear()}))),r<17&&s>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(__,{keyPath:AU})})(e)}))),r<18&&s>=18&&KC()&&(l=l.next((()=>{t.objectStore(xu).clear()})).next((()=>{t.objectStore(Iu).clear()}))),l}wi(e){let t=0;return e.store(Ji).ee(((r,s)=>{t+=Gf(s)})).next((()=>{const r={byteSize:t};return e.store(qu).put(Uy,r)}))}yi(e){const t=e.store(Bu),r=e.store(Yr);return t.J().next((s=>Z.forEach(s,(i=>{const l=IDBKeyRange.bound([i.userId,aa],[i.userId,i.lastAcknowledgedBatchId]);return r.J(sa,l).next((u=>Z.forEach(u,(h=>{Ve(h.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const p=ta(this.serializer,h);return _A(e,i.userId,p).next((()=>{}))}))))}))))}Si(e){const t=e.store(Zl),r=e.store(Ji);return e.store(la).get(Lf).next((s=>{const i=[];return r.ee(((l,u)=>{const h=new Et(l),p=(function(m){return[0,On(m)]})(h);i.push(t.get(p).next((y=>y?Z.resolve():(m=>t.put({targetId:0,path:On(m),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>Z.waitFor(i)))}))}bi(e,t){e.createObjectStore(Hu,{keyPath:gU});const r=t.store(Hu),s=new R_,i=l=>{if(s.add(l)){const u=l.lastSegment(),h=l.popLast();return r.put({collectionId:u,parent:On(h)})}};return t.store(Ji).ee({X:!0},((l,u)=>{const h=new Et(l);return i(h.popLast())})).next((()=>t.store(Gl).ee({X:!0},(([l,u,h],p)=>{const y=Rs(u);return i(y.popLast())}))))}Di(e){const t=e.store(Kl);return t.ee(((r,s)=>{const i=vu(s),l=pA(this.serializer,i);return t.put(l)}))}Ci(e,t){const r=t.store(Ji),s=[];return r.ee(((i,l)=>{const u=t.store(Vf),h=(function(m){return m.document?new Se(Et.fromString(m.document.name).popFirst(5)):m.noDocument?Se.fromSegments(m.noDocument.path):m.unknownDocument?Se.fromSegments(m.unknownDocument.path):De(36783)})(l).path.toArray(),p={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(u.put(p))})).next((()=>Z.waitFor(s)))}Fi(e,t){const r=t.store(Yr),s=IA(this.serializer),i=new N_(Kp.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((h=>{let p=u.get(h.userId)??it();ta(this.serializer,h).keys().forEach((y=>p=p.add(y))),u.set(h.userId,p)})),Z.forEach(u,((h,p)=>{const y=new Sn(p),m=Wp.wt(this.serializer,y),E=i.getIndexManager(y),x=Gp.wt(y,this.serializer,E,i.referenceDelegate);return new TA(s,x,m,E).recalculateAndSaveOverlaysForDocumentKeys(new qy(t,Rr.ce),h).next()}))}))}}function WS(n){n.createObjectStore(Zl,{keyPath:pU}).createIndex(y_,mU,{unique:!0}),n.createObjectStore(Kl,{keyPath:"targetId"}).createIndex(vP,fU,{unique:!0}),n.createObjectStore(la)}const Qo="IndexedDbPersistence",ny=18e5,ry=5e3,sy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sB="main";class D_{constructor(e,t,r,s,i,l,u,h,p,y,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=i,this.window=l,this.document=u,this.xi=p,this.Oi=y,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!D_.v())throw new Pe(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new H$(this,s),this.$i=t+sB,this.serializer=new fA(h),this.Ui=new di(this.$i,this.Ni,new rB(this.serializer)),this.hi=new D$,this.Pi=new U$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=IA(this.serializer),this.Ii=new N$,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,y===!1&&jn(Qo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(oe.FAILED_PRECONDITION,sy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Rr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Gh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Si(e))return he(Qo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(Qo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return uu(e).get(_l).next((t=>Z.resolve(this.es(t))))}ts(e){return Gh(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,ny)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=dn(t,Ql);return r.J().next((s=>{const i=this.ss(s,ny),l=s.filter((u=>i.indexOf(u)===-1));return Z.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Z.resolve(!0):uu(e).get(_l).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ry)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new Pe(oe.FAILED_PRECONDITION,sy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gh(e).J().next((r=>this.ss(r,ry).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||l&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&he(Qo,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[ud,Ql],(e=>{const t=new qy(e,Rr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Gh(e).J().next((t=>this.ss(t,ny).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Gp.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new z$(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Wp.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){he(Qo,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",i=(function(h){return h===18?NU:h===17?IP:h===16?kU:h===15?w_:h===14?xP:h===13?SP:h===12?RU:h===11?bP:void De(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,s,i,(u=>(l=new qy(u,this.ci?this.ci.next():Rr.ce),t==="readwrite-primary"?this.Hi(l).next((h=>!!h||this.Yi(l))).next((h=>{if(!h)throw jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Pe(oe.FAILED_PRECONDITION,fP);return r(l)})).next((h=>this.Xi(l).next((()=>h)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return uu(e).get(_l).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ry)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pe(oe.FAILED_PRECONDITION,sy)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uu(e).put(_l,t)}static v(){return di.v()}Zi(e){const t=uu(e);return t.get(_l).next((r=>this.es(r)?(he(Qo,"Releasing primary lease."),t.delete(_l)):Z.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(jn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;GC()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return he(Qo,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return jn(Qo,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){jn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uu(n){return dn(n,ud)}function Gh(n){return dn(n,Ql)}function oB(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=it(),s=it();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new O_(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GC()?8:mP(un())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next((l=>{i.result=l})).next((()=>{if(!i.result)return this.ws(e,t,s,r).next((l=>{i.result=l}))})).next((()=>{if(i.result)return;const l=new iB;return this.Ss(e,t,l).next((u=>{if(i.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>i.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Il()<=at.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Il()<=at.DEBUG&&he("QueryEngine","Query:",Tl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Il()<=at.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):Z.resolve())}ys(e,t){if(gS(t))return Z.resolve(null);let r=Dr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Qy(t,null,"F"),r=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const l=it(...i);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,u);return this.Cs(t,p,l,h.readTime)?this.ys(e,Qy(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,s){return gS(t)||s.isEqual(je.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((i=>{const l=this.Ds(t,i);return this.Cs(t,l,r,s)?Z.resolve(null):(Il()<=at.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Tl(t)),this.vs(e,l,t,nU(s,Uu)).next((u=>u)))}))}Ds(e,t){let r=new _t(qP(e));return t.forEach(((s,i)=>{fd(e,i)&&(r=r.add(i))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return Il()<=at.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.ps.getDocumentsMatchingQuery(e,t,gr.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((l=>{i=i.insert(l.key,l)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="LocalStore",aB=3e8;class lB{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new jt(Qe),this.xs=new vo((i=>Ea(i)),hd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function PA(n,e,t,r){return new lB(n,e,t,r)}async function AA(n,e){const t=Ye(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const l=[],u=[];let h=it();for(const p of s){l.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of i){u.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function cB(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,y){const m=p.batch,E=m.keys();let x=Z.resolve();return E.forEach((A=>{x=x.next((()=>y.getEntry(h,A))).next((C=>{const R=p.docVersions.get(A);Ve(R!==null,48541),C.version.compareTo(R)<0&&(m.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),y.addEntry(C)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(h,m)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=it();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function RA(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function uB(n,e){const t=Ye(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((y,m)=>{const E=s.get(m);if(!E)return;u.push(t.Pi.removeMatchingKeys(i,y.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(i,y.addedDocuments,m))));let x=E.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(rn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),s=s.insert(m,x),(function(C,R,D){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=aB?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(E,x,y)&&u.push(t.Pi.updateTargetData(i,x))}));let h=kr(),p=it();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(i,y))})),u.push(dB(i,l,e.documentUpdates).next((y=>{h=y.ks,p=y.qs}))),!r.isEqual(je.min())){const y=t.Pi.getLastRemoteSnapshotVersion(i).next((m=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(y)}return Z.waitFor(u).next((()=>l.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,h,p))).next((()=>h))})).then((i=>(t.Ms=s,i)))}function dB(n,e,t){let r=it(),s=it();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let l=kr();return t.forEach(((u,h)=>{const p=i.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):he(M_,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function hB(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=aa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fB(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((i=>i?(s=i,Z.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new oo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function sv(n,e,t){const r=Ye(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Si(l))throw l;he(M_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function GS(n,e,t){const r=Ye(n);let s=je.min(),i=it();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,y){const m=Ye(h),E=m.xs.get(y);return E!==void 0?Z.resolve(m.Ms.get(E)):m.Pi.getTargetData(p,y)})(r,l,Dr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{i=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:je.min(),t?i:it()))).next((u=>(pB(r,ZU(e),u),{documents:u,Qs:i})))))}function pB(n,e,t){let r=n.Os.get(e)||je.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(e,r)}class KS{constructor(){this.activeTargetIds=n$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kA{constructor(){this.Mo=new KS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="ConnectivityMonitor";class QS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(ZS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(ZS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function ov(){return Kh===null?Kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="RestConnection",gB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ff?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const l=ov(),u=this.zo(e,t.toUriEncodedString());he(oy,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,i);const{host:p}=new URL(u),y=cc(p);return this.Jo(e,u,h,r,y).then((m=>(he(oy,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw _a(oy,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,t,r,s,i,l){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,t){const r=gB[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class _B extends yB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const l=ov();return new Promise(((u,h)=>{const p=new rP;p.setWithCredentials(!0),p.listenOnce(sP.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ef.NO_ERROR:const m=p.getResponseJson();he(kn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case ef.TIMEOUT:he(kn,`RPC '${e}' ${l} timed out`),h(new Pe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const E=p.getStatus();if(he(kn,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x?.error;if(A&&A.status&&A.message){const C=(function(D){const M=D.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(M)>=0?M:oe.UNKNOWN})(A.status);h(new Pe(C,A.message))}else h(new Pe(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Pe(oe.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(kn,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(s);he(kn,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",y,r,15)}))}T_(e,t,r){const s=ov(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=aP(),u=iP(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=i.join("");he(kn,`Creating RPC '${e}' stream ${s}: ${y}`,h);const m=l.createWebChannel(y,h);this.I_(m);let E=!1,x=!1;const A=new vB({Yo:R=>{x?he(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(E||(he(kn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),E=!0),he(kn,`RPC '${e}' stream ${s} sending:`,R),m.send(R))},Zo:()=>m.close()}),C=(R,D,M)=>{R.listen(D,(z=>{try{M(z)}catch(U){setTimeout((()=>{throw U}),0)}}))};return C(m,mu.EventType.OPEN,(()=>{x||(he(kn,`RPC '${e}' stream ${s} transport opened.`),A.o_())})),C(m,mu.EventType.CLOSE,(()=>{x||(x=!0,he(kn,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(m))})),C(m,mu.EventType.ERROR,(R=>{x||(x=!0,_a(kn,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),A.a_(new Pe(oe.UNAVAILABLE,"The operation could not be completed")))})),C(m,mu.EventType.MESSAGE,(R=>{if(!x){const D=R.data[0];Ve(!!D,16349);const M=D,z=M?.error||M[0]?.error;if(z){he(kn,`RPC '${e}' stream ${s} received error:`,z);const U=z.status;let $=(function(T){const N=tn[T];if(N!==void 0)return JP(N)})(U),K=z.message;$===void 0&&($=oe.INTERNAL,K="Unknown error status: "+U+" with message "+z.message),x=!0,A.a_(new Pe($,K)),m.close()}else he(kn,`RPC '${e}' stream ${s} received:`,D),A.u_(D)}})),C(u,oP.STAT_EVENT,(R=>{R.stat===Fy.PROXY?he(kn,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===Fy.NOPROXY&&he(kn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(){return typeof window<"u"?window:null}function uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n){return new w$(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="PersistentStream";class OA{constructor(e,t,r,s,i,l,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(jn(t.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new Pe(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(YS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(YS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EB extends OA{constructor(e,t,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=x$(this.serializer,e),r=(function(i){if(!("targetChange"in i))return je.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?zn(l.readTime):je.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Jy(this.serializer),t.addTarget=(function(i,l){let u;const h=l.target;if(u=zf(h)?{documents:aA(i,h)}:{query:lA(i,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=E$(i,l.resumeToken);const p=Yy(i,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=$f(i,l.snapshotVersion.toTimestamp());const p=Yy(i,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=T$(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Jy(this.serializer),t.removeTarget=e,this.q_(t)}}class bB extends OA{constructor(e,t,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=I$(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Jy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>qf(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{}class xB extends SB{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Pe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,l])=>this.connection.Go(e,Xy(t,r),s,i,l))).catch((i=>{throw i.name==="FirebaseError"?(i.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Pe(oe.UNKNOWN,i.toString())}))}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Xy(t,r),s,l,u,i))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(oe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jn(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class TB{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Na(this)&&(he(Ia,"Restarting streams for network reachability change."),await(async function(h){const p=Ye(h);p.Ea.add(4),await gd(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Zp(p)})(this))}))})),this.Ra=new IB(r,s)}}async function Zp(n){if(Na(n))for(const e of n.da)await e(!0)}async function gd(n){for(const e of n.da)await e(!1)}function MA(n,e){const t=Ye(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),j_(t)?F_(t):fc(t).O_()&&L_(t,e))}function V_(n,e){const t=Ye(n),r=fc(t);t.Ia.delete(e),r.O_()&&VA(t,e),t.Ia.size===0&&(r.O_()?r.L_():Na(t)&&t.Ra.set("Unknown"))}function L_(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fc(n).Y_(e)}function VA(n,e){n.Va.Ue(e),fc(n).Z_(e)}function F_(n){n.Va=new g$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),fc(n).start(),n.Ra.ua()}function j_(n){return Na(n)&&!fc(n).x_()&&n.Ia.size>0}function Na(n){return Ye(n).Ea.size===0}function LA(n){n.Va=void 0}async function CB(n){n.Ra.set("Online")}async function PB(n){n.Ia.forEach(((e,t)=>{L_(n,e)}))}async function AB(n,e){LA(n),j_(n)?(n.Ra.ha(e),F_(n)):n.Ra.set("Unknown")}async function RB(n,e,t){if(n.Ra.set("Online"),e instanceof tA&&e.state===2&&e.cause)try{await(async function(s,i){const l=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(n,e)}catch(r){he(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zf(n,r)}else if(e instanceof lf?n.Va.Ze(e):e instanceof eA?n.Va.st(e):n.Va.tt(e),!t.isEqual(je.min()))try{const r=await RA(n.localStore);t.compareTo(r)>=0&&await(function(i,l){const u=i.Va.Tt(l);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=i.Ia.get(p);y&&i.Ia.set(p,y.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,p)=>{const y=i.Ia.get(h);if(!y)return;i.Ia.set(h,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),VA(i,h);const m=new oo(y.target,h,p,y.sequenceNumber);L_(i,m)})),i.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){he(Ia,"Failed to raise snapshot:",r),await Zf(n,r)}}async function Zf(n,e,t){if(!Si(e))throw e;n.Ea.add(1),await gd(n),n.Ra.set("Offline"),t||(t=()=>RA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(Ia,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Zp(n)}))}function FA(n,e){return e().catch((t=>Zf(n,t,e)))}async function Qp(n){const e=Ye(n),t=vi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:aa;for(;kB(e);)try{const s=await hB(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,NB(e,s)}catch(s){await Zf(e,s)}jA(e)&&zA(e)}function kB(n){return Na(n)&&n.Ta.length<10}function NB(n,e){n.Ta.push(e);const t=vi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function jA(n){return Na(n)&&!vi(n).x_()&&n.Ta.length>0}function zA(n){vi(n).start()}async function DB(n){vi(n).ra()}async function OB(n){const e=vi(n);for(const t of n.Ta)e.ea(t.mutations)}async function MB(n,e,t){const r=n.Ta.shift(),s=T_.from(r,e,t);await FA(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Qp(n)}async function VB(n,e){e&&vi(n).X_&&await(async function(r,s){if((function(l){return f$(l)&&l!==oe.ABORTED})(s.code)){const i=r.Ta.shift();vi(r).B_(),await FA(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Qp(r)}})(n,e),jA(n)&&zA(n)}async function XS(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),he(Ia,"RemoteStore received new credentials");const r=Na(t);t.Ea.add(3),await gd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Zp(t)}async function LB(n,e){const t=Ye(n);e?(t.Ea.delete(2),await Zp(t)):e||(t.Ea.add(2),await gd(t),t.Ra.set("Unknown"))}function fc(n){return n.ma||(n.ma=(function(t,r,s){const i=Ye(t);return i.sa(),new EB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:CB.bind(null,n),t_:PB.bind(null,n),r_:AB.bind(null,n),H_:RB.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),j_(n)?F_(n):n.Ra.set("Unknown")):(await n.ma.stop(),LA(n))}))),n.ma}function vi(n){return n.fa||(n.fa=(function(t,r,s){const i=Ye(t);return i.sa(),new bB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:DB.bind(null,n),r_:VB.bind(null,n),ta:OB.bind(null,n),na:MB.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Qp(n)):(await n.fa.stop(),n.Ta.length>0&&(he(Ia,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const l=Date.now()+r,u=new z_(e,t,l,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UA(n,e){if(jn("AsyncQueue",`${e}: ${n}`),Si(n))return new Pe(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{static emptySet(e){return new Ml(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=gu(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.ga=new jt(Se.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class nc{constructor(e,t,r,s,i,l,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,i){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new nc(e,t,Ml.emptySet(t),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class jB{constructor(){this.queries=ex(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ye(t),i=s.queries;s.queries=ex(),i.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new Pe(oe.ABORTED,"Firestore shutting down"))}}function ex(){return new vo((n=>BP(n)),$p)}async function zB(n,e){const t=Ye(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new FB,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=UA(l,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&U_(t)}async function UB(n,e){const t=Ye(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const l=i.Sa.indexOf(e);l>=0&&(i.Sa.splice(l,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function $B(n,e){const t=Ye(n);let r=!1;for(const s of e){const i=s.query,l=t.queries.get(i);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&U_(t)}function BB(n,e,t){const r=Ye(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function U_(n){n.Ca.forEach((e=>{e.next()}))}var iv,tx;(tx=iv||(iv={})).Ma="default",tx.Cache="cache";class qB{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==iv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.key=e}}class BA{constructor(e){this.key=e}}class HB{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=it(),this.mutatedKeys=it(),this.eu=qP(e),this.tu=new Ml(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new JS,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,m)=>{const E=s.get(y),x=fd(this.query,m)?m:null,A=!!E&&this.mutatedKeys.has(E.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;E&&x?E.data.isEqual(x.data)?A!==C&&(r.track({type:3,doc:x}),R=!0):this.su(E,x)||(r.track({type:2,doc:x}),R=!0,(h&&this.eu(x,h)>0||p&&this.eu(x,p)<0)&&(u=!0)):!E&&x?(r.track({type:0,doc:x}),R=!0):E&&!x&&(r.track({type:1,doc:E}),R=!0,(h||p)&&(u=!0)),R&&(x?(l=l.add(x),i=C?i.add(y):i.delete(y)):(l=l.delete(y),i=i.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),i=i.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Cs:u,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((y,m)=>(function(x,A){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:R})}};return C(x)-C(A)})(y.type,m.type)||this.eu(y.doc,m.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,p=h!==this.Za;return this.Za=h,l.length!==0||p?{snapshot:new nc(this.query,e.tu,i,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=it(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new BA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new $A(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=it();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return nc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $_="SyncEngine";class WB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class GB{constructor(e){this.key=e,this.hu=!1}}class KB{constructor(e,t,r,s,i,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new vo((u=>BP(u)),$p),this.Iu=new Map,this.Eu=new Set,this.du=new jt(Se.comparator),this.Au=new Map,this.Ru=new k_,this.Vu={},this.mu=new Map,this.fu=xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZB(n,e,t=!0){const r=ZA(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await qA(r,e,t,!0),s}async function QB(n,e){const t=ZA(n);await qA(t,e,!0,!1)}async function qA(n,e,t,r){const s=await fB(n.localStore,Dr(e)),i=s.targetId,l=n.sharedClientState.addLocalQueryTarget(i,t);let u;return r&&(u=await YB(n,e,i,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&MA(n.remoteStore,s),u}async function YB(n,e,t,r,s){n.pu=(m,E,x)=>(async function(C,R,D,M){let z=R.view.ru(D);z.Cs&&(z=await GS(C.localStore,R.query,!1).then((({documents:P})=>R.view.ru(P,z))));const U=M&&M.targetChanges.get(R.targetId),$=M&&M.targetMismatches.get(R.targetId)!=null,K=R.view.applyChanges(z,C.isPrimaryClient,U,$);return rx(C,R.targetId,K.au),K.snapshot})(n,m,E,x);const i=await GS(n.localStore,e,!0),l=new HB(e,i.Qs),u=l.ru(i.documents),h=md.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(u,n.isPrimaryClient,h);rx(n,t,p.au);const y=new WB(e,t,l);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function XB(n,e,t){const r=Ye(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((l=>!$p(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sv(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&V_(r.remoteStore,s.targetId),av(r,s.targetId)})).catch(ka)):(av(r,s.targetId),await sv(r.localStore,s.targetId,!0))}async function JB(n,e){const t=Ye(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),V_(t.remoteStore,r.targetId))}async function HA(n,e){const t=Ye(n);try{const r=await uB(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const l=t.Au.get(i);l&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ve(l.hu,14607):s.removedDocuments.size>0&&(Ve(l.hu,42227),l.hu=!1))})),await Yp(t,r,e)}catch(r){await ka(r)}}function nx(n,e,t){const r=Ye(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Ye(l);h.onlineState=u;let p=!1;h.queries.forEach(((y,m)=>{for(const E of m.Sa)E.va(u)&&(p=!0)})),p&&U_(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function e8(n,e,t){const r=Ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let l=new jt(Se.comparator);l=l.insert(i,Bt.newNoDocument(i,je.min()));const u=it().add(i),h=new Hp(je.min(),new Map,new jt(Qe),l,u);await HA(r,h),r.du=r.du.remove(i),r.Au.delete(e),B_(r)}else await sv(r.localStore,e,!1).then((()=>av(r,e,t))).catch(ka)}async function t8(n,e){const t=Ye(n),r=e.batch.batchId;try{const s=await cB(t.localStore,e);GA(t,r,null),WA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Yp(t,s)}catch(s){await ka(s)}}async function n8(n,e,t){const r=Ye(n);try{const s=await(function(l,u){const h=Ye(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return h.mutationQueue.lookupMutationBatch(p,u).next((m=>(Ve(m!==null,37113),y=m.keys(),h.mutationQueue.removeMutationBatch(p,m)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>h.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);GA(r,e,t),WA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Yp(r,s)}catch(s){await ka(s)}}function WA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function GA(n,e,t){const r=Ye(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function av(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||KA(n,r)}))}function KA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(V_(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),B_(n))}function rx(n,e,t){for(const r of t)r instanceof $A?(n.Ru.addReference(r.key,e),r8(n,r)):r instanceof BA?(he($_,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||KA(n,r.key)):De(19791,{wu:r})}function r8(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(he($_,"New document in limbo: "+t),n.Eu.add(r),B_(n))}function B_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Se(Et.fromString(e)),r=n.fu.next();n.Au.set(r,new GB(t)),n.du=n.du.insert(t,r),MA(n.remoteStore,new oo(Dr(Up(t.path)),r,"TargetPurposeLimboResolution",Rr.ce))}}async function Yp(n,e,t){const r=Ye(n),s=[],i=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){s.push(p);const y=O_.As(h.targetId,p);i.push(y)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(h,p){const y=Ye(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Z.forEach(p,(E=>Z.forEach(E.Es,(x=>y.persistence.referenceDelegate.addReference(m,E.targetId,x))).next((()=>Z.forEach(E.ds,(x=>y.persistence.referenceDelegate.removeReference(m,E.targetId,x)))))))))}catch(m){if(!Si(m))throw m;he(M_,"Failed to update sequence numbers: "+m)}for(const m of p){const E=m.targetId;if(!m.fromCache){const x=y.Ms.get(E),A=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(A);y.Ms=y.Ms.insert(E,C)}}})(r.localStore,i))}async function s8(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){he($_,"User change. New user:",e.toKey());const r=await AA(t.localStore,e);t.currentUser=e,(function(i,l){i.mu.forEach((u=>{u.forEach((h=>{h.reject(new Pe(oe.CANCELLED,l))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yp(t,r.Ls)}}function o8(n,e){const t=Ye(n),r=t.Au.get(e);if(r&&r.hu)return it().add(r.key);{let s=it();const i=t.Iu.get(e);if(!i)return s;for(const l of i){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function ZA(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e8.bind(null,e),e.Pu.H_=$B.bind(null,e.eventManager),e.Pu.yu=BB.bind(null,e.eventManager),e}function i8(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n8.bind(null,e),e}class Xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=NA(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return PA(this.persistence,new CA,e.initialUser,this.serializer)}Cu(e){return new N_(Kp.mi,this.serializer)}Du(e){return new kA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xu.provider={build:()=>new Xu};class a8 extends Xu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ve(this.persistence.referenceDelegate instanceof Kf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bA(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new N_((r=>Kf.mi(r,t)),this.serializer)}}class l8 extends Xu{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await i8(this.xu.syncEngine),await Qp(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return PA(this.persistence,new CA,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new bA(r,e.asyncQueue,t)}Mu(e,t){const r=new iU(t,this.persistence);return new oU(e.asyncQueue,r)}Cu(e){const t=oB(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new D_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,wB(),uf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new kA}}class Qf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s8.bind(null,this.syncEngine),await LB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jB})()}createDatastore(e){const t=NA(e.databaseInfo.databaseId),r=(function(i){return new _B(i)})(e.databaseInfo);return(function(i,l,u,h){return new xB(i,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,l,u){return new TB(r,s,i,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>nx(this.syncEngine,t,0)),(function(){return QS.v()?new QS:new mB})())}createSyncEngine(e,t){return(function(s,i,l,u,h,p,y){const m=new KB(s,i,l,u,h,p);return y&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ye(t);he(Ia,"RemoteStore shutting down."),r.Ea.add(5),await gd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qf.provider={build:()=>new Qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="FirestoreClient";class u8{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Sn.UNAUTHENTICATED,this.clientId=uP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async l=>{he(_i,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(_i,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=UA(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function iy(n,e){n.asyncQueue.verifyOperationInProgress(),he(_i,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await AA(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function sx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await d8(n);he(_i,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>XS(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>XS(e.remoteStore,s))),n._onlineComponents=e}async function d8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(_i,"Using user provided OfflineComponentProvider");try{await iy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;_a("Error using user provided cache. Falling back to memory cache: "+t),await iy(n,new Xu)}}else he(_i,"Using default OfflineComponentProvider"),await iy(n,new a8(void 0));return n._offlineComponents}async function h8(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(_i,"Using user provided OnlineComponentProvider"),await sx(n,n._uninitializedComponentsProvider._online)):(he(_i,"Using default OnlineComponentProvider"),await sx(n,new Qf))),n._onlineComponents}async function ox(n){const e=await h8(n),t=e.eventManager;return t.onListen=ZB.bind(null,e.syncEngine),t.onUnlisten=XB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JB.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firestore.googleapis.com",ax=!0;class lx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YA,this.ssl=ax}else this.host=e.host,this.ssl=e.ssl??ax;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$$)throw new Pe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class q_{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Bz;switch(r.type){case"firstParty":return new Gz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=ix.get(t);r&&(he("ComponentProvider","Removing Datastore"),ix.delete(t),r.terminate())})(this),Promise.resolve()}}function f8(n,e,t,r={}){n=Eu(n,q_);const s=cc(e),i=n._getSettings(),l={...i,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(qC(`https://${u}`),HC("Firestore",!0)),i.host!==YA&&i.host!==u&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...i,host:u,ssl:s,emulatorOptions:r};if(!ga(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Sn.MOCK_USER;else{p=y6(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Pe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Sn(m)}n._authCredentials=new qz(new cP(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xp(this.firestore,e,this._query)}}class pr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}toJSON(){return{type:pr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(cd(t,pr._jsonSchema))return new pr(e,r||null,new Se(Et.fromString(t.referencePath)))}}pr._jsonSchemaVersion="firestore/documentReference/1.0",pr._jsonSchema={type:nn("string",pr._jsonSchemaVersion),referencePath:nn("string")};class Vl extends Xp{constructor(e,t,r){super(e,t,Up(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new Se(e))}withConverter(e){return new Vl(this.firestore,e,this._path)}}function p8(n,e,...t){if(n=bi(n),n instanceof q_){const r=Et.fromString(e,...t);return Yb(r),new Vl(n,null,r)}{if(!(n instanceof pr||n instanceof Vl))throw new Pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Et.fromString(e,...t));return Yb(r),new Vl(n.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="AsyncQueue";class ux{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DA(this,"async_queue_retry"),this._c=()=>{const r=uf();r&&he(cx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=uf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=uf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Si(e))throw e;he(cx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,jn("INTERNAL UNHANDLED ERROR: ",dx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=z_.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&De(47125,{Pc:dx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function dx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(n,["next","error","complete"])}class Yf extends q_{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ux,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ux(e),this._firestoreClient=void 0,await e}}}function m8(n,e){const t=typeof n=="object"?n:JC(),r=typeof n=="string"?n:Ff,s=f_(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=m6("firestore");i&&f8(s,...i)}return s}function g8(n){if(n._terminated)throw new Pe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||XA(n),n._firestoreClient}function XA(n){const e=n._freezeSettings(),t=(function(s,i,l,u){return new MU(s,i,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,QA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new u8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}function y8(n,e){_a("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return v8(n,Qf.provider,{build:r=>new l8(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function v8(n,e,t){if((n=Eu(n,Yf))._firestoreClient||n._terminated)throw new Pe(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new Pe(oe.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},XA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ps(rn.fromBase64String(e))}catch(t){throw new Pe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ps(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cd(e,Ps._jsonSchema))return Ps.fromBase64String(e.bytes)}}Ps._jsonSchemaVersion="firestore/bytes/1.0",Ps._jsonSchema={type:nn("string",Ps._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(cd(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:nn("string",hi._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cd(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new fi(e.vectorValues);throw new Pe(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:nn("string",fi._jsonSchemaVersion),vectorValues:nn("object")};const _8=new RegExp("[~\\*/\\[\\]]");function w8(n,e,t){if(e.search(_8)>=0)throw fx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new JA(...e.split("."))._internalPath}catch{throw fx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function fx(n,e,t,r,s){let i=`Function ${e}() called with invalid data`;i+=". ";let l="";return new Pe(oe.INVALID_ARGUMENT,i+n+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class E8 extends eR{data(){return super.data()}}function tR(n,e){return typeof e=="string"?w8(n,e):e instanceof JA?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Pe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S8{convertValue(e,t="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return dd(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){const t=e.fields?.[Gu].arrayValue?.values?.map((r=>Dt(r.doubleValue)));return new fi(t)}convertGeoPoint(e){return new hi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Fp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const t=fo(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Et.fromString(e);Ve(hA(r),9688,{name:e});const s=new wa(r.get(1),r.get(3)),i=new Se(r.popFirst(5));return s.isEqual(t)||jn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class _u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends eR{constructor(e,t,r,s,i,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ua._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:nn("string",ua._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class df extends ua{data(e={}){return super.data(e)}}class Ll{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new _u(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new df(this._firestore,this._userDataWriter,r.key,r,new _u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new df(s._firestore,s._userDataWriter,u.doc.key,u.doc,new _u(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>i||u.type!==3)).map((u=>{const h=new df(s._firestore,s._userDataWriter,u.doc.key,u.doc,new _u(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:x8(u.type),doc:h,oldIndex:p,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uP.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}Ll._jsonSchemaVersion="firestore/querySnapshot/1.0",Ll._jsonSchema={type:nn("string",Ll._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class nR extends S8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}function I8(n,...e){n=bi(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||hx(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(hx(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let i,l,u;if(n instanceof pr)l=Eu(n.firestore,Yf),u=Up(n._key.path),i={next:h=>{e[r]&&e[r](T8(l,n,h))},error:e[r+1],complete:e[r+2]};else{const h=Eu(n,Xp);l=Eu(h.firestore,Yf),u=h._query;const p=new nR(l);i={next:y=>{e[r]&&e[r](new Ll(l,p,h,y))},error:e[r+1],complete:e[r+2]},b8(n._query)}return(function(p,y,m,E){const x=new c8(E),A=new qB(y,x,m);return p.asyncQueue.enqueueAndForget((async()=>zB(await ox(p),A))),()=>{x.Nu(),p.asyncQueue.enqueueAndForget((async()=>UB(await ox(p),A)))}})(g8(l),u,s,i)}function T8(n,e,t){const r=t.docs.get(e._key),s=new nR(n);return new ua(n,s,e._key,r,new _u(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){dc=s})(uc),Hl(new ya("firestore",((r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),u=new Yf(new Hz(r.getProvider("auth-internal")),new Kz(l,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Pe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(p.options.projectId,y)})(l,s),l);return i={useFetchStreams:t,...i},u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),ci(Gb,Kb,e),ci(Gb,Kb,"esm2020")})();function rR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C8=rR,sR=new ad("auth","Firebase",rR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=new d_("@firebase/auth");function P8(n,...e){Xf.logLevel<=at.WARN&&Xf.warn(`Auth (${uc}): ${n}`,...e)}function hf(n,...e){Xf.logLevel<=at.ERROR&&Xf.error(`Auth (${uc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(n,...e){throw H_(n,...e)}function Ds(n,...e){return H_(n,...e)}function oR(n,e,t){const r={...C8(),[e]:t};return new ad("auth","Firebase",r).create(e,{appName:n.name})}function da(n){return oR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sR.create(n,...e)}function We(n,e,...t){if(!n)throw H_(e,...t)}function io(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hf(e),new Error(e)}function go(n,e){n||io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){return typeof self<"u"&&self.location?.href||""}function A8(){return px()==="http:"||px()==="https:"}function px(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A8()||b6()||"connection"in navigator)?navigator.onLine:!0}function k8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t){this.shortDelay=e,this.longDelay=t,go(t>e,"Short delay should be less than long delay!"),this.isMobile=w6()||S6()}get(){return R8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(n,e){go(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O8=new yd(3e4,6e4);function G_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function pc(n,e,t,r,s={}){return aR(n,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const u=ld({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...i};return E6()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&cc(n.emulatorConfig.host)&&(p.credentials="include"),iR.fetch()(await lR(n,n.config.apiHost,t,u),p)})}async function aR(n,e,t){n._canInitEmulator=!1;const r={...N8,...e};try{const s=new V8(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw Zh(n,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const u=i.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Zh(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Zh(n,"user-disabled",l);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw oR(n,y,p);mo(n,y)}}catch(s){if(s instanceof yo)throw s;mo(n,"network-request-failed",{message:String(s)})}}async function M8(n,e,t,r,s={}){const i=await pc(n,e,t,r,s);return"mfaPendingCredential"in i&&mo(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function lR(n,e,t,r){const s=`${e}${t}?${r}`,i=n,l=i.config.emulator?W_(n.config,s):`${n.config.apiScheme}://${s}`;return D8.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(l).toString():l}class V8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ds(this.auth,"network-request-failed")),O8.get())})}}function Zh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ds(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L8(n,e){return pc(n,"POST","/v1/accounts:delete",e)}async function Jf(n,e){return pc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F8(n,e=!1){const t=bi(n),r=await t.getIdToken(e),s=K_(r);We(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i?.sign_in_provider;return{claims:s,token:r,authTime:Ru(ay(s.auth_time)),issuedAtTime:Ru(ay(s.iat)),expirationTime:Ru(ay(s.exp)),signInProvider:l||null,signInSecondFactor:i?.sign_in_second_factor||null}}function ay(n){return Number(n)*1e3}function K_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const s=jC(t);return s?JSON.parse(s):(hf("Failed to decode base64 JWT payload"),null)}catch(s){return hf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function mx(n){const e=K_(n);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof yo&&j8(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function j8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ep(n){const e=n.auth,t=await n.getIdToken(),r=await Ju(n,Jf(e,{idToken:t}));We(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=s.providerUserInfo?.length?cR(s.providerUserInfo):[],l=$8(n.providerData,i),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,p=u?h:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new cv(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function U8(n){const e=bi(n);await ep(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $8(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function cR(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(n,e){const t=await aR(n,{},async()=>{const r=ld({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,l=await lR(n,s,"/v1/token",`key=${i}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&cc(n.emulatorConfig.host)&&(h.credentials="include"),iR.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function q8(n,e){return pc(n,"POST","/v2/accounts:revokeToken",G_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=mx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await B8(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,l=new Fl;return r&&(We(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(We(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fl,this.toJSON())}_performRefresh(){return io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(n,e){We(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jr{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new z8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ju(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return F8(this,e)}reload(){return U8(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ep(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cs(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await Ju(this,L8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:m,emailVerified:E,isAnonymous:x,providerData:A,stsTokenManager:C}=t;We(m&&C,e,"internal-error");const R=Fl.fromJSON(this.name,C);We(typeof m=="string",e,"internal-error"),Yo(r,e.name),Yo(s,e.name),We(typeof E=="boolean",e,"internal-error"),We(typeof x=="boolean",e,"internal-error"),Yo(i,e.name),Yo(l,e.name),Yo(u,e.name),Yo(h,e.name),Yo(p,e.name),Yo(y,e.name);const D=new Jr({uid:m,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:i,tenantId:u,stsTokenManager:R,createdAt:p,lastLoginAt:y});return A&&Array.isArray(A)&&(D.providerData=A.map(M=>({...M}))),h&&(D._redirectEventId=h),D}static async _fromIdTokenResponse(e,t,r=!1){const s=new Fl;s.updateFromServerResponse(t);const i=new Jr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ep(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];We(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?cR(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!i?.length,u=new Fl;u.updateFromIdToken(r);const h=new Jr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new cv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new Map;function ao(n){go(n instanceof Function,"Expected a class definition");let e=gx.get(n);return e?(go(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uR.type="NONE";const yx=uR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(n,e,t){return`firebase:${n}:${e}:${t}`}class jl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ff(this.userKey,s.apiKey,i),this.fullPersistenceKey=ff("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Jf(this.auth,{idToken:e}).catch(()=>{});return t?Jr._fromGetAccountInfoResponse(this.auth,t,e):null}return Jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new jl(ao(yx),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let i=s[0]||ao(yx);const l=ff(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const y=await p._get(l);if(y){let m;if(typeof y=="string"){const E=await Jf(e,{idToken:y}).catch(()=>{});if(!E)break;m=await Jr._fromGetAccountInfoResponse(e,E,y)}else m=Jr._fromJSON(e,y);p!==i&&(u=m),i=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new jl(i,e,r):(i=h[0],u&&await i._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==i)try{await p._remove(l)}catch{}})),new jl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gR(e))return"Blackberry";if(yR(e))return"Webos";if(hR(e))return"Safari";if((e.includes("chrome/")||fR(e))&&!e.includes("edge/"))return"Chrome";if(mR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function dR(n=un()){return/firefox\//i.test(n)}function hR(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fR(n=un()){return/crios\//i.test(n)}function pR(n=un()){return/iemobile/i.test(n)}function mR(n=un()){return/android/i.test(n)}function gR(n=un()){return/blackberry/i.test(n)}function yR(n=un()){return/webos/i.test(n)}function Z_(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function H8(n=un()){return Z_(n)&&!!window.navigator?.standalone}function W8(){return x6()&&document.documentMode===10}function vR(n=un()){return Z_(n)||mR(n)||yR(n)||gR(n)||/windows phone/i.test(n)||pR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n,e=[]){let t;switch(n){case"Browser":t=vx(un());break;case"Worker":t=`${vx(un())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((l,u)=>{try{const h=e(i);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(n,e={}){return pc(n,"GET","/v2/passwordPolicy",G_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=6;class Q8{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Z8,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _x(this),this.idTokenSubscription=new _x(this),this.beforeStateQueue=new G8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ao(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Jf(this,{idToken:e}),r=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cs(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!i||i===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ep(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cs(this.app))return Promise.reject(da(this));const t=e?bi(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cs(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cs(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K8(this),t=new Q8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ad("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await q8(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ao(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[ao(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(u,this,"internal-error"),u.then(()=>{l||i(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_R(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&P8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Q_(n){return bi(n)}class _x{constructor(e){this.auth=e,this.observer=null,this.addObserver=R6(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X8(n){Y_=n}function J8(n){return Y_.loadJS(n)}function e7(){return Y_.gapiScript}function t7(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(n,e){const t=f_(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(ga(i,e??{}))return s;mo(s,"already-initialized")}return t.initialize({options:e})}function r7(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ao);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function s7(n,e,t){const r=Q_(n);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=wR(e),{host:l,port:u}=o7(e),h=u===null?"":`:${u}`,p={url:`${i}//${l}${h}/`},y=Object.freeze({host:l,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(ga(p,r.config.emulator)&&ga(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,cc(l)?(qC(`${i}//${l}${h}`),HC("Auth",!0)):i7()}function wR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function o7(n){const e=wR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:wx(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:wx(l)}}}function wx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function i7(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return io("not implemented")}_getIdTokenResponse(e){return io("not implemented")}_linkToIdToken(e,t){return io("not implemented")}_getReauthenticationResolver(e){return io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(n,e){return M8(n,"POST","/v1/accounts:signInWithIdp",G_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7="http://localhost";class Ta extends ER{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const l=new Ta(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return zl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,zl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zl(e,t)}buildRequest(){const e={requestUri:a7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ld(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends bR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends vd{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ta._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ti.credential(t,r)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends vd{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends vd{constructor(){super("twitter.com")}static credential(e,t){return Ta._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ri.credential(t,r)}catch{return null}}}ri.TWITTER_SIGN_IN_METHOD="twitter.com";ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Jr._fromIdTokenResponse(e,r,s),l=Ex(r);return new rc({user:i,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Ex(r);return new rc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Ex(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends yo{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,tp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new tp(e,t,r,s)}}function SR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?tp._fromErrorAndOperation(n,i,e,r):i})}async function l7(n,e,t=!1){const r=await Ju(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return rc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(n,e,t=!1){const{auth:r}=n;if(Cs(r.app))return Promise.reject(da(r));const s="reauthenticate";try{const i=await Ju(n,SR(r,s,e,n),t);We(i.idToken,r,"internal-error");const l=K_(i.idToken);We(l,r,"internal-error");const{sub:u}=l;return We(n.uid===u,r,"user-mismatch"),rc._forOperation(n,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&mo(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u7(n,e,t=!1){if(Cs(n.app))return Promise.reject(da(n));const r="signIn",s=await SR(n,r,e),i=await rc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function d7(n,e,t,r){return bi(n).onIdTokenChanged(e,t,r)}function h7(n,e,t){return bi(n).beforeAuthStateChanged(e,t)}const np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(np,"1"),this.storage.removeItem(np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=1e3,p7=10;class IR extends xR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);W8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,p7):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},f7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}IR.type="LOCAL";const m7=IR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR extends xR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}TR.type="SESSION";const CR=TR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Jp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(t.origin,i)),h=await g7(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((u,h)=>{const p=X_("",20);s.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(m){const E=m;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(E.data.response);break;default:clearTimeout(y),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return window}function v7(n){Os().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function _7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w7(){return navigator?.serviceWorker?.controller||null}function E7(){return PR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebaseLocalStorageDb",b7=1,rp="firebaseLocalStorage",RR="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function em(n,e){return n.transaction([rp],e?"readwrite":"readonly").objectStore(rp)}function S7(){const n=indexedDB.deleteDatabase(AR);return new _d(n).toPromise()}function uv(){const n=indexedDB.open(AR,b7);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(rp,{keyPath:RR})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(rp)?e(r):(r.close(),await S7(),e(await uv()))})})}async function bx(n,e,t){const r=em(n,!0).put({[RR]:e,value:t});return new _d(r).toPromise()}async function x7(n,e){const t=em(n,!1).get(e),r=await new _d(t).toPromise();return r===void 0?null:r.value}function Sx(n,e){const t=em(n,!0).delete(e);return new _d(t).toPromise()}const I7=800,T7=3;class kR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>T7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jp._getInstance(E7()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _7(),!this.activeServiceWorker)return;this.sender=new y7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uv();return await bx(e,np,"1"),await Sx(e,np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>bx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>x7(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Sx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=em(s,!1).getAll();return new _d(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kR.type="LOCAL";const C7=kR;new yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(n,e){return e?ao(e):(We(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends ER{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function A7(n){return u7(n.auth,new J_(n),n.bypassAuthState)}function R7(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),c7(t,new J_(n),n.bypassAuthState)}async function k7(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),l7(t,new J_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A7;case"linkViaPopup":case"linkViaRedirect":return k7;case"reauthViaPopup":case"reauthViaRedirect":return R7;default:mo(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=new yd(2e3,1e4);class kl extends NR{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){go(this.filter.length===1,"Popup operations only handle one event");const e=X_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N7.get())};e()}}kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7="pendingRedirect",pf=new Map;class O7 extends NR{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const r=await M7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M7(n,e){const t=F7(e),r=L7(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function V7(n,e){pf.set(n._key(),e)}function L7(n){return ao(n._redirectPersistence)}function F7(n){return ff(D7,n.config.apiKey,n.name)}async function j7(n,e,t=!1){if(Cs(n.app))return Promise.reject(da(n));const r=Q_(n),s=P7(r,e),l=await new O7(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=600*1e3;class U7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!DR(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ds(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z7&&this.cachedEventUids.clear(),this.cachedEventUids.has(xx(e))}saveEventToCache(e){this.cachedEventUids.add(xx(e)),this.lastProcessedEventTime=Date.now()}}function xx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function DR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function $7(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B7(n,e={}){return pc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H7=/^https?/;async function W7(n){if(n.config.emulator)return;const{authorizedDomains:e}=await B7(n);for(const t of e)try{if(G7(t))return}catch{}mo(n,"unauthorized-domain")}function G7(n){const e=lv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!H7.test(t))return!1;if(q7.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=new yd(3e4,6e4);function Ix(){const n=Os().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Z7(n){return new Promise((e,t)=>{function r(){Ix(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ix(),t(Ds(n,"network-request-failed"))},timeout:K7.get()})}if(Os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Os().gapi?.load)r();else{const s=t7("iframefcb");return Os()[s]=()=>{gapi.load?r():t(Ds(n,"network-request-failed"))},J8(`${e7()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw mf=null,e})}let mf=null;function Q7(n){return mf=mf||Z7(n),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7=new yd(5e3,15e3),X7="__/auth/iframe",J7="emulator/auth/iframe",eq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nq(n){const e=n.config;We(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?W_(e,J7):`https://${n.config.authDomain}/${X7}`,r={apiKey:e.apiKey,appName:n.name,v:uc},s=tq.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${ld(r).slice(1)}`}async function rq(n){const e=await Q7(n),t=Os().gapi;return We(t,n,"internal-error"),e.open({where:document.body,url:nq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eq,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=Ds(n,"network-request-failed"),u=Os().setTimeout(()=>{i(l)},Y7.get());function h(){Os().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oq=500,iq=600,aq="_blank",lq="http://localhost";class Tx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cq(n,e,t,r=oq,s=iq){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...sq,width:r.toString(),height:s.toString(),top:i,left:l},p=un().toLowerCase();t&&(u=fR(p)?aq:t),dR(p)&&(e=e||lq,h.scrollbars="yes");const y=Object.entries(h).reduce((E,[x,A])=>`${E}${x}=${A},`,"");if(H8(p)&&u!=="_self")return uq(e||"",u),new Tx(null);const m=window.open(e||"",u,y);We(m,n,"popup-blocked");try{m.focus()}catch{}return new Tx(m)}function uq(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq="__/auth/handler",hq="emulator/auth/handler",fq=encodeURIComponent("fac");async function Cx(n,e,t,r,s,i){We(n.config.authDomain,n,"auth-domain-config-required"),We(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:uc,eventId:s};if(e instanceof bR){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",A6(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,m]of Object.entries({}))l[y]=m}if(e instanceof vd){const y=e.getScopes().filter(m=>m!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const h=await n._getAppCheckToken(),p=h?`#${fq}=${encodeURIComponent(h)}`:"";return`${pq(n)}?${ld(u).slice(1)}${p}`}function pq({config:n}){return n.emulator?W_(n,hq):`https://${n.authDomain}/${dq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="webStorageSupport";class mq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CR,this._completeRedirectFn=j7,this._overrideRedirectResult=V7}async _openPopup(e,t,r,s){go(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await Cx(e,t,r,lv(),s);return cq(e,i,X_())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await Cx(e,t,r,lv(),s);return v7(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(go(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await rq(e),r=new U7(e);return t.register("authEvent",s=>(We(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ly,{type:ly},s=>{const i=s?.[0]?.[ly];i!==void 0&&t(!!i),mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=W7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vR()||hR()||Z_()}}const gq=mq;var Px="@firebase/auth",Ax="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _q(n){Hl(new ya("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_R(n)},p=new Y8(r,s,i,h);return r7(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Hl(new ya("auth-internal",e=>{const t=Q_(e.getProvider("auth").getImmediate());return(r=>new yq(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(Px,Ax,vq(n)),ci(Px,Ax,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=300,Eq=BC("authIdTokenMaxAge")||wq;let Rx=null;const bq=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Eq)return;const s=t?.token;Rx!==s&&(Rx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Sq(n=JC()){const e=f_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=n7(n,{popupRedirectResolver:gq,persistence:[C7,m7,CR]}),r=BC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=bq(i.toString());h7(t,l,()=>l(t.currentUser)),d7(t,u=>l(u))}}const s=UC("auth");return s&&s7(t,`http://${s}`),t}function xq(){return document.getElementsByTagName("head")?.[0]??document}X8({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Ds("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",xq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_q("Browser");const Iq={apiKey:"AIzaSyCQNrEeIPczFi_CnxuBUcpiuddAf3BAc_0",authDomain:"warehouse-management-sys-65aa1.firebaseapp.com",projectId:"warehouse-management-sys-65aa1",storageBucket:"warehouse-management-sys-65aa1.firebasestorage.app",messagingSenderId:"976861616922",appId:"1:976861616922:web:1ff327921558a528a1eaa3"};let cy,dv,Tq;try{cy=XC(Iq),dv=m8(cy),Tq=Sq(cy),y8(dv).catch(n=>{n.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):n.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser")})}catch(n){throw console.error("Firebase initialization error:",n),n}const Cq={INVENTORY:"inventory"};function Pq(n,e){return n<=0?"Critical":e?"Low Stock":"In Stock"}function Aq(n,e){return I8(p8(dv,Cq.INVENTORY),t=>{const r=[];t.forEach(s=>{const i=s.data();r.push({id:s.id,name:i.name,category:i.category,subcategory:i.subcategory,quantity:i.quantity||0,location:i.location,status:i.status||Pq(i.quantity||0,i.reorderRequired||!1),brand:i.brand||"",pricePerPiece:i.pricePerPiece||0,supplierId:i.supplierId||"",quantityPurchased:i.quantityPurchased||0,quantitySold:i.quantitySold||0,reorderRequired:i.reorderRequired||!1,photoUrl:i.photoUrl,description:i.description,archived:i.archived||!1,archivedAt:i.archivedAt})}),n(r)},e)}const OR=b.createContext(void 0);function Rq({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(null),[i,l]=b.useState(null),[u,h]=b.useState(null),[p,y]=b.useState({inventory:!0,orders:!0,shipments:!0,suppliers:!0}),m=b.useRef(null);b.useEffect(()=>(m.current=Aq(M=>{t(M),y(z=>({...z,inventory:!1}))},M=>{console.error("Firebase inventory subscription error:",M),y(z=>({...z,inventory:!1}))}),()=>{m.current&&m.current()}),[]),b.useEffect(()=>{E()},[]);async function E(){await Promise.all([A(),C(),R()])}async function x(){}async function A(){y(M=>({...M,orders:!0}));try{const M=await t6();s(M)}finally{y(M=>({...M,orders:!1}))}}async function C(){y(M=>({...M,shipments:!0}));try{const M=await n6();l(M)}finally{y(M=>({...M,shipments:!1}))}}async function R(){y(M=>({...M,suppliers:!0}));try{const M=await e6();h(M)}finally{y(M=>({...M,suppliers:!1}))}}const D={inventory:e,orders:r,shipments:i,suppliers:u,isLoading:p,setInventory:t,setOrders:s,setShipments:l,setSuppliers:h,refreshInventory:x,refreshOrders:A,refreshShipments:C,refreshSuppliers:R};return w.jsx(OR.Provider,{value:D,children:n})}function e0(){const n=b.useContext(OR);if(n===void 0)throw new Error("useAppContext must be used within an AppProvider");return n}function jW(){const{inventory:n,isLoading:e,setInventory:t,refreshInventory:r}=e0();return{inventory:n,isLoading:e.inventory,setInventory:t,refreshInventory:r}}function zW(){const{suppliers:n,isLoading:e,setSuppliers:t,refreshSuppliers:r}=e0();return{suppliers:n,isLoading:e.suppliers,setSuppliers:t,refreshSuppliers:r}}function kq(n,e=300){const[t,r]=b.useState(n);return b.useEffect(()=>{const s=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(s)}},[n,e]),t}const du="wms_recent_searches",Nq=10,Qh=2,hu=10,uy={inventory:{name:"Inventory",icon:ap,view:"inventory"},orders:{name:"Orders",icon:pv,view:"orders"},"purchase-orders":{name:"Purchase Orders",icon:fv,view:"purchase-orders"},shipments:{name:"Shipments",icon:mv,view:"shipments"},suppliers:{name:"Suppliers",icon:Bx,view:"suppliers"}},Dq=[{syntax:"status:critical",description:"Filter by status"},{syntax:"category:electronics",description:"Filter by category"},{syntax:"module:inventory",description:"Search in specific module"},{syntax:"supplier:ABC Corp",description:"Filter by supplier"},{syntax:"location:warehouse-a",description:"Filter by location"},{syntax:"price:>100",description:"Numeric range filter"}];function Oq({open:n,onOpenChange:e,onNavigate:t}){const[r,s]=b.useState(""),[i,l]=b.useState(0),[u,h]=b.useState(!1),[p,y]=b.useState([]),[m,E]=b.useState(!1),[x,A]=b.useState([]),C=b.useRef(null),R=b.useRef(null),{inventory:D,orders:M,shipments:z,suppliers:U}=e0(),{user:$}=od(),K=kq(r,300);b.useEffect(()=>{if($){const X=localStorage.getItem(du);if(X)try{const j=JSON.parse(X);A(j[$.id]||[])}catch{A([])}}},[$]),b.useEffect(()=>{n?(r6().then(y).catch(console.error),C.current?.focus()):(s(""),l(0),E(!1))},[n]);const P=b.useCallback(X=>{if(!$||X.length<Qh)return;const j=localStorage.getItem(du);let G={};if(j)try{G=JSON.parse(j)}catch{}const ie=(G[$.id]||[]).filter(xe=>xe!==X),fe=[X,...ie].slice(0,Nq);G[$.id]=fe,localStorage.setItem(du,JSON.stringify(G)),A(fe)},[$]),T=b.useCallback(()=>{if(!$)return;const X=localStorage.getItem(du);let j={};if(X)try{j=JSON.parse(X)}catch{}delete j[$.id],localStorage.setItem(du,JSON.stringify(j)),A([])},[$]),N=b.useCallback(X=>{const j=[];let G=X;const se=/(\w+):([<>=]*)([^\s]+)/g;let ie;for(;(ie=se.exec(X))!==null;){const[fe,xe,we,be]=ie;j.push({key:xe.toLowerCase(),value:be,operator:we}),G=G.replace(fe,"").trim()}return{filters:j,cleanQuery:G}},[]),V=b.useMemo(()=>{if(K.length<Qh)return[];h(!0);const{filters:X,cleanQuery:j}=N(K),G=j.toLowerCase(),se=[],ie=X.find(Ke=>Ke.key==="module")?.value.toLowerCase(),fe=X.find(Ke=>Ke.key==="status")?.value.toLowerCase(),xe=X.find(Ke=>Ke.key==="category")?.value.toLowerCase(),we=X.find(Ke=>Ke.key==="supplier")?.value.toLowerCase(),be=X.find(Ke=>Ke.key==="location")?.value.toLowerCase(),Ge=X.find(Ke=>Ke.key==="price");return(!ie||ie==="inventory")&&(D||[]).filter(ye=>{if(fe&&ye.status.toLowerCase()!==fe||xe&&ye.category.toLowerCase()!==xe||be&&!ye.location.toLowerCase().includes(be))return!1;if(Ge){const St=ye.pricePerPiece,hn=parseFloat(Ge.value);if(Ge.operator===">"&&St<=hn||Ge.operator==="<"&&St>=hn)return!1}return j?ye.id.toLowerCase().includes(G)||ye.name.toLowerCase().includes(G)||ye.brand.toLowerCase().includes(G)||ye.category.toLowerCase().includes(G)||ye.location.toLowerCase().includes(G):!0}).slice(0,hu).forEach(ye=>{const St=[];ye.id.toLowerCase().includes(G)&&St.push("ID"),ye.name.toLowerCase().includes(G)&&St.push("Name"),ye.brand.toLowerCase().includes(G)&&St.push("Brand"),se.push({id:ye.id,title:ye.name,subtitle:`${ye.id}  ${ye.brand}  ${ye.category}  ${ye.location}`,module:"inventory",moduleName:"Inventory",icon:ap,matchedFields:St})}),(!ie||ie==="orders")&&(M||[]).filter(ye=>fe&&ye.status.toLowerCase()!==fe?!1:j?ye.id.toLowerCase().includes(G)||ye.customer.toLowerCase().includes(G)||ye.status.toLowerCase().includes(G):!0).slice(0,hu).forEach(ye=>{se.push({id:ye.id,title:ye.customer,subtitle:`${ye.id}  ${ye.status}  ${ye.total}`,module:"orders",moduleName:"Orders",icon:pv,matchedFields:[]})}),(!ie||ie==="purchase-orders"||ie==="po")&&p.filter(ye=>fe&&ye.status.toLowerCase().replace(/\s/g,"-")!==fe||we&&!ye.supplierName.toLowerCase().includes(we)?!1:j?ye.id.toLowerCase().includes(G)||ye.supplierName.toLowerCase().includes(G)||ye.status.toLowerCase().includes(G):!0).slice(0,hu).forEach(ye=>{se.push({id:ye.id,title:`${ye.id} - ${ye.supplierName}`,subtitle:`${ye.status}  ${ye.totalAmount.toLocaleString()}`,module:"purchase-orders",moduleName:"Purchase Orders",icon:fv,matchedFields:[]})}),(!ie||ie==="shipments")&&(z||[]).filter(ye=>fe&&ye.status.toLowerCase().replace(/\s/g,"-")!==fe?!1:j?ye.id.toLowerCase().includes(G)||ye.orderId.toLowerCase().includes(G)||ye.destination.toLowerCase().includes(G)||ye.carrier.toLowerCase().includes(G):!0).slice(0,hu).forEach(ye=>{se.push({id:ye.id,title:`${ye.id}  ${ye.destination}`,subtitle:`Order: ${ye.orderId}  ${ye.carrier}  ${ye.status}`,module:"shipments",moduleName:"Shipments",icon:mv,matchedFields:[]})}),(!ie||ie==="suppliers")&&(U||[]).filter(ye=>fe&&ye.status.toLowerCase()!==fe||xe&&!ye.category.toLowerCase().includes(xe)?!1:j?ye.id.toLowerCase().includes(G)||ye.name.toLowerCase().includes(G)||ye.contact.toLowerCase().includes(G)||ye.email.toLowerCase().includes(G)||ye.category.toLowerCase().includes(G):!0).slice(0,hu).forEach(ye=>{se.push({id:ye.id,title:ye.name,subtitle:`${ye.id}  ${ye.contact}  ${ye.category}`,module:"suppliers",moduleName:"Suppliers",icon:Bx,matchedFields:[]})}),h(!1),se},[K,D,M,p,z,U,N]),F=b.useMemo(()=>{const X={inventory:[],orders:[],"purchase-orders":[],shipments:[],suppliers:[]};return V.forEach(j=>{X[j.module].push(j)}),X},[V]),B=b.useMemo(()=>Object.values(F).flat(),[F]),O=b.useMemo(()=>N(r).filters,[r,N]),Te=b.useCallback(X=>{P(r),t(uy[X.module].view,X.id),e(!1)},[r,P,t,e]),Be=b.useCallback(X=>{s(X)},[]),ve=b.useCallback(X=>{const j=new RegExp(`${X}:[^\\s]+\\s*`,"gi");s(G=>G.replace(j,"").trim())},[]);b.useEffect(()=>{const X=j=>{if(n)switch(j.key){case"ArrowDown":j.preventDefault(),l(G=>Math.min(G+1,B.length-1));break;case"ArrowUp":j.preventDefault(),l(G=>Math.max(G-1,0));break;case"Enter":j.preventDefault(),B[i]&&Te(B[i]);break;case"Escape":e(!1);break}};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[n,B,i,Te,e]),b.useEffect(()=>{l(0)},[B]);const Ee=(X,j)=>{if(!j||j.length<Qh)return X;const{cleanQuery:G}=N(j);if(!G)return X;const se=new RegExp(`(${G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return X.split(se).map((fe,xe)=>se.test(fe)?w.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-800 rounded px-0.5",children:fe},xe):fe)},W=r.length===0&&x.length>0,ne=r.length>=Qh&&V.length===0&&!u;return w.jsx(g9,{open:n,onOpenChange:e,children:w.jsxs(_9,{className:"max-w-2xl p-0 gap-0 overflow-hidden",children:[w.jsxs("div",{className:"flex items-center border-b px-4 py-3 gap-3",children:[w.jsx(yf,{className:"h-5 w-5 text-muted-foreground shrink-0"}),w.jsx(fu,{ref:C,value:r,onChange:X=>s(X.target.value),placeholder:"Search across all modules... (type ? for help)",className:"border-0 focus-visible:ring-0 p-0 h-auto text-base","aria-label":"Global search"}),u&&w.jsx(gf,{className:"h-4 w-4 animate-spin text-muted-foreground"}),w.jsx("button",{onClick:()=>E(!m),className:"p-1 hover:bg-muted rounded",title:"Show filter syntax help",children:w.jsx(v2,{className:"h-4 w-4 text-muted-foreground"})})]}),O.length>0&&w.jsx("div",{className:"flex flex-wrap gap-2 px-4 py-2 border-b bg-muted/30",children:O.map((X,j)=>w.jsxs(Db,{variant:"secondary",className:"gap-1 pr-1",children:[w.jsxs("span",{className:"font-medium",children:[X.key,":"]}),w.jsxs("span",{children:[X.operator||"",X.value]}),w.jsx("button",{onClick:()=>ve(X.key),className:"ml-1 hover:bg-muted rounded-full p-0.5",children:w.jsx(gv,{className:"h-3 w-3"})})]},j))}),m&&w.jsxs("div",{className:"px-4 py-3 border-b bg-blue-50 dark:bg-blue-950/30",children:[w.jsx("p",{className:"text-sm font-medium mb-2",children:"Filter Syntax:"}),w.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Dq.map((X,j)=>w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:X.syntax}),w.jsx("span",{className:"text-muted-foreground",children:X.description})]},j))})]}),w.jsxs(MC,{className:"max-h-[400px]",ref:R,children:[W&&w.jsxs("div",{className:"p-2",children:[w.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-1",children:[w.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Recent Searches"}),w.jsx("button",{onClick:T,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear all"})]}),x.map((X,j)=>w.jsxs("button",{onClick:()=>Be(X),className:"flex items-center gap-3 w-full px-3 py-2 text-left hover:bg-muted rounded-md transition-colors",children:[w.jsx(S2,{className:"h-4 w-4 text-muted-foreground"}),w.jsx("span",{className:"text-sm",children:X})]},j))]}),ne&&w.jsxs("div",{className:"p-8 text-center",children:[w.jsx(eN,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),w.jsxs("p",{className:"text-muted-foreground",children:['No results found for "',r,'"']}),w.jsxs("p",{className:"text-sm text-muted-foreground/70 mt-1",children:["Try different keywords or use filters like ",w.jsx("code",{className:"bg-muted px-1 rounded",children:"status:active"})]})]}),V.length>0&&w.jsx("div",{className:"p-2",children:Object.entries(F).filter(([,X])=>X.length>0).map(([X,j])=>w.jsxs("div",{className:"mb-4 last:mb-0",children:[w.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 mb-1",children:[(()=>{const G=uy[X].icon;return w.jsx(G,{className:"h-4 w-4 text-muted-foreground"})})(),w.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:uy[X].name}),w.jsx(Db,{variant:"secondary",className:"h-5 px-1.5 text-xs",children:j.length})]}),j.map((G,se)=>{const fe=B.indexOf(G)===i;return w.jsxs("button",{onClick:()=>Te(G),className:$e("flex items-start gap-3 w-full px-3 py-2 text-left rounded-md transition-colors",fe?"bg-primary/10 text-primary":"hover:bg-muted"),children:[w.jsx(G.icon,{className:"h-4 w-4 mt-0.5 shrink-0"}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("div",{className:"font-medium text-sm truncate",children:Ee(G.title,r)}),w.jsx("div",{className:"text-xs text-muted-foreground truncate",children:Ee(G.subtitle,r)})]})]},G.id)})]},X))}),r.length===0&&x.length===0&&w.jsxs("div",{className:"p-8 text-center",children:[w.jsx(yf,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),w.jsx("p",{className:"text-muted-foreground",children:"Start typing to search across all modules"}),w.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Search inventory, orders, purchase orders, shipments, and suppliers"})]})]}),w.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t bg-muted/30 text-xs text-muted-foreground",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),w.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),"to navigate"]}),w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Enter"}),"to select"]}),w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Esc"}),"to close"]})]}),w.jsxs("span",{children:[V.length," result",V.length!==1?"s":""]})]})]})})}function Mq(){const[n,e]=b.useState(!1);return b.useEffect(()=>{const t=r=>{(r.metaKey||r.ctrlKey)&&r.key==="k"&&(r.preventDefault(),e(s=>!s))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),{open:n,setOpen:e}}function Vq({setCurrentView:n,setCommandPaletteOpen:e}){const{user:t,logout:r}=od(),s=()=>{r(),Qr.success("Logged out successfully")};return w.jsxs("header",{className:"shrink-0 z-50 flex h-14 items-center gap-4 border-b bg-background px-4 sm:px-6",children:[w.jsxs("div",{className:"min-w-0 flex-1",children:[w.jsxs("h1",{className:"text-sm font-semibold truncate sm:text-base",children:[w.jsx("span",{className:"hidden lg:inline",children:"Warehouse Management System "}),w.jsx("span",{className:"lg:hidden",children:"WMS"})]}),w.jsx("p",{className:"text-xs text-muted-foreground truncate lg:hidden",children:"Inventory & Supply Chain"})]}),w.jsxs(ku,{variant:"outline",className:"hidden sm:flex w-64 justify-start text-muted-foreground gap-2",onClick:()=>e(!0),children:[w.jsx(yf,{className:"h-4 w-4 shrink-0"}),w.jsx("span",{className:"truncate",children:"Search everything..."}),w.jsxs("kbd",{className:"ml-auto pointer-events-none hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium md:inline-flex",children:[w.jsx(I2,{className:"h-3 w-3"}),"K"]})]}),w.jsxs(ku,{variant:"outline",size:"icon",className:"sm:hidden shrink-0",onClick:()=>e(!0),children:[w.jsx(yf,{className:"h-4 w-4"}),w.jsx("span",{className:"sr-only",children:"Search"})]}),t&&w.jsxs(bT,{modal:!1,children:[w.jsx(ST,{asChild:!0,children:w.jsxs("button",{type:"button",className:"flex items-center gap-2 px-2 py-1.5 rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:[w.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:w.jsx(dy,{className:"h-4 w-4 text-primary"})}),w.jsxs("div",{className:"hidden md:flex flex-col items-start text-left",children:[w.jsx("span",{className:"text-sm font-medium truncate max-w-[120px]",children:t.name}),w.jsx("span",{className:"text-xs text-muted-foreground",children:t.role})]}),w.jsx(h2,{className:"h-4 w-4 text-muted-foreground hidden md:block"})]})}),w.jsxs(Gv,{align:"end",className:"w-56",sideOffset:8,children:[w.jsx(Kv,{className:"font-normal",children:w.jsxs("div",{className:"flex flex-col space-y-1",children:[w.jsx("p",{className:"text-sm font-medium leading-none",children:t.name}),w.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),w.jsx(Zv,{}),w.jsxs(Lu,{onSelect:()=>n("profile"),children:[w.jsx(dy,{className:"mr-2 h-4 w-4"}),"View Profile"]}),w.jsxs(Lu,{onSelect:s,className:"text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400",children:[w.jsx(j2,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})}const kx=ce.lazy(()=>Or(()=>import("./dashboard-6FEDHyvT.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(n=>({default:n.Dashboard}))),Lq=ce.lazy(()=>Or(()=>import("./inventory-view-8kOt9p3p.js"),__vite__mapDeps([9,10,11,1,12,7,13,2,14,3,4,15,16,17,18,19,20])).then(n=>({default:n.InventoryView}))),Fq=ce.lazy(()=>Or(()=>import("./orders-view-Ru0QhCK0.js"),__vite__mapDeps([21,10,11,1,22,6,12,7,13,2,14,3,4])).then(n=>({default:n.OrdersView}))),jq=ce.lazy(()=>Or(()=>import("./purchase-orders-view-BOCmbikK.js"),__vite__mapDeps([23,10,24,11,1,2,14,19,3,4,15,8])).then(n=>({default:n.PurchaseOrdersView}))),zq=ce.lazy(()=>Or(()=>import("./sales-orders-view-CH-WYDj3.js"),__vite__mapDeps([25,2,11,1,10,24,19,3,4,15])).then(n=>({default:n.SalesOrdersView}))),Uq=ce.lazy(()=>Or(()=>import("./shipments-view-CWkNaMFc.js"),__vite__mapDeps([26,10,11,1,22,6,12,7,13,2,14,27,4,17])).then(n=>({default:n.ShipmentsView}))),$q=ce.lazy(()=>Or(()=>import("./suppliers-view-nUi1eiRk.js"),__vite__mapDeps([28,10,11,1,12,7,13,2,14,27,15,29,20,17,4,3,16])).then(n=>({default:n.SuppliersView}))),Bq=ce.lazy(()=>Or(()=>import("./customers-view-Cwnt6A1C.js"),__vite__mapDeps([30,10,11,1,12,7,13,2,14,27,15,29,16,17,3])).then(n=>({default:n.CustomersView}))),qq=ce.lazy(()=>Or(()=>import("./user-management-view-BzSaT6DW.js"),__vite__mapDeps([31,10,2,13,32])).then(n=>({default:n.UserManagementView}))),Hq=ce.lazy(()=>Or(()=>import("./admin-profile-view-DXI4Sjae.js"),__vite__mapDeps([33,18,32,27,29,17,6])).then(n=>({default:n.AdminProfileView}))),Wq=ce.lazy(()=>Or(()=>import("./cash-bank-view-BdaHbK6E.js"),__vite__mapDeps([34,2,11,1,10,24,3,5,15])).then(n=>({default:n.CashBankView}))),Gq=ce.lazy(()=>Or(()=>import("./payments-view-DKWAgArC.js"),__vite__mapDeps([35,2,11,1,10,24,3,5,15])).then(n=>({default:n.PaymentsView}))),Kq=["dashboard","inventory","orders","purchase-orders","sales-orders","shipments","suppliers","customers","cash-bank","payments","users","profile"];function Nx(){const n=window.location.hash.slice(1);return n&&Kq.includes(n)?n:"dashboard"}function Zq(){const{isAuthenticated:n,isLoading:e}=od(),[t,r]=b.useState(Nx),[s,i]=b.useState(null),[l,u]=b.useState(void 0),{open:h,setOpen:p}=Mq();b.useEffect(()=>{const C=t==="dashboard"?"":`#${t}`;window.location.hash!==C&&window.location.hash!==`#${t}`&&window.history.replaceState(null,"",C||window.location.pathname)},[t]),b.useEffect(()=>{const C=()=>{const R=Nx();r(R)};return window.addEventListener("hashchange",C),()=>window.removeEventListener("hashchange",C)},[]);const y=b.useCallback((C,R=!1)=>{r(C),R&&C!=="dashboard"&&i(C)},[]),m=b.useCallback((C,R)=>{r(C),u(R)},[]),E=b.useCallback(()=>{i(null)},[]),x=b.useCallback(()=>{u(void 0)},[]);if(e)return w.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx(gf,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),w.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})});if(!n)return w.jsxs(ab,{onError:Ny,children:[w.jsx(m9,{}),w.jsx(ib,{})]});const A=()=>{switch(t){case"dashboard":return w.jsx(kx,{navigateToView:y});case"inventory":return w.jsx(Lq,{initialOpenDialog:s==="inventory",onDialogOpened:E,initialItemId:l,onItemDialogOpened:x});case"orders":return w.jsx(Fq,{initialOpenDialog:s==="orders",onDialogOpened:E});case"purchase-orders":return w.jsx(jq,{initialOpenDialog:s==="purchase-orders",onDialogOpened:E});case"sales-orders":return w.jsx(zq,{});case"shipments":return w.jsx(Uq,{initialOpenDialog:s==="shipments",onDialogOpened:E});case"suppliers":return w.jsx($q,{initialOpenDialog:s==="suppliers",onDialogOpened:E,initialSupplierId:l,onSupplierDialogOpened:x});case"customers":return w.jsx(Bq,{initialOpenDialog:s==="customers",onDialogOpened:E,initialCustomerId:l,onCustomerDialogOpened:x});case"cash-bank":return w.jsx(Wq,{});case"payments":return w.jsx(Gq,{});case"users":return w.jsx(qq,{});case"profile":return w.jsx(Hq,{});default:return w.jsx(kx,{navigateToView:y})}};return w.jsx(ab,{onError:Ny,children:w.jsxs(I4,{children:[w.jsx(SL,{currentView:t,setCurrentView:r}),w.jsxs(P4,{className:"flex flex-col bg-muted/30 h-screen overflow-hidden",children:[w.jsx(Vq,{setCurrentView:r,setCommandPaletteOpen:p}),w.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-6",children:w.jsx(b.Suspense,{fallback:w.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[w.jsx(gf,{className:"h-4 w-4 animate-spin"})," Loading..."]}),children:A()})})]}),w.jsx(Oq,{open:h,onOpenChange:p,onNavigate:m}),w.jsx(ib,{})]})})}const Dx="wms_favorites",Ox="wms_saved_searches",MR=b.createContext(void 0),Qq=[{id:"ql-1",label:"Low Stock Items",entityType:"inventory",filters:{status:"Low Stock"},icon:"alert"},{id:"ql-2",label:"Critical Stock",entityType:"inventory",filters:{status:"Critical"},icon:"alert-circle"},{id:"ql-3",label:"Pending Orders",entityType:"orders",filters:{status:"Pending"},icon:"clock"},{id:"ql-4",label:"Processing Orders",entityType:"orders",filters:{status:"Processing"},icon:"loader"},{id:"ql-5",label:"In Transit Shipments",entityType:"shipments",filters:{status:"In Transit"},icon:"truck"},{id:"ql-6",label:"Active Suppliers",entityType:"suppliers",filters:{status:"Active"},icon:"users"}];function Yq({children:n}){const[e,t]=b.useState([]),[r,s]=b.useState([]),[i]=b.useState(Qq);b.useEffect(()=>{try{const C=localStorage.getItem(Dx);C&&t(JSON.parse(C));const R=localStorage.getItem(Ox);R&&s(JSON.parse(R))}catch(C){console.error("Failed to load favorites from localStorage:",C)}},[]),b.useEffect(()=>{try{localStorage.setItem(Dx,JSON.stringify(e))}catch(C){console.error("Failed to save favorites to localStorage:",C)}},[e]),b.useEffect(()=>{try{localStorage.setItem(Ox,JSON.stringify(r))}catch(C){console.error("Failed to save searches to localStorage:",C)}},[r]);const l=b.useCallback((C,R,D)=>{t(M=>M.some($=>$.entityType===C&&$.entityId===R)?M:[{id:`fav-${C}-${R}-${Date.now()}`,entityType:C,entityId:R,entityName:D,favoritedAt:new Date().toISOString()},...M])},[]),u=b.useCallback((C,R)=>{t(D=>D.filter(M=>!(M.entityType===C&&M.entityId===R)))},[]),h=b.useCallback((C,R,D)=>{t(M=>M.some(U=>U.entityType===C&&U.entityId===R)?M.filter(U=>!(U.entityType===C&&U.entityId===R)):[{id:`fav-${C}-${R}-${Date.now()}`,entityType:C,entityId:R,entityName:D,favoritedAt:new Date().toISOString()},...M])},[]),p=b.useCallback((C,R)=>e.some(D=>D.entityType===C&&D.entityId===R),[e]),y=b.useCallback(C=>e.filter(R=>R.entityType===C),[e]),m=b.useCallback((C=10)=>[...e].sort((R,D)=>new Date(D.favoritedAt).getTime()-new Date(R.favoritedAt).getTime()).slice(0,C),[e]),E=b.useCallback((C,R,D,M)=>{const z={id:`search-${Date.now()}`,name:C,entityType:R,searchTerm:D,filters:M||{},createdAt:new Date().toISOString()};s(U=>[z,...U])},[]),x=b.useCallback(C=>{s(R=>R.filter(D=>D.id!==C))},[]),A=b.useCallback(C=>r.filter(R=>R.entityType===C),[r]);return w.jsx(MR.Provider,{value:{favorites:e,savedSearches:r,quickLinks:i,addFavorite:l,removeFavorite:u,toggleFavorite:h,isFavorite:p,getFavoritesByType:y,getRecentFavorites:m,saveSearch:E,deleteSearch:x,getSearchesByType:A},children:n})}function UW(){const n=b.useContext(MR);if(!n)throw new Error("useFavorites must be used within a FavoritesProvider");return n}const Xq=yL;Qk.createRoot(document.getElementById("root")).render(w.jsx(Xq,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:w.jsx(fL,{children:w.jsx(Yq,{children:w.jsx(Rq,{children:w.jsx(Zq,{})})})})}));window.addEventListener("error",n=>{const e=n.error instanceof Error?n.error:new Error(String(n.message));Ny(e)});export{pH as $,_9 as A,ku as B,VT as C,g9 as D,sH as E,iH as F,aH as G,ou as H,fu as I,oH as J,jW as K,D2 as L,zW as M,UW as N,yW as O,ap as P,kq as Q,ce as R,pv as S,uN as T,Bx as U,uH as V,yN as W,cH as X,zH as Y,hH as Z,fH as _,Jq as a,GH as a$,UH as a0,rH as a1,gv as a2,yf as a3,bT as a4,ST as a5,Gv as a6,Kv as a7,Zv as a8,sL as a9,rW as aA,sW as aB,nW as aC,tW as aD,aW as aE,oW as aF,lW as aG,SH as aH,cW as aI,mW as aJ,fW as aK,hW as aL,dW as aM,uW as aN,gW as aO,pW as aP,n6 as aQ,FH as aR,qH as aS,HH as aT,LH as aU,jH as aV,gH as aW,WH as aX,wH as aY,EH as aZ,bH as a_,r5 as aa,A2 as ab,MC as ac,_N as ad,vW as ae,_W as af,mH as ag,dH as ah,nH as ai,t6 as aj,MH as ak,$H as al,BH as am,OH as an,VH as ao,$x as ap,e6 as aq,lH as ar,KH as as,iW as at,ZH as au,QH as av,YH as aw,XH as ax,JH as ay,eW as az,zx as b,c1 as b$,U2 as b0,vH as b1,_H as b2,yH as b3,IH as b4,AH as b5,RH as b6,kH as b7,NH as b8,DH as b9,NW as bA,LW as bB,p2 as bC,h2 as bD,gp as bE,jv as bF,ic as bG,a1 as bH,Ls as bI,oa as bJ,b1 as bK,wt as bL,l1 as bM,ft as bN,Le as bO,lo as bP,cp as bQ,vv as bR,xT as bS,YM as bT,Dn as bU,mI as bV,iI as bW,wv as bX,Ul as bY,_v as bZ,lp as b_,xH as ba,CH as bb,PH as bc,TH as bd,oN as be,fN as bf,dy as bg,SE as bh,wC as bi,ky as bj,C2 as bk,gf as bl,EW as bm,CW as bn,TW as bo,xW as bp,IW as bq,bW as br,SW as bs,PW as bt,RW as bu,VW as bv,MW as bw,DW as bx,OW as by,kW as bz,rt as c,E9 as c0,u1 as c1,g2 as c2,$e as d,ip as e,Lx as f,Mx as g,sp as h,od as i,w as j,EN as k,r6 as l,wW as m,AW as n,X2 as o,LT as p,FT as q,b as r,zT as s,mv as t,e0 as u,fv as v,jT as w,S2 as x,Db as y,Qr as z};
