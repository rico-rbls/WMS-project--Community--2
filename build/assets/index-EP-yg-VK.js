const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-EQPJy-3W.js","assets/skeleton-BynOQgMk.js","assets/permissions-BqDqHH54.js","assets/dollar-sign-BMANe_99.js","assets/trending-up-BGxno1HR.js","assets/credit-card-C5ZGqgEl.js","assets/calendar-BGrDIt_a.js","assets/star-DSl_HjtU.js","assets/shopping-bag-BgdlADhJ.js","assets/inventory-view-BCVuE3Sc.js","assets/sortable-table-head-DqimVr5s.js","assets/bulk-delete-dialog-bCHPnnj4.js","assets/favorite-button-3QIjkSr_.js","assets/useTableSort-DVttW3eE.js","assets/editable-cell-Db4MBE_o.js","assets/archive-CxpCP_Ja.js","assets/square-pen-CR7xs6UL.js","assets/map-pin-5Dy7Mh_4.js","assets/circle-alert-CvypwTAC.js","assets/file-text-DwCcLO0Z.js","assets/tag-06Ad3I-Y.js","assets/purchase-orders-view-2tHbcj5d.js","assets/printable-receipt-CEADTPVs.js","assets/sales-orders-view-CyLD8-tL.js","assets/shipments-view-2rbIUqUY.js","assets/circle-check-big-BTMVaHcy.js","assets/suppliers-view-C8STRaet.js","assets/phone-Cf-ud616.js","assets/customers-view-rkyvRYYW.js","assets/user-management-view-D2sOKIlc.js","assets/crown-C8WOcpwI.js","assets/admin-profile-view-DstQ5HyE.js","assets/cash-bank-view-BTywC1YQ.js","assets/payments-view-UdC_Z7eT.js"])))=>i.map(i=>d[i]);
function DN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var zH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jg={exports:{}},du={},zg={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function ON(){if(FE)return st;FE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=m&&j[m]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,T={};function P(j,G,oe){this.props=j,this.context=G,this.refs=T,this.updater=oe||S}P.prototype.isReactComponent={},P.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},P.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function D(){}D.prototype=P.prototype;function V(j,G,oe){this.props=j,this.context=G,this.refs=T,this.updater=oe||S}var z=V.prototype=new D;z.constructor=V,R(z,P.prototype),z.isPureReactComponent=!0;var U=Array.isArray,$=Object.prototype.hasOwnProperty,K={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function C(j,G,oe){var ie,he={},Ie=null,ve=null;if(G!=null)for(ie in G.ref!==void 0&&(ve=G.ref),G.key!==void 0&&(Ie=""+G.key),G)$.call(G,ie)&&!A.hasOwnProperty(ie)&&(he[ie]=G[ie]);var Se=arguments.length-2;if(Se===1)he.children=oe;else if(1<Se){for(var Ge=Array(Se),Qe=0;Qe<Se;Qe++)Ge[Qe]=arguments[Qe+2];he.children=Ge}if(j&&j.defaultProps)for(ie in Se=j.defaultProps,Se)he[ie]===void 0&&(he[ie]=Se[ie]);return{$$typeof:n,type:j,key:Ie,ref:ve,props:he,_owner:K.current}}function N(j,G){return{$$typeof:n,type:j.type,key:G,ref:j.ref,props:j.props,_owner:j._owner}}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function F(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return G[oe]})}var B=/\/+/g;function O(j,G){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):G.toString(36)}function Ce(j,G,oe,ie,he){var Ie=typeof j;(Ie==="undefined"||Ie==="boolean")&&(j=null);var ve=!1;if(j===null)ve=!0;else switch(Ie){case"string":case"number":ve=!0;break;case"object":switch(j.$$typeof){case n:case e:ve=!0}}if(ve)return ve=j,he=he(ve),j=ie===""?"."+O(ve,0):ie,U(he)?(oe="",j!=null&&(oe=j.replace(B,"$&/")+"/"),Ce(he,G,oe,"",function(Qe){return Qe})):he!=null&&(M(he)&&(he=N(he,oe+(!he.key||ve&&ve.key===he.key?"":(""+he.key).replace(B,"$&/")+"/")+j)),G.push(he)),1;if(ve=0,ie=ie===""?".":ie+":",U(j))for(var Se=0;Se<j.length;Se++){Ie=j[Se];var Ge=ie+O(Ie,Se);ve+=Ce(Ie,G,oe,Ge,he)}else if(Ge=w(j),typeof Ge=="function")for(j=Ge.call(j),Se=0;!(Ie=j.next()).done;)Ie=Ie.value,Ge=ie+O(Ie,Se++),ve+=Ce(Ie,G,oe,Ge,he);else if(Ie==="object")throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ve}function Be(j,G,oe){if(j==null)return j;var ie=[],he=0;return Ce(j,ie,"","",function(Ie){return G.call(oe,Ie,he++)}),ie}function me(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var _e={current:null},W={transition:null},ne={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:W,ReactCurrentOwner:K};function X(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:Be,forEach:function(j,G,oe){Be(j,function(){G.apply(this,arguments)},oe)},count:function(j){var G=0;return Be(j,function(){G++}),G},toArray:function(j){return Be(j,function(G){return G})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},st.Component=P,st.Fragment=t,st.Profiler=s,st.PureComponent=V,st.StrictMode=r,st.Suspense=h,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,st.act=X,st.cloneElement=function(j,G,oe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ie=R({},j.props),he=j.key,Ie=j.ref,ve=j._owner;if(G!=null){if(G.ref!==void 0&&(Ie=G.ref,ve=K.current),G.key!==void 0&&(he=""+G.key),j.type&&j.type.defaultProps)var Se=j.type.defaultProps;for(Ge in G)$.call(G,Ge)&&!A.hasOwnProperty(Ge)&&(ie[Ge]=G[Ge]===void 0&&Se!==void 0?Se[Ge]:G[Ge])}var Ge=arguments.length-2;if(Ge===1)ie.children=oe;else if(1<Ge){Se=Array(Ge);for(var Qe=0;Qe<Ge;Qe++)Se[Qe]=arguments[Qe+2];ie.children=Se}return{$$typeof:n,type:j.type,key:he,ref:Ie,props:ie,_owner:ve}},st.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:i,_context:j},j.Consumer=j},st.createElement=C,st.createFactory=function(j){var G=C.bind(null,j);return G.type=j,G},st.createRef=function(){return{current:null}},st.forwardRef=function(j){return{$$typeof:u,render:j}},st.isValidElement=M,st.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:me}},st.memo=function(j,G){return{$$typeof:p,type:j,compare:G===void 0?null:G}},st.startTransition=function(j){var G=W.transition;W.transition={};try{j()}finally{W.transition=G}},st.unstable_act=X,st.useCallback=function(j,G){return _e.current.useCallback(j,G)},st.useContext=function(j){return _e.current.useContext(j)},st.useDebugValue=function(){},st.useDeferredValue=function(j){return _e.current.useDeferredValue(j)},st.useEffect=function(j,G){return _e.current.useEffect(j,G)},st.useId=function(){return _e.current.useId()},st.useImperativeHandle=function(j,G,oe){return _e.current.useImperativeHandle(j,G,oe)},st.useInsertionEffect=function(j,G){return _e.current.useInsertionEffect(j,G)},st.useLayoutEffect=function(j,G){return _e.current.useLayoutEffect(j,G)},st.useMemo=function(j,G){return _e.current.useMemo(j,G)},st.useReducer=function(j,G,oe){return _e.current.useReducer(j,G,oe)},st.useRef=function(j){return _e.current.useRef(j)},st.useState=function(j){return _e.current.useState(j)},st.useSyncExternalStore=function(j,G,oe){return _e.current.useSyncExternalStore(j,G,oe)},st.useTransition=function(){return _e.current.useTransition()},st.version="18.3.1",st}var jE;function Cv(){return jE||(jE=1,zg.exports=ON()),zg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function MN(){if(zE)return du;zE=1;var n=Cv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var g,m={},w=null,S=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)r.call(h,g)&&!i.hasOwnProperty(g)&&(m[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:e,type:u,key:w,ref:S,props:m,_owner:s.current}}return du.Fragment=t,du.jsx=l,du.jsxs=l,du}var UE;function VN(){return UE||(UE=1,jg.exports=MN()),jg.exports}var E=VN(),zh={},Ug={exports:{}},er={},$g={exports:{}},Bg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function LN(){return $E||($E=1,(function(n){function e(W,ne){var X=W.length;W.push(ne);e:for(;0<X;){var j=X-1>>>1,G=W[j];if(0<s(G,ne))W[j]=ne,W[X]=G,X=j;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],X=W.pop();if(X!==ne){W[0]=X;e:for(var j=0,G=W.length,oe=G>>>1;j<oe;){var ie=2*(j+1)-1,he=W[ie],Ie=ie+1,ve=W[Ie];if(0>s(he,X))Ie<G&&0>s(ve,he)?(W[j]=ve,W[Ie]=X,j=Ie):(W[j]=he,W[ie]=X,j=ie);else if(Ie<G&&0>s(ve,X))W[j]=ve,W[Ie]=X,j=Ie;else break e}}return ne}function s(W,ne){var X=W.sortIndex-ne.sortIndex;return X!==0?X:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],g=1,m=null,w=3,S=!1,R=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(W){for(var ne=t(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=W)r(p),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=t(p)}}function U(W){if(T=!1,z(W),!R)if(t(h)!==null)R=!0,me($);else{var ne=t(p);ne!==null&&_e(U,ne.startTime-W)}}function $(W,ne){R=!1,T&&(T=!1,D(C),C=-1),S=!0;var X=w;try{for(z(ne),m=t(h);m!==null&&(!(m.expirationTime>ne)||W&&!F());){var j=m.callback;if(typeof j=="function"){m.callback=null,w=m.priorityLevel;var G=j(m.expirationTime<=ne);ne=n.unstable_now(),typeof G=="function"?m.callback=G:m===t(h)&&r(h),z(ne)}else r(h);m=t(h)}if(m!==null)var oe=!0;else{var ie=t(p);ie!==null&&_e(U,ie.startTime-ne),oe=!1}return oe}finally{m=null,w=X,S=!1}}var K=!1,A=null,C=-1,N=5,M=-1;function F(){return!(n.unstable_now()-M<N)}function B(){if(A!==null){var W=n.unstable_now();M=W;var ne=!0;try{ne=A(!0,W)}finally{ne?O():(K=!1,A=null)}}else K=!1}var O;if(typeof V=="function")O=function(){V(B)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Be=Ce.port2;Ce.port1.onmessage=B,O=function(){Be.postMessage(null)}}else O=function(){P(B,0)};function me(W){A=W,K||(K=!0,O())}function _e(W,ne){C=P(function(){W(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){R||S||(R=!0,me($))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var X=w;w=ne;try{return W()}finally{w=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var X=w;w=W;try{return ne()}finally{w=X}},n.unstable_scheduleCallback=function(W,ne,X){var j=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?j+X:j):X=j,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=X+G,W={id:g++,callback:ne,priorityLevel:W,startTime:X,expirationTime:G,sortIndex:-1},X>j?(W.sortIndex=X,e(p,W),t(h)===null&&W===t(p)&&(T?(D(C),C=-1):T=!0,_e(U,X-j))):(W.sortIndex=G,e(h,W),R||S||(R=!0,me($))),W},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(W){var ne=w;return function(){var X=w;w=ne;try{return W.apply(this,arguments)}finally{w=X}}}})(Bg)),Bg}var BE;function FN(){return BE||(BE=1,$g.exports=LN()),$g.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function jN(){if(qE)return er;qE=1;var n=Cv(),e=FN();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function w(o){return h.call(m,o)?!0:h.call(g,o)?!1:p.test(o)?m[o]=!0:(g[o]=!0,!1)}function S(o,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function R(o,a,c,f){if(a===null||typeof a>"u"||S(o,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function T(o,a,c,f,y,v,I){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=v,this.removeEmptyString=I}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){P[o]=new T(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];P[a]=new T(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){P[o]=new T(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){P[o]=new T(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){P[o]=new T(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){P[o]=new T(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){P[o]=new T(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){P[o]=new T(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){P[o]=new T(o,5,!1,o.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function V(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(D,V);P[a]=new T(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(D,V);P[a]=new T(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(D,V);P[a]=new T(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){P[o]=new T(o,1,!1,o.toLowerCase(),null,!1,!1)}),P.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){P[o]=new T(o,1,!1,o.toLowerCase(),null,!0,!0)});function z(o,a,c,f){var y=P.hasOwnProperty(a)?P[a]:null;(y!==null?y.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(R(a,c,y,f)&&(c=null),f||y===null?w(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,f=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,f?o.setAttributeNS(f,a,c):o.setAttribute(a,c))))}var U=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),K=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),W=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var X=Object.assign,j;function G(o){if(j===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||""}return`
`+j+o}var oe=!1;function ie(o,a){if(!o||oe)return"";oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var f=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){f=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){f=ee}o()}}catch(ee){if(ee&&f&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),v=f.stack.split(`
`),I=y.length-1,L=v.length-1;1<=I&&0<=L&&y[I]!==v[L];)L--;for(;1<=I&&0<=L;I--,L--)if(y[I]!==v[L]){if(I!==1||L!==1)do if(I--,L--,0>L||y[I]!==v[L]){var q=`
`+y[I].replace(" at new "," at ");return o.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",o.displayName)),q}while(1<=I&&0<=L);break}}}finally{oe=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?G(o):""}function he(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function Ie(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case K:return"Portal";case N:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case Ce:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case M:return(o._context.displayName||"Context")+".Provider";case B:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Be:return a=o.displayName||null,a!==null?a:Ie(o.type)||"Memo";case me:a=o._payload,o=o._init;try{return Ie(o(a))}catch{}}return null}function ve(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(a);case 8:return a===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Se(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ge(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qe(o){var a=Ge(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),f=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(I){f=""+I,v.call(this,I)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function pe(o){o._valueTracker||(o._valueTracker=Qe(o))}function xt(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return o&&(f=Ge(o)?o.checked?"true":"false":o.value),o=f,o!==c?(a.setValue(o),!0):!1}function dn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function is(o,a){var c=a.checked;return X({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function $a(o,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Se(a.value!=null?a.value:c),o._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ks(o,a){a=a.checked,a!=null&&z(o,"checked",a,!1)}function or(o,a){Ks(o,a);var c=Se(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?gt(o,a.type,c):a.hasOwnProperty("defaultValue")&&gt(o,a.type,Se(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Co(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function gt(o,a,c){(a!=="number"||dn(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var Vt=Array.isArray;function ir(o,a,c,f){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&f&&(o[c].defaultSelected=!0)}else{for(c=""+Se(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,f&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function sn(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function br(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Vt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:Se(c)}}function Ba(o,a){var c=Se(a.value),f=Se(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),f!=null&&(o.defaultValue=""+f)}function as(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function ls(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?ls(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var zr,Po=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,f,y)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(zr=zr||document.createElement("div"),zr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=zr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Gn(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$r=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(o){$r.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),Ur[a]=Ur[o]})});function cs(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Ur.hasOwnProperty(o)&&Ur[o]?(""+a).trim():a+"px"}function Ro(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,y=cs(c,a[c],f);c==="float"&&(c="cssFloat"),f?o.setProperty(c,y):o[c]=y}}var ko=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kn(o,a){if(a){if(ko[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function No(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xr=null;function Fn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Br=null,qr=null,At=null;function Do(o){if(o=Qc(o)){if(typeof Br!="function")throw Error(t(280));var a=o.stateNode;a&&(a=th(a),Br(o.stateNode,o.type,a))}}function qe(o){qr?At?At.push(o):At=[o]:qr=o}function St(){if(qr){var o=qr,a=At;if(At=qr=null,Do(o),a)for(o=0;o<a.length;o++)Do(a[o])}}function qt(o,a){return o(a)}function hn(){}var jn=!1;function Ut(o,a,c){if(jn)return o(a,c);jn=!0;try{return qt(o,a,c)}finally{jn=!1,(qr!==null||At!==null)&&(hn(),St())}}function Zt(o,a){var c=o.stateNode;if(c===null)return null;var f=th(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var ar=!1;if(u)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){ar=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{ar=!1}function Tn(o,a,c,f,y,v,I,L,q){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(le){this.onError(le)}}var Sr=!1,fn=null,Ni=!1,Ir=null,Dd={onError:function(o){Sr=!0,fn=o}};function Od(o,a,c,f,y,v,I,L,q){Sr=!1,fn=null,Tn.apply(Dd,arguments)}function Sc(o,a,c,f,y,v,I,L,q){if(Od.apply(this,arguments),Sr){if(Sr){var ee=fn;Sr=!1,fn=null}else throw Error(t(198));Ni||(Ni=!0,Ir=ee)}}function Hr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function Ic(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Md(o){if(Hr(o)!==o)throw Error(t(188))}function Vd(o){var a=o.alternate;if(!a){if(a=Hr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,f=a;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return Md(y),o;if(v===f)return Md(y),a;v=v.sibling}throw Error(t(188))}if(c.return!==f.return)c=y,f=v;else{for(var I=!1,L=y.child;L;){if(L===c){I=!0,c=y,f=v;break}if(L===f){I=!0,f=y,c=v;break}L=L.sibling}if(!I){for(L=v.child;L;){if(L===c){I=!0,c=v,f=y;break}if(L===f){I=!0,f=v,c=y;break}L=L.sibling}if(!I)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function Ld(o){return o=Vd(o),o!==null?Di(o):null}function Di(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Di(o);if(a!==null)return a;o=o.sibling}return null}var Tc=e.unstable_scheduleCallback,qa=e.unstable_cancelCallback,Oi=e.unstable_shouldYield,Zs=e.unstable_requestPaint,Pt=e.unstable_now,gm=e.unstable_getCurrentPriorityLevel,Ha=e.unstable_ImmediatePriority,Cc=e.unstable_UserBlockingPriority,Mi=e.unstable_NormalPriority,Ac=e.unstable_LowPriority,Wa=e.unstable_IdlePriority,Vi=null,lr=null;function Fd(o){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Vi,o,void 0,(o.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:Li,us=Math.log,Tr=Math.LN2;function Li(o){return o>>>=0,o===0?32:31-(us(o)/Tr|0)|0}var ds=64,Oo=4194304;function mt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Qs(o,a){var c=o.pendingLanes;if(c===0)return 0;var f=0,y=o.suspendedLanes,v=o.pingedLanes,I=c&268435455;if(I!==0){var L=I&~y;L!==0?f=mt(L):(v&=I,v!==0&&(f=mt(v)))}else I=c&~y,I!==0?f=mt(I):v!==0&&(f=mt(v));if(f===0)return 0;if(a!==0&&a!==f&&(a&y)===0&&(y=f&-f,v=a&-a,y>=v||y===16&&(v&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=f;0<a;)c=31-cr(a),y=1<<c,f|=o[c],a&=~y;return f}function Fi(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ji(o,a){for(var c=o.suspendedLanes,f=o.pingedLanes,y=o.expirationTimes,v=o.pendingLanes;0<v;){var I=31-cr(v),L=1<<I,q=y[I];q===-1?((L&c)===0||(L&f)!==0)&&(y[I]=Fi(L,a)):q<=a&&(o.expiredLanes|=L),v&=~L}}function Pc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Rc(){var o=ds;return ds<<=1,(ds&4194240)===0&&(ds=64),o}function kc(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function zi(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-cr(a),o[a]=c}function ym(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-cr(c),v=1<<y;a[y]=0,f[y]=-1,o[y]=-1,c&=~v}}function Nc(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var f=31-cr(c),y=1<<f;y&a|o[f]&a&&(o[f]|=a),c&=~y}}var ct=0;function hs(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Dc,Ga,Oc,Mc,Vc,fs=!1,Ka=[],ps=null,ms=null,_n=null,Ui=new Map,Ys=new Map,ur=[],jd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mo(o,a){switch(o){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Ui.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(a.pointerId)}}function Wr(o,a,c,f,y,v){return o===null||o.nativeEvent!==v?(o={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[y]},a!==null&&(a=Qc(a),a!==null&&Ga(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function zd(o,a,c,f,y){switch(a){case"focusin":return ps=Wr(ps,o,a,c,f,y),!0;case"dragenter":return ms=Wr(ms,o,a,c,f,y),!0;case"mouseover":return _n=Wr(_n,o,a,c,f,y),!0;case"pointerover":var v=y.pointerId;return Ui.set(v,Wr(Ui.get(v)||null,o,a,c,f,y)),!0;case"gotpointercapture":return v=y.pointerId,Ys.set(v,Wr(Ys.get(v)||null,o,a,c,f,y)),!0}return!1}function Za(o){var a=Hi(o.target);if(a!==null){var c=Hr(a);if(c!==null){if(a=c.tag,a===13){if(a=Ic(c),a!==null){o.blockedOn=a,Vc(o.priority,function(){Oc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function It(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Qa(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var f=new c.constructor(c.type,c);xr=f,c.target.dispatchEvent(f),xr=null}else return a=Qc(c),a!==null&&Ga(a),o.blockedOn=c,!1;a.shift()}return!0}function Ud(o,a,c){It(o)&&c.delete(a)}function vm(){fs=!1,ps!==null&&It(ps)&&(ps=null),ms!==null&&It(ms)&&(ms=null),_n!==null&&It(_n)&&(_n=null),Ui.forEach(Ud),Ys.forEach(Ud)}function Vo(o,a){o.blockedOn===a&&(o.blockedOn=null,fs||(fs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vm)))}function Lo(o){function a(y){return Vo(y,o)}if(0<Ka.length){Vo(Ka[0],o);for(var c=1;c<Ka.length;c++){var f=Ka[c];f.blockedOn===o&&(f.blockedOn=null)}}for(ps!==null&&Vo(ps,o),ms!==null&&Vo(ms,o),_n!==null&&Vo(_n,o),Ui.forEach(a),Ys.forEach(a),c=0;c<ur.length;c++)f=ur[c],f.blockedOn===o&&(f.blockedOn=null);for(;0<ur.length&&(c=ur[0],c.blockedOn===null);)Za(c),c.blockedOn===null&&ur.shift()}var Xs=U.ReactCurrentBatchConfig,Js=!0;function gs(o,a,c,f){var y=ct,v=Xs.transition;Xs.transition=null;try{ct=1,Lc(o,a,c,f)}finally{ct=y,Xs.transition=v}}function $d(o,a,c,f){var y=ct,v=Xs.transition;Xs.transition=null;try{ct=4,Lc(o,a,c,f)}finally{ct=y,Xs.transition=v}}function Lc(o,a,c,f){if(Js){var y=Qa(o,a,c,f);if(y===null)Pm(o,a,f,ys,c),Mo(o,f);else if(zd(y,o,a,c,f))f.stopPropagation();else if(Mo(o,f),a&4&&-1<jd.indexOf(o)){for(;y!==null;){var v=Qc(y);if(v!==null&&Dc(v),v=Qa(o,a,c,f),v===null&&Pm(o,a,f,ys,c),v===y)break;y=v}y!==null&&f.stopPropagation()}else Pm(o,a,f,null,c)}}var ys=null;function Qa(o,a,c,f){if(ys=null,o=Fn(f),o=Hi(o),o!==null)if(a=Hr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=Ic(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return ys=o,null}function Ya(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gm()){case Ha:return 1;case Cc:return 4;case Mi:case Ac:return 16;case Wa:return 536870912;default:return 16}default:return 16}}var dr=null,Xa=null,eo=null;function Bd(){if(eo)return eo;var o,a=Xa,c=a.length,f,y="value"in dr?dr.value:dr.textContent,v=y.length;for(o=0;o<c&&a[o]===y[o];o++);var I=c-o;for(f=1;f<=I&&a[c-f]===y[v-f];f++);return eo=y.slice(o,1<f?1-f:void 0)}function $i(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function vs(){return!0}function Fc(){return!1}function Cn(o){function a(c,f,y,v,I){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var L in o)o.hasOwnProperty(L)&&(c=o[L],this[L]=c?c(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vs:Fc,this.isPropagationStopped=Fc,this}return X(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),a}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Cn(_s),Fo=X({},_s,{view:0,detail:0}),Ja=Cn(Fo),el,tl,hr,qi=X({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ye,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==hr&&(hr&&o.type==="mousemove"?(el=o.screenX-hr.screenX,tl=o.screenY-hr.screenY):tl=el=0,hr=o),el)},movementY:function(o){return"movementY"in o?o.movementY:tl}}),jc=Cn(qi),qd=X({},qi,{dataTransfer:0}),Hd=Cn(qd),nl=X({},Fo,{relatedTarget:0}),wn=Cn(nl),Wd=X({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),Gd=Cn(Wd),jo=X({},_s,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),d=Cn(jo),_=X({},_s,{data:0}),x=Cn(_),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ge(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=te[o])?!!a[o]:!1}function Ye(){return ge}var Ht=X({},Fo,{key:function(o){if(o.key){var a=k[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=$i(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Y[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ye,charCode:function(o){return o.type==="keypress"?$i(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?$i(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),vt=Cn(Ht),Yt=X({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fr=Cn(Yt),to=X({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ye}),ws=Cn(to),Es=X({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),rl=Cn(Es),zc=X({},qi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ck=Cn(zc),Ak=[9,13,27,32],_m=u&&"CompositionEvent"in window,Uc=null;u&&"documentMode"in document&&(Uc=document.documentMode);var Pk=u&&"TextEvent"in window&&!Uc,Rw=u&&(!_m||Uc&&8<Uc&&11>=Uc),kw=" ",Nw=!1;function Dw(o,a){switch(o){case"keyup":return Ak.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ow(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var sl=!1;function Rk(o,a){switch(o){case"compositionend":return Ow(a);case"keypress":return a.which!==32?null:(Nw=!0,kw);case"textInput":return o=a.data,o===kw&&Nw?null:o;default:return null}}function kk(o,a){if(sl)return o==="compositionend"||!_m&&Dw(o,a)?(o=Bd(),eo=Xa=dr=null,sl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Rw&&a.locale!=="ko"?null:a.data;default:return null}}var Nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mw(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!Nk[o.type]:a==="textarea"}function Vw(o,a,c,f){qe(f),a=Xd(a,"onChange"),0<a.length&&(c=new Bi("onChange","change",null,c,f),o.push({event:c,listeners:a}))}var $c=null,Bc=null;function Dk(o){e0(o,0)}function Kd(o){var a=cl(o);if(xt(a))return o}function Ok(o,a){if(o==="change")return a}var Lw=!1;if(u){var wm;if(u){var Em="oninput"in document;if(!Em){var Fw=document.createElement("div");Fw.setAttribute("oninput","return;"),Em=typeof Fw.oninput=="function"}wm=Em}else wm=!1;Lw=wm&&(!document.documentMode||9<document.documentMode)}function jw(){$c&&($c.detachEvent("onpropertychange",zw),Bc=$c=null)}function zw(o){if(o.propertyName==="value"&&Kd(Bc)){var a=[];Vw(a,Bc,o,Fn(o)),Ut(Dk,a)}}function Mk(o,a,c){o==="focusin"?(jw(),$c=a,Bc=c,$c.attachEvent("onpropertychange",zw)):o==="focusout"&&jw()}function Vk(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Kd(Bc)}function Lk(o,a){if(o==="click")return Kd(a)}function Fk(o,a){if(o==="input"||o==="change")return Kd(a)}function jk(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Gr=typeof Object.is=="function"?Object.is:jk;function qc(o,a){if(Gr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!h.call(a,y)||!Gr(o[y],a[y]))return!1}return!0}function Uw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function $w(o,a){var c=Uw(o);o=0;for(var f;c;){if(c.nodeType===3){if(f=o+c.textContent.length,o<=a&&f>=a)return{node:c,offset:a-o};o=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Uw(c)}}function Bw(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Bw(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function qw(){for(var o=window,a=dn();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=dn(o.document)}return a}function bm(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function zk(o){var a=qw(),c=o.focusedElem,f=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&Bw(c.ownerDocument.documentElement,c)){if(f!==null&&bm(c)){if(a=f.start,o=f.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,v=Math.min(f.start,y);f=f.end===void 0?v:Math.min(f.end,y),!o.extend&&v>f&&(y=f,f=v,v=y),y=$w(c,v);var I=$w(c,f);y&&I&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==I.node||o.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),v>f?(o.addRange(a),o.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Uk=u&&"documentMode"in document&&11>=document.documentMode,ol=null,xm=null,Hc=null,Sm=!1;function Hw(o,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Sm||ol==null||ol!==dn(f)||(f=ol,"selectionStart"in f&&bm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Hc&&qc(Hc,f)||(Hc=f,f=Xd(xm,"onSelect"),0<f.length&&(a=new Bi("onSelect","select",null,a,c),o.push({event:a,listeners:f}),a.target=ol)))}function Zd(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var il={animationend:Zd("Animation","AnimationEnd"),animationiteration:Zd("Animation","AnimationIteration"),animationstart:Zd("Animation","AnimationStart"),transitionend:Zd("Transition","TransitionEnd")},Im={},Ww={};u&&(Ww=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Qd(o){if(Im[o])return Im[o];if(!il[o])return o;var a=il[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in Ww)return Im[o]=a[c];return o}var Gw=Qd("animationend"),Kw=Qd("animationiteration"),Zw=Qd("animationstart"),Qw=Qd("transitionend"),Yw=new Map,Xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zo(o,a){Yw.set(o,a),i(a,[o])}for(var Tm=0;Tm<Xw.length;Tm++){var Cm=Xw[Tm],$k=Cm.toLowerCase(),Bk=Cm[0].toUpperCase()+Cm.slice(1);zo($k,"on"+Bk)}zo(Gw,"onAnimationEnd"),zo(Kw,"onAnimationIteration"),zo(Zw,"onAnimationStart"),zo("dblclick","onDoubleClick"),zo("focusin","onFocus"),zo("focusout","onBlur"),zo(Qw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wc));function Jw(o,a,c){var f=o.type||"unknown-event";o.currentTarget=c,Sc(f,a,void 0,o),o.currentTarget=null}function e0(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var f=o[c],y=f.event;f=f.listeners;e:{var v=void 0;if(a)for(var I=f.length-1;0<=I;I--){var L=f[I],q=L.instance,ee=L.currentTarget;if(L=L.listener,q!==v&&y.isPropagationStopped())break e;Jw(y,L,ee),v=q}else for(I=0;I<f.length;I++){if(L=f[I],q=L.instance,ee=L.currentTarget,L=L.listener,q!==v&&y.isPropagationStopped())break e;Jw(y,L,ee),v=q}}}if(Ni)throw o=Ir,Ni=!1,Ir=null,o}function Rt(o,a){var c=a[Mm];c===void 0&&(c=a[Mm]=new Set);var f=o+"__bubble";c.has(f)||(t0(a,o,2,!1),c.add(f))}function Am(o,a,c){var f=0;a&&(f|=4),t0(c,o,f,a)}var Yd="_reactListening"+Math.random().toString(36).slice(2);function Gc(o){if(!o[Yd]){o[Yd]=!0,r.forEach(function(c){c!=="selectionchange"&&(qk.has(c)||Am(c,!1,o),Am(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Yd]||(a[Yd]=!0,Am("selectionchange",!1,a))}}function t0(o,a,c,f){switch(Ya(a)){case 1:var y=gs;break;case 4:y=$d;break;default:y=Lc}c=y.bind(null,a,c,o),y=void 0,!ar||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function Pm(o,a,c,f,y){var v=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var L=f.stateNode.containerInfo;if(L===y||L.nodeType===8&&L.parentNode===y)break;if(I===4)for(I=f.return;I!==null;){var q=I.tag;if((q===3||q===4)&&(q=I.stateNode.containerInfo,q===y||q.nodeType===8&&q.parentNode===y))return;I=I.return}for(;L!==null;){if(I=Hi(L),I===null)return;if(q=I.tag,q===5||q===6){f=v=I;continue e}L=L.parentNode}}f=f.return}Ut(function(){var ee=v,le=Fn(c),ue=[];e:{var ae=Yw.get(o);if(ae!==void 0){var Te=Bi,Re=o;switch(o){case"keypress":if($i(c)===0)break e;case"keydown":case"keyup":Te=vt;break;case"focusin":Re="focus",Te=wn;break;case"focusout":Re="blur",Te=wn;break;case"beforeblur":case"afterblur":Te=wn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Hd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ws;break;case Gw:case Kw:case Zw:Te=Gd;break;case Qw:Te=rl;break;case"scroll":Te=Ja;break;case"wheel":Te=Ck;break;case"copy":case"cut":case"paste":Te=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=fr}var Oe=(a&4)!==0,Wt=!Oe&&o==="scroll",Q=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var H=ee,J;H!==null;){J=H;var fe=J.stateNode;if(J.tag===5&&fe!==null&&(J=fe,Q!==null&&(fe=Zt(H,Q),fe!=null&&Oe.push(Kc(H,fe,J)))),Wt)break;H=H.return}0<Oe.length&&(ae=new Te(ae,Re,null,c,le),ue.push({event:ae,listeners:Oe}))}}if((a&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",ae&&c!==xr&&(Re=c.relatedTarget||c.fromElement)&&(Hi(Re)||Re[no]))break e;if((Te||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,Te?(Re=c.relatedTarget||c.toElement,Te=ee,Re=Re?Hi(Re):null,Re!==null&&(Wt=Hr(Re),Re!==Wt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Te=null,Re=ee),Te!==Re)){if(Oe=jc,fe="onMouseLeave",Q="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=fr,fe="onPointerLeave",Q="onPointerEnter",H="pointer"),Wt=Te==null?ae:cl(Te),J=Re==null?ae:cl(Re),ae=new Oe(fe,H+"leave",Te,c,le),ae.target=Wt,ae.relatedTarget=J,fe=null,Hi(le)===ee&&(Oe=new Oe(Q,H+"enter",Re,c,le),Oe.target=J,Oe.relatedTarget=Wt,fe=Oe),Wt=fe,Te&&Re)t:{for(Oe=Te,Q=Re,H=0,J=Oe;J;J=al(J))H++;for(J=0,fe=Q;fe;fe=al(fe))J++;for(;0<H-J;)Oe=al(Oe),H--;for(;0<J-H;)Q=al(Q),J--;for(;H--;){if(Oe===Q||Q!==null&&Oe===Q.alternate)break t;Oe=al(Oe),Q=al(Q)}Oe=null}else Oe=null;Te!==null&&n0(ue,ae,Te,Oe,!1),Re!==null&&Wt!==null&&n0(ue,Wt,Re,Oe,!0)}}e:{if(ae=ee?cl(ee):window,Te=ae.nodeName&&ae.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ae.type==="file")var Me=Ok;else if(Mw(ae))if(Lw)Me=Fk;else{Me=Vk;var ze=Mk}else(Te=ae.nodeName)&&Te.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Me=Lk);if(Me&&(Me=Me(o,ee))){Vw(ue,Me,c,le);break e}ze&&ze(o,ae,ee),o==="focusout"&&(ze=ae._wrapperState)&&ze.controlled&&ae.type==="number"&&gt(ae,"number",ae.value)}switch(ze=ee?cl(ee):window,o){case"focusin":(Mw(ze)||ze.contentEditable==="true")&&(ol=ze,xm=ee,Hc=null);break;case"focusout":Hc=xm=ol=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,Hw(ue,c,le);break;case"selectionchange":if(Uk)break;case"keydown":case"keyup":Hw(ue,c,le)}var Ue;if(_m)e:{switch(o){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else sl?Dw(o,c)&&(He="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(Rw&&c.locale!=="ko"&&(sl||He!=="onCompositionStart"?He==="onCompositionEnd"&&sl&&(Ue=Bd()):(dr=le,Xa="value"in dr?dr.value:dr.textContent,sl=!0)),ze=Xd(ee,He),0<ze.length&&(He=new x(He,o,null,c,le),ue.push({event:He,listeners:ze}),Ue?He.data=Ue:(Ue=Ow(c),Ue!==null&&(He.data=Ue)))),(Ue=Pk?Rk(o,c):kk(o,c))&&(ee=Xd(ee,"onBeforeInput"),0<ee.length&&(le=new x("onBeforeInput","beforeinput",null,c,le),ue.push({event:le,listeners:ee}),le.data=Ue))}e0(ue,a)})}function Kc(o,a,c){return{instance:o,listener:a,currentTarget:c}}function Xd(o,a){for(var c=a+"Capture",f=[];o!==null;){var y=o,v=y.stateNode;y.tag===5&&v!==null&&(y=v,v=Zt(o,c),v!=null&&f.unshift(Kc(o,v,y)),v=Zt(o,a),v!=null&&f.push(Kc(o,v,y))),o=o.return}return f}function al(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function n0(o,a,c,f,y){for(var v=a._reactName,I=[];c!==null&&c!==f;){var L=c,q=L.alternate,ee=L.stateNode;if(q!==null&&q===f)break;L.tag===5&&ee!==null&&(L=ee,y?(q=Zt(c,v),q!=null&&I.unshift(Kc(c,q,L))):y||(q=Zt(c,v),q!=null&&I.push(Kc(c,q,L)))),c=c.return}I.length!==0&&o.push({event:a,listeners:I})}var Hk=/\r\n?/g,Wk=/\u0000|\uFFFD/g;function r0(o){return(typeof o=="string"?o:""+o).replace(Hk,`
`).replace(Wk,"")}function Jd(o,a,c){if(a=r0(a),r0(o)!==a&&c)throw Error(t(425))}function eh(){}var Rm=null,km=null;function Nm(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dm=typeof setTimeout=="function"?setTimeout:void 0,Gk=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,Kk=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(o){return s0.resolve(null).then(o).catch(Zk)}:Dm;function Zk(o){setTimeout(function(){throw o})}function Om(o,a){var c=a,f=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(f===0){o.removeChild(y),Lo(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=y}while(c);Lo(a)}function Uo(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function o0(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var ll=Math.random().toString(36).slice(2),bs="__reactFiber$"+ll,Zc="__reactProps$"+ll,no="__reactContainer$"+ll,Mm="__reactEvents$"+ll,Qk="__reactListeners$"+ll,Yk="__reactHandles$"+ll;function Hi(o){var a=o[bs];if(a)return a;for(var c=o.parentNode;c;){if(a=c[no]||c[bs]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=o0(o);o!==null;){if(c=o[bs])return c;o=o0(o)}return a}o=c,c=o.parentNode}return null}function Qc(o){return o=o[bs]||o[no],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function cl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function th(o){return o[Zc]||null}var Vm=[],ul=-1;function $o(o){return{current:o}}function kt(o){0>ul||(o.current=Vm[ul],Vm[ul]=null,ul--)}function Tt(o,a){ul++,Vm[ul]=o.current,o.current=a}var Bo={},An=$o(Bo),Zn=$o(!1),Wi=Bo;function dl(o,a){var c=o.type.contextTypes;if(!c)return Bo;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var y={},v;for(v in c)y[v]=a[v];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Qn(o){return o=o.childContextTypes,o!=null}function nh(){kt(Zn),kt(An)}function i0(o,a,c){if(An.current!==Bo)throw Error(t(168));Tt(An,a),Tt(Zn,c)}function a0(o,a,c){var f=o.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var y in f)if(!(y in a))throw Error(t(108,ve(o)||"Unknown",y));return X({},c,f)}function rh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Bo,Wi=An.current,Tt(An,o),Tt(Zn,Zn.current),!0}function l0(o,a,c){var f=o.stateNode;if(!f)throw Error(t(169));c?(o=a0(o,a,Wi),f.__reactInternalMemoizedMergedChildContext=o,kt(Zn),kt(An),Tt(An,o)):kt(Zn),Tt(Zn,c)}var ro=null,sh=!1,Lm=!1;function c0(o){ro===null?ro=[o]:ro.push(o)}function Xk(o){sh=!0,c0(o)}function qo(){if(!Lm&&ro!==null){Lm=!0;var o=0,a=ct;try{var c=ro;for(ct=1;o<c.length;o++){var f=c[o];do f=f(!0);while(f!==null)}ro=null,sh=!1}catch(y){throw ro!==null&&(ro=ro.slice(o+1)),Tc(Ha,qo),y}finally{ct=a,Lm=!1}}return null}var hl=[],fl=0,oh=null,ih=0,Cr=[],Ar=0,Gi=null,so=1,oo="";function Ki(o,a){hl[fl++]=ih,hl[fl++]=oh,oh=o,ih=a}function u0(o,a,c){Cr[Ar++]=so,Cr[Ar++]=oo,Cr[Ar++]=Gi,Gi=o;var f=so;o=oo;var y=32-cr(f)-1;f&=~(1<<y),c+=1;var v=32-cr(a)+y;if(30<v){var I=y-y%5;v=(f&(1<<I)-1).toString(32),f>>=I,y-=I,so=1<<32-cr(a)+y|c<<y|f,oo=v+o}else so=1<<v|c<<y|f,oo=o}function Fm(o){o.return!==null&&(Ki(o,1),u0(o,1,0))}function jm(o){for(;o===oh;)oh=hl[--fl],hl[fl]=null,ih=hl[--fl],hl[fl]=null;for(;o===Gi;)Gi=Cr[--Ar],Cr[Ar]=null,oo=Cr[--Ar],Cr[Ar]=null,so=Cr[--Ar],Cr[Ar]=null}var pr=null,mr=null,Nt=!1,Kr=null;function d0(o,a){var c=Nr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function h0(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,pr=o,mr=Uo(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,pr=o,mr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Gi!==null?{id:so,overflow:oo}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Nr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,pr=o,mr=null,!0):!1;default:return!1}}function zm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Um(o){if(Nt){var a=mr;if(a){var c=a;if(!h0(o,a)){if(zm(o))throw Error(t(418));a=Uo(c.nextSibling);var f=pr;a&&h0(o,a)?d0(f,c):(o.flags=o.flags&-4097|2,Nt=!1,pr=o)}}else{if(zm(o))throw Error(t(418));o.flags=o.flags&-4097|2,Nt=!1,pr=o}}}function f0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;pr=o}function ah(o){if(o!==pr)return!1;if(!Nt)return f0(o),Nt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Nm(o.type,o.memoizedProps)),a&&(a=mr)){if(zm(o))throw p0(),Error(t(418));for(;a;)d0(o,a),a=Uo(a.nextSibling)}if(f0(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){mr=Uo(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}mr=null}}else mr=pr?Uo(o.stateNode.nextSibling):null;return!0}function p0(){for(var o=mr;o;)o=Uo(o.nextSibling)}function pl(){mr=pr=null,Nt=!1}function $m(o){Kr===null?Kr=[o]:Kr.push(o)}var Jk=U.ReactCurrentBatchConfig;function Yc(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,o));var y=f,v=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(I){var L=y.refs;I===null?delete L[v]:L[v]=I},a._stringRef=v,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function lh(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function m0(o){var a=o._init;return a(o._payload)}function g0(o){function a(Q,H){if(o){var J=Q.deletions;J===null?(Q.deletions=[H],Q.flags|=16):J.push(H)}}function c(Q,H){if(!o)return null;for(;H!==null;)a(Q,H),H=H.sibling;return null}function f(Q,H){for(Q=new Map;H!==null;)H.key!==null?Q.set(H.key,H):Q.set(H.index,H),H=H.sibling;return Q}function y(Q,H){return Q=Xo(Q,H),Q.index=0,Q.sibling=null,Q}function v(Q,H,J){return Q.index=J,o?(J=Q.alternate,J!==null?(J=J.index,J<H?(Q.flags|=2,H):J):(Q.flags|=2,H)):(Q.flags|=1048576,H)}function I(Q){return o&&Q.alternate===null&&(Q.flags|=2),Q}function L(Q,H,J,fe){return H===null||H.tag!==6?(H=Dg(J,Q.mode,fe),H.return=Q,H):(H=y(H,J),H.return=Q,H)}function q(Q,H,J,fe){var Me=J.type;return Me===A?le(Q,H,J.props.children,fe,J.key):H!==null&&(H.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===me&&m0(Me)===H.type)?(fe=y(H,J.props),fe.ref=Yc(Q,H,J),fe.return=Q,fe):(fe=Nh(J.type,J.key,J.props,null,Q.mode,fe),fe.ref=Yc(Q,H,J),fe.return=Q,fe)}function ee(Q,H,J,fe){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=Og(J,Q.mode,fe),H.return=Q,H):(H=y(H,J.children||[]),H.return=Q,H)}function le(Q,H,J,fe,Me){return H===null||H.tag!==7?(H=na(J,Q.mode,fe,Me),H.return=Q,H):(H=y(H,J),H.return=Q,H)}function ue(Q,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Dg(""+H,Q.mode,J),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case $:return J=Nh(H.type,H.key,H.props,null,Q.mode,J),J.ref=Yc(Q,null,H),J.return=Q,J;case K:return H=Og(H,Q.mode,J),H.return=Q,H;case me:var fe=H._init;return ue(Q,fe(H._payload),J)}if(Vt(H)||ne(H))return H=na(H,Q.mode,J,null),H.return=Q,H;lh(Q,H)}return null}function ae(Q,H,J,fe){var Me=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Me!==null?null:L(Q,H,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===Me?q(Q,H,J,fe):null;case K:return J.key===Me?ee(Q,H,J,fe):null;case me:return Me=J._init,ae(Q,H,Me(J._payload),fe)}if(Vt(J)||ne(J))return Me!==null?null:le(Q,H,J,fe,null);lh(Q,J)}return null}function Te(Q,H,J,fe,Me){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Q=Q.get(J)||null,L(H,Q,""+fe,Me);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case $:return Q=Q.get(fe.key===null?J:fe.key)||null,q(H,Q,fe,Me);case K:return Q=Q.get(fe.key===null?J:fe.key)||null,ee(H,Q,fe,Me);case me:var ze=fe._init;return Te(Q,H,J,ze(fe._payload),Me)}if(Vt(fe)||ne(fe))return Q=Q.get(J)||null,le(H,Q,fe,Me,null);lh(H,fe)}return null}function Re(Q,H,J,fe){for(var Me=null,ze=null,Ue=H,He=H=0,gn=null;Ue!==null&&He<J.length;He++){Ue.index>He?(gn=Ue,Ue=null):gn=Ue.sibling;var pt=ae(Q,Ue,J[He],fe);if(pt===null){Ue===null&&(Ue=gn);break}o&&Ue&&pt.alternate===null&&a(Q,Ue),H=v(pt,H,He),ze===null?Me=pt:ze.sibling=pt,ze=pt,Ue=gn}if(He===J.length)return c(Q,Ue),Nt&&Ki(Q,He),Me;if(Ue===null){for(;He<J.length;He++)Ue=ue(Q,J[He],fe),Ue!==null&&(H=v(Ue,H,He),ze===null?Me=Ue:ze.sibling=Ue,ze=Ue);return Nt&&Ki(Q,He),Me}for(Ue=f(Q,Ue);He<J.length;He++)gn=Te(Ue,Q,He,J[He],fe),gn!==null&&(o&&gn.alternate!==null&&Ue.delete(gn.key===null?He:gn.key),H=v(gn,H,He),ze===null?Me=gn:ze.sibling=gn,ze=gn);return o&&Ue.forEach(function(Jo){return a(Q,Jo)}),Nt&&Ki(Q,He),Me}function Oe(Q,H,J,fe){var Me=ne(J);if(typeof Me!="function")throw Error(t(150));if(J=Me.call(J),J==null)throw Error(t(151));for(var ze=Me=null,Ue=H,He=H=0,gn=null,pt=J.next();Ue!==null&&!pt.done;He++,pt=J.next()){Ue.index>He?(gn=Ue,Ue=null):gn=Ue.sibling;var Jo=ae(Q,Ue,pt.value,fe);if(Jo===null){Ue===null&&(Ue=gn);break}o&&Ue&&Jo.alternate===null&&a(Q,Ue),H=v(Jo,H,He),ze===null?Me=Jo:ze.sibling=Jo,ze=Jo,Ue=gn}if(pt.done)return c(Q,Ue),Nt&&Ki(Q,He),Me;if(Ue===null){for(;!pt.done;He++,pt=J.next())pt=ue(Q,pt.value,fe),pt!==null&&(H=v(pt,H,He),ze===null?Me=pt:ze.sibling=pt,ze=pt);return Nt&&Ki(Q,He),Me}for(Ue=f(Q,Ue);!pt.done;He++,pt=J.next())pt=Te(Ue,Q,He,pt.value,fe),pt!==null&&(o&&pt.alternate!==null&&Ue.delete(pt.key===null?He:pt.key),H=v(pt,H,He),ze===null?Me=pt:ze.sibling=pt,ze=pt);return o&&Ue.forEach(function(NN){return a(Q,NN)}),Nt&&Ki(Q,He),Me}function Wt(Q,H,J,fe){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var Me=J.key,ze=H;ze!==null;){if(ze.key===Me){if(Me=J.type,Me===A){if(ze.tag===7){c(Q,ze.sibling),H=y(ze,J.props.children),H.return=Q,Q=H;break e}}else if(ze.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===me&&m0(Me)===ze.type){c(Q,ze.sibling),H=y(ze,J.props),H.ref=Yc(Q,ze,J),H.return=Q,Q=H;break e}c(Q,ze);break}else a(Q,ze);ze=ze.sibling}J.type===A?(H=na(J.props.children,Q.mode,fe,J.key),H.return=Q,Q=H):(fe=Nh(J.type,J.key,J.props,null,Q.mode,fe),fe.ref=Yc(Q,H,J),fe.return=Q,Q=fe)}return I(Q);case K:e:{for(ze=J.key;H!==null;){if(H.key===ze)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(Q,H.sibling),H=y(H,J.children||[]),H.return=Q,Q=H;break e}else{c(Q,H);break}else a(Q,H);H=H.sibling}H=Og(J,Q.mode,fe),H.return=Q,Q=H}return I(Q);case me:return ze=J._init,Wt(Q,H,ze(J._payload),fe)}if(Vt(J))return Re(Q,H,J,fe);if(ne(J))return Oe(Q,H,J,fe);lh(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(c(Q,H.sibling),H=y(H,J),H.return=Q,Q=H):(c(Q,H),H=Dg(J,Q.mode,fe),H.return=Q,Q=H),I(Q)):c(Q,H)}return Wt}var ml=g0(!0),y0=g0(!1),ch=$o(null),uh=null,gl=null,Bm=null;function qm(){Bm=gl=uh=null}function Hm(o){var a=ch.current;kt(ch),o._currentValue=a}function Wm(o,a,c){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===c)break;o=o.return}}function yl(o,a){uh=o,Bm=gl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Yn=!0),o.firstContext=null)}function Pr(o){var a=o._currentValue;if(Bm!==o)if(o={context:o,memoizedValue:a,next:null},gl===null){if(uh===null)throw Error(t(308));gl=o,uh.dependencies={lanes:0,firstContext:o}}else gl=gl.next=o;return a}var Zi=null;function Gm(o){Zi===null?Zi=[o]:Zi.push(o)}function v0(o,a,c,f){var y=a.interleaved;return y===null?(c.next=c,Gm(a)):(c.next=y.next,y.next=c),a.interleaved=c,io(o,f)}function io(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Ho=!1;function Km(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _0(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ao(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Wo(o,a,c){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(ft&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,io(o,c)}return y=f.interleaved,y===null?(a.next=a,Gm(f)):(a.next=y.next,y.next=a),f.interleaved=a,io(o,c)}function dh(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Nc(o,c)}}function w0(o,a){var c=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var I={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?y=v=I:v=v.next=I,c=c.next}while(c!==null);v===null?y=v=a:v=v.next=a}else y=v=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:f.shared,effects:f.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function hh(o,a,c,f){var y=o.updateQueue;Ho=!1;var v=y.firstBaseUpdate,I=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var q=L,ee=q.next;q.next=null,I===null?v=ee:I.next=ee,I=q;var le=o.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==I&&(L===null?le.firstBaseUpdate=ee:L.next=ee,le.lastBaseUpdate=q))}if(v!==null){var ue=y.baseState;I=0,le=ee=q=null,L=v;do{var ae=L.lane,Te=L.eventTime;if((f&ae)===ae){le!==null&&(le=le.next={eventTime:Te,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Re=o,Oe=L;switch(ae=a,Te=c,Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){ue=Re.call(Te,ue,ae);break e}ue=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,ae=typeof Re=="function"?Re.call(Te,ue,ae):Re,ae==null)break e;ue=X({},ue,ae);break e;case 2:Ho=!0}}L.callback!==null&&L.lane!==0&&(o.flags|=64,ae=y.effects,ae===null?y.effects=[L]:ae.push(L))}else Te={eventTime:Te,lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(ee=le=Te,q=ue):le=le.next=Te,I|=ae;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);if(le===null&&(q=ue),y.baseState=q,y.firstBaseUpdate=ee,y.lastBaseUpdate=le,a=y.shared.interleaved,a!==null){y=a;do I|=y.lane,y=y.next;while(y!==a)}else v===null&&(y.shared.lanes=0);Xi|=I,o.lanes=I,o.memoizedState=ue}}function E0(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var f=o[a],y=f.callback;if(y!==null){if(f.callback=null,f=c,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var Xc={},xs=$o(Xc),Jc=$o(Xc),eu=$o(Xc);function Qi(o){if(o===Xc)throw Error(t(174));return o}function Zm(o,a){switch(Tt(eu,a),Tt(Jc,o),Tt(xs,Xc),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ao(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Ao(a,o)}kt(xs),Tt(xs,a)}function vl(){kt(xs),kt(Jc),kt(eu)}function b0(o){Qi(eu.current);var a=Qi(xs.current),c=Ao(a,o.type);a!==c&&(Tt(Jc,o),Tt(xs,c))}function Qm(o){Jc.current===o&&(kt(xs),kt(Jc))}var Lt=$o(0);function fh(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ym=[];function Xm(){for(var o=0;o<Ym.length;o++)Ym[o]._workInProgressVersionPrimary=null;Ym.length=0}var ph=U.ReactCurrentDispatcher,Jm=U.ReactCurrentBatchConfig,Yi=0,Ft=null,on=null,pn=null,mh=!1,tu=!1,nu=0,eN=0;function Pn(){throw Error(t(321))}function eg(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!Gr(o[c],a[c]))return!1;return!0}function tg(o,a,c,f,y,v){if(Yi=v,Ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ph.current=o===null||o.memoizedState===null?sN:oN,o=c(f,y),tu){v=0;do{if(tu=!1,nu=0,25<=v)throw Error(t(301));v+=1,pn=on=null,a.updateQueue=null,ph.current=iN,o=c(f,y)}while(tu)}if(ph.current=vh,a=on!==null&&on.next!==null,Yi=0,pn=on=Ft=null,mh=!1,a)throw Error(t(300));return o}function ng(){var o=nu!==0;return nu=0,o}function Ss(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Ft.memoizedState=pn=o:pn=pn.next=o,pn}function Rr(){if(on===null){var o=Ft.alternate;o=o!==null?o.memoizedState:null}else o=on.next;var a=pn===null?Ft.memoizedState:pn.next;if(a!==null)pn=a,on=o;else{if(o===null)throw Error(t(310));on=o,o={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},pn===null?Ft.memoizedState=pn=o:pn=pn.next=o}return pn}function ru(o,a){return typeof a=="function"?a(o):a}function rg(o){var a=Rr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=on,y=f.baseQueue,v=c.pending;if(v!==null){if(y!==null){var I=y.next;y.next=v.next,v.next=I}f.baseQueue=y=v,c.pending=null}if(y!==null){v=y.next,f=f.baseState;var L=I=null,q=null,ee=v;do{var le=ee.lane;if((Yi&le)===le)q!==null&&(q=q.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),f=ee.hasEagerState?ee.eagerState:o(f,ee.action);else{var ue={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};q===null?(L=q=ue,I=f):q=q.next=ue,Ft.lanes|=le,Xi|=le}ee=ee.next}while(ee!==null&&ee!==v);q===null?I=f:q.next=L,Gr(f,a.memoizedState)||(Yn=!0),a.memoizedState=f,a.baseState=I,a.baseQueue=q,c.lastRenderedState=f}if(o=c.interleaved,o!==null){y=o;do v=y.lane,Ft.lanes|=v,Xi|=v,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function sg(o){var a=Rr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=c.dispatch,y=c.pending,v=a.memoizedState;if(y!==null){c.pending=null;var I=y=y.next;do v=o(v,I.action),I=I.next;while(I!==y);Gr(v,a.memoizedState)||(Yn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,f]}function x0(){}function S0(o,a){var c=Ft,f=Rr(),y=a(),v=!Gr(f.memoizedState,y);if(v&&(f.memoizedState=y,Yn=!0),f=f.queue,og(C0.bind(null,c,f,o),[o]),f.getSnapshot!==a||v||pn!==null&&pn.memoizedState.tag&1){if(c.flags|=2048,su(9,T0.bind(null,c,f,y,a),void 0,null),mn===null)throw Error(t(349));(Yi&30)!==0||I0(c,a,y)}return y}function I0(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=Ft.updateQueue,a===null?(a={lastEffect:null,stores:null},Ft.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function T0(o,a,c,f){a.value=c,a.getSnapshot=f,A0(a)&&P0(o)}function C0(o,a,c){return c(function(){A0(a)&&P0(o)})}function A0(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!Gr(o,c)}catch{return!0}}function P0(o){var a=io(o,1);a!==null&&Xr(a,o,1,-1)}function R0(o){var a=Ss();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:o},a.queue=o,o=o.dispatch=rN.bind(null,Ft,o),[a.memoizedState,o]}function su(o,a,c,f){return o={tag:o,create:a,destroy:c,deps:f,next:null},a=Ft.updateQueue,a===null?(a={lastEffect:null,stores:null},Ft.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(f=c.next,c.next=o,o.next=f,a.lastEffect=o)),o}function k0(){return Rr().memoizedState}function gh(o,a,c,f){var y=Ss();Ft.flags|=o,y.memoizedState=su(1|a,c,void 0,f===void 0?null:f)}function yh(o,a,c,f){var y=Rr();f=f===void 0?null:f;var v=void 0;if(on!==null){var I=on.memoizedState;if(v=I.destroy,f!==null&&eg(f,I.deps)){y.memoizedState=su(a,c,v,f);return}}Ft.flags|=o,y.memoizedState=su(1|a,c,v,f)}function N0(o,a){return gh(8390656,8,o,a)}function og(o,a){return yh(2048,8,o,a)}function D0(o,a){return yh(4,2,o,a)}function O0(o,a){return yh(4,4,o,a)}function M0(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function V0(o,a,c){return c=c!=null?c.concat([o]):null,yh(4,4,M0.bind(null,a,o),c)}function ig(){}function L0(o,a){var c=Rr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&eg(a,f[1])?f[0]:(c.memoizedState=[o,a],o)}function F0(o,a){var c=Rr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&eg(a,f[1])?f[0]:(o=o(),c.memoizedState=[o,a],o)}function j0(o,a,c){return(Yi&21)===0?(o.baseState&&(o.baseState=!1,Yn=!0),o.memoizedState=c):(Gr(c,a)||(c=Rc(),Ft.lanes|=c,Xi|=c,o.baseState=!0),a)}function tN(o,a){var c=ct;ct=c!==0&&4>c?c:4,o(!0);var f=Jm.transition;Jm.transition={};try{o(!1),a()}finally{ct=c,Jm.transition=f}}function z0(){return Rr().memoizedState}function nN(o,a,c){var f=Qo(o);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},U0(o))$0(a,c);else if(c=v0(o,a,c,f),c!==null){var y=Un();Xr(c,o,f,y),B0(c,a,f)}}function rN(o,a,c){var f=Qo(o),y={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(U0(o))$0(a,y);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var I=a.lastRenderedState,L=v(I,c);if(y.hasEagerState=!0,y.eagerState=L,Gr(L,I)){var q=a.interleaved;q===null?(y.next=y,Gm(a)):(y.next=q.next,q.next=y),a.interleaved=y;return}}catch{}finally{}c=v0(o,a,y,f),c!==null&&(y=Un(),Xr(c,o,f,y),B0(c,a,f))}}function U0(o){var a=o.alternate;return o===Ft||a!==null&&a===Ft}function $0(o,a){tu=mh=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function B0(o,a,c){if((c&4194240)!==0){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Nc(o,c)}}var vh={readContext:Pr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},sN={readContext:Pr,useCallback:function(o,a){return Ss().memoizedState=[o,a===void 0?null:a],o},useContext:Pr,useEffect:N0,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,gh(4194308,4,M0.bind(null,a,o),c)},useLayoutEffect:function(o,a){return gh(4194308,4,o,a)},useInsertionEffect:function(o,a){return gh(4,2,o,a)},useMemo:function(o,a){var c=Ss();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var f=Ss();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},f.queue=o,o=o.dispatch=nN.bind(null,Ft,o),[f.memoizedState,o]},useRef:function(o){var a=Ss();return o={current:o},a.memoizedState=o},useState:R0,useDebugValue:ig,useDeferredValue:function(o){return Ss().memoizedState=o},useTransition:function(){var o=R0(!1),a=o[0];return o=tN.bind(null,o[1]),Ss().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var f=Ft,y=Ss();if(Nt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),mn===null)throw Error(t(349));(Yi&30)!==0||I0(f,a,c)}y.memoizedState=c;var v={value:c,getSnapshot:a};return y.queue=v,N0(C0.bind(null,f,v,o),[o]),f.flags|=2048,su(9,T0.bind(null,f,v,c,a),void 0,null),c},useId:function(){var o=Ss(),a=mn.identifierPrefix;if(Nt){var c=oo,f=so;c=(f&~(1<<32-cr(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=nu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=eN++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},oN={readContext:Pr,useCallback:L0,useContext:Pr,useEffect:og,useImperativeHandle:V0,useInsertionEffect:D0,useLayoutEffect:O0,useMemo:F0,useReducer:rg,useRef:k0,useState:function(){return rg(ru)},useDebugValue:ig,useDeferredValue:function(o){var a=Rr();return j0(a,on.memoizedState,o)},useTransition:function(){var o=rg(ru)[0],a=Rr().memoizedState;return[o,a]},useMutableSource:x0,useSyncExternalStore:S0,useId:z0,unstable_isNewReconciler:!1},iN={readContext:Pr,useCallback:L0,useContext:Pr,useEffect:og,useImperativeHandle:V0,useInsertionEffect:D0,useLayoutEffect:O0,useMemo:F0,useReducer:sg,useRef:k0,useState:function(){return sg(ru)},useDebugValue:ig,useDeferredValue:function(o){var a=Rr();return on===null?a.memoizedState=o:j0(a,on.memoizedState,o)},useTransition:function(){var o=sg(ru)[0],a=Rr().memoizedState;return[o,a]},useMutableSource:x0,useSyncExternalStore:S0,useId:z0,unstable_isNewReconciler:!1};function Zr(o,a){if(o&&o.defaultProps){a=X({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function ag(o,a,c,f){a=o.memoizedState,c=c(f,a),c=c==null?a:X({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var _h={isMounted:function(o){return(o=o._reactInternals)?Hr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var f=Un(),y=Qo(o),v=ao(f,y);v.payload=a,c!=null&&(v.callback=c),a=Wo(o,v,y),a!==null&&(Xr(a,o,y,f),dh(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var f=Un(),y=Qo(o),v=ao(f,y);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=Wo(o,v,y),a!==null&&(Xr(a,o,y,f),dh(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=Un(),f=Qo(o),y=ao(c,f);y.tag=2,a!=null&&(y.callback=a),a=Wo(o,y,f),a!==null&&(Xr(a,o,f,c),dh(a,o,f))}};function q0(o,a,c,f,y,v,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,v,I):a.prototype&&a.prototype.isPureReactComponent?!qc(c,f)||!qc(y,v):!0}function H0(o,a,c){var f=!1,y=Bo,v=a.contextType;return typeof v=="object"&&v!==null?v=Pr(v):(y=Qn(a)?Wi:An.current,f=a.contextTypes,v=(f=f!=null)?dl(o,y):Bo),a=new a(c,v),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=_h,o.stateNode=a,a._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=v),a}function W0(o,a,c,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==o&&_h.enqueueReplaceState(a,a.state,null)}function lg(o,a,c,f){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},Km(o);var v=a.contextType;typeof v=="object"&&v!==null?y.context=Pr(v):(v=Qn(a)?Wi:An.current,y.context=dl(o,v)),y.state=o.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ag(o,a,v,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&_h.enqueueReplaceState(y,y.state,null),hh(o,c,y,f),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function _l(o,a){try{var c="",f=a;do c+=he(f),f=f.return;while(f);var y=c}catch(v){y=`
Error generating stack: `+v.message+`
`+v.stack}return{value:o,source:a,stack:y,digest:null}}function cg(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function ug(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var aN=typeof WeakMap=="function"?WeakMap:Map;function G0(o,a,c){c=ao(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){Th||(Th=!0,Ig=f),ug(o,a)},c}function K0(o,a,c){c=ao(-1,c),c.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=a.value;c.payload=function(){return f(y)},c.callback=function(){ug(o,a)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){ug(o,a),typeof f!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),c}function Z0(o,a,c){var f=o.pingCache;if(f===null){f=o.pingCache=new aN;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(y.add(c),o=EN.bind(null,o,a,c),a.then(o,o))}function Q0(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function Y0(o,a,c,f,y){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ao(-1,1),a.tag=2,Wo(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var lN=U.ReactCurrentOwner,Yn=!1;function zn(o,a,c,f){a.child=o===null?y0(a,null,c,f):ml(a,o.child,c,f)}function X0(o,a,c,f,y){c=c.render;var v=a.ref;return yl(a,y),f=tg(o,a,c,f,v,y),c=ng(),o!==null&&!Yn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,lo(o,a,y)):(Nt&&c&&Fm(a),a.flags|=1,zn(o,a,f,y),a.child)}function J0(o,a,c,f,y){if(o===null){var v=c.type;return typeof v=="function"&&!Ng(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=v,eE(o,a,v,f,y)):(o=Nh(c.type,null,f,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(v=o.child,(o.lanes&y)===0){var I=v.memoizedProps;if(c=c.compare,c=c!==null?c:qc,c(I,f)&&o.ref===a.ref)return lo(o,a,y)}return a.flags|=1,o=Xo(v,f),o.ref=a.ref,o.return=a,a.child=o}function eE(o,a,c,f,y){if(o!==null){var v=o.memoizedProps;if(qc(v,f)&&o.ref===a.ref)if(Yn=!1,a.pendingProps=f=v,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Yn=!0);else return a.lanes=o.lanes,lo(o,a,y)}return dg(o,a,c,f,y)}function tE(o,a,c){var f=a.pendingProps,y=f.children,v=o!==null?o.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(El,gr),gr|=c;else{if((c&1073741824)===0)return o=v!==null?v.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Tt(El,gr),gr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:c,Tt(El,gr),gr|=f}else v!==null?(f=v.baseLanes|c,a.memoizedState=null):f=c,Tt(El,gr),gr|=f;return zn(o,a,y,c),a.child}function nE(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function dg(o,a,c,f,y){var v=Qn(c)?Wi:An.current;return v=dl(a,v),yl(a,y),c=tg(o,a,c,f,v,y),f=ng(),o!==null&&!Yn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,lo(o,a,y)):(Nt&&f&&Fm(a),a.flags|=1,zn(o,a,c,y),a.child)}function rE(o,a,c,f,y){if(Qn(c)){var v=!0;rh(a)}else v=!1;if(yl(a,y),a.stateNode===null)Eh(o,a),H0(a,c,f),lg(a,c,f,y),f=!0;else if(o===null){var I=a.stateNode,L=a.memoizedProps;I.props=L;var q=I.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Pr(ee):(ee=Qn(c)?Wi:An.current,ee=dl(a,ee));var le=c.getDerivedStateFromProps,ue=typeof le=="function"||typeof I.getSnapshotBeforeUpdate=="function";ue||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(L!==f||q!==ee)&&W0(a,I,f,ee),Ho=!1;var ae=a.memoizedState;I.state=ae,hh(a,f,I,y),q=a.memoizedState,L!==f||ae!==q||Zn.current||Ho?(typeof le=="function"&&(ag(a,c,le,f),q=a.memoizedState),(L=Ho||q0(a,c,L,f,ae,q,ee))?(ue||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=q),I.props=f,I.state=q,I.context=ee,f=L):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{I=a.stateNode,_0(o,a),L=a.memoizedProps,ee=a.type===a.elementType?L:Zr(a.type,L),I.props=ee,ue=a.pendingProps,ae=I.context,q=c.contextType,typeof q=="object"&&q!==null?q=Pr(q):(q=Qn(c)?Wi:An.current,q=dl(a,q));var Te=c.getDerivedStateFromProps;(le=typeof Te=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(L!==ue||ae!==q)&&W0(a,I,f,q),Ho=!1,ae=a.memoizedState,I.state=ae,hh(a,f,I,y);var Re=a.memoizedState;L!==ue||ae!==Re||Zn.current||Ho?(typeof Te=="function"&&(ag(a,c,Te,f),Re=a.memoizedState),(ee=Ho||q0(a,c,ee,f,ae,Re,q)||!1)?(le||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,Re,q),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,Re,q)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Re),I.props=f,I.state=Re,I.context=q,f=ee):(typeof I.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),f=!1)}return hg(o,a,c,f,v,y)}function hg(o,a,c,f,y,v){nE(o,a);var I=(a.flags&128)!==0;if(!f&&!I)return y&&l0(a,c,!1),lo(o,a,v);f=a.stateNode,lN.current=a;var L=I&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,o!==null&&I?(a.child=ml(a,o.child,null,v),a.child=ml(a,null,L,v)):zn(o,a,L,v),a.memoizedState=f.state,y&&l0(a,c,!0),a.child}function sE(o){var a=o.stateNode;a.pendingContext?i0(o,a.pendingContext,a.pendingContext!==a.context):a.context&&i0(o,a.context,!1),Zm(o,a.containerInfo)}function oE(o,a,c,f,y){return pl(),$m(y),a.flags|=256,zn(o,a,c,f),a.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function pg(o){return{baseLanes:o,cachePool:null,transitions:null}}function iE(o,a,c){var f=a.pendingProps,y=Lt.current,v=!1,I=(a.flags&128)!==0,L;if((L=I)||(L=o!==null&&o.memoizedState===null?!1:(y&2)!==0),L?(v=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),Tt(Lt,y&1),o===null)return Um(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(I=f.children,o=f.fallback,v?(f=a.mode,v=a.child,I={mode:"hidden",children:I},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=I):v=Dh(I,f,0,null),o=na(o,f,c,null),v.return=a,o.return=a,v.sibling=o,a.child=v,a.child.memoizedState=pg(c),a.memoizedState=fg,o):mg(a,I));if(y=o.memoizedState,y!==null&&(L=y.dehydrated,L!==null))return cN(o,a,I,f,L,y,c);if(v){v=f.fallback,I=a.mode,y=o.child,L=y.sibling;var q={mode:"hidden",children:f.children};return(I&1)===0&&a.child!==y?(f=a.child,f.childLanes=0,f.pendingProps=q,a.deletions=null):(f=Xo(y,q),f.subtreeFlags=y.subtreeFlags&14680064),L!==null?v=Xo(L,v):(v=na(v,I,c,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,I=o.child.memoizedState,I=I===null?pg(c):{baseLanes:I.baseLanes|c,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=o.childLanes&~c,a.memoizedState=fg,f}return v=o.child,o=v.sibling,f=Xo(v,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=f,a.memoizedState=null,f}function mg(o,a){return a=Dh({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function wh(o,a,c,f){return f!==null&&$m(f),ml(a,o.child,null,c),o=mg(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function cN(o,a,c,f,y,v,I){if(c)return a.flags&256?(a.flags&=-257,f=cg(Error(t(422))),wh(o,a,I,f)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(v=f.fallback,y=a.mode,f=Dh({mode:"visible",children:f.children},y,0,null),v=na(v,y,I,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,(a.mode&1)!==0&&ml(a,o.child,null,I),a.child.memoizedState=pg(I),a.memoizedState=fg,v);if((a.mode&1)===0)return wh(o,a,I,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var L=f.dgst;return f=L,v=Error(t(419)),f=cg(v,f,void 0),wh(o,a,I,f)}if(L=(I&o.childLanes)!==0,Yn||L){if(f=mn,f!==null){switch(I&-I){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|I))!==0?0:y,y!==0&&y!==v.retryLane&&(v.retryLane=y,io(o,y),Xr(f,o,y,-1))}return kg(),f=cg(Error(t(421))),wh(o,a,I,f)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=bN.bind(null,o),y._reactRetry=a,null):(o=v.treeContext,mr=Uo(y.nextSibling),pr=a,Nt=!0,Kr=null,o!==null&&(Cr[Ar++]=so,Cr[Ar++]=oo,Cr[Ar++]=Gi,so=o.id,oo=o.overflow,Gi=a),a=mg(a,f.children),a.flags|=4096,a)}function aE(o,a,c){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),Wm(o.return,a,c)}function gg(o,a,c,f,y){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=y)}function lE(o,a,c){var f=a.pendingProps,y=f.revealOrder,v=f.tail;if(zn(o,a,f.children,c),f=Lt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&aE(o,c,a);else if(o.tag===19)aE(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(Tt(Lt,f),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&fh(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),gg(a,!1,y,c,v);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&fh(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}gg(a,!0,c,null,v);break;case"together":gg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Eh(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function lo(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Xi|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=Xo(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=Xo(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function uN(o,a,c){switch(a.tag){case 3:sE(a),pl();break;case 5:b0(a);break;case 1:Qn(a.type)&&rh(a);break;case 4:Zm(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,y=a.memoizedProps.value;Tt(ch,f._currentValue),f._currentValue=y;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Tt(Lt,Lt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?iE(o,a,c):(Tt(Lt,Lt.current&1),o=lo(o,a,c),o!==null?o.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(o.flags&128)!==0){if(f)return lE(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Tt(Lt,Lt.current),f)break;return null;case 22:case 23:return a.lanes=0,tE(o,a,c)}return lo(o,a,c)}var cE,yg,uE,dE;cE=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},yg=function(){},uE=function(o,a,c,f){var y=o.memoizedProps;if(y!==f){o=a.stateNode,Qi(xs.current);var v=null;switch(c){case"input":y=is(o,y),f=is(o,f),v=[];break;case"select":y=X({},y,{value:void 0}),f=X({},f,{value:void 0}),v=[];break;case"textarea":y=sn(o,y),f=sn(o,f),v=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=eh)}Kn(c,f);var I;c=null;for(ee in y)if(!f.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var L=y[ee];for(I in L)L.hasOwnProperty(I)&&(c||(c={}),c[I]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?v||(v=[]):(v=v||[]).push(ee,null));for(ee in f){var q=f[ee];if(L=y?.[ee],f.hasOwnProperty(ee)&&q!==L&&(q!=null||L!=null))if(ee==="style")if(L){for(I in L)!L.hasOwnProperty(I)||q&&q.hasOwnProperty(I)||(c||(c={}),c[I]="");for(I in q)q.hasOwnProperty(I)&&L[I]!==q[I]&&(c||(c={}),c[I]=q[I])}else c||(v||(v=[]),v.push(ee,c)),c=q;else ee==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,L=L?L.__html:void 0,q!=null&&L!==q&&(v=v||[]).push(ee,q)):ee==="children"?typeof q!="string"&&typeof q!="number"||(v=v||[]).push(ee,""+q):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?(q!=null&&ee==="onScroll"&&Rt("scroll",o),v||L===q||(v=[])):(v=v||[]).push(ee,q))}c&&(v=v||[]).push("style",c);var ee=v;(a.updateQueue=ee)&&(a.flags|=4)}},dE=function(o,a,c,f){c!==f&&(a.flags|=4)};function ou(o,a){if(!Nt)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Rn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,f=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=f,o.childLanes=c,a}function dN(o,a,c){var f=a.pendingProps;switch(jm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(a),null;case 1:return Qn(a.type)&&nh(),Rn(a),null;case 3:return f=a.stateNode,vl(),kt(Zn),kt(An),Xm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(ah(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Kr!==null&&(Ag(Kr),Kr=null))),yg(o,a),Rn(a),null;case 5:Qm(a);var y=Qi(eu.current);if(c=a.type,o!==null&&a.stateNode!=null)uE(o,a,c,f,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Rn(a),null}if(o=Qi(xs.current),ah(a)){f=a.stateNode,c=a.type;var v=a.memoizedProps;switch(f[bs]=a,f[Zc]=v,o=(a.mode&1)!==0,c){case"dialog":Rt("cancel",f),Rt("close",f);break;case"iframe":case"object":case"embed":Rt("load",f);break;case"video":case"audio":for(y=0;y<Wc.length;y++)Rt(Wc[y],f);break;case"source":Rt("error",f);break;case"img":case"image":case"link":Rt("error",f),Rt("load",f);break;case"details":Rt("toggle",f);break;case"input":$a(f,v),Rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Rt("invalid",f);break;case"textarea":br(f,v),Rt("invalid",f)}Kn(c,v),y=null;for(var I in v)if(v.hasOwnProperty(I)){var L=v[I];I==="children"?typeof L=="string"?f.textContent!==L&&(v.suppressHydrationWarning!==!0&&Jd(f.textContent,L,o),y=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&Jd(f.textContent,L,o),y=["children",""+L]):s.hasOwnProperty(I)&&L!=null&&I==="onScroll"&&Rt("scroll",f)}switch(c){case"input":pe(f),Co(f,v,!0);break;case"textarea":pe(f),as(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=eh)}f=y,a.updateQueue=f,f!==null&&(a.flags|=4)}else{I=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ls(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=I.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=I.createElement(c,{is:f.is}):(o=I.createElement(c),c==="select"&&(I=o,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):o=I.createElementNS(o,c),o[bs]=a,o[Zc]=f,cE(o,a,!1,!1),a.stateNode=o;e:{switch(I=No(c,f),c){case"dialog":Rt("cancel",o),Rt("close",o),y=f;break;case"iframe":case"object":case"embed":Rt("load",o),y=f;break;case"video":case"audio":for(y=0;y<Wc.length;y++)Rt(Wc[y],o);y=f;break;case"source":Rt("error",o),y=f;break;case"img":case"image":case"link":Rt("error",o),Rt("load",o),y=f;break;case"details":Rt("toggle",o),y=f;break;case"input":$a(o,f),y=is(o,f),Rt("invalid",o);break;case"option":y=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},y=X({},f,{value:void 0}),Rt("invalid",o);break;case"textarea":br(o,f),y=sn(o,f),Rt("invalid",o);break;default:y=f}Kn(c,y),L=y;for(v in L)if(L.hasOwnProperty(v)){var q=L[v];v==="style"?Ro(o,q):v==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Po(o,q)):v==="children"?typeof q=="string"?(c!=="textarea"||q!=="")&&Gn(o,q):typeof q=="number"&&Gn(o,""+q):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?q!=null&&v==="onScroll"&&Rt("scroll",o):q!=null&&z(o,v,q,I))}switch(c){case"input":pe(o),Co(o,f,!1);break;case"textarea":pe(o),as(o);break;case"option":f.value!=null&&o.setAttribute("value",""+Se(f.value));break;case"select":o.multiple=!!f.multiple,v=f.value,v!=null?ir(o,!!f.multiple,v,!1):f.defaultValue!=null&&ir(o,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=eh)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Rn(a),null;case 6:if(o&&a.stateNode!=null)dE(o,a,o.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=Qi(eu.current),Qi(xs.current),ah(a)){if(f=a.stateNode,c=a.memoizedProps,f[bs]=a,(v=f.nodeValue!==c)&&(o=pr,o!==null))switch(o.tag){case 3:Jd(f.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Jd(f.nodeValue,c,(o.mode&1)!==0)}v&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[bs]=a,a.stateNode=f}return Rn(a),null;case 13:if(kt(Lt),f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Nt&&mr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)p0(),pl(),a.flags|=98560,v=!1;else if(v=ah(a),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(t(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[bs]=a}else pl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Rn(a),v=!1}else Kr!==null&&(Ag(Kr),Kr=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Lt.current&1)!==0?an===0&&(an=3):kg())),a.updateQueue!==null&&(a.flags|=4),Rn(a),null);case 4:return vl(),yg(o,a),o===null&&Gc(a.stateNode.containerInfo),Rn(a),null;case 10:return Hm(a.type._context),Rn(a),null;case 17:return Qn(a.type)&&nh(),Rn(a),null;case 19:if(kt(Lt),v=a.memoizedState,v===null)return Rn(a),null;if(f=(a.flags&128)!==0,I=v.rendering,I===null)if(f)ou(v,!1);else{if(an!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(I=fh(o),I!==null){for(a.flags|=128,ou(v,!1),f=I.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)v=c,o=f,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=o,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,o=I.dependencies,v.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Tt(Lt,Lt.current&1|2),a.child}o=o.sibling}v.tail!==null&&Pt()>bl&&(a.flags|=128,f=!0,ou(v,!1),a.lanes=4194304)}else{if(!f)if(o=fh(I),o!==null){if(a.flags|=128,f=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),ou(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!Nt)return Rn(a),null}else 2*Pt()-v.renderingStartTime>bl&&c!==1073741824&&(a.flags|=128,f=!0,ou(v,!1),a.lanes=4194304);v.isBackwards?(I.sibling=a.child,a.child=I):(c=v.last,c!==null?c.sibling=I:a.child=I,v.last=I)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Pt(),a.sibling=null,c=Lt.current,Tt(Lt,f?c&1|2:c&1),a):(Rn(a),null);case 22:case 23:return Rg(),f=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(gr&1073741824)!==0&&(Rn(a),a.subtreeFlags&6&&(a.flags|=8192)):Rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function hN(o,a){switch(jm(a),a.tag){case 1:return Qn(a.type)&&nh(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return vl(),kt(Zn),kt(An),Xm(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Qm(a),null;case 13:if(kt(Lt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));pl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return kt(Lt),null;case 4:return vl(),null;case 10:return Hm(a.type._context),null;case 22:case 23:return Rg(),null;case 24:return null;default:return null}}var bh=!1,kn=!1,fN=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function wl(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){$t(o,a,f)}else c.current=null}function vg(o,a,c){try{c()}catch(f){$t(o,a,f)}}var hE=!1;function pN(o,a){if(Rm=Js,o=qw(),bm(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var I=0,L=-1,q=-1,ee=0,le=0,ue=o,ae=null;t:for(;;){for(var Te;ue!==c||y!==0&&ue.nodeType!==3||(L=I+y),ue!==v||f!==0&&ue.nodeType!==3||(q=I+f),ue.nodeType===3&&(I+=ue.nodeValue.length),(Te=ue.firstChild)!==null;)ae=ue,ue=Te;for(;;){if(ue===o)break t;if(ae===c&&++ee===y&&(L=I),ae===v&&++le===f&&(q=I),(Te=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=Te}c=L===-1||q===-1?null:{start:L,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(km={focusedElem:o,selectionRange:c},Js=!1,Ae=a;Ae!==null;)if(a=Ae,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ae=o;else for(;Ae!==null;){a=Ae;try{var Re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Oe=Re.memoizedProps,Wt=Re.memoizedState,Q=a.stateNode,H=Q.getSnapshotBeforeUpdate(a.elementType===a.type?Oe:Zr(a.type,Oe),Wt);Q.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(fe){$t(a,a.return,fe)}if(o=a.sibling,o!==null){o.return=a.return,Ae=o;break}Ae=a.return}return Re=hE,hE=!1,Re}function iu(o,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&o)===o){var v=y.destroy;y.destroy=void 0,v!==void 0&&vg(a,c,v)}y=y.next}while(y!==f)}}function xh(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function _g(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function fE(o){var a=o.alternate;a!==null&&(o.alternate=null,fE(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[bs],delete a[Zc],delete a[Mm],delete a[Qk],delete a[Yk])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function pE(o){return o.tag===5||o.tag===3||o.tag===4}function mE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||pE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function wg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=eh));else if(f!==4&&(o=o.child,o!==null))for(wg(o,a,c),o=o.sibling;o!==null;)wg(o,a,c),o=o.sibling}function Eg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(Eg(o,a,c),o=o.sibling;o!==null;)Eg(o,a,c),o=o.sibling}var En=null,Qr=!1;function Go(o,a,c){for(c=c.child;c!==null;)gE(o,a,c),c=c.sibling}function gE(o,a,c){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Vi,c)}catch{}switch(c.tag){case 5:kn||wl(c,a);case 6:var f=En,y=Qr;En=null,Go(o,a,c),En=f,Qr=y,En!==null&&(Qr?(o=En,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):En.removeChild(c.stateNode));break;case 18:En!==null&&(Qr?(o=En,c=c.stateNode,o.nodeType===8?Om(o.parentNode,c):o.nodeType===1&&Om(o,c),Lo(o)):Om(En,c.stateNode));break;case 4:f=En,y=Qr,En=c.stateNode.containerInfo,Qr=!0,Go(o,a,c),En=f,Qr=y;break;case 0:case 11:case 14:case 15:if(!kn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var v=y,I=v.destroy;v=v.tag,I!==void 0&&((v&2)!==0||(v&4)!==0)&&vg(c,a,I),y=y.next}while(y!==f)}Go(o,a,c);break;case 1:if(!kn&&(wl(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(L){$t(c,a,L)}Go(o,a,c);break;case 21:Go(o,a,c);break;case 22:c.mode&1?(kn=(f=kn)||c.memoizedState!==null,Go(o,a,c),kn=f):Go(o,a,c);break;default:Go(o,a,c)}}function yE(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new fN),a.forEach(function(f){var y=xN.bind(null,o,f);c.has(f)||(c.add(f),f.then(y,y))})}}function Yr(o,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];try{var v=o,I=a,L=I;e:for(;L!==null;){switch(L.tag){case 5:En=L.stateNode,Qr=!1;break e;case 3:En=L.stateNode.containerInfo,Qr=!0;break e;case 4:En=L.stateNode.containerInfo,Qr=!0;break e}L=L.return}if(En===null)throw Error(t(160));gE(v,I,y),En=null,Qr=!1;var q=y.alternate;q!==null&&(q.return=null),y.return=null}catch(ee){$t(y,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)vE(a,o),a=a.sibling}function vE(o,a){var c=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Yr(a,o),Is(o),f&4){try{iu(3,o,o.return),xh(3,o)}catch(Oe){$t(o,o.return,Oe)}try{iu(5,o,o.return)}catch(Oe){$t(o,o.return,Oe)}}break;case 1:Yr(a,o),Is(o),f&512&&c!==null&&wl(c,c.return);break;case 5:if(Yr(a,o),Is(o),f&512&&c!==null&&wl(c,c.return),o.flags&32){var y=o.stateNode;try{Gn(y,"")}catch(Oe){$t(o,o.return,Oe)}}if(f&4&&(y=o.stateNode,y!=null)){var v=o.memoizedProps,I=c!==null?c.memoizedProps:v,L=o.type,q=o.updateQueue;if(o.updateQueue=null,q!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Ks(y,v),No(L,I);var ee=No(L,v);for(I=0;I<q.length;I+=2){var le=q[I],ue=q[I+1];le==="style"?Ro(y,ue):le==="dangerouslySetInnerHTML"?Po(y,ue):le==="children"?Gn(y,ue):z(y,le,ue,ee)}switch(L){case"input":or(y,v);break;case"textarea":Ba(y,v);break;case"select":var ae=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!v.multiple;var Te=v.value;Te!=null?ir(y,!!v.multiple,Te,!1):ae!==!!v.multiple&&(v.defaultValue!=null?ir(y,!!v.multiple,v.defaultValue,!0):ir(y,!!v.multiple,v.multiple?[]:"",!1))}y[Zc]=v}catch(Oe){$t(o,o.return,Oe)}}break;case 6:if(Yr(a,o),Is(o),f&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,v=o.memoizedProps;try{y.nodeValue=v}catch(Oe){$t(o,o.return,Oe)}}break;case 3:if(Yr(a,o),Is(o),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Lo(a.containerInfo)}catch(Oe){$t(o,o.return,Oe)}break;case 4:Yr(a,o),Is(o);break;case 13:Yr(a,o),Is(o),y=o.child,y.flags&8192&&(v=y.memoizedState!==null,y.stateNode.isHidden=v,!v||y.alternate!==null&&y.alternate.memoizedState!==null||(Sg=Pt())),f&4&&yE(o);break;case 22:if(le=c!==null&&c.memoizedState!==null,o.mode&1?(kn=(ee=kn)||le,Yr(a,o),kn=ee):Yr(a,o),Is(o),f&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!le&&(o.mode&1)!==0)for(Ae=o,le=o.child;le!==null;){for(ue=Ae=le;Ae!==null;){switch(ae=Ae,Te=ae.child,ae.tag){case 0:case 11:case 14:case 15:iu(4,ae,ae.return);break;case 1:wl(ae,ae.return);var Re=ae.stateNode;if(typeof Re.componentWillUnmount=="function"){f=ae,c=ae.return;try{a=f,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(Oe){$t(f,c,Oe)}}break;case 5:wl(ae,ae.return);break;case 22:if(ae.memoizedState!==null){EE(ue);continue}}Te!==null?(Te.return=ae,Ae=Te):EE(ue)}le=le.sibling}e:for(le=null,ue=o;;){if(ue.tag===5){if(le===null){le=ue;try{y=ue.stateNode,ee?(v=y.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=ue.stateNode,q=ue.memoizedProps.style,I=q!=null&&q.hasOwnProperty("display")?q.display:null,L.style.display=cs("display",I))}catch(Oe){$t(o,o.return,Oe)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=ee?"":ue.memoizedProps}catch(Oe){$t(o,o.return,Oe)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===o)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===o)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===o)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Yr(a,o),Is(o),f&4&&yE(o);break;case 21:break;default:Yr(a,o),Is(o)}}function Is(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(pE(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(Gn(y,""),f.flags&=-33);var v=mE(o);Eg(o,v,y);break;case 3:case 4:var I=f.stateNode.containerInfo,L=mE(o);wg(o,L,I);break;default:throw Error(t(161))}}catch(q){$t(o,o.return,q)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function mN(o,a,c){Ae=o,_E(o)}function _E(o,a,c){for(var f=(o.mode&1)!==0;Ae!==null;){var y=Ae,v=y.child;if(y.tag===22&&f){var I=y.memoizedState!==null||bh;if(!I){var L=y.alternate,q=L!==null&&L.memoizedState!==null||kn;L=bh;var ee=kn;if(bh=I,(kn=q)&&!ee)for(Ae=y;Ae!==null;)I=Ae,q=I.child,I.tag===22&&I.memoizedState!==null?bE(y):q!==null?(q.return=I,Ae=q):bE(y);for(;v!==null;)Ae=v,_E(v),v=v.sibling;Ae=y,bh=L,kn=ee}wE(o)}else(y.subtreeFlags&8772)!==0&&v!==null?(v.return=y,Ae=v):wE(o)}}function wE(o){for(;Ae!==null;){var a=Ae;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:kn||xh(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!kn)if(c===null)f.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Zr(a.type,c.memoizedProps);f.componentDidUpdate(y,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&E0(a,v,f);break;case 3:var I=a.updateQueue;if(I!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}E0(a,I,c)}break;case 5:var L=a.stateNode;if(c===null&&a.flags&4){c=L;var q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&c.focus();break;case"img":q.src&&(c.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&Lo(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}kn||a.flags&512&&_g(a)}catch(ae){$t(a,a.return,ae)}}if(a===o){Ae=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ae=c;break}Ae=a.return}}function EE(o){for(;Ae!==null;){var a=Ae;if(a===o){Ae=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ae=c;break}Ae=a.return}}function bE(o){for(;Ae!==null;){var a=Ae;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{xh(4,a)}catch(q){$t(a,c,q)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var y=a.return;try{f.componentDidMount()}catch(q){$t(a,y,q)}}var v=a.return;try{_g(a)}catch(q){$t(a,v,q)}break;case 5:var I=a.return;try{_g(a)}catch(q){$t(a,I,q)}}}catch(q){$t(a,a.return,q)}if(a===o){Ae=null;break}var L=a.sibling;if(L!==null){L.return=a.return,Ae=L;break}Ae=a.return}}var gN=Math.ceil,Sh=U.ReactCurrentDispatcher,bg=U.ReactCurrentOwner,kr=U.ReactCurrentBatchConfig,ft=0,mn=null,Xt=null,bn=0,gr=0,El=$o(0),an=0,au=null,Xi=0,Ih=0,xg=0,lu=null,Xn=null,Sg=0,bl=1/0,co=null,Th=!1,Ig=null,Ko=null,Ch=!1,Zo=null,Ah=0,cu=0,Tg=null,Ph=-1,Rh=0;function Un(){return(ft&6)!==0?Pt():Ph!==-1?Ph:Ph=Pt()}function Qo(o){return(o.mode&1)===0?1:(ft&2)!==0&&bn!==0?bn&-bn:Jk.transition!==null?(Rh===0&&(Rh=Rc()),Rh):(o=ct,o!==0||(o=window.event,o=o===void 0?16:Ya(o.type)),o)}function Xr(o,a,c,f){if(50<cu)throw cu=0,Tg=null,Error(t(185));zi(o,c,f),((ft&2)===0||o!==mn)&&(o===mn&&((ft&2)===0&&(Ih|=c),an===4&&Yo(o,bn)),Jn(o,f),c===1&&ft===0&&(a.mode&1)===0&&(bl=Pt()+500,sh&&qo()))}function Jn(o,a){var c=o.callbackNode;ji(o,a);var f=Qs(o,o===mn?bn:0);if(f===0)c!==null&&qa(c),o.callbackNode=null,o.callbackPriority=0;else if(a=f&-f,o.callbackPriority!==a){if(c!=null&&qa(c),a===1)o.tag===0?Xk(SE.bind(null,o)):c0(SE.bind(null,o)),Kk(function(){(ft&6)===0&&qo()}),c=null;else{switch(hs(f)){case 1:c=Ha;break;case 4:c=Cc;break;case 16:c=Mi;break;case 536870912:c=Wa;break;default:c=Mi}c=NE(c,xE.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function xE(o,a){if(Ph=-1,Rh=0,(ft&6)!==0)throw Error(t(327));var c=o.callbackNode;if(xl()&&o.callbackNode!==c)return null;var f=Qs(o,o===mn?bn:0);if(f===0)return null;if((f&30)!==0||(f&o.expiredLanes)!==0||a)a=kh(o,f);else{a=f;var y=ft;ft|=2;var v=TE();(mn!==o||bn!==a)&&(co=null,bl=Pt()+500,ea(o,a));do try{_N();break}catch(L){IE(o,L)}while(!0);qm(),Sh.current=v,ft=y,Xt!==null?a=0:(mn=null,bn=0,a=an)}if(a!==0){if(a===2&&(y=Pc(o),y!==0&&(f=y,a=Cg(o,y))),a===1)throw c=au,ea(o,0),Yo(o,f),Jn(o,Pt()),c;if(a===6)Yo(o,f);else{if(y=o.current.alternate,(f&30)===0&&!yN(y)&&(a=kh(o,f),a===2&&(v=Pc(o),v!==0&&(f=v,a=Cg(o,v))),a===1))throw c=au,ea(o,0),Yo(o,f),Jn(o,Pt()),c;switch(o.finishedWork=y,o.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:ta(o,Xn,co);break;case 3:if(Yo(o,f),(f&130023424)===f&&(a=Sg+500-Pt(),10<a)){if(Qs(o,0)!==0)break;if(y=o.suspendedLanes,(y&f)!==f){Un(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Dm(ta.bind(null,o,Xn,co),a);break}ta(o,Xn,co);break;case 4:if(Yo(o,f),(f&4194240)===f)break;for(a=o.eventTimes,y=-1;0<f;){var I=31-cr(f);v=1<<I,I=a[I],I>y&&(y=I),f&=~v}if(f=y,f=Pt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*gN(f/1960))-f,10<f){o.timeoutHandle=Dm(ta.bind(null,o,Xn,co),f);break}ta(o,Xn,co);break;case 5:ta(o,Xn,co);break;default:throw Error(t(329))}}}return Jn(o,Pt()),o.callbackNode===c?xE.bind(null,o):null}function Cg(o,a){var c=lu;return o.current.memoizedState.isDehydrated&&(ea(o,a).flags|=256),o=kh(o,a),o!==2&&(a=Xn,Xn=c,a!==null&&Ag(a)),o}function Ag(o){Xn===null?Xn=o:Xn.push.apply(Xn,o)}function yN(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var y=c[f],v=y.getSnapshot;y=y.value;try{if(!Gr(v(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Yo(o,a){for(a&=~xg,a&=~Ih,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-cr(a),f=1<<c;o[c]=-1,a&=~f}}function SE(o){if((ft&6)!==0)throw Error(t(327));xl();var a=Qs(o,0);if((a&1)===0)return Jn(o,Pt()),null;var c=kh(o,a);if(o.tag!==0&&c===2){var f=Pc(o);f!==0&&(a=f,c=Cg(o,f))}if(c===1)throw c=au,ea(o,0),Yo(o,a),Jn(o,Pt()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,ta(o,Xn,co),Jn(o,Pt()),null}function Pg(o,a){var c=ft;ft|=1;try{return o(a)}finally{ft=c,ft===0&&(bl=Pt()+500,sh&&qo())}}function Ji(o){Zo!==null&&Zo.tag===0&&(ft&6)===0&&xl();var a=ft;ft|=1;var c=kr.transition,f=ct;try{if(kr.transition=null,ct=1,o)return o()}finally{ct=f,kr.transition=c,ft=a,(ft&6)===0&&qo()}}function Rg(){gr=El.current,kt(El)}function ea(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,Gk(c)),Xt!==null)for(c=Xt.return;c!==null;){var f=c;switch(jm(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&nh();break;case 3:vl(),kt(Zn),kt(An),Xm();break;case 5:Qm(f);break;case 4:vl();break;case 13:kt(Lt);break;case 19:kt(Lt);break;case 10:Hm(f.type._context);break;case 22:case 23:Rg()}c=c.return}if(mn=o,Xt=o=Xo(o.current,null),bn=gr=a,an=0,au=null,xg=Ih=Xi=0,Xn=lu=null,Zi!==null){for(a=0;a<Zi.length;a++)if(c=Zi[a],f=c.interleaved,f!==null){c.interleaved=null;var y=f.next,v=c.pending;if(v!==null){var I=v.next;v.next=y,f.next=I}c.pending=f}Zi=null}return o}function IE(o,a){do{var c=Xt;try{if(qm(),ph.current=vh,mh){for(var f=Ft.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}mh=!1}if(Yi=0,pn=on=Ft=null,tu=!1,nu=0,bg.current=null,c===null||c.return===null){an=1,au=a,Xt=null;break}e:{var v=o,I=c.return,L=c,q=a;if(a=bn,L.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ee=q,le=L,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var Te=Q0(I);if(Te!==null){Te.flags&=-257,Y0(Te,I,L,v,a),Te.mode&1&&Z0(v,ee,a),a=Te,q=ee;var Re=a.updateQueue;if(Re===null){var Oe=new Set;Oe.add(q),a.updateQueue=Oe}else Re.add(q);break e}else{if((a&1)===0){Z0(v,ee,a),kg();break e}q=Error(t(426))}}else if(Nt&&L.mode&1){var Wt=Q0(I);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),Y0(Wt,I,L,v,a),$m(_l(q,L));break e}}v=q=_l(q,L),an!==4&&(an=2),lu===null?lu=[v]:lu.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var Q=G0(v,q,a);w0(v,Q);break e;case 1:L=q;var H=v.type,J=v.stateNode;if((v.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ko===null||!Ko.has(J)))){v.flags|=65536,a&=-a,v.lanes|=a;var fe=K0(v,L,a);w0(v,fe);break e}}v=v.return}while(v!==null)}AE(c)}catch(Me){a=Me,Xt===c&&c!==null&&(Xt=c=c.return);continue}break}while(!0)}function TE(){var o=Sh.current;return Sh.current=vh,o===null?vh:o}function kg(){(an===0||an===3||an===2)&&(an=4),mn===null||(Xi&268435455)===0&&(Ih&268435455)===0||Yo(mn,bn)}function kh(o,a){var c=ft;ft|=2;var f=TE();(mn!==o||bn!==a)&&(co=null,ea(o,a));do try{vN();break}catch(y){IE(o,y)}while(!0);if(qm(),ft=c,Sh.current=f,Xt!==null)throw Error(t(261));return mn=null,bn=0,an}function vN(){for(;Xt!==null;)CE(Xt)}function _N(){for(;Xt!==null&&!Oi();)CE(Xt)}function CE(o){var a=kE(o.alternate,o,gr);o.memoizedProps=o.pendingProps,a===null?AE(o):Xt=a,bg.current=null}function AE(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=dN(c,a,gr),c!==null){Xt=c;return}}else{if(c=hN(c,a),c!==null){c.flags&=32767,Xt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{an=6,Xt=null;return}}if(a=a.sibling,a!==null){Xt=a;return}Xt=a=o}while(a!==null);an===0&&(an=5)}function ta(o,a,c){var f=ct,y=kr.transition;try{kr.transition=null,ct=1,wN(o,a,c,f)}finally{kr.transition=y,ct=f}return null}function wN(o,a,c,f){do xl();while(Zo!==null);if((ft&6)!==0)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var v=c.lanes|c.childLanes;if(ym(o,v),o===mn&&(Xt=mn=null,bn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ch||(Ch=!0,NE(Mi,function(){return xl(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=kr.transition,kr.transition=null;var I=ct;ct=1;var L=ft;ft|=4,bg.current=null,pN(o,c),vE(c,o),zk(km),Js=!!Rm,km=Rm=null,o.current=c,mN(c),Zs(),ft=L,ct=I,kr.transition=v}else o.current=c;if(Ch&&(Ch=!1,Zo=o,Ah=y),v=o.pendingLanes,v===0&&(Ko=null),Fd(c.stateNode),Jn(o,Pt()),a!==null)for(f=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],f(y.value,{componentStack:y.stack,digest:y.digest});if(Th)throw Th=!1,o=Ig,Ig=null,o;return(Ah&1)!==0&&o.tag!==0&&xl(),v=o.pendingLanes,(v&1)!==0?o===Tg?cu++:(cu=0,Tg=o):cu=0,qo(),null}function xl(){if(Zo!==null){var o=hs(Ah),a=kr.transition,c=ct;try{if(kr.transition=null,ct=16>o?16:o,Zo===null)var f=!1;else{if(o=Zo,Zo=null,Ah=0,(ft&6)!==0)throw Error(t(331));var y=ft;for(ft|=4,Ae=o.current;Ae!==null;){var v=Ae,I=v.child;if((Ae.flags&16)!==0){var L=v.deletions;if(L!==null){for(var q=0;q<L.length;q++){var ee=L[q];for(Ae=ee;Ae!==null;){var le=Ae;switch(le.tag){case 0:case 11:case 15:iu(8,le,v)}var ue=le.child;if(ue!==null)ue.return=le,Ae=ue;else for(;Ae!==null;){le=Ae;var ae=le.sibling,Te=le.return;if(fE(le),le===ee){Ae=null;break}if(ae!==null){ae.return=Te,Ae=ae;break}Ae=Te}}}var Re=v.alternate;if(Re!==null){var Oe=Re.child;if(Oe!==null){Re.child=null;do{var Wt=Oe.sibling;Oe.sibling=null,Oe=Wt}while(Oe!==null)}}Ae=v}}if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,Ae=I;else e:for(;Ae!==null;){if(v=Ae,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:iu(9,v,v.return)}var Q=v.sibling;if(Q!==null){Q.return=v.return,Ae=Q;break e}Ae=v.return}}var H=o.current;for(Ae=H;Ae!==null;){I=Ae;var J=I.child;if((I.subtreeFlags&2064)!==0&&J!==null)J.return=I,Ae=J;else e:for(I=H;Ae!==null;){if(L=Ae,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:xh(9,L)}}catch(Me){$t(L,L.return,Me)}if(L===I){Ae=null;break e}var fe=L.sibling;if(fe!==null){fe.return=L.return,Ae=fe;break e}Ae=L.return}}if(ft=y,qo(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Vi,o)}catch{}f=!0}return f}finally{ct=c,kr.transition=a}}return!1}function PE(o,a,c){a=_l(c,a),a=G0(o,a,1),o=Wo(o,a,1),a=Un(),o!==null&&(zi(o,1,a),Jn(o,a))}function $t(o,a,c){if(o.tag===3)PE(o,o,c);else for(;a!==null;){if(a.tag===3){PE(a,o,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ko===null||!Ko.has(f))){o=_l(c,o),o=K0(a,o,1),a=Wo(a,o,1),o=Un(),a!==null&&(zi(a,1,o),Jn(a,o));break}}a=a.return}}function EN(o,a,c){var f=o.pingCache;f!==null&&f.delete(a),a=Un(),o.pingedLanes|=o.suspendedLanes&c,mn===o&&(bn&c)===c&&(an===4||an===3&&(bn&130023424)===bn&&500>Pt()-Sg?ea(o,0):xg|=c),Jn(o,a)}function RE(o,a){a===0&&((o.mode&1)===0?a=1:(a=Oo,Oo<<=1,(Oo&130023424)===0&&(Oo=4194304)));var c=Un();o=io(o,a),o!==null&&(zi(o,a,c),Jn(o,c))}function bN(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),RE(o,c)}function xN(o,a){var c=0;switch(o.tag){case 13:var f=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),RE(o,c)}var kE;kE=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Zn.current)Yn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return Yn=!1,uN(o,a,c);Yn=(o.flags&131072)!==0}else Yn=!1,Nt&&(a.flags&1048576)!==0&&u0(a,ih,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Eh(o,a),o=a.pendingProps;var y=dl(a,An.current);yl(a,c),y=tg(null,a,f,o,y,c);var v=ng();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Qn(f)?(v=!0,rh(a)):v=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Km(a),y.updater=_h,a.stateNode=y,y._reactInternals=a,lg(a,f,o,c),a=hg(null,a,f,!0,v,c)):(a.tag=0,Nt&&v&&Fm(a),zn(null,a,y,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Eh(o,a),o=a.pendingProps,y=f._init,f=y(f._payload),a.type=f,y=a.tag=IN(f),o=Zr(f,o),y){case 0:a=dg(null,a,f,o,c);break e;case 1:a=rE(null,a,f,o,c);break e;case 11:a=X0(null,a,f,o,c);break e;case 14:a=J0(null,a,f,Zr(f.type,o),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Zr(f,y),dg(o,a,f,y,c);case 1:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Zr(f,y),rE(o,a,f,y,c);case 3:e:{if(sE(a),o===null)throw Error(t(387));f=a.pendingProps,v=a.memoizedState,y=v.element,_0(o,a),hh(a,f,null,c);var I=a.memoizedState;if(f=I.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){y=_l(Error(t(423)),a),a=oE(o,a,f,c,y);break e}else if(f!==y){y=_l(Error(t(424)),a),a=oE(o,a,f,c,y);break e}else for(mr=Uo(a.stateNode.containerInfo.firstChild),pr=a,Nt=!0,Kr=null,c=y0(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(pl(),f===y){a=lo(o,a,c);break e}zn(o,a,f,c)}a=a.child}return a;case 5:return b0(a),o===null&&Um(a),f=a.type,y=a.pendingProps,v=o!==null?o.memoizedProps:null,I=y.children,Nm(f,y)?I=null:v!==null&&Nm(f,v)&&(a.flags|=32),nE(o,a),zn(o,a,I,c),a.child;case 6:return o===null&&Um(a),null;case 13:return iE(o,a,c);case 4:return Zm(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=ml(a,null,f,c):zn(o,a,f,c),a.child;case 11:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Zr(f,y),X0(o,a,f,y,c);case 7:return zn(o,a,a.pendingProps,c),a.child;case 8:return zn(o,a,a.pendingProps.children,c),a.child;case 12:return zn(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,y=a.pendingProps,v=a.memoizedProps,I=y.value,Tt(ch,f._currentValue),f._currentValue=I,v!==null)if(Gr(v.value,I)){if(v.children===y.children&&!Zn.current){a=lo(o,a,c);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var L=v.dependencies;if(L!==null){I=v.child;for(var q=L.firstContext;q!==null;){if(q.context===f){if(v.tag===1){q=ao(-1,c&-c),q.tag=2;var ee=v.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?q.next=q:(q.next=le.next,le.next=q),ee.pending=q}}v.lanes|=c,q=v.alternate,q!==null&&(q.lanes|=c),Wm(v.return,c,a),L.lanes|=c;break}q=q.next}}else if(v.tag===10)I=v.type===a.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(t(341));I.lanes|=c,L=I.alternate,L!==null&&(L.lanes|=c),Wm(I,c,a),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===a){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}zn(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,f=a.pendingProps.children,yl(a,c),y=Pr(y),f=f(y),a.flags|=1,zn(o,a,f,c),a.child;case 14:return f=a.type,y=Zr(f,a.pendingProps),y=Zr(f.type,y),J0(o,a,f,y,c);case 15:return eE(o,a,a.type,a.pendingProps,c);case 17:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Zr(f,y),Eh(o,a),a.tag=1,Qn(f)?(o=!0,rh(a)):o=!1,yl(a,c),H0(a,f,y),lg(a,f,y,c),hg(null,a,f,!0,o,c);case 19:return lE(o,a,c);case 22:return tE(o,a,c)}throw Error(t(156,a.tag))};function NE(o,a){return Tc(o,a)}function SN(o,a,c,f){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(o,a,c,f){return new SN(o,a,c,f)}function Ng(o){return o=o.prototype,!(!o||!o.isReactComponent)}function IN(o){if(typeof o=="function")return Ng(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===Be)return 14}return 2}function Xo(o,a){var c=o.alternate;return c===null?(c=Nr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Nh(o,a,c,f,y,v){var I=2;if(f=o,typeof o=="function")Ng(o)&&(I=1);else if(typeof o=="string")I=5;else e:switch(o){case A:return na(c.children,y,v,a);case C:I=8,y|=8;break;case N:return o=Nr(12,c,a,y|2),o.elementType=N,o.lanes=v,o;case O:return o=Nr(13,c,a,y),o.elementType=O,o.lanes=v,o;case Ce:return o=Nr(19,c,a,y),o.elementType=Ce,o.lanes=v,o;case _e:return Dh(c,y,v,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:I=10;break e;case F:I=9;break e;case B:I=11;break e;case Be:I=14;break e;case me:I=16,f=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Nr(I,c,a,y),a.elementType=o,a.type=f,a.lanes=v,a}function na(o,a,c,f){return o=Nr(7,o,f,a),o.lanes=c,o}function Dh(o,a,c,f){return o=Nr(22,o,f,a),o.elementType=_e,o.lanes=c,o.stateNode={isHidden:!1},o}function Dg(o,a,c){return o=Nr(6,o,null,a),o.lanes=c,o}function Og(o,a,c){return a=Nr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function TN(o,a,c,f,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kc(0),this.expirationTimes=kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Mg(o,a,c,f,y,v,I,L,q){return o=new TN(o,a,c,L,q),a===1?(a=1,v===!0&&(a|=8)):a=0,v=Nr(3,null,null,a),o.current=v,v.stateNode=o,v.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(v),o}function CN(o,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:f==null?null:""+f,children:o,containerInfo:a,implementation:c}}function DE(o){if(!o)return Bo;o=o._reactInternals;e:{if(Hr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Qn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Qn(c))return a0(o,c,a)}return a}function OE(o,a,c,f,y,v,I,L,q){return o=Mg(c,f,!0,o,y,v,I,L,q),o.context=DE(null),c=o.current,f=Un(),y=Qo(c),v=ao(f,y),v.callback=a??null,Wo(c,v,y),o.current.lanes=y,zi(o,y,f),Jn(o,f),o}function Oh(o,a,c,f){var y=a.current,v=Un(),I=Qo(y);return c=DE(c),a.context===null?a.context=c:a.pendingContext=c,a=ao(v,I),a.payload={element:o},f=f===void 0?null:f,f!==null&&(a.callback=f),o=Wo(y,a,I),o!==null&&(Xr(o,y,I,v),dh(o,y,I)),I}function Mh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function ME(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function Vg(o,a){ME(o,a),(o=o.alternate)&&ME(o,a)}function AN(){return null}var VE=typeof reportError=="function"?reportError:function(o){console.error(o)};function Lg(o){this._internalRoot=o}Vh.prototype.render=Lg.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Oh(o,a,null,null)},Vh.prototype.unmount=Lg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Ji(function(){Oh(null,o,null,null)}),a[no]=null}};function Vh(o){this._internalRoot=o}Vh.prototype.unstable_scheduleHydration=function(o){if(o){var a=Mc();o={blockedOn:null,target:o,priority:a};for(var c=0;c<ur.length&&a!==0&&a<ur[c].priority;c++);ur.splice(c,0,o),c===0&&Za(o)}};function Fg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Lh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function LE(){}function PN(o,a,c,f,y){if(y){if(typeof f=="function"){var v=f;f=function(){var ee=Mh(I);v.call(ee)}}var I=OE(a,f,o,0,null,!1,!1,"",LE);return o._reactRootContainer=I,o[no]=I.current,Gc(o.nodeType===8?o.parentNode:o),Ji(),I}for(;y=o.lastChild;)o.removeChild(y);if(typeof f=="function"){var L=f;f=function(){var ee=Mh(q);L.call(ee)}}var q=Mg(o,0,!1,null,null,!1,!1,"",LE);return o._reactRootContainer=q,o[no]=q.current,Gc(o.nodeType===8?o.parentNode:o),Ji(function(){Oh(a,q,c,f)}),q}function Fh(o,a,c,f,y){var v=c._reactRootContainer;if(v){var I=v;if(typeof y=="function"){var L=y;y=function(){var q=Mh(I);L.call(q)}}Oh(a,I,o,y)}else I=PN(c,a,o,y,f);return Mh(I)}Dc=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=mt(a.pendingLanes);c!==0&&(Nc(a,c|1),Jn(a,Pt()),(ft&6)===0&&(bl=Pt()+500,qo()))}break;case 13:Ji(function(){var f=io(o,1);if(f!==null){var y=Un();Xr(f,o,1,y)}}),Vg(o,1)}},Ga=function(o){if(o.tag===13){var a=io(o,134217728);if(a!==null){var c=Un();Xr(a,o,134217728,c)}Vg(o,134217728)}},Oc=function(o){if(o.tag===13){var a=Qo(o),c=io(o,a);if(c!==null){var f=Un();Xr(c,o,a,f)}Vg(o,a)}},Mc=function(){return ct},Vc=function(o,a){var c=ct;try{return ct=o,a()}finally{ct=c}},Br=function(o,a,c){switch(a){case"input":if(or(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==o&&f.form===o.form){var y=th(f);if(!y)throw Error(t(90));xt(f),or(f,y)}}}break;case"textarea":Ba(o,c);break;case"select":a=c.value,a!=null&&ir(o,!!c.multiple,a,!1)}},qt=Pg,hn=Ji;var RN={usingClientEntryPoint:!1,Events:[Qc,cl,th,qe,St,Pg]},uu={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kN={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Ld(o),o===null?null:o.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||AN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{Vi=jh.inject(kN),lr=jh}catch{}}return er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN,er.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fg(a))throw Error(t(200));return CN(o,a,null,c)},er.createRoot=function(o,a){if(!Fg(o))throw Error(t(299));var c=!1,f="",y=VE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Mg(o,1,!1,null,null,c,!1,f,y),o[no]=a.current,Gc(o.nodeType===8?o.parentNode:o),new Lg(a)},er.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Ld(a),o=o===null?null:o.stateNode,o},er.flushSync=function(o){return Ji(o)},er.hydrate=function(o,a,c){if(!Lh(a))throw Error(t(200));return Fh(null,o,a,!0,c)},er.hydrateRoot=function(o,a,c){if(!Fg(o))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,y=!1,v="",I=VE;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),a=OE(a,null,o,1,c??null,y,!1,v,I),o[no]=a.current,Gc(o),f)for(o=0;o<f.length;o++)c=f[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Vh(a)},er.render=function(o,a,c){if(!Lh(a))throw Error(t(200));return Fh(null,o,a,!1,c)},er.unmountComponentAtNode=function(o){if(!Lh(o))throw Error(t(40));return o._reactRootContainer?(Ji(function(){Fh(null,null,o,!1,function(){o._reactRootContainer=null,o[no]=null})}),!0):!1},er.unstable_batchedUpdates=Pg,er.unstable_renderSubtreeIntoContainer=function(o,a,c,f){if(!Lh(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Fh(o,a,c,!1,f)},er.version="18.3.1-next-f1338f8080-20240426",er}var HE;function uI(){if(HE)return Ug.exports;HE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ug.exports=jN(),Ug.exports}var WE;function zN(){if(WE)return zh;WE=1;var n=uI();return zh.createRoot=n.createRoot,zh.hydrateRoot=n.hydrateRoot,zh}var UN=zN();const $N="modulepreload",BN=function(n){return"/"+n},GE={},ss=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=l(t.map(p=>{if(p=BN(p),p in GE)return;GE[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":$N,g||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),g)return new Promise((S,R)=>{w.addEventListener("load",S),w.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};var b=Cv();const ce=cI(b),dI=DN({__proto__:null,default:ce},[b]);function KE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function yp(...n){return e=>{let t=!1;const r=n.map(s=>{const i=KE(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():KE(n[s],null)}}}}function Et(...n){return b.useCallback(yp(...n),n)}function Kl(n){const e=qN(n),t=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),h=u.find(WN);if(h){const p=h.props.children,g=u.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return E.jsx(e,{...l,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return E.jsx(e,{...l,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var vp=Kl("Slot");function qN(n){const e=b.forwardRef((t,r)=>{const{children:s,...i}=t;if(b.isValidElement(s)){const l=KN(s),u=GN(i,s.props);return s.type!==b.Fragment&&(u.ref=r?yp(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var hI=Symbol("radix.slottable");function HN(n){const e=({children:t})=>E.jsx(E.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=hI,e}function WN(n){return b.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===hI}function GN(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...u)=>{const h=i(...u);return s(...u),h}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function KN(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function fI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=fI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function pI(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=fI(n))&&(r&&(r+=" "),r+=e);return r}const ZE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,QE=pI,_p=(n,e)=>t=>{var r;if(e?.variants==null)return QE(n,t?.class,t?.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(p=>{const g=t?.[p],m=i?.[p];if(g===null)return null;const w=ZE(g)||ZE(m);return s[p][w]}),u=t&&Object.entries(t).reduce((p,g)=>{let[m,w]=g;return w===void 0||(p[m]=w),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:m,className:w,...S}=g;return Object.entries(S).every(R=>{let[T,P]=R;return Array.isArray(P)?P.includes({...i,...u}[T]):{...i,...u}[T]===P})?[...p,m,w]:p},[]);return QE(n,l,h,t?.class,t?.className)};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),YE=n=>{const e=QN(n);return e.charAt(0).toUpperCase()+e.slice(1)},mI=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...u},h)=>b.createElement("svg",{ref:h,...YN,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:mI("lucide",s),...u},[...l.map(([p,g])=>b.createElement(p,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(n,e)=>{const t=b.forwardRef(({className:r,...s},i)=>b.createElement(XN,{ref:i,iconNode:e,className:mI(`lucide-${ZN(YE(n))}`,`lucide-${n}`,r),...s}));return t.displayName=YE(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],e2=rt("bell",JN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gI=rt("check",t2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],r2=rt("chevron-down",n2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],o2=rt("chevron-right",s2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],a2=rt("chevron-up",i2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c2=rt("circle-help",l2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],d2=rt("circle",u2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Av=rt("clipboard-list",h2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],p2=rt("clock",f2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],g2=rt("command",m2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],v2=rt("eye-off",y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w2=rt("eye",_2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],b2=rt("factory",E2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],S2=rt("landmark",x2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],T2=rt("layout-dashboard",I2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rf=rt("loader-circle",C2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],XE=rt("lock",A2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],R2=rt("log-out",P2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],N2=rt("mail",k2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],O2=rt("moon",D2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wp=rt("package",M2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],L2=rt("panel-left-close",V2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],j2=rt("panel-left",F2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],U2=rt("receipt",z2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],B2=rt("refresh-cw",$2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],H2=rt("search-x",q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],kf=rt("search",W2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K2=rt("settings",G2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Q2=rt("shield",Z2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],yI=rt("shopping-cart",Y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],J2=rt("sun",X2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tD=rt("triangle-alert",eD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Pv=rt("truck",nD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],sD=rt("user-check",rD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ty=rt("user",oD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],vI=rt("users",iD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],lD=rt("wallet",aD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],uD=rt("warehouse",cD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rv=rt("x",dD),qg=768;function hD(){const[n,e]=b.useState(void 0);return b.useEffect(()=>{const t=window.matchMedia(`(max-width: ${qg-1}px)`),r=()=>{e(window.innerWidth<qg)};return t.addEventListener("change",r),e(window.innerWidth<qg),()=>t.removeEventListener("change",r)},[]),!!n}const kv="-",fD=n=>{const e=mD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(kv);return u[0]===""&&u.length!==1&&u.shift(),_I(u,e)||pD(l)},getConflictingClassGroupIds:(l,u)=>{const h=t[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},_I=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?_I(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(kv);return e.validators.find(({validator:l})=>l(i))?.classGroupId},JE=/^\[(.+)\]$/,pD=n=>{if(JE.test(n)){const e=JE.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},mD=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)Cy(t[s],r,s,e);return r},Cy=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:eb(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(gD(s)){Cy(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,l])=>{Cy(l,eb(e,i),t,r)})})},eb=(n,e)=>{let t=n;return e.split(kv).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},gD=n=>n.isThemeGetter,yD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,l)=>{t.set(i,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let l=t.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){t.has(i)?t.set(i,l):s(i,l)}}},Ay="!",Py=":",vD=Py.length,_D=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const i=[];let l=0,u=0,h=0,p;for(let R=0;R<s.length;R++){let T=s[R];if(l===0&&u===0){if(T===Py){i.push(s.slice(h,R)),h=R+vD;continue}if(T==="/"){p=R;continue}}T==="["?l++:T==="]"?l--:T==="("?u++:T===")"&&u--}const g=i.length===0?s:s.substring(h),m=wD(g),w=m!==g,S=p&&p>h?p-h:void 0;return{modifiers:i,hasImportantModifier:w,baseClassName:m,maybePostfixModifierPosition:S}};if(e){const s=e+Py,i=r;r=l=>l.startsWith(s)?i(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=i=>t({className:i,parseClassName:s})}return r},wD=n=>n.endsWith(Ay)?n.substring(0,n.length-1):n.startsWith(Ay)?n.substring(1):n,ED=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...i.sort(),l),i=[]):i.push(l)}),s.push(...i.sort()),s}},bD=n=>({cache:yD(n.cacheSize),parseClassName:_D(n),sortModifiers:ED(n),...fD(n)}),xD=/\s+/,SD=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,l=[],u=n.trim().split(xD);let h="";for(let p=u.length-1;p>=0;p-=1){const g=u[p],{isExternal:m,modifiers:w,hasImportantModifier:S,baseClassName:R,maybePostfixModifierPosition:T}=t(g);if(m){h=g+(h.length>0?" "+h:h);continue}let P=!!T,D=r(P?R.substring(0,T):R);if(!D){if(!P){h=g+(h.length>0?" "+h:h);continue}if(D=r(R),!D){h=g+(h.length>0?" "+h:h);continue}P=!1}const V=i(w).join(":"),z=S?V+Ay:V,U=z+D;if(l.includes(U))continue;l.push(U);const $=s(D,P);for(let K=0;K<$.length;++K){const A=$[K];l.push(z+A)}h=g+(h.length>0?" "+h:h)}return h};function ID(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=wI(e))&&(r&&(r+=" "),r+=t);return r}const wI=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=wI(n[r]))&&(t&&(t+=" "),t+=e);return t};function TD(n,...e){let t,r,s,i=l;function l(h){const p=e.reduce((g,m)=>m(g),n());return t=bD(p),r=t.cache.get,s=t.cache.set,i=u,u(h)}function u(h){const p=r(h);if(p)return p;const g=SD(h,t);return s(h,g),g}return function(){return i(ID.apply(null,arguments))}}const ln=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},EI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,CD=/^\d+\/\d+$/,AD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,kD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ND=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sl=n=>CD.test(n),Je=n=>!!n&&!Number.isNaN(Number(n)),ei=n=>!!n&&Number.isInteger(Number(n)),Hg=n=>n.endsWith("%")&&Je(n.slice(0,-1)),uo=n=>AD.test(n),DD=()=>!0,OD=n=>PD.test(n)&&!RD.test(n),xI=()=>!1,MD=n=>kD.test(n),VD=n=>ND.test(n),LD=n=>!ke(n)&&!Ne(n),FD=n=>fc(n,TI,xI),ke=n=>EI.test(n),ra=n=>fc(n,CI,OD),Wg=n=>fc(n,BD,Je),tb=n=>fc(n,SI,xI),jD=n=>fc(n,II,VD),Uh=n=>fc(n,AI,MD),Ne=n=>bI.test(n),hu=n=>pc(n,CI),zD=n=>pc(n,qD),nb=n=>pc(n,SI),UD=n=>pc(n,TI),$D=n=>pc(n,II),$h=n=>pc(n,AI,!0),fc=(n,e,t)=>{const r=EI.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},pc=(n,e,t=!1)=>{const r=bI.exec(n);return r?r[1]?e(r[1]):t:!1},SI=n=>n==="position"||n==="percentage",II=n=>n==="image"||n==="url",TI=n=>n==="length"||n==="size"||n==="bg-size",CI=n=>n==="length",BD=n=>n==="number",qD=n=>n==="family-name",AI=n=>n==="shadow",HD=()=>{const n=ln("color"),e=ln("font"),t=ln("text"),r=ln("font-weight"),s=ln("tracking"),i=ln("leading"),l=ln("breakpoint"),u=ln("container"),h=ln("spacing"),p=ln("radius"),g=ln("shadow"),m=ln("inset-shadow"),w=ln("text-shadow"),S=ln("drop-shadow"),R=ln("blur"),T=ln("perspective"),P=ln("aspect"),D=ln("ease"),V=ln("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...U(),Ne,ke],K=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],C=()=>[Ne,ke,h],N=()=>[Sl,"full","auto",...C()],M=()=>[ei,"none","subgrid",Ne,ke],F=()=>["auto",{span:["full",ei,Ne,ke]},ei,Ne,ke],B=()=>[ei,"auto",Ne,ke],O=()=>["auto","min","max","fr",Ne,ke],Ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Be=()=>["start","end","center","stretch","center-safe","end-safe"],me=()=>["auto",...C()],_e=()=>[Sl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],W=()=>[n,Ne,ke],ne=()=>[...U(),nb,tb,{position:[Ne,ke]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",UD,FD,{size:[Ne,ke]}],G=()=>[Hg,hu,ra],oe=()=>["","none","full",p,Ne,ke],ie=()=>["",Je,hu,ra],he=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Je,Hg,nb,tb],Se=()=>["","none",R,Ne,ke],Ge=()=>["none",Je,Ne,ke],Qe=()=>["none",Je,Ne,ke],pe=()=>[Je,Ne,ke],xt=()=>[Sl,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[uo],breakpoint:[uo],color:[DD],container:[uo],"drop-shadow":[uo],ease:["in","out","in-out"],font:[LD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[uo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[uo],shadow:[uo],spacing:["px",Je],text:[uo],"text-shadow":[uo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Sl,ke,Ne,P]}],container:["container"],columns:[{columns:[Je,ke,Ne,u]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[ei,"auto",Ne,ke]}],basis:[{basis:[Sl,"full","auto",u,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,Sl,"auto","initial","none",ke]}],grow:[{grow:["",Je,Ne,ke]}],shrink:[{shrink:["",Je,Ne,ke]}],order:[{order:[ei,"first","last","none",Ne,ke]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...Ce(),"normal"]}],"justify-items":[{"justify-items":[...Be(),"normal"]}],"justify-self":[{"justify-self":["auto",...Be()]}],"align-content":[{content:["normal",...Ce()]}],"align-items":[{items:[...Be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Be(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ce()}],"place-items":[{"place-items":[...Be(),"baseline"]}],"place-self":[{"place-self":["auto",...Be()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:me()}],mx:[{mx:me()}],my:[{my:me()}],ms:[{ms:me()}],me:[{me:me()}],mt:[{mt:me()}],mr:[{mr:me()}],mb:[{mb:me()}],ml:[{ml:me()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:_e()}],w:[{w:[u,"screen",..._e()]}],"min-w":[{"min-w":[u,"screen","none",..._e()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},..._e()]}],h:[{h:["screen","lh",..._e()]}],"min-h":[{"min-h":["screen","lh","none",..._e()]}],"max-h":[{"max-h":["screen","lh",..._e()]}],"font-size":[{text:["base",t,hu,ra]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,Wg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hg,ke]}],"font-family":[{font:[zD,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,ke]}],"line-clamp":[{"line-clamp":[Je,"none",Ne,Wg]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",Ne,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Ne,ra]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Je,"auto",Ne,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ei,Ne,ke],radial:["",Ne,ke],conic:[ei,Ne,ke]},$D,jD]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Ne,ke]}],"outline-w":[{outline:["",Je,hu,ra]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",g,$h,Uh]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",m,$h,Uh]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Je,ra]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",w,$h,Uh]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Je,Ne,ke]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Ne,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,ke]}],filter:[{filter:["","none",Ne,ke]}],blur:[{blur:Se()}],brightness:[{brightness:[Je,Ne,ke]}],contrast:[{contrast:[Je,Ne,ke]}],"drop-shadow":[{"drop-shadow":["","none",S,$h,Uh]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Je,Ne,ke]}],"hue-rotate":[{"hue-rotate":[Je,Ne,ke]}],invert:[{invert:["",Je,Ne,ke]}],saturate:[{saturate:[Je,Ne,ke]}],sepia:[{sepia:["",Je,Ne,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,ke]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Ne,ke]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Ne,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Ne,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Ne,ke]}],"backdrop-invert":[{"backdrop-invert":["",Je,Ne,ke]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Ne,ke]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Ne,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Ne,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Ne,ke]}],ease:[{ease:["linear","initial",D,Ne,ke]}],delay:[{delay:[Je,Ne,ke]}],animate:[{animate:["none",V,Ne,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Ne,ke]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[Ne,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xt()}],"translate-x":[{"translate-x":xt()}],"translate-y":[{"translate-y":xt()}],"translate-z":[{"translate-z":xt()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,ke]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Je,hu,ra,Wg]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},WD=TD(HD);function $e(...n){return WD(pI(n))}const GD=_p("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function ju({className:n,variant:e,size:t,asChild:r=!1,...s}){const i=r?vp:"button";return E.jsx(i,{"data-slot":"button",className:$e(GD({variant:e,size:t,className:n})),...s})}function bu({className:n,type:e,...t}){return E.jsx("input",{type:e,"data-slot":"input",className:$e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Nv=uI();const PI=cI(Nv);var KD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=KD.reduce((n,e)=>{const t=Kl(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(h,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function RI(n,e){n&&Nv.flushSync(()=>n.dispatchEvent(e))}var ZD="Separator",rb="horizontal",QD=["horizontal","vertical"],kI=b.forwardRef((n,e)=>{const{decorative:t,orientation:r=rb,...s}=n,i=YD(r)?r:rb,u=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return E.jsx(ht.div,{"data-orientation":i,...u,...s,ref:e})});kI.displayName=ZD;function YD(n){return QD.includes(n)}var XD=kI;function JD({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return E.jsx(XD,{"data-slot":"separator-root",decorative:t,orientation:e,className:$e("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function Le(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function eO(n,e){const t=b.createContext(e),r=i=>{const{children:l,...u}=i,h=b.useMemo(()=>u,Object.values(u));return E.jsx(t.Provider,{value:h,children:l})};r.displayName=n+"Provider";function s(i){const l=b.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function Hs(n,e=[]){let t=[];function r(i,l){const u=b.createContext(l),h=t.length;t=[...t,l];const p=m=>{const{scope:w,children:S,...R}=m,T=w?.[n]?.[h]||u,P=b.useMemo(()=>R,Object.values(R));return E.jsx(T.Provider,{value:P,children:S})};p.displayName=i+"Provider";function g(m,w){const S=w?.[n]?.[h]||u,R=b.useContext(S);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[p,g]}const s=()=>{const i=t.map(l=>b.createContext(l));return function(u){const h=u?.[n]||i;return b.useMemo(()=>({[`__scope${n}`]:{...u,[n]:h}}),[u,h])}};return s.scopeName=n,[r,tO(s,...e)]}function tO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const m=h(i)[`__scope${p}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var mo=globalThis?.document?b.useLayoutEffect:()=>{},nO=dI[" useId ".trim().toString()]||(()=>{}),rO=0;function fa(n){const[e,t]=b.useState(nO());return mo(()=>{t(r=>r??String(rO++))},[n]),e?`radix-${e}`:""}var sO=dI[" useInsertionEffect ".trim().toString()]||mo;function mc({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,l]=oO({defaultProp:e,onChange:t}),u=n!==void 0,h=u?n:s;{const g=b.useRef(n!==void 0);b.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const p=b.useCallback(g=>{if(u){const m=iO(g)?g(n):g;m!==n&&l.current?.(m)}else i(g)},[u,n,i,l]);return[h,p]}function oO({defaultProp:n,onChange:e}){const[t,r]=b.useState(n),s=b.useRef(t),i=b.useRef(e);return sO(()=>{i.current=e},[e]),b.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,r,i]}function iO(n){return typeof n=="function"}function On(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}function aO(n,e=globalThis?.document){const t=On(n);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var lO="DismissableLayer",Ry="dismissableLayer.update",cO="dismissableLayer.pointerDownOutside",uO="dismissableLayer.focusOutside",sb,NI=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ep=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...h}=n,p=b.useContext(NI),[g,m]=b.useState(null),w=g?.ownerDocument??globalThis?.document,[,S]=b.useState({}),R=Et(e,A=>m(A)),T=Array.from(p.layers),[P]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),D=T.indexOf(P),V=g?T.indexOf(g):-1,z=p.layersWithOutsidePointerEventsDisabled.size>0,U=V>=D,$=fO(A=>{const C=A.target,N=[...p.branches].some(M=>M.contains(C));!U||N||(s?.(A),l?.(A),A.defaultPrevented||u?.())},w),K=pO(A=>{const C=A.target;[...p.branches].some(M=>M.contains(C))||(i?.(A),l?.(A),A.defaultPrevented||u?.())},w);return aO(A=>{V===p.layers.size-1&&(r?.(A),!A.defaultPrevented&&u&&(A.preventDefault(),u()))},w),b.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(sb=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),ob(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=sb)}},[g,w,t,p]),b.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),ob())},[g,p]),b.useEffect(()=>{const A=()=>S({});return document.addEventListener(Ry,A),()=>document.removeEventListener(Ry,A)},[]),E.jsx(ht.div,{...h,ref:R,style:{pointerEvents:z?U?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,K.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,K.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,$.onPointerDownCapture)})});Ep.displayName=lO;var dO="DismissableLayerBranch",hO=b.forwardRef((n,e)=>{const t=b.useContext(NI),r=b.useRef(null),s=Et(e,r);return b.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),E.jsx(ht.div,{...n,ref:s})});hO.displayName=dO;function fO(n,e=globalThis?.document){const t=On(n),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let h=function(){DI(cO,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function pO(n,e=globalThis?.document){const t=On(n),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&DI(uO,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ob(){const n=new CustomEvent(Ry);document.dispatchEvent(n)}function DI(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?RI(s,i):s.dispatchEvent(i)}var Gg="focusScope.autoFocusOnMount",Kg="focusScope.autoFocusOnUnmount",ib={bubbles:!1,cancelable:!0},mO="FocusScope",Dv=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=n,[u,h]=b.useState(null),p=On(s),g=On(i),m=b.useRef(null),w=Et(e,T=>h(T)),S=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let T=function(z){if(S.paused||!u)return;const U=z.target;u.contains(U)?m.current=U:ii(m.current,{select:!0})},P=function(z){if(S.paused||!u)return;const U=z.relatedTarget;U!==null&&(u.contains(U)||ii(m.current,{select:!0}))},D=function(z){if(document.activeElement===document.body)for(const $ of z)$.removedNodes.length>0&&ii(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",P);const V=new MutationObserver(D);return u&&V.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",P),V.disconnect()}}},[r,u,S.paused]),b.useEffect(()=>{if(u){lb.add(S);const T=document.activeElement;if(!u.contains(T)){const D=new CustomEvent(Gg,ib);u.addEventListener(Gg,p),u.dispatchEvent(D),D.defaultPrevented||(gO(EO(OI(u)),{select:!0}),document.activeElement===T&&ii(u))}return()=>{u.removeEventListener(Gg,p),setTimeout(()=>{const D=new CustomEvent(Kg,ib);u.addEventListener(Kg,g),u.dispatchEvent(D),D.defaultPrevented||ii(T??document.body,{select:!0}),u.removeEventListener(Kg,g),lb.remove(S)},0)}}},[u,p,g,S]);const R=b.useCallback(T=>{if(!t&&!r||S.paused)return;const P=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,D=document.activeElement;if(P&&D){const V=T.currentTarget,[z,U]=yO(V);z&&U?!T.shiftKey&&D===U?(T.preventDefault(),t&&ii(z,{select:!0})):T.shiftKey&&D===z&&(T.preventDefault(),t&&ii(U,{select:!0})):D===V&&T.preventDefault()}},[t,r,S.paused]);return E.jsx(ht.div,{tabIndex:-1,...l,ref:w,onKeyDown:R})});Dv.displayName=mO;function gO(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ii(r,{select:e}),document.activeElement!==t)return}function yO(n){const e=OI(n),t=ab(e,n),r=ab(e.reverse(),n);return[t,r]}function OI(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ab(n,e){for(const t of n)if(!vO(t,{upTo:e}))return t}function vO(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function _O(n){return n instanceof HTMLInputElement&&"select"in n}function ii(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&_O(n)&&e&&n.select()}}var lb=wO();function wO(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=cb(n,e),n.unshift(e)},remove(e){n=cb(n,e),n[0]?.resume()}}}function cb(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function EO(n){return n.filter(e=>e.tagName!=="A")}var bO="Portal",bp=b.forwardRef((n,e)=>{const{container:t,...r}=n,[s,i]=b.useState(!1);mo(()=>i(!0),[]);const l=t||s&&globalThis?.document?.body;return l?PI.createPortal(E.jsx(ht.div,{...r,ref:e}),l):null});bp.displayName=bO;function xO(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Hn=n=>{const{present:e,children:t}=n,r=SO(e),s=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),i=Et(r.ref,IO(s));return typeof t=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};Hn.displayName="Presence";function SO(n){const[e,t]=b.useState(),r=b.useRef(null),s=b.useRef(n),i=b.useRef("none"),l=n?"mounted":"unmounted",[u,h]=xO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Bh(r.current);i.current=u==="mounted"?p:"none"},[u]),mo(()=>{const p=r.current,g=s.current;if(g!==n){const w=i.current,S=Bh(p);n?h("MOUNT"):S==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&w!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),mo(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,m=S=>{const T=Bh(r.current).includes(CSS.escape(S.animationName));if(S.target===e&&T&&(h("ANIMATION_END"),!s.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},w=S=>{S.target===e&&(i.current=Bh(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Bh(n){return n?.animationName||"none"}function IO(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Zg=0;function MI(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??ub()),document.body.insertAdjacentElement("beforeend",n[1]??ub()),Zg++,()=>{Zg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zg--}},[])}function ub(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Rs=function(){return Rs=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rs.apply(this,arguments)};function VI(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function TO(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var df="right-scroll-bar-position",hf="width-before-scroll-bar",CO="with-scroll-bars-hidden",AO="--removed-body-scroll-bar-size";function Qg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function PO(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var RO=typeof window<"u"?b.useLayoutEffect:b.useEffect,db=new WeakMap;function kO(n,e){var t=PO(null,function(r){return n.forEach(function(s){return Qg(s,r)})});return RO(function(){var r=db.get(t);if(r){var s=new Set(r),i=new Set(n),l=t.current;s.forEach(function(u){i.has(u)||Qg(u,null)}),i.forEach(function(u){s.has(u)||Qg(u,l)})}db.set(t,n)},[n]),t}function NO(n){return n}function DO(n,e){e===void 0&&(e=NO);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var l=e(i,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(r=!0;t.length;){var l=t;t=[],l.forEach(i)}t={push:function(u){return i(u)},filter:function(){return t}}},assignMedium:function(i){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(i),l=t}var h=function(){var g=l;l=[],g.forEach(i)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),t}}}};return s}function OO(n){n===void 0&&(n={});var e=DO(null);return e.options=Rs({async:!0,ssr:!1},n),e}var LI=function(n){var e=n.sideCar,t=VI(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Rs({},t))};LI.isSideCarExport=!0;function MO(n,e){return n.useMedium(e),LI}var FI=OO(),Yg=function(){},xp=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:Yg,onWheelCapture:Yg,onTouchMoveCapture:Yg}),s=r[0],i=r[1],l=n.forwardProps,u=n.children,h=n.className,p=n.removeScrollBar,g=n.enabled,m=n.shards,w=n.sideCar,S=n.noRelative,R=n.noIsolation,T=n.inert,P=n.allowPinchZoom,D=n.as,V=D===void 0?"div":D,z=n.gapMode,U=VI(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=w,K=kO([t,e]),A=Rs(Rs({},U),s);return b.createElement(b.Fragment,null,g&&b.createElement($,{sideCar:FI,removeScrollBar:p,shards:m,noRelative:S,noIsolation:R,inert:T,setCallbacks:i,allowPinchZoom:!!P,lockRef:t,gapMode:z}),l?b.cloneElement(b.Children.only(u),Rs(Rs({},A),{ref:K})):b.createElement(V,Rs({},A,{className:h,ref:K}),u))});xp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xp.classNames={fullWidth:hf,zeroRight:df};var VO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LO(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=VO();return e&&n.setAttribute("nonce",e),n}function FO(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function jO(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var zO=function(){var n=0,e=null;return{add:function(t){n==0&&(e=LO())&&(FO(e,t),jO(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},UO=function(){var n=zO();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},jI=function(){var n=UO(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},$O={left:0,top:0,right:0,gap:0},Xg=function(n){return parseInt(n||"",10)||0},BO=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[Xg(t),Xg(r),Xg(s)]},qO=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return $O;var e=BO(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},HO=jI(),Ul="data-scroll-locked",WO=function(n,e,t,r){var s=n.left,i=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(CO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(df,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(hf,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(df," .").concat(df,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ul,`] {
    `).concat(AO,": ").concat(u,`px;
  }
`)},hb=function(){var n=parseInt(document.body.getAttribute(Ul)||"0",10);return isFinite(n)?n:0},GO=function(){b.useEffect(function(){return document.body.setAttribute(Ul,(hb()+1).toString()),function(){var n=hb()-1;n<=0?document.body.removeAttribute(Ul):document.body.setAttribute(Ul,n.toString())}},[])},KO=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;GO();var i=b.useMemo(function(){return qO(s)},[s]);return b.createElement(HO,{styles:WO(i,!e,s,t?"":"!important")})},ky=!1;if(typeof window<"u")try{var qh=Object.defineProperty({},"passive",{get:function(){return ky=!0,!0}});window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{ky=!1}var Il=ky?{passive:!1}:!1,ZO=function(n){return n.tagName==="TEXTAREA"},zI=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!ZO(n)&&t[e]==="visible")},QO=function(n){return zI(n,"overflowY")},YO=function(n){return zI(n,"overflowX")},fb=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=UI(n,r);if(s){var i=$I(n,r),l=i[1],u=i[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},XO=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},JO=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},UI=function(n,e){return n==="v"?QO(e):YO(e)},$I=function(n,e){return n==="v"?XO(e):JO(e)},eM=function(n,e){return n==="h"&&e==="rtl"?-1:1},tM=function(n,e,t,r,s){var i=eM(n,window.getComputedStyle(e).direction),l=i*r,u=t.target,h=e.contains(u),p=!1,g=l>0,m=0,w=0;do{if(!u)break;var S=$I(n,u),R=S[0],T=S[1],P=S[2],D=T-P-i*R;(R||D)&&UI(n,u)&&(m+=D,w+=R);var V=u.parentNode;u=V&&V.nodeType===Node.DOCUMENT_FRAGMENT_NODE?V.host:V}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(g&&Math.abs(m)<1||!g&&Math.abs(w)<1)&&(p=!0),p},Hh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},pb=function(n){return[n.deltaX,n.deltaY]},mb=function(n){return n&&"current"in n?n.current:n},nM=function(n,e){return n[0]===e[0]&&n[1]===e[1]},rM=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},sM=0,Tl=[];function oM(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),s=b.useState(sM++)[0],i=b.useState(jI)[0],l=b.useRef(n);b.useEffect(function(){l.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var T=TO([n.lockRef.current],(n.shards||[]).map(mb),!0).filter(Boolean);return T.forEach(function(P){return P.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var u=b.useCallback(function(T,P){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!l.current.allowPinchZoom;var D=Hh(T),V=t.current,z="deltaX"in T?T.deltaX:V[0]-D[0],U="deltaY"in T?T.deltaY:V[1]-D[1],$,K=T.target,A=Math.abs(z)>Math.abs(U)?"h":"v";if("touches"in T&&A==="h"&&K.type==="range")return!1;var C=fb(A,K);if(!C)return!0;if(C?$=A:($=A==="v"?"h":"v",C=fb(A,K)),!C)return!1;if(!r.current&&"changedTouches"in T&&(z||U)&&(r.current=$),!$)return!0;var N=r.current||$;return tM(N,P,T,N==="h"?z:U)},[]),h=b.useCallback(function(T){var P=T;if(!(!Tl.length||Tl[Tl.length-1]!==i)){var D="deltaY"in P?pb(P):Hh(P),V=e.current.filter(function($){return $.name===P.type&&($.target===P.target||P.target===$.shadowParent)&&nM($.delta,D)})[0];if(V&&V.should){P.cancelable&&P.preventDefault();return}if(!V){var z=(l.current.shards||[]).map(mb).filter(Boolean).filter(function($){return $.contains(P.target)}),U=z.length>0?u(P,z[0]):!l.current.noIsolation;U&&P.cancelable&&P.preventDefault()}}},[]),p=b.useCallback(function(T,P,D,V){var z={name:T,delta:P,target:D,should:V,shadowParent:iM(D)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(U){return U!==z})},1)},[]),g=b.useCallback(function(T){t.current=Hh(T),r.current=void 0},[]),m=b.useCallback(function(T){p(T.type,pb(T),T.target,u(T,n.lockRef.current))},[]),w=b.useCallback(function(T){p(T.type,Hh(T),T.target,u(T,n.lockRef.current))},[]);b.useEffect(function(){return Tl.push(i),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Il),document.addEventListener("touchmove",h,Il),document.addEventListener("touchstart",g,Il),function(){Tl=Tl.filter(function(T){return T!==i}),document.removeEventListener("wheel",h,Il),document.removeEventListener("touchmove",h,Il),document.removeEventListener("touchstart",g,Il)}},[]);var S=n.removeScrollBar,R=n.inert;return b.createElement(b.Fragment,null,R?b.createElement(i,{styles:rM(s)}):null,S?b.createElement(KO,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function iM(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const aM=MO(FI,oM);var Ov=b.forwardRef(function(n,e){return b.createElement(xp,Rs({},n,{ref:e,sideCar:aM}))});Ov.classNames=xp.classNames;var lM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Cl=new WeakMap,Wh=new WeakMap,Gh={},Jg=0,BI=function(n){return n&&(n.host||BI(n.parentNode))},cM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=BI(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},uM=function(n,e,t,r){var s=cM(e,Array.isArray(n)?n:[n]);Gh[t]||(Gh[t]=new WeakMap);var i=Gh[t],l=[],u=new Set,h=new Set(s),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};s.forEach(p);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(w){if(u.has(w))g(w);else try{var S=w.getAttribute(r),R=S!==null&&S!=="false",T=(Cl.get(w)||0)+1,P=(i.get(w)||0)+1;Cl.set(w,T),i.set(w,P),l.push(w),T===1&&R&&Wh.set(w,!0),P===1&&w.setAttribute(t,"true"),R||w.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",w,D)}})};return g(e),u.clear(),Jg++,function(){l.forEach(function(m){var w=Cl.get(m)-1,S=i.get(m)-1;Cl.set(m,w),i.set(m,S),w||(Wh.has(m)||m.removeAttribute(r),Wh.delete(m)),S||m.removeAttribute(t)}),Jg--,Jg||(Cl=new WeakMap,Cl=new WeakMap,Wh=new WeakMap,Gh={})}},qI=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=lM(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),uM(r,s,t,"aria-hidden")):function(){return null}},Sp="Dialog",[HI]=Hs(Sp),[dM,os]=HI(Sp),WI=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=n,u=b.useRef(null),h=b.useRef(null),[p,g]=mc({prop:r,defaultProp:s??!1,onChange:i,caller:Sp});return E.jsx(dM,{scope:e,triggerRef:u,contentRef:h,contentId:fa(),titleId:fa(),descriptionId:fa(),open:p,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(m=>!m),[g]),modal:l,children:t})};WI.displayName=Sp;var GI="DialogTrigger",KI=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=os(GI,t),i=Et(e,s.triggerRef);return E.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Lv(s.open),...r,ref:i,onClick:Le(n.onClick,s.onOpenToggle)})});KI.displayName=GI;var Mv="DialogPortal",[hM,ZI]=HI(Mv,{forceMount:void 0}),QI=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=os(Mv,e);return E.jsx(hM,{scope:e,forceMount:t,children:b.Children.map(r,l=>E.jsx(Hn,{present:t||i.open,children:E.jsx(bp,{asChild:!0,container:s,children:l})}))})};QI.displayName=Mv;var Nf="DialogOverlay",YI=b.forwardRef((n,e)=>{const t=ZI(Nf,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=os(Nf,n.__scopeDialog);return i.modal?E.jsx(Hn,{present:r||i.open,children:E.jsx(pM,{...s,ref:e})}):null});YI.displayName=Nf;var fM=Kl("DialogOverlay.RemoveScroll"),pM=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=os(Nf,t);return E.jsx(Ov,{as:fM,allowPinchZoom:!0,shards:[s.contentRef],children:E.jsx(ht.div,{"data-state":Lv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),wa="DialogContent",XI=b.forwardRef((n,e)=>{const t=ZI(wa,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=os(wa,n.__scopeDialog);return E.jsx(Hn,{present:r||i.open,children:i.modal?E.jsx(mM,{...s,ref:e}):E.jsx(gM,{...s,ref:e})})});XI.displayName=wa;var mM=b.forwardRef((n,e)=>{const t=os(wa,n.__scopeDialog),r=b.useRef(null),s=Et(e,t.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return qI(i)},[]),E.jsx(JI,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(n.onCloseAutoFocus,i=>{i.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Le(n.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Le(n.onFocusOutside,i=>i.preventDefault())})}),gM=b.forwardRef((n,e)=>{const t=os(wa,n.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return E.jsx(JI,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{n.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{n.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;t.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),JI=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=n,u=os(wa,t),h=b.useRef(null),p=Et(e,h);return MI(),E.jsxs(E.Fragment,{children:[E.jsx(Dv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:E.jsx(Ep,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Lv(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(yM,{titleId:u.titleId}),E.jsx(_M,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Vv="DialogTitle",e1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=os(Vv,t);return E.jsx(ht.h2,{id:s.titleId,...r,ref:e})});e1.displayName=Vv;var t1="DialogDescription",n1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=os(t1,t);return E.jsx(ht.p,{id:s.descriptionId,...r,ref:e})});n1.displayName=t1;var r1="DialogClose",s1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=os(r1,t);return E.jsx(ht.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,()=>s.onOpenChange(!1))})});s1.displayName=r1;function Lv(n){return n?"open":"closed"}var o1="DialogTitleWarning",[UH,i1]=eO(o1,{contentName:wa,titleName:Vv,docsSlug:"dialog"}),yM=({titleId:n})=>{const e=i1(o1),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},vM="DialogDescriptionWarning",_M=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i1(vM).contentName}}.`;return b.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},a1=WI,wM=KI,l1=QI,Fv=YI,jv=XI,zv=e1,Uv=n1,c1=s1;const EM=a1,bM=l1,u1=b.forwardRef(({className:n,...e},t)=>E.jsx(Fv,{className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));u1.displayName=Fv.displayName;const xM=_p("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),d1=b.forwardRef(({side:n="right",className:e,children:t,...r},s)=>E.jsxs(bM,{children:[E.jsx(u1,{}),E.jsxs(jv,{ref:s,className:$e(xM({side:n}),e),...r,children:[t,E.jsxs(c1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[E.jsx(Rv,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));d1.displayName=jv.displayName;const h1=({className:n,...e})=>E.jsx("div",{className:$e("flex flex-col space-y-2 text-center sm:text-left",n),...e});h1.displayName="SheetHeader";const f1=b.forwardRef(({className:n,...e},t)=>E.jsx(zv,{ref:t,className:$e("text-lg font-semibold text-foreground",n),...e}));f1.displayName=zv.displayName;const p1=b.forwardRef(({className:n,...e},t)=>E.jsx(Uv,{ref:t,className:$e("text-sm text-muted-foreground",n),...e}));p1.displayName=Uv.displayName;const SM=["top","right","bottom","left"],Ei=Math.min,vr=Math.max,Df=Math.round,Kh=Math.floor,Ms=n=>({x:n,y:n}),IM={left:"right",right:"left",bottom:"top",top:"bottom"},TM={start:"end",end:"start"};function Ny(n,e,t){return vr(n,Ei(e,t))}function go(n,e){return typeof n=="function"?n(e):n}function yo(n){return n.split("-")[0]}function gc(n){return n.split("-")[1]}function $v(n){return n==="x"?"y":"x"}function Bv(n){return n==="y"?"height":"width"}const CM=new Set(["top","bottom"]);function Ns(n){return CM.has(yo(n))?"y":"x"}function qv(n){return $v(Ns(n))}function AM(n,e,t){t===void 0&&(t=!1);const r=gc(n),s=qv(n),i=Bv(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=Of(l)),[l,Of(l)]}function PM(n){const e=Of(n);return[Dy(n),e,Dy(e)]}function Dy(n){return n.replace(/start|end/g,e=>TM[e])}const gb=["left","right"],yb=["right","left"],RM=["top","bottom"],kM=["bottom","top"];function NM(n,e,t){switch(n){case"top":case"bottom":return t?e?yb:gb:e?gb:yb;case"left":case"right":return e?RM:kM;default:return[]}}function DM(n,e,t,r){const s=gc(n);let i=NM(yo(n),t==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(Dy)))),i}function Of(n){return n.replace(/left|right|bottom|top/g,e=>IM[e])}function OM(n){return{top:0,right:0,bottom:0,left:0,...n}}function m1(n){return typeof n!="number"?OM(n):{top:n,right:n,bottom:n,left:n}}function Mf(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function vb(n,e,t){let{reference:r,floating:s}=n;const i=Ns(e),l=qv(e),u=Bv(l),h=yo(e),p=i==="y",g=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,w=r[u]/2-s[u]/2;let S;switch(h){case"top":S={x:g,y:r.y-s.height};break;case"bottom":S={x:g,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:m};break;case"left":S={x:r.x-s.width,y:m};break;default:S={x:r.x,y:r.y}}switch(gc(e)){case"start":S[l]-=w*(t&&p?-1:1);break;case"end":S[l]+=w*(t&&p?-1:1);break}return S}const MM=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=t,u=i.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y:m}=vb(p,r,h),w=r,S={},R=0;for(let T=0;T<u.length;T++){const{name:P,fn:D}=u[T],{x:V,y:z,data:U,reset:$}=await D({x:g,y:m,initialPlacement:r,placement:w,strategy:s,middlewareData:S,rects:p,platform:l,elements:{reference:n,floating:e}});g=V??g,m=z??m,S={...S,[P]:{...S[P],...U}},$&&R<=50&&(R++,typeof $=="object"&&($.placement&&(w=$.placement),$.rects&&(p=$.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):$.rects),{x:g,y:m}=vb(p,w,h)),T=-1)}return{x:g,y:m,placement:w,strategy:s,middlewareData:S}};async function zu(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:u,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:w=!1,padding:S=0}=go(e,n),R=m1(S),P=u[w?m==="floating"?"reference":"floating":m],D=Mf(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(P)))==null||t?P:P.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:h})),V=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,z=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),U=await(i.isElement==null?void 0:i.isElement(z))?await(i.getScale==null?void 0:i.getScale(z))||{x:1,y:1}:{x:1,y:1},$=Mf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:V,offsetParent:z,strategy:h}):V);return{top:(D.top-$.top+R.top)/U.y,bottom:($.bottom-D.bottom+R.bottom)/U.y,left:(D.left-$.left+R.left)/U.x,right:($.right-D.right+R.right)/U.x}}const VM=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:g=0}=go(n,e)||{};if(p==null)return{};const m=m1(g),w={x:t,y:r},S=qv(s),R=Bv(S),T=await l.getDimensions(p),P=S==="y",D=P?"top":"left",V=P?"bottom":"right",z=P?"clientHeight":"clientWidth",U=i.reference[R]+i.reference[S]-w[S]-i.floating[R],$=w[S]-i.reference[S],K=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let A=K?K[z]:0;(!A||!await(l.isElement==null?void 0:l.isElement(K)))&&(A=u.floating[z]||i.floating[R]);const C=U/2-$/2,N=A/2-T[R]/2-1,M=Ei(m[D],N),F=Ei(m[V],N),B=M,O=A-T[R]-F,Ce=A/2-T[R]/2+C,Be=Ny(B,Ce,O),me=!h.arrow&&gc(s)!=null&&Ce!==Be&&i.reference[R]/2-(Ce<B?M:F)-T[R]/2<0,_e=me?Ce<B?Ce-B:Ce-O:0;return{[S]:w[S]+_e,data:{[S]:Be,centerOffset:Ce-Be-_e,...me&&{alignmentOffset:_e}},reset:me}}}),LM=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:T=!0,...P}=go(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const D=yo(s),V=Ns(u),z=yo(u)===u,U=await(h.isRTL==null?void 0:h.isRTL(p.floating)),$=w||(z||!T?[Of(u)]:PM(u)),K=R!=="none";!w&&K&&$.push(...DM(u,T,R,U));const A=[u,...$],C=await zu(e,P),N=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&N.push(C[D]),m){const Ce=AM(s,l,U);N.push(C[Ce[0]],C[Ce[1]])}if(M=[...M,{placement:s,overflows:N}],!N.every(Ce=>Ce<=0)){var F,B;const Ce=(((F=i.flip)==null?void 0:F.index)||0)+1,Be=A[Ce];if(Be&&(!(m==="alignment"?V!==Ns(Be):!1)||M.every(W=>Ns(W.placement)===V?W.overflows[0]>0:!0)))return{data:{index:Ce,overflows:M},reset:{placement:Be}};let me=(B=M.filter(_e=>_e.overflows[0]<=0).sort((_e,W)=>_e.overflows[1]-W.overflows[1])[0])==null?void 0:B.placement;if(!me)switch(S){case"bestFit":{var O;const _e=(O=M.filter(W=>{if(K){const ne=Ns(W.placement);return ne===V||ne==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ne=>ne>0).reduce((ne,X)=>ne+X,0)]).sort((W,ne)=>W[1]-ne[1])[0])==null?void 0:O[0];_e&&(me=_e);break}case"initialPlacement":me=u;break}if(s!==me)return{reset:{placement:me}}}return{}}}};function _b(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function wb(n){return SM.some(e=>n[e]>=0)}const FM=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=go(n,e);switch(r){case"referenceHidden":{const i=await zu(e,{...s,elementContext:"reference"}),l=_b(i,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:wb(l)}}}case"escaped":{const i=await zu(e,{...s,altBoundary:!0}),l=_b(i,t.floating);return{data:{escapedOffsets:l,escaped:wb(l)}}}default:return{}}}}},g1=new Set(["left","top"]);async function jM(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=yo(t),u=gc(t),h=Ns(t)==="y",p=g1.has(l)?-1:1,g=i&&h?-1:1,m=go(e,n);let{mainAxis:w,crossAxis:S,alignmentAxis:R}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof R=="number"&&(S=u==="end"?R*-1:R),h?{x:S*g,y:w*p}:{x:w*p,y:S*g}}const zM=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:l,middlewareData:u}=e,h=await jM(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:i+h.y,data:{...h,placement:l}}}}},UM=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:P=>{let{x:D,y:V}=P;return{x:D,y:V}}},...h}=go(n,e),p={x:t,y:r},g=await zu(e,h),m=Ns(yo(s)),w=$v(m);let S=p[w],R=p[m];if(i){const P=w==="y"?"top":"left",D=w==="y"?"bottom":"right",V=S+g[P],z=S-g[D];S=Ny(V,S,z)}if(l){const P=m==="y"?"top":"left",D=m==="y"?"bottom":"right",V=R+g[P],z=R-g[D];R=Ny(V,R,z)}const T=u.fn({...e,[w]:S,[m]:R});return{...T,data:{x:T.x-t,y:T.y-r,enabled:{[w]:i,[m]:l}}}}}},$M=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=go(n,e),g={x:t,y:r},m=Ns(s),w=$v(m);let S=g[w],R=g[m];const T=go(u,e),P=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(h){const z=w==="y"?"height":"width",U=i.reference[w]-i.floating[z]+P.mainAxis,$=i.reference[w]+i.reference[z]-P.mainAxis;S<U?S=U:S>$&&(S=$)}if(p){var D,V;const z=w==="y"?"width":"height",U=g1.has(yo(s)),$=i.reference[m]-i.floating[z]+(U&&((D=l.offset)==null?void 0:D[m])||0)+(U?0:P.crossAxis),K=i.reference[m]+i.reference[z]+(U?0:((V=l.offset)==null?void 0:V[m])||0)-(U?P.crossAxis:0);R<$?R=$:R>K&&(R=K)}return{[w]:S,[m]:R}}}},BM=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:l,elements:u}=e,{apply:h=()=>{},...p}=go(n,e),g=await zu(e,p),m=yo(s),w=gc(s),S=Ns(s)==="y",{width:R,height:T}=i.floating;let P,D;m==="top"||m==="bottom"?(P=m,D=w===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(D=m,P=w==="end"?"top":"bottom");const V=T-g.top-g.bottom,z=R-g.left-g.right,U=Ei(T-g[P],V),$=Ei(R-g[D],z),K=!e.middlewareData.shift;let A=U,C=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=V),K&&!w){const M=vr(g.left,0),F=vr(g.right,0),B=vr(g.top,0),O=vr(g.bottom,0);S?C=R-2*(M!==0||F!==0?M+F:vr(g.left,g.right)):A=T-2*(B!==0||O!==0?B+O:vr(g.top,g.bottom))}await h({...e,availableWidth:C,availableHeight:A});const N=await l.getDimensions(u.floating);return R!==N.width||T!==N.height?{reset:{rects:!0}}:{}}}};function Ip(){return typeof window<"u"}function yc(n){return y1(n)?(n.nodeName||"").toLowerCase():"#document"}function wr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ws(n){var e;return(e=(y1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function y1(n){return Ip()?n instanceof Node||n instanceof wr(n).Node:!1}function ns(n){return Ip()?n instanceof Element||n instanceof wr(n).Element:!1}function Us(n){return Ip()?n instanceof HTMLElement||n instanceof wr(n).HTMLElement:!1}function Eb(n){return!Ip()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof wr(n).ShadowRoot}const qM=new Set(["inline","contents"]);function ld(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=rs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!qM.has(s)}const HM=new Set(["table","td","th"]);function WM(n){return HM.has(yc(n))}const GM=[":popover-open",":modal"];function Tp(n){return GM.some(e=>{try{return n.matches(e)}catch{return!1}})}const KM=["transform","translate","scale","rotate","perspective"],ZM=["transform","translate","scale","rotate","perspective","filter"],QM=["paint","layout","strict","content"];function Hv(n){const e=Wv(),t=ns(n)?rs(n):n;return KM.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||ZM.some(r=>(t.willChange||"").includes(r))||QM.some(r=>(t.contain||"").includes(r))}function YM(n){let e=bi(n);for(;Us(e)&&!Zl(e);){if(Hv(e))return e;if(Tp(e))return null;e=bi(e)}return null}function Wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XM=new Set(["html","body","#document"]);function Zl(n){return XM.has(yc(n))}function rs(n){return wr(n).getComputedStyle(n)}function Cp(n){return ns(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function bi(n){if(yc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Eb(n)&&n.host||Ws(n);return Eb(e)?e.host:e}function v1(n){const e=bi(n);return Zl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Us(e)&&ld(e)?e:v1(e)}function Uu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=v1(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),l=wr(s);if(i){const u=Oy(l);return e.concat(l,l.visualViewport||[],ld(s)?s:[],u&&t?Uu(u):[])}return e.concat(s,Uu(s,[],t))}function Oy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function _1(n){const e=rs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Us(n),i=s?n.offsetWidth:t,l=s?n.offsetHeight:r,u=Df(t)!==i||Df(r)!==l;return u&&(t=i,r=l),{width:t,height:r,$:u}}function Gv(n){return ns(n)?n:n.contextElement}function $l(n){const e=Gv(n);if(!Us(e))return Ms(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=_1(e);let l=(i?Df(t.width):t.width)/r,u=(i?Df(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const JM=Ms(0);function w1(n){const e=wr(n);return!Wv()||!e.visualViewport?JM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eV(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==wr(n)?!1:e}function Ea(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=Gv(n);let l=Ms(1);e&&(r?ns(r)&&(l=$l(r)):l=$l(n));const u=eV(i,t,r)?w1(i):Ms(0);let h=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,g=s.width/l.x,m=s.height/l.y;if(i){const w=wr(i),S=r&&ns(r)?wr(r):r;let R=w,T=Oy(R);for(;T&&r&&S!==R;){const P=$l(T),D=T.getBoundingClientRect(),V=rs(T),z=D.left+(T.clientLeft+parseFloat(V.paddingLeft))*P.x,U=D.top+(T.clientTop+parseFloat(V.paddingTop))*P.y;h*=P.x,p*=P.y,g*=P.x,m*=P.y,h+=z,p+=U,R=wr(T),T=Oy(R)}}return Mf({width:g,height:m,x:h,y:p})}function Ap(n,e){const t=Cp(n).scrollLeft;return e?e.left+t:Ea(Ws(n)).left+t}function E1(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Ap(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function tV(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",l=Ws(r),u=e?Tp(e.floating):!1;if(r===l||u&&i)return t;let h={scrollLeft:0,scrollTop:0},p=Ms(1);const g=Ms(0),m=Us(r);if((m||!m&&!i)&&((yc(r)!=="body"||ld(l))&&(h=Cp(r)),Us(r))){const S=Ea(r);p=$l(r),g.x=S.x+r.clientLeft,g.y=S.y+r.clientTop}const w=l&&!m&&!i?E1(l,h):Ms(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+g.x+w.x,y:t.y*p.y-h.scrollTop*p.y+g.y+w.y}}function nV(n){return Array.from(n.getClientRects())}function rV(n){const e=Ws(n),t=Cp(n),r=n.ownerDocument.body,s=vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Ap(n);const u=-t.scrollTop;return rs(r).direction==="rtl"&&(l+=vr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:u}}const bb=25;function sV(n,e){const t=wr(n),r=Ws(n),s=t.visualViewport;let i=r.clientWidth,l=r.clientHeight,u=0,h=0;if(s){i=s.width,l=s.height;const g=Wv();(!g||g&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const p=Ap(r);if(p<=0){const g=r.ownerDocument,m=g.body,w=getComputedStyle(m),S=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,R=Math.abs(r.clientWidth-m.clientWidth-S);R<=bb&&(i-=R)}else p<=bb&&(i+=p);return{width:i,height:l,x:u,y:h}}const oV=new Set(["absolute","fixed"]);function iV(n,e){const t=Ea(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=Us(n)?$l(n):Ms(1),l=n.clientWidth*i.x,u=n.clientHeight*i.y,h=s*i.x,p=r*i.y;return{width:l,height:u,x:h,y:p}}function xb(n,e,t){let r;if(e==="viewport")r=sV(n,t);else if(e==="document")r=rV(Ws(n));else if(ns(e))r=iV(e,t);else{const s=w1(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Mf(r)}function b1(n,e){const t=bi(n);return t===e||!ns(t)||Zl(t)?!1:rs(t).position==="fixed"||b1(t,e)}function aV(n,e){const t=e.get(n);if(t)return t;let r=Uu(n,[],!1).filter(u=>ns(u)&&yc(u)!=="body"),s=null;const i=rs(n).position==="fixed";let l=i?bi(n):n;for(;ns(l)&&!Zl(l);){const u=rs(l),h=Hv(l);!h&&u.position==="fixed"&&(s=null),(i?!h&&!s:!h&&u.position==="static"&&!!s&&oV.has(s.position)||ld(l)&&!h&&b1(n,l))?r=r.filter(g=>g!==l):s=u,l=bi(l)}return e.set(n,r),r}function lV(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?Tp(e)?[]:aV(e,this._c):[].concat(t),r],u=l[0],h=l.reduce((p,g)=>{const m=xb(e,g,s);return p.top=vr(m.top,p.top),p.right=Ei(m.right,p.right),p.bottom=Ei(m.bottom,p.bottom),p.left=vr(m.left,p.left),p},xb(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function cV(n){const{width:e,height:t}=_1(n);return{width:e,height:t}}function uV(n,e,t){const r=Us(e),s=Ws(e),i=t==="fixed",l=Ea(n,!0,i,e);let u={scrollLeft:0,scrollTop:0};const h=Ms(0);function p(){h.x=Ap(s)}if(r||!r&&!i)if((yc(e)!=="body"||ld(s))&&(u=Cp(e)),r){const S=Ea(e,!0,i,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else s&&p();i&&!r&&s&&p();const g=s&&!r&&!i?E1(s,u):Ms(0),m=l.left+u.scrollLeft-h.x-g.x,w=l.top+u.scrollTop-h.y-g.y;return{x:m,y:w,width:l.width,height:l.height}}function ey(n){return rs(n).position==="static"}function Sb(n,e){if(!Us(n)||rs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ws(n)===t&&(t=t.ownerDocument.body),t}function x1(n,e){const t=wr(n);if(Tp(n))return t;if(!Us(n)){let s=bi(n);for(;s&&!Zl(s);){if(ns(s)&&!ey(s))return s;s=bi(s)}return t}let r=Sb(n,e);for(;r&&WM(r)&&ey(r);)r=Sb(r,e);return r&&Zl(r)&&ey(r)&&!Hv(r)?t:r||YM(n)||t}const dV=async function(n){const e=this.getOffsetParent||x1,t=this.getDimensions,r=await t(n.floating);return{reference:uV(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hV(n){return rs(n).direction==="rtl"}const fV={convertOffsetParentRelativeRectToViewportRelativeRect:tV,getDocumentElement:Ws,getClippingRect:lV,getOffsetParent:x1,getElementRects:dV,getClientRects:nV,getDimensions:cV,getScale:$l,isElement:ns,isRTL:hV};function S1(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function pV(n,e){let t=null,r;const s=Ws(n);function i(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),i();const p=n.getBoundingClientRect(),{left:g,top:m,width:w,height:S}=p;if(u||e(),!w||!S)return;const R=Kh(m),T=Kh(s.clientWidth-(g+w)),P=Kh(s.clientHeight-(m+S)),D=Kh(g),z={rootMargin:-R+"px "+-T+"px "+-P+"px "+-D+"px",threshold:vr(0,Ei(1,h))||1};let U=!0;function $(K){const A=K[0].intersectionRatio;if(A!==h){if(!U)return l();A?l(!1,A):r=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!S1(p,n.getBoundingClientRect())&&l(),U=!1}try{t=new IntersectionObserver($,{...z,root:s.ownerDocument})}catch{t=new IntersectionObserver($,z)}t.observe(n)}return l(!0),i}function mV(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Gv(n),g=s||i?[...p?Uu(p):[],...Uu(e)]:[];g.forEach(D=>{s&&D.addEventListener("scroll",t,{passive:!0}),i&&D.addEventListener("resize",t)});const m=p&&u?pV(p,t):null;let w=-1,S=null;l&&(S=new ResizeObserver(D=>{let[V]=D;V&&V.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var z;(z=S)==null||z.observe(e)})),t()}),p&&!h&&S.observe(p),S.observe(e));let R,T=h?Ea(n):null;h&&P();function P(){const D=Ea(n);T&&!S1(T,D)&&t(),T=D,R=requestAnimationFrame(P)}return t(),()=>{var D;g.forEach(V=>{s&&V.removeEventListener("scroll",t),i&&V.removeEventListener("resize",t)}),m?.(),(D=S)==null||D.disconnect(),S=null,h&&cancelAnimationFrame(R)}}const gV=zM,yV=UM,vV=LM,_V=BM,wV=FM,Ib=VM,EV=$M,bV=(n,e,t)=>{const r=new Map,s={platform:fV,...t},i={...s.platform,_c:r};return MM(n,e,{...s,platform:i})};var xV=typeof document<"u",SV=function(){},ff=xV?b.useLayoutEffect:SV;function Vf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Vf(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Vf(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function I1(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Tb(n,e){const t=I1(n);return Math.round(e*t)/t}function ty(n){const e=b.useRef(n);return ff(()=>{e.current=n}),e}function IV(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=n,[g,m]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,S]=b.useState(r);Vf(w,r)||S(r);const[R,T]=b.useState(null),[P,D]=b.useState(null),V=b.useCallback(W=>{W!==K.current&&(K.current=W,T(W))},[]),z=b.useCallback(W=>{W!==A.current&&(A.current=W,D(W))},[]),U=i||R,$=l||P,K=b.useRef(null),A=b.useRef(null),C=b.useRef(g),N=h!=null,M=ty(h),F=ty(s),B=ty(p),O=b.useCallback(()=>{if(!K.current||!A.current)return;const W={placement:e,strategy:t,middleware:w};F.current&&(W.platform=F.current),bV(K.current,A.current,W).then(ne=>{const X={...ne,isPositioned:B.current!==!1};Ce.current&&!Vf(C.current,X)&&(C.current=X,Nv.flushSync(()=>{m(X)}))})},[w,e,t,F,B]);ff(()=>{p===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(W=>({...W,isPositioned:!1})))},[p]);const Ce=b.useRef(!1);ff(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]),ff(()=>{if(U&&(K.current=U),$&&(A.current=$),U&&$){if(M.current)return M.current(U,$,O);O()}},[U,$,O,M,N]);const Be=b.useMemo(()=>({reference:K,floating:A,setReference:V,setFloating:z}),[V,z]),me=b.useMemo(()=>({reference:U,floating:$}),[U,$]),_e=b.useMemo(()=>{const W={position:t,left:0,top:0};if(!me.floating)return W;const ne=Tb(me.floating,g.x),X=Tb(me.floating,g.y);return u?{...W,transform:"translate("+ne+"px, "+X+"px)",...I1(me.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:X}},[t,u,me.floating,g.x,g.y]);return b.useMemo(()=>({...g,update:O,refs:Be,elements:me,floatingStyles:_e}),[g,O,Be,me,_e])}const TV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Ib({element:r.current,padding:s}).fn(t):{}:r?Ib({element:r,padding:s}).fn(t):{}}}},CV=(n,e)=>({...gV(n),options:[n,e]}),AV=(n,e)=>({...yV(n),options:[n,e]}),PV=(n,e)=>({...EV(n),options:[n,e]}),RV=(n,e)=>({...vV(n),options:[n,e]}),kV=(n,e)=>({..._V(n),options:[n,e]}),NV=(n,e)=>({...wV(n),options:[n,e]}),DV=(n,e)=>({...TV(n),options:[n,e]});var OV="Arrow",T1=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return E.jsx(ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});T1.displayName=OV;var MV=T1;function Kv(n){const[e,t]=b.useState(void 0);return mo(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const h=i.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Zv="Popper",[C1,Pp]=Hs(Zv),[VV,A1]=C1(Zv),P1=n=>{const{__scopePopper:e,children:t}=n,[r,s]=b.useState(null);return E.jsx(VV,{scope:e,anchor:r,onAnchorChange:s,children:t})};P1.displayName=Zv;var R1="PopperAnchor",k1=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=A1(R1,t),l=b.useRef(null),u=Et(e,l),h=b.useRef(null);return b.useEffect(()=>{const p=h.current;h.current=r?.current||l.current,p!==h.current&&i.onAnchorChange(h.current)}),r?null:E.jsx(ht.div,{...s,ref:u})});k1.displayName=R1;var Qv="PopperContent",[LV,FV]=C1(Qv),N1=b.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:R,...T}=n,P=A1(Qv,t),[D,V]=b.useState(null),z=Et(e,ve=>V(ve)),[U,$]=b.useState(null),K=Kv(U),A=K?.width??0,C=K?.height??0,N=r+(i!=="center"?"-"+i:""),M=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},F=Array.isArray(p)?p:[p],B=F.length>0,O={padding:M,boundary:F.filter(zV),altBoundary:B},{refs:Ce,floatingStyles:Be,placement:me,isPositioned:_e,middlewareData:W}=IV({strategy:"fixed",placement:N,whileElementsMounted:(...ve)=>mV(...ve,{animationFrame:S==="always"}),elements:{reference:P.anchor},middleware:[CV({mainAxis:s+C,alignmentAxis:l}),h&&AV({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?PV():void 0,...O}),h&&RV({...O}),kV({...O,apply:({elements:ve,rects:Se,availableWidth:Ge,availableHeight:Qe})=>{const{width:pe,height:xt}=Se.reference,dn=ve.floating.style;dn.setProperty("--radix-popper-available-width",`${Ge}px`),dn.setProperty("--radix-popper-available-height",`${Qe}px`),dn.setProperty("--radix-popper-anchor-width",`${pe}px`),dn.setProperty("--radix-popper-anchor-height",`${xt}px`)}}),U&&DV({element:U,padding:u}),UV({arrowWidth:A,arrowHeight:C}),w&&NV({strategy:"referenceHidden",...O})]}),[ne,X]=M1(me),j=On(R);mo(()=>{_e&&j?.()},[_e,j]);const G=W.arrow?.x,oe=W.arrow?.y,ie=W.arrow?.centerOffset!==0,[he,Ie]=b.useState();return mo(()=>{D&&Ie(window.getComputedStyle(D).zIndex)},[D]),E.jsx("div",{ref:Ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...Be,transform:_e?Be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:E.jsx(LV,{scope:t,placedSide:ne,onArrowChange:$,arrowX:G,arrowY:oe,shouldHideArrow:ie,children:E.jsx(ht.div,{"data-side":ne,"data-align":X,...T,ref:z,style:{...T.style,animation:_e?void 0:"none"}})})})});N1.displayName=Qv;var D1="PopperArrow",jV={top:"bottom",right:"left",bottom:"top",left:"right"},O1=b.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=FV(D1,r),l=jV[i.placedSide];return E.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:E.jsx(MV,{...s,ref:t,style:{...s.style,display:"block"}})})});O1.displayName=D1;function zV(n){return n!==null}var UV=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,u=l?0:n.arrowWidth,h=l?0:n.arrowHeight,[p,g]=M1(t),m={start:"0%",center:"50%",end:"100%"}[g],w=(s.arrow?.x??0)+u/2,S=(s.arrow?.y??0)+h/2;let R="",T="";return p==="bottom"?(R=l?m:`${w}px`,T=`${-h}px`):p==="top"?(R=l?m:`${w}px`,T=`${r.floating.height+h}px`):p==="right"?(R=`${-h}px`,T=l?m:`${S}px`):p==="left"&&(R=`${r.floating.width+h}px`,T=l?m:`${S}px`),{data:{x:R,y:T}}}});function M1(n){const[e,t="center"]=n.split("-");return[e,t]}var V1=P1,L1=k1,F1=N1,j1=O1,$V=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BV="VisuallyHidden",z1=b.forwardRef((n,e)=>E.jsx(ht.span,{...n,ref:e,style:{...$V,...n.style}}));z1.displayName=BV;var qV=z1,[Rp]=Hs("Tooltip",[Pp]),kp=Pp(),U1="TooltipProvider",HV=700,My="tooltip.open",[WV,Yv]=Rp(U1),$1=n=>{const{__scopeTooltip:e,delayDuration:t=HV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,l=b.useRef(!0),u=b.useRef(!1),h=b.useRef(0);return b.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),E.jsx(WV,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(h.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(p=>{u.current=p},[]),disableHoverableContent:s,children:i})};$1.displayName=U1;var $u="Tooltip",[GV,cd]=Rp($u),B1=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:u}=n,h=Yv($u,n.__scopeTooltip),p=kp(e),[g,m]=b.useState(null),w=fa(),S=b.useRef(0),R=l??h.disableHoverableContent,T=u??h.delayDuration,P=b.useRef(!1),[D,V]=mc({prop:r,defaultProp:s??!1,onChange:A=>{A?(h.onOpen(),document.dispatchEvent(new CustomEvent(My))):h.onClose(),i?.(A)},caller:$u}),z=b.useMemo(()=>D?P.current?"delayed-open":"instant-open":"closed",[D]),U=b.useCallback(()=>{window.clearTimeout(S.current),S.current=0,P.current=!1,V(!0)},[V]),$=b.useCallback(()=>{window.clearTimeout(S.current),S.current=0,V(!1)},[V]),K=b.useCallback(()=>{window.clearTimeout(S.current),S.current=window.setTimeout(()=>{P.current=!0,V(!0),S.current=0},T)},[T,V]);return b.useEffect(()=>()=>{S.current&&(window.clearTimeout(S.current),S.current=0)},[]),E.jsx(V1,{...p,children:E.jsx(GV,{scope:e,contentId:w,open:D,stateAttribute:z,trigger:g,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{h.isOpenDelayedRef.current?K():U()},[h.isOpenDelayedRef,K,U]),onTriggerLeave:b.useCallback(()=>{R?$():(window.clearTimeout(S.current),S.current=0)},[$,R]),onOpen:U,onClose:$,disableHoverableContent:R,children:t})})};B1.displayName=$u;var Vy="TooltipTrigger",q1=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=cd(Vy,t),i=Yv(Vy,t),l=kp(t),u=b.useRef(null),h=Et(e,u,s.onTriggerChange),p=b.useRef(!1),g=b.useRef(!1),m=b.useCallback(()=>p.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),E.jsx(L1,{asChild:!0,...l,children:E.jsx(ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:h,onPointerMove:Le(n.onPointerMove,w=>{w.pointerType!=="touch"&&!g.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:Le(n.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:Le(n.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Le(n.onFocus,()=>{p.current||s.onOpen()}),onBlur:Le(n.onBlur,s.onClose),onClick:Le(n.onClick,s.onClose)})})});q1.displayName=Vy;var Xv="TooltipPortal",[KV,ZV]=Rp(Xv,{forceMount:void 0}),H1=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:s}=n,i=cd(Xv,e);return E.jsx(KV,{scope:e,forceMount:t,children:E.jsx(Hn,{present:t||i.open,children:E.jsx(bp,{asChild:!0,container:s,children:r})})})};H1.displayName=Xv;var Ql="TooltipContent",W1=b.forwardRef((n,e)=>{const t=ZV(Ql,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,l=cd(Ql,n.__scopeTooltip);return E.jsx(Hn,{present:r||l.open,children:l.disableHoverableContent?E.jsx(G1,{side:s,...i,ref:e}):E.jsx(QV,{side:s,...i,ref:e})})}),QV=b.forwardRef((n,e)=>{const t=cd(Ql,n.__scopeTooltip),r=Yv(Ql,n.__scopeTooltip),s=b.useRef(null),i=Et(e,s),[l,u]=b.useState(null),{trigger:h,onClose:p}=t,g=s.current,{onPointerInTransitChange:m}=r,w=b.useCallback(()=>{u(null),m(!1)},[m]),S=b.useCallback((R,T)=>{const P=R.currentTarget,D={x:R.clientX,y:R.clientY},V=tL(D,P.getBoundingClientRect()),z=nL(D,V),U=rL(T.getBoundingClientRect()),$=oL([...z,...U]);u($),m(!0)},[m]);return b.useEffect(()=>()=>w(),[w]),b.useEffect(()=>{if(h&&g){const R=P=>S(P,g),T=P=>S(P,h);return h.addEventListener("pointerleave",R),g.addEventListener("pointerleave",T),()=>{h.removeEventListener("pointerleave",R),g.removeEventListener("pointerleave",T)}}},[h,g,S,w]),b.useEffect(()=>{if(l){const R=T=>{const P=T.target,D={x:T.clientX,y:T.clientY},V=h?.contains(P)||g?.contains(P),z=!sL(D,l);V?w():z&&(w(),p())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[h,g,l,p,w]),E.jsx(G1,{...n,ref:i})}),[YV,XV]=Rp($u,{isInside:!1}),JV=HN("TooltipContent"),G1=b.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=n,h=cd(Ql,t),p=kp(t),{onClose:g}=h;return b.useEffect(()=>(document.addEventListener(My,g),()=>document.removeEventListener(My,g)),[g]),b.useEffect(()=>{if(h.trigger){const m=w=>{w.target?.contains(h.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,g]),E.jsx(Ep,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:E.jsxs(F1,{"data-state":h.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(JV,{children:r}),E.jsx(YV,{scope:t,isInside:!0,children:E.jsx(qV,{id:h.contentId,role:"tooltip",children:s||r})})]})})});W1.displayName=Ql;var K1="TooltipArrow",eL=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=kp(t);return XV(K1,t).isInside?null:E.jsx(j1,{...s,...r,ref:e})});eL.displayName=K1;function tL(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function nL(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function rL(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function sL(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,g=u.y,m=h.x,w=h.y;g>r!=w>r&&t<(m-p)*(r-g)/(w-g)+p&&(s=!s)}return s}function oL(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),iL(e)}function iL(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var aL=$1,lL=B1,cL=q1,uL=H1,Z1=W1;const Ly=aL,Fy=lL,jy=cL,Lf=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>E.jsx(uL,{children:E.jsx(Z1,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Lf.displayName=Z1.displayName;const dL="sidebar_state",hL=3600*24*7,fL="12rem",Cb="18rem",pL="3rem",mL="b",Q1=b.createContext(null);function Np(){const n=b.useContext(Q1);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function gL({defaultOpen:n=!0,open:e,onOpenChange:t,className:r,style:s,children:i,...l}){const u=hD(),[h,p]=b.useState(!1),[g,m]=b.useState(n),w=e??g,S=b.useCallback(D=>{const V=typeof D=="function"?D(w):D;t?t(V):m(V),document.cookie=`${dL}=${V}; path=/; max-age=${hL}`},[t,w]),R=b.useCallback(()=>u?p(D=>!D):S(D=>!D),[u,S,p]);b.useEffect(()=>{const D=V=>{V.key===mL&&(V.metaKey||V.ctrlKey)&&(V.preventDefault(),R())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[R]);const T=w?"expanded":"collapsed",P=b.useMemo(()=>({state:T,open:w,setOpen:S,isMobile:u,openMobile:h,setOpenMobile:p,toggleSidebar:R}),[T,w,S,u,h,p,R]);return E.jsx(Q1.Provider,{value:P,children:E.jsx(Ly,{delayDuration:0,children:E.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":fL,"--sidebar-width-icon":pL,...s},className:$e("group/sidebar-wrapper flex min-h-screen w-full",r),...l,children:i})})})}function yL({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:s,...i}){const{isMobile:l,state:u,openMobile:h,setOpenMobile:p}=Np();return t==="none"?E.jsx("div",{"data-slot":"sidebar",className:$e("bg-sidebar text-sidebar-foreground flex h-full flex-col",r),style:{width:"var(--sidebar-width)"},...i,children:s}):l?E.jsx(EM,{open:h,onOpenChange:p,...i,children:E.jsxs(d1,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground p-0 [&>button]:hidden",style:{"--sidebar-width":Cb,width:Cb},side:n,children:[E.jsxs(h1,{className:"sr-only",children:[E.jsx(f1,{children:"Sidebar"}),E.jsx(p1,{children:"Displays the mobile sidebar."})]}),E.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):E.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[E.jsx("div",{"data-slot":"sidebar-gap",className:$e("relative shrink-0 bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:!w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)]"),style:{width:"var(--sidebar-width)"}}),E.jsx("div",{"data-slot":"sidebar-container",className:$e("fixed inset-y-0 z-10 hidden h-screen transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem+2px)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),style:{width:"var(--sidebar-width)"},...i,children:E.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function vL({className:n,...e}){const{toggleSidebar:t}=Np();return E.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:t,title:"Toggle Sidebar",className:$e("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","cursor-ew-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...e})}function _L({className:n,...e}){return E.jsx("main",{"data-slot":"sidebar-inset",className:$e("bg-background relative flex min-w-0 flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",n),...e})}function wL({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:$e("flex flex-col gap-2 p-2",n),...e})}function EL({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:$e("flex flex-col gap-2 p-2",n),...e})}function bL({className:n,...e}){return E.jsx(JD,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:$e("bg-sidebar-border mx-2 w-auto",n),...e})}function xL({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:$e("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function Ab({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:$e("relative flex w-full min-w-0 flex-col p-2",n),...e})}function Pb({className:n,asChild:e=!1,...t}){const r=e?vp:"div";return E.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:$e("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})}function Rb({className:n,...e}){return E.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:$e("w-full text-sm",n),...e})}function ny({className:n,...e}){return E.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:$e("flex w-full min-w-0 flex-col gap-1",n),...e})}function Zh({className:n,...e}){return E.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:$e("group/menu-item relative",n),...e})}const SL=_p("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function ry({asChild:n=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:s,className:i,...l}){const u=n?vp:"button",{isMobile:h,state:p}=Np(),g=E.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:$e(SL({variant:t,size:r}),i),...l});return s?(typeof s=="string"&&(s={children:s}),E.jsxs(Fy,{children:[E.jsx(jy,{asChild:!0,children:g}),E.jsx(Lf,{side:"right",align:"center",hidden:p!=="collapsed"||h,...s})]})):g}function Y1(n){const e=n+"CollectionProvider",[t,r]=Hs(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:P,children:D}=T,V=ce.useRef(null),z=ce.useRef(new Map).current;return E.jsx(s,{scope:P,itemMap:z,collectionRef:V,children:D})};l.displayName=e;const u=n+"CollectionSlot",h=Kl(u),p=ce.forwardRef((T,P)=>{const{scope:D,children:V}=T,z=i(u,D),U=Et(P,z.collectionRef);return E.jsx(h,{ref:U,children:V})});p.displayName=u;const g=n+"CollectionItemSlot",m="data-radix-collection-item",w=Kl(g),S=ce.forwardRef((T,P)=>{const{scope:D,children:V,...z}=T,U=ce.useRef(null),$=Et(P,U),K=i(g,D);return ce.useEffect(()=>(K.itemMap.set(U,{ref:U,...z}),()=>void K.itemMap.delete(U))),E.jsx(w,{[m]:"",ref:$,children:V})});S.displayName=g;function R(T){const P=i(n+"CollectionConsumer",T);return ce.useCallback(()=>{const V=P.collectionRef.current;if(!V)return[];const z=Array.from(V.querySelectorAll(`[${m}]`));return Array.from(P.itemMap.values()).sort((K,A)=>z.indexOf(K.ref.current)-z.indexOf(A.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:l,Slot:p,ItemSlot:S},R,r]}var IL=b.createContext(void 0);function Jv(n){const e=b.useContext(IL);return n||e||"ltr"}var sy="rovingFocusGroup.onEntryFocus",TL={bubbles:!1,cancelable:!0},ud="RovingFocusGroup",[zy,X1,CL]=Y1(ud),[AL,J1]=Hs(ud,[CL]),[PL,RL]=AL(ud),eT=b.forwardRef((n,e)=>E.jsx(zy.Provider,{scope:n.__scopeRovingFocusGroup,children:E.jsx(zy.Slot,{scope:n.__scopeRovingFocusGroup,children:E.jsx(kL,{...n,ref:e})})}));eT.displayName=ud;var kL=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=n,w=b.useRef(null),S=Et(e,w),R=Jv(i),[T,P]=mc({prop:l,defaultProp:u??null,onChange:h,caller:ud}),[D,V]=b.useState(!1),z=On(p),U=X1(t),$=b.useRef(!1),[K,A]=b.useState(0);return b.useEffect(()=>{const C=w.current;if(C)return C.addEventListener(sy,z),()=>C.removeEventListener(sy,z)},[z]),E.jsx(PL,{scope:t,orientation:r,dir:R,loop:s,currentTabStopId:T,onItemFocus:b.useCallback(C=>P(C),[P]),onItemShiftTab:b.useCallback(()=>V(!0),[]),onFocusableItemAdd:b.useCallback(()=>A(C=>C+1),[]),onFocusableItemRemove:b.useCallback(()=>A(C=>C-1),[]),children:E.jsx(ht.div,{tabIndex:D||K===0?-1:0,"data-orientation":r,...m,ref:S,style:{outline:"none",...n.style},onMouseDown:Le(n.onMouseDown,()=>{$.current=!0}),onFocus:Le(n.onFocus,C=>{const N=!$.current;if(C.target===C.currentTarget&&N&&!D){const M=new CustomEvent(sy,TL);if(C.currentTarget.dispatchEvent(M),!M.defaultPrevented){const F=U().filter(me=>me.focusable),B=F.find(me=>me.active),O=F.find(me=>me.id===T),Be=[B,O,...F].filter(Boolean).map(me=>me.ref.current);rT(Be,g)}}$.current=!1}),onBlur:Le(n.onBlur,()=>V(!1))})})}),tT="RovingFocusGroupItem",nT=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...u}=n,h=fa(),p=i||h,g=RL(tT,t),m=g.currentTabStopId===p,w=X1(t),{onFocusableItemAdd:S,onFocusableItemRemove:R,currentTabStopId:T}=g;return b.useEffect(()=>{if(r)return S(),()=>R()},[r,S,R]),E.jsx(zy.ItemSlot,{scope:t,id:p,focusable:r,active:s,children:E.jsx(ht.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...u,ref:e,onMouseDown:Le(n.onMouseDown,P=>{r?g.onItemFocus(p):P.preventDefault()}),onFocus:Le(n.onFocus,()=>g.onItemFocus(p)),onKeyDown:Le(n.onKeyDown,P=>{if(P.key==="Tab"&&P.shiftKey){g.onItemShiftTab();return}if(P.target!==P.currentTarget)return;const D=OL(P,g.orientation,g.dir);if(D!==void 0){if(P.metaKey||P.ctrlKey||P.altKey||P.shiftKey)return;P.preventDefault();let z=w().filter(U=>U.focusable).map(U=>U.ref.current);if(D==="last")z.reverse();else if(D==="prev"||D==="next"){D==="prev"&&z.reverse();const U=z.indexOf(P.currentTarget);z=g.loop?ML(z,U+1):z.slice(U+1)}setTimeout(()=>rT(z))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:T!=null}):l})})});nT.displayName=tT;var NL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DL(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function OL(n,e,t){const r=DL(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NL[r]}function rT(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function ML(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var VL=eT,LL=nT,Uy=["Enter"," "],FL=["ArrowDown","PageUp","Home"],sT=["ArrowUp","PageDown","End"],jL=[...FL,...sT],zL={ltr:[...Uy,"ArrowRight"],rtl:[...Uy,"ArrowLeft"]},UL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dd="Menu",[Bu,$L,BL]=Y1(dd),[Ma,oT]=Hs(dd,[BL,Pp,J1]),Dp=Pp(),iT=J1(),[qL,Va]=Ma(dd),[HL,hd]=Ma(dd),aT=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=n,u=Dp(e),[h,p]=b.useState(null),g=b.useRef(!1),m=On(i),w=Jv(s);return b.useEffect(()=>{const S=()=>{g.current=!0,document.addEventListener("pointerdown",R,{capture:!0,once:!0}),document.addEventListener("pointermove",R,{capture:!0,once:!0})},R=()=>g.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",R,{capture:!0}),document.removeEventListener("pointermove",R,{capture:!0})}},[]),E.jsx(V1,{...u,children:E.jsx(qL,{scope:e,open:t,onOpenChange:m,content:h,onContentChange:p,children:E.jsx(HL,{scope:e,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:w,modal:l,children:r})})})};aT.displayName=dd;var WL="MenuAnchor",e_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Dp(t);return E.jsx(L1,{...s,...r,ref:e})});e_.displayName=WL;var t_="MenuPortal",[GL,lT]=Ma(t_,{forceMount:void 0}),cT=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,i=Va(t_,e);return E.jsx(GL,{scope:e,forceMount:t,children:E.jsx(Hn,{present:t||i.open,children:E.jsx(bp,{asChild:!0,container:s,children:r})})})};cT.displayName=t_;var Vr="MenuContent",[KL,n_]=Ma(Vr),uT=b.forwardRef((n,e)=>{const t=lT(Vr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=Va(Vr,n.__scopeMenu),l=hd(Vr,n.__scopeMenu);return E.jsx(Bu.Provider,{scope:n.__scopeMenu,children:E.jsx(Hn,{present:r||i.open,children:E.jsx(Bu.Slot,{scope:n.__scopeMenu,children:l.modal?E.jsx(ZL,{...s,ref:e}):E.jsx(QL,{...s,ref:e})})})})}),ZL=b.forwardRef((n,e)=>{const t=Va(Vr,n.__scopeMenu),r=b.useRef(null),s=Et(e,r);return b.useEffect(()=>{const i=r.current;if(i)return qI(i)},[]),E.jsx(r_,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Le(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),QL=b.forwardRef((n,e)=>{const t=Va(Vr,n.__scopeMenu);return E.jsx(r_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),YL=Kl("MenuContent.ScrollLock"),r_=b.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:w,onDismiss:S,disableOutsideScroll:R,...T}=n,P=Va(Vr,t),D=hd(Vr,t),V=Dp(t),z=iT(t),U=$L(t),[$,K]=b.useState(null),A=b.useRef(null),C=Et(e,A,P.onContentChange),N=b.useRef(0),M=b.useRef(""),F=b.useRef(0),B=b.useRef(null),O=b.useRef("right"),Ce=b.useRef(0),Be=R?Ov:b.Fragment,me=R?{as:YL,allowPinchZoom:!0}:void 0,_e=ne=>{const X=M.current+ne,j=U().filter(ve=>!ve.disabled),G=document.activeElement,oe=j.find(ve=>ve.ref.current===G)?.textValue,ie=j.map(ve=>ve.textValue),he=c4(ie,X,oe),Ie=j.find(ve=>ve.textValue===he)?.ref.current;(function ve(Se){M.current=Se,window.clearTimeout(N.current),Se!==""&&(N.current=window.setTimeout(()=>ve(""),1e3))})(X),Ie&&setTimeout(()=>Ie.focus())};b.useEffect(()=>()=>window.clearTimeout(N.current),[]),MI();const W=b.useCallback(ne=>O.current===B.current?.side&&d4(ne,B.current?.area),[]);return E.jsx(KL,{scope:t,searchRef:M,onItemEnter:b.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),onItemLeave:b.useCallback(ne=>{W(ne)||(A.current?.focus(),K(null))},[W]),onTriggerLeave:b.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),pointerGraceTimerRef:F,onPointerGraceIntentChange:b.useCallback(ne=>{B.current=ne},[]),children:E.jsx(Be,{...me,children:E.jsx(Dv,{asChild:!0,trapped:s,onMountAutoFocus:Le(i,ne=>{ne.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:E.jsx(Ep,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:w,onDismiss:S,children:E.jsx(VL,{asChild:!0,...z,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:$,onCurrentTabStopIdChange:K,onEntryFocus:Le(h,ne=>{D.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(F1,{role:"menu","aria-orientation":"vertical","data-state":TT(P.open),"data-radix-menu-content":"",dir:D.dir,...V,...T,ref:C,style:{outline:"none",...T.style},onKeyDown:Le(T.onKeyDown,ne=>{const j=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,G=ne.ctrlKey||ne.altKey||ne.metaKey,oe=ne.key.length===1;j&&(ne.key==="Tab"&&ne.preventDefault(),!G&&oe&&_e(ne.key));const ie=A.current;if(ne.target!==ie||!jL.includes(ne.key))return;ne.preventDefault();const Ie=U().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);sT.includes(ne.key)&&Ie.reverse(),a4(Ie)}),onBlur:Le(n.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(N.current),M.current="")}),onPointerMove:Le(n.onPointerMove,qu(ne=>{const X=ne.target,j=Ce.current!==ne.clientX;if(ne.currentTarget.contains(X)&&j){const G=ne.clientX>Ce.current?"right":"left";O.current=G,Ce.current=ne.clientX}}))})})})})})})});uT.displayName=Vr;var XL="MenuGroup",s_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(ht.div,{role:"group",...r,ref:e})});s_.displayName=XL;var JL="MenuLabel",dT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(ht.div,{...r,ref:e})});dT.displayName=JL;var Ff="MenuItem",kb="menu.itemSelect",Op=b.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,i=b.useRef(null),l=hd(Ff,n.__scopeMenu),u=n_(Ff,n.__scopeMenu),h=Et(e,i),p=b.useRef(!1),g=()=>{const m=i.current;if(!t&&m){const w=new CustomEvent(kb,{bubbles:!0,cancelable:!0});m.addEventListener(kb,S=>r?.(S),{once:!0}),RI(m,w),w.defaultPrevented?p.current=!1:l.onClose()}};return E.jsx(hT,{...s,ref:h,disabled:t,onClick:Le(n.onClick,g),onPointerDown:m=>{n.onPointerDown?.(m),p.current=!0},onPointerUp:Le(n.onPointerUp,m=>{p.current||m.currentTarget?.click()}),onKeyDown:Le(n.onKeyDown,m=>{const w=u.searchRef.current!=="";t||w&&m.key===" "||Uy.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Op.displayName=Ff;var hT=b.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...i}=n,l=n_(Ff,t),u=iT(t),h=b.useRef(null),p=Et(e,h),[g,m]=b.useState(!1),[w,S]=b.useState("");return b.useEffect(()=>{const R=h.current;R&&S((R.textContent??"").trim())},[i.children]),E.jsx(Bu.ItemSlot,{scope:t,disabled:r,textValue:s??w,children:E.jsx(LL,{asChild:!0,...u,focusable:!r,children:E.jsx(ht.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:p,onPointerMove:Le(n.onPointerMove,qu(R=>{r?l.onItemLeave(R):(l.onItemEnter(R),R.defaultPrevented||R.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(n.onPointerLeave,qu(R=>l.onItemLeave(R))),onFocus:Le(n.onFocus,()=>m(!0)),onBlur:Le(n.onBlur,()=>m(!1))})})})}),e4="MenuCheckboxItem",fT=b.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return E.jsx(vT,{scope:n.__scopeMenu,checked:t,children:E.jsx(Op,{role:"menuitemcheckbox","aria-checked":jf(t)?"mixed":t,...s,ref:e,"data-state":i_(t),onSelect:Le(s.onSelect,()=>r?.(jf(t)?!0:!t),{checkForDefaultPrevented:!1})})})});fT.displayName=e4;var pT="MenuRadioGroup",[t4,n4]=Ma(pT,{value:void 0,onValueChange:()=>{}}),mT=b.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,i=On(r);return E.jsx(t4,{scope:n.__scopeMenu,value:t,onValueChange:i,children:E.jsx(s_,{...s,ref:e})})});mT.displayName=pT;var gT="MenuRadioItem",yT=b.forwardRef((n,e)=>{const{value:t,...r}=n,s=n4(gT,n.__scopeMenu),i=t===s.value;return E.jsx(vT,{scope:n.__scopeMenu,checked:i,children:E.jsx(Op,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":i_(i),onSelect:Le(r.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});yT.displayName=gT;var o_="MenuItemIndicator",[vT,r4]=Ma(o_,{checked:!1}),_T=b.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,i=r4(o_,t);return E.jsx(Hn,{present:r||jf(i.checked)||i.checked===!0,children:E.jsx(ht.span,{...s,ref:e,"data-state":i_(i.checked)})})});_T.displayName=o_;var s4="MenuSeparator",wT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(ht.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});wT.displayName=s4;var o4="MenuArrow",ET=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Dp(t);return E.jsx(j1,{...s,...r,ref:e})});ET.displayName=o4;var i4="MenuSub",[$H,bT]=Ma(i4),xu="MenuSubTrigger",xT=b.forwardRef((n,e)=>{const t=Va(xu,n.__scopeMenu),r=hd(xu,n.__scopeMenu),s=bT(xu,n.__scopeMenu),i=n_(xu,n.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=i,p={__scopeMenu:n.__scopeMenu},g=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>g,[g]),b.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),h(null)}},[u,h]),E.jsx(e_,{asChild:!0,...p,children:E.jsx(hT,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":TT(t.open),...n,ref:yp(e,s.onTriggerChange),onClick:m=>{n.onClick?.(m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Le(n.onPointerMove,qu(m=>{i.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),g()},100))})),onPointerLeave:Le(n.onPointerLeave,qu(m=>{g();const w=t.content?.getBoundingClientRect();if(w){const S=t.content?.dataset.side,R=S==="right",T=R?-5:5,P=w[R?"left":"right"],D=w[R?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+T,y:m.clientY},{x:P,y:w.top},{x:D,y:w.top},{x:D,y:w.bottom},{x:P,y:w.bottom}],side:S}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Le(n.onKeyDown,m=>{const w=i.searchRef.current!=="";n.disabled||w&&m.key===" "||zL[r.dir].includes(m.key)&&(t.onOpenChange(!0),t.content?.focus(),m.preventDefault())})})})});xT.displayName=xu;var ST="MenuSubContent",IT=b.forwardRef((n,e)=>{const t=lT(Vr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=Va(Vr,n.__scopeMenu),l=hd(Vr,n.__scopeMenu),u=bT(ST,n.__scopeMenu),h=b.useRef(null),p=Et(e,h);return E.jsx(Bu.Provider,{scope:n.__scopeMenu,children:E.jsx(Hn,{present:r||i.open,children:E.jsx(Bu.Slot,{scope:n.__scopeMenu,children:E.jsx(r_,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&h.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Le(n.onFocusOutside,g=>{g.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Le(n.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:Le(n.onKeyDown,g=>{const m=g.currentTarget.contains(g.target),w=UL[l.dir].includes(g.key);m&&w&&(i.onOpenChange(!1),u.trigger?.focus(),g.preventDefault())})})})})})});IT.displayName=ST;function TT(n){return n?"open":"closed"}function jf(n){return n==="indeterminate"}function i_(n){return jf(n)?"indeterminate":n?"checked":"unchecked"}function a4(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function l4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function c4(n,e,t){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let l=l4(n,Math.max(i,0));s.length===1&&(l=l.filter(p=>p!==t));const h=l.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return h!==t?h:void 0}function u4(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,g=u.y,m=h.x,w=h.y;g>r!=w>r&&t<(m-p)*(r-g)/(w-g)+p&&(s=!s)}return s}function d4(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return u4(t,e)}function qu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var h4=aT,f4=e_,p4=cT,m4=uT,g4=s_,y4=dT,v4=Op,_4=fT,w4=mT,E4=yT,b4=_T,x4=wT,S4=ET,I4=xT,T4=IT,Mp="DropdownMenu",[C4]=Hs(Mp,[oT]),Wn=oT(),[A4,CT]=C4(Mp),AT=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=n,h=Wn(e),p=b.useRef(null),[g,m]=mc({prop:s,defaultProp:i??!1,onChange:l,caller:Mp});return E.jsx(A4,{scope:e,triggerId:fa(),triggerRef:p,contentId:fa(),open:g,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(w=>!w),[m]),modal:u,children:E.jsx(h4,{...h,open:g,onOpenChange:m,dir:r,modal:u,children:t})})};AT.displayName=Mp;var PT="DropdownMenuTrigger",RT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,i=CT(PT,t),l=Wn(t);return E.jsx(f4,{asChild:!0,...l,children:E.jsx(ht.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:yp(e,i.triggerRef),onPointerDown:Le(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:Le(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});RT.displayName=PT;var P4="DropdownMenuPortal",kT=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Wn(e);return E.jsx(p4,{...r,...t})};kT.displayName=P4;var NT="DropdownMenuContent",DT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=CT(NT,t),i=Wn(t),l=b.useRef(!1);return E.jsx(m4,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Le(n.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Le(n.onInteractOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,g=h.button===2||p;(!s.modal||g)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DT.displayName=NT;var R4="DropdownMenuGroup",k4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(g4,{...s,...r,ref:e})});k4.displayName=R4;var N4="DropdownMenuLabel",OT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(y4,{...s,...r,ref:e})});OT.displayName=N4;var D4="DropdownMenuItem",MT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(v4,{...s,...r,ref:e})});MT.displayName=D4;var O4="DropdownMenuCheckboxItem",VT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(_4,{...s,...r,ref:e})});VT.displayName=O4;var M4="DropdownMenuRadioGroup",V4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(w4,{...s,...r,ref:e})});V4.displayName=M4;var L4="DropdownMenuRadioItem",LT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(E4,{...s,...r,ref:e})});LT.displayName=L4;var F4="DropdownMenuItemIndicator",FT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(b4,{...s,...r,ref:e})});FT.displayName=F4;var j4="DropdownMenuSeparator",jT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(x4,{...s,...r,ref:e})});jT.displayName=j4;var z4="DropdownMenuArrow",U4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(S4,{...s,...r,ref:e})});U4.displayName=z4;var $4="DropdownMenuSubTrigger",zT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(I4,{...s,...r,ref:e})});zT.displayName=$4;var B4="DropdownMenuSubContent",UT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Wn(t);return E.jsx(T4,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UT.displayName=B4;var q4=AT,H4=RT,W4=kT,$T=DT,BT=OT,qT=MT,HT=VT,WT=LT,GT=FT,KT=jT,ZT=zT,QT=UT;const YT=q4,XT=H4,G4=b.forwardRef(({className:n,inset:e,children:t,...r},s)=>E.jsxs(ZT,{ref:s,className:$e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,E.jsx(o2,{className:"ml-auto"})]}));G4.displayName=ZT.displayName;const K4=b.forwardRef(({className:n,...e},t)=>E.jsx(QT,{ref:t,className:$e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));K4.displayName=QT.displayName;const a_=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>E.jsx(W4,{children:E.jsx($T,{ref:r,sideOffset:e,className:$e("z-[100] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));a_.displayName=$T.displayName;const Hu=b.forwardRef(({className:n,inset:e,...t},r)=>E.jsx(qT,{ref:r,className:$e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));Hu.displayName=qT.displayName;const Z4=b.forwardRef(({className:n,children:e,checked:t,...r},s)=>E.jsxs(HT,{ref:s,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(GT,{children:E.jsx(gI,{className:"h-4 w-4"})})}),e]}));Z4.displayName=HT.displayName;const Q4=b.forwardRef(({className:n,children:e,...t},r)=>E.jsxs(WT,{ref:r,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(GT,{children:E.jsx(d2,{className:"h-2 w-2 fill-current"})})}),e]}));Q4.displayName=WT.displayName;const l_=b.forwardRef(({className:n,inset:e,...t},r)=>E.jsx(BT,{ref:r,className:$e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));l_.displayName=BT.displayName;const c_=b.forwardRef(({className:n,...e},t)=>E.jsx(KT,{ref:t,className:$e("-mx-1 my-1 h-px bg-muted",n),...e}));c_.displayName=KT.displayName;function JT(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Vp="Switch",[Y4]=Hs(Vp),[X4,J4]=Y4(Vp),eC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h="on",onCheckedChange:p,form:g,...m}=n,[w,S]=b.useState(null),R=Et(e,z=>S(z)),T=b.useRef(!1),P=w?g||!!w.closest("form"):!0,[D,V]=mc({prop:s,defaultProp:i??!1,onChange:p,caller:Vp});return E.jsxs(X4,{scope:t,checked:D,disabled:u,children:[E.jsx(ht.button,{type:"button",role:"switch","aria-checked":D,"aria-required":l,"data-state":sC(D),"data-disabled":u?"":void 0,disabled:u,value:h,...m,ref:R,onClick:Le(n.onClick,z=>{V(U=>!U),P&&(T.current=z.isPropagationStopped(),T.current||z.stopPropagation())})}),P&&E.jsx(rC,{control:w,bubbles:!T.current,name:r,value:h,checked:D,required:l,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});eC.displayName=Vp;var tC="SwitchThumb",nC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,s=J4(tC,t);return E.jsx(ht.span,{"data-state":sC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});nC.displayName=tC;var eF="SwitchBubbleInput",rC=b.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...s},i)=>{const l=b.useRef(null),u=Et(l,i),h=JT(t),p=Kv(e);return b.useEffect(()=>{const g=l.current;if(!g)return;const m=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==t&&S){const R=new Event("click",{bubbles:r});S.call(g,t),g.dispatchEvent(R)}},[h,t,r]),E.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:u,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rC.displayName=eF;function sC(n){return n?"checked":"unchecked"}var oC=eC,tF=nC;const iC=b.forwardRef(({className:n,...e},t)=>E.jsx(oC,{className:$e("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:E.jsx(tF,{className:$e("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));iC.displayName=oC.displayName;const aC=b.createContext(void 0),ti="wms_auth_user",fu="wms_remember_me",lC="wms_users",nF=[{id:"0",email:"owner@wms.com",password:"owner123",name:"System Owner",role:"Owner",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"1",email:"admin@wms.com",password:"admin123",name:"Admin User",role:"Admin",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"2",email:"operator@wms.com",password:"operator123",name:"Operator User",role:"Operator",status:"Active",createdAt:"2024-01-15T00:00:00Z"}];function tr(){try{const n=localStorage.getItem(lC);if(n)return JSON.parse(n)}catch(n){console.error("Error reading users from storage:",n)}return[]}function Cs(n){localStorage.setItem(lC,JSON.stringify(n))}function rF(){tr().length===0&&Cs(nF)}function sF({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(!0);b.useEffect(()=>{rF()},[]),b.useEffect(()=>{(async()=>{try{const z=localStorage.getItem(ti),U=localStorage.getItem(fu);if(z&&U==="true"){const $=JSON.parse(z),A=tr().find(C=>C.id===$.id);A&&A.status==="Active"&&t({id:A.id,email:A.email,name:A.name,role:A.role,status:A.status,createdAt:A.createdAt,lastLogin:A.lastLogin})}else{const $=sessionStorage.getItem(ti);if($){const K=JSON.parse($),C=tr().find(N=>N.id===K.id);C&&C.status==="Active"&&t({id:C.id,email:C.email,name:C.name,role:C.role,status:C.status,createdAt:C.createdAt,lastLogin:C.lastLogin})}}}catch(z){console.error("Error checking authentication:",z)}finally{s(!1)}})()},[]);const i=async(V,z,U=!1)=>{await new Promise(M=>setTimeout(M,1e3));const $=tr(),K=$.find(M=>M.email.toLowerCase()===V.toLowerCase());if(!K)throw new Error("NO_ACCOUNT:No account found with this email address. Would you like to create one?");if(K.password!==z)throw new Error("WRONG_PASSWORD:Incorrect password. Please try again.");const A=K;if(A.status==="Pending")throw new Error("PENDING:Your account is pending approval. Please wait for an administrator to approve your account.");if(A.status==="Inactive")throw new Error("INACTIVE:Your account has been deactivated. Please contact an administrator.");const C=$.map(M=>M.id===A.id?{...M,lastLogin:new Date().toISOString()}:M);Cs(C);const N={id:A.id,email:A.email,name:A.name,role:A.role,status:A.status,createdAt:A.createdAt,lastLogin:new Date().toISOString()};t(N),U?(localStorage.setItem(ti,JSON.stringify(N)),localStorage.setItem(fu,"true")):(sessionStorage.setItem(ti,JSON.stringify(N)),localStorage.removeItem(fu))},l=async(V,z,U)=>{await new Promise(A=>setTimeout(A,1e3));const $=tr();if($.some(A=>A.email.toLowerCase()===V.toLowerCase()))throw new Error("An account with this email already exists");const K={id:`user_${Date.now()}`,email:V,password:z,name:U,role:"Operator",status:"Pending",createdAt:new Date().toISOString()};Cs([...$,K])},u=()=>{t(null),localStorage.removeItem(ti),localStorage.removeItem(fu),sessionStorage.removeItem(ti)},h=b.useCallback(()=>tr(),[]),p=b.useCallback(()=>tr().filter(V=>V.status==="Pending"),[]),g=b.useCallback(V=>{const U=tr().map($=>$.id===V?{...$,status:"Active"}:$);Cs(U)},[]),m=b.useCallback(V=>{const U=tr().filter($=>$.id!==V);Cs(U)},[]),w=b.useCallback((V,z)=>{const $=tr().map(K=>K.id===V?{...K,role:z}:K);Cs($),e&&e.id===V&&t({...e,role:z})},[e]),S=b.useCallback((V,z)=>{const $=tr().map(K=>K.id===V?{...K,status:z}:K);Cs($),e&&e.id===V&&z!=="Active"&&u()},[e]),R=b.useCallback(V=>{const U=tr().filter($=>$.id!==V);Cs(U),e&&e.id===V&&u()},[e]),T=b.useCallback(V=>{if(!e)return;const U=tr().map(A=>A.id===e.id?{...A,...V}:A);Cs(U);const $={...e,...V};t($),localStorage.getItem(fu)==="true"?localStorage.setItem(ti,JSON.stringify($)):sessionStorage.setItem(ti,JSON.stringify($))},[e]),P=b.useCallback(async(V,z)=>{if(!e)throw new Error("Not authenticated");await new Promise(A=>setTimeout(A,500));const U=tr(),$=U.find(A=>A.id===e.id);if(!$||$.password!==V)throw new Error("Current password is incorrect");const K=U.map(A=>A.id===e.id?{...A,password:z}:A);Cs(K)},[e]),D={user:e,isAuthenticated:!!e,isLoading:r,login:i,logout:u,register:l,getAllUsers:h,getPendingUsers:p,approveUser:g,rejectUser:m,updateUserRole:w,updateUserStatus:S,deleteUser:R,updateProfile:T,changePassword:P};return E.jsx(aC.Provider,{value:D,children:n})}function fd(){const n=b.useContext(aC);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}var oF=(n,e,t,r,s,i,l,u)=>{let h=document.documentElement,p=["light","dark"];function g(S){(Array.isArray(n)?n:[n]).forEach(R=>{let T=R==="class",P=T&&i?s.map(D=>i[D]||D):s;T?(h.classList.remove(...P),h.classList.add(i&&i[S]?i[S]:S)):h.setAttribute(R,S)}),m(S)}function m(S){u&&p.includes(S)&&(h.style.colorScheme=S)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let S=localStorage.getItem(e)||t,R=l&&S==="system"?w():S;g(R)}catch{}},Nb=["light","dark"],cC="(prefers-color-scheme: dark)",iF=typeof window>"u",u_=b.createContext(void 0),aF={setTheme:n=>{},themes:[]},uC=()=>{var n;return(n=b.useContext(u_))!=null?n:aF},lF=n=>b.useContext(u_)?b.createElement(b.Fragment,null,n.children):b.createElement(uF,{...n}),cF=["light","dark"],uF=({forcedTheme:n,disableTransitionOnChange:e=!1,enableSystem:t=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=cF,defaultTheme:l=t?"system":"light",attribute:u="data-theme",value:h,children:p,nonce:g,scriptProps:m})=>{let[w,S]=b.useState(()=>hF(s,l)),[R,T]=b.useState(()=>w==="system"?oy():w),P=h?Object.values(h):i,D=b.useCallback($=>{let K=$;if(!K)return;$==="system"&&t&&(K=oy());let A=h?h[K]:K,C=e?fF(g):null,N=document.documentElement,M=F=>{F==="class"?(N.classList.remove(...P),A&&N.classList.add(A)):F.startsWith("data-")&&(A?N.setAttribute(F,A):N.removeAttribute(F))};if(Array.isArray(u)?u.forEach(M):M(u),r){let F=Nb.includes(l)?l:null,B=Nb.includes(K)?K:F;N.style.colorScheme=B}C?.()},[g]),V=b.useCallback($=>{let K=typeof $=="function"?$(w):$;S(K);try{localStorage.setItem(s,K)}catch{}},[w]),z=b.useCallback($=>{let K=oy($);T(K),w==="system"&&t&&!n&&D("system")},[w,n]);b.useEffect(()=>{let $=window.matchMedia(cC);return $.addListener(z),z($),()=>$.removeListener(z)},[z]),b.useEffect(()=>{let $=K=>{K.key===s&&(K.newValue?S(K.newValue):V(l))};return window.addEventListener("storage",$),()=>window.removeEventListener("storage",$)},[V]),b.useEffect(()=>{D(n??w)},[n,w]);let U=b.useMemo(()=>({theme:w,setTheme:V,forcedTheme:n,resolvedTheme:w==="system"?R:w,themes:t?[...i,"system"]:i,systemTheme:t?R:void 0}),[w,V,n,R,t,i]);return b.createElement(u_.Provider,{value:U},b.createElement(dF,{forcedTheme:n,storageKey:s,attribute:u,enableSystem:t,enableColorScheme:r,defaultTheme:l,value:h,themes:i,nonce:g,scriptProps:m}),p)},dF=b.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:l,themes:u,nonce:h,scriptProps:p})=>{let g=JSON.stringify([t,e,i,n,u,l,r,s]).slice(1,-1);return b.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${oF.toString()})(${g})`}})}),hF=(n,e)=>{if(iF)return;let t;try{t=localStorage.getItem(n)||void 0}catch{}return t||e},fF=n=>{let e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},oy=n=>(n||(n=window.matchMedia(cC)),n.matches?"dark":"light");function pF({currentView:n,setCurrentView:e}){const{user:t}=fd(),{state:r,toggleSidebar:s}=Np(),{theme:i,setTheme:l}=uC(),u=r==="collapsed",[h,p]=b.useState(!0),g=[{id:"dashboard",label:"Dashboard",icon:T2},{id:"inventory",label:"Inventory",icon:wp},{id:"purchase-orders",label:"Purchase Orders",icon:Av},{id:"sales-orders",label:"Sales Orders",icon:U2},{id:"shipments",label:"Shipments",icon:Pv},{id:"suppliers",label:"Suppliers",icon:b2},{id:"customers",label:"Customers",icon:sD},{id:"cash-bank",label:"Cash and Bank",icon:S2},{id:"payments",label:"Payments",icon:lD}],m=[{id:"users",label:"User Management",icon:Q2}],w=()=>{window.location.reload()};return E.jsxs(yL,{collapsible:"icon",children:[E.jsx(wL,{className:"h-14 border-b border-sidebar-border px-3 flex items-center",children:E.jsx(Ly,{children:E.jsxs(Fy,{children:[E.jsx(jy,{asChild:!0,children:E.jsxs("button",{onClick:w,className:"flex items-center gap-2 justify-start group-data-[collapsible=icon]:justify-center w-full cursor-pointer","aria-label":"Refresh application",children:[E.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary hover:bg-primary/90 transition-colors",children:E.jsx(uD,{className:"h-5 w-5 text-primary-foreground"})}),E.jsx("span",{className:"font-semibold text-sidebar-foreground group-data-[collapsible=icon]:hidden",children:"WMS"})]})}),E.jsx(Lf,{side:"right",children:E.jsx("p",{children:"Refresh Application"})})]})})}),E.jsxs(xL,{children:[E.jsxs(Ab,{children:[E.jsx(Pb,{children:"Management"}),E.jsx(Rb,{children:E.jsx(ny,{children:g.map(S=>E.jsx(Zh,{children:E.jsxs(ry,{onClick:()=>e(S.id),isActive:n===S.id,tooltip:S.label,children:[E.jsx(S.icon,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:S.label})]})},S.id))})})]}),t?.role==="Admin"&&E.jsxs(Ab,{children:[E.jsx(Pb,{children:"Administration"}),E.jsx(Rb,{children:E.jsx(ny,{children:m.map(S=>E.jsx(Zh,{children:E.jsxs(ry,{onClick:()=>e(S.id),isActive:n===S.id,tooltip:S.label,children:[E.jsx(S.icon,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:S.label})]})},S.id))})})]})]}),E.jsx(EL,{className:"border-t border-sidebar-border p-2",children:E.jsxs(ny,{children:[E.jsx(Zh,{children:E.jsxs(YT,{modal:!1,children:[E.jsx(Ly,{children:E.jsxs(Fy,{children:[E.jsx(jy,{asChild:!0,children:E.jsx(XT,{asChild:!0,children:E.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground transition-colors",children:[E.jsx(K2,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden flex-1 text-left",children:"Settings"}),E.jsx(a2,{className:"h-4 w-4 shrink-0 group-data-[collapsible=icon]:hidden"})]})})}),E.jsx(Lf,{side:"right",className:"group-data-[collapsible=icon]:block hidden",children:"Settings"})]})}),E.jsxs(a_,{side:u?"right":"top",align:"start",className:"w-56",sideOffset:8,children:[E.jsx(l_,{children:"Settings"}),E.jsx(c_,{}),E.jsxs(Hu,{onSelect:S=>S.preventDefault(),className:"flex items-center justify-between cursor-pointer",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(e2,{className:"h-4 w-4"}),E.jsx("span",{children:"Notifications"})]}),E.jsx(iC,{checked:h,onCheckedChange:p})]}),E.jsxs(Hu,{onSelect:()=>l(i==="dark"?"light":"dark"),className:"cursor-pointer",children:[i==="dark"?E.jsx(J2,{className:"mr-2 h-4 w-4"}):E.jsx(O2,{className:"mr-2 h-4 w-4"}),i==="dark"?"Light Mode":"Dark Mode"]})]})]})}),E.jsx(bL,{className:"my-1"}),E.jsx(Zh,{children:E.jsxs(ry,{onClick:s,tooltip:u?"Expand Sidebar":"Collapse Sidebar",children:[u?E.jsx(j2,{className:"h-4 w-4 shrink-0"}):E.jsx(L2,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Collapse"})]})})]})}),E.jsx(vL,{})]})}function mF(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const gF=n=>{switch(n){case"success":return _F;case"info":return EF;case"warning":return wF;case"error":return bF;default:return null}},yF=Array(12).fill(0),vF=({visible:n,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ce.createElement("div",{className:"sonner-spinner"},yF.map((t,r)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_F=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wF=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EF=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bF=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xF=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SF=()=>{const[n,e]=ce.useState(document.hidden);return ce.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let $y=1;class IF{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:$y++,l=this.toasts.find(h=>h.id===i),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(h=>h.id===i?(this.publish({...h,...e,id:i,title:r}),{...h,...e,id:i,dismissible:u,title:r}):h):this.addToast({title:r,...s,dismissible:u,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,l;const u=s.then(async p=>{if(l=["resolve",p],ce.isValidElement(p))i=!1,this.create({id:r,type:"default",message:p});else if(CF(p)&&!p.ok){i=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,R=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:w,...R})}else if(p instanceof Error){i=!1;const m=typeof t.error=="function"?await t.error(p):t.error,w=typeof t.description=="function"?await t.description(p):t.description,R=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:w,...R})}else if(t.success!==void 0){i=!1;const m=typeof t.success=="function"?await t.success(p):t.success,w=typeof t.description=="function"?await t.description(p):t.description,R=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:w,...R})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){i=!1;const g=typeof t.error=="function"?await t.error(p):t.error,m=typeof t.description=="function"?await t.description(p):t.description,S=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:m,...S})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,g)=>u.then(()=>l[0]==="reject"?g(l[1]):p(l[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,t)=>{const r=t?.id||$y++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const nr=new IF,TF=(n,e)=>{const t=e?.id||$y++;return nr.addToast({title:n,...e,id:t}),t},CF=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",AF=TF,PF=()=>nr.toasts,RF=()=>nr.getActiveToasts(),Jr=Object.assign(AF,{success:nr.success,info:nr.info,warning:nr.warning,error:nr.error,custom:nr.custom,message:nr.message,promise:nr.promise,dismiss:nr.dismiss,loading:nr.loading},{getHistory:PF,getToasts:RF});mF("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qh(n){return n.label!==void 0}const kF=3,NF="24px",DF="16px",Db=4e3,OF=356,MF=14,VF=45,LF=200;function Ts(...n){return n.filter(Boolean).join(" ")}function FF(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const jF=n=>{var e,t,r,s,i,l,u,h,p;const{invert:g,toast:m,unstyled:w,interacting:S,setHeights:R,visibleToasts:T,heights:P,index:D,toasts:V,expanded:z,removeToast:U,defaultRichColors:$,closeButton:K,style:A,cancelButtonStyle:C,actionButtonStyle:N,className:M="",descriptionClassName:F="",duration:B,position:O,gap:Ce,expandByDefault:Be,classNames:me,icons:_e,closeButtonAriaLabel:W="Close toast"}=n,[ne,X]=ce.useState(null),[j,G]=ce.useState(null),[oe,ie]=ce.useState(!1),[he,Ie]=ce.useState(!1),[ve,Se]=ce.useState(!1),[Ge,Qe]=ce.useState(!1),[pe,xt]=ce.useState(!1),[dn,is]=ce.useState(0),[$a,Ks]=ce.useState(0),or=ce.useRef(m.duration||B||Db),Co=ce.useRef(null),gt=ce.useRef(null),Vt=D===0,ir=D+1<=T,sn=m.type,br=m.dismissible!==!1,Ba=m.className||"",as=m.descriptionClassName||"",ls=ce.useMemo(()=>P.findIndex(qe=>qe.toastId===m.id)||0,[P,m.id]),Ao=ce.useMemo(()=>{var qe;return(qe=m.closeButton)!=null?qe:K},[m.closeButton,K]),zr=ce.useMemo(()=>m.duration||B||Db,[m.duration,B]),Po=ce.useRef(0),Gn=ce.useRef(0),Ur=ce.useRef(0),$r=ce.useRef(null),[cs,Ro]=O.split("-"),ko=ce.useMemo(()=>P.reduce((qe,St,qt)=>qt>=ls?qe:qe+St.height,0),[P,ls]),Kn=SF(),No=m.invert||g,xr=sn==="loading";Gn.current=ce.useMemo(()=>ls*Ce+ko,[ls,ko]),ce.useEffect(()=>{or.current=zr},[zr]),ce.useEffect(()=>{ie(!0)},[]),ce.useEffect(()=>{const qe=gt.current;if(qe){const St=qe.getBoundingClientRect().height;return Ks(St),R(qt=>[{toastId:m.id,height:St,position:m.position},...qt]),()=>R(qt=>qt.filter(hn=>hn.toastId!==m.id))}},[R,m.id]),ce.useLayoutEffect(()=>{if(!oe)return;const qe=gt.current,St=qe.style.height;qe.style.height="auto";const qt=qe.getBoundingClientRect().height;qe.style.height=St,Ks(qt),R(hn=>hn.find(Ut=>Ut.toastId===m.id)?hn.map(Ut=>Ut.toastId===m.id?{...Ut,height:qt}:Ut):[{toastId:m.id,height:qt,position:m.position},...hn])},[oe,m.title,m.description,R,m.id,m.jsx,m.action,m.cancel]);const Fn=ce.useCallback(()=>{Ie(!0),is(Gn.current),R(qe=>qe.filter(St=>St.toastId!==m.id)),setTimeout(()=>{U(m)},LF)},[m,U,R,Gn]);ce.useEffect(()=>{if(m.promise&&sn==="loading"||m.duration===1/0||m.type==="loading")return;let qe;return z||S||Kn?(()=>{if(Ur.current<Po.current){const hn=new Date().getTime()-Po.current;or.current=or.current-hn}Ur.current=new Date().getTime()})():(()=>{or.current!==1/0&&(Po.current=new Date().getTime(),qe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Fn()},or.current))})(),()=>clearTimeout(qe)},[z,S,m,sn,Kn,Fn]),ce.useEffect(()=>{m.delete&&(Fn(),m.onDismiss==null||m.onDismiss.call(m,m))},[Fn,m.delete]);function Br(){var qe;if(_e?.loading){var St;return ce.createElement("div",{className:Ts(me?.loader,m==null||(St=m.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":sn==="loading"},_e.loading)}return ce.createElement(vF,{className:Ts(me?.loader,m==null||(qe=m.classNames)==null?void 0:qe.loader),visible:sn==="loading"})}const qr=m.icon||_e?.[sn]||gF(sn);var At,Do;return ce.createElement("li",{tabIndex:0,ref:gt,className:Ts(M,Ba,me?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,me?.default,me?.[sn],m==null||(t=m.classNames)==null?void 0:t[sn]),"data-sonner-toast":"","data-rich-colors":(At=m.richColors)!=null?At:$,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":oe,"data-promise":!!m.promise,"data-swiped":pe,"data-removed":he,"data-visible":ir,"data-y-position":cs,"data-x-position":Ro,"data-index":D,"data-front":Vt,"data-swiping":ve,"data-dismissible":br,"data-type":sn,"data-invert":No,"data-swipe-out":Ge,"data-swipe-direction":j,"data-expanded":!!(z||Be&&oe),"data-testid":m.testId,style:{"--index":D,"--toasts-before":D,"--z-index":V.length-D,"--offset":`${he?dn:Gn.current}px`,"--initial-height":Be?"auto":`${$a}px`,...A,...m.style},onDragEnd:()=>{Se(!1),X(null),$r.current=null},onPointerDown:qe=>{qe.button!==2&&(xr||!br||(Co.current=new Date,is(Gn.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(Se(!0),$r.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,St,qt;if(Ge||!br)return;$r.current=null;const hn=Number(((qe=gt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jn=Number(((St=gt.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((qt=Co.current)==null?void 0:qt.getTime()),Zt=ne==="x"?hn:jn,ar=Math.abs(Zt)/Ut;if(Math.abs(Zt)>=VF||ar>.11){is(Gn.current),m.onDismiss==null||m.onDismiss.call(m,m),G(ne==="x"?hn>0?"right":"left":jn>0?"down":"up"),Fn(),Qe(!0);return}else{var Qt,Tn;(Qt=gt.current)==null||Qt.style.setProperty("--swipe-amount-x","0px"),(Tn=gt.current)==null||Tn.style.setProperty("--swipe-amount-y","0px")}xt(!1),Se(!1),X(null)},onPointerMove:qe=>{var St,qt,hn;if(!$r.current||!br||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;const Ut=qe.clientY-$r.current.y,Zt=qe.clientX-$r.current.x;var ar;const Qt=(ar=n.swipeDirections)!=null?ar:FF(O);!ne&&(Math.abs(Zt)>1||Math.abs(Ut)>1)&&X(Math.abs(Zt)>Math.abs(Ut)?"x":"y");let Tn={x:0,y:0};const Sr=fn=>1/(1.5+Math.abs(fn)/20);if(ne==="y"){if(Qt.includes("top")||Qt.includes("bottom"))if(Qt.includes("top")&&Ut<0||Qt.includes("bottom")&&Ut>0)Tn.y=Ut;else{const fn=Ut*Sr(Ut);Tn.y=Math.abs(fn)<Math.abs(Ut)?fn:Ut}}else if(ne==="x"&&(Qt.includes("left")||Qt.includes("right")))if(Qt.includes("left")&&Zt<0||Qt.includes("right")&&Zt>0)Tn.x=Zt;else{const fn=Zt*Sr(Zt);Tn.x=Math.abs(fn)<Math.abs(Zt)?fn:Zt}(Math.abs(Tn.x)>0||Math.abs(Tn.y)>0)&&xt(!0),(qt=gt.current)==null||qt.style.setProperty("--swipe-amount-x",`${Tn.x}px`),(hn=gt.current)==null||hn.style.setProperty("--swipe-amount-y",`${Tn.y}px`)}},Ao&&!m.jsx&&sn!=="loading"?ce.createElement("button",{"aria-label":W,"data-disabled":xr,"data-close-button":!0,onClick:xr||!br?()=>{}:()=>{Fn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Ts(me?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Do=_e?.close)!=null?Do:xF):null,(sn||m.icon||m.promise)&&m.icon!==null&&(_e?.[sn]!==null||m.icon)?ce.createElement("div",{"data-icon":"",className:Ts(me?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Br():null,m.type!=="loading"?qr:null):null,ce.createElement("div",{"data-content":"",className:Ts(me?.content,m==null||(i=m.classNames)==null?void 0:i.content)},ce.createElement("div",{"data-title":"",className:Ts(me?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ce.createElement("div",{"data-description":"",className:Ts(F,as,me?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),ce.isValidElement(m.cancel)?m.cancel:m.cancel&&Qh(m.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||C,onClick:qe=>{Qh(m.cancel)&&br&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,qe),Fn())},className:Ts(me?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,ce.isValidElement(m.action)?m.action:m.action&&Qh(m.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||N,onClick:qe=>{Qh(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,qe),!qe.defaultPrevented&&Fn())},className:Ts(me?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function Ob(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function zF(n,e){const t={};return[n,e].forEach((r,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",u=i?DF:NF;function h(p){["top","right","bottom","left"].forEach(g=>{t[`${l}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=u:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(u)}),t}const UF=ce.forwardRef(function(e,t){const{id:r,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:h,className:p,offset:g,mobileOffset:m,theme:w="light",richColors:S,duration:R,style:T,visibleToasts:P=kF,toastOptions:D,dir:V=Ob(),gap:z=MF,icons:U,containerAriaLabel:$="Notifications"}=e,[K,A]=ce.useState([]),C=ce.useMemo(()=>r?K.filter(oe=>oe.toasterId===r):K.filter(oe=>!oe.toasterId),[K,r]),N=ce.useMemo(()=>Array.from(new Set([i].concat(C.filter(oe=>oe.position).map(oe=>oe.position)))),[C,i]),[M,F]=ce.useState([]),[B,O]=ce.useState(!1),[Ce,Be]=ce.useState(!1),[me,_e]=ce.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=ce.useRef(null),ne=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=ce.useRef(null),j=ce.useRef(!1),G=ce.useCallback(oe=>{A(ie=>{var he;return(he=ie.find(Ie=>Ie.id===oe.id))!=null&&he.delete||nr.dismiss(oe.id),ie.filter(({id:Ie})=>Ie!==oe.id)})},[]);return ce.useEffect(()=>nr.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{A(ie=>ie.map(he=>he.id===oe.id?{...he,delete:!0}:he))});return}setTimeout(()=>{PI.flushSync(()=>{A(ie=>{const he=ie.findIndex(Ie=>Ie.id===oe.id);return he!==-1?[...ie.slice(0,he),{...ie[he],...oe},...ie.slice(he+1)]:[oe,...ie]})})})}),[K]),ce.useEffect(()=>{if(w!=="system"){_e(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_e("dark"):_e("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:ie})=>{_e(ie?"dark":"light")})}catch{oe.addListener(({matches:he})=>{try{_e(he?"dark":"light")}catch(Ie){console.error(Ie)}})}},[w]),ce.useEffect(()=>{K.length<=1&&O(!1)},[K]),ce.useEffect(()=>{const oe=ie=>{var he;if(l.every(Se=>ie[Se]||ie.code===Se)){var ve;O(!0),(ve=W.current)==null||ve.focus()}ie.code==="Escape"&&(document.activeElement===W.current||(he=W.current)!=null&&he.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[l]),ce.useEffect(()=>{if(W.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,j.current=!1)}},[W.current]),ce.createElement("section",{ref:t,"aria-label":`${$} ${ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((oe,ie)=>{var he;const[Ie,ve]=oe.split("-");return C.length?ce.createElement("ol",{key:oe,dir:V==="auto"?Ob():V,tabIndex:-1,ref:W,className:p,"data-sonner-toaster":!0,"data-sonner-theme":me,"data-y-position":Ie,"data-x-position":ve,style:{"--front-toast-height":`${((he=M[0])==null?void 0:he.height)||0}px`,"--width":`${OF}px`,"--gap":`${z}px`,...T,...zF(g,m)},onBlur:Se=>{j.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(j.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||j.current||(j.current=!0,X.current=Se.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{Ce||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||Be(!0)},onPointerUp:()=>Be(!1)},C.filter(Se=>!Se.position&&ie===0||Se.position===oe).map((Se,Ge)=>{var Qe,pe;return ce.createElement(jF,{key:Se.id,icons:U,index:Ge,toast:Se,defaultRichColors:S,duration:(Qe=D?.duration)!=null?Qe:R,className:D?.className,descriptionClassName:D?.descriptionClassName,invert:s,visibleToasts:P,closeButton:(pe=D?.closeButton)!=null?pe:h,interacting:Ce,position:oe,style:D?.style,unstyled:D?.unstyled,classNames:D?.classNames,cancelButtonStyle:D?.cancelButtonStyle,actionButtonStyle:D?.actionButtonStyle,closeButtonAriaLabel:D?.closeButtonAriaLabel,removeToast:G,toasts:C.filter(xt=>xt.position==Se.position),heights:M.filter(xt=>xt.position==Se.position),setHeights:F,expandByDefault:u,gap:z,expanded:B,swipeDirections:e.swipeDirections})})):null}))}),Mb=({...n})=>{const{theme:e="system"}=uC();return E.jsx(UF,{theme:e,className:"toaster group",position:"top-right",richColors:!0,closeButton:!0,duration:4e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",success:"group-[.toaster]:border-green-500/50 group-[.toaster]:bg-green-50 dark:group-[.toaster]:bg-green-950/30 group-[.toaster]:text-green-700 dark:group-[.toaster]:text-green-400",error:"group-[.toaster]:border-red-500/50 group-[.toaster]:bg-red-50 dark:group-[.toaster]:bg-red-950/30 group-[.toaster]:text-red-700 dark:group-[.toaster]:text-red-400",warning:"group-[.toaster]:border-yellow-500/50 group-[.toaster]:bg-yellow-50 dark:group-[.toaster]:bg-yellow-950/30 group-[.toaster]:text-yellow-700 dark:group-[.toaster]:text-yellow-400",info:"group-[.toaster]:border-blue-500/50 group-[.toaster]:bg-blue-50 dark:group-[.toaster]:bg-blue-950/30 group-[.toaster]:text-blue-700 dark:group-[.toaster]:text-blue-400"}},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function dC({className:n,...e}){return E.jsx("div",{"data-slot":"card",className:$e("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function hC({className:n,...e}){return E.jsx("div",{"data-slot":"card-header",className:$e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function fC({className:n,...e}){return E.jsx("h4",{"data-slot":"card-title",className:$e("leading-none",n),...e})}function pC({className:n,...e}){return E.jsx("p",{"data-slot":"card-description",className:$e("text-muted-foreground",n),...e})}function mC({className:n,...e}){return E.jsx("div",{"data-slot":"card-content",className:$e("px-6 [&:last-child]:pb-6",n),...e})}class Vb extends b.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t),this.props.onError?.(e,t),this.setState({errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:E.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-4",children:E.jsxs(dC,{className:"max-w-lg w-full",children:[E.jsxs(hC,{children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(tD,{className:"h-6 w-6 text-red-500"}),E.jsx(fC,{children:"Something went wrong"})]}),E.jsx(pC,{children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."})]}),E.jsxs(mC,{className:"space-y-4",children:[this.state.error&&E.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-950 p-4",children:E.jsx("p",{className:"text-sm font-mono text-red-800 dark:text-red-200",children:this.state.error.message})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs(ju,{onClick:this.handleReset,className:"flex-1",children:[E.jsx(B2,{className:"h-4 w-4 mr-2"}),"Try Again"]}),E.jsx(ju,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]}),!1]})]})}):this.props.children}}var $F="Label",gC=b.forwardRef((n,e)=>E.jsx(ht.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));gC.displayName=$F;var BF=gC;function pu({className:n,...e}){return E.jsx(BF,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}var Lp="Checkbox",[qF]=Hs(Lp),[HF,d_]=qF(Lp);function WF(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:h,required:p,value:g="on",internal_do_not_use_render:m}=n,[w,S]=mc({prop:t,defaultProp:s??!1,onChange:h,caller:Lp}),[R,T]=b.useState(null),[P,D]=b.useState(null),V=b.useRef(!1),z=R?!!l||!!R.closest("form"):!0,U={checked:w,disabled:i,setChecked:S,control:R,setControl:T,name:u,form:l,value:g,hasConsumerStoppedPropagationRef:V,required:p,defaultChecked:pi(s)?!1:s,isFormControl:z,bubbleInput:P,setBubbleInput:D};return E.jsx(HF,{scope:e,...U,children:GF(m)?m(U):r})}var yC="CheckboxTrigger",vC=b.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:i,value:l,disabled:u,checked:h,required:p,setControl:g,setChecked:m,hasConsumerStoppedPropagationRef:w,isFormControl:S,bubbleInput:R}=d_(yC,n),T=Et(s,g),P=b.useRef(h);return b.useEffect(()=>{const D=i?.form;if(D){const V=()=>m(P.current);return D.addEventListener("reset",V),()=>D.removeEventListener("reset",V)}},[i,m]),E.jsx(ht.button,{type:"button",role:"checkbox","aria-checked":pi(h)?"mixed":h,"aria-required":p,"data-state":SC(h),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:T,onKeyDown:Le(e,D=>{D.key==="Enter"&&D.preventDefault()}),onClick:Le(t,D=>{m(V=>pi(V)?!0:!V),R&&S&&(w.current=D.isPropagationStopped(),w.current||D.stopPropagation())})})});vC.displayName=yC;var _C=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h,onCheckedChange:p,form:g,...m}=n;return E.jsx(WF,{__scopeCheckbox:t,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:p,name:r,form:g,value:h,internal_do_not_use_render:({isFormControl:w})=>E.jsxs(E.Fragment,{children:[E.jsx(vC,{...m,ref:e,__scopeCheckbox:t}),w&&E.jsx(xC,{__scopeCheckbox:t})]})})});_C.displayName=Lp;var wC="CheckboxIndicator",EC=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,i=d_(wC,t);return E.jsx(Hn,{present:r||pi(i.checked)||i.checked===!0,children:E.jsx(ht.span,{"data-state":SC(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});EC.displayName=wC;var bC="CheckboxBubbleInput",xC=b.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:h,name:p,value:g,form:m,bubbleInput:w,setBubbleInput:S}=d_(bC,n),R=Et(t,S),T=JT(i),P=Kv(r);b.useEffect(()=>{const V=w;if(!V)return;const z=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(z,"checked").set,K=!s.current;if(T!==i&&$){const A=new Event("click",{bubbles:K});V.indeterminate=pi(i),$.call(V,pi(i)?!1:i),V.dispatchEvent(A)}},[w,T,i,s]);const D=b.useRef(pi(i)?!1:i);return E.jsx(ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??D.current,required:u,disabled:h,name:p,value:g,form:m,...e,tabIndex:-1,ref:R,style:{...e.style,...P,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xC.displayName=bC;function GF(n){return typeof n=="function"}function pi(n){return n==="indeterminate"}function SC(n){return pi(n)?"indeterminate":n?"checked":"unchecked"}function KF({className:n,...e}){return E.jsx(_C,{"data-slot":"checkbox",className:$e("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:E.jsx(EC,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:E.jsx(gI,{className:"size-3.5"})})})}function se(n,e,t){function r(u,h){var p;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(p=u._zod).traits??(p.traits=new Set),u._zod.traits.add(n),e(u,h);for(const g in l.prototype)g in u||Object.defineProperty(u,g,{value:l.prototype[g].bind(u)});u._zod.constr=l,u._zod.def=h}const s=t?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:n});function l(u){var h;const p=t?.Parent?new i:this;r(p,u),(h=p._zod).deferred??(h.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>t?.Parent&&u instanceof t.Parent?!0:u?._zod?.traits?.has(n)}),Object.defineProperty(l,"name",{value:n}),l}class Bl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class IC extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const TC={};function ba(n){return TC}function ZF(n){const e=Object.values(n).filter(r=>typeof r=="number");return Object.entries(n).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function By(n,e){return typeof e=="bigint"?e.toString():e}function h_(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function f_(n){return n==null}function p_(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}function QF(n,e){const t=(n.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(s=Number.parseInt(h[1]))}const i=t>s?t:s,l=Number.parseInt(n.toFixed(i).replace(".","")),u=Number.parseInt(e.toFixed(i).replace(".",""));return l%u/10**i}const Lb=Symbol("evaluating");function Ct(n,e,t){let r;Object.defineProperty(n,e,{get(){if(r!==Lb)return r===void 0&&(r=Lb,r=t()),r},set(s){Object.defineProperty(n,e,{value:s})},configurable:!0})}function La(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function Fa(...n){const e={};for(const t of n){const r=Object.getOwnPropertyDescriptors(t);Object.assign(e,r)}return Object.defineProperties({},e)}function Fb(n){return JSON.stringify(n)}const CC="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function zf(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const YF=h_(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Wu(n){if(zf(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(zf(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function AC(n){return Wu(n)?{...n}:Array.isArray(n)?[...n]:n}const XF=new Set(["string","number","symbol"]);function Fp(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ai(n,e,t){const r=new n._zod.constr(e??n._zod.def);return(!e||t?.parent)&&(r._zod.parent=n),r}function Fe(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function JF(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}const ej={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function tj(n,e){const t=n._zod.def,r=Fa(n._zod.def,{get shape(){const s={};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=t.shape[i])}return La(this,"shape",s),s},checks:[]});return Ai(n,r)}function nj(n,e){const t=n._zod.def,r=Fa(n._zod.def,{get shape(){const s={...n._zod.def.shape};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return La(this,"shape",s),s},checks:[]});return Ai(n,r)}function rj(n,e){if(!Wu(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Fa(n._zod.def,{get shape(){const i={...n._zod.def.shape,...e};return La(this,"shape",i),i},checks:[]});return Ai(n,s)}function sj(n,e){if(!Wu(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const r={...n._zod.def.shape,...e};return La(this,"shape",r),r},checks:n._zod.def.checks};return Ai(n,t)}function oj(n,e){const t=Fa(n._zod.def,{get shape(){const r={...n._zod.def.shape,...e._zod.def.shape};return La(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Ai(n,t)}function ij(n,e,t){const r=Fa(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=n?new n({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)i[l]=n?new n({type:"optional",innerType:s[l]}):s[l];return La(this,"shape",i),i},checks:[]});return Ai(e,r)}function aj(n,e,t){const r=Fa(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=new n({type:"nonoptional",innerType:s[l]}))}else for(const l in s)i[l]=new n({type:"nonoptional",innerType:s[l]});return La(this,"shape",i),i},checks:[]});return Ai(e,r)}function jl(n,e=0){if(n.aborted===!0)return!0;for(let t=e;t<n.issues.length;t++)if(n.issues[t]?.continue!==!0)return!0;return!1}function PC(n,e){return e.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(n),t})}function Yh(n){return typeof n=="string"?n:n?.message}function xa(n,e,t){const r={...n,path:n.path??[]};if(!n.message){const s=Yh(n.inst?._zod.def?.error?.(n))??Yh(e?.error?.(n))??Yh(t.customError?.(n))??Yh(t.localeError?.(n))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function m_(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function Gu(...n){const[e,t,r]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:r}:{...e}}const RC=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,By,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},kC=se("$ZodError",RC),NC=se("$ZodError",RC,{Parent:Error});function lj(n,e=t=>t.message){const t={},r=[];for(const s of n.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}function cj(n,e=t=>t.message){const t={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>r({issues:l}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)t._errors.push(e(i));else{let l=t,u=0;for(;u<i.path.length;){const h=i.path[u];u===i.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(e(i))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return r(n),t}const g_=n=>(e,t,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise)throw new Bl;if(l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>xa(h,i,ba())));throw CC(u,s?.callee),u}return l.value},y_=n=>async(e,t,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>xa(h,i,ba())));throw CC(u,s?.callee),u}return l.value},jp=n=>(e,t,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:t,issues:[]},s);if(i instanceof Promise)throw new Bl;return i.issues.length?{success:!1,error:new(n??kC)(i.issues.map(l=>xa(l,s,ba())))}:{success:!0,data:i.value}},uj=jp(NC),zp=n=>async(e,t,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:t,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new n(i.issues.map(l=>xa(l,s,ba())))}:{success:!0,data:i.value}},dj=zp(NC),hj=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return g_(n)(e,t,s)},fj=n=>(e,t,r)=>g_(n)(e,t,r),pj=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return y_(n)(e,t,s)},mj=n=>async(e,t,r)=>y_(n)(e,t,r),gj=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return jp(n)(e,t,s)},yj=n=>(e,t,r)=>jp(n)(e,t,r),vj=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return zp(n)(e,t,s)},_j=n=>async(e,t,r)=>zp(n)(e,t,r),wj=/^[cC][^\s-]{8,}$/,Ej=/^[0-9a-z]+$/,bj=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xj=/^[0-9a-vA-V]{20}$/,Sj=/^[A-Za-z0-9]{27}$/,Ij=/^[a-zA-Z0-9_-]{21}$/,Tj=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Cj=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,jb=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Aj=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Pj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Rj(){return new RegExp(Pj,"u")}const kj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nj=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Dj=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Oj=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Mj=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,DC=/^[A-Za-z0-9_-]*$/,Vj=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Lj=/^\+(?:[0-9]){6,14}[0-9]$/,OC="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Fj=new RegExp(`^${OC}$`);function MC(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function jj(n){return new RegExp(`^${MC(n)}$`)}function zj(n){const e=MC({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${t.join("|")})`;return new RegExp(`^${OC}T(?:${r})$`)}const Uj=n=>{const e=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},$j=/^-?\d+$/,Bj=/^-?\d+(?:\.\d+)?/,qj=/^(?:true|false)$/i,Hj=/^[^A-Z]*$/,Wj=/^[^a-z]*$/,sr=se("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),VC={number:"number",bigint:"bigint",object:"date"},LC=se("$ZodCheckLessThan",(n,e)=>{sr.init(n,e);const t=VC[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:t,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),FC=se("$ZodCheckGreaterThan",(n,e)=>{sr.init(n,e);const t=VC[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:t,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),Gj=se("$ZodCheckMultipleOf",(n,e)=>{sr.init(n,e),n._zod.onattach.push(t=>{var r;(r=t._zod.bag).multipleOf??(r.multipleOf=e.value)}),n._zod.check=t=>{if(typeof t.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%e.value===BigInt(0):QF(t.value,e.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:e.value,input:t.value,inst:n,continue:!e.abort})}}),Kj=se("$ZodCheckNumberFormat",(n,e)=>{sr.init(n,e),e.format=e.format||"float64";const t=e.format?.includes("int"),r=t?"int":"number",[s,i]=ej[e.format];n._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=s,u.maximum=i,t&&(u.pattern=$j)}),n._zod.check=l=>{const u=l.value;if(t){if(!Number.isInteger(u)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:u,inst:n});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort});return}}u<s&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:n,continue:!e.abort}),u>i&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:n})}}),Zj=se("$ZodCheckMaxLength",(n,e)=>{var t;sr.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!f_(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),n._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const l=m_(s);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),Qj=se("$ZodCheckMinLength",(n,e)=>{var t;sr.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!f_(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),n._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const l=m_(s);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),Yj=se("$ZodCheckLengthEquals",(n,e)=>{var t;sr.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!f_(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),n._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const l=m_(s),u=i>e.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:n,continue:!e.abort})}}),Up=se("$ZodCheckStringFormat",(n,e)=>{var t,r;sr.init(n,e),n._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(r=n._zod).check??(r.check=()=>{})}),Xj=se("$ZodCheckRegex",(n,e)=>{Up.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),Jj=se("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=Hj),Up.init(n,e)}),e5=se("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=Wj),Up.init(n,e)}),t5=se("$ZodCheckIncludes",(n,e)=>{sr.init(n,e);const t=Fp(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=r,n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),n._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:n,continue:!e.abort})}}),n5=se("$ZodCheckStartsWith",(n,e)=>{sr.init(n,e);const t=new RegExp(`^${Fp(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:n,continue:!e.abort})}}),r5=se("$ZodCheckEndsWith",(n,e)=>{sr.init(n,e);const t=new RegExp(`.*${Fp(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:n,continue:!e.abort})}}),s5=se("$ZodCheckOverwrite",(n,e)=>{sr.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class o5{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),s=Math.min(...r.map(l=>l.length-l.trimStart().length)),i=r.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const e=Function,t=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...t,s.join(`
`))}}const i5={major:4,minor:1,patch:12},Kt=se("$ZodType",(n,e)=>{var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=i5;const r=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&r.unshift(n);for(const s of r)for(const i of s._zod.onattach)i(n);if(r.length===0)(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const s=(l,u,h)=>{let p=jl(l),g;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(p)continue;const w=l.issues.length,S=m._zod.check(l);if(S instanceof Promise&&h?.async===!1)throw new Bl;if(g||S instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await S,l.issues.length!==w&&(p||(p=jl(l,w)))});else{if(l.issues.length===w)continue;p||(p=jl(l,w))}}return g?g.then(()=>l):l},i=(l,u,h)=>{if(jl(l))return l.aborted=!0,l;const p=s(u,r,h);if(p instanceof Promise){if(h.async===!1)throw new Bl;return p.then(g=>n._zod.parse(g,h))}return n._zod.parse(p,h)};n._zod.run=(l,u)=>{if(u.skipChecks)return n._zod.parse(l,u);if(u.direction==="backward"){const p=n._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return p instanceof Promise?p.then(g=>i(g,l,u)):i(p,l,u)}const h=n._zod.parse(l,u);if(h instanceof Promise){if(u.async===!1)throw new Bl;return h.then(p=>s(p,r,u))}return s(h,r,u)}}n["~standard"]={validate:s=>{try{const i=uj(n,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return dj(n,s).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),v_=se("$ZodString",(n,e)=>{Kt.init(n,e),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??Uj(n._zod.bag),n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:n}),t}}),Mt=se("$ZodStringFormat",(n,e)=>{Up.init(n,e),v_.init(n,e)}),a5=se("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=Cj),Mt.init(n,e)}),l5=se("$ZodUUID",(n,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=jb(r))}else e.pattern??(e.pattern=jb());Mt.init(n,e)}),c5=se("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=Aj),Mt.init(n,e)}),u5=se("$ZodURL",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{try{const r=t.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Vj.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=s.href:t.value=r;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),d5=se("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=Rj()),Mt.init(n,e)}),h5=se("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=Ij),Mt.init(n,e)}),f5=se("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=wj),Mt.init(n,e)}),p5=se("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=Ej),Mt.init(n,e)}),m5=se("$ZodULID",(n,e)=>{e.pattern??(e.pattern=bj),Mt.init(n,e)}),g5=se("$ZodXID",(n,e)=>{e.pattern??(e.pattern=xj),Mt.init(n,e)}),y5=se("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=Sj),Mt.init(n,e)}),v5=se("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=zj(e)),Mt.init(n,e)}),_5=se("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=Fj),Mt.init(n,e)}),w5=se("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=jj(e)),Mt.init(n,e)}),E5=se("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=Tj),Mt.init(n,e)}),b5=se("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=kj),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv4"})}),x5=se("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=Nj),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),S5=se("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=Dj),Mt.init(n,e)}),I5=se("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=Oj),Mt.init(n,e),n._zod.check=t=>{const r=t.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const l=Number(i);if(`${l}`!==i)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${s}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function jC(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const T5=se("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=Mj),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{jC(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function C5(n){if(!DC.test(n))return!1;const e=n.replace(/[-_]/g,r=>r==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return jC(t)}const A5=se("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=DC),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{C5(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),P5=se("$ZodE164",(n,e)=>{e.pattern??(e.pattern=Lj),Mt.init(n,e)});function R5(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[r]=t;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const k5=se("$ZodJWT",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{R5(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),zC=se("$ZodNumber",(n,e)=>{Kt.init(n,e),n._zod.pattern=n._zod.bag.pattern??Bj,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=Number(t.value)}catch{}const s=t.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return t;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:s,inst:n,...i?{received:i}:{}}),t}}),N5=se("$ZodNumber",(n,e)=>{Kj.init(n,e),zC.init(n,e)}),D5=se("$ZodBoolean",(n,e)=>{Kt.init(n,e),n._zod.pattern=qj,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=!!t.value}catch{}const s=t.value;return typeof s=="boolean"||t.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:n}),t}}),O5=se("$ZodUnknown",(n,e)=>{Kt.init(n,e),n._zod.parse=t=>t}),M5=se("$ZodNever",(n,e)=>{Kt.init(n,e),n._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)});function zb(n,e,t){n.issues.length&&e.issues.push(...PC(t,n.issues)),e.value[t]=n.value}const V5=se("$ZodArray",(n,e)=>{Kt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value;if(!Array.isArray(s))return t.issues.push({expected:"array",code:"invalid_type",input:s,inst:n}),t;t.value=Array(s.length);const i=[];for(let l=0;l<s.length;l++){const u=s[l],h=e.element._zod.run({value:u,issues:[]},r);h instanceof Promise?i.push(h.then(p=>zb(p,t,l))):zb(h,t,l)}return i.length?Promise.all(i).then(()=>t):t}});function Uf(n,e,t,r){n.issues.length&&e.issues.push(...PC(t,n.issues)),n.value===void 0?t in r&&(e.value[t]=void 0):e.value[t]=n.value}function UC(n){const e=Object.keys(n.shape);for(const r of e)if(!n.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const t=JF(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function $C(n,e,t,r,s,i){const l=[],u=s.keySet,h=s.catchall._zod,p=h.def.type;for(const g of Object.keys(e)){if(u.has(g))continue;if(p==="never"){l.push(g);continue}const m=h.run({value:e[g],issues:[]},r);m instanceof Promise?n.push(m.then(w=>Uf(w,t,g,e))):Uf(m,t,g,e)}return l.length&&t.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:i}),n.length?Promise.all(n).then(()=>t):t}const L5=se("$ZodObject",(n,e)=>{if(Kt.init(n,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const u=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...u};return Object.defineProperty(e,"shape",{value:h}),h}})}const r=h_(()=>UC(e));Ct(n._zod,"propValues",()=>{const u=e.shape,h={};for(const p in u){const g=u[p]._zod;if(g.values){h[p]??(h[p]=new Set);for(const m of g.values)h[p].add(m)}}return h});const s=zf,i=e.catchall;let l;n._zod.parse=(u,h)=>{l??(l=r.value);const p=u.value;if(!s(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:n}),u;u.value={};const g=[],m=l.shape;for(const w of l.keys){const R=m[w]._zod.run({value:p[w],issues:[]},h);R instanceof Promise?g.push(R.then(T=>Uf(T,u,w,p))):Uf(R,u,w,p)}return i?$C(g,p,u,h,r.value,n):g.length?Promise.all(g).then(()=>u):u}}),F5=se("$ZodObjectJIT",(n,e)=>{L5.init(n,e);const t=n._zod.parse,r=h_(()=>UC(e)),s=w=>{const S=new o5(["shape","payload","ctx"]),R=r.value,T=z=>{const U=Fb(z);return`shape[${U}]._zod.run({ value: input[${U}], issues: [] }, ctx)`};S.write("const input = payload.value;");const P=Object.create(null);let D=0;for(const z of R.keys)P[z]=`key_${D++}`;S.write("const newResult = {};");for(const z of R.keys){const U=P[z],$=Fb(z);S.write(`const ${U} = ${T(z)};`),S.write(`
        if (${U}.issues.length) {
          payload.issues = payload.issues.concat(${U}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        
        if (${U}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${U}.value;
        }
        
      `)}S.write("payload.value = newResult;"),S.write("return payload;");const V=S.compile();return(z,U)=>V(w,z,U)};let i;const l=zf,u=!TC.jitless,p=u&&YF.value,g=e.catchall;let m;n._zod.parse=(w,S)=>{m??(m=r.value);const R=w.value;return l(R)?u&&p&&S?.async===!1&&S.jitless!==!0?(i||(i=s(e.shape)),w=i(w,S),g?$C([],R,w,S,m,n):w):t(w,S):(w.issues.push({expected:"object",code:"invalid_type",input:R,inst:n}),w)}});function Ub(n,e,t,r){for(const i of n)if(i.issues.length===0)return e.value=i.value,e;const s=n.filter(i=>!jl(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(i=>i.issues.map(l=>xa(l,r,ba())))}),e)}const j5=se("$ZodUnion",(n,e)=>{Kt.init(n,e),Ct(n._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Ct(n._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Ct(n._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Ct(n._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>p_(i.source)).join("|")})$`)}});const t=e.options.length===1,r=e.options[0]._zod.run;n._zod.parse=(s,i)=>{if(t)return r(s,i);let l=!1;const u=[];for(const h of e.options){const p=h._zod.run({value:s.value,issues:[]},i);if(p instanceof Promise)u.push(p),l=!0;else{if(p.issues.length===0)return p;u.push(p)}}return l?Promise.all(u).then(h=>Ub(h,s,n,i)):Ub(u,s,n,i)}}),z5=se("$ZodIntersection",(n,e)=>{Kt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value,i=e.left._zod.run({value:s,issues:[]},r),l=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([h,p])=>$b(t,h,p)):$b(t,i,l)}});function qy(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(Wu(n)&&Wu(e)){const t=Object.keys(e),r=Object.keys(n).filter(i=>t.indexOf(i)!==-1),s={...n,...e};for(const i of r){const l=qy(n[i],e[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};s[i]=l.data}return{valid:!0,data:s}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let r=0;r<n.length;r++){const s=n[r],i=e[r],l=qy(s,i);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};t.push(l.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function $b(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),jl(n))return n;const r=qy(e.value,t.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return n.value=r.data,n}const U5=se("$ZodEnum",(n,e)=>{Kt.init(n,e);const t=ZF(e.entries),r=new Set(t);n._zod.values=r,n._zod.pattern=new RegExp(`^(${t.filter(s=>XF.has(typeof s)).map(s=>typeof s=="string"?Fp(s):s.toString()).join("|")})$`),n._zod.parse=(s,i)=>{const l=s.value;return r.has(l)||s.issues.push({code:"invalid_value",values:t,input:l,inst:n}),s}}),$5=se("$ZodTransform",(n,e)=>{Kt.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new IC(n.constructor.name);const s=e.transform(t.value,t);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(t.value=l,t));if(s instanceof Promise)throw new Bl;return t.value=s,t}});function Bb(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const B5=se("$ZodOptional",(n,e)=>{Kt.init(n,e),n._zod.optin="optional",n._zod.optout="optional",Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${p_(t.source)})?$`):void 0}),n._zod.parse=(t,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>Bb(i,t.value)):Bb(s,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,r)}}),q5=se("$ZodNullable",(n,e)=>{Kt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${p_(t.source)}|null)$`):void 0}),Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,r)=>t.value===null?t:e.innerType._zod.run(t,r)}),H5=se("$ZodDefault",(n,e)=>{Kt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);if(t.value===void 0)return t.value=e.defaultValue,t;const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>qb(i,e)):qb(s,e)}});function qb(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const W5=se("$ZodPrefault",(n,e)=>{Kt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>(r.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,r))}),G5=se("$ZodNonOptional",(n,e)=>{Kt.init(n,e),Ct(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(r=>r!==void 0)):void 0}),n._zod.parse=(t,r)=>{const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>Hb(i,n)):Hb(s,n)}});function Hb(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const K5=se("$ZodCatch",(n,e)=>{Kt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(l=>xa(l,r,ba()))},input:t.value}),t.issues=[]),t)):(t.value=s.value,s.issues.length&&(t.value=e.catchValue({...t,error:{issues:s.issues.map(i=>xa(i,r,ba()))},input:t.value}),t.issues=[]),t)}}),Z5=se("$ZodPipe",(n,e)=>{Kt.init(n,e),Ct(n._zod,"values",()=>e.in._zod.values),Ct(n._zod,"optin",()=>e.in._zod.optin),Ct(n._zod,"optout",()=>e.out._zod.optout),Ct(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(t,r);return i instanceof Promise?i.then(l=>Xh(l,e.in,r)):Xh(i,e.in,r)}const s=e.in._zod.run(t,r);return s instanceof Promise?s.then(i=>Xh(i,e.out,r)):Xh(s,e.out,r)}});function Xh(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const Q5=se("$ZodReadonly",(n,e)=>{Kt.init(n,e),Ct(n._zod,"propValues",()=>e.innerType._zod.propValues),Ct(n._zod,"values",()=>e.innerType._zod.values),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(Wb):Wb(s)}});function Wb(n){return n.value=Object.freeze(n.value),n}const Y5=se("$ZodCustom",(n,e)=>{sr.init(n,e),Kt.init(n,e),n._zod.parse=(t,r)=>t,n._zod.check=t=>{const r=t.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>Gb(i,t,r,n));Gb(s,t,r,n)}});function Gb(n,e,t,r){if(!n){const s={code:"custom",input:t,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(Gu(s))}}class X5{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const r=t[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function J5(){return new X5}const Jh=J5();function e3(n,e){return new n({type:"string",...Fe(e)})}function t3(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Fe(e)})}function Kb(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(e)})}function n3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(e)})}function r3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(e)})}function s3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(e)})}function o3(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(e)})}function i3(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Fe(e)})}function a3(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(e)})}function l3(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(e)})}function c3(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(e)})}function u3(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(e)})}function d3(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(e)})}function h3(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(e)})}function f3(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(e)})}function p3(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(e)})}function m3(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(e)})}function g3(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(e)})}function y3(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(e)})}function v3(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(e)})}function _3(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(e)})}function w3(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(e)})}function E3(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(e)})}function b3(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(e)})}function x3(n,e){return new n({type:"string",format:"date",check:"string_format",...Fe(e)})}function S3(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...Fe(e)})}function I3(n,e){return new n({type:"string",format:"duration",check:"string_format",...Fe(e)})}function T3(n,e){return new n({type:"number",checks:[],...Fe(e)})}function C3(n,e){return new n({type:"number",coerce:!0,checks:[],...Fe(e)})}function A3(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Fe(e)})}function P3(n,e){return new n({type:"boolean",...Fe(e)})}function R3(n){return new n({type:"unknown"})}function k3(n,e){return new n({type:"never",...Fe(e)})}function Zb(n,e){return new LC({check:"less_than",...Fe(e),value:n,inclusive:!1})}function iy(n,e){return new LC({check:"less_than",...Fe(e),value:n,inclusive:!0})}function Qb(n,e){return new FC({check:"greater_than",...Fe(e),value:n,inclusive:!1})}function ay(n,e){return new FC({check:"greater_than",...Fe(e),value:n,inclusive:!0})}function Yb(n,e){return new Gj({check:"multiple_of",...Fe(e),value:n})}function BC(n,e){return new Zj({check:"max_length",...Fe(e),maximum:n})}function $f(n,e){return new Qj({check:"min_length",...Fe(e),minimum:n})}function qC(n,e){return new Yj({check:"length_equals",...Fe(e),length:n})}function N3(n,e){return new Xj({check:"string_format",format:"regex",...Fe(e),pattern:n})}function D3(n){return new Jj({check:"string_format",format:"lowercase",...Fe(n)})}function O3(n){return new e5({check:"string_format",format:"uppercase",...Fe(n)})}function M3(n,e){return new t5({check:"string_format",format:"includes",...Fe(e),includes:n})}function V3(n,e){return new n5({check:"string_format",format:"starts_with",...Fe(e),prefix:n})}function L3(n,e){return new r5({check:"string_format",format:"ends_with",...Fe(e),suffix:n})}function pd(n){return new s5({check:"overwrite",tx:n})}function F3(n){return pd(e=>e.normalize(n))}function j3(){return pd(n=>n.trim())}function z3(){return pd(n=>n.toLowerCase())}function U3(){return pd(n=>n.toUpperCase())}function $3(n,e,t){return new n({type:"array",element:e,...Fe(t)})}function B3(n,e,t){return new n({type:"custom",check:"custom",fn:e,...Fe(t)})}function q3(n){const e=H3(t=>(t.addIssue=r=>{if(typeof r=="string")t.issues.push(Gu(r,t.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=t.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),t.issues.push(Gu(s))}},n(t.value,t)));return e}function H3(n,e){const t=new sr({check:"custom",...Fe(e)});return t._zod.check=n,t}const W3=se("ZodISODateTime",(n,e)=>{v5.init(n,e),zt.init(n,e)});function G3(n){return b3(W3,n)}const K3=se("ZodISODate",(n,e)=>{_5.init(n,e),zt.init(n,e)});function Z3(n){return x3(K3,n)}const Q3=se("ZodISOTime",(n,e)=>{w5.init(n,e),zt.init(n,e)});function Y3(n){return S3(Q3,n)}const X3=se("ZodISODuration",(n,e)=>{E5.init(n,e),zt.init(n,e)});function J3(n){return I3(X3,n)}const e6=(n,e)=>{kC.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>cj(n,t)},flatten:{value:t=>lj(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,By,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,By,2)}},isEmpty:{get(){return n.issues.length===0}}})},Fr=se("ZodError",e6,{Parent:Error}),t6=g_(Fr),n6=y_(Fr),r6=jp(Fr),s6=zp(Fr),o6=hj(Fr),i6=fj(Fr),a6=pj(Fr),l6=mj(Fr),c6=gj(Fr),u6=yj(Fr),d6=vj(Fr),h6=_j(Fr),rn=se("ZodType",(n,e)=>(Kt.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone(Fa(e,{checks:[...e.checks??[],...t.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),n.clone=(t,r)=>Ai(n,t,r),n.brand=()=>n,n.register=((t,r)=>(t.add(n,r),n)),n.parse=(t,r)=>t6(n,t,r,{callee:n.parse}),n.safeParse=(t,r)=>r6(n,t,r),n.parseAsync=async(t,r)=>n6(n,t,r,{callee:n.parseAsync}),n.safeParseAsync=async(t,r)=>s6(n,t,r),n.spa=n.safeParseAsync,n.encode=(t,r)=>o6(n,t,r),n.decode=(t,r)=>i6(n,t,r),n.encodeAsync=async(t,r)=>a6(n,t,r),n.decodeAsync=async(t,r)=>l6(n,t,r),n.safeEncode=(t,r)=>c6(n,t,r),n.safeDecode=(t,r)=>u6(n,t,r),n.safeEncodeAsync=async(t,r)=>d6(n,t,r),n.safeDecodeAsync=async(t,r)=>h6(n,t,r),n.refine=(t,r)=>n.check(rz(t,r)),n.superRefine=t=>n.check(sz(t)),n.overwrite=t=>n.check(pd(t)),n.optional=()=>tx(n),n.nullable=()=>nx(n),n.nullish=()=>tx(nx(n)),n.nonoptional=t=>Q6(n,t),n.array=()=>WC(n),n.or=t=>z6([n,t]),n.and=t=>$6(n,t),n.transform=t=>rx(n,q6(t)),n.default=t=>G6(n,t),n.prefault=t=>Z6(n,t),n.catch=t=>X6(n,t),n.pipe=t=>rx(n,t),n.readonly=()=>tz(n),n.describe=t=>{const r=n.clone();return Jh.add(r,{description:t}),r},Object.defineProperty(n,"description",{get(){return Jh.get(n)?.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return Jh.get(n);const r=n.clone();return Jh.add(r,t[0]),r},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),HC=se("_ZodString",(n,e)=>{v_.init(n,e),rn.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...r)=>n.check(N3(...r)),n.includes=(...r)=>n.check(M3(...r)),n.startsWith=(...r)=>n.check(V3(...r)),n.endsWith=(...r)=>n.check(L3(...r)),n.min=(...r)=>n.check($f(...r)),n.max=(...r)=>n.check(BC(...r)),n.length=(...r)=>n.check(qC(...r)),n.nonempty=(...r)=>n.check($f(1,...r)),n.lowercase=r=>n.check(D3(r)),n.uppercase=r=>n.check(O3(r)),n.trim=()=>n.check(j3()),n.normalize=(...r)=>n.check(F3(...r)),n.toLowerCase=()=>n.check(z3()),n.toUpperCase=()=>n.check(U3())}),f6=se("ZodString",(n,e)=>{v_.init(n,e),HC.init(n,e),n.email=t=>n.check(t3(p6,t)),n.url=t=>n.check(i3(m6,t)),n.jwt=t=>n.check(E3(R6,t)),n.emoji=t=>n.check(a3(g6,t)),n.guid=t=>n.check(Kb(Xb,t)),n.uuid=t=>n.check(n3(ef,t)),n.uuidv4=t=>n.check(r3(ef,t)),n.uuidv6=t=>n.check(s3(ef,t)),n.uuidv7=t=>n.check(o3(ef,t)),n.nanoid=t=>n.check(l3(y6,t)),n.guid=t=>n.check(Kb(Xb,t)),n.cuid=t=>n.check(c3(v6,t)),n.cuid2=t=>n.check(u3(_6,t)),n.ulid=t=>n.check(d3(w6,t)),n.base64=t=>n.check(v3(C6,t)),n.base64url=t=>n.check(_3(A6,t)),n.xid=t=>n.check(h3(E6,t)),n.ksuid=t=>n.check(f3(b6,t)),n.ipv4=t=>n.check(p3(x6,t)),n.ipv6=t=>n.check(m3(S6,t)),n.cidrv4=t=>n.check(g3(I6,t)),n.cidrv6=t=>n.check(y3(T6,t)),n.e164=t=>n.check(w3(P6,t)),n.datetime=t=>n.check(G3(t)),n.date=t=>n.check(Z3(t)),n.time=t=>n.check(Y3(t)),n.duration=t=>n.check(J3(t))});function lt(n){return e3(f6,n)}const zt=se("ZodStringFormat",(n,e)=>{Mt.init(n,e),HC.init(n,e)}),p6=se("ZodEmail",(n,e)=>{c5.init(n,e),zt.init(n,e)}),Xb=se("ZodGUID",(n,e)=>{a5.init(n,e),zt.init(n,e)}),ef=se("ZodUUID",(n,e)=>{l5.init(n,e),zt.init(n,e)}),m6=se("ZodURL",(n,e)=>{u5.init(n,e),zt.init(n,e)}),g6=se("ZodEmoji",(n,e)=>{d5.init(n,e),zt.init(n,e)}),y6=se("ZodNanoID",(n,e)=>{h5.init(n,e),zt.init(n,e)}),v6=se("ZodCUID",(n,e)=>{f5.init(n,e),zt.init(n,e)}),_6=se("ZodCUID2",(n,e)=>{p5.init(n,e),zt.init(n,e)}),w6=se("ZodULID",(n,e)=>{m5.init(n,e),zt.init(n,e)}),E6=se("ZodXID",(n,e)=>{g5.init(n,e),zt.init(n,e)}),b6=se("ZodKSUID",(n,e)=>{y5.init(n,e),zt.init(n,e)}),x6=se("ZodIPv4",(n,e)=>{b5.init(n,e),zt.init(n,e)}),S6=se("ZodIPv6",(n,e)=>{x5.init(n,e),zt.init(n,e)}),I6=se("ZodCIDRv4",(n,e)=>{S5.init(n,e),zt.init(n,e)}),T6=se("ZodCIDRv6",(n,e)=>{I5.init(n,e),zt.init(n,e)}),C6=se("ZodBase64",(n,e)=>{T5.init(n,e),zt.init(n,e)}),A6=se("ZodBase64URL",(n,e)=>{A5.init(n,e),zt.init(n,e)}),P6=se("ZodE164",(n,e)=>{P5.init(n,e),zt.init(n,e)}),R6=se("ZodJWT",(n,e)=>{k5.init(n,e),zt.init(n,e)}),__=se("ZodNumber",(n,e)=>{zC.init(n,e),rn.init(n,e),n.gt=(r,s)=>n.check(Qb(r,s)),n.gte=(r,s)=>n.check(ay(r,s)),n.min=(r,s)=>n.check(ay(r,s)),n.lt=(r,s)=>n.check(Zb(r,s)),n.lte=(r,s)=>n.check(iy(r,s)),n.max=(r,s)=>n.check(iy(r,s)),n.int=r=>n.check(Jb(r)),n.safe=r=>n.check(Jb(r)),n.positive=r=>n.check(Qb(0,r)),n.nonnegative=r=>n.check(ay(0,r)),n.negative=r=>n.check(Zb(0,r)),n.nonpositive=r=>n.check(iy(0,r)),n.multipleOf=(r,s)=>n.check(Yb(r,s)),n.step=(r,s)=>n.check(Yb(r,s)),n.finite=()=>n;const t=n._zod.bag;n.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),n.isFinite=!0,n.format=t.format??null});function ly(n){return T3(__,n)}const k6=se("ZodNumberFormat",(n,e)=>{N5.init(n,e),__.init(n,e)});function Jb(n){return A3(k6,n)}const N6=se("ZodBoolean",(n,e)=>{D5.init(n,e),rn.init(n,e)});function D6(n){return P3(N6,n)}const O6=se("ZodUnknown",(n,e)=>{O5.init(n,e),rn.init(n,e)});function ex(){return R3(O6)}const M6=se("ZodNever",(n,e)=>{M5.init(n,e),rn.init(n,e)});function V6(n){return k3(M6,n)}const L6=se("ZodArray",(n,e)=>{V5.init(n,e),rn.init(n,e),n.element=e.element,n.min=(t,r)=>n.check($f(t,r)),n.nonempty=t=>n.check($f(1,t)),n.max=(t,r)=>n.check(BC(t,r)),n.length=(t,r)=>n.check(qC(t,r)),n.unwrap=()=>n.element});function WC(n,e){return $3(L6,n,e)}const F6=se("ZodObject",(n,e)=>{F5.init(n,e),rn.init(n,e),Ct(n,"shape",()=>e.shape),n.keyof=()=>w_(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:ex()}),n.loose=()=>n.clone({...n._zod.def,catchall:ex()}),n.strict=()=>n.clone({...n._zod.def,catchall:V6()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>rj(n,t),n.safeExtend=t=>sj(n,t),n.merge=t=>oj(n,t),n.pick=t=>tj(n,t),n.omit=t=>nj(n,t),n.partial=(...t)=>ij(GC,n,t[0]),n.required=(...t)=>aj(KC,n,t[0])});function Pi(n,e){const t={type:"object",shape:n??{},...Fe(e)};return new F6(t)}const j6=se("ZodUnion",(n,e)=>{j5.init(n,e),rn.init(n,e),n.options=e.options});function z6(n,e){return new j6({type:"union",options:n,...Fe(e)})}const U6=se("ZodIntersection",(n,e)=>{z5.init(n,e),rn.init(n,e)});function $6(n,e){return new U6({type:"intersection",left:n,right:e})}const Hy=se("ZodEnum",(n,e)=>{U5.init(n,e),rn.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(r,s)=>{const i={};for(const l of r)if(t.has(l))i[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Hy({...e,checks:[],...Fe(s),entries:i})},n.exclude=(r,s)=>{const i={...e.entries};for(const l of r)if(t.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new Hy({...e,checks:[],...Fe(s),entries:i})}});function w_(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(r=>[r,r])):n;return new Hy({type:"enum",entries:t,...Fe(e)})}const B6=se("ZodTransform",(n,e)=>{$5.init(n,e),rn.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new IC(n.constructor.name);t.addIssue=i=>{if(typeof i=="string")t.issues.push(Gu(i,t.value,e));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=t.value),l.inst??(l.inst=n),t.issues.push(Gu(l))}};const s=e.transform(t.value,t);return s instanceof Promise?s.then(i=>(t.value=i,t)):(t.value=s,t)}});function q6(n){return new B6({type:"transform",transform:n})}const GC=se("ZodOptional",(n,e)=>{B5.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function tx(n){return new GC({type:"optional",innerType:n})}const H6=se("ZodNullable",(n,e)=>{q5.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function nx(n){return new H6({type:"nullable",innerType:n})}const W6=se("ZodDefault",(n,e)=>{H5.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function G6(n,e){return new W6({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():AC(e)}})}const K6=se("ZodPrefault",(n,e)=>{W5.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Z6(n,e){return new K6({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():AC(e)}})}const KC=se("ZodNonOptional",(n,e)=>{G5.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Q6(n,e){return new KC({type:"nonoptional",innerType:n,...Fe(e)})}const Y6=se("ZodCatch",(n,e)=>{K5.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function X6(n,e){return new Y6({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const J6=se("ZodPipe",(n,e)=>{Z5.init(n,e),rn.init(n,e),n.in=e.in,n.out=e.out});function rx(n,e){return new J6({type:"pipe",in:n,out:e})}const ez=se("ZodReadonly",(n,e)=>{Q5.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function tz(n){return new ez({type:"readonly",innerType:n})}const nz=se("ZodCustom",(n,e)=>{Y5.init(n,e),rn.init(n,e)});function rz(n,e={}){return B3(nz,n,e)}function sz(n){return q3(n)}function hi(n){return C3(__,n)}const ZC=8,Wy=`Password must be at least ${ZC} characters`,QC=lt().min(1,"Password is required").min(ZC,Wy),sx=Pi({email:lt().min(1,"Email is required").email("Please enter a valid email address"),password:lt().min(1,"Password is required")}),ox=Pi({name:lt().min(1,"Name is required").min(2,"Name must be at least 2 characters"),email:lt().min(1,"Email is required").email("Please enter a valid email address"),password:QC,confirmPassword:lt().min(1,"Please confirm your password")}).refine(n=>n.password===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});Pi({currentPassword:lt().min(1,"Current password is required"),newPassword:QC,confirmPassword:lt().min(1,"Please confirm your new password")}).refine(n=>n.newPassword===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});const BH=Pi({name:lt().min(1,"Item name is required").min(3,"Item name must be at least 3 characters").max(100,"Item name must be less than 100 characters"),category:lt().min(1,"Category is required"),subcategory:lt().optional(),quantity:hi().int("Quantity must be a whole number").min(0,"Quantity cannot be negative"),location:lt().min(1,"Location is required").regex(/^[A-Z]-\d+$/,"Location must be in format A-12 (Letter-Number)"),brand:lt().min(1,"Brand is required").min(2,"Brand must be at least 2 characters").max(100,"Brand must be less than 100 characters"),pricePerPiece:hi().positive("Price per piece must be a positive number").max(1e6,"Price per piece seems too high"),supplierId:lt().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Supplier ID must be in format SUP-001"),quantityPurchased:hi().int("Quantity purchased must be a whole number").min(0,"Quantity purchased cannot be negative"),quantitySold:hi().int("Quantity sold must be a whole number").min(0,"Quantity sold cannot be negative"),reorderRequired:D6()});Pi({name:lt().min(1,"Company name is required").min(2,"Company name must be at least 2 characters").max(100,"Company name must be less than 100 characters"),contact:lt().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:lt().min(1,"Email is required").email("Please enter a valid email address"),phone:lt().min(1,"Phone number is required"),category:lt().min(1,"Category is required"),status:w_(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:lt().max(100,"Country must be less than 100 characters").optional(),city:lt().max(100,"City must be less than 100 characters").optional(),address:lt().max(200,"Address must be less than 200 characters").optional(),purchases:hi().min(0,"Purchases cannot be negative").optional(),payments:hi().min(0,"Payments cannot be negative").optional()});Pi({name:lt().min(1,"Customer name is required").min(2,"Customer name must be at least 2 characters").max(100,"Customer name must be less than 100 characters"),contact:lt().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:lt().min(1,"Email is required").email("Please enter a valid email address"),phone:lt().min(1,"Phone number is required"),category:lt().min(1,"Category is required"),status:w_(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:lt().max(100,"Country must be less than 100 characters").optional(),city:lt().max(100,"City must be less than 100 characters").optional(),address:lt().max(200,"Address must be less than 200 characters").optional(),purchases:hi().min(0,"Purchases cannot be negative").optional(),payments:hi().min(0,"Payments cannot be negative").optional()});const oz=Pi({inventoryItemId:lt().min(1,"Item is required"),itemName:lt().min(1,"Item name is required"),quantity:ly().int("Quantity must be a whole number").min(1,"Quantity must be at least 1"),unitPrice:ly().positive("Unit price must be positive"),totalPrice:ly().positive("Total price must be positive")});Pi({supplierId:lt().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Invalid supplier ID format"),supplierName:lt().min(1,"Supplier name is required"),items:WC(oz).min(1,"At least one item is required"),expectedDeliveryDate:lt().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format").refine(n=>{const e=new Date(n),t=new Date;return t.setHours(0,0,0,0),e>=t},"Expected delivery date must be today or in the future"),notes:lt().optional()});function iz(){const{login:n,register:e}=fd(),[t,r]=b.useState("login"),[s,i]=b.useState({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1}),[l,u]=b.useState({}),[h,p]=b.useState(!1),[g,m]=b.useState(!1),w=()=>{i({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1}),u({})},S=D=>{r(D),w()};function R(D,V){const z=t==="login"?sx:ox,U=t==="login"?{email:D==="email"?V:s.email,password:D==="password"?V:s.password}:{name:D==="name"?V:s.name,email:D==="email"?V:s.email,password:D==="password"?V:s.password,confirmPassword:D==="confirmPassword"?V:s.confirmPassword},$=z.safeParse(U);if($.success)u(K=>{const A={...K};return delete A[D],A});else{const K=$.error.errors.find(A=>A.path[0]===D);u(K?A=>({...A,[D]:K.message}):A=>{const C={...A};return delete C[D],C})}}function T(){const D=t==="login"?sx:ox,V=t==="login"?{email:s.email,password:s.password}:{name:s.name,email:s.email,password:s.password,confirmPassword:s.confirmPassword},z=D.safeParse(V);if(!z.success){const U={};return z.error.errors.forEach($=>{const K=$.path.join(".");U[K]=$.message}),u(U),Object.values(U)[0]}return u({}),null}async function P(D){D.preventDefault();const V=T();if(V){Jr.error(V);return}m(!0);try{t==="login"?(await n(s.email,s.password,s.rememberMe),Jr.success("Welcome back!")):(await e(s.email,s.password,s.name),Jr.success("Registration successful! Your account is pending approval by an administrator."),S("login"))}catch(z){if(z instanceof Error){const U=z.message;if(U.startsWith("NO_ACCOUNT:")){const $=U.replace("NO_ACCOUNT:","");Jr.error($,{action:{label:"Sign Up",onClick:()=>S("register")},duration:8e3})}else U.startsWith("WRONG_PASSWORD:")?Jr.error(U.replace("WRONG_PASSWORD:","")):U.startsWith("PENDING:")?Jr.warning(U.replace("PENDING:",""),{duration:6e3}):U.startsWith("INACTIVE:")?Jr.error(U.replace("INACTIVE:",""),{duration:6e3}):Jr.error(U)}else Jr.error("An error occurred. Please try again.")}finally{m(!1)}}return E.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:E.jsxs(dC,{className:"w-full max-w-[360px] shadow-xl mx-auto",children:[E.jsxs(hC,{className:"space-y-4 text-center",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:E.jsx(wp,{className:"h-8 w-8 text-primary"})})}),E.jsxs("div",{children:[E.jsx(fC,{className:"text-2xl font-bold",children:t==="login"?"Welcome Back":"Create Account"}),E.jsx(pC,{className:"mt-2",children:t==="login"?"Sign in to your Warehouse Management System":"Register for a new account (requires admin approval)"})]})]}),E.jsx(mC,{children:E.jsxs("form",{onSubmit:P,className:"space-y-4",children:[t==="register"&&E.jsxs("div",{className:"space-y-2",children:[E.jsx(pu,{htmlFor:"name",children:"Full Name"}),E.jsxs("div",{className:"relative",children:[E.jsx(Ty,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(bu,{id:"name",type:"text",placeholder:"John Doe",value:s.name,onChange:D=>{i({...s,name:D.target.value}),R("name",D.target.value)},className:`pl-9 ${l.name?"border-red-500":""}`,disabled:g,autoComplete:"name"})]}),l.name&&E.jsx("p",{className:"text-sm text-red-500",children:l.name})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(pu,{htmlFor:"email",children:"Email"}),E.jsxs("div",{className:"relative",children:[E.jsx(N2,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(bu,{id:"email",type:"email",placeholder:"admin@wms.com",value:s.email,onChange:D=>{i({...s,email:D.target.value}),R("email",D.target.value)},className:`pl-9 ${l.email?"border-red-500":""}`,disabled:g,autoComplete:"email"})]}),l.email&&E.jsx("p",{className:"text-sm text-red-500",children:l.email})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(pu,{htmlFor:"password",children:"Password"}),E.jsxs("div",{className:"relative",children:[E.jsx(XE,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(bu,{id:"password",type:h?"text":"password",placeholder:t==="register"?`Min ${Wy.split(" ").pop()} characters`:"Enter your password",value:s.password,onChange:D=>{i({...s,password:D.target.value}),R("password",D.target.value)},className:`pl-9 pr-9 ${l.password?"border-red-500":""}`,disabled:g,autoComplete:t==="login"?"current-password":"new-password"}),E.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:g,tabIndex:-1,children:h?E.jsx(v2,{className:"h-4 w-4"}):E.jsx(w2,{className:"h-4 w-4"})})]}),l.password?E.jsx("p",{className:"text-sm text-red-500",children:l.password}):t==="register"&&E.jsx("p",{className:"text-xs text-muted-foreground",children:Wy})]}),t==="register"&&E.jsxs("div",{className:"space-y-2",children:[E.jsx(pu,{htmlFor:"confirmPassword",children:"Confirm Password"}),E.jsxs("div",{className:"relative",children:[E.jsx(XE,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),E.jsx(bu,{id:"confirmPassword",type:h?"text":"password",placeholder:"Confirm your password",value:s.confirmPassword,onChange:D=>{i({...s,confirmPassword:D.target.value}),R("confirmPassword",D.target.value)},className:`pl-9 ${l.confirmPassword?"border-red-500":""}`,disabled:g,autoComplete:"new-password"})]}),l.confirmPassword&&E.jsx("p",{className:"text-sm text-red-500",children:l.confirmPassword})]}),t==="login"&&E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(KF,{id:"remember",checked:s.rememberMe,onCheckedChange:D=>i({...s,rememberMe:D}),disabled:g}),E.jsx(pu,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),E.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",disabled:g,onClick:()=>Jr.info("Password reset feature coming soon!"),children:"Forgot password?"})]}),E.jsx(ju,{type:"submit",className:"w-full",disabled:g,children:g?E.jsxs(E.Fragment,{children:[E.jsx(Rf,{className:"mr-2 h-4 w-4 animate-spin"}),t==="login"?"Signing in...":"Creating account..."]}):t==="login"?"Sign In":"Create Account"}),E.jsx("div",{className:"text-center text-sm",children:t==="login"?E.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",E.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>S("register"),disabled:g,children:"Sign up"})]}):E.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",E.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>S("login"),disabled:g,children:"Sign in"})]})}),t==="login"&&E.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[E.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Demo Credentials:"}),E.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[E.jsxs("p",{children:[E.jsx("span",{className:"font-medium",children:"Owner:"})," owner@wms.com / owner123"]}),E.jsxs("p",{children:[E.jsx("span",{className:"font-medium",children:"Admin:"})," admin@wms.com / admin123"]}),E.jsxs("p",{children:[E.jsx("span",{className:"font-medium",children:"Operator:"})," operator@wms.com / operator123"]})]})]}),t==="register"&&E.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:E.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:[E.jsx("strong",{children:"Note:"})," New accounts require administrator approval before you can access the system. You will be notified once your account is approved."]})})]})})]})})}const ix="wms_error_logs",ax=100;function Gy(n,e){const t={message:n?.message??String(n),stack:n?.stack,componentStack:e?.componentStack,timestamp:Date.now()};try{const r=localStorage.getItem(ix),s=r?JSON.parse(r):[];s.unshift(t),s.length>ax&&(s.length=ax),localStorage.setItem(ix,JSON.stringify(s))}catch{}}function az({...n}){return E.jsx(a1,{"data-slot":"dialog",...n})}function qH({...n}){return E.jsx(wM,{"data-slot":"dialog-trigger",...n})}function lz({...n}){return E.jsx(l1,{"data-slot":"dialog-portal",...n})}function cz({className:n,...e}){return E.jsx(Fv,{"data-slot":"dialog-overlay",className:$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function uz({className:n,children:e,...t}){return E.jsxs(lz,{"data-slot":"dialog-portal",children:[E.jsx(cz,{}),E.jsxs(jv,{"data-slot":"dialog-content",className:$e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,E.jsxs(c1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[E.jsx(Rv,{}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function HH({className:n,...e}){return E.jsx("div",{"data-slot":"dialog-header",className:$e("flex flex-col gap-2 text-center sm:text-left",n),...e})}function WH({className:n,...e}){return E.jsx("div",{"data-slot":"dialog-footer",className:$e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function GH({className:n,...e}){return E.jsx(zv,{"data-slot":"dialog-title",className:$e("text-lg leading-none font-semibold",n),...e})}function KH({className:n,...e}){return E.jsx(Uv,{"data-slot":"dialog-description",className:$e("text-muted-foreground text-sm",n),...e})}const dz=_p("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function lx({className:n,variant:e,asChild:t=!1,...r}){const s=t?vp:"span";return E.jsx(s,{"data-slot":"badge",className:$e(dz({variant:e}),n),...r})}function hz(n,[e,t]){return Math.min(t,Math.max(e,n))}function fz(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var E_="ScrollArea",[YC]=Hs(E_),[pz,jr]=YC(E_),XC=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...l}=n,[u,h]=b.useState(null),[p,g]=b.useState(null),[m,w]=b.useState(null),[S,R]=b.useState(null),[T,P]=b.useState(null),[D,V]=b.useState(0),[z,U]=b.useState(0),[$,K]=b.useState(!1),[A,C]=b.useState(!1),N=Et(e,F=>h(F)),M=Jv(s);return E.jsx(pz,{scope:t,type:r,dir:M,scrollHideDelay:i,scrollArea:u,viewport:p,onViewportChange:g,content:m,onContentChange:w,scrollbarX:S,onScrollbarXChange:R,scrollbarXEnabled:$,onScrollbarXEnabledChange:K,scrollbarY:T,onScrollbarYChange:P,scrollbarYEnabled:A,onScrollbarYEnabledChange:C,onCornerWidthChange:V,onCornerHeightChange:U,children:E.jsx(ht.div,{dir:M,...l,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":D+"px","--radix-scroll-area-corner-height":z+"px",...n.style}})})});XC.displayName=E_;var JC="ScrollAreaViewport",eA=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=n,l=jr(JC,t),u=b.useRef(null),h=Et(e,u,l.onViewportChange);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),E.jsx(ht.div,{"data-radix-scroll-area-viewport":"",...i,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:E.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});eA.displayName=JC;var Gs="ScrollAreaScrollbar",b_=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=jr(Gs,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,u=n.orientation==="horizontal";return b.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),s.type==="hover"?E.jsx(mz,{...r,ref:e,forceMount:t}):s.type==="scroll"?E.jsx(gz,{...r,ref:e,forceMount:t}):s.type==="auto"?E.jsx(tA,{...r,ref:e,forceMount:t}):s.type==="always"?E.jsx(x_,{...r,ref:e}):null});b_.displayName=Gs;var mz=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=jr(Gs,n.__scopeScrollArea),[i,l]=b.useState(!1);return b.useEffect(()=>{const u=s.scrollArea;let h=0;if(u){const p=()=>{window.clearTimeout(h),l(!0)},g=()=>{h=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),E.jsx(Hn,{present:t||i,children:E.jsx(tA,{"data-state":i?"visible":"hidden",...r,ref:e})})}),gz=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=jr(Gs,n.__scopeScrollArea),i=n.orientation==="horizontal",l=Bp(()=>h("SCROLL_END"),100),[u,h]=fz("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,s.scrollHideDelay,h]),b.useEffect(()=>{const p=s.viewport,g=i?"scrollLeft":"scrollTop";if(p){let m=p[g];const w=()=>{const S=p[g];m!==S&&(h("SCROLL"),l()),m=S};return p.addEventListener("scroll",w),()=>p.removeEventListener("scroll",w)}},[s.viewport,i,h,l]),E.jsx(Hn,{present:t||u!=="hidden",children:E.jsx(x_,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Le(n.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Le(n.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),tA=b.forwardRef((n,e)=>{const t=jr(Gs,n.__scopeScrollArea),{forceMount:r,...s}=n,[i,l]=b.useState(!1),u=n.orientation==="horizontal",h=Bp(()=>{if(t.viewport){const p=t.viewport.offsetWidth<t.viewport.scrollWidth,g=t.viewport.offsetHeight<t.viewport.scrollHeight;l(u?p:g)}},10);return Yl(t.viewport,h),Yl(t.content,h),E.jsx(Hn,{present:r||i,children:E.jsx(x_,{"data-state":i?"visible":"hidden",...s,ref:e})})}),x_=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=jr(Gs,n.__scopeScrollArea),i=b.useRef(null),l=b.useRef(0),[u,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=iA(u.viewport,u.content),g={...r,sizes:u,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:w=>i.current=w,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:w=>l.current=w};function m(w,S){return bz(w,l.current,u,S)}return t==="horizontal"?E.jsx(yz,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollLeft,S=cx(w,u,s.dir);i.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=m(w,s.dir))}}):t==="vertical"?E.jsx(vz,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollTop,S=cx(w,u);i.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=m(w))}}):null}),yz=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=jr(Gs,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=Et(e,h,i.onScrollbarXChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),E.jsx(rA,{"data-orientation":"horizontal",...s,ref:p,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$p(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.x),onDragScroll:g=>n.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(i.viewport){const w=i.viewport.scrollLeft+g.deltaX;n.onWheelScroll(w),lA(w,m)&&g.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:qf(l.paddingLeft),paddingEnd:qf(l.paddingRight)}})}})}),vz=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=jr(Gs,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=Et(e,h,i.onScrollbarYChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),E.jsx(rA,{"data-orientation":"vertical",...s,ref:p,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$p(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.y),onDragScroll:g=>n.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(i.viewport){const w=i.viewport.scrollTop+g.deltaY;n.onWheelScroll(w),lA(w,m)&&g.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:qf(l.paddingTop),paddingEnd:qf(l.paddingBottom)}})}})}),[_z,nA]=YC(Gs),rA=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:m,...w}=n,S=jr(Gs,t),[R,T]=b.useState(null),P=Et(e,N=>T(N)),D=b.useRef(null),V=b.useRef(""),z=S.viewport,U=r.content-r.viewport,$=On(g),K=On(h),A=Bp(m,10);function C(N){if(D.current){const M=N.clientX-D.current.left,F=N.clientY-D.current.top;p({x:M,y:F})}}return b.useEffect(()=>{const N=M=>{const F=M.target;R?.contains(F)&&$(M,U)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[z,R,U,$]),b.useEffect(K,[r,K]),Yl(R,A),Yl(S.content,A),E.jsx(_z,{scope:t,scrollbar:R,hasThumb:s,onThumbChange:On(i),onThumbPointerUp:On(l),onThumbPositionChange:K,onThumbPointerDown:On(u),children:E.jsx(ht.div,{...w,ref:P,style:{position:"absolute",...w.style},onPointerDown:Le(n.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),D.current=R.getBoundingClientRect(),V.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),C(N))}),onPointerMove:Le(n.onPointerMove,C),onPointerUp:Le(n.onPointerUp,N=>{const M=N.target;M.hasPointerCapture(N.pointerId)&&M.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=V.current,S.viewport&&(S.viewport.style.scrollBehavior=""),D.current=null})})})}),Bf="ScrollAreaThumb",sA=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=nA(Bf,n.__scopeScrollArea);return E.jsx(Hn,{present:t||s.hasThumb,children:E.jsx(wz,{ref:e,...r})})}),wz=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,i=jr(Bf,t),l=nA(Bf,t),{onThumbPositionChange:u}=l,h=Et(e,m=>l.onThumbChange(m)),p=b.useRef(void 0),g=Bp(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const w=()=>{if(g(),!p.current){const S=xz(m,u);p.current=S,u()}};return u(),m.addEventListener("scroll",w),()=>m.removeEventListener("scroll",w)}},[i.viewport,g,u]),E.jsx(ht.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(n.onPointerDownCapture,m=>{const S=m.target.getBoundingClientRect(),R=m.clientX-S.left,T=m.clientY-S.top;l.onThumbPointerDown({x:R,y:T})}),onPointerUp:Le(n.onPointerUp,l.onThumbPointerUp)})});sA.displayName=Bf;var S_="ScrollAreaCorner",oA=b.forwardRef((n,e)=>{const t=jr(S_,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?E.jsx(Ez,{...n,ref:e}):null});oA.displayName=S_;var Ez=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=jr(S_,t),[i,l]=b.useState(0),[u,h]=b.useState(0),p=!!(i&&u);return Yl(s.scrollbarX,()=>{const g=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(g),h(g)}),Yl(s.scrollbarY,()=>{const g=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(g),l(g)}),p?E.jsx(ht.div,{...r,ref:e,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function qf(n){return n?parseInt(n,10):0}function iA(n,e){const t=n/e;return isNaN(t)?0:t}function $p(n){const e=iA(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function bz(n,e,t,r="ltr"){const s=$p(t),i=s/2,l=e||i,u=s-l,h=t.scrollbar.paddingStart+l,p=t.scrollbar.size-t.scrollbar.paddingEnd-u,g=t.content-t.viewport,m=r==="ltr"?[0,g]:[g*-1,0];return aA([h,p],m)(n)}function cx(n,e,t="ltr"){const r=$p(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,l=e.content-e.viewport,u=i-r,h=t==="ltr"?[0,l]:[l*-1,0],p=hz(n,h);return aA([0,l],[0,u])(p)}function aA(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function lA(n,e){return n>0&&n<e}var xz=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const i={left:n.scrollLeft,top:n.scrollTop},l=t.left!==i.left,u=t.top!==i.top;(l||u)&&e(),t=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Bp(n,e){const t=On(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Yl(n,e){const t=On(e);mo(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var cA=XC,Sz=eA,Iz=oA;const uA=b.forwardRef(({className:n,children:e,...t},r)=>E.jsxs(cA,{ref:r,className:$e("relative overflow-hidden",n),...t,children:[E.jsx(Sz,{className:"h-full w-full rounded-[inherit]",children:e}),E.jsx(dA,{}),E.jsx(Iz,{})]}));uA.displayName=cA.displayName;const dA=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>E.jsx(b_,{ref:r,orientation:e,className:$e("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:E.jsx(sA,{className:"relative flex-1 rounded-full bg-border"})}));dA.displayName=b_.displayName;const Tz=()=>{};var ux={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Cz=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],l=n[t++],u=n[t++],h=((s&7)<<18|(i&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},fA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,g=i>>2,m=(i&3)<<4|u>>4;let w=(u&15)<<2|p>>6,S=p&63;h||(S=64,l||(w=64)),r.push(t[g],t[m],t[w],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Cz(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const m=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||u==null||p==null||m==null)throw new Az;const w=i<<2|u>>4;if(r.push(w),p!==64){const S=u<<4&240|p>>2;if(r.push(S),m!==64){const R=p<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Az extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pz=function(n){const e=hA(n);return fA.encodeByteArray(e,!0)},Hf=function(n){return Pz(n).replace(/\./g,"")},pA=function(n){try{return fA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=()=>mA().__FIREBASE_DEFAULTS__,kz=()=>{if(typeof process>"u"||typeof ux>"u")return;const n=ux.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Nz=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pA(n[1]);return e&&JSON.parse(e)},qp=()=>{try{return Tz()||Rz()||kz()||Nz()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gA=n=>qp()?.emulatorHosts?.[n],Dz=n=>{const e=gA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yA=()=>qp()?.config,vA=n=>qp()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _A(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hf(JSON.stringify(t)),Hf(JSON.stringify(l)),""].join(".")}const Pu={};function Vz(){const n={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?n.emulator.push(e):n.prod.push(e);return n}function Lz(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let dx=!1;function wA(n,e){if(typeof window>"u"||typeof document>"u"||!vc(window.location.host)||Pu[n]===e||Pu[n]||dx)return;Pu[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",i=Vz().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{dx=!0,l()},w}function g(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function m(){const w=Lz(r),S=t("text"),R=document.getElementById(S)||document.createElement("span"),T=t("learnmore"),P=document.getElementById(T)||document.createElement("a"),D=t("preprendIcon"),V=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const z=w.element;u(z),g(P,T);const U=p();h(V,D),z.append(V,R,P,U),document.body.appendChild(z)}i?(R.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function EA(){const n=qp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zz(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Uz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $z(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bA(){return!EA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xA(){return!EA()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function Bz(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="FirebaseError";class xo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=qz,Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,md.prototype.create)}}class md{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?Hz(i,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new xo(s,u,r)}}function Hz(n,e){return n.replace(Wz,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Wz=/\{\$([^}]+)}/g;function Gz(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],l=e[s];if(hx(i)&&hx(l)){if(!Sa(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function hx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kz(n,e){const t=new Zz(n,e);return t.subscribe.bind(t)}class Zz{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Qz(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=cy),s.error===void 0&&(s.error=cy),s.complete===void 0&&(s.complete=cy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qz(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(n){return n&&n._delegate?n._delegate:n}class Ia{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Oz;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jz(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xz(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xz(n){return n===oa?void 0:n}function Jz(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Yz(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(at||(at={}));const tU={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},nU=at.INFO,rU={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},sU=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=rU[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I_{constructor(e){this.name=e,this._logLevel=nU,this._logHandler=sU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const oU=(n,e)=>e.some(t=>n instanceof t);let fx,px;function iU(){return fx||(fx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aU(){return px||(px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IA=new WeakMap,Ky=new WeakMap,TA=new WeakMap,uy=new WeakMap,T_=new WeakMap;function lU(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",l)},i=()=>{t(mi(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&IA.set(t,n)}).catch(()=>{}),T_.set(e,n),e}function cU(n){if(Ky.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",l),n.removeEventListener("abort",l)},i=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",l),n.addEventListener("abort",l)});Ky.set(n,e)}let Zy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ky.get(n);if(e==="objectStoreNames")return n.objectStoreNames||TA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uU(n){Zy=n(Zy)}function dU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(dy(this),e,...t);return TA.set(r,e.sort?e.sort():[e]),mi(r)}:aU().includes(n)?function(...e){return n.apply(dy(this),e),mi(IA.get(this))}:function(...e){return mi(n.apply(dy(this),e))}}function hU(n){return typeof n=="function"?dU(n):(n instanceof IDBTransaction&&cU(n),oU(n,iU())?new Proxy(n,Zy):n)}function mi(n){if(n instanceof IDBRequest)return lU(n);if(uy.has(n))return uy.get(n);const e=hU(n);return e!==n&&(uy.set(n,e),T_.set(e,n)),e}const dy=n=>T_.get(n);function fU(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(n,e),u=mi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(mi(l.result),h.oldVersion,h.newVersion,mi(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const pU=["get","getKey","getAll","getAllKeys","count"],mU=["put","add","delete","clear"],hy=new Map;function mx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hy.get(e))return hy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=mU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pU.includes(t)))return;const i=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),s&&h.done]))[0]};return hy.set(e,i),i}uU(n=>({...n,get:(e,t,r)=>mx(e,t)||n.get(e,t,r),has:(e,t)=>!!mx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function yU(n){return n.getComponent()?.type==="VERSION"}const Qy="@firebase/app",gx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new I_("@firebase/app"),vU="@firebase/app-compat",_U="@firebase/analytics-compat",wU="@firebase/analytics",EU="@firebase/app-check-compat",bU="@firebase/app-check",xU="@firebase/auth",SU="@firebase/auth-compat",IU="@firebase/database",TU="@firebase/data-connect",CU="@firebase/database-compat",AU="@firebase/functions",PU="@firebase/functions-compat",RU="@firebase/installations",kU="@firebase/installations-compat",NU="@firebase/messaging",DU="@firebase/messaging-compat",OU="@firebase/performance",MU="@firebase/performance-compat",VU="@firebase/remote-config",LU="@firebase/remote-config-compat",FU="@firebase/storage",jU="@firebase/storage-compat",zU="@firebase/firestore",UU="@firebase/ai",$U="@firebase/firestore-compat",BU="firebase",qU="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="[DEFAULT]",HU={[Qy]:"fire-core",[vU]:"fire-core-compat",[wU]:"fire-analytics",[_U]:"fire-analytics-compat",[bU]:"fire-app-check",[EU]:"fire-app-check-compat",[xU]:"fire-auth",[SU]:"fire-auth-compat",[IU]:"fire-rtdb",[TU]:"fire-data-connect",[CU]:"fire-rtdb-compat",[AU]:"fire-fn",[PU]:"fire-fn-compat",[RU]:"fire-iid",[kU]:"fire-iid-compat",[NU]:"fire-fcm",[DU]:"fire-fcm-compat",[OU]:"fire-perf",[MU]:"fire-perf-compat",[VU]:"fire-rc",[LU]:"fire-rc-compat",[FU]:"fire-gcs",[jU]:"fire-gcs-compat",[zU]:"fire-fst",[$U]:"fire-fst-compat",[UU]:"fire-vertex","fire-js":"fire-js",[BU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new Map,WU=new Map,Xy=new Map;function yx(n,e){try{n.container.addComponent(e)}catch(t){vo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xl(n){const e=n.name;if(Xy.has(e))return vo.debug(`There were multiple attempts to register component ${e}.`),!1;Xy.set(e,n);for(const t of Wf.values())yx(t,n);for(const t of WU.values())yx(t,n);return!0}function C_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ks(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new md("app","Firebase",GU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=qU;function CA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Yy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw gi.create("bad-app-name",{appName:String(s)});if(t||(t=yA()),!t)throw gi.create("no-options");const i=Wf.get(s);if(i){if(Sa(t,i.options)&&Sa(r,i.config))return i;throw gi.create("duplicate-app",{appName:s})}const l=new eU(s);for(const h of Xy.values())l.addComponent(h);const u=new KU(t,r,l);return Wf.set(s,u),u}function AA(n=Yy){const e=Wf.get(n);if(!e&&n===Yy&&yA())return CA();if(!e)throw gi.create("no-app",{appName:n});return e}function yi(n,e,t){let r=HU[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vo.warn(l.join(" "));return}Xl(new Ia(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="firebase-heartbeat-database",QU=1,Ku="firebase-heartbeat-store";let fy=null;function PA(){return fy||(fy=fU(ZU,QU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ku)}catch(t){console.warn(t)}}}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),fy}async function YU(n){try{const t=(await PA()).transaction(Ku),r=await t.objectStore(Ku).get(RA(n));return await t.done,r}catch(e){if(e instanceof xo)vo.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e?.message});vo.warn(t.message)}}}async function vx(n,e){try{const r=(await PA()).transaction(Ku,"readwrite");await r.objectStore(Ku).put(e,RA(n)),await r.done}catch(t){if(t instanceof xo)vo.warn(t.message);else{const r=gi.create("idb-set",{originalErrorMessage:t?.message});vo.warn(r.message)}}}function RA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=1024,JU=30;class e9{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new n9(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_x();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>JU){const s=r9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_x(),{heartbeatsToSend:t,unsentEntries:r}=t9(this._heartbeatsCache.heartbeats),s=Hf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return vo.warn(e),""}}}function _x(){return new Date().toISOString().substring(0,10)}function t9(n,e=XU){const t=[];let r=n.slice();for(const s of n){const i=t.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),wx(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),wx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class n9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?Bz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function wx(n){return Hf(JSON.stringify({version:2,heartbeats:n})).length}function r9(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(n){Xl(new Ia("platform-logger",e=>new gU(e),"PRIVATE")),Xl(new Ia("heartbeat",e=>new e9(e),"PRIVATE")),yi(Qy,gx,n),yi(Qy,gx,"esm2020"),yi("fire-js","")}s9("");var o9="firebase",i9="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(o9,i9,"app");var Ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vi,kA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,C){function N(){}N.prototype=C.prototype,A.F=C.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(M,F,B){for(var O=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)O[Ce-2]=arguments[Ce];return C.prototype[F].apply(M,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,C,N){N||(N=0);const M=Array(16);if(typeof C=="string")for(var F=0;F<16;++F)M[F]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(F=0;F<16;++F)M[F]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=A.g[0],N=A.g[1],F=A.g[2];let B=A.g[3],O;O=C+(B^N&(F^B))+M[0]+3614090360&4294967295,C=N+(O<<7&4294967295|O>>>25),O=B+(F^C&(N^F))+M[1]+3905402710&4294967295,B=C+(O<<12&4294967295|O>>>20),O=F+(N^B&(C^N))+M[2]+606105819&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(C^F&(B^C))+M[3]+3250441966&4294967295,N=F+(O<<22&4294967295|O>>>10),O=C+(B^N&(F^B))+M[4]+4118548399&4294967295,C=N+(O<<7&4294967295|O>>>25),O=B+(F^C&(N^F))+M[5]+1200080426&4294967295,B=C+(O<<12&4294967295|O>>>20),O=F+(N^B&(C^N))+M[6]+2821735955&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(C^F&(B^C))+M[7]+4249261313&4294967295,N=F+(O<<22&4294967295|O>>>10),O=C+(B^N&(F^B))+M[8]+1770035416&4294967295,C=N+(O<<7&4294967295|O>>>25),O=B+(F^C&(N^F))+M[9]+2336552879&4294967295,B=C+(O<<12&4294967295|O>>>20),O=F+(N^B&(C^N))+M[10]+4294925233&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(C^F&(B^C))+M[11]+2304563134&4294967295,N=F+(O<<22&4294967295|O>>>10),O=C+(B^N&(F^B))+M[12]+1804603682&4294967295,C=N+(O<<7&4294967295|O>>>25),O=B+(F^C&(N^F))+M[13]+4254626195&4294967295,B=C+(O<<12&4294967295|O>>>20),O=F+(N^B&(C^N))+M[14]+2792965006&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(C^F&(B^C))+M[15]+1236535329&4294967295,N=F+(O<<22&4294967295|O>>>10),O=C+(F^B&(N^F))+M[1]+4129170786&4294967295,C=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(C^N))+M[6]+3225465664&4294967295,B=C+(O<<9&4294967295|O>>>23),O=F+(C^N&(B^C))+M[11]+643717713&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^C&(F^B))+M[0]+3921069994&4294967295,N=F+(O<<20&4294967295|O>>>12),O=C+(F^B&(N^F))+M[5]+3593408605&4294967295,C=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(C^N))+M[10]+38016083&4294967295,B=C+(O<<9&4294967295|O>>>23),O=F+(C^N&(B^C))+M[15]+3634488961&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^C&(F^B))+M[4]+3889429448&4294967295,N=F+(O<<20&4294967295|O>>>12),O=C+(F^B&(N^F))+M[9]+568446438&4294967295,C=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(C^N))+M[14]+3275163606&4294967295,B=C+(O<<9&4294967295|O>>>23),O=F+(C^N&(B^C))+M[3]+4107603335&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^C&(F^B))+M[8]+1163531501&4294967295,N=F+(O<<20&4294967295|O>>>12),O=C+(F^B&(N^F))+M[13]+2850285829&4294967295,C=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(C^N))+M[2]+4243563512&4294967295,B=C+(O<<9&4294967295|O>>>23),O=F+(C^N&(B^C))+M[7]+1735328473&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^C&(F^B))+M[12]+2368359562&4294967295,N=F+(O<<20&4294967295|O>>>12),O=C+(N^F^B)+M[5]+4294588738&4294967295,C=N+(O<<4&4294967295|O>>>28),O=B+(C^N^F)+M[8]+2272392833&4294967295,B=C+(O<<11&4294967295|O>>>21),O=F+(B^C^N)+M[11]+1839030562&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^C)+M[14]+4259657740&4294967295,N=F+(O<<23&4294967295|O>>>9),O=C+(N^F^B)+M[1]+2763975236&4294967295,C=N+(O<<4&4294967295|O>>>28),O=B+(C^N^F)+M[4]+1272893353&4294967295,B=C+(O<<11&4294967295|O>>>21),O=F+(B^C^N)+M[7]+4139469664&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^C)+M[10]+3200236656&4294967295,N=F+(O<<23&4294967295|O>>>9),O=C+(N^F^B)+M[13]+681279174&4294967295,C=N+(O<<4&4294967295|O>>>28),O=B+(C^N^F)+M[0]+3936430074&4294967295,B=C+(O<<11&4294967295|O>>>21),O=F+(B^C^N)+M[3]+3572445317&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^C)+M[6]+76029189&4294967295,N=F+(O<<23&4294967295|O>>>9),O=C+(N^F^B)+M[9]+3654602809&4294967295,C=N+(O<<4&4294967295|O>>>28),O=B+(C^N^F)+M[12]+3873151461&4294967295,B=C+(O<<11&4294967295|O>>>21),O=F+(B^C^N)+M[15]+530742520&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^C)+M[2]+3299628645&4294967295,N=F+(O<<23&4294967295|O>>>9),O=C+(F^(N|~B))+M[0]+4096336452&4294967295,C=N+(O<<6&4294967295|O>>>26),O=B+(N^(C|~F))+M[7]+1126891415&4294967295,B=C+(O<<10&4294967295|O>>>22),O=F+(C^(B|~N))+M[14]+2878612391&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~C))+M[5]+4237533241&4294967295,N=F+(O<<21&4294967295|O>>>11),O=C+(F^(N|~B))+M[12]+1700485571&4294967295,C=N+(O<<6&4294967295|O>>>26),O=B+(N^(C|~F))+M[3]+2399980690&4294967295,B=C+(O<<10&4294967295|O>>>22),O=F+(C^(B|~N))+M[10]+4293915773&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~C))+M[1]+2240044497&4294967295,N=F+(O<<21&4294967295|O>>>11),O=C+(F^(N|~B))+M[8]+1873313359&4294967295,C=N+(O<<6&4294967295|O>>>26),O=B+(N^(C|~F))+M[15]+4264355552&4294967295,B=C+(O<<10&4294967295|O>>>22),O=F+(C^(B|~N))+M[6]+2734768916&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~C))+M[13]+1309151649&4294967295,N=F+(O<<21&4294967295|O>>>11),O=C+(F^(N|~B))+M[4]+4149444226&4294967295,C=N+(O<<6&4294967295|O>>>26),O=B+(N^(C|~F))+M[11]+3174756917&4294967295,B=C+(O<<10&4294967295|O>>>22),O=F+(C^(B|~N))+M[2]+718787259&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~C))+M[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+F&4294967295,A.g[3]=A.g[3]+B&4294967295}r.prototype.v=function(A,C){C===void 0&&(C=A.length);const N=C-this.blockSize,M=this.C;let F=this.h,B=0;for(;B<C;){if(F==0)for(;B<=N;)s(this,A,B),B+=this.blockSize;if(typeof A=="string"){for(;B<C;)if(M[F++]=A.charCodeAt(B++),F==this.blockSize){s(this,M),F=0;break}}else for(;B<C;)if(M[F++]=A[B++],F==this.blockSize){s(this,M),F=0;break}}this.h=F,this.o+=C},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;C=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=C&255,C/=256;for(this.v(A),A=Array(16),C=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)A[C++]=this.g[N]>>>M&255;return A};function i(A,C){var N=u;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=C(A)}function l(A,C){this.h=C;const N=[];let M=!0;for(let F=A.length-1;F>=0;F--){const B=A[F]|0;M&&B==C||(N[F]=B,M=!1)}this.g=N}var u={};function h(A){return-128<=A&&A<128?i(A,function(C){return new l([C|0],C<0?-1:0)}):new l([A|0],A<0?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return m;if(A<0)return P(p(-A));const C=[];let N=1;for(let M=0;A>=N;M++)C[M]=A/N|0,N*=4294967296;return new l(C,0)}function g(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return P(g(A.substring(1),C));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(C,8));let M=m;for(let B=0;B<A.length;B+=8){var F=Math.min(8,A.length-B);const O=parseInt(A.substring(B,B+F),C);F<8?(F=p(Math.pow(C,F)),M=M.j(F).add(p(O))):(M=M.j(N),M=M.add(p(O)))}return M}var m=h(0),w=h(1),S=h(16777216);n=l.prototype,n.m=function(){if(T(this))return-P(this).m();let A=0,C=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);A+=(M>=0?M:4294967296+M)*C,C*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R(this))return"0";if(T(this))return"-"+P(this).toString(A);const C=p(Math.pow(A,6));var N=this;let M="";for(;;){const F=U(N,C).g;N=D(N,F.j(C));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=F,R(N))return B+M;for(;B.length<6;)B="0"+B;M=B+M}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function R(A){if(A.h!=0)return!1;for(let C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function T(A){return A.h==-1}n.l=function(A){return A=D(this,A),T(A)?-1:R(A)?0:1};function P(A){const C=A.g.length,N=[];for(let M=0;M<C;M++)N[M]=~A.g[M];return new l(N,~A.h).add(w)}n.abs=function(){return T(this)?P(this):this},n.add=function(A){const C=Math.max(this.g.length,A.g.length),N=[];let M=0;for(let F=0;F<=C;F++){let B=M+(this.i(F)&65535)+(A.i(F)&65535),O=(B>>>16)+(this.i(F)>>>16)+(A.i(F)>>>16);M=O>>>16,B&=65535,O&=65535,N[F]=O<<16|B}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(A,C){return A.add(P(C))}n.j=function(A){if(R(this)||R(A))return m;if(T(this))return T(A)?P(this).j(P(A)):P(P(this).j(A));if(T(A))return P(this.j(P(A)));if(this.l(S)<0&&A.l(S)<0)return p(this.m()*A.m());const C=this.g.length+A.g.length,N=[];for(var M=0;M<2*C;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let F=0;F<A.g.length;F++){const B=this.i(M)>>>16,O=this.i(M)&65535,Ce=A.i(F)>>>16,Be=A.i(F)&65535;N[2*M+2*F]+=O*Be,V(N,2*M+2*F),N[2*M+2*F+1]+=B*Be,V(N,2*M+2*F+1),N[2*M+2*F+1]+=O*Ce,V(N,2*M+2*F+1),N[2*M+2*F+2]+=B*Ce,V(N,2*M+2*F+2)}for(A=0;A<C;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=C;A<2*C;A++)N[A]=0;return new l(N,0)};function V(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function z(A,C){this.g=A,this.h=C}function U(A,C){if(R(C))throw Error("division by zero");if(R(A))return new z(m,m);if(T(A))return C=U(P(A),C),new z(P(C.g),P(C.h));if(T(C))return C=U(A,P(C)),new z(P(C.g),C.h);if(A.g.length>30){if(T(A)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var N=w,M=C;M.l(A)<=0;)N=$(N),M=$(M);var F=K(N,1),B=K(M,1);for(M=K(M,2),N=K(N,2);!R(M);){var O=B.add(M);O.l(A)<=0&&(F=F.add(N),B=O),M=K(M,1),N=K(N,1)}return C=D(A,F.j(C)),new z(F,C)}for(F=m;A.l(C)>=0;){for(N=Math.max(1,Math.floor(A.m()/C.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),B=p(N),O=B.j(C);T(O)||O.l(A)>0;)N-=M,B=p(N),O=B.j(C);R(B)&&(B=w),F=F.add(B),A=D(A,O)}return new z(F,A)}n.B=function(A){return U(this,A).h},n.and=function(A){const C=Math.max(this.g.length,A.g.length),N=[];for(let M=0;M<C;M++)N[M]=this.i(M)&A.i(M);return new l(N,this.h&A.h)},n.or=function(A){const C=Math.max(this.g.length,A.g.length),N=[];for(let M=0;M<C;M++)N[M]=this.i(M)|A.i(M);return new l(N,this.h|A.h)},n.xor=function(A){const C=Math.max(this.g.length,A.g.length),N=[];for(let M=0;M<C;M++)N[M]=this.i(M)^A.i(M);return new l(N,this.h^A.h)};function $(A){const C=A.g.length+1,N=[];for(let M=0;M<C;M++)N[M]=A.i(M)<<1|A.i(M-1)>>>31;return new l(N,A.h)}function K(A,C){const N=C>>5;C%=32;const M=A.g.length-N,F=[];for(let B=0;B<M;B++)F[B]=C>0?A.i(B+N)>>>C|A.i(B+N+1)<<32-C:A.i(B+N);return new l(F,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,vi=l}).apply(typeof Ex<"u"?Ex:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NA,Su,DA,pf,Jy,OA,MA,VA;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var _=0;_<d.length;++_){var x=d[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function s(d,_){if(_)e:{var x=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var Y=d[k];if(!(Y in x))break e;x=x[Y]}d=d[d.length-1],k=x[d],_=_(k),_!=k&&_!=null&&e(x,d,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(_){var x=[],k;for(k in _)Object.prototype.hasOwnProperty.call(_,k)&&x.push([k,_[k]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,x){return d.call.apply(d.bind,arguments)}function p(d,_,x){return p=h,p.apply(null,arguments)}function g(d,_){var x=Array.prototype.slice.call(arguments,1);return function(){var k=x.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function m(d,_){function x(){}x.prototype=_.prototype,d.Z=_.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(k,Y,te){for(var ge=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ge[Ye-2]=arguments[Ye];return _.prototype[Y].apply(k,ge)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const _=d.length;if(_>0){const x=Array(_);for(let k=0;k<_;k++)x[k]=d[k];return x}return[]}function R(d,_){for(let k=1;k<arguments.length;k++){const Y=arguments[k];var x=typeof Y;if(x=x!="object"?x:Y?Array.isArray(Y)?"array":x:"null",x=="array"||x=="object"&&typeof Y.length=="number"){x=d.length||0;const te=Y.length||0;d.length=x+te;for(let ge=0;ge<te;ge++)d[x+ge]=Y[ge]}else d.push(Y)}}class T{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(d){l.setTimeout(()=>{throw d},0)}function D(){var d=A;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class V{constructor(){this.h=this.g=null}add(_,x){const k=z.get();k.set(_,x),this.h?this.h.next=k:this.g=k,this.h=k}}var z=new T(()=>new U,d=>d.reset());class U{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let $,K=!1,A=new V,C=()=>{const d=Promise.resolve(void 0);$=()=>{d.then(N)}};function N(){for(var d;d=D();){try{d.h.call(d.g)}catch(x){P(x)}var _=z;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}K=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};l.addEventListener("test",x,_),l.removeEventListener("test",x,_)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Ce(d,_){F.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}m(Ce,F),Ce.prototype.init=function(d,_){const x=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(x=="mouseover"?_=d.fromElement:x=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),me=0;function _e(d,_,x,k,Y){this.listener=d,this.proxy=null,this.src=_,this.type=x,this.capture=!!k,this.ha=Y,this.key=++me,this.da=this.fa=!1}function W(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ne(d,_,x){for(const k in d)_.call(x,d[k],k,d)}function X(d,_){for(const x in d)_.call(void 0,d[x],x,d)}function j(d){const _={};for(const x in d)_[x]=d[x];return _}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(d,_){let x,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(x in k)d[x]=k[x];for(let te=0;te<G.length;te++)x=G[te],Object.prototype.hasOwnProperty.call(k,x)&&(d[x]=k[x])}}function ie(d){this.src=d,this.g={},this.h=0}ie.prototype.add=function(d,_,x,k,Y){const te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);const ge=Ie(d,_,k,Y);return ge>-1?(_=d[ge],x||(_.fa=!1)):(_=new _e(_,this.src,te,!!k,Y),_.fa=x,d.push(_)),_};function he(d,_){const x=_.type;if(x in d.g){var k=d.g[x],Y=Array.prototype.indexOf.call(k,_,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(k,Y,1),te&&(W(_),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Ie(d,_,x,k){for(let Y=0;Y<d.length;++Y){const te=d[Y];if(!te.da&&te.listener==_&&te.capture==!!x&&te.ha==k)return Y}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Se={};function Ge(d,_,x,k,Y){if(Array.isArray(_)){for(let te=0;te<_.length;te++)Ge(d,_[te],x,k,Y);return null}return x=Co(x),d&&d[Be]?d.J(_,x,u(k)?!!k.capture:!1,Y):Qe(d,_,x,!1,k,Y)}function Qe(d,_,x,k,Y,te){if(!_)throw Error("Invalid event type");const ge=u(Y)?!!Y.capture:!!Y;let Ye=Ks(d);if(Ye||(d[ve]=Ye=new ie(d)),x=Ye.add(_,x,k,ge,te),x.proxy)return x;if(k=pe(),x.proxy=k,k.src=d,k.listener=x,d.addEventListener)B||(Y=ge),Y===void 0&&(Y=!1),d.addEventListener(_.toString(),k,Y);else if(d.attachEvent)d.attachEvent(is(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return x}function pe(){function d(x){return _.call(d.src,d.listener,x)}const _=$a;return d}function xt(d,_,x,k,Y){if(Array.isArray(_))for(var te=0;te<_.length;te++)xt(d,_[te],x,k,Y);else k=u(k)?!!k.capture:!!k,x=Co(x),d&&d[Be]?(d=d.i,te=String(_).toString(),te in d.g&&(_=d.g[te],x=Ie(_,x,k,Y),x>-1&&(W(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete d.g[te],d.h--)))):d&&(d=Ks(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ie(_,x,k,Y)),(x=d>-1?_[d]:null)&&dn(x))}function dn(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Be])he(_.i,d);else{var x=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(x,k,d.capture):_.detachEvent?_.detachEvent(is(x),k):_.addListener&&_.removeListener&&_.removeListener(k),(x=Ks(_))?(he(x,d),x.h==0&&(x.src=null,_[ve]=null)):W(d)}}}function is(d){return d in Se?Se[d]:Se[d]="on"+d}function $a(d,_){if(d.da)d=!0;else{_=new Ce(_,this);const x=d.listener,k=d.ha||d.src;d.fa&&dn(d),d=x.call(k,_)}return d}function Ks(d){return d=d[ve],d instanceof ie?d:null}var or="__closure_events_fn_"+(Math.random()*1e9>>>0);function Co(d){return typeof d=="function"?d:(d[or]||(d[or]=function(_){return d.handleEvent(_)}),d[or])}function gt(){M.call(this),this.i=new ie(this),this.M=this,this.G=null}m(gt,M),gt.prototype[Be]=!0,gt.prototype.removeEventListener=function(d,_,x,k){xt(this,d,_,x,k)};function Vt(d,_){var x,k=d.G;if(k)for(x=[];k;k=k.G)x.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new F(_,d);else if(_ instanceof F)_.target=_.target||d;else{var Y=_;_=new F(k,d),oe(_,Y)}Y=!0;let te,ge;if(x)for(ge=x.length-1;ge>=0;ge--)te=_.g=x[ge],Y=ir(te,k,!0,_)&&Y;if(te=_.g=d,Y=ir(te,k,!0,_)&&Y,Y=ir(te,k,!1,_)&&Y,x)for(ge=0;ge<x.length;ge++)te=_.g=x[ge],Y=ir(te,k,!1,_)&&Y}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const x=d.g[_];for(let k=0;k<x.length;k++)W(x[k]);delete d.g[_],d.h--}}this.G=null},gt.prototype.J=function(d,_,x,k){return this.i.add(String(d),_,!1,x,k)},gt.prototype.K=function(d,_,x,k){return this.i.add(String(d),_,!0,x,k)};function ir(d,_,x,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let te=0;te<_.length;++te){const ge=_[te];if(ge&&!ge.da&&ge.capture==x){const Ye=ge.listener,Ht=ge.ha||ge.src;ge.fa&&he(d.i,ge),Y=Ye.call(Ht,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function sn(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(d,_||0)}function br(d){d.g=sn(()=>{d.g=null,d.i&&(d.i=!1,br(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Ba extends M{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(d){M.call(this),this.h=d,this.g={}}m(as,M);var ls=[];function Ao(d){ne(d.g,function(_,x){this.g.hasOwnProperty(x)&&dn(_)},d),d.g={}}as.prototype.N=function(){as.Z.N.call(this),Ao(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=l.JSON.stringify,Po=l.JSON.parse,Gn=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Ur(){}function $r(){}var cs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ro(){F.call(this,"d")}m(Ro,F);function ko(){F.call(this,"c")}m(ko,F);var Kn={},No=null;function xr(){return No=No||new gt}Kn.Ia="serverreachability";function Fn(d){F.call(this,Kn.Ia,d)}m(Fn,F);function Br(d){const _=xr();Vt(_,new Fn(_))}Kn.STAT_EVENT="statevent";function qr(d,_){F.call(this,Kn.STAT_EVENT,d),this.stat=_}m(qr,F);function At(d){const _=xr();Vt(_,new qr(_,d))}Kn.Ja="timingevent";function Do(d,_){F.call(this,Kn.Ja,d),this.size=_}m(Do,F);function qe(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},_)}function St(){this.g=!0}St.prototype.ua=function(){this.g=!1};function qt(d,_,x,k,Y,te){d.info(function(){if(d.g)if(te){var ge="",Ye=te.split("&");for(let vt=0;vt<Ye.length;vt++){var Ht=Ye[vt].split("=");if(Ht.length>1){const Yt=Ht[0];Ht=Ht[1];const fr=Yt.split("_");ge=fr.length>=2&&fr[1]=="type"?ge+(Yt+"="+Ht+"&"):ge+(Yt+"=redacted&")}}}else ge=null;else ge=te;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+_+`
`+x+`
`+ge})}function hn(d,_,x,k,Y,te,ge){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+_+`
`+x+`
`+te+" "+ge})}function jn(d,_,x,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Zt(d,x)+(k?" "+k:"")})}function Ut(d,_){d.info(function(){return"TIMEOUT: "+_})}St.prototype.info=function(){};function Zt(d,_){if(!d.g)return _;if(!_)return null;try{const te=JSON.parse(_);if(te){for(d=0;d<te.length;d++)if(Array.isArray(te[d])){var x=te[d];if(!(x.length<2)){var k=x[1];if(Array.isArray(k)&&!(k.length<1)){var Y=k[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ge=1;ge<k.length;ge++)k[ge]=""}}}}return zr(te)}catch{return _}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tn;function Sr(){}m(Sr,Ur),Sr.prototype.g=function(){return new XMLHttpRequest},Tn=new Sr;function fn(d){return encodeURIComponent(String(d))}function Ni(d){var _=1;d=d.split(":");const x=[];for(;_>0&&d.length;)x.push(d.shift()),_--;return d.length&&x.push(d.join(":")),x}function Ir(d,_,x,k){this.j=d,this.i=_,this.l=x,this.S=k||1,this.V=new as(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dd}function Dd(){this.i=null,this.g="",this.h=!1}var Od={},Sc={};function Hr(d,_,x){d.M=1,d.A=Qs(Tr(_)),d.u=x,d.R=!0,Ic(d,null)}function Ic(d,_){d.F=Date.now(),Di(d),d.B=Tr(d.A);var x=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),Mc(x.i,"t",k),d.C=0,x=d.j.L,d.h=new Dd,d.g=qd(d.j,x?_:null,!d.u),d.P>0&&(d.O=new Ba(p(d.Y,d,d.g),d.P)),_=d.V,x=d.g,k=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ls[0]=Y.toString()),Y=ls);for(let te=0;te<Y.length;te++){const ge=Ge(x,Y[te],k||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),Br(),qt(d.i,d.v,d.B,d.l,d.S,d.u)}Ir.prototype.ba=function(d){d=d.target;const _=this.O;_&&gs(d)==3?_.j():this.Y(d)},Ir.prototype.Y=function(d){try{if(d==this.g)e:{const Ye=gs(this.g),Ht=this.g.ya(),vt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||$d(this.g)))){this.K||Ye!=4||Ht==7||(Ht==8||vt<=0?Br(3):Br(2)),qa(this);var _=this.g.ca();this.X=_;var x=Md(this);if(this.o=_==200,hn(this.i,this.v,this.B,this.l,this.S,Ye,_),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Y=this.g;if((k=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(k)){var te=k;break t}}te=null}if(d=te)jn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pt(this,d);else{this.o=!1,this.m=3,At(12),Zs(this),Oi(this);break e}}if(this.R){d=!0;let Yt;for(;!this.K&&this.C<x.length;)if(Yt=Ld(this,x),Yt==Sc){Ye==4&&(this.m=4,At(14),d=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Od){this.m=4,At(15),jn(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else jn(this.i,this.l,Yt,null),Pt(this,Yt);if(Vd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||x.length!=0||this.h.h||(this.m=1,At(16),d=!1),this.o=this.o&&d,!d)jn(this.i,this.l,x,"[Invalid Chunked Response]"),Zs(this),Oi(this);else if(x.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Bi(ge),ge.P=!0,At(11))}}else jn(this.i,this.l,x,null),Pt(this,x);Ye==4&&Zs(this),this.o&&!this.K&&(Ye==4?el(this.j,this):(this.o=!1,Di(this)))}else Lc(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Zs(this),Oi(this)}}}catch{}finally{}};function Md(d){if(!Vd(d))return d.g.la();const _=$d(d.g);if(_==="")return"";let x="";const k=_.length,Y=gs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Zs(d),Oi(d),"";d.h.i=new l.TextDecoder}for(let te=0;te<k;te++)d.h.h=!0,x+=d.h.i.decode(_[te],{stream:!(Y&&te==k-1)});return _.length=0,d.h.g+=x,d.C=0,d.h.g}function Vd(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Ld(d,_){var x=d.C,k=_.indexOf(`
`,x);return k==-1?Sc:(x=Number(_.substring(x,k)),isNaN(x)?Od:(k+=1,k+x>_.length?Sc:(_=_.slice(k,k+x),d.C=k+x,_)))}Ir.prototype.cancel=function(){this.K=!0,Zs(this)};function Di(d){d.T=Date.now()+d.H,Tc(d,d.H)}function Tc(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qe(p(d.aa,d),_)}function qa(d){d.D&&(l.clearTimeout(d.D),d.D=null)}Ir.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ut(this.i,this.B),this.M!=2&&(Br(),At(17)),Zs(this),this.m=2,Oi(this)):Tc(this,this.T-d)};function Oi(d){d.j.I==0||d.K||el(d.j,d)}function Zs(d){qa(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,Ao(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function Pt(d,_){try{var x=d.j;if(x.I!=0&&(x.g==d||Ac(x.h,d))){if(!d.L&&Ac(x.h,d)&&x.I==3){try{var k=x.Ba.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)Ja(x),dr(x);else break e;_s(x),At(18)}}else x.xa=Y[1],0<x.xa-x.K&&Y[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=qe(p(x.Va,x),6e3));Mi(x.h)<=1&&x.ta&&(x.ta=void 0)}else hr(x,11)}else if((d.L||x.g==d)&&Ja(x),!O(_))for(Y=x.Ba.g.parse(_),_=0;_<Y.length;_++){let vt=Y[_];const Yt=vt[0];if(!(Yt<=x.K))if(x.K=Yt,vt=vt[1],x.I==2)if(vt[0]=="c"){x.M=vt[1],x.ba=vt[2];const fr=vt[3];fr!=null&&(x.ka=fr,x.j.info("VER="+x.ka));const to=vt[4];to!=null&&(x.za=to,x.j.info("SVER="+x.za));const ws=vt[5];ws!=null&&typeof ws=="number"&&ws>0&&(k=1.5*ws,x.O=k,x.j.info("backChannelRequestTimeoutMs_="+k)),k=x;const Es=d.g;if(Es){const rl=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rl){var te=k.h;te.g||rl.indexOf("spdy")==-1&&rl.indexOf("quic")==-1&&rl.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Wa(te,te.h),te.h=null))}if(k.G){const zc=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;zc&&(k.wa=zc,mt(k.J,k.G,zc))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),k=x;var ge=d;if(k.na=jc(k,k.L?k.ba:null,k.W),ge.L){Vi(k.h,ge);var Ye=ge,Ht=k.O;Ht&&(Ye.H=Ht),Ye.D&&(qa(Ye),Di(Ye)),k.g=ge}else Cn(k);x.i.length>0&&eo(x)}else vt[0]!="stop"&&vt[0]!="close"||hr(x,7);else x.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?hr(x,7):Ya(x):vt[0]!="noop"&&x.l&&x.l.qa(vt),x.A=0)}}Br(4)}catch{}}var gm=class{constructor(d,_){this.g=d,this.map=_}};function Ha(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Mi(d){return d.h?1:d.g?d.g.size:0}function Ac(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Wa(d,_){d.g?d.g.add(_):d.h=_}function Vi(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Ha.prototype.cancel=function(){if(this.i=lr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function lr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const x of d.g.values())_=_.concat(x.G);return _}return S(d.i)}var Fd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cr(d,_){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const k=d[x].indexOf("=");let Y,te=null;k>=0?(Y=d[x].substring(0,k),te=d[x].substring(k+1)):Y=d[x],_(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function us(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof us?(this.l=d.l,Li(this,d.j),this.o=d.o,this.g=d.g,ds(this,d.u),this.h=d.h,Oo(this,Vc(d.i)),this.m=d.m):d&&(_=String(d).match(Fd))?(this.l=!1,Li(this,_[1]||"",!0),this.o=Fi(_[2]||""),this.g=Fi(_[3]||"",!0),ds(this,_[4]),this.h=Fi(_[5]||"",!0),Oo(this,_[6]||"",!0),this.m=Fi(_[7]||"")):(this.l=!1,this.i=new ct(null,this.l))}us.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(ji(_,Rc,!0),":");var x=this.g;return(x||_=="file")&&(d.push("//"),(_=this.o)&&d.push(ji(_,Rc,!0),"@"),d.push(fn(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(ji(x,x.charAt(0)=="/"?zi:kc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",ji(x,Nc)),d.join("")},us.prototype.resolve=function(d){const _=Tr(this);let x=!!d.j;x?Li(_,d.j):x=!!d.o,x?_.o=d.o:x=!!d.g,x?_.g=d.g:x=d.u!=null;var k=d.h;if(x)ds(_,d.u);else if(x=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(k=_.h.slice(0,Y+1)+k)}if(Y=k,Y==".."||Y==".")k="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){k=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let ge=0;ge<Y.length;){const Ye=Y[ge++];Ye=="."?k&&ge==Y.length&&te.push(""):Ye==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),k&&ge==Y.length&&te.push("")):(te.push(Ye),k=!0)}k=te.join("/")}else k=Y}return x?_.h=k:x=d.i.toString()!=="",x?Oo(_,Vc(d.i)):x=!!d.m,x&&(_.m=d.m),_};function Tr(d){return new us(d)}function Li(d,_,x){d.j=x?Fi(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ds(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function Oo(d,_,x){_ instanceof ct?(d.i=_,Ka(d.i,d.l)):(x||(_=ji(_,ym)),d.i=new ct(_,d.l))}function mt(d,_,x){d.i.set(_,x)}function Qs(d){return mt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Fi(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ji(d,_,x){return typeof d=="string"?(d=encodeURI(d).replace(_,Pc),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Pc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Rc=/[#\/\?@]/g,kc=/[#\?:]/g,zi=/[#\?]/g,ym=/[#\?@]/g,Nc=/#/g;function ct(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function hs(d){d.g||(d.g=new Map,d.h=0,d.i&&cr(d.i,function(_,x){d.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}n=ct.prototype,n.add=function(d,_){hs(this),this.i=null,d=fs(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(_),this.h+=1,this};function Dc(d,_){hs(d),_=fs(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ga(d,_){return hs(d),_=fs(d,_),d.g.has(_)}n.forEach=function(d,_){hs(this),this.g.forEach(function(x,k){x.forEach(function(Y){d.call(_,Y,k,this)},this)},this)};function Oc(d,_){hs(d);let x=[];if(typeof _=="string")Ga(d,_)&&(x=x.concat(d.g.get(fs(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)x=x.concat(d[_]);return x}n.set=function(d,_){return hs(this),this.i=null,d=fs(this,d),Ga(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=Oc(this,d),d.length>0?String(d[0]):_):_};function Mc(d,_,x){Dc(d,_),x.length>0&&(d.i=null,d.g.set(fs(d,_),S(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let k=0;k<_.length;k++){var x=_[k];const Y=fn(x);x=Oc(this,x);for(let te=0;te<x.length;te++){let ge=Y;x[te]!==""&&(ge+="="+fn(x[te])),d.push(ge)}}return this.i=d.join("&")};function Vc(d){const _=new ct;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function fs(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Ka(d,_){_&&!d.j&&(hs(d),d.i=null,d.g.forEach(function(x,k){const Y=k.toLowerCase();k!=Y&&(Dc(this,k),Mc(this,Y,x))},d)),d.j=_}function ps(d,_){const x=new St;if(l.Image){const k=new Image;k.onload=g(_n,x,"TestLoadImage: loaded",!0,_,k),k.onerror=g(_n,x,"TestLoadImage: error",!1,_,k),k.onabort=g(_n,x,"TestLoadImage: abort",!1,_,k),k.ontimeout=g(_n,x,"TestLoadImage: timeout",!1,_,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function ms(d,_){const x=new St,k=new AbortController,Y=setTimeout(()=>{k.abort(),_n(x,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then(te=>{clearTimeout(Y),te.ok?_n(x,"TestPingServer: ok",!0,_):_n(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),_n(x,"TestPingServer: error",!1,_)})}function _n(d,_,x,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(x)}catch{}}function Ui(){this.g=new Gn}function Ys(d){this.i=d.Sb||null,this.h=d.ab||!1}m(Ys,Ur),Ys.prototype.g=function(){return new ur(this.i,this.h)};function ur(d,_){gt.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ur,gt),n=ur.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,Wr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mo(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jd(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function jd(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Mo(this):Wr(this),this.readyState==3&&jd(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Mo(this))},n.Na=function(d){this.g&&(this.response=d,Mo(this))},n.ga=function(){this.g&&Mo(this)};function Mo(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Wr(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=_.next();return d.join(`\r
`)};function Wr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function zd(d){let _="";return ne(d,function(x,k){_+=k,_+=":",_+=x,_+=`\r
`}),_}function Za(d,_,x){e:{for(k in x){var k=!1;break e}k=!0}k||(x=zd(x),typeof d=="string"?x!=null&&fn(x):mt(d,_,x))}function It(d){gt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(It,gt);var Ud=/^https?$/i,vm=["POST","PUT"];n=It.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,x,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tn.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(te){Vo(this,te);return}if(d=x||"",x=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)x.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const te of k.keys())x.set(te,k.get(te));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(x.keys()).find(te=>te.toLowerCase()=="content-type"),Y=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(vm,_,void 0)>=0)||k||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of x)this.g.setRequestHeader(te,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(te){Vo(this,te)}};function Vo(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Lo(d),Js(d)}function Lo(d){d.A||(d.A=!0,Vt(d,"complete"),Vt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Vt(this,"complete"),Vt(this,"abort"),Js(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Js(this,!0)),It.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},n.Xa=function(){Xs(this)};function Xs(d){if(d.h&&typeof i<"u"){if(d.v&&gs(d)==4)setTimeout(d.Ca.bind(d),0);else if(Vt(d,"readystatechange"),gs(d)==4){d.h=!1;try{const te=d.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var k;if(k=te===0){let ge=String(d.D).match(Fd)[1]||null;!ge&&l.self&&l.self.location&&(ge=l.self.location.protocol.slice(0,-1)),k=!Ud.test(ge?ge.toLowerCase():"")}x=k}if(x)Vt(d,"complete"),Vt(d,"success");else{d.o=6;try{var Y=gs(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Lo(d)}}finally{Js(d)}}}}function Js(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,_||Vt(d,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function gs(d){return d.g?d.g.readyState:0}n.ca=function(){try{return gs(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Po(_)}};function $d(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Lc(d){const _={};d=(d.g&&gs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(O(d[k]))continue;var x=Ni(d[k]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const te=_[Y]||[];_[Y]=te,te.push(x)}X(_,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(d,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||_}function Qa(d){this.za=0,this.i=[],this.j=new St,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ys("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ys("baseRetryDelayMs",5e3,d),this.Za=ys("retryDelaySeedMs",1e4,d),this.Ta=ys("forwardChannelMaxRetries",2,d),this.va=ys("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ha(d&&d.concurrentRequestLimit),this.Ba=new Ui,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Qa.prototype,n.ka=8,n.I=1,n.connect=function(d,_,x,k){At(0),this.W=d,this.H=_||{},x&&k!==void 0&&(this.H.OSID=x,this.H.OAID=k),this.F=this.X,this.J=jc(this,null,this.W),eo(this)};function Ya(d){if(Xa(d),d.I==3){var _=d.V++,x=Tr(d.J);if(mt(x,"SID",d.M),mt(x,"RID",_),mt(x,"TYPE","terminate"),vs(d,x),_=new Ir(d,d.j,_),_.M=2,_.A=Qs(Tr(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=_.A,x=!0),x||(_.g=qd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Di(_)}qi(d)}function dr(d){d.g&&(Bi(d),d.g.cancel(),d.g=null)}function Xa(d){dr(d),d.v&&(l.clearTimeout(d.v),d.v=null),Ja(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function eo(d){if(!Cc(d.h)&&!d.m){d.m=!0;var _=d.Ea;$||C(),K||($(),K=!0),A.add(_,d),d.D=0}}function Bd(d,_){return Mi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qe(p(d.Ea,d,_),tl(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new Ir(this,this.j,d);let te=this.o;if(this.U&&(te?(te=j(te),oe(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var k=this.i[x];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,_>4096){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=Fc(this,Y,_),x=Tr(this.J),mt(x,"RID",d),mt(x,"CVER",22),this.G&&mt(x,"X-HTTP-Session-Id",this.G),vs(this,x),te&&(this.R?_="headers="+fn(zd(te))+"&"+_:this.u&&Za(x,this.u,te)),Wa(this.h,Y),this.Ra&&mt(x,"TYPE","init"),this.S?(mt(x,"$req",_),mt(x,"SID","null"),Y.U=!0,Hr(Y,x,null)):Hr(Y,x,_),this.I=2}}else this.I==3&&(d?$i(this,d):this.i.length==0||Cc(this.h)||$i(this))};function $i(d,_){var x;_?x=_.l:x=d.V++;const k=Tr(d.J);mt(k,"SID",d.M),mt(k,"RID",x),mt(k,"AID",d.K),vs(d,k),d.u&&d.o&&Za(k,d.u,d.o),x=new Ir(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Fc(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Wa(d.h,x),Hr(x,k,_)}function vs(d,_){d.H&&ne(d.H,function(x,k){mt(_,k,x)}),d.l&&ne({},function(x,k){mt(_,k,x)})}function Fc(d,_,x){x=Math.min(d.i.length,x);const k=d.l?p(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Ye=-1;for(;;){const Ht=["count="+x];Ye==-1?x>0?(Ye=Y[0].g,Ht.push("ofs="+Ye)):Ye=0:Ht.push("ofs="+Ye);let vt=!0;for(let Yt=0;Yt<x;Yt++){var te=Y[Yt].g;const fr=Y[Yt].map;if(te-=Ye,te<0)Ye=Math.max(0,Y[Yt].g-100),vt=!1;else try{te="req"+te+"_"||"";try{var ge=fr instanceof Map?fr:Object.entries(fr);for(const[to,ws]of ge){let Es=ws;u(ws)&&(Es=zr(ws)),Ht.push(te+to+"="+encodeURIComponent(Es))}}catch(to){throw Ht.push(te+"type="+encodeURIComponent("_badmap")),to}}catch{k&&k(fr)}}if(vt){ge=Ht.join("&");break e}}ge=void 0}return d=d.i.splice(0,x),_.G=d,ge}function Cn(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;$||C(),K||($(),K=!0),A.add(_,d),d.A=0}}function _s(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qe(p(d.Da,d),tl(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Fo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qe(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),dr(this),Fo(this))};function Bi(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function Fo(d){d.g=new Ir(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Tr(d.na);mt(_,"RID","rpc"),mt(_,"SID",d.M),mt(_,"AID",d.K),mt(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&mt(_,"TO",d.ia),mt(_,"TYPE","xmlhttp"),vs(d,_),d.u&&d.o&&Za(_,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=Qs(Tr(_)),x.u=null,x.R=!0,Ic(x,d)}n.Va=function(){this.C!=null&&(this.C=null,dr(this),_s(this),At(19))};function Ja(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function el(d,_){var x=null;if(d.g==_){Ja(d),Bi(d),d.g=null;var k=2}else if(Ac(d.h,_))x=_.G,Vi(d.h,_),k=1;else return;if(d.I!=0){if(_.o)if(k==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var Y=d.D;k=xr(),Vt(k,new Do(k,x)),eo(d)}else Cn(d);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(k==1&&Bd(d,_)||k==2&&_s(d)))switch(x&&x.length>0&&(_=d.h,_.i=_.i.concat(x)),Y){case 1:hr(d,5);break;case 4:hr(d,10);break;case 3:hr(d,6);break;default:hr(d,2)}}}function tl(d,_){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*_}function hr(d,_){if(d.j.info("Error code "+_),_==2){var x=p(d.bb,d),k=d.Ua;const Y=!k;k=new us(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Li(k,"https"),Qs(k),Y?ps(k.toString(),x):ms(k.toString(),x)}else At(2);d.I=0,d.l&&d.l.pa(_),qi(d),Xa(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function qi(d){if(d.I=0,d.ja=[],d.l){const _=lr(d.h);(_.length!=0||d.i.length!=0)&&(R(d.ja,_),R(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function jc(d,_,x){var k=x instanceof us?Tr(x):new us(x);if(k.g!="")_&&(k.g=_+"."+k.g),ds(k,k.u);else{var Y=l.location;k=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new us(null);k&&Li(te,k),_&&(te.g=_),Y&&ds(te,Y),x&&(te.h=x),k=te}return x=d.G,_=d.wa,x&&_&&mt(k,x,_),mt(k,"VER",d.ka),vs(d,k),k}function qd(d,_,x){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new It(new Ys({ab:x})):new It(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hd(){}n=Hd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function nl(){}nl.prototype.g=function(d,_){return new wn(d,_)};function wn(d,_){gt.call(this),this.g=new Qa(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!O(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new jo(this)}m(wn,gt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ya(this.g)},wn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=zr(d),d=x);_.i.push(new gm(_.Ya++,d)),_.I==3&&eo(_)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ya(this.g),delete this.g,wn.Z.N.call(this)};function Wd(d){Ro.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const x in _){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}m(Wd,Ro);function Gd(){ko.call(this),this.status=1}m(Gd,ko);function jo(d){this.g=d}m(jo,Hd),jo.prototype.ra=function(){Vt(this.g,"a")},jo.prototype.qa=function(d){Vt(this.g,new Wd(d))},jo.prototype.pa=function(d){Vt(this.g,new Gd)},jo.prototype.oa=function(){Vt(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,VA=function(){return new nl},MA=function(){return xr()},OA=Kn,Jy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,pf=ar,Qt.COMPLETE="complete",DA=Qt,$r.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",gt.prototype.listen=gt.prototype.J,Su=$r,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,NA=It}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const bx="@firebase/firestore",xx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new I_("@firebase/firestore");function Ol(){return Ta.logLevel}function de(n,...e){if(Ta.logLevel<=at.DEBUG){const t=e.map(A_);Ta.debug(`Firestore (${wc}): ${n}`,...t)}}function $n(n,...e){if(Ta.logLevel<=at.ERROR){const t=e.map(A_);Ta.error(`Firestore (${wc}): ${n}`,...t)}}function Ca(n,...e){if(Ta.logLevel<=at.WARN){const t=e.map(A_);Ta.warn(`Firestore (${wc}): ${n}`,...t)}}function A_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,LA(n,r,t)}function LA(n,e,t){let r=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw $n(r),new Error(r)}function Ve(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||LA(e,s,r)}function Ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends xo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(xn.UNAUTHENTICATED)))}shutdown(){}}class l9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class c9{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ve(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let i=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vs,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=i;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vs)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new FA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class u9{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d9{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new u9(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ks(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Sx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=f9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function ev(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return py(s)===py(i)?Ke(s,i):py(s)?1:-1}return Ke(n.length,e.length)}const p9=55296,m9=57343;function py(n){const e=n.charCodeAt(0);return e>=p9&&e<=m9}function Jl(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function jA(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="__name__";class As{constructor(e,t,r){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&De(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=As.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return Ke(e.length,t.length)}static compareSegments(e,t){const r=As.isNumericId(e),s=As.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?As.extractNumericId(e).compare(As.extractNumericId(t)):ev(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vi.fromString(e.substring(4,e.length-2))}}class yt extends As{construct(e,t,r){return new yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new yt(t)}static emptyPath(){return new yt([])}}const g9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends As{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return g9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ix}static keyField(){return new jt([Ix])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(i(),s++)}if(i(),l)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(yt.fromString(e))}static fromName(e){return new Ee(yt.fromString(e).popFirst(5))}static empty(){return new Ee(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n,e,t){if(!t)throw new we(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function y9(n,e,t,r){if(e===!0&&r===!0)throw new we(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Tx(n){if(!Ee.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cx(n){if(Ee.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function UA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function R_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function Bn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=R_(n);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n,e){const t={typeString:n};return e&&(t.value=e),t}function yd(n,e){if(!UA(n))throw new we(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&l!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new we(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=-62135596800,Px=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Px);return new _t(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ax)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Px}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yd(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ax;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:tn("string",_t._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new _t(0,0))}static max(){return new je(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;class Gf{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function tv(n){return n.fields.find((e=>e.kind===2))}function ia(n){return n.fields.filter((e=>e.kind!==2))}Gf.UNKNOWN_ID=-1;class mf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qu(0,Er.min())}}function v9(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new _t(t+1,0):new _t(t,r));return new Er(s,Ee.empty(),e)}function $A(n){return new Er(n.readTime,n.key,Zu)}class Er{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Er(je.min(),Ee.empty(),Zu)}static max(){return new Er(je.max(),Ee.empty(),Zu)}}function k_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==BA)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,r)=>{t(e)}))}static reject(e){return new Z(((t,r)=>{r(e)}))}static waitFor(e){return new Z(((t,r)=>{let s=0,i=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++i,l&&i===s&&t()}),(h=>r(h)))})),l=!0,i===s&&t()}))}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next((s=>s?Z.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new Z(((r,s)=>{const i=e.length,l=new Array(i);let u=0;for(let h=0;h<i;h++){const p=h;t(e[p]).next((g=>{l[p]=g,++u,u===i&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new Z(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="SimpleDb";class Hp{static open(e,t,r,s){try{return new Hp(t,e.transaction(s,r))}catch(i){throw new Ru(t,i)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Vs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Ru(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=N_(r.target.error);this.S.reject(new Ru(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(de(yr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new w9(t)}}class _i{static delete(e){return de(yr,"Removing database:",e),la(mA().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!SA())return!1;if(_i.F())return!0;const e=cn(),t=_i.M(e),r=0<t&&t<10,s=HA(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,_i.M(cn())===12.2&&$n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(de(yr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const l=i.target.result;t(l)},s.onblocked=()=>{r(new Ru(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const l=i.target.error;l.name==="VersionError"?r(new we(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new we(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Ru(e,l))},s.onupgradeneeded=i=>{de(yr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const l=i.target.result;this.N.k(l,s.transaction,i.oldVersion,this.version).next((()=>{de(yr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const i=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=Hp.open(this.db,e,i?"readonly":"readwrite",r),h=s(u).next((p=>(u.C(),p))).catch((p=>(u.abort(p),Z.reject(p)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,p=h.name!=="FirebaseError"&&l<3;if(de(yr,"Transaction failed with error:",h.message,"Retrying:",p),this.close(),!p)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function HA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class _9{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return la(this.U.delete())}}class Ru extends we{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ri(n){return n.name==="IndexedDbTransactionError"}class w9{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(de(yr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(de(yr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),la(r)}add(e){return de(yr,"ADD",this.store.name,e,e),la(this.store.add(e))}get(e){return la(this.store.get(e)).next((t=>(t===void 0&&(t=null),de(yr,"GET",this.store.name,e,t),t)))}delete(e){return de(yr,"DELETE",this.store.name,e),la(this.store.delete(e))}count(){return de(yr,"COUNT",this.store.name),la(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Z(((l,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{l(h.target.result)}}))}{const i=this.cursor(r),l=[];return this.H(i,((u,h)=>{l.push(h)})).next((()=>l))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Z(((s,i)=>{r.onerror=l=>{i(l.target.error)},r.onsuccess=l=>{s(l.target.result)}}))}Z(e,t){de(yr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,((i,l,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}te(e){const t=this.cursor({});return new Z(((r,s)=>{t.onerror=i=>{const l=N_(i.target.error);s(l)},t.onsuccess=i=>{const l=i.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,t){const r=[];return new Z(((s,i)=>{e.onerror=l=>{i(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void s();const h=new _9(u),p=t(u.primaryKey,u.value,h);if(p instanceof Z){const g=p.catch((m=>(h.done(),Z.reject(m))));r.push(g)}h.isDone?s():h.G===null?u.continue():u.continue(h.G)}})).next((()=>Z.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function la(n){return new Z(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=N_(r.target.error);t(s)}}))}let Rx=!1;function N_(n){const e=_i.M(cn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rx||(Rx=!0,setTimeout((()=>{throw r}),0)),r}}return n}const ku="IndexBackfiller";class E9{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){de(ku,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();de(ku,`Documents written: ${t}`)}catch(t){Ri(t)?de(ku,"Ignoring IndexedDB error during index backfill: ",t):await ja(t)}await this.re(6e4)}))}}class b9{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,i=!0;return Z.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return de(ku,`Processing collection: ${l}`),this.oe(e,l,s).next((u=>{s-=u,r.add(l)}));i=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((i=>{const l=i.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(s,i))).next((u=>(de(ku,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,i)=>{const l=$A(i);k_(l,r)>0&&(r=l)})),new Er(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=-1;function Wp(n){return n==null}function Yu(n){return n===0&&1/n==-1/0}function x9(n){return typeof n=="number"&&Number.isInteger(n)&&!Yu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="";function Vn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kx(e)),e=S9(n.get(t),e);return kx(e)}function S9(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case Kf:t+="";break;default:t+=i}}return t}function kx(n){return n+Kf+""}function Ds(n){const e=n.length;if(Ve(e>=2,64408,{path:n}),e===2)return Ve(n.charAt(0)===Kf&&n.charAt(1)==="",56145,{path:n}),yt.emptyPath();const t=e-2,r=[];let s="";for(let i=0;i<e;){const l=n.indexOf(Kf,i);switch((l<0||l>t)&&De(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(i,l);let h;s.length===0?h=u:(s+=u,h=s,s=""),r.push(h);break;case"":s+=n.substring(i,l),s+="\0";break;case"":s+=n.substring(i,l+1);break;default:De(61167,{path:n})}i=l+2}return new yt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="remoteDocuments",vd="owner",Al="owner",Xu="mutationQueues",I9="userId",es="mutations",Nx="batchId",ha="userMutationsIndex",Dx=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(n,e){return[n,Vn(e)]}function WA(n,e,t){return[n,Vn(e),t]}const T9={},ec="documentMutations",Zf="remoteDocumentsV14",C9=["prefixPath","collectionGroup","readTime","documentId"],yf="documentKeyIndex",A9=["prefixPath","collectionGroup","documentId"],GA="collectionGroupIndex",P9=["collectionGroup","readTime","prefixPath","documentId"],Ju="remoteDocumentGlobal",nv="remoteDocumentGlobalKey",tc="targets",KA="queryTargetsIndex",R9=["canonicalId","targetId"],nc="targetDocuments",k9=["targetId","path"],D_="documentTargetsIndex",N9=["path","targetId"],Qf="targetGlobalKey",ma="targetGlobal",ed="collectionParents",D9=["collectionId","parent"],rc="clientMetadata",O9="clientId",Gp="bundles",M9="bundleId",Kp="namedQueries",V9="name",O_="indexConfiguration",L9="indexId",rv="collectionGroupIndex",F9="collectionGroup",Nu="indexState",j9=["indexId","uid"],ZA="sequenceNumberIndex",z9=["uid","sequenceNumber"],Du="indexEntries",U9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],QA="documentKeyIndex",$9=["indexId","uid","orderedDocumentKey"],Zp="documentOverlays",B9=["userId","collectionPath","documentId"],sv="collectionPathOverlayIndex",q9=["userId","collectionPath","largestBatchId"],YA="collectionGroupOverlayIndex",H9=["userId","collectionGroup","largestBatchId"],M_="globals",W9="name",XA=[Xu,es,ec,aa,tc,vd,ma,nc,rc,Ju,ed,Gp,Kp],G9=[...XA,Zp],JA=[Xu,es,ec,Zf,tc,vd,ma,nc,rc,Ju,ed,Gp,Kp,Zp],eP=JA,V_=[...eP,O_,Nu,Du],K9=V_,tP=[...V_,M_],Z9=tP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends qA{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function un(n,e){const t=Ze(n);return _i.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ki(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||Sn.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Sn.RED,this.left=s??Sn.EMPTY,this.right=i??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Sn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Sn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new Sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mx(this.data.getIterator())}getIteratorFrom(e){return new Mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class Mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new rr([])}unionWith(e){let t=new wt(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rP("Invalid base64 string: "+i):i}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const Q9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(n){if(Ve(!!n,39018),typeof n=="string"){let e=0;const t=Q9.exec(n);if(Ve(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wo(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="server_timestamp",oP="__type__",iP="__previous_value__",aP="__local_write_time__";function L_(n){return(n?.mapValue?.fields||{})[oP]?.stringValue===sP}function Qp(n){const e=n.mapValue.fields[iP];return L_(e)?Qp(e):e}function td(n){const e=_o(n.mapValue.fields[aP].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,t,r,s,i,l,u,h,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g}}const Yf="(default)";class Aa{constructor(e,t){this.projectId=e,this.database=t||Yf}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="__type__",lP="__max__",fi={mapValue:{fields:{__type__:{stringValue:lP}}}},j_="__vector__",sc="value",vf={nullValue:"NULL_VALUE"};function xi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?L_(n)?4:cP(n)?9007199254740991:Yp(n)?10:11:De(28295,{value:n})}function $s(n,e){if(n===e)return!0;const t=xi(n);if(t!==xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return td(n).isEqual(td(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=_o(s.timestampValue),u=_o(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return wo(s.bytesValue).isEqual(wo(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return Dt(s.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Dt(s.integerValue)===Dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Dt(s.doubleValue),u=Dt(i.doubleValue);return l===u?Yu(l)===Yu(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Jl(n.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return(function(s,i){const l=s.mapValue.fields||{},u=i.mapValue.fields||{};if(Ox(l)!==Ox(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!$s(l[h],u[h])))return!1;return!0})(n,e);default:return De(52216,{left:n})}}function nd(n,e){return(n.values||[]).find((t=>$s(t,e)))!==void 0}function Si(n,e){if(n===e)return 0;const t=xi(n),r=xi(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return(function(i,l){const u=Dt(i.integerValue||i.doubleValue),h=Dt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,e);case 3:return Vx(n.timestampValue,e.timestampValue);case 4:return Vx(td(n),td(e));case 5:return ev(n.stringValue,e.stringValue);case 6:return(function(i,l){const u=wo(i),h=wo(l);return u.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(i,l){const u=i.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const g=Ke(u[p],h[p]);if(g!==0)return g}return Ke(u.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,l){const u=Ke(Dt(i.latitude),Dt(l.latitude));return u!==0?u:Ke(Dt(i.longitude),Dt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Lx(n.arrayValue,e.arrayValue);case 10:return(function(i,l){const u=i.fields||{},h=l.fields||{},p=u[sc]?.arrayValue,g=h[sc]?.arrayValue,m=Ke(p?.values?.length||0,g?.values?.length||0);return m!==0?m:Lx(p,g)})(n.mapValue,e.mapValue);case 11:return(function(i,l){if(i===fi.mapValue&&l===fi.mapValue)return 0;if(i===fi.mapValue)return 1;if(l===fi.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let m=0;m<h.length&&m<g.length;++m){const w=ev(h[m],g[m]);if(w!==0)return w;const S=Si(u[h[m]],p[g[m]]);if(S!==0)return S}return Ke(h.length,g.length)})(n.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function Vx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=_o(n),r=_o(e),s=Ke(t.seconds,r.seconds);return s!==0?s:Ke(t.nanos,r.nanos)}function Lx(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Si(t[s],r[s]);if(i)return i}return Ke(t.length,r.length)}function oc(n){return iv(n)}function iv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=_o(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return wo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=iv(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${iv(t.fields[l])}`;return s+"}"})(n.mapValue):De(61005,{value:n})}function _f(n){switch(xi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qp(n);return e?16+_f(e):16;case 5:return 2*n.stringValue.length;case 6:return wo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+_f(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return ki(r.fields,((i,l)=>{s+=i.length+_f(l)})),s})(n.mapValue);default:throw De(13486,{value:n})}}function z_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function av(n){return!!n&&"integerValue"in n}function rd(n){return!!n&&"arrayValue"in n}function Fx(n){return!!n&&"nullValue"in n}function jx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wf(n){return!!n&&"mapValue"in n}function Yp(n){return(n?.mapValue?.fields||{})[F_]?.stringValue===j_}function Ou(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ki(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ou(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ou(n.arrayValue.values[t]);return e}return{...n}}function cP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lP}const uP={mapValue:{fields:{[F_]:{stringValue:j_},[sc]:{arrayValue:{}}}}};function X9(n){return"nullValue"in n?vf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?z_(Aa.empty(),Ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Yp(n)?uP:{mapValue:{}}:De(35942,{value:n})}function J9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?z_(Aa.empty(),Ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?uP:"mapValue"in n?Yp(n)?{mapValue:{}}:fi:De(61959,{value:n})}function zx(n,e){const t=Si(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Ux(n,e){const t=Si(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(t)}setAll(e){let t=jt.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=Ou(l):s.push(u.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];wf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ki(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Mn(Ou(this.value))}}function dP(n){const e=[];return ki(n.fields,((t,r)=>{const s=new jt([t]);if(wf(r)){const i=dP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)})),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,r,s,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Bt(e,0,je.min(),je.min(),je.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,s){return new Bt(e,1,t,je.min(),r,s,0)}static newNoDocument(e,t){return new Bt(e,2,t,je.min(),je.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,je.min(),je.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t){this.position=e,this.inclusive=t}}function $x(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],l=n.position[s];if(i.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),t.key):r=Si(l,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$s(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t="asc"){this.field=e,this.dir=t}}function e$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{}class ut extends hP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new t$(e,t,r):t==="array-contains"?new s$(e,r):t==="in"?new vP(e,r):t==="not-in"?new o$(e,r):t==="array-contains-any"?new i$(e,r):new ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new n$(e,r):new r$(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Si(t,this.value)):t!==null&&xi(this.value)===xi(t)&&this.matchesComparison(Si(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends hP{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bt(e,t)}matches(e){return ac(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ac(n){return n.op==="and"}function lv(n){return n.op==="or"}function U_(n){return fP(n)&&ac(n)}function fP(n){for(const e of n.filters)if(e instanceof bt)return!1;return!0}function cv(n){if(n instanceof ut)return n.field.canonicalString()+n.op.toString()+oc(n.value);if(U_(n))return n.filters.map((e=>cv(e))).join(",");{const e=n.filters.map((t=>cv(t))).join(",");return`${n.op}(${e})`}}function pP(n,e){return n instanceof ut?(function(r,s){return s instanceof ut&&r.op===s.op&&r.field.isEqual(s.field)&&$s(r.value,s.value)})(n,e):n instanceof bt?(function(r,s){return s instanceof bt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,l,u)=>i&&pP(l,s.filters[u])),!0):!1})(n,e):void De(19439)}function mP(n,e){const t=n.filters.concat(e);return bt.create(t,n.op)}function gP(n){return n instanceof ut?(function(t){return`${t.field.canonicalString()} ${t.op} ${oc(t.value)}`})(n):n instanceof bt?(function(t){return t.op.toString()+" {"+t.getFilters().map(gP).join(" ,")+"}"})(n):"Filter"}class t$ extends ut{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class n$ extends ut{constructor(e,t){super(e,"in",t),this.keys=yP("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class r$ extends ut{constructor(e,t){super(e,"not-in",t),this.keys=yP("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yP(n,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class s$ extends ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rd(t)&&nd(t.arrayValue,this.value)}}class vP extends ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nd(this.value.arrayValue,t)}}class o$ extends ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nd(this.value.arrayValue,t)}}class i$ extends ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>nd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,t=null,r=[],s=[],i=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=u,this.Te=null}}function uv(n,e=null,t=[],r=[],s=null,i=null,l=null){return new a$(n,e,t,r,s,i,l)}function Pa(n){const e=Ze(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>cv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Wp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>oc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>oc(r))).join(",")),e.Te=t}return e.Te}function _d(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!e$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Bx(n.startAt,e.startAt)&&Bx(n.endAt,e.endAt)}function Jf(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function ep(n,e){return n.filters.filter((t=>t instanceof ut&&t.field.isEqual(e)))}function qx(n,e,t){let r=vf,s=!0;for(const i of ep(n,e)){let l=vf,u=!0;switch(i.op){case"<":case"<=":l=X9(i.value);break;case"==":case"in":case">=":l=i.value;break;case">":l=i.value,u=!1;break;case"!=":case"not-in":l=vf}zx({value:r,inclusive:s},{value:l,inclusive:u})<0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];zx({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}function Hx(n,e,t){let r=fi,s=!0;for(const i of ep(n,e)){let l=fi,u=!0;switch(i.op){case">=":case">":l=J9(i.value),u=!1;break;case"==":case"in":case"<=":l=i.value;break;case"<":l=i.value,u=!1;break;case"!=":case"not-in":l=fi}Ux({value:r,inclusive:s},{value:l,inclusive:u})>0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];Ux({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t=null,r=[],s=[],i=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l$(n,e,t,r,s,i,l,u){return new Xp(n,e,t,r,s,i,l,u)}function wd(n){return new Xp(n)}function Wx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function c$(n){return n.collectionGroup!==null}function Mu(n){const e=Ze(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new wt(jt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Xf(i,r))})),t.has(jt.keyField().canonicalString())||e.Ie.push(new Xf(jt.keyField(),r))}return e.Ie}function Lr(n){const e=Ze(n);return e.Ee||(e.Ee=u$(e,Mu(n))),e.Ee}function u$(n,e){if(n.limitType==="F")return uv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Xf(s.field,i)}));const t=n.endAt?new ic(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ic(n.startAt.position,n.startAt.inclusive):null;return uv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function dv(n,e,t){return new Xp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jp(n,e){return _d(Lr(n),Lr(e))&&n.limitType===e.limitType}function _P(n){return`${Pa(Lr(n))}|lt:${n.limitType}`}function Ml(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>gP(s))).join(", ")}]`),Wp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>oc(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>oc(s))).join(",")),`Target(${r})`})(Lr(n))}; limitType=${n.limitType})`}function Ed(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of Mu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,h){const p=$x(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,Mu(r),s)||r.endAt&&!(function(l,u,h){const p=$x(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,Mu(r),s))})(n,e)}function d$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wP(n){return(e,t)=>{let r=!1;for(const s of Mu(n)){const i=h$(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function h$(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(i,l,u){const h=l.data.field(i),p=u.data.field(i);return h!==null&&p!==null?Si(h,p):De(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return nP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=new Ot(Ee.comparator);function _r(){return f$}const EP=new Ot(Ee.comparator);function Iu(...n){let e=EP;for(const t of n)e=e.insert(t.key,t);return e}function bP(n){let e=EP;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Os(){return Vu()}function xP(){return Vu()}function Vu(){return new So((n=>n.toString()),((n,e)=>n.isEqual(e)))}const p$=new Ot(Ee.comparator),m$=new wt(Ee.comparator);function et(...n){let e=m$;for(const t of n)e=e.add(t);return e}const g$=new wt(Ke);function y$(){return g$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function SP(n){return{integerValue:""+n}}function v$(n,e){return x9(e)?SP(e):$_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this._=void 0}}function _$(n,e,t){return n instanceof sd?(function(s,i){const l={fields:{[oP]:{stringValue:sP},[aP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&L_(i)&&(i=Qp(i)),i&&(l.fields[iP]=i),{mapValue:l}})(t,e):n instanceof lc?TP(n,e):n instanceof cc?CP(n,e):(function(s,i){const l=IP(s,i),u=Gx(l)+Gx(s.Ae);return av(l)&&av(s.Ae)?SP(u):$_(s.serializer,u)})(n,e)}function w$(n,e,t){return n instanceof lc?TP(n,e):n instanceof cc?CP(n,e):t}function IP(n,e){return n instanceof od?(function(r){return av(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class sd extends em{}class lc extends em{constructor(e){super(),this.elements=e}}function TP(n,e){const t=AP(e);for(const r of n.elements)t.some((s=>$s(s,r)))||t.push(r);return{arrayValue:{values:t}}}class cc extends em{constructor(e){super(),this.elements=e}}function CP(n,e){let t=AP(e);for(const r of n.elements)t=t.filter((s=>!$s(s,r)));return{arrayValue:{values:t}}}class od extends em{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Gx(n){return Dt(n.integerValue||n.doubleValue)}function AP(n){return rd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,t){this.field=e,this.transform=t}}function b$(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof lc&&s instanceof lc||r instanceof cc&&s instanceof cc?Jl(r.elements,s.elements,$s):r instanceof od&&s instanceof od?$s(r.Ae,s.Ae):r instanceof sd&&s instanceof sd})(n.transform,e.transform)}class x${constructor(e,t){this.version=e,this.transformResults=t}}class vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class tm{}function PP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bd(n.key,vn.none()):new Ec(n.key,n.data,vn.none());{const t=n.data,r=Mn.empty();let s=new wt(jt.comparator);for(let i of e.fields)if(!s.has(i)){let l=t.field(i);l===null&&i.length>1&&(i=i.popLast(),l=t.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new Io(n.key,r,new rr(s.toArray()),vn.none())}}function S$(n,e,t){n instanceof Ec?(function(s,i,l){const u=s.value.clone(),h=Zx(s.fieldTransforms,i,l.transformResults);u.setAll(h),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Io?(function(s,i,l){if(!Ef(s.precondition,i))return void i.convertToUnknownDocument(l.version);const u=Zx(s.fieldTransforms,i,l.transformResults),h=i.data;h.setAll(RP(s)),h.setAll(u),i.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Lu(n,e,t,r){return n instanceof Ec?(function(i,l,u,h){if(!Ef(i.precondition,l))return u;const p=i.value.clone(),g=Qx(i.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Io?(function(i,l,u,h){if(!Ef(i.precondition,l))return u;const p=Qx(i.fieldTransforms,h,l),g=l.data;return g.setAll(RP(i)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(i,l,u){return Ef(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function I$(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=IP(r.transform,s||null);i!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,i))}return t||null}function Kx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Jl(r,s,((i,l)=>b$(i,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ec extends tm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Io extends tm{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function RP(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Zx(n,e,t){const r=new Map;Ve(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],l=i.transform,u=e.data.field(i.field);r.set(i.field,w$(l,u,t[s]))}return r}function Qx(n,e,t){const r=new Map;for(const s of n){const i=s.transform,l=t.data.field(s.field);r.set(s.field,_$(i,l,e))}return r}class bd extends tm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kP extends tm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&S$(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=xP();return this.mutations.forEach((s=>{const i=e.get(s.key),l=i.overlayedDocument;let u=this.applyToLocalView(l,i.mutatedFields);u=t.has(s.key)?null:u;const h=PP(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),et())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,((t,r)=>Kx(t,r)))&&Jl(this.baseMutations,e.baseMutations,((t,r)=>Kx(t,r)))}}class q_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return p$})();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new q_(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,dt;function C$(n){switch(n){case re.OK:return De(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function NP(n){if(n===void 0)return $n("GRPC error has no .code"),re.UNKNOWN;switch(n){case Jt.OK:return re.OK;case Jt.CANCELLED:return re.CANCELLED;case Jt.UNKNOWN:return re.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return re.INTERNAL;case Jt.UNAVAILABLE:return re.UNAVAILABLE;case Jt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Jt.NOT_FOUND:return re.NOT_FOUND;case Jt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Jt.ABORTED:return re.ABORTED;case Jt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Jt.DATA_LOSS:return re.DATA_LOSS;default:return De(39323,{code:n})}}(dt=Jt||(Jt={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=new vi([4294967295,4294967295],0);function Yx(n){const e=A$().encode(n),t=new kA;return t.update(e),new Uint8Array(t.digest())}function Xx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new vi([t,r],0),new vi([s,i],0)]}class W_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Tu(`Invalid padding: ${t}`);if(r<0)throw new Tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=vi.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(vi.fromNumber(r)));return s.compare(P$)===1&&(s=new vi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Yx(e),[r,s]=Xx(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new W_(i,s,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=Yx(e),[r,s]=Xx(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,xd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nm(je.min(),s,new Ot(Ke),_r(),et())}}class xd{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xd(r,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class DP{constructor(e,t){this.targetId=e,this.Ce=t}}class OP{constructor(e,t,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Jx{constructor(){this.ve=0,this.Fe=eS(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),t=et(),r=et();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:De(38017,{changeType:i})}})),new xd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=eS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class R${constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=rf(),this.He=rf(),this.Ye=new Ot(Ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(Jf(i))if(r===0){const l=new Ee(i.path);this.et(t,l,Bt.newNoDocument(l,je.min()))}else Ve(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let l,u;try{l=wo(r).toUint8Array()}catch(h){if(h instanceof rP)return Ca("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new W_(l,s,i)}catch(h){return Ca(h instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,l)=>{const u=this.ot(l);if(u){if(i.current&&Jf(u.target)){const h=new Ee(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Bt.newNoDocument(h,e))}i.Be&&(t.set(l,i.ke()),i.qe())}}));let r=et();this.He.forEach(((i,l)=>{let u=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,l)=>l.setReadTime(e)));const s=new nm(e,t,this.Ye,this.je,r);return this.je=_r(),this.Je=rf(),this.He=rf(),this.Ye=new Ot(Ke),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Jx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new wt(Ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new wt(Ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rf(){return new Ot(Ee.comparator)}function eS(){return new Ot(Ee.comparator)}const k$={asc:"ASCENDING",desc:"DESCENDING"},N$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D$={and:"AND",or:"OR"};class O${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hv(n,e){return n.useProto3Json||Wp(e)?e:{value:e}}function uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function M$(n,e){return uc(n,e.toTimestamp())}function qn(n){return Ve(!!n,49232),je.fromTimestamp((function(t){const r=_o(t);return new _t(r.seconds,r.nanos)})(n))}function G_(n,e){return fv(n,e).canonicalString()}function fv(n,e){const t=(function(s){return new yt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function VP(n){const e=yt.fromString(n);return Ve(HP(e),10190,{key:e.toString()}),e}function tp(n,e){return G_(n.databaseId,e.path)}function ga(n,e){const t=VP(e);if(t.get(1)!==n.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(jP(t))}function LP(n,e){return G_(n.databaseId,e)}function FP(n){const e=VP(n);return e.length===4?yt.emptyPath():jP(e)}function pv(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jP(n){return Ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tS(n,e,t){return{name:tp(n,e),fields:t.value.mapValue.fields}}function V$(n,e,t){const r=ga(n,e.name),s=qn(e.updateTime),i=e.createTime?qn(e.createTime):je.min(),l=new Mn({mapValue:{fields:e.fields}}),u=Bt.newFoundDocument(r,s,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function L$(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(p,g){return p.useProto3Json?(Ve(g===void 0||typeof g=="string",58123),nn.fromBase64String(g||"")):(Ve(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),nn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const g=p.code===void 0?re.UNKNOWN:NP(p.code);return new we(g,p.message||"")})(l);t=new OP(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ga(n,r.document.name),i=qn(r.document.updateTime),l=r.document.createTime?qn(r.document.createTime):je.min(),u=new Mn({mapValue:{fields:r.document.fields}}),h=Bt.newFoundDocument(s,i,l,u),p=r.targetIds||[],g=r.removedTargetIds||[];t=new bf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ga(n,r.document),i=r.readTime?qn(r.readTime):je.min(),l=Bt.newNoDocument(s,i),u=r.removedTargetIds||[];t=new bf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ga(n,r.document),i=r.removedTargetIds||[];t=new bf([],i,s,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new T$(s,i),u=r.targetId;t=new DP(u,l)}}return t}function np(n,e){let t;if(e instanceof Ec)t={update:tS(n,e.key,e.value)};else if(e instanceof bd)t={delete:tp(n,e.key)};else if(e instanceof Io)t={update:tS(n,e.key,e.data),updateMask:B$(e.fieldMask)};else{if(!(e instanceof kP))return De(16599,{Vt:e.type});t={verify:tp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,l){const u=l.transform;if(u instanceof sd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof lc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof od)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw De(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:M$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:De(27497)})(n,e.precondition)),t}function mv(n,e){const t=e.currentDocument?(function(i){return i.updateTime!==void 0?vn.updateTime(qn(i.updateTime)):i.exists!==void 0?vn.exists(i.exists):vn.none()})(e.currentDocument):vn.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(l,u){let h=null;if("setToServerValue"in u)Ve(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),h=new sd;else if("appendMissingElements"in u){const g=u.appendMissingElements.values||[];h=new lc(g)}else if("removeAllFromArray"in u){const g=u.removeAllFromArray.values||[];h=new cc(g)}else"increment"in u?h=new od(l,u.increment):De(16584,{proto:u});const p=jt.fromServerFormat(u.fieldPath);return new E$(p,h)})(n,s))):[];if(e.update){e.update.name;const s=ga(n,e.update.name),i=new Mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const p=h.fieldPaths||[];return new rr(p.map((g=>jt.fromServerFormat(g))))})(e.updateMask);return new Io(s,i,l,t,r)}return new Ec(s,i,t,r)}if(e.delete){const s=ga(n,e.delete);return new bd(s,t)}if(e.verify){const s=ga(n,e.verify);return new kP(s,t)}return De(1463,{proto:e})}function F$(n,e){return n&&n.length>0?(Ve(e!==void 0,14353),n.map((t=>(function(s,i){let l=s.updateTime?qn(s.updateTime):qn(i);return l.isEqual(je.min())&&(l=qn(i)),new x$(l,s.transformResults||[])})(t,e)))):[]}function zP(n,e){return{documents:[LP(n,e.path)]}}function UP(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=LP(n,s);const i=(function(p){if(p.length!==0)return qP(bt.create(p,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Vl(w.field),direction:z$(w.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=hv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function $P(n){let e=FP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let i=[];t.where&&(i=(function(m){const w=BP(m);return w instanceof bt&&U_(w)?w.getFilters():[w]})(t.where));let l=[];t.orderBy&&(l=(function(m){return m.map((w=>(function(R){return new Xf(Ll(R.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(w)))})(t.orderBy));let u=null;t.limit&&(u=(function(m){let w;return w=typeof m=="object"?m.value:m,Wp(w)?null:w})(t.limit));let h=null;t.startAt&&(h=(function(m){const w=!!m.before,S=m.values||[];return new ic(S,w)})(t.startAt));let p=null;return t.endAt&&(p=(function(m){const w=!m.before,S=m.values||[];return new ic(S,w)})(t.endAt)),l$(e,s,l,i,u,"F",h,p)}function j$(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BP(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ll(t.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ll(t.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ll(t.unaryFilter.field);return ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ll(t.unaryFilter.field);return ut.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ut.create(Ll(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return bt.create(t.compositeFilter.filters.map((r=>BP(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(t.compositeFilter.op))})(n):De(30097,{filter:n})}function z$(n){return k$[n]}function U$(n){return N$[n]}function $$(n){return D$[n]}function Vl(n){return{fieldPath:n.canonicalString()}}function Ll(n){return jt.fromServerFormat(n.fieldPath)}function qP(n){return n instanceof ut?(function(t){if(t.op==="=="){if(jx(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NAN"}};if(Fx(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jx(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NOT_NAN"}};if(Fx(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(t.field),op:U$(t.op),value:t.value}}})(n):n instanceof bt?(function(t){const r=t.getFilters().map((s=>qP(s)));return r.length===1?r[0]:{compositeFilter:{op:$$(t.op),filters:r}}})(n):De(54877,{filter:n})}function B$(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function HP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t,r,s,i=je.min(),l=je.min(),u=nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.yt=e}}function q$(n,e){let t;if(e.document)t=V$(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ee.fromSegments(e.noDocument.path),s=ka(e.noDocument.readTime);t=Bt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return De(56709);{const r=Ee.fromSegments(e.unknownDocument.path),s=ka(e.unknownDocument.version);t=Bt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const i=new _t(s[0],s[1]);return je.fromTimestamp(i)})(e.readTime)),t}function nS(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,l){return{name:tp(i,l.key),fields:l.data.value.mapValue.fields,updateTime:uc(i,l.version.toTimestamp()),createTime:uc(i,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ra(e.version)};else{if(!e.isUnknownDocument())return De(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Ra(e.version)}}return r}function rp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ra(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ka(n){const e=new _t(n.seconds,n.nanoseconds);return je.fromTimestamp(e)}function ca(n,e){const t=(e.baseMutations||[]).map((i=>mv(n.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const l=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>mv(n.yt,i))),s=_t.fromMillis(e.localWriteTimeMs);return new B_(e.batchId,s,t,r)}function Cu(n){const e=ka(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ka(n.lastLimboFreeSnapshotVersion):je.min();let r;return r=(function(i){return i.documents!==void 0})(n.query)?(function(i){const l=i.documents.length;return Ve(l===1,1966,{count:l}),Lr(wd(FP(i.documents[0])))})(n.query):(function(i){return Lr($P(i))})(n.query),new ho(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,nn.fromBase64String(n.resumeToken))}function GP(n,e){const t=Ra(e.snapshotVersion),r=Ra(e.lastLimboFreeSnapshotVersion);let s;s=Jf(e.target)?zP(n.yt,e.target):UP(n.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pa(e.target),readTime:t,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function KP(n){const e=$P({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dv(e,e.limit,"L"):e}function my(n,e){return new H_(e.largestBatchId,mv(n.yt,e.overlayMutation))}function rS(n,e){const t=e.path.lastSegment();return[n,Vn(e.path.popLast()),t]}function sS(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ra(r.readTime),documentKey:Vn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${getBundleMetadata(e,t){return oS(e).get(t).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:ka(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,t){return oS(e).put((function(s){return{bundleId:s.id,createTime:Ra(qn(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return iS(e).get(t).next((r=>{if(r)return(function(i){return{name:i.name,query:KP(i.bundledQuery),readTime:ka(i.readTime)}})(r)}))}saveNamedQuery(e,t){return iS(e).put((function(s){return{name:s.name,readTime:Ra(qn(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function oS(n){return un(n,Gp)}function iS(n){return un(n,Kp)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new rm(e,r)}getOverlay(e,t){return mu(e).get(rS(this.userId,t)).next((r=>r?my(this.serializer,r):null))}getOverlays(e,t){const r=Os();return Z.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((i,l)=>{const u=new H_(t,l);s.push(this.St(e,u))})),Z.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((l=>s.add(Vn(l.getCollectionPath()))));const i=[];return s.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);i.push(mu(e).Z(sv,u))})),Z.waitFor(i)}getOverlaysForCollection(e,t,r){const s=Os(),i=Vn(t),l=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return mu(e).J(sv,l).next((u=>{for(const h of u){const p=my(this.serializer,h);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const i=Os();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mu(e).ee({index:YA,range:u},((h,p,g)=>{const m=my(this.serializer,p);i.size()<s||m.largestBatchId===l?(i.set(m.getKey(),m),l=m.largestBatchId):g.done()})).next((()=>i))}St(e,t){return mu(e).put((function(s,i,l){const[u,h,p]=rS(i,l.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:np(s.yt,l.mutation)}})(this.serializer,this.userId,t))}}function mu(n){return un(n,Zp)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${bt(e){return un(e,M_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?nn.fromUint8Array(r):nn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Dt(e.integerValue));else if("doubleValue"in e){const r=Dt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Yu(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=_o(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(wo(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?cP(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Yp(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):De(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=sc,i=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Dt(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),Ee.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ua.Kt=new ua;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=255;function G$(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function aS(n){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const l=G$(255&r[i]);if(s+=l,l!==8)break}return s})(n);return Math.ceil(e/8)}class K${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),r=aS(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=aS(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(Rl),this.sn(255)}_n(){this.an(Rl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Rl?(this.sn(Rl),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Rl?(this.an(Rl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class Z${constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Q${constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class gu{constructor(){this.cn=new K$,this.ln=new Z$(this.cn),this.hn=new Q$(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t,r,s){this.Tn=e,this.In=t,this.En=r,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new da(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:xf(this.En),directionalValue:xf(this.dn),orderedDocumentKey:xf(t),documentKey:r.path.toArray()}}Vn(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ni(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=lS(n.En,e.En),t!==0?t:(t=lS(n.dn,e.dn),t!==0?t:Ee.comparator(n.In,e.In)))}function lS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function xf(n){return xA()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function cS(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class uS{constructor(e){this.mn=new wt(((t,r)=>jt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ve(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=tv(e);if(t!==void 0&&!this.wn(t))return!1;const r=ia(e);let s=new Set,i=0,l=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=r[i];if(!this.Sn(u,h)||!this.bn(this.fn[l++],h))return!1}++i}for(;i<r.length;++i){const u=r[i];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new wt(jt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new mf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new mf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new mf(r.field,r.dir==="asc"?0:1)));return new Gf(Gf.UNKNOWN_ID,this.collectionId,t,Qu.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n){if(Ve(n instanceof ut||n instanceof bt,20012),n instanceof ut){if(n instanceof vP){const t=n.value.arrayValue?.values?.map((r=>ut.create(n.field,"==",r)))||[];return bt.create(t,"or")}return n}const e=n.filters.map((t=>ZP(t)));return bt.create(e,n.op)}function Y$(n){if(n.getFilters().length===0)return[];const e=vv(ZP(n));return Ve(QP(e),7391),gv(e)||yv(e)?[e]:e.getFilters()}function gv(n){return n instanceof ut}function yv(n){return n instanceof bt&&U_(n)}function QP(n){return gv(n)||yv(n)||(function(t){if(t instanceof bt&&lv(t)){for(const r of t.getFilters())if(!gv(r)&&!yv(r))return!1;return!0}return!1})(n)}function vv(n){if(Ve(n instanceof ut||n instanceof bt,34018),n instanceof ut)return n;if(n.filters.length===1)return vv(n.filters[0]);const e=n.filters.map((r=>vv(r)));let t=bt.create(e,n.op);return t=sp(t),QP(t)?t:(Ve(t instanceof bt,64498),Ve(ac(t),40251),Ve(t.filters.length>1,57927),t.filters.reduce(((r,s)=>K_(r,s))))}function K_(n,e){let t;return Ve(n instanceof ut||n instanceof bt,38388),Ve(e instanceof ut||e instanceof bt,25473),t=n instanceof ut?e instanceof ut?(function(s,i){return bt.create([s,i],"and")})(n,e):dS(n,e):e instanceof ut?dS(e,n):(function(s,i){if(Ve(s.filters.length>0&&i.filters.length>0,48005),ac(s)&&ac(i))return mP(s,i.getFilters());const l=lv(s)?s:i,u=lv(s)?i:s,h=l.filters.map((p=>K_(p,u)));return bt.create(h,"or")})(n,e),sp(t)}function dS(n,e){if(ac(e))return mP(e,n.getFilters());{const t=e.filters.map((r=>K_(n,r)));return bt.create(t,"or")}}function sp(n){if(Ve(n instanceof ut||n instanceof bt,11850),n instanceof ut)return n;const e=n.getFilters();if(e.length===1)return sp(e[0]);if(fP(n))return n;const t=e.map((s=>sp(s))),r=[];return t.forEach((s=>{s instanceof ut?r.push(s):s instanceof bt&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:bt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(){this.Cn=new Z_}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Er.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class Z_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new wt(yt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="IndexedDbIndexManager",sf=new Uint8Array(0);class J${constructor(e,t){this.databaseId=t,this.vn=new Z_,this.Fn=new So((r=>Pa(r)),((r,s)=>_d(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const i={collectionId:r,parent:Vn(s)};return fS(e).put(i)}return Z.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[jA(t),""],!1,!0);return fS(e).J(s).next((i=>{for(const l of i){if(l.collectionId!==t)break;r.push(Ds(l.parent))}return r}))}addFieldIndex(e,t){const r=yu(e),s=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete s.indexId;const i=r.add(s);if(t.indexState){const l=Nl(e);return i.next((u=>{l.put(sS(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const r=yu(e),s=Nl(e),i=kl(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=yu(e),r=kl(e),s=Nl(e);return t.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return Z.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new uS(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,t){const r=kl(e);let s=!0;const i=new Map;return Z.forEach(this.Mn(t),(l=>this.xn(e,l).next((u=>{s&&(s=!!u),i.set(l,u)})))).next((()=>{if(s){let l=et();const u=[];return Z.forEach(i,((h,p)=>{de(hS,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map((U=>`${U.fieldPath}:${U.kind}`)).join(",")}`})(h)} to execute ${Pa(t)}`);const g=(function(z,U){const $=tv(U);if($===void 0)return null;for(const K of ep(z,$.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null})(p,h),m=(function(z,U){const $=new Map;for(const K of ia(U))for(const A of ep(z,K.fieldPath))switch(A.op){case"==":case"in":$.set(K.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return $.set(K.fieldPath.canonicalString(),A.value),Array.from($.values())}return null})(p,h),w=(function(z,U){const $=[];let K=!0;for(const A of ia(U)){const C=A.kind===0?qx(z,A.fieldPath,z.startAt):Hx(z,A.fieldPath,z.startAt);$.push(C.value),K&&(K=C.inclusive)}return new ic($,K)})(p,h),S=(function(z,U){const $=[];let K=!0;for(const A of ia(U)){const C=A.kind===0?Hx(z,A.fieldPath,z.endAt):qx(z,A.fieldPath,z.endAt);$.push(C.value),K&&(K=C.inclusive)}return new ic($,K)})(p,h),R=this.On(h,p,w),T=this.On(h,p,S),P=this.Nn(h,p,m),D=this.Bn(h.indexId,g,R,w.inclusive,T,S.inclusive,P);return Z.forEach(D,(V=>r.Y(V,t.limit).next((z=>{z.forEach((U=>{const $=Ee.fromSegments(U.documentKey);l.has($)||(l=l.add($),u.push($))}))}))))})).next((()=>u))}return Z.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=Y$(bt.create(e.filters,"and")).map((r=>uv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,s,i,l,u){const h=(t!=null?t.length:1)*Math.max(r.length,i.length),p=h/(t!=null?t.length:1),g=[];for(let m=0;m<h;++m){const w=t?this.Ln(t[m/p]):sf,S=this.kn(e,w,r[m%p],s),R=this.qn(e,w,i[m%p],l),T=u.map((P=>this.kn(e,w,P,!0)));g.push(...this.createRange(S,R,T))}return g}kn(e,t,r,s){const i=new da(e,Ee.empty(),t,r);return s?i:i.An()}qn(e,t,r,s){const i=new da(e,Ee.empty(),t,r);return s?i.An():i}xn(e,t){const r=new uS(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let l=null;for(const u of i)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,t){let r=2;const s=this.Mn(t);return Z.forEach(s,(i=>this.xn(e,i).next((l=>{l?r!==0&&l.fields.length<(function(h){let p=new wt(jt.comparator),g=!1;for(const m of h.filters)for(const w of m.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?g=!0:p=p.add(w.field));for(const m of h.orderBy)m.field.isKeyField()||(p=p.add(m.field));return p.size+(g?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&s.length>1&&r===2?1:r))}Qn(e,t){const r=new gu;for(const s of ia(e)){const i=t.data.field(s.fieldPath);if(i==null)return null;const l=r.Pn(s.kind);ua.Kt.Dt(i,l)}return r.un()}Ln(e){const t=new gu;return ua.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new gu;return ua.Kt.Dt(z_(this.databaseId,t),r.Pn((function(i){const l=ia(i);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let s=[];s.push(new gu);let i=0;for(const l of ia(e)){const u=r[i++];for(const h of s)if(this.Un(t,l.fieldPath)&&rd(u))s=this.Kn(s,l,u);else{const p=h.Pn(l.kind);ua.Kt.Dt(u,p)}}return this.Wn(s)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const s=[...e],i=[];for(const l of r.arrayValue.values||[])for(const u of s){const h=new gu;h.seed(u.un()),ua.Kt.Dt(l,h.Pn(t.kind)),i.push(h)}return i}Un(e,t){return!!e.filters.find((r=>r instanceof ut&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=yu(e),s=Nl(e);return(t?r.J(rv,IDBKeyRange.bound(t,t)):r.J()).next((i=>{const l=[];return Z.forEach(i,(u=>s.get([u.indexId,this.uid]).next((h=>{l.push((function(g,m){const w=m?new Qu(m.sequenceNumber,new Er(ka(m.readTime),new Ee(Ds(m.documentKey)),m.largestBatchId)):Qu.empty(),S=g.fields.map((([R,T])=>new mf(jt.fromServerFormat(R),T)));return new Gf(g.indexId,g.collectionGroup,S,w)})(u,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ke(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=yu(e),i=Nl(e);return this.Gn(e).next((l=>s.J(rv,IDBKeyRange.bound(t,t)).next((u=>Z.forEach(u,(h=>i.put(sS(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return Z.forEach(t,((s,i)=>{const l=r.get(s.collectionGroup);return(l?Z.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Z.forEach(u,(h=>this.zn(e,s,h).next((p=>{const g=this.jn(i,h);return p.isEqual(g)?Z.resolve():this.Jn(e,i,h,p,g)})))))))}))}Hn(e,t,r,s){return kl(e).put(s.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,s){return kl(e).delete(s.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const s=kl(e);let i=new wt(ni);return s.ee({index:QA,range:IDBKeyRange.only([r.indexId,this.uid,xf(this.$n(r,t))])},((l,u)=>{i=i.add(new da(r.indexId,t,cS(u.arrayValue),cS(u.directionalValue)))})).next((()=>i))}jn(e,t){let r=new wt(ni);const s=this.Qn(t,e);if(s==null)return r;const i=tv(t);if(i!=null){const l=e.data.field(i.fieldPath);if(rd(l))for(const u of l.arrayValue.values||[])r=r.add(new da(t.indexId,e.key,this.Ln(u),s))}else r=r.add(new da(t.indexId,e.key,sf,s));return r}Jn(e,t,r,s,i){de(hS,"Updating index entries for document '%s'",t.key);const l=[];return(function(h,p,g,m,w){const S=h.getIterator(),R=p.getIterator();let T=Pl(S),P=Pl(R);for(;T||P;){let D=!1,V=!1;if(T&&P){const z=g(T,P);z<0?V=!0:z>0&&(D=!0)}else T!=null?V=!0:D=!0;D?(m(P),P=Pl(R)):V?(w(T),T=Pl(S)):(T=Pl(S),P=Pl(R))}})(s,i,ni,(u=>{l.push(this.Hn(e,t,r,u))}),(u=>{l.push(this.Yn(e,t,r,u))})),Z.waitFor(l)}Gn(e){let t=1;return Nl(e).ee({index:ZA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,u)=>ni(l,u))).filter(((l,u,h)=>!u||ni(l,h[u-1])!==0));const s=[];s.push(e);for(const l of r){const u=ni(l,e),h=ni(l,t);if(u===0)s[0]=e.An();else if(u>0&&h<0)s.push(l),s.push(l.An());else if(h>0)break}s.push(t);const i=[];for(let l=0;l<s.length;l+=2){if(this.Zn(s[l],s[l+1]))return[];const u=s[l].Vn(this.uid,sf,Ee.empty()),h=s[l+1].Vn(this.uid,sf,Ee.empty());i.push(IDBKeyRange.bound(u,h))}return i}Zn(e,t){return ni(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(pS)}getMinOffset(e,t){return Z.mapArray(this.Mn(t),(r=>this.xn(e,r).next((s=>s||De(44426))))).next(pS)}}function fS(n){return un(n,ed)}function kl(n){return un(n,Du)}function yu(n){return un(n,O_)}function Nl(n){return un(n,Nu)}function pS(n){Ve(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;k_(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Er(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YP=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(n,e,t){const r=n.store(es),s=n.store(ec),i=[],l=IDBKeyRange.only(t.batchId);let u=0;const h=r.ee({range:l},((g,m,w)=>(u++,w.delete())));i.push(h.next((()=>{Ve(u===1,47070,{batchId:t.batchId})})));const p=[];for(const g of t.mutations){const m=WA(e,g.key.path,t.batchId);i.push(s.delete(m)),p.push(g.key)}return Z.waitFor(i).next((()=>p))}function op(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw De(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(YP,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class sm{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,t,r,s){Ve(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new sm(i,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ri(e).ee({index:ha,range:r},((s,i,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const i=Fl(e),l=ri(e);return l.add({}).next((u=>{Ve(typeof u=="number",49019);const h=new B_(u,t,r,s),p=(function(S,R,T){const P=T.baseMutations.map((V=>np(S.yt,V))),D=T.mutations.map((V=>np(S.yt,V)));return{userId:R,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:P,mutations:D}})(this.serializer,this.userId,h),g=[];let m=new wt(((w,S)=>Ke(w.canonicalString(),S.canonicalString())));for(const w of s){const S=WA(this.userId,w.key.path,u);m=m.add(w.key.path.popLast()),g.push(l.put(p)),g.push(i.put(S,T9))}return m.forEach((w=>{g.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),Z.waitFor(g).next((()=>h))}))}lookupMutationBatch(e,t){return ri(e).get(t).next((r=>r?(Ve(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),ca(this.serializer,r)):null))}er(e,t){return this.Xn[t]?Z.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return ri(e).ee({index:ha,range:s},((l,u,h)=>{u.userId===this.userId&&(Ve(u.batchId>=r,47524,{tr:r}),i=ca(this.serializer,u)),h.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=pa;return ri(e).ee({index:ha,range:t,reverse:!0},((s,i,l)=>{r=i.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,pa],[this.userId,Number.POSITIVE_INFINITY]);return ri(e).J(ha,t).next((r=>r.map((s=>ca(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=gf(this.userId,t.path),s=IDBKeyRange.lowerBound(r),i=[];return Fl(e).ee({range:s},((l,u,h)=>{const[p,g,m]=l,w=Ds(g);if(p===this.userId&&t.path.isEqual(w))return ri(e).get(m).next((S=>{if(!S)throw De(61480,{nr:l,batchId:m});Ve(S.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:S.userId,batchId:m}),i.push(ca(this.serializer,S))}));h.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ke);const s=[];return t.forEach((i=>{const l=gf(this.userId,i.path),u=IDBKeyRange.lowerBound(l),h=Fl(e).ee({range:u},((p,g,m)=>{const[w,S,R]=p,T=Ds(S);w===this.userId&&i.path.isEqual(T)?r=r.add(R):m.done()}));s.push(h)})),Z.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,i=gf(this.userId,r),l=IDBKeyRange.lowerBound(i);let u=new wt(Ke);return Fl(e).ee({range:l},((h,p,g)=>{const[m,w,S]=h,R=Ds(w);m===this.userId&&r.isPrefixOf(R)?R.length===s&&(u=u.add(S)):g.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],s=[];return t.forEach((i=>{s.push(ri(e).get(i).next((l=>{if(l===null)throw De(35274,{batchId:i});Ve(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:i}),r.push(ca(this.serializer,l))})))})),Z.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return XP(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Z.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Z.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return Fl(e).ee({range:r},((i,l,u)=>{if(i[0]===this.userId){const h=Ds(i[1]);s.push(h)}else u.done()})).next((()=>{Ve(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,t){return JP(e,this.userId,t)}_r(e){return eR(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:pa,lastStreamToken:""}))}}function JP(n,e,t){const r=gf(e,t.path),s=r[1],i=IDBKeyRange.lowerBound(r);let l=!1;return Fl(n).ee({range:i,X:!0},((u,h,p)=>{const[g,m,w]=u;g===e&&m===s&&(l=!0),p.done()})).next((()=>l))}function ri(n){return un(n,es)}function Fl(n){return un(n,ec)}function eR(n){return un(n,Xu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Na(0)}static cr(){return new Na(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Na(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>je.fromTimestamp(new _t(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Dl(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Ve(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let s=0;const i=[];return Dl(e).ee(((l,u)=>{const h=Cu(u);h.sequenceNumber<=t&&r.get(h.targetId)===null&&(s++,i.push(this.removeTargetData(e,h)))})).next((()=>Z.waitFor(i))).next((()=>s))}forEachTarget(e,t){return Dl(e).ee(((r,s)=>{const i=Cu(s);t(i)}))}lr(e){return gS(e).get(Qf).next((t=>(Ve(t!==null,2888),t)))}hr(e,t){return gS(e).put(Qf,t)}Pr(e,t){return Dl(e).put(GP(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Pa(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Dl(e).ee({range:s,index:KA},((l,u,h)=>{const p=Cu(u);_d(t,p.target)&&(i=p,h.done())})).next((()=>i))}addMatchingKeys(e,t,r){const s=[],i=ai(e);return t.forEach((l=>{const u=Vn(l.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,l))})),Z.waitFor(s)}removeMatchingKeys(e,t,r){const s=ai(e);return Z.forEach(t,(i=>{const l=Vn(i.path);return Z.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,t){const r=ai(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=ai(e);let i=et();return s.ee({range:r,X:!0},((l,u,h)=>{const p=Ds(l[1]),g=new Ee(p);i=i.add(g)})).next((()=>i))}containsKey(e,t){const r=Vn(t.path),s=IDBKeyRange.bound([r],[jA(r)],!1,!0);let i=0;return ai(e).ee({index:D_,X:!0,range:s},(([l,u],h,p)=>{l!==0&&(i++,p.done())})).next((()=>i>0))}At(e,t){return Dl(e).get(t).next((r=>r?Cu(r):null))}}function Dl(n){return un(n,tc)}function gS(n){return un(n,ma)}function ai(n){return un(n,nc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="LruGarbageCollector",tB=1048576;function vS([n,e],[t,r]){const s=Ke(n,t);return s===0?Ke(e,r):s}class nB{constructor(e){this.Ir=e,this.buffer=new wt(vS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(yS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ri(t)?de(yS,"Ignoring IndexedDB error during garbage collection: ",t):await ja(t)}await this.Vr(3e5)}))}}class rB{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Mr.ce);const r=new nB(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(mS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,l,u,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,l=Date.now(),this.nthSequenceNumber(e,s)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,t)))).next((m=>(i=m,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(p=Date.now(),Ol()<=at.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${i} targets in `+(h-u)+`ms
	Removed ${m} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m}))))}}function nR(n,e){return new rB(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,t){this.db=e,this.garbageCollector=nR(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,s)=>t(s)))}addReference(e,t,r){return of(e,r)}removeReference(e,t,r){return of(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return of(e,t)}br(e,t){return(function(s,i){let l=!1;return eR(s).te((u=>JP(s,u,i).next((h=>(h&&(l=!0),Z.resolve(!h)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((l,u)=>{if(u<=t){const h=this.br(e,l).next((p=>{if(!p)return i++,r.getEntry(e,l).next((()=>(r.removeEntry(l,je.min()),ai(e).delete((function(m){return[0,Vn(m.path)]})(l)))))}));s.push(h)}})).next((()=>Z.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return of(e,t)}Sr(e,t){const r=ai(e);let s,i=Mr.ce;return r.ee({index:D_},(([l,u],{path:h,sequenceNumber:p})=>{l===0?(i!==Mr.ce&&t(new Ee(Ds(s)),i),i=p,s=h):i=Mr.ce})).next((()=>{i!==Mr.ce&&t(new Ee(Ds(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function of(n,e){return ai(n).put((function(r,s){return{targetId:0,path:Vn(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.changes=new So((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sa(e).put(r)}removeEntry(e,t,r){return sa(e).delete((function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],rp(l),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Bt.newInvalidDocument(t);return sa(e).ee({index:yf,range:IDBKeyRange.only(vu(t))},((s,i)=>{r=this.Cr(t,i)})).next((()=>r))}vr(e,t){let r={size:0,document:Bt.newInvalidDocument(t)};return sa(e).ee({index:yf,range:IDBKeyRange.only(vu(t))},((s,i)=>{r={document:this.Cr(t,i),size:op(i)}})).next((()=>r))}getEntries(e,t){let r=_r();return this.Fr(e,t,((s,i)=>{const l=this.Cr(s,i);r=r.insert(s,l)})).next((()=>r))}Mr(e,t){let r=_r(),s=new Ot(Ee.comparator);return this.Fr(e,t,((i,l)=>{const u=this.Cr(i,l);r=r.insert(i,u),s=s.insert(i,op(l))})).next((()=>({documents:r,Or:s})))}Fr(e,t,r){if(t.isEmpty())return Z.resolve();let s=new wt(ES);t.forEach((h=>s=s.add(h)));const i=IDBKeyRange.bound(vu(s.first()),vu(s.last())),l=s.getIterator();let u=l.getNext();return sa(e).ee({index:yf,range:i},((h,p,g)=>{const m=Ee.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&ES(u,m)<0;)r(u,null),u=l.getNext();u&&u.isEqual(m)&&(r(u,p),u=l.hasNext()?l.getNext():null),u?g.j(vu(u)):g.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,i){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),rp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sa(e).J(IDBKeyRange.bound(u,h,!0)).next((p=>{i?.incrementDocumentReadCount(p.length);let g=_r();for(const m of p){const w=this.Cr(Ee.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);w.isFoundDocument()&&(Ed(t,w)||s.has(w.key))&&(g=g.insert(w.key,w))}return g}))}getAllFromCollectionGroup(e,t,r,s){let i=_r();const l=wS(t,r),u=wS(t,Er.max());return sa(e).ee({index:GA,range:IDBKeyRange.bound(l,u,!0)},((h,p,g)=>{const m=this.Cr(Ee.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);i=i.insert(m.key,m),i.size===s&&g.done()})).next((()=>i))}newChangeBuffer(e){return new iB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return _S(e).get(nv).next((t=>(Ve(!!t,20021),t)))}Dr(e,t){return _S(e).put(nv,t)}Cr(e,t){if(t){const r=q$(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(je.min())))return r}return Bt.newInvalidDocument(e)}}function sR(n){return new oB(n)}class iB extends rR{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new So((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new wt(((i,l)=>Ke(i.canonicalString(),l.canonicalString())));return this.changes.forEach(((i,l)=>{const u=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,u.readTime)),l.isValidDocument()){const h=nS(this.Nr.serializer,l);s=s.add(i.path.popLast());const p=op(h);r+=p-u.size,t.push(this.Nr.addEntry(e,i,h))}else if(r-=u.size,this.trackRemovals){const h=nS(this.Nr.serializer,l.convertToNoDocument(je.min()));t.push(this.Nr.addEntry(e,i,h))}})),s.forEach((i=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),t.push(this.Nr.updateMetadata(e,r)),Z.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:s})=>(s.forEach(((i,l)=>{this.Br.set(i,{size:l,readTime:r.get(i).readTime})})),r)))}}function _S(n){return un(n,Ju)}function sa(n){return un(n,Zf)}function vu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wS(n,e){const t=e.documentKey.path.toArray();return[n,rp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ES(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<t.length-2&&i<r.length-2;++i)if(s=Ke(t[i],r[i]),s)return s;return s=Ke(t.length,r.length),s||(s=Ke(t[t.length-2],r[r.length-2]),s||Ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Lu(r.mutation,s,rr.empty(),_t.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=et()){const s=Os();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let l=Iu();return i.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Os();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,et())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,s){let i=_r();const l=Vu(),u=(function(){return Vu()})();return t.forEach(((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Io)?i=i.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Lu(g.mutation,p,g.mutation.getFieldMask(),_t.now())):l.set(p.key,rr.empty())})),this.recalculateAndSaveOverlays(e,i).next((h=>(h.forEach(((p,g)=>l.set(p,g))),t.forEach(((p,g)=>u.set(p,new aB(g,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Vu();let s=new Ot(((l,u)=>l-u)),i=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||rr.empty();g=u.applyToLocalView(p,g),r.set(h,g);const m=(s.get(u.batchId)||et()).add(h);s=s.insert(u.batchId,m)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,g=h.value,m=xP();g.forEach((w=>{if(!i.has(w)){const S=PP(t.get(w),r.get(w));S!==null&&m.set(w,S),i=i.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,m))}return Z.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):c$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):Z.resolve(Os());let u=Zu,h=i;return l.next((p=>Z.forEach(p,((g,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),i.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{h=h.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,i))).next((()=>this.computeViews(e,h,p,et()))).next((g=>({batchId:u,changes:bP(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let s=Iu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let l=Iu();return this.indexManager.getCollectionParents(e,i).next((u=>Z.forEach(u,(h=>{const p=(function(m,w){return new Xp(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((m,w)=>{l=l.insert(m,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((l=>{i.forEach(((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Bt.newInvalidDocument(g)))}));let u=Iu();return l.forEach(((h,p)=>{const g=i.get(h);g!==void 0&&Lu(g.mutation,p,rr.empty(),_t.now()),Ed(t,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:qn(s.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:KP(s.bundledQuery),readTime:qn(s.readTime)}})(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.overlays=new Ot(Ee.comparator),this.qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Os();return Z.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.St(e,t,i)})),Z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const s=Os(),i=t.length+1,l=new Ee(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Ot(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=i.get(p.largestBatchId);g===null&&(g=Os(),i=i.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=Os(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>u.set(p,g))),!(u.size()>=s)););return Z.resolve(u)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new H_(t,r));let i=this.qr.get(t);i===void 0&&(i=et(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.Qr=new wt(yn.$r),this.Ur=new wt(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new yn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new yn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ee(new yt([])),r=new yn(t,e),s=new yn(t,e+1),i=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),i.push(l.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new yt([])),r=new yn(t,e),s=new yn(t,e+1);let i=et();return this.Ur.forEachInRange([r,s],(l=>{i=i.add(l.key)})),i}containsKey(e){const t=new yn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||Ke(e.Yr,t.Yr)}static Kr(e,t){return Ke(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new wt(yn.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new B_(i,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new yn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return Z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?pa:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yn(t,0),s=new yn(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);i.push(u)})),Z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ke);return t.forEach((s=>{const i=new yn(s,0),l=new yn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],(u=>{r=r.add(u.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;Ee.isDocumentKey(i)||(i=i.child(""));const l=new yn(new Ee(i),0);let u=new wt(Ke);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Yr)),!0)}),l),Z.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ve(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(t.mutations,(s=>{const i=new yn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new yn(t,0),s=this.Zr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let r=_r();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bt.newInvalidDocument(s))})),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=_r();const l=t.path,u=new Ee(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||k_($A(g),r)<=0||(s.has(g.key)||Ed(t,g))&&(i=i.insert(g.key,g.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,t,r,s){De(9500)}ii(e,t){return Z.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new fB(this)}getSize(e){return Z.resolve(this.size)}}class fB extends rR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e){this.persistence=e,this.si=new So((t=>Pa(t)),_d),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new Q_,this.targetCount=0,this.ai=Na.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Na(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Pr(t),Z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Z.waitFor(i).next((()=>s))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((l=>{i.push(s.markPotentiallyOrphaned(e,l))})),Z.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,t){this.ui={},this.overlays={},this.ci=new Mr(0),this.li=!1,this.li=!0,this.hi=new uB,this.referenceDelegate=e(this),this.Pi=new pB(this),this.indexManager=new X$,this.remoteDocumentCache=(function(s){return new hB(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new WP(t),this.Ii=new lB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new dB(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const s=new mB(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,t){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class mB extends qA{constructor(e){super(),this.currentSequenceNumber=e}}class om{constructor(e){this.persistence=e,this.Ri=new Q_,this.Vi=null}static mi(e){return new om(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const s=Ee.fromPath(r);return this.gi(e,s).next((i=>{i||t.removeEntry(s,je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Z.or([()=>Z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ip{constructor(e,t){this.persistence=e,this.pi=new So((r=>Vn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=nR(this,t)}static mi(e,t){return new ip(e,t)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Z.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Z.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,i.removeEntry(l,je.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_f(e.data.value)),t}br(e,t,r){return Z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.serializer=e}k(e,t,r,s){const i=new Hp("createOrUpgrade",t);r<1&&s>=1&&((function(h){h.createObjectStore(vd)})(e),(function(h){h.createObjectStore(Xu,{keyPath:I9}),h.createObjectStore(es,{keyPath:Nx,autoIncrement:!0}).createIndex(ha,Dx,{unique:!0}),h.createObjectStore(ec)})(e),bS(e),(function(h){h.createObjectStore(aa)})(e));let l=Z.resolve();return r<3&&s>=3&&(r!==0&&((function(h){h.deleteObjectStore(nc),h.deleteObjectStore(tc),h.deleteObjectStore(ma)})(e),bS(e)),l=l.next((()=>(function(h){const p=h.store(ma),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:je.min().toTimestamp(),targetCount:0};return p.put(Qf,g)})(i)))),r<4&&s>=4&&(r!==0&&(l=l.next((()=>(function(h,p){return p.store(es).J().next((m=>{h.deleteObjectStore(es),h.createObjectStore(es,{keyPath:Nx,autoIncrement:!0}).createIndex(ha,Dx,{unique:!0});const w=p.store(es),S=m.map((R=>w.put(R)));return Z.waitFor(S)}))})(e,i)))),l=l.next((()=>{(function(h){h.createObjectStore(rc,{keyPath:O9})})(e)}))),r<5&&s>=5&&(l=l.next((()=>this.yi(i)))),r<6&&s>=6&&(l=l.next((()=>((function(h){h.createObjectStore(Ju)})(e),this.wi(i))))),r<7&&s>=7&&(l=l.next((()=>this.Si(i)))),r<8&&s>=8&&(l=l.next((()=>this.bi(e,i)))),r<9&&s>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(l=l.next((()=>this.Di(i)))),r<11&&s>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(Gp,{keyPath:M9})})(e),(function(h){h.createObjectStore(Kp,{keyPath:V9})})(e)}))),r<12&&s>=12&&(l=l.next((()=>{(function(h){const p=h.createObjectStore(Zp,{keyPath:B9});p.createIndex(sv,q9,{unique:!1}),p.createIndex(YA,H9,{unique:!1})})(e)}))),r<13&&s>=13&&(l=l.next((()=>(function(h){const p=h.createObjectStore(Zf,{keyPath:C9});p.createIndex(yf,A9),p.createIndex(GA,P9)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(aa)))),r<14&&s>=14&&(l=l.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(l=l.next((()=>(function(h){h.createObjectStore(O_,{keyPath:L9,autoIncrement:!0}).createIndex(rv,F9,{unique:!1}),h.createObjectStore(Nu,{keyPath:j9}).createIndex(ZA,z9,{unique:!1}),h.createObjectStore(Du,{keyPath:U9}).createIndex(QA,$9,{unique:!1})})(e)))),r<16&&s>=16&&(l=l.next((()=>{t.objectStore(Nu).clear()})).next((()=>{t.objectStore(Du).clear()}))),r<17&&s>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(M_,{keyPath:W9})})(e)}))),r<18&&s>=18&&xA()&&(l=l.next((()=>{t.objectStore(Nu).clear()})).next((()=>{t.objectStore(Du).clear()}))),l}wi(e){let t=0;return e.store(aa).ee(((r,s)=>{t+=op(s)})).next((()=>{const r={byteSize:t};return e.store(Ju).put(nv,r)}))}yi(e){const t=e.store(Xu),r=e.store(es);return t.J().next((s=>Z.forEach(s,(i=>{const l=IDBKeyRange.bound([i.userId,pa],[i.userId,i.lastAcknowledgedBatchId]);return r.J(ha,l).next((u=>Z.forEach(u,(h=>{Ve(h.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const p=ca(this.serializer,h);return XP(e,i.userId,p).next((()=>{}))}))))}))))}Si(e){const t=e.store(nc),r=e.store(aa);return e.store(ma).get(Qf).next((s=>{const i=[];return r.ee(((l,u)=>{const h=new yt(l),p=(function(m){return[0,Vn(m)]})(h);i.push(t.get(p).next((g=>g?Z.resolve():(m=>t.put({targetId:0,path:Vn(m),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>Z.waitFor(i)))}))}bi(e,t){e.createObjectStore(ed,{keyPath:D9});const r=t.store(ed),s=new Z_,i=l=>{if(s.add(l)){const u=l.lastSegment(),h=l.popLast();return r.put({collectionId:u,parent:Vn(h)})}};return t.store(aa).ee({X:!0},((l,u)=>{const h=new yt(l);return i(h.popLast())})).next((()=>t.store(ec).ee({X:!0},(([l,u,h],p)=>{const g=Ds(u);return i(g.popLast())}))))}Di(e){const t=e.store(tc);return t.ee(((r,s)=>{const i=Cu(s),l=GP(this.serializer,i);return t.put(l)}))}Ci(e,t){const r=t.store(aa),s=[];return r.ee(((i,l)=>{const u=t.store(Zf),h=(function(m){return m.document?new Ee(yt.fromString(m.document.name).popFirst(5)):m.noDocument?Ee.fromSegments(m.noDocument.path):m.unknownDocument?Ee.fromSegments(m.unknownDocument.path):De(36783)})(l).path.toArray(),p={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(u.put(p))})).next((()=>Z.waitFor(s)))}Fi(e,t){const r=t.store(es),s=sR(this.serializer),i=new Y_(om.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((h=>{let p=u.get(h.userId)??et();ca(this.serializer,h).keys().forEach((g=>p=p.add(g))),u.set(h.userId,p)})),Z.forEach(u,((h,p)=>{const g=new xn(p),m=rm.wt(this.serializer,g),w=i.getIndexManager(g),S=sm.wt(g,this.serializer,w,i.referenceDelegate);return new oR(s,S,m,w).recalculateAndSaveOverlaysForDocumentKeys(new ov(t,Mr.ce),h).next()}))}))}}function bS(n){n.createObjectStore(nc,{keyPath:k9}).createIndex(D_,N9,{unique:!0}),n.createObjectStore(tc,{keyPath:"targetId"}).createIndex(KA,R9,{unique:!0}),n.createObjectStore(ma)}const si="IndexedDbPersistence",gy=18e5,yy=5e3,vy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yB="main";class X_{constructor(e,t,r,s,i,l,u,h,p,g,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=i,this.window=l,this.document=u,this.xi=p,this.Oi=g,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!X_.v())throw new we(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sB(this,s),this.$i=t+yB,this.serializer=new WP(h),this.Ui=new _i(this.$i,this.Ni,new gB(this.serializer)),this.hi=new W$,this.Pi=new eB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=sR(this.serializer),this.Ii=new H$,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&$n(si,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(re.FAILED_PRECONDITION,vy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Mr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>af(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Ri(e))return de(si,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de(si,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return _u(e).get(Al).next((t=>Z.resolve(this.es(t))))}ts(e){return af(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,gy)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=un(t,rc);return r.J().next((s=>{const i=this.ss(s,gy),l=s.filter((u=>i.indexOf(u)===-1));return Z.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Z.resolve(!0):_u(e).get(Al).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,yy)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new we(re.FAILED_PRECONDITION,vy);return!1}}return!(!this.networkEnabled||!this.inForeground)||af(e).J().next((r=>this.ss(r,yy).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||l&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&de(si,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[vd,rc],(e=>{const t=new ov(e,Mr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>af(e).J().next((t=>this.ss(t,gy).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return sm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new J$(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return rm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){de(si,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",i=(function(h){return h===18?Z9:h===17?tP:h===16?K9:h===15?V_:h===14?eP:h===13?JA:h===12?G9:h===11?XA:void De(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,s,i,(u=>(l=new ov(u,this.ci?this.ci.next():Mr.ce),t==="readwrite-primary"?this.Hi(l).next((h=>!!h||this.Yi(l))).next((h=>{if(!h)throw $n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new we(re.FAILED_PRECONDITION,BA);return r(l)})).next((h=>this.Xi(l).next((()=>h)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return _u(e).get(Al).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,yy)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new we(re.FAILED_PRECONDITION,vy)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _u(e).put(Al,t)}static v(){return _i.v()}Zi(e){const t=_u(e);return t.get(Al).next((r=>this.es(r)?(de(si,"Releasing primary lease."),t.delete(Al)):Z.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||($n(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;bA()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return de(si,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return $n(si,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){$n("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _u(n){return un(n,vd)}function af(n){return un(n,rc)}function vB(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=et(),s=et();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new J_(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bA()?8:HA(cn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next((l=>{i.result=l})).next((()=>{if(!i.result)return this.ws(e,t,s,r).next((l=>{i.result=l}))})).next((()=>{if(i.result)return;const l=new _B;return this.Ss(e,t,l).next((u=>{if(i.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>i.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Ol()<=at.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ol()<=at.DEBUG&&de("QueryEngine","Query:",Ml(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ol()<=at.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):Z.resolve())}ys(e,t){if(Wx(t))return Z.resolve(null);let r=Lr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=dv(t,null,"F"),r=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const l=et(...i);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,u);return this.Cs(t,p,l,h.readTime)?this.ys(e,dv(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,s){return Wx(t)||s.isEqual(je.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((i=>{const l=this.Ds(t,i);return this.Cs(t,l,r,s)?Z.resolve(null):(Ol()<=at.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ml(t)),this.vs(e,l,t,v9(s,Zu)).next((u=>u)))}))}Ds(e,t){let r=new wt(wP(e));return t.forEach(((s,i)=>{Ed(e,i)&&(r=r.add(i))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return Ol()<=at.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ml(t)),this.ps.getDocumentsMatchingQuery(e,t,Er.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((l=>{i=i.insert(l.key,l)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="LocalStore",wB=3e8;class EB{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Ot(Ke),this.xs=new So((i=>Pa(i)),_d),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function aR(n,e,t,r){return new EB(n,e,t,r)}async function lR(n,e){const t=Ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const l=[],u=[];let h=et();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of i){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function bB(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,g){const m=p.batch,w=m.keys();let S=Z.resolve();return w.forEach((R=>{S=S.next((()=>g.getEntry(h,R))).next((T=>{const P=p.docVersions.get(R);Ve(P!==null,48541),T.version.compareTo(P)<0&&(m.applyToRemoteDocument(T,p),T.isValidDocument()&&(T.setReadTime(p.commitVersion),g.addEntry(T)))}))})),S.next((()=>u.mutationQueue.removeMutationBatch(h,m)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=et();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function cR(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function xB(n,e){const t=Ze(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((g,m)=>{const w=s.get(m);if(!w)return;u.push(t.Pi.removeMatchingKeys(i,g.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(i,g.addedDocuments,m))));let S=w.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?S=S.withResumeToken(nn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(m,S),(function(T,P,D){return T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=wB?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(w,S,g)&&u.push(t.Pi.updateTargetData(i,S))}));let h=_r(),p=et();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(i,g))})),u.push(SB(i,l,e.documentUpdates).next((g=>{h=g.ks,p=g.qs}))),!r.isEqual(je.min())){const g=t.Pi.getLastRemoteSnapshotVersion(i).next((m=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(g)}return Z.waitFor(u).next((()=>l.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,h,p))).next((()=>h))})).then((i=>(t.Ms=s,i)))}function SB(n,e,t){let r=et(),s=et();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let l=_r();return t.forEach(((u,h)=>{const p=i.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):de(ew,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function IB(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=pa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function TB(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((i=>i?(s=i,Z.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new ho(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function _v(n,e,t){const r=Ze(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Ri(l))throw l;de(ew,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function xS(n,e,t){const r=Ze(n);let s=je.min(),i=et();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,g){const m=Ze(h),w=m.xs.get(g);return w!==void 0?Z.resolve(m.Ms.get(w)):m.Pi.getTargetData(p,g)})(r,l,Lr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{i=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:je.min(),t?i:et()))).next((u=>(CB(r,d$(e),u),{documents:u,Qs:i})))))}function CB(n,e,t){let r=n.Os.get(e)||je.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(e,r)}class SS{constructor(){this.activeTargetIds=y$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uR{constructor(){this.Mo=new SS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new SS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="ConnectivityMonitor";class TS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(IS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(IS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf=null;function wv(){return lf===null?lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():lf++,"0x"+lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="RestConnection",PB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Yf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const l=wv(),u=this.zo(e,t.toUriEncodedString());de(_y,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,i);const{host:p}=new URL(u),g=vc(p);return this.Jo(e,u,h,r,g).then((m=>(de(_y,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw Ca(_y,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,t,r,s,i,l){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,t){const r=PB[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class NB extends RB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const l=wv();return new Promise(((u,h)=>{const p=new NA;p.setWithCredentials(!0),p.listenOnce(DA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case pf.NO_ERROR:const m=p.getResponseJson();de(Nn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case pf.TIMEOUT:de(Nn,`RPC '${e}' ${l} timed out`),h(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const w=p.getStatus();if(de(Nn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const T=(function(D){const V=D.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(V)>=0?V:re.UNKNOWN})(R.status);h(new we(T,R.message))}else h(new we(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new we(re.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(Nn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);de(Nn,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=wv(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=VA(),u=MA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=i.join("");de(Nn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const m=l.createWebChannel(g,h);this.I_(m);let w=!1,S=!1;const R=new kB({Yo:P=>{S?de(Nn,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(w||(de(Nn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),w=!0),de(Nn,`RPC '${e}' stream ${s} sending:`,P),m.send(P))},Zo:()=>m.close()}),T=(P,D,V)=>{P.listen(D,(z=>{try{V(z)}catch(U){setTimeout((()=>{throw U}),0)}}))};return T(m,Su.EventType.OPEN,(()=>{S||(de(Nn,`RPC '${e}' stream ${s} transport opened.`),R.o_())})),T(m,Su.EventType.CLOSE,(()=>{S||(S=!0,de(Nn,`RPC '${e}' stream ${s} transport closed`),R.a_(),this.E_(m))})),T(m,Su.EventType.ERROR,(P=>{S||(S=!0,Ca(Nn,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),R.a_(new we(re.UNAVAILABLE,"The operation could not be completed")))})),T(m,Su.EventType.MESSAGE,(P=>{if(!S){const D=P.data[0];Ve(!!D,16349);const V=D,z=V?.error||V[0]?.error;if(z){de(Nn,`RPC '${e}' stream ${s} received error:`,z);const U=z.status;let $=(function(C){const N=Jt[C];if(N!==void 0)return NP(N)})(U),K=z.message;$===void 0&&($=re.INTERNAL,K="Unknown error status: "+U+" with message "+z.message),S=!0,R.a_(new we($,K)),m.close()}else de(Nn,`RPC '${e}' stream ${s} received:`,D),R.u_(D)}})),T(u,OA.STAT_EVENT,(P=>{P.stat===Jy.PROXY?de(Nn,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===Jy.NOPROXY&&de(Nn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(){return typeof window<"u"?window:null}function Sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(n){return new O$(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="PersistentStream";class hR{constructor(e,t,r,s,i,l,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dR(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?($n(t.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new we(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(CS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(CS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OB extends hR{constructor(e,t,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=L$(this.serializer,e),r=(function(i){if(!("targetChange"in i))return je.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?qn(l.readTime):je.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=pv(this.serializer),t.addTarget=(function(i,l){let u;const h=l.target;if(u=Jf(h)?{documents:zP(i,h)}:{query:UP(i,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=MP(i,l.resumeToken);const p=hv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=uc(i,l.snapshotVersion.toTimestamp());const p=hv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=j$(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=pv(this.serializer),t.removeTarget=e,this.q_(t)}}class MB extends hR{constructor(e,t,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=F$(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=pv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>np(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{}class LB extends VB{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,l])=>this.connection.Go(e,fv(t,r),s,i,l))).catch((i=>{throw i.name==="FirebaseError"?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(re.UNKNOWN,i.toString())}))}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,fv(t,r),s,l,u,i))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(re.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($n(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class jB{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{za(this)&&(de(Da,"Restarting streams for network reachability change."),await(async function(h){const p=Ze(h);p.Ea.add(4),await Sd(p),p.Ra.set("Unknown"),p.Ea.delete(4),await am(p)})(this))}))})),this.Ra=new FB(r,s)}}async function am(n){if(za(n))for(const e of n.da)await e(!0)}async function Sd(n){for(const e of n.da)await e(!1)}function fR(n,e){const t=Ze(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),sw(t)?rw(t):bc(t).O_()&&nw(t,e))}function tw(n,e){const t=Ze(n),r=bc(t);t.Ia.delete(e),r.O_()&&pR(t,e),t.Ia.size===0&&(r.O_()?r.L_():za(t)&&t.Ra.set("Unknown"))}function nw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bc(n).Y_(e)}function pR(n,e){n.Va.Ue(e),bc(n).Z_(e)}function rw(n){n.Va=new R$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),bc(n).start(),n.Ra.ua()}function sw(n){return za(n)&&!bc(n).x_()&&n.Ia.size>0}function za(n){return Ze(n).Ea.size===0}function mR(n){n.Va=void 0}async function zB(n){n.Ra.set("Online")}async function UB(n){n.Ia.forEach(((e,t)=>{nw(n,e)}))}async function $B(n,e){mR(n),sw(n)?(n.Ra.ha(e),rw(n)):n.Ra.set("Unknown")}async function BB(n,e,t){if(n.Ra.set("Online"),e instanceof OP&&e.state===2&&e.cause)try{await(async function(s,i){const l=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(n,e)}catch(r){de(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ap(n,r)}else if(e instanceof bf?n.Va.Ze(e):e instanceof DP?n.Va.st(e):n.Va.tt(e),!t.isEqual(je.min()))try{const r=await cR(n.localStore);t.compareTo(r)>=0&&await(function(i,l){const u=i.Va.Tt(l);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.Ia.get(p);g&&i.Ia.set(p,g.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,p)=>{const g=i.Ia.get(h);if(!g)return;i.Ia.set(h,g.withResumeToken(nn.EMPTY_BYTE_STRING,g.snapshotVersion)),pR(i,h);const m=new ho(g.target,h,p,g.sequenceNumber);nw(i,m)})),i.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){de(Da,"Failed to raise snapshot:",r),await ap(n,r)}}async function ap(n,e,t){if(!Ri(e))throw e;n.Ea.add(1),await Sd(n),n.Ra.set("Offline"),t||(t=()=>cR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Da,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await am(n)}))}function gR(n,e){return e().catch((t=>ap(n,t,e)))}async function Id(n){const e=Ze(n),t=Ii(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pa;for(;qB(e);)try{const s=await IB(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,HB(e,s)}catch(s){await ap(e,s)}yR(e)&&vR(e)}function qB(n){return za(n)&&n.Ta.length<10}function HB(n,e){n.Ta.push(e);const t=Ii(n);t.O_()&&t.X_&&t.ea(e.mutations)}function yR(n){return za(n)&&!Ii(n).x_()&&n.Ta.length>0}function vR(n){Ii(n).start()}async function WB(n){Ii(n).ra()}async function GB(n){const e=Ii(n);for(const t of n.Ta)e.ea(t.mutations)}async function KB(n,e,t){const r=n.Ta.shift(),s=q_.from(r,e,t);await gR(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Id(n)}async function ZB(n,e){e&&Ii(n).X_&&await(async function(r,s){if((function(l){return C$(l)&&l!==re.ABORTED})(s.code)){const i=r.Ta.shift();Ii(r).B_(),await gR(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Id(r)}})(n,e),yR(n)&&vR(n)}async function AS(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),de(Da,"RemoteStore received new credentials");const r=za(t);t.Ea.add(3),await Sd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await am(t)}async function QB(n,e){const t=Ze(n);e?(t.Ea.delete(2),await am(t)):e||(t.Ea.add(2),await Sd(t),t.Ra.set("Unknown"))}function bc(n){return n.ma||(n.ma=(function(t,r,s){const i=Ze(t);return i.sa(),new OB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:zB.bind(null,n),t_:UB.bind(null,n),r_:$B.bind(null,n),H_:BB.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),sw(n)?rw(n):n.Ra.set("Unknown")):(await n.ma.stop(),mR(n))}))),n.ma}function Ii(n){return n.fa||(n.fa=(function(t,r,s){const i=Ze(t);return i.sa(),new MB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:WB.bind(null,n),r_:ZB.bind(null,n),ta:GB.bind(null,n),na:KB.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Id(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Da,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const l=Date.now()+r,u=new ow(e,t,l,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iw(n,e){if($n("AsyncQueue",`${e}: ${n}`),Ri(n))return new we(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{static emptySet(e){return new ql(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Iu(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ql)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ql;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.ga=new Ot(Ee.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class dc{constructor(e,t,r,s,i,l,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,i){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new dc(e,t,ql.emptySet(t),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class XB{constructor(){this.queries=RS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ze(t),i=s.queries;s.queries=RS(),i.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new we(re.ABORTED,"Firestore shutting down"))}}function RS(){return new So((n=>_P(n)),Jp)}async function aw(n,e){const t=Ze(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new YB,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=iw(l,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&cw(t)}async function lw(n,e){const t=Ze(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const l=i.Sa.indexOf(e);l>=0&&(i.Sa.splice(l,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function JB(n,e){const t=Ze(n);let r=!1;for(const s of e){const i=s.query,l=t.queries.get(i);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&cw(t)}function e8(n,e,t){const r=Ze(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function cw(n){n.Ca.forEach((e=>{e.next()}))}var Ev,kS;(kS=Ev||(Ev={})).Ma="default",kS.Cache="cache";class uw{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ev.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.key=e}}class wR{constructor(e){this.key=e}}class t8{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=wP(e),this.tu=new ql(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new PS,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,m)=>{const w=s.get(g),S=Ed(this.query,m)?m:null,R=!!w&&this.mutatedKeys.has(w.key),T=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;w&&S?w.data.isEqual(S.data)?R!==T&&(r.track({type:3,doc:S}),P=!0):this.su(w,S)||(r.track({type:2,doc:S}),P=!0,(h&&this.eu(S,h)>0||p&&this.eu(S,p)<0)&&(u=!0)):!w&&S?(r.track({type:0,doc:S}),P=!0):w&&!S&&(r.track({type:1,doc:w}),P=!0,(h||p)&&(u=!0)),P&&(S?(l=l.add(S),i=T?i.add(g):i.delete(g)):(l=l.delete(g),i=i.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),i=i.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,m)=>(function(S,R){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:P})}};return T(S)-T(R)})(g.type,m.type)||this.eu(g.doc,m.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,p=h!==this.Za;return this.Za=h,l.length!==0||p?{snapshot:new dc(this.query,e.tu,i,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new wR(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new _R(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return dc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dw="SyncEngine";class n8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class r8{constructor(e){this.key=e,this.hu=!1}}class s8{constructor(e,t,r,s,i,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new So((u=>_P(u)),Jp),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Ee.comparator),this.Au=new Map,this.Ru=new Q_,this.Vu={},this.mu=new Map,this.fu=Na.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function o8(n,e,t=!0){const r=TR(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await ER(r,e,t,!0),s}async function i8(n,e){const t=TR(n);await ER(t,e,!0,!1)}async function ER(n,e,t,r){const s=await TB(n.localStore,Lr(e)),i=s.targetId,l=n.sharedClientState.addLocalQueryTarget(i,t);let u;return r&&(u=await a8(n,e,i,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&fR(n.remoteStore,s),u}async function a8(n,e,t,r,s){n.pu=(m,w,S)=>(async function(T,P,D,V){let z=P.view.ru(D);z.Cs&&(z=await xS(T.localStore,P.query,!1).then((({documents:A})=>P.view.ru(A,z))));const U=V&&V.targetChanges.get(P.targetId),$=V&&V.targetMismatches.get(P.targetId)!=null,K=P.view.applyChanges(z,T.isPrimaryClient,U,$);return DS(T,P.targetId,K.au),K.snapshot})(n,m,w,S);const i=await xS(n.localStore,e,!0),l=new t8(e,i.Qs),u=l.ru(i.documents),h=xd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(u,n.isPrimaryClient,h);DS(n,t,p.au);const g=new n8(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function l8(n,e,t){const r=Ze(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((l=>!Jp(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _v(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&tw(r.remoteStore,s.targetId),bv(r,s.targetId)})).catch(ja)):(bv(r,s.targetId),await _v(r.localStore,s.targetId,!0))}async function c8(n,e){const t=Ze(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),tw(t.remoteStore,r.targetId))}async function u8(n,e,t){const r=CR(n);try{const s=await(function(l,u){const h=Ze(l),p=_t.now(),g=u.reduce(((S,R)=>S.add(R.key)),et());let m,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let R=_r(),T=et();return h.Ns.getEntries(S,g).next((P=>{R=P,R.forEach(((D,V)=>{V.isValidDocument()||(T=T.add(D))}))})).next((()=>h.localDocuments.getOverlayedDocuments(S,R))).next((P=>{m=P;const D=[];for(const V of u){const z=I$(V,m.get(V.key).overlayedDocument);z!=null&&D.push(new Io(V.key,z,dP(z.value.mapValue),vn.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,D,u)})).next((P=>{w=P;const D=P.applyToLocalDocumentSet(m,T);return h.documentOverlayCache.saveOverlays(S,P.batchId,D)}))})).then((()=>({batchId:w.batchId,changes:bP(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let p=l.Vu[l.currentUser.toKey()];p||(p=new Ot(Ke)),p=p.insert(u,h),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,t),await Td(r,s.changes),await Id(r.remoteStore)}catch(s){const i=iw(s,"Failed to persist write");t.reject(i)}}async function bR(n,e){const t=Ze(n);try{const r=await xB(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const l=t.Au.get(i);l&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ve(l.hu,14607):s.removedDocuments.size>0&&(Ve(l.hu,42227),l.hu=!1))})),await Td(t,r,e)}catch(r){await ja(r)}}function NS(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Ze(l);h.onlineState=u;let p=!1;h.queries.forEach(((g,m)=>{for(const w of m.Sa)w.va(u)&&(p=!0)})),p&&cw(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d8(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let l=new Ot(Ee.comparator);l=l.insert(i,Bt.newNoDocument(i,je.min()));const u=et().add(i),h=new nm(je.min(),new Map,new Ot(Ke),l,u);await bR(r,h),r.du=r.du.remove(i),r.Au.delete(e),hw(r)}else await _v(r.localStore,e,!1).then((()=>bv(r,e,t))).catch(ja)}async function h8(n,e){const t=Ze(n),r=e.batch.batchId;try{const s=await bB(t.localStore,e);SR(t,r,null),xR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Td(t,s)}catch(s){await ja(s)}}async function f8(n,e,t){const r=Ze(n);try{const s=await(function(l,u){const h=Ze(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,u).next((m=>(Ve(m!==null,37113),g=m.keys(),h.mutationQueue.removeMutationBatch(p,m)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);SR(r,e,t),xR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Td(r,s)}catch(s){await ja(s)}}function xR(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function SR(n,e,t){const r=Ze(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function bv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||IR(n,r)}))}function IR(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(tw(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),hw(n))}function DS(n,e,t){for(const r of t)r instanceof _R?(n.Ru.addReference(r.key,e),p8(n,r)):r instanceof wR?(de(dw,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||IR(n,r.key)):De(19791,{wu:r})}function p8(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(de(dw,"New document in limbo: "+t),n.Eu.add(r),hw(n))}function hw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(yt.fromString(e)),r=n.fu.next();n.Au.set(r,new r8(t)),n.du=n.du.insert(t,r),fR(n.remoteStore,new ho(Lr(wd(t.path)),r,"TargetPurposeLimboResolution",Mr.ce))}}async function Td(n,e,t){const r=Ze(n),s=[],i=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(p){s.push(p);const g=J_.As(h.targetId,p);i.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(h,p){const g=Ze(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Z.forEach(p,(w=>Z.forEach(w.Es,(S=>g.persistence.referenceDelegate.addReference(m,w.targetId,S))).next((()=>Z.forEach(w.ds,(S=>g.persistence.referenceDelegate.removeReference(m,w.targetId,S)))))))))}catch(m){if(!Ri(m))throw m;de(ew,"Failed to update sequence numbers: "+m)}for(const m of p){const w=m.targetId;if(!m.fromCache){const S=g.Ms.get(w),R=S.snapshotVersion,T=S.withLastLimboFreeSnapshotVersion(R);g.Ms=g.Ms.insert(w,T)}}})(r.localStore,i))}async function m8(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){de(dw,"User change. New user:",e.toKey());const r=await lR(t.localStore,e);t.currentUser=e,(function(i,l){i.mu.forEach((u=>{u.forEach((h=>{h.reject(new we(re.CANCELLED,l))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Td(t,r.Ls)}}function g8(n,e){const t=Ze(n),r=t.Au.get(e);if(r&&r.hu)return et().add(r.key);{let s=et();const i=t.Iu.get(e);if(!i)return s;for(const l of i){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function TR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d8.bind(null,e),e.Pu.H_=JB.bind(null,e.eventManager),e.Pu.yu=e8.bind(null,e.eventManager),e}function CR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f8.bind(null,e),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=im(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return aR(this.persistence,new iR,e.initialUser,this.serializer)}Cu(e){return new Y_(om.mi,this.serializer)}Du(e){return new uR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class y8 extends id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ve(this.persistence.referenceDelegate instanceof ip,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tR(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new Y_((r=>ip.mi(r,t)),this.serializer)}}class v8 extends id{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await CR(this.xu.syncEngine),await Id(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return aR(this.persistence,new iR,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new tR(r,e.asyncQueue,t)}Mu(e,t){const r=new b9(t,this.persistence);return new E9(e.asyncQueue,r)}Cu(e){const t=vB(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new X_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,DB(),Sf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new uR}}class lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=m8.bind(null,this.syncEngine),await QB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XB})()}createDatastore(e){const t=im(e.databaseInfo.databaseId),r=(function(i){return new NB(i)})(e.databaseInfo);return(function(i,l,u,h){return new LB(i,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,l,u){return new jB(r,s,i,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>NS(this.syncEngine,t,0)),(function(){return TS.v()?new TS:new AB})())}createSyncEngine(e,t){return(function(s,i,l,u,h,p,g){const m=new s8(s,i,l,u,h,p);return g&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ze(t);de(Da,"RemoteStore shutting down."),r.Ea.add(5),await Sd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="FirestoreClient";class _8{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=xn.UNAUTHENTICATED,this.clientId=P_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async l=>{de(Ti,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(de(Ti,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=iw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wy(n,e){n.asyncQueue.verifyOperationInProgress(),de(Ti,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await lR(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function OS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await w8(n);de(Ti,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>AS(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>AS(e.remoteStore,s))),n._onlineComponents=e}async function w8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Ti,"Using user provided OfflineComponentProvider");try{await wy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Ca("Error using user provided cache. Falling back to memory cache: "+t),await wy(n,new id)}}else de(Ti,"Using default OfflineComponentProvider"),await wy(n,new y8(void 0));return n._offlineComponents}async function AR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Ti,"Using user provided OnlineComponentProvider"),await OS(n,n._uninitializedComponentsProvider._online)):(de(Ti,"Using default OnlineComponentProvider"),await OS(n,new lp))),n._onlineComponents}function E8(n){return AR(n).then((e=>e.syncEngine))}async function cp(n){const e=await AR(n),t=e.eventManager;return t.onListen=o8.bind(null,e.syncEngine),t.onUnlisten=l8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=i8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=c8.bind(null,e.syncEngine),t}function b8(n,e,t={}){const r=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,p){const g=new fw({next:w=>{g.Nu(),l.enqueueAndForget((()=>lw(i,m)));const S=w.docs.has(u);!S&&w.fromCache?p.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&h&&h.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),m=new uw(wd(u.path),g,{includeMetadataChanges:!0,qa:!0});return aw(i,m)})(await cp(n),n.asyncQueue,e,t,r))),r.promise}function x8(n,e,t={}){const r=new Vs;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,p){const g=new fw({next:w=>{g.Nu(),l.enqueueAndForget((()=>lw(i,m))),w.fromCache&&h.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),m=new uw(u,g,{includeMetadataChanges:!0,qa:!0});return aw(i,m)})(await cp(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firestore.googleapis.com",VS=!0;class LS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RR,this.ssl=VS}else this.host=e.host,this.ssl=e.ssl??VS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tB)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new a9;switch(r.type){case"firstParty":return new d9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=MS.get(t);r&&(de("ComponentProvider","Removing Datastore"),MS.delete(t),r.terminate())})(this),Promise.resolve()}}function S8(n,e,t,r={}){n=Bn(n,lm);const s=vc(e),i=n._getSettings(),l={...i,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(_A(`https://${u}`),wA("Firestore",!0)),i.host!==RR&&i.host!==u&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...i,host:u,ssl:s,emulatorOptions:r};if(!Sa(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=xn.MOCK_USER;else{p=Mz(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new xn(m)}n._authCredentials=new l9(new FA(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cd(this.firestore,e,this._query)}}class Gt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(yd(t,Gt._jsonSchema))return new Gt(e,r||null,new Ee(yt.fromString(t.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:tn("string",Gt._jsonSchemaVersion),referencePath:tn("string")};class wi extends Cd{constructor(e,t,r){super(e,t,wd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new Ee(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function kR(n,e,...t){if(n=In(n),zA("collection","path",e),n instanceof lm){const r=yt.fromString(e,...t);return Cx(r),new wi(n,null,r)}{if(!(n instanceof Gt||n instanceof wi))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return Cx(r),new wi(n.firestore,null,r)}}function Ci(n,e,...t){if(n=In(n),arguments.length===1&&(e=P_.newId()),zA("doc","path",e),n instanceof lm){const r=yt.fromString(e,...t);return Tx(r),new Gt(n,null,new Ee(r))}{if(!(n instanceof Gt||n instanceof wi))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return Tx(r),new Gt(n.firestore,n instanceof wi?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="AsyncQueue";class jS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dR(this,"async_queue_retry"),this._c=()=>{const r=Sf();r&&de(FS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Sf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Sf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ri(e))throw e;de(FS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,$n("INTERNAL UNHANDLED ERROR: ",zS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=ow.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&De(47125,{Pc:zS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function zS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(n,["next","error","complete"])}class Bs extends lm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new jS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jS(e),this._firestoreClient=void 0,await e}}}function I8(n,e){const t=typeof n=="object"?n:AA(),r=typeof n=="string"?n:Yf,s=C_(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Dz("firestore");i&&S8(s,...i)}return s}function Ad(n){if(n._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NR(n),n._firestoreClient}function NR(n){const e=n._freezeSettings(),t=(function(s,i,l,u){return new Y9(s,i,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,PR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new _8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}function T8(n,e){Ca("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return C8(n,lp.provider,{build:r=>new v8(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function C8(n,e,t){if((n=Bn(n,Bs))._firestoreClient||n._terminated)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new we(re.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},NR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Or(nn.fromBase64String(e))}catch(t){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Or(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yd(e,Or._jsonSchema))return Or.fromBase64String(e.bytes)}}Or._jsonSchemaVersion="firestore/bytes/1.0",Or._jsonSchema={type:tn("string",Or._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(yd(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:tn("string",Ls._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yd(e,Fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Fs(e.vectorValues);throw new we(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fs._jsonSchemaVersion="firestore/vectorValue/1.0",Fs._jsonSchema={type:tn("string",Fs._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=/^__.*__$/;class P8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ec(e,this.data,t,this.fieldTransforms)}}class DR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Io(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:n})}}class mw{constructor(e,t,r,s,i,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return up(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OR(this.Ac)&&A8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class R8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||im(e)}Cc(e,t,r,s=!1){return new mw({Ac:e,methodName:t,Dc:r,path:jt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gw(n){const e=n._freezeSettings(),t=im(n._databaseId);return new R8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MR(n,e,t,r,s,i={}){const l=n.Cc(i.merge||i.mergeFields?2:0,e,t,s);yw("Data must be an object, but it was:",l,r);const u=FR(r,l);let h,p;if(i.merge)h=new rr(l.fieldMask),p=l.fieldTransforms;else if(i.mergeFields){const g=[];for(const m of i.mergeFields){const w=xv(e,m,t);if(!l.contains(w))throw new we(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);zR(g,w)||g.push(w)}h=new rr(g),p=l.fieldTransforms.filter((m=>h.covers(m.field)))}else h=null,p=l.fieldTransforms;return new P8(new Mn(u),h,p)}class cm extends pw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cm}}function VR(n,e,t,r){const s=n.Cc(1,e,t);yw("Data must be an object, but it was:",s,r);const i=[],l=Mn.empty();ki(r,((h,p)=>{const g=vw(e,h,t);p=In(p);const m=s.yc(g);if(p instanceof cm)i.push(g);else{const w=um(p,m);w!=null&&(i.push(g),l.set(g,w))}}));const u=new rr(i);return new DR(l,u,s.fieldTransforms)}function LR(n,e,t,r,s,i){const l=n.Cc(1,e,t),u=[xv(e,r,t)],h=[s];if(i.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<i.length;w+=2)u.push(xv(e,i[w])),h.push(i[w+1]);const p=[],g=Mn.empty();for(let w=u.length-1;w>=0;--w)if(!zR(p,u[w])){const S=u[w];let R=h[w];R=In(R);const T=l.yc(S);if(R instanceof cm)p.push(S);else{const P=um(R,T);P!=null&&(p.push(S),g.set(S,P))}}const m=new rr(p);return new DR(g,m,l.fieldTransforms)}function um(n,e){if(jR(n=In(n)))return yw("Unsupported field value:",e,n),FR(n,e);if(n instanceof pw)return(function(r,s){if(!OR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let l=0;for(const u of r){let h=um(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),l++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=In(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_t.fromDate(r);return{timestampValue:uc(s.serializer,i)}}if(r instanceof _t){const i=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uc(s.serializer,i)}}if(r instanceof Ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Or)return{bytesValue:MP(s.serializer,r._byteString)};if(r instanceof Gt){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:G_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Fs)return(function(l,u){return{mapValue:{fields:{[F_]:{stringValue:j_},[sc]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return $_(u.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${R_(r)}`)})(n,e)}function FR(n,e){const t={};return nP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(n,((r,s)=>{const i=um(s,e.mc(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function jR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof Ls||n instanceof Or||n instanceof Gt||n instanceof pw||n instanceof Fs)}function yw(n,e,t){if(!jR(t)||!UA(t)){const r=R_(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function xv(n,e,t){if((e=In(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return vw(n,e);throw up("Field path arguments must be of type string or ",n,!1,void 0,t)}const k8=new RegExp("[~\\*/\\[\\]]");function vw(n,e,t){if(e.search(k8)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pd(...e.split("."))._internalPath}catch{throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function up(n,e,t,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(i||l)&&(h+=" (found",i&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new we(re.INVALID_ARGUMENT,u+n+h)}function zR(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($R("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N8 extends UR{data(){return super.data()}}function $R(n,e){return typeof e=="string"?vw(n,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D8{convertValue(e,t="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ki(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){const t=e.fields?.[sc].arrayValue?.values?.map((r=>Dt(r.doubleValue)));return new Fs(t)}convertGeoPoint(e){return new Ls(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const t=_o(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yt.fromString(e);Ve(HP(r),9688,{name:e});const s=new Aa(r.get(1),r.get(3)),i=new Ee(r.popFirst(5));return s.isEqual(t)||$n(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends UR{constructor(e,t,r,s,i,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($R("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ya._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:tn("string",ya._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class If extends ya{data(e={}){return super.data(e)}}class va{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Au(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new If(this._firestore,this._userDataWriter,r.key,r,new Au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new If(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Au(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>i||u.type!==3)).map((u=>{const h=new If(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Au(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:O8(u.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=P_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function O8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(n){n=Bn(n,Gt);const e=Bn(n.firestore,Bs);return b8(Ad(e),n._key).then((t=>HR(e,n,t)))}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:tn("string",va._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class _w extends D8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}function M8(n){n=Bn(n,Cd);const e=Bn(n.firestore,Bs),t=Ad(e),r=new _w(e);return BR(n._query),x8(t,n._query).then((s=>new va(e,r,n,s)))}function V8(n,e,t){n=Bn(n,Gt);const r=Bn(n.firestore,Bs),s=qR(n.converter,e,t);return dm(r,[MR(gw(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,vn.none())])}function L8(n,e,t,...r){n=Bn(n,Gt);const s=Bn(n.firestore,Bs),i=gw(s);let l;return l=typeof(e=In(e))=="string"||e instanceof Pd?LR(i,"updateDoc",n._key,e,t,r):VR(i,"updateDoc",n._key,e),dm(s,[l.toMutation(n._key,vn.exists(!0))])}function F8(n){return dm(Bn(n.firestore,Bs),[new bd(n._key,vn.none())])}function j8(n,...e){n=In(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||US(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(US(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let i,l,u;if(n instanceof Gt)l=Bn(n.firestore,Bs),u=wd(n._key.path),i={next:h=>{e[r]&&e[r](HR(l,n,h))},error:e[r+1],complete:e[r+2]};else{const h=Bn(n,Cd);l=Bn(h.firestore,Bs),u=h._query;const p=new _w(l);i={next:g=>{e[r]&&e[r](new va(l,p,h,g))},error:e[r+1],complete:e[r+2]},BR(n._query)}return(function(p,g,m,w){const S=new fw(w),R=new uw(g,S,m);return p.asyncQueue.enqueueAndForget((async()=>aw(await cp(p),R))),()=>{S.Nu(),p.asyncQueue.enqueueAndForget((async()=>lw(await cp(p),R)))}})(Ad(l),u,s,i)}function dm(n,e){return(function(r,s){const i=new Vs;return r.asyncQueue.enqueueAndForget((async()=>u8(await E8(r),s,i))),i.promise})(Ad(n),e)}function HR(n,e,t){const r=t.docs.get(e._key),s=new _w(n);return new ya(n,s,e._key,r,new Au(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gw(e)}set(e,t,r){this._verifyNotCommitted();const s=Ey(e,this._firestore),i=qR(s.converter,t,r),l=MR(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(l.toMutation(s._key,vn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const i=Ey(e,this._firestore);let l;return l=typeof(t=In(t))=="string"||t instanceof Pd?LR(this._dataReader,"WriteBatch.update",i._key,t,r,s):VR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(l.toMutation(i._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ey(e,this._firestore);return this._mutations=this._mutations.concat(new bd(t._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ey(n,e){if((n=In(n)).firestore!==e)throw new we(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(n){return Ad(n=Bn(n,Bs)),new z8(n,(e=>dm(n,e)))}(function(e,t=!0){(function(s){wc=s})(_c),Xl(new Ia("firestore",((r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),u=new Bs(new c9(r.getProvider("auth-internal")),new h9(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(p.options.projectId,g)})(l,s),l);return i={useFetchStreams:t,...i},u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),yi(bx,xx,e),yi(bx,xx,"esm2020")})();function U8(){return console.warn("Firebase not configured. Running in local-only mode."),null}async function $8(n){}async function WR(n,e){}async function B8(n){}const ye={INVENTORY:"wms_inventory",SUPPLIERS:"wms_suppliers",CUSTOMERS:"wms_customers",SHIPMENTS:"wms_shipments",PURCHASE_ORDERS:"wms_purchase_orders",SALES_ORDERS:"wms_sales_orders",CASH_BANK:"wms_cash_bank",PAYMENTS:"wms_payments",CATEGORIES:"wms_categories"};function be(n,e){try{const t=JSON.stringify(e);localStorage.setItem(n,t)}catch(t){console.error(`Failed to save to localStorage (${n}):`,t)}}function To(n,e){try{const t=localStorage.getItem(n);return t===null?e:JSON.parse(t)}catch(t){return console.error(`Failed to load from localStorage (${n}):`,t),e}}const q8=[{id:"INV-001",name:"Laptop Computer",category:"Electronics",quantity:145,location:"A-12",status:"In Stock",brand:"Dell",pricePerPiece:899.99,supplierId:"SUP-001",quantityPurchased:200,quantitySold:55,reorderRequired:!1,description:"15.6-inch display, Intel Core i7 processor, 16GB RAM, 512GB SSD. Perfect for business and professional use with long battery life and lightweight design."},{id:"INV-002",name:"Office Chair",category:"Furniture",quantity:23,location:"B-08",status:"Low Stock",brand:"Herman Miller",pricePerPiece:549,supplierId:"SUP-002",quantityPurchased:100,quantitySold:77,reorderRequired:!0,description:"Ergonomic office chair with adjustable lumbar support, armrests, and seat height. Breathable mesh back for all-day comfort."},{id:"INV-003",name:"Standing Desk",category:"Furniture",quantity:67,location:"B-05",status:"In Stock",brand:"Uplift",pricePerPiece:799,supplierId:"SUP-002",quantityPurchased:120,quantitySold:53,reorderRequired:!1,description:"Electric height-adjustable standing desk with memory presets. 60x30 inch bamboo top with cable management system."},{id:"INV-004",name:"Wireless Mouse",category:"Electronics",quantity:8,location:"A-15",status:"Critical",brand:"Logitech",pricePerPiece:29.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:142,reorderRequired:!0,description:"Ergonomic wireless mouse with customizable buttons and long battery life. 2.4GHz wireless connection with USB receiver."},{id:"INV-005",name:"USB-C Cable",category:"Electronics",quantity:234,location:"A-20",status:"In Stock",brand:"Anker",pricePerPiece:12.99,supplierId:"SUP-001",quantityPurchased:500,quantitySold:266,reorderRequired:!1,description:"Premium braided USB-C to USB-C cable, 6ft length. Supports fast charging up to 100W and data transfer speeds up to 480Mbps."},{id:"INV-006",name:'Monitor 27"',category:"Electronics",quantity:89,location:"A-10",status:"In Stock",brand:"LG",pricePerPiece:349.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:61,reorderRequired:!1,description:"27-inch 4K UHD IPS display with HDR10 support. USB-C connectivity with 65W power delivery. Ideal for creative professionals."},{id:"INV-007",name:"Keyboard Mechanical",category:"Electronics",quantity:156,location:"A-14",status:"In Stock",brand:"Corsair",pricePerPiece:129.99,supplierId:"SUP-001",quantityPurchased:250,quantitySold:94,reorderRequired:!1,description:"Full-size mechanical keyboard with Cherry MX Brown switches. RGB backlighting with dedicated media controls and USB passthrough."},{id:"INV-008",name:"Filing Cabinet",category:"Furniture",quantity:34,location:"B-03",status:"In Stock",brand:"Steelcase",pricePerPiece:299,supplierId:"SUP-002",quantityPurchased:60,quantitySold:26,reorderRequired:!1,description:"4-drawer vertical filing cabinet with full-extension drawers. Built-in lock for security. Holds letter and legal size documents."}],H8=[],W8=[],G8=[],K8=[],Z8=[];function Q8(n){return n.map(e=>{if(e.quantityPurchased===void 0||e.quantitySold===void 0||e.reorderRequired===void 0){const{reorderLevel:r,maintainStockAt:s,minimumStock:i,...l}=e,u=e.quantityPurchased??Math.floor(e.quantity*1.5),h=e.quantitySold??Math.floor(u-e.quantity),p=e.reorderRequired??e.quantity<=(e.minimumStock??e.reorderLevel??20);return{...l,brand:e.brand||"Unknown",pricePerPiece:e.pricePerPiece??0,supplierId:e.supplierId||"SUP-001",quantityPurchased:u,quantitySold:h,reorderRequired:p}}return e})}function Y8(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalPaid??0,s=e.poDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,poDate:s,supplierCountry:e.supplierCountry??"",supplierCity:e.supplierCity??"",billNumber:e.billNumber??"",items:e.items??[],totalAmount:t,totalPaid:r,poBalance:e.poBalance??t-r,status:e.status??"Draft",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s}})}function X8(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function J8(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function e7(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalReceived??0,s=e.soDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,soDate:s,customerCountry:e.customerCountry??"",customerCity:e.customerCity??"",invoiceNumber:e.invoiceNumber??"",items:e.items??[],totalAmount:t,totalReceived:r,soBalance:e.soBalance??t-r,receiptStatus:e.receiptStatus??"Unpaid",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s,archived:e.archived??!1}})}const t7=[{name:"Electronics",subcategories:["Phones","Laptops","Tablets","Accessories","Monitors"]},{name:"Furniture",subcategories:["Desks","Chairs","Cabinets","Shelving"]},{name:"Clothing",subcategories:["Shirts","Pants","Shoes","Accessories"]},{name:"Food & Beverages",subcategories:["Beverages","Snacks","Canned Goods","Fresh Produce"]}];let Ps=Q8(To(ye.INVENTORY,q8)),Xe=X8(To(ye.SUPPLIERS,H8)),ot=J8(To(ye.CUSTOMERS,W8)),en=To(ye.SHIPMENTS,G8),Pe=Y8(To(ye.PURCHASE_ORDERS,K8)),it=e7(To(ye.SALES_ORDERS,Z8)),Dr=To(ye.CATEGORIES,t7);be(ye.INVENTORY,Ps);be(ye.SUPPLIERS,Xe);be(ye.CUSTOMERS,ot);be(ye.PURCHASE_ORDERS,Pe);be(ye.SALES_ORDERS,it);be(ye.CATEGORIES,Dr);const n7=U8();n7&&$8(Ps.filter(n=>!n.archived));function r7(n,e){return n<=0?"Critical":e?"Low Stock":"In Stock"}function s7(){const e=Xe.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SUP-${String(e).padStart(3,"0")}`}function o7(){const e=ot.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`CUS-${String(e).padStart(3,"0")}`}function i7(){const e=Pe.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`PO-${String(e).padStart(3,"0")}`}function a7(){const e=it.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SO-${String(e).padStart(3,"0")}`}function xe(n,e=150){return new Promise(t=>setTimeout(()=>t(n),e))}async function QH(){return xe([...Ps])}async function l7(){return xe([...Xe])}async function YH(n){const e=n.id&&n.id.trim()!==""?n.id:s7();if(Xe.some(l=>l.id===e))throw new Error(`Supplier with id ${e} already exists`);const t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name.trim(),contact:n.contact.trim(),email:n.email.trim(),phone:n.phone.trim(),category:n.category.trim(),status:n.status??"Active",country:n.country?.trim()??"",city:n.city?.trim()??"",address:n.address?.trim()??"",purchases:t,payments:r,balance:s};return Xe=[i,...Xe],be(ye.SUPPLIERS,Xe),xe(i)}async function XH(n){const e=Xe.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Supplier not found");const t=Xe[e],r=n.purchases!==void 0?n.purchases:t.purchases,s=n.payments!==void 0?n.payments:t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return Xe[e]=l,be(ye.SUPPLIERS,Xe),xe(l)}async function JH(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!0,archivedAt:new Date().toISOString()},be(ye.SUPPLIERS,Xe),xe(Xe[e])}async function eW(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!1,archivedAt:void 0},be(ye.SUPPLIERS,Xe),xe(Xe[e])}async function tW(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");Xe.splice(e,1),be(ye.SUPPLIERS,Xe),await xe(void 0)}async function nW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!0,archivedAt:new Date().toISOString()},t++}return be(ye.SUPPLIERS,Xe),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function rW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!1,archivedAt:void 0},t++}return be(ye.SUPPLIERS,Xe),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function sW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe.splice(s,1),t++}return be(ye.SUPPLIERS,Xe),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function oW(){return xe([...ot])}async function iW(n){const e=n.id&&n.id.trim()!==""?n.id:o7(),t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name,contact:n.contact,email:n.email,phone:n.phone,category:n.category,status:n.status??"Active",country:n.country??"",city:n.city??"",address:n.address??"",purchases:t,payments:r,balance:s};return ot.push(i),be(ye.CUSTOMERS,ot),xe(i)}async function aW(n){const e=ot.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Customer not found");const t=ot[e],r=n.purchases??t.purchases,s=n.payments??t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return ot[e]=l,be(ye.CUSTOMERS,ot),xe(l)}async function lW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!0,archivedAt:new Date().toISOString()};return ot[e]=t,be(ye.CUSTOMERS,ot),xe(t)}async function cW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!1,archivedAt:void 0};return ot[e]=t,be(ye.CUSTOMERS,ot),xe(t)}async function uW(n){const e=ot.findIndex(t=>t.id===n);if(e===-1)throw new Error("Customer not found");return ot.splice(e,1),be(ye.CUSTOMERS,ot),xe(void 0)}async function dW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return be(ye.CUSTOMERS,ot),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function hW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!0,archivedAt:new Date().toISOString()},t++}return be(ye.CUSTOMERS,ot),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function fW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!1,archivedAt:void 0},t++}return be(ye.CUSTOMERS,ot),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function pW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return be(ye.CUSTOMERS,ot),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function mW(n,e){const t=[];let r=0;for(const s of n){const i=ot.findIndex(l=>l.id===s);if(i===-1){t.push(`Customer ${s} not found`);continue}ot[i]={...ot[i],status:e},r++}return be(ye.CUSTOMERS,ot),xe({successCount:r,failedCount:t.length,errors:t.length>0?t:void 0})}async function c7(){return xe([...en])}async function gW(n){const e=n.id&&n.id.trim()!==""?n.id:(()=>{const s=en.map(i=>Number(i.id.replace(/[^0-9]/g,""))||0).reduce((i,l)=>Math.max(i,l),0)+1;return`SHIP-${String(s).padStart(4,"0")}`})();if(en.some(r=>r.id===e))throw new Error(`Shipment with id ${e} already exists`);const t={id:e,...n};return en=[t,...en],be(ye.SHIPMENTS,en),it.find(r=>r.id===t.salesOrderId),WR(),xe(t)}async function yW(n){const e=en.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Shipment not found");const r={...en[e],...n};return en[e]=r,be(ye.SHIPMENTS,en),it.find(s=>s.id===r.salesOrderId),WR(),xe(r)}async function vW(n){const e=en.findIndex(t=>t.id===n);if(e===-1)throw new Error("Shipment not found");en.splice(e,1),be(ye.SHIPMENTS,en),B8(),await xe(void 0)}async function _W(n){const e=[];let t=0;for(const r of n){const s=en.findIndex(i=>i.id===r);s===-1?e.push(`Shipment ${r} not found`):(en.splice(s,1),t++)}return be(ye.SHIPMENTS,en),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function wW(n,e){const t=[];let r=0;for(const s of n){const i=en.findIndex(l=>l.id===s);i===-1?t.push(`Shipment ${s} not found`):(en[i]={...en[i],status:e},r++)}return be(ye.SHIPMENTS,en),xe({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function EW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);s===-1?e.push(`Supplier ${r} not found`):(Xe.splice(s,1),t++)}return be(ye.SUPPLIERS,Xe),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function bW(n,e){const t=[];let r=0;for(const s of n){const i=Xe.findIndex(l=>l.id===s);i===-1?t.push(`Supplier ${s} not found`):(Xe[i]={...Xe[i],status:e},r++)}return be(ye.SUPPLIERS,Xe),xe({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function u7(){return xe([...Pe])}async function xW(n){const e=n.id&&n.id.trim()!==""?n.id:i7();if(Pe.some(l=>l.id===e))throw new Error(`Purchase Order with id ${e} already exists`);const t=n.items.reduce((l,u)=>l+u.totalPrice,0),r=n.totalPaid??0,s=n.poDate??new Date().toISOString().split("T")[0],i={id:e,poDate:s,supplierId:n.supplierId,supplierName:n.supplierName,supplierCountry:n.supplierCountry??"",supplierCity:n.supplierCity??"",billNumber:n.billNumber??"",items:n.items.map(l=>({...l,quantityReceived:0})),totalAmount:t,totalPaid:r,poBalance:t-r,status:"Draft",shippingStatus:"Pending",createdBy:n.createdBy,createdDate:s,approvedBy:null,approvedDate:null,receivedDate:null,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return Pe=[i,...Pe],be(ye.PURCHASE_ORDERS,Pe),xe(i)}async function SW(n){const e=Pe.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Purchase Order not found");const r={...Pe[e],...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),(n.items!==void 0||n.totalPaid!==void 0)&&(r.poBalance=r.totalAmount-r.totalPaid),Pe[e]=r,be(ye.PURCHASE_ORDERS,Pe),xe(r)}async function IW(n){const e=Pe.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Pe[e];if(t.status!=="Draft")throw new Error("Only Draft purchase orders can be submitted for approval");return Pe[e]={...t,status:"Pending Approval"},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[e])}async function TW(n,e){const t=Pe.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Pe[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be approved");return Pe[t]={...r,status:"Approved",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[t])}async function CW(n,e){const t=Pe.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Pe[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be rejected");return Pe[t]={...r,status:"Rejected",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[t])}async function AW(n){const e=Pe.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Pe[e];if(t.status!=="Approved")throw new Error("Only Approved purchase orders can be marked as ordered");return Pe[e]={...t,status:"Ordered"},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[e])}async function PW(n){const e=Pe.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Pe[e];if(["Received","Cancelled"].includes(t.status))throw new Error("Cannot cancel received or already cancelled purchase orders");return Pe[e]={...t,status:"Cancelled"},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[e])}async function RW(n,e,t){const r=Pe.findIndex(m=>m.id===n);if(r===-1)throw new Error("Purchase Order not found");const s=Pe[r];if(!["Ordered","Partially Received"].includes(s.status))throw new Error("Can only receive items for Ordered or Partially Received purchase orders");const i=[],l=s.items.map(m=>{const w=e.find(P=>P.inventoryItemId===m.inventoryItemId);if(!w)return m;const R=(m.quantityReceived??0)+w.quantityReceived;if(R>m.quantity)throw new Error(`Cannot receive more than ordered quantity for ${m.itemName}`);const T=Ps.findIndex(P=>P.id===m.inventoryItemId);if(T!==-1){const P=Ps[T].quantity,D=P+w.quantityReceived;Ps[T]={...Ps[T],quantity:D,status:r7(D,Ps[T].reorderLevel,Ps[T].maintainStockAt)},i.push({itemId:m.inventoryItemId,itemName:m.itemName,previousQty:P,newQty:D})}return{...m,quantityReceived:R}}),u=l.every(m=>(m.quantityReceived??0)>=m.quantity),h=l.some(m=>(m.quantityReceived??0)>0);let p=s.status,g=s.receivedDate;return u?(p="Received",g=new Date().toISOString().split("T")[0]):h&&(p="Partially Received"),Pe[r]={...s,items:l,status:p,receivedDate:g,actualCost:t??s.actualCost},be(ye.PURCHASE_ORDERS,Pe),be(ye.INVENTORY,Ps),xe({purchaseOrder:Pe[r],inventoryUpdates:i})}async function kW(n){const e=Pe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Pe[e]={...Pe[e],archived:!0,archivedAt:new Date().toISOString()},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[e])}async function NW(n){const e=Pe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Pe[e]={...Pe[e],archived:!1,archivedAt:void 0},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[e])}async function DW(n){const e=Pe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");Pe.splice(e,1),be(ye.PURCHASE_ORDERS,Pe),await xe(void 0)}async function OW(n){const e=[];let t=0;for(const r of n){const s=Pe.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Pe[s]={...Pe[s],archived:!0,archivedAt:new Date().toISOString()},t++)}return be(ye.PURCHASE_ORDERS,Pe),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function MW(n){const e=[];let t=0;for(const r of n){const s=Pe.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Pe[s]={...Pe[s],archived:!1,archivedAt:void 0},t++)}return be(ye.PURCHASE_ORDERS,Pe),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function VW(n){const e=[];let t=0;for(const r of n){const s=Pe.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Pe.splice(s,1),t++)}return be(ye.PURCHASE_ORDERS,Pe),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function LW(){return xe([...it])}async function FW(n){const e=n.id&&n.id.trim()!==""?n.id:a7();if(it.some(h=>h.id===e))throw new Error(`Sales Order with id ${e} already exists`);const t=n.items.reduce((h,p)=>h+p.totalPrice,0),r=n.totalReceived??0,s=t-r,i=n.soDate??new Date().toISOString().split("T")[0];let l=n.receiptStatus??"Unpaid";n.receiptStatus||(r>=t?l="Paid":r>0&&(l="Partially Paid"));const u={id:e,soDate:i,customerId:n.customerId,customerName:n.customerName,customerCountry:n.customerCountry??"",customerCity:n.customerCity??"",invoiceNumber:n.invoiceNumber??"",items:n.items.map(h=>({...h,quantityShipped:0})),totalAmount:t,totalReceived:r,soBalance:s,receiptStatus:l,shippingStatus:n.shippingStatus??"Pending",createdBy:n.createdBy,createdDate:i,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return it.push(u),be(ye.SALES_ORDERS,it),xe(u)}async function jW(n){const e=it.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Sales Order not found");const t=it[e],r={...t,...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),r.soBalance=r.totalAmount-r.totalReceived,n.totalReceived!==void 0&&n.receiptStatus===void 0&&(r.totalReceived>=r.totalAmount&&r.totalAmount>0?r.receiptStatus="Paid":r.totalReceived>0?r.receiptStatus="Partially Paid":t.receiptStatus!=="Overdue"&&(r.receiptStatus="Unpaid")),it[e]=r,be(ye.SALES_ORDERS,it),xe(r)}async function zW(n){const e=it.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return it.splice(e,1),be(ye.SALES_ORDERS,it),xe(void 0)}async function UW(n){const e=it.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return it[e]={...it[e],archived:!0,archivedAt:new Date().toISOString()},be(ye.SALES_ORDERS,it),xe(it[e])}async function $W(n){const e=it.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return it[e]={...it[e],archived:!1,archivedAt:void 0},be(ye.SALES_ORDERS,it),xe(it[e])}async function BW(n){const e=[];let t=0;for(const r of n){const s=it.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}it[s]={...it[s],archived:!0,archivedAt:new Date().toISOString()},t++}return be(ye.SALES_ORDERS,it),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function qW(n){const e=[];let t=0;for(const r of n){const s=it.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}it[s]={...it[s],archived:!1,archivedAt:void 0},t++}return be(ye.SALES_ORDERS,it),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function HW(n){const e=[];let t=0;for(const r of n){const s=it.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}if(!it[s].archived){e.push(`Sales Order ${r} must be archived before permanent deletion`);continue}it.splice(s,1),t++}return be(ye.SALES_ORDERS,it),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function WW(){return xe([...Dr])}async function GW(n){if(Dr.find(r=>r.name.toLowerCase()===n.toLowerCase()))throw new Error(`Category "${n}" already exists`);const t={name:n,subcategories:[]};return Dr=[...Dr,t],be(ye.CATEGORIES,Dr),xe(t)}async function KW(n,e){const t=Dr.findIndex(i=>i.name===n);if(t===-1)throw new Error(`Category "${n}" not found`);const r=Dr[t];if(r.subcategories.some(i=>i.toLowerCase()===e.toLowerCase()))throw new Error(`Subcategory "${e}" already exists in "${n}"`);const s={...r,subcategories:[...r.subcategories,e]};return Dr=[...Dr.slice(0,t),s,...Dr.slice(t+1)],be(ye.CATEGORIES,Dr),xe(s)}const d7=[{id:"TRX-001",trxDate:"2025-10-10",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Bank Transfer",amountReceived:14699.8,notes:"Full payment for SO-001",createdAt:"2025-10-10T10:30:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-002",invoiceNumber:"INV-2025-0502",paymentMode:"Credit Card",amountReceived:12e3,notes:"Partial payment for SO-002",createdAt:"2025-10-20T14:15:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Bank Transfer",amountReceived:7188,notes:"Full payment for furniture order",createdAt:"2025-11-05T09:00:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-005",invoiceNumber:"INV-2025-0495",paymentMode:"Check",amountReceived:3e3,notes:"Partial payment - overdue balance",createdAt:"2025-09-20T11:45:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-11-01",customerId:"CUS-002",customerName:"TechStart Inc",country:"United States",city:"Austin",soId:"SO-003",invoiceNumber:"INV-2025-0503",paymentMode:"Cash",amountReceived:500,notes:"Deposit for order",createdAt:"2025-11-01T16:30:00Z",createdBy:"2",archived:!1},{id:"TRX-006",trxDate:"2025-10-25",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Online Payment",amountReceived:2500,notes:"Additional payment for extended warranty",createdAt:"2025-10-25T13:00:00Z",createdBy:"1",archived:!1},{id:"TRX-007",trxDate:"2025-11-10",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Credit Card",amountReceived:1500,notes:"Additional items added to order",createdAt:"2025-11-10T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-10-15",customerId:"CUS-005",customerName:"Metro Supplies",country:"United States",city:"New York",soId:"SO-003",invoiceNumber:"INV-2025-0499",paymentMode:"Bank Transfer",amountReceived:850,notes:"Final payment clearing balance",createdAt:"2025-10-15T09:30:00Z",createdBy:"1",archived:!1}];let tt=To(ye.CASH_BANK,d7);tt=tt.map(n=>({...n,archived:n.archived??!1}));be(ye.CASH_BANK,tt);function h7(){const n=tt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function ZW(){return xe([...tt])}async function QW(n){const e=n.id||h7(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,customerId:n.customerId,customerName:n.customerName,country:n.country||"",city:n.city||"",soId:n.soId,invoiceNumber:n.invoiceNumber||"",paymentMode:n.paymentMode,amountReceived:n.amountReceived,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return tt=[...tt,r],be(ye.CASH_BANK,tt),xe(r)}async function YW(n){const e=tt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n.id} not found`);const t=tt[e],r={...t,trxDate:n.trxDate??t.trxDate,customerId:n.customerId??t.customerId,customerName:n.customerName??t.customerName,country:n.country??t.country,city:n.city??t.city,soId:n.soId??t.soId,invoiceNumber:n.invoiceNumber??t.invoiceNumber,paymentMode:n.paymentMode??t.paymentMode,amountReceived:n.amountReceived??t.amountReceived,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),r,...tt.slice(e+1)],be(ye.CASH_BANK,tt),xe(r)}async function XW(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...tt[e],archived:!0,archivedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],be(ye.CASH_BANK,tt),xe(t)}async function JW(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...tt[e],archived:!1,archivedAt:void 0};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],be(ye.CASH_BANK,tt),xe(t)}async function eG(n){if(tt.findIndex(t=>t.id===n)===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);return tt=tt.filter(t=>t.id!==n),be(ye.CASH_BANK,tt),xe(void 0)}async function tG(n){const e=new Date().toISOString(),t=[];return tt=tt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),be(ye.CASH_BANK,tt),xe(t)}async function nG(n){const e=[];return tt=tt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),be(ye.CASH_BANK,tt),xe(e)}async function rG(n){return tt=tt.filter(e=>!n.includes(e.id)),be(ye.CASH_BANK,tt),xe(void 0)}const f7=[{id:"TRX-001",trxDate:"2025-10-05",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-001",billNumber:"INV-2025-0142",paymentMode:"Bank Transfer",amountPaid:57998.5,notes:"Full payment for PO-001 - Q4 restock",createdAt:"2025-10-05T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Check",amountPaid:16225,notes:"50% deposit for office furniture",createdAt:"2025-10-20T14:30:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-005",billNumber:"FC-INV-4590",paymentMode:"Bank Transfer",amountPaid:4485,notes:"Full payment for filing cabinets",createdAt:"2025-11-05T09:15:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-28",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Credit Card",amountPaid:25e3,notes:"Partial payment for electronics shipment",createdAt:"2025-09-28T11:00:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-10-30",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Bank Transfer",amountPaid:25e3,notes:"Final payment for electronics shipment",createdAt:"2025-10-30T15:45:00Z",createdBy:"1",archived:!1},{id:"TRX-006",trxDate:"2025-11-02",supplierId:"SUP-005",supplierName:"Premium Parts Ltd",country:"United Kingdom",city:"London",poId:"PO-003",billNumber:"PP-UK-2025-456",paymentMode:"Online Payment",amountPaid:15e3,notes:"Payment for premium components",createdAt:"2025-11-02T08:30:00Z",createdBy:"2",archived:!1},{id:"TRX-007",trxDate:"2025-10-12",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-004",billNumber:"TS-INV-2025-234",paymentMode:"Cash",amountPaid:3500,notes:"Advance payment for monitor order",createdAt:"2025-10-12T13:20:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-11-08",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Bank Transfer",amountPaid:8e3,notes:"Second installment for furniture order",createdAt:"2025-11-08T10:00:00Z",createdBy:"1",archived:!1}];let nt=To(ye.PAYMENTS,f7);nt=nt.map(n=>({...n,archived:n.archived??!1}));be(ye.PAYMENTS,nt);function p7(){const n=nt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function sG(){return xe([...nt])}async function oG(n){const e=n.id||p7(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,supplierId:n.supplierId,supplierName:n.supplierName,country:n.country||"",city:n.city||"",poId:n.poId,billNumber:n.billNumber||"",paymentMode:n.paymentMode,amountPaid:n.amountPaid,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return nt=[...nt,r],be(ye.PAYMENTS,nt),xe(r)}async function iG(n){const e=nt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Payment transaction with ID ${n.id} not found`);const t=nt[e],r={...t,trxDate:n.trxDate??t.trxDate,supplierId:n.supplierId??t.supplierId,supplierName:n.supplierName??t.supplierName,country:n.country??t.country,city:n.city??t.city,poId:n.poId??t.poId,billNumber:n.billNumber??t.billNumber,paymentMode:n.paymentMode??t.paymentMode,amountPaid:n.amountPaid??t.amountPaid,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return nt=[...nt.slice(0,e),r,...nt.slice(e+1)],be(ye.PAYMENTS,nt),xe(r)}async function aG(n){const e=nt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...nt[e],archived:!0,archivedAt:new Date().toISOString()};return nt=[...nt.slice(0,e),t,...nt.slice(e+1)],be(ye.PAYMENTS,nt),xe(t)}async function lG(n){const e=nt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...nt[e],archived:!1,archivedAt:void 0};return nt=[...nt.slice(0,e),t,...nt.slice(e+1)],be(ye.PAYMENTS,nt),xe(t)}async function cG(n){if(nt.findIndex(t=>t.id===n)===-1)throw new Error(`Payment transaction with ID ${n} not found`);return nt=nt.filter(t=>t.id!==n),be(ye.PAYMENTS,nt),xe(void 0)}async function uG(n){const e=new Date().toISOString(),t=[];return nt=nt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),be(ye.PAYMENTS,nt),xe(t)}async function dG(n){const e=[];return nt=nt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),be(ye.PAYMENTS,nt),xe(e)}async function hG(n){return nt=nt.filter(e=>!n.includes(e.id)),be(ye.PAYMENTS,nt),xe(void 0)}function GR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m7=GR,KR=new md("auth","Firebase",GR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=new I_("@firebase/auth");function g7(n,...e){dp.logLevel<=at.WARN&&dp.warn(`Auth (${_c}): ${n}`,...e)}function Tf(n,...e){dp.logLevel<=at.ERROR&&dp.error(`Auth (${_c}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(n,...e){throw ww(n,...e)}function js(n,...e){return ww(n,...e)}function ZR(n,e,t){const r={...m7(),[e]:t};return new md("auth","Firebase",r).create(e,{appName:n.name})}function _a(n){return ZR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ww(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return KR.create(n,...e)}function We(n,e,...t){if(!n)throw ww(e,...t)}function fo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tf(e),new Error(e)}function bo(n,e){n||fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){return typeof self<"u"&&self.location?.href||""}function y7(){return $S()==="http:"||$S()==="https:"}function $S(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y7()||zz()||"connection"in navigator)?navigator.onLine:!0}function _7(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.shortDelay=e,this.longDelay=t,bo(t>e,"Short delay should be less than long delay!"),this.isMobile=Fz()||Uz()}get(){return v7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n,e){bo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b7=new Rd(3e4,6e4);function bw(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function xc(n,e,t,r,s={}){return YR(n,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const u=gd({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...i};return jz()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&vc(n.emulatorConfig.host)&&(p.credentials="include"),QR.fetch()(await XR(n,n.config.apiHost,t,u),p)})}async function YR(n,e,t){n._canInitEmulator=!1;const r={...w7,...e};try{const s=new S7(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw cf(n,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const u=i.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw cf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw cf(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ZR(n,g,p);Eo(n,g)}}catch(s){if(s instanceof xo)throw s;Eo(n,"network-request-failed",{message:String(s)})}}async function x7(n,e,t,r,s={}){const i=await xc(n,e,t,r,s);return"mfaPendingCredential"in i&&Eo(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function XR(n,e,t,r){const s=`${e}${t}?${r}`,i=n,l=i.config.emulator?Ew(n.config,s):`${n.config.apiScheme}://${s}`;return E7.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(l).toString():l}class S7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(js(this.auth,"network-request-failed")),b7.get())})}}function cf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=js(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(n,e){return xc(n,"POST","/v1/accounts:delete",e)}async function hp(n,e){return xc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T7(n,e=!1){const t=In(n),r=await t.getIdToken(e),s=xw(r);We(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i?.sign_in_provider;return{claims:s,token:r,authTime:Fu(by(s.auth_time)),issuedAtTime:Fu(by(s.iat)),expirationTime:Fu(by(s.exp)),signInProvider:l||null,signInSecondFactor:i?.sign_in_second_factor||null}}function by(n){return Number(n)*1e3}function xw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const s=pA(t);return s?JSON.parse(s):(Tf("Failed to decode base64 JWT payload"),null)}catch(s){return Tf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function BS(n){const e=xw(n);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof xo&&C7(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function C7({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(n){const e=n.auth,t=await n.getIdToken(),r=await ad(n,hp(e,{idToken:t}));We(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=s.providerUserInfo?.length?JR(s.providerUserInfo):[],l=R7(n.providerData,i),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,p=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Iv(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function P7(n){const e=In(n);await fp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R7(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function JR(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k7(n,e){const t=await YR(n,{},async()=>{const r=gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,l=await XR(n,s,"/v1/token",`key=${i}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&vc(n.emulatorConfig.host)&&(h.credentials="include"),QR.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function N7(n,e){return xc(n,"POST","/v2/accounts:revokeToken",bw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=BS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await k7(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,l=new Hl;return r&&(We(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(We(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(n,e){We(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ts{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new A7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Iv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ad(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return T7(this,e)}reload(){return P7(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await fp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ks(this.auth.app))return Promise.reject(_a(this.auth));const e=await this.getIdToken();return await ad(this,I7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:m,emailVerified:w,isAnonymous:S,providerData:R,stsTokenManager:T}=t;We(m&&T,e,"internal-error");const P=Hl.fromJSON(this.name,T);We(typeof m=="string",e,"internal-error"),oi(r,e.name),oi(s,e.name),We(typeof w=="boolean",e,"internal-error"),We(typeof S=="boolean",e,"internal-error"),oi(i,e.name),oi(l,e.name),oi(u,e.name),oi(h,e.name),oi(p,e.name),oi(g,e.name);const D=new ts({uid:m,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:S,photoURL:l,phoneNumber:i,tenantId:u,stsTokenManager:P,createdAt:p,lastLoginAt:g});return R&&Array.isArray(R)&&(D.providerData=R.map(V=>({...V}))),h&&(D._redirectEventId=h),D}static async _fromIdTokenResponse(e,t,r=!1){const s=new Hl;s.updateFromServerResponse(t);const i=new ts({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await fp(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];We(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?JR(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!i?.length,u=new Hl;u.updateFromIdToken(r);const h=new ts({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Iv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=new Map;function po(n){bo(n instanceof Function,"Expected a class definition");let e=qS.get(n);return e?(bo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ek.type="NONE";const HS=ek;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(n,e,t){return`firebase:${n}:${e}:${t}`}class Wl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Cf(this.userKey,s.apiKey,i),this.fullPersistenceKey=Cf("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hp(this.auth,{idToken:e}).catch(()=>{});return t?ts._fromGetAccountInfoResponse(this.auth,t,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Wl(po(HS),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let i=s[0]||po(HS);const l=Cf(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const g=await p._get(l);if(g){let m;if(typeof g=="string"){const w=await hp(e,{idToken:g}).catch(()=>{});if(!w)break;m=await ts._fromGetAccountInfoResponse(e,w,g)}else m=ts._fromJSON(e,g);p!==i&&(u=m),i=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new Wl(i,e,r):(i=h[0],u&&await i._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==i)try{await p._remove(l)}catch{}})),new Wl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ik(e))return"Blackberry";if(ak(e))return"Webos";if(nk(e))return"Safari";if((e.includes("chrome/")||rk(e))&&!e.includes("edge/"))return"Chrome";if(ok(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function tk(n=cn()){return/firefox\//i.test(n)}function nk(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rk(n=cn()){return/crios\//i.test(n)}function sk(n=cn()){return/iemobile/i.test(n)}function ok(n=cn()){return/android/i.test(n)}function ik(n=cn()){return/blackberry/i.test(n)}function ak(n=cn()){return/webos/i.test(n)}function Sw(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function D7(n=cn()){return Sw(n)&&!!window.navigator?.standalone}function O7(){return $z()&&document.documentMode===10}function lk(n=cn()){return Sw(n)||ok(n)||ak(n)||ik(n)||/windows phone/i.test(n)||sk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(n,e=[]){let t;switch(n){case"Browser":t=WS(cn());break;case"Worker":t=`${WS(cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((l,u)=>{try{const h=e(i);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V7(n,e={}){return xc(n,"GET","/v2/passwordPolicy",bw(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=6;class F7{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??L7,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GS(this),this.idTokenSubscription=new GS(this),this.beforeStateQueue=new M7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=po(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hp(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ks(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!i||i===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ks(this.app))return Promise.reject(_a(this));const t=e?In(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ks(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ks(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(po(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V7(this),t=new F7(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new md("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await N7(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&po(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[po(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(u,this,"internal-error"),u.then(()=>{l||i(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ck(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ks(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&g7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Iw(n){return In(n)}class GS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kz(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z7(n){Tw=n}function U7(n){return Tw.loadJS(n)}function $7(){return Tw.gapiScript}function B7(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(n,e){const t=C_(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(Sa(i,e??{}))return s;Eo(s,"already-initialized")}return t.initialize({options:e})}function H7(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(po);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function W7(n,e,t){const r=Iw(n);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=uk(e),{host:l,port:u}=G7(e),h=u===null?"":`:${u}`,p={url:`${i}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Sa(p,r.config.emulator)&&Sa(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,vc(l)?(_A(`${i}//${l}${h}`),wA("Auth",!0)):K7()}function uk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function G7(n){const e=uk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:KS(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:KS(l)}}}function KS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function K7(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fo("not implemented")}_getIdTokenResponse(e){return fo("not implemented")}_linkToIdToken(e,t){return fo("not implemented")}_getReauthenticationResolver(e){return fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(n,e){return x7(n,"POST","/v1/accounts:signInWithIdp",bw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7="http://localhost";class Oa extends dk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Eo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const l=new Oa(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Gl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Gl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gl(e,t)}buildRequest(){const e={requestUri:Z7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends hk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends kd{constructor(){super("facebook.com")}static credential(e){return Oa._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends kd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oa._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ci.credential(t,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends kd{constructor(){super("github.com")}static credential(e){return Oa._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends kd{constructor(){super("twitter.com")}static credential(e,t){return Oa._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return di.credential(t,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await ts._fromIdTokenResponse(e,r,s),l=ZS(r);return new hc({user:i,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=ZS(r);return new hc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function ZS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends xo{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new pp(e,t,r,s)}}function fk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?pp._fromErrorAndOperation(n,i,e,r):i})}async function Q7(n,e,t=!1){const r=await ad(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return hc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(n,e,t=!1){const{auth:r}=n;if(ks(r.app))return Promise.reject(_a(r));const s="reauthenticate";try{const i=await ad(n,fk(r,s,e,n),t);We(i.idToken,r,"internal-error");const l=xw(i.idToken);We(l,r,"internal-error");const{sub:u}=l;return We(n.uid===u,r,"user-mismatch"),hc._forOperation(n,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Eo(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X7(n,e,t=!1){if(ks(n.app))return Promise.reject(_a(n));const r="signIn",s=await fk(n,r,e),i=await hc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function J7(n,e,t,r){return In(n).onIdTokenChanged(e,t,r)}function eq(n,e,t){return In(n).beforeAuthStateChanged(e,t)}const mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mp,"1"),this.storage.removeItem(mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=1e3,nq=10;class mk extends pk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);O7()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,nq):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},tq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mk.type="LOCAL";const rq=mk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk extends pk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gk.type="SESSION";const yk=gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new fm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(t.origin,i)),h=await sq(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((u,h)=>{const p=Cw("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(m){const w=m;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(w.data.response);break;default:clearTimeout(g),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(){return window}function iq(n){zs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return typeof zs().WorkerGlobalScope<"u"&&typeof zs().importScripts=="function"}async function aq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lq(){return navigator?.serviceWorker?.controller||null}function cq(){return vk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="firebaseLocalStorageDb",uq=1,gp="firebaseLocalStorage",wk="fbase_key";class Nd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pm(n,e){return n.transaction([gp],e?"readwrite":"readonly").objectStore(gp)}function dq(){const n=indexedDB.deleteDatabase(_k);return new Nd(n).toPromise()}function Tv(){const n=indexedDB.open(_k,uq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(gp,{keyPath:wk})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(gp)?e(r):(r.close(),await dq(),e(await Tv()))})})}async function QS(n,e,t){const r=pm(n,!0).put({[wk]:e,value:t});return new Nd(r).toPromise()}async function hq(n,e){const t=pm(n,!1).get(e),r=await new Nd(t).toPromise();return r===void 0?null:r.value}function YS(n,e){const t=pm(n,!0).delete(e);return new Nd(t).toPromise()}const fq=800,pq=3;class Ek{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>pq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fm._getInstance(cq()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aq(),!this.activeServiceWorker)return;this.sender=new oq(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tv();return await QS(e,mp,"1"),await YS(e,mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>QS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>hq(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>YS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=pm(s,!1).getAll();return new Nd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ek.type="LOCAL";const mq=Ek;new Rd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(n,e){return e?po(e):(We(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw extends dk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yq(n){return X7(n.auth,new Aw(n),n.bypassAuthState)}function vq(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),Y7(t,new Aw(n),n.bypassAuthState)}async function _q(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),Q7(t,new Aw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yq;case"linkViaPopup":case"linkViaRedirect":return _q;case"reauthViaPopup":case"reauthViaRedirect":return vq;default:Eo(this.auth,"internal-error")}}resolve(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=new Rd(2e3,1e4);class zl extends bk{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,zl.currentPopupAction&&zl.currentPopupAction.cancel(),zl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){bo(this.filter.length===1,"Popup operations only handle one event");const e=Cw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wq.get())};e()}}zl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq="pendingRedirect",Af=new Map;class bq extends bk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const r=await xq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xq(n,e){const t=Tq(e),r=Iq(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Sq(n,e){Af.set(n._key(),e)}function Iq(n){return po(n._redirectPersistence)}function Tq(n){return Cf(Eq,n.config.apiKey,n.name)}async function Cq(n,e,t=!1){if(ks(n.app))return Promise.reject(_a(n));const r=Iw(n),s=gq(r,e),l=await new bq(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq=600*1e3;class Pq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Rq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!xk(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(js(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Aq&&this.cachedEventUids.clear(),this.cachedEventUids.has(XS(e))}saveEventToCache(e){this.cachedEventUids.add(XS(e)),this.lastProcessedEventTime=Date.now()}}function XS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function xk({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Rq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kq(n,e={}){return xc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dq=/^https?/;async function Oq(n){if(n.config.emulator)return;const{authorizedDomains:e}=await kq(n);for(const t of e)try{if(Mq(t))return}catch{}Eo(n,"unauthorized-domain")}function Mq(n){const e=Sv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!Dq.test(t))return!1;if(Nq.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=new Rd(3e4,6e4);function JS(){const n=zs().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Lq(n){return new Promise((e,t)=>{function r(){JS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JS(),t(js(n,"network-request-failed"))},timeout:Vq.get()})}if(zs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zs().gapi?.load)r();else{const s=B7("iframefcb");return zs()[s]=()=>{gapi.load?r():t(js(n,"network-request-failed"))},U7(`${$7()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw Pf=null,e})}let Pf=null;function Fq(n){return Pf=Pf||Lq(n),Pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=new Rd(5e3,15e3),zq="__/auth/iframe",Uq="emulator/auth/iframe",$q={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qq(n){const e=n.config;We(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ew(e,Uq):`https://${n.config.authDomain}/${zq}`,r={apiKey:e.apiKey,appName:n.name,v:_c},s=Bq.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${gd(r).slice(1)}`}async function Hq(n){const e=await Fq(n),t=zs().gapi;return We(t,n,"internal-error"),e.open({where:document.body,url:qq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$q,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=js(n,"network-request-failed"),u=zs().setTimeout(()=>{i(l)},jq.get());function h(){zs().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gq=500,Kq=600,Zq="_blank",Qq="http://localhost";class eI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yq(n,e,t,r=Gq,s=Kq){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...Wq,width:r.toString(),height:s.toString(),top:i,left:l},p=cn().toLowerCase();t&&(u=rk(p)?Zq:t),tk(p)&&(e=e||Qq,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[S,R])=>`${w}${S}=${R},`,"");if(D7(p)&&u!=="_self")return Xq(e||"",u),new eI(null);const m=window.open(e||"",u,g);We(m,n,"popup-blocked");try{m.focus()}catch{}return new eI(m)}function Xq(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq="__/auth/handler",eH="emulator/auth/handler",tH=encodeURIComponent("fac");async function tI(n,e,t,r,s,i){We(n.config.authDomain,n,"auth-domain-config-required"),We(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:_c,eventId:s};if(e instanceof hk){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Gz(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries({}))l[g]=m}if(e instanceof kd){const g=e.getScopes().filter(m=>m!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),p=h?`#${tH}=${encodeURIComponent(h)}`:"";return`${nH(n)}?${gd(u).slice(1)}${p}`}function nH({config:n}){return n.emulator?Ew(n,eH):`https://${n.authDomain}/${Jq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="webStorageSupport";class rH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yk,this._completeRedirectFn=Cq,this._overrideRedirectResult=Sq}async _openPopup(e,t,r,s){bo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await tI(e,t,r,Sv(),s);return Yq(e,i,Cw())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await tI(e,t,r,Sv(),s);return iq(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(bo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Hq(e),r=new Pq(e);return t.register("authEvent",s=>(We(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xy,{type:xy},s=>{const i=s?.[0]?.[xy];i!==void 0&&t(!!i),Eo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Oq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lk()||nk()||Sw()}}const sH=rH;var nI="@firebase/auth",rI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aH(n){Xl(new Ia("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ck(n)},p=new j7(r,s,i,h);return H7(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xl(new Ia("auth-internal",e=>{const t=Iw(e.getProvider("auth").getImmediate());return(r=>new oH(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(nI,rI,iH(n)),yi(nI,rI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=300,cH=vA("authIdTokenMaxAge")||lH;let sI=null;const uH=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>cH)return;const s=t?.token;sI!==s&&(sI=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function dH(n=AA()){const e=C_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=q7(n,{popupRedirectResolver:sH,persistence:[mq,rq,yk]}),r=vA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=uH(i.toString());eq(t,l,()=>l(t.currentUser)),J7(t,u=>l(u))}}const s=gA("auth");return s&&W7(t,`http://${s}`),t}function hH(){return document.getElementsByTagName("head")?.[0]??document}z7({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=js("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",hH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aH("Browser");const fH={apiKey:"AIzaSyAtQmAaUFEuyJmeOq3M3ZIkI3a1gna_Do8",authDomain:"nosql-demo-e5885.firebaseapp.com",databaseURL:"https://nosql-demo-e5885-default-rtdb.firebaseio.com",projectId:"nosql-demo-e5885",storageBucket:"nosql-demo-e5885.firebasestorage.app",messagingSenderId:"377685820338",appId:"1:377685820338:web:12a7618478c1cdeda79aab",measurementId:"G-EWRZ4F64R6"};let Sy,Ln,pH;try{Sy=CA(fH),Ln=I8(Sy),pH=dH(Sy),T8(Ln).catch(n=>{n.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):n.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser")})}catch(n){throw console.error("Firebase initialization error:",n),n}const qs={INVENTORY:"inventory"};function Sk(n){const e={};for(const t of Object.keys(n))n[t]!==void 0&&(e[t]=n[t]);return e}function mm(n,e,t){return n<=0?"Critical":t!==void 0&&n<=t||e?"Low Stock":"In Stock"}async function mH(){const n=await M8(kR(Ln,qs.INVENTORY));let e=0;return n.forEach(t=>{const s=t.id.match(/INV-(\d+)/);if(s){const i=parseInt(s[1],10);i>e&&(e=i)}}),`INV-${String(e+1).padStart(3,"0")}`}function gH(n,e){return j8(kR(Ln,qs.INVENTORY),t=>{const r=[];t.forEach(s=>{const i=s.data();r.push({id:s.id,name:i.name,category:i.category,subcategory:i.subcategory,quantity:i.quantity||0,location:i.location,status:i.status||mm(i.quantity||0,i.reorderRequired||!1,i.reorderLevel),brand:i.brand||"",pricePerPiece:i.pricePerPiece||0,supplierId:i.supplierId||"",quantityPurchased:i.quantityPurchased||0,quantitySold:i.quantitySold||0,reorderRequired:i.reorderRequired||!1,reorderLevel:i.reorderLevel,photoUrl:i.photoUrl,description:i.description,archived:i.archived||!1,archivedAt:i.archivedAt})}),n(r)},e)}async function fG(n){const e=n.id&&n.id.trim()!==""?n.id:await mH(),t=Math.max(0,Math.floor(n.quantity)),r=Math.max(0,Math.floor(n.quantityPurchased)),s=Math.max(0,Math.floor(n.quantitySold)),i=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):void 0,l=i!==void 0&&t<=i?!0:n.reorderRequired,u=mm(t,l,i),h={id:e,name:n.name.trim(),category:n.category,subcategory:n.subcategory,quantity:t,location:n.location.trim(),status:u,brand:n.brand.trim(),pricePerPiece:n.pricePerPiece,supplierId:n.supplierId.trim(),quantityPurchased:r,quantitySold:s,reorderRequired:l,reorderLevel:i,photoUrl:n.photoUrl,description:n.description};if((await Ua(Ci(Ln,qs.INVENTORY,e))).exists())throw new Error(`Item with id ${e} already exists`);const g=Sk(h);return await V8(Ci(Ln,qs.INVENTORY,e),g),h}async function pG(n){const e=Ci(Ln,qs.INVENTORY,n.id),t=await Ua(e);if(!t.exists())throw new Error("Item not found");const r=t.data(),s=n.quantity!==void 0?Math.max(0,Math.floor(n.quantity)):r.quantity,i=n.quantityPurchased!==void 0?Math.max(0,Math.floor(n.quantityPurchased)):r.quantityPurchased,l=n.quantitySold!==void 0?Math.max(0,Math.floor(n.quantitySold)):r.quantitySold,u=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):r.reorderLevel;let h=n.reorderRequired!==void 0?n.reorderRequired:r.reorderRequired;u!==void 0&&s<=u&&(h=!0);const p={...r,...n,quantity:s,quantityPurchased:i,quantitySold:l,reorderRequired:h,reorderLevel:u,status:mm(s,h,u)},g=Sk(p);return await L8(e,g),p}async function mG(n){const e=Ci(Ln,qs.INVENTORY,n);if(!(await Ua(e)).exists())throw new Error("Item not found");await F8(e)}async function gG(n){const e=hm(Ln),t=[];let r=0;for(const s of n){const i=Ci(Ln,qs.INVENTORY,s);if(!(await Ua(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!0,archivedAt:new Date().toISOString()}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function yG(n){const e=hm(Ln),t=[];let r=0;for(const s of n){const i=Ci(Ln,qs.INVENTORY,s);if(!(await Ua(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!1,archivedAt:null}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function yH(n){const e=hm(Ln),t=[];let r=0;for(const s of n){const i=Ci(Ln,qs.INVENTORY,s);if(!(await Ua(i)).exists()){t.push(`Item ${s} not found`);continue}e.delete(i),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function vG(n){return yH(n)}async function _G(n,e){const t=hm(Ln),r=[];let s=0;for(const i of n){const l=Ci(Ln,qs.INVENTORY,i),u=await Ua(l);if(!u.exists()){r.push(`Item ${i} not found`);continue}const h=u.data(),p=e.quantity!==void 0?Math.max(0,Math.floor(e.quantity)):h.quantity,g=e.reorderRequired!==void 0?e.reorderRequired:h.reorderRequired,m=mm(p,g);t.update(l,{...e,status:m}),s++}return await t.commit(),{success:r.length===0,successCount:s,failedCount:r.length,errors:r.length>0?r:void 0}}const Ik=b.createContext(void 0);function vH({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(null),[i,l]=b.useState(null),[u,h]=b.useState({inventory:!0,shipments:!0,suppliers:!0}),p=b.useRef(null);b.useEffect(()=>(p.current=gH(T=>{t(T),h(P=>({...P,inventory:!1}))},T=>{console.error("Firebase inventory subscription error:",T),h(P=>({...P,inventory:!1}))}),()=>{p.current&&p.current()}),[]),b.useEffect(()=>{g()},[]);async function g(){await Promise.all([w(),S()])}async function m(){}async function w(){h(T=>({...T,shipments:!0}));try{const T=await c7();s(T)}finally{h(T=>({...T,shipments:!1}))}}async function S(){h(T=>({...T,suppliers:!0}));try{const T=await l7();l(T)}finally{h(T=>({...T,suppliers:!1}))}}const R={inventory:e,shipments:r,suppliers:i,isLoading:u,setInventory:t,setShipments:s,setSuppliers:l,refreshInventory:m,refreshShipments:w,refreshSuppliers:S};return E.jsx(Ik.Provider,{value:R,children:n})}function Pw(){const n=b.useContext(Ik);if(n===void 0)throw new Error("useAppContext must be used within an AppProvider");return n}function wG(){const{inventory:n,isLoading:e,setInventory:t,refreshInventory:r}=Pw();return{inventory:n,isLoading:e.inventory,setInventory:t,refreshInventory:r}}function EG(){const{suppliers:n,isLoading:e,setSuppliers:t,refreshSuppliers:r}=Pw();return{suppliers:n,isLoading:e.suppliers,setSuppliers:t,refreshSuppliers:r}}function _H(n,e=300){const[t,r]=b.useState(n);return b.useEffect(()=>{const s=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(s)}},[n,e]),t}const wu="wms_recent_searches",wH=10,uf=2,Eu=10,Iy={inventory:{name:"Inventory",icon:wp,view:"inventory"},orders:{name:"Orders",icon:yI,view:"orders"},"purchase-orders":{name:"Purchase Orders",icon:Av,view:"purchase-orders"},shipments:{name:"Shipments",icon:Pv,view:"shipments"},suppliers:{name:"Suppliers",icon:vI,view:"suppliers"}},EH=[{syntax:"status:critical",description:"Filter by status"},{syntax:"category:electronics",description:"Filter by category"},{syntax:"module:inventory",description:"Search in specific module"},{syntax:"supplier:ABC Corp",description:"Filter by supplier"},{syntax:"location:warehouse-a",description:"Filter by location"},{syntax:"price:>100",description:"Numeric range filter"}];function bH({open:n,onOpenChange:e,onNavigate:t}){const[r,s]=b.useState(""),[i,l]=b.useState(0),[u,h]=b.useState(!1),[p,g]=b.useState([]),[m,w]=b.useState(!1),[S,R]=b.useState([]),T=b.useRef(null),P=b.useRef(null),{inventory:D,orders:V,shipments:z,suppliers:U}=Pw(),{user:$}=fd(),K=_H(r,300);b.useEffect(()=>{if($){const X=localStorage.getItem(wu);if(X)try{const j=JSON.parse(X);R(j[$.id]||[])}catch{R([])}}},[$]),b.useEffect(()=>{n?(u7().then(g).catch(console.error),T.current?.focus()):(s(""),l(0),w(!1))},[n]);const A=b.useCallback(X=>{if(!$||X.length<uf)return;const j=localStorage.getItem(wu);let G={};if(j)try{G=JSON.parse(j)}catch{}const ie=(G[$.id]||[]).filter(Ie=>Ie!==X),he=[X,...ie].slice(0,wH);G[$.id]=he,localStorage.setItem(wu,JSON.stringify(G)),R(he)},[$]),C=b.useCallback(()=>{if(!$)return;const X=localStorage.getItem(wu);let j={};if(X)try{j=JSON.parse(X)}catch{}delete j[$.id],localStorage.setItem(wu,JSON.stringify(j)),R([])},[$]),N=b.useCallback(X=>{const j=[];let G=X;const oe=/(\w+):([<>=]*)([^\s]+)/g;let ie;for(;(ie=oe.exec(X))!==null;){const[he,Ie,ve,Se]=ie;j.push({key:Ie.toLowerCase(),value:Se,operator:ve}),G=G.replace(he,"").trim()}return{filters:j,cleanQuery:G}},[]),M=b.useMemo(()=>{if(K.length<uf)return[];h(!0);const{filters:X,cleanQuery:j}=N(K),G=j.toLowerCase(),oe=[],ie=X.find(Qe=>Qe.key==="module")?.value.toLowerCase(),he=X.find(Qe=>Qe.key==="status")?.value.toLowerCase(),Ie=X.find(Qe=>Qe.key==="category")?.value.toLowerCase(),ve=X.find(Qe=>Qe.key==="supplier")?.value.toLowerCase(),Se=X.find(Qe=>Qe.key==="location")?.value.toLowerCase(),Ge=X.find(Qe=>Qe.key==="price");return(!ie||ie==="inventory")&&(D||[]).filter(pe=>{if(he&&pe.status.toLowerCase()!==he||Ie&&pe.category.toLowerCase()!==Ie||Se&&!pe.location.toLowerCase().includes(Se))return!1;if(Ge){const xt=pe.pricePerPiece,dn=parseFloat(Ge.value);if(Ge.operator===">"&&xt<=dn||Ge.operator==="<"&&xt>=dn)return!1}return j?pe.id.toLowerCase().includes(G)||pe.name.toLowerCase().includes(G)||pe.brand.toLowerCase().includes(G)||pe.category.toLowerCase().includes(G)||pe.location.toLowerCase().includes(G):!0}).slice(0,Eu).forEach(pe=>{const xt=[];pe.id.toLowerCase().includes(G)&&xt.push("ID"),pe.name.toLowerCase().includes(G)&&xt.push("Name"),pe.brand.toLowerCase().includes(G)&&xt.push("Brand"),oe.push({id:pe.id,title:pe.name,subtitle:`${pe.id}  ${pe.brand}  ${pe.category}  ${pe.location}`,module:"inventory",moduleName:"Inventory",icon:wp,matchedFields:xt})}),(!ie||ie==="orders")&&(V||[]).filter(pe=>he&&pe.status.toLowerCase()!==he?!1:j?pe.id.toLowerCase().includes(G)||pe.customer.toLowerCase().includes(G)||pe.status.toLowerCase().includes(G):!0).slice(0,Eu).forEach(pe=>{oe.push({id:pe.id,title:pe.customer,subtitle:`${pe.id}  ${pe.status}  ${pe.total}`,module:"orders",moduleName:"Orders",icon:yI,matchedFields:[]})}),(!ie||ie==="purchase-orders"||ie==="po")&&p.filter(pe=>he&&pe.status.toLowerCase().replace(/\s/g,"-")!==he||ve&&!pe.supplierName.toLowerCase().includes(ve)?!1:j?pe.id.toLowerCase().includes(G)||pe.supplierName.toLowerCase().includes(G)||pe.status.toLowerCase().includes(G):!0).slice(0,Eu).forEach(pe=>{oe.push({id:pe.id,title:`${pe.id} - ${pe.supplierName}`,subtitle:`${pe.status}  ${pe.totalAmount.toLocaleString()}`,module:"purchase-orders",moduleName:"Purchase Orders",icon:Av,matchedFields:[]})}),(!ie||ie==="shipments")&&(z||[]).filter(pe=>he&&pe.status.toLowerCase().replace(/\s/g,"-")!==he?!1:j?pe.id.toLowerCase().includes(G)||pe.orderId.toLowerCase().includes(G)||pe.destination.toLowerCase().includes(G)||pe.carrier.toLowerCase().includes(G):!0).slice(0,Eu).forEach(pe=>{oe.push({id:pe.id,title:`${pe.id}  ${pe.destination}`,subtitle:`Order: ${pe.orderId}  ${pe.carrier}  ${pe.status}`,module:"shipments",moduleName:"Shipments",icon:Pv,matchedFields:[]})}),(!ie||ie==="suppliers")&&(U||[]).filter(pe=>he&&pe.status.toLowerCase()!==he||Ie&&!pe.category.toLowerCase().includes(Ie)?!1:j?pe.id.toLowerCase().includes(G)||pe.name.toLowerCase().includes(G)||pe.contact.toLowerCase().includes(G)||pe.email.toLowerCase().includes(G)||pe.category.toLowerCase().includes(G):!0).slice(0,Eu).forEach(pe=>{oe.push({id:pe.id,title:pe.name,subtitle:`${pe.id}  ${pe.contact}  ${pe.category}`,module:"suppliers",moduleName:"Suppliers",icon:vI,matchedFields:[]})}),h(!1),oe},[K,D,V,p,z,U,N]),F=b.useMemo(()=>{const X={inventory:[],orders:[],"purchase-orders":[],shipments:[],suppliers:[]};return M.forEach(j=>{X[j.module].push(j)}),X},[M]),B=b.useMemo(()=>Object.values(F).flat(),[F]),O=b.useMemo(()=>N(r).filters,[r,N]),Ce=b.useCallback(X=>{A(r),t(Iy[X.module].view,X.id),e(!1)},[r,A,t,e]),Be=b.useCallback(X=>{s(X)},[]),me=b.useCallback(X=>{const j=new RegExp(`${X}:[^\\s]+\\s*`,"gi");s(G=>G.replace(j,"").trim())},[]);b.useEffect(()=>{const X=j=>{if(n)switch(j.key){case"ArrowDown":j.preventDefault(),l(G=>Math.min(G+1,B.length-1));break;case"ArrowUp":j.preventDefault(),l(G=>Math.max(G-1,0));break;case"Enter":j.preventDefault(),B[i]&&Ce(B[i]);break;case"Escape":e(!1);break}};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[n,B,i,Ce,e]),b.useEffect(()=>{l(0)},[B]);const _e=(X,j)=>{if(!j||j.length<uf)return X;const{cleanQuery:G}=N(j);if(!G)return X;const oe=new RegExp(`(${G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return X.split(oe).map((he,Ie)=>oe.test(he)?E.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-800 rounded px-0.5",children:he},Ie):he)},W=r.length===0&&S.length>0,ne=r.length>=uf&&M.length===0&&!u;return E.jsx(az,{open:n,onOpenChange:e,children:E.jsxs(uz,{className:"max-w-2xl p-0 gap-0 overflow-hidden",children:[E.jsxs("div",{className:"flex items-center border-b px-4 py-3 gap-3",children:[E.jsx(kf,{className:"h-5 w-5 text-muted-foreground shrink-0"}),E.jsx(bu,{ref:T,value:r,onChange:X=>s(X.target.value),placeholder:"Search across all modules... (type ? for help)",className:"border-0 focus-visible:ring-0 p-0 h-auto text-base","aria-label":"Global search"}),u&&E.jsx(Rf,{className:"h-4 w-4 animate-spin text-muted-foreground"}),E.jsx("button",{onClick:()=>w(!m),className:"p-1 hover:bg-muted rounded",title:"Show filter syntax help",children:E.jsx(c2,{className:"h-4 w-4 text-muted-foreground"})})]}),O.length>0&&E.jsx("div",{className:"flex flex-wrap gap-2 px-4 py-2 border-b bg-muted/30",children:O.map((X,j)=>E.jsxs(lx,{variant:"secondary",className:"gap-1 pr-1",children:[E.jsxs("span",{className:"font-medium",children:[X.key,":"]}),E.jsxs("span",{children:[X.operator||"",X.value]}),E.jsx("button",{onClick:()=>me(X.key),className:"ml-1 hover:bg-muted rounded-full p-0.5",children:E.jsx(Rv,{className:"h-3 w-3"})})]},j))}),m&&E.jsxs("div",{className:"px-4 py-3 border-b bg-blue-50 dark:bg-blue-950/30",children:[E.jsx("p",{className:"text-sm font-medium mb-2",children:"Filter Syntax:"}),E.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:EH.map((X,j)=>E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:X.syntax}),E.jsx("span",{className:"text-muted-foreground",children:X.description})]},j))})]}),E.jsxs(uA,{className:"max-h-[400px]",ref:P,children:[W&&E.jsxs("div",{className:"p-2",children:[E.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-1",children:[E.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Recent Searches"}),E.jsx("button",{onClick:C,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear all"})]}),S.map((X,j)=>E.jsxs("button",{onClick:()=>Be(X),className:"flex items-center gap-3 w-full px-3 py-2 text-left hover:bg-muted rounded-md transition-colors",children:[E.jsx(p2,{className:"h-4 w-4 text-muted-foreground"}),E.jsx("span",{className:"text-sm",children:X})]},j))]}),ne&&E.jsxs("div",{className:"p-8 text-center",children:[E.jsx(H2,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),E.jsxs("p",{className:"text-muted-foreground",children:['No results found for "',r,'"']}),E.jsxs("p",{className:"text-sm text-muted-foreground/70 mt-1",children:["Try different keywords or use filters like ",E.jsx("code",{className:"bg-muted px-1 rounded",children:"status:active"})]})]}),M.length>0&&E.jsx("div",{className:"p-2",children:Object.entries(F).filter(([,X])=>X.length>0).map(([X,j])=>E.jsxs("div",{className:"mb-4 last:mb-0",children:[E.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 mb-1",children:[(()=>{const G=Iy[X].icon;return E.jsx(G,{className:"h-4 w-4 text-muted-foreground"})})(),E.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:Iy[X].name}),E.jsx(lx,{variant:"secondary",className:"h-5 px-1.5 text-xs",children:j.length})]}),j.map((G,oe)=>{const he=B.indexOf(G)===i;return E.jsxs("button",{onClick:()=>Ce(G),className:$e("flex items-start gap-3 w-full px-3 py-2 text-left rounded-md transition-colors",he?"bg-primary/10 text-primary":"hover:bg-muted"),children:[E.jsx(G.icon,{className:"h-4 w-4 mt-0.5 shrink-0"}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("div",{className:"font-medium text-sm truncate",children:_e(G.title,r)}),E.jsx("div",{className:"text-xs text-muted-foreground truncate",children:_e(G.subtitle,r)})]})]},G.id)})]},X))}),r.length===0&&S.length===0&&E.jsxs("div",{className:"p-8 text-center",children:[E.jsx(kf,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),E.jsx("p",{className:"text-muted-foreground",children:"Start typing to search across all modules"}),E.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Search inventory, orders, purchase orders, shipments, and suppliers"})]})]}),E.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t bg-muted/30 text-xs text-muted-foreground",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),"to navigate"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Enter"}),"to select"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Esc"}),"to close"]})]}),E.jsxs("span",{children:[M.length," result",M.length!==1?"s":""]})]})]})})}function xH(){const[n,e]=b.useState(!1);return b.useEffect(()=>{const t=r=>{(r.metaKey||r.ctrlKey)&&r.key==="k"&&(r.preventDefault(),e(s=>!s))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),{open:n,setOpen:e}}function SH({setCurrentView:n,setCommandPaletteOpen:e}){const{user:t,logout:r}=fd(),s=()=>{r(),Jr.success("Logged out successfully")};return E.jsxs("header",{className:"shrink-0 z-50 flex h-14 items-center gap-4 border-b bg-background px-4 sm:px-6",children:[E.jsxs("div",{className:"min-w-0 flex-1",children:[E.jsxs("h1",{className:"text-sm font-semibold truncate sm:text-base",children:[E.jsx("span",{className:"hidden lg:inline",children:"Warehouse Management System "}),E.jsx("span",{className:"lg:hidden",children:"WMS"})]}),E.jsx("p",{className:"text-xs text-muted-foreground truncate lg:hidden",children:"Inventory & Supply Chain"})]}),E.jsxs(ju,{variant:"outline",className:"hidden sm:flex w-64 justify-start text-muted-foreground gap-2",onClick:()=>e(!0),children:[E.jsx(kf,{className:"h-4 w-4 shrink-0"}),E.jsx("span",{className:"truncate",children:"Search everything..."}),E.jsxs("kbd",{className:"ml-auto pointer-events-none hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium md:inline-flex",children:[E.jsx(g2,{className:"h-3 w-3"}),"K"]})]}),E.jsxs(ju,{variant:"outline",size:"icon",className:"sm:hidden shrink-0",onClick:()=>e(!0),children:[E.jsx(kf,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Search"})]}),t&&E.jsxs(YT,{modal:!1,children:[E.jsx(XT,{asChild:!0,children:E.jsxs("button",{type:"button",className:"flex items-center gap-2 px-2 py-1.5 rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:[E.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:E.jsx(Ty,{className:"h-4 w-4 text-primary"})}),E.jsxs("div",{className:"hidden md:flex flex-col items-start text-left",children:[E.jsx("span",{className:"text-sm font-medium truncate max-w-[120px]",children:t.name}),E.jsx("span",{className:"text-xs text-muted-foreground",children:t.role})]}),E.jsx(r2,{className:"h-4 w-4 text-muted-foreground hidden md:block"})]})}),E.jsxs(a_,{align:"end",className:"w-56",sideOffset:8,children:[E.jsx(l_,{className:"font-normal",children:E.jsxs("div",{className:"flex flex-col space-y-1",children:[E.jsx("p",{className:"text-sm font-medium leading-none",children:t.name}),E.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),E.jsx(c_,{}),E.jsxs(Hu,{onSelect:()=>n("profile"),children:[E.jsx(Ty,{className:"mr-2 h-4 w-4"}),"View Profile"]}),E.jsxs(Hu,{onSelect:s,className:"text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400",children:[E.jsx(R2,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})}const oI=ce.lazy(()=>ss(()=>import("./dashboard-EQPJy-3W.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(n=>({default:n.Dashboard}))),IH=ce.lazy(()=>ss(()=>import("./inventory-view-BCVuE3Sc.js"),__vite__mapDeps([9,10,11,1,12,7,13,2,14,3,4,15,16,17,18,19,20])).then(n=>({default:n.InventoryView}))),TH=ce.lazy(()=>ss(()=>import("./purchase-orders-view-2tHbcj5d.js"),__vite__mapDeps([21,10,22,11,1,2,14,19,3,4,15,8])).then(n=>({default:n.PurchaseOrdersView}))),CH=ce.lazy(()=>ss(()=>import("./sales-orders-view-CyLD8-tL.js"),__vite__mapDeps([23,2,11,1,10,22,19,3,4,15])).then(n=>({default:n.SalesOrdersView}))),AH=ce.lazy(()=>ss(()=>import("./shipments-view-2rbIUqUY.js"),__vite__mapDeps([24,10,11,1,6,12,7,13,2,14,25,4,17])).then(n=>({default:n.ShipmentsView}))),PH=ce.lazy(()=>ss(()=>import("./suppliers-view-C8STRaet.js"),__vite__mapDeps([26,10,11,1,12,7,13,2,14,25,15,27,20,17,4,3,16])).then(n=>({default:n.SuppliersView}))),RH=ce.lazy(()=>ss(()=>import("./customers-view-rkyvRYYW.js"),__vite__mapDeps([28,10,11,1,12,7,13,2,14,25,15,27,16,17,3])).then(n=>({default:n.CustomersView}))),kH=ce.lazy(()=>ss(()=>import("./user-management-view-D2sOKIlc.js"),__vite__mapDeps([29,10,2,13,30])).then(n=>({default:n.UserManagementView}))),NH=ce.lazy(()=>ss(()=>import("./admin-profile-view-DstQ5HyE.js"),__vite__mapDeps([31,18,30,25,27,17,6])).then(n=>({default:n.AdminProfileView}))),DH=ce.lazy(()=>ss(()=>import("./cash-bank-view-BTywC1YQ.js"),__vite__mapDeps([32,2,11,1,10,22,3,5,15])).then(n=>({default:n.CashBankView}))),OH=ce.lazy(()=>ss(()=>import("./payments-view-UdC_Z7eT.js"),__vite__mapDeps([33,2,11,1,10,22,3,5,15])).then(n=>({default:n.PaymentsView}))),MH=["dashboard","inventory","purchase-orders","sales-orders","shipments","suppliers","customers","cash-bank","payments","users","profile"];function iI(){const n=window.location.hash.slice(1);return n&&MH.includes(n)?n:"dashboard"}function VH(){const{isAuthenticated:n,isLoading:e}=fd(),[t,r]=b.useState(iI),[s,i]=b.useState(null),[l,u]=b.useState(void 0),{open:h,setOpen:p}=xH();b.useEffect(()=>{const T=t==="dashboard"?"":`#${t}`;window.location.hash!==T&&window.location.hash!==`#${t}`&&window.history.replaceState(null,"",T||window.location.pathname)},[t]),b.useEffect(()=>{const T=()=>{const P=iI();r(P)};return window.addEventListener("hashchange",T),()=>window.removeEventListener("hashchange",T)},[]);const g=b.useCallback((T,P=!1)=>{r(T),P&&T!=="dashboard"&&i(T)},[]),m=b.useCallback((T,P)=>{r(T),u(P)},[]),w=b.useCallback(()=>{i(null)},[]),S=b.useCallback(()=>{u(void 0)},[]);if(e)return E.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx(Rf,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),E.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})});if(!n)return E.jsxs(Vb,{onError:Gy,children:[E.jsx(iz,{}),E.jsx(Mb,{})]});const R=()=>{switch(t){case"dashboard":return E.jsx(oI,{navigateToView:g});case"inventory":return E.jsx(IH,{initialOpenDialog:s==="inventory",onDialogOpened:w,initialItemId:l,onItemDialogOpened:S});case"purchase-orders":return E.jsx(TH,{initialOpenDialog:s==="purchase-orders",onDialogOpened:w});case"sales-orders":return E.jsx(CH,{});case"shipments":return E.jsx(AH,{initialOpenDialog:s==="shipments",onDialogOpened:w});case"suppliers":return E.jsx(PH,{initialOpenDialog:s==="suppliers",onDialogOpened:w,initialSupplierId:l,onSupplierDialogOpened:S});case"customers":return E.jsx(RH,{initialOpenDialog:s==="customers",onDialogOpened:w,initialCustomerId:l,onCustomerDialogOpened:S});case"cash-bank":return E.jsx(DH,{});case"payments":return E.jsx(OH,{});case"users":return E.jsx(kH,{});case"profile":return E.jsx(NH,{});default:return E.jsx(oI,{navigateToView:g})}};return E.jsx(Vb,{onError:Gy,children:E.jsxs(gL,{children:[E.jsx(pF,{currentView:t,setCurrentView:r}),E.jsxs(_L,{className:"flex flex-col bg-muted/30 h-screen overflow-hidden",children:[E.jsx(SH,{setCurrentView:r,setCommandPaletteOpen:p}),E.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-6",children:E.jsx(b.Suspense,{fallback:E.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[E.jsx(Rf,{className:"h-4 w-4 animate-spin"})," Loading..."]}),children:R()})})]}),E.jsx(bH,{open:h,onOpenChange:p,onNavigate:m}),E.jsx(Mb,{})]})})}const aI="wms_favorites",lI="wms_saved_searches",Tk=b.createContext(void 0),LH=[{id:"ql-1",label:"Low Stock Items",entityType:"inventory",filters:{status:"Low Stock"},icon:"alert"},{id:"ql-2",label:"Critical Stock",entityType:"inventory",filters:{status:"Critical"},icon:"alert-circle"},{id:"ql-3",label:"Pending Orders",entityType:"orders",filters:{status:"Pending"},icon:"clock"},{id:"ql-4",label:"Processing Orders",entityType:"orders",filters:{status:"Processing"},icon:"loader"},{id:"ql-5",label:"In Transit Shipments",entityType:"shipments",filters:{status:"In Transit"},icon:"truck"},{id:"ql-6",label:"Active Suppliers",entityType:"suppliers",filters:{status:"Active"},icon:"users"}];function FH({children:n}){const[e,t]=b.useState([]),[r,s]=b.useState([]),[i]=b.useState(LH);b.useEffect(()=>{try{const T=localStorage.getItem(aI);T&&t(JSON.parse(T));const P=localStorage.getItem(lI);P&&s(JSON.parse(P))}catch(T){console.error("Failed to load favorites from localStorage:",T)}},[]),b.useEffect(()=>{try{localStorage.setItem(aI,JSON.stringify(e))}catch(T){console.error("Failed to save favorites to localStorage:",T)}},[e]),b.useEffect(()=>{try{localStorage.setItem(lI,JSON.stringify(r))}catch(T){console.error("Failed to save searches to localStorage:",T)}},[r]);const l=b.useCallback((T,P,D)=>{t(V=>V.some($=>$.entityType===T&&$.entityId===P)?V:[{id:`fav-${T}-${P}-${Date.now()}`,entityType:T,entityId:P,entityName:D,favoritedAt:new Date().toISOString()},...V])},[]),u=b.useCallback((T,P)=>{t(D=>D.filter(V=>!(V.entityType===T&&V.entityId===P)))},[]),h=b.useCallback((T,P,D)=>{t(V=>V.some(U=>U.entityType===T&&U.entityId===P)?V.filter(U=>!(U.entityType===T&&U.entityId===P)):[{id:`fav-${T}-${P}-${Date.now()}`,entityType:T,entityId:P,entityName:D,favoritedAt:new Date().toISOString()},...V])},[]),p=b.useCallback((T,P)=>e.some(D=>D.entityType===T&&D.entityId===P),[e]),g=b.useCallback(T=>e.filter(P=>P.entityType===T),[e]),m=b.useCallback((T=10)=>[...e].sort((P,D)=>new Date(D.favoritedAt).getTime()-new Date(P.favoritedAt).getTime()).slice(0,T),[e]),w=b.useCallback((T,P,D,V)=>{const z={id:`search-${Date.now()}`,name:T,entityType:P,searchTerm:D,filters:V||{},createdAt:new Date().toISOString()};s(U=>[z,...U])},[]),S=b.useCallback(T=>{s(P=>P.filter(D=>D.id!==T))},[]),R=b.useCallback(T=>r.filter(P=>P.entityType===T),[r]);return E.jsx(Tk.Provider,{value:{favorites:e,savedSearches:r,quickLinks:i,addFavorite:l,removeFavorite:u,toggleFavorite:h,isFavorite:p,getFavoritesByType:g,getRecentFavorites:m,saveSearch:w,deleteSearch:S,getSearchesByType:R},children:n})}function bG(){const n=b.useContext(Tk);if(!n)throw new Error("useFavorites must be used within a FavoritesProvider");return n}const jH=lF;UN.createRoot(document.getElementById("root")).render(E.jsx(jH,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:E.jsx(sF,{children:E.jsx(FH,{children:E.jsx(vH,{children:E.jsx(VH,{})})})})}));window.addEventListener("error",n=>{const e=n.error instanceof Error?n.error:new Error(String(n.message));Gy(e)});export{yG as $,Jr as A,ju as B,dC as C,az as D,uz as E,HH as F,GH as G,KH as H,pu as I,bu as J,WH as K,S2 as L,wG as M,EG as N,bG as O,wp as P,WW as Q,ce as R,yI as S,tD as T,vI as U,_H as V,lD as W,pG as X,fG as Y,yH as Z,gG as _,zH as a,dW as a$,vG as a0,_G as a1,qH as a2,Rv as a3,kf as a4,YT as a5,XT as a6,a_ as a7,l_ as a8,c_ as a9,OW as aA,oW as aB,FW as aC,qW as aD,$W as aE,UW as aF,zW as aG,jW as aH,HW as aI,BW as aJ,c7 as aK,yW as aL,_W as aM,wW as aN,gW as aO,vW as aP,XH as aQ,EW as aR,nW as aS,rW as aT,sW as aU,bW as aV,N2 as aW,eW as aX,tW as aY,JH as aZ,aW as a_,Z4 as aa,KF as ab,w2 as ac,uA as ad,uD as ae,GW as af,KW as ag,YH as ah,mG as ai,BH as aj,gI as ak,l7 as al,QH as am,xW as an,MW as ao,SW as ap,IW as aq,TW as ar,CW as as,AW as at,PW as au,NW as av,DW as aw,kW as ax,RW as ay,VW as az,pI as b,hW as b0,fW as b1,pW as b2,mW as b3,iW as b4,cW as b5,uW as b6,lW as b7,Q2 as b8,sD as b9,mc as bA,V1 as bB,Hs as bC,fa as bD,Y1 as bE,Et as bF,L1 as bG,ht as bH,Le as bI,mo as bJ,bp as bK,Nv as bL,JT as bM,$V as bN,On as bO,qI as bP,MI as bQ,Ov as bR,Kl as bS,Dv as bT,Ep as bU,F1 as bV,hz as bW,j1 as bX,a2 as bY,Ty as ba,XE as bb,ZC as bc,Wy as bd,v2 as be,Rf as bf,QW as bg,nG as bh,tG as bi,JW as bj,eG as bk,YW as bl,XW as bm,rG as bn,oG as bo,dG as bp,uG as bq,lG as br,cG as bs,iG as bt,aG as bu,hG as bv,o2 as bw,r2 as bx,Pp as by,Jv as bz,rt as c,$e as d,_p as e,dI as f,cI as g,yp as h,fd as i,E as j,hD as k,u7 as l,LW as m,ZW as n,sG as o,B2 as p,hC as q,b as r,fC as s,mC as t,Pw as u,Pv as v,Av as w,pC as x,p2 as y,lx as z};
