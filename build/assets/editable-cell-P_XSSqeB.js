import{c as k,j as e,Q as G,d as j,B as N,r as o,aA as A,t as $,X as E,aB as R,aC as q,D as F,v as H,w as K,x as O,T as W,y as X,z as Q,a6 as Z,I as J}from"./index-DrEHmQSL.js";import{S as C,C as U}from"./permissions-C3RbyD88.js";import{S as D,a as I,b as M,c as B,d as _}from"./sortable-table-head-CRXLWx8P.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],L=k("chevron-left",Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],ee=k("chevrons-left",P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ae=k("chevrons-right",se);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],z=k("file-x",le);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],te=k("pencil",ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],re=k("plus",ie);function xe({rows:s=5,columns:a=5,showHeader:n=!0,showCheckbox:i=!1}){return e.jsxs("div",{className:"w-full",children:[n&&e.jsxs("div",{className:"flex items-center border-b py-3 px-4 gap-4",children:[i&&e.jsx(C,{className:"h-4 w-4 rounded"}),Array.from({length:a}).map((t,d)=>e.jsx(C,{className:"h-4 flex-1",style:{maxWidth:d===0?"150px":d===a-1?"80px":"100px"}},`header-${d}`))]}),Array.from({length:s}).map((t,d)=>e.jsxs("div",{className:"flex items-center border-b py-4 px-4 gap-4 animate-pulse",style:{animationDelay:`${d*50}ms`},children:[i&&e.jsx(C,{className:"h-4 w-4 rounded"}),Array.from({length:a}).map((m,c)=>e.jsx(C,{className:"h-4 flex-1",style:{maxWidth:c===0?"150px":c===a-1?"80px":"120px"}},`cell-${d}-${c}`))]},d))]})}const ce={default:{iconBg:"bg-muted",iconColor:"text-muted-foreground",defaultIcon:z},search:{iconBg:"bg-blue-50 dark:bg-blue-950/30",iconColor:"text-blue-500 dark:text-blue-400",defaultIcon:G},error:{iconBg:"bg-destructive/10",iconColor:"text-destructive",defaultIcon:z},minimal:{iconBg:"bg-transparent",iconColor:"text-muted-foreground/50",defaultIcon:z}};function he({icon:s,title:a,description:n,actionLabel:i,onAction:t,actionIcon:d=re,secondaryActionLabel:m,onSecondaryAction:c,variant:x="default",className:r,disabled:p=!1,disabledMessage:h}){const b=ce[x],l=s||b.defaultIcon;return e.jsxs("div",{className:j("flex flex-col items-center justify-center py-12 px-4 text-center",x==="minimal"&&"py-8",r),children:[e.jsx("div",{className:j("rounded-full p-5 mb-4 transition-colors",b.iconBg,x==="minimal"&&"p-3 mb-3"),children:e.jsx(l,{className:j("h-10 w-10",b.iconColor,x==="minimal"&&"h-8 w-8")})}),e.jsx("h3",{className:j("text-lg font-semibold text-foreground mb-2",x==="minimal"&&"text-base"),children:a}),e.jsx("p",{className:j("text-sm text-muted-foreground mb-6 max-w-md leading-relaxed",x==="minimal"&&"mb-4 max-w-xs"),children:n}),(i||m)&&e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[i&&t&&e.jsxs(N,{onClick:t,disabled:p,title:p&&h?h:void 0,size:x==="minimal"?"sm":"default",children:[e.jsx(d,{className:"h-4 w-4 mr-1.5"}),i]}),m&&c&&e.jsx(N,{variant:"outline",onClick:c,size:x==="minimal"?"sm":"default",children:m})]}),p&&h&&e.jsx("p",{className:"text-xs text-muted-foreground mt-3 italic",children:h})]})}function ue(s,a=25){const[n,i]=o.useState(1),t=o.useMemo(()=>Math.max(1,Math.ceil(s.length/a)),[s.length,a]);o.useEffect(()=>{n>t&&i(t)},[n,t]);const{startIndex:d,endIndex:m,paginatedData:c}=o.useMemo(()=>{const l=(n-1)*a,f=Math.min(l+a,s.length);return{startIndex:l,endIndex:f,paginatedData:s.slice(l,f)}},[s,n,a]);return{currentPage:n,totalPages:t,startIndex:d,endIndex:m,paginatedData:c,goToPage:l=>{const f=Math.max(1,Math.min(l,t));i(f)},nextPage:()=>{n<t&&i(n+1)},previousPage:()=>{n>1&&i(n-1)},firstPage:()=>{i(1)},lastPage:()=>{i(t)},canGoNext:n<t,canGoPrevious:n>1,totalItems:s.length,itemsPerPage:a}}function fe(s){const[a,n]=o.useState(new Set),i=o.useCallback(l=>{n(f=>{const u=new Set(f);return u.has(l)?u.delete(l):u.add(l),u})},[]),t=o.useCallback(()=>{n(l=>l.size===s.length&&s.length>0?new Set:new Set(s.map(f=>f.id)))},[s]),d=o.useCallback(()=>{n(new Set(s.map(l=>l.id)))},[s]),m=o.useCallback(()=>{n(new Set)},[]),c=o.useCallback(l=>a.has(l),[a]),x=o.useMemo(()=>s.length>0&&a.size===s.length,[s.length,a.size]),r=o.useMemo(()=>a.size>0&&a.size<s.length,[s.length,a.size]),p=a.size,h=a.size>0,b=o.useMemo(()=>s.filter(l=>a.has(l.id)),[s,a]);return{selectedIds:a,toggleItem:i,toggleAll:t,selectAll:d,deselectAll:m,isSelected:c,isAllSelected:x,isPartiallySelected:r,selectionCount:p,hasSelection:h,selectedItems:b}}function pe({currentPage:s,totalPages:a,onPageChange:n,itemsPerPage:i,totalItems:t,className:d="",pageSizeOptions:m=[10,20,50,100],onPageSizeChange:c,compact:x=!1}){const p=(()=>{const l=[];if(a<=(x?5:7))for(let u=1;u<=a;u++)l.push(u);else{l.push(1),s>3&&l.push("...");const u=Math.max(2,s-1),w=Math.min(a-1,s+1);for(let v=u;v<=w;v++)l.push(v);s<a-2&&l.push("..."),l.push(a)}return l})(),h=(s-1)*i+1,b=Math.min(s*i,t);return a<=1&&!c?null:e.jsxs("div",{className:j("flex flex-col gap-4 pt-4 border-t","sm:flex-row sm:items-center sm:justify-between",d),children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Showing"," ",e.jsx("span",{className:"font-medium text-foreground tabular-nums",children:h})," - ",e.jsx("span",{className:"font-medium text-foreground tabular-nums",children:b})," of ",e.jsx("span",{className:"font-medium text-foreground tabular-nums",children:t})]}),c&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"hidden sm:inline",children:"•"}),e.jsxs(D,{value:i.toString(),onValueChange:l=>c(parseInt(l)),children:[e.jsx(I,{className:"h-8 w-[70px]",children:e.jsx(M,{})}),e.jsx(B,{children:m.map(l=>e.jsx(_,{value:l.toString(),children:l},l))})]}),e.jsx("span",{className:"text-xs",children:"per page"})]})]}),a>1&&e.jsxs("nav",{className:"flex items-center gap-1",role:"navigation","aria-label":"Pagination",children:[e.jsx(N,{variant:"outline",size:"icon",onClick:()=>n(1),disabled:s===1,className:j("h-8 w-8",x&&"hidden sm:inline-flex"),"aria-label":"Go to first page",title:"First page",children:e.jsx(ee,{className:"h-4 w-4"})}),e.jsx(N,{variant:"outline",size:"icon",onClick:()=>n(s-1),disabled:s===1,className:"h-8 w-8","aria-label":"Go to previous page",title:"Previous page",children:e.jsx(L,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"sm:hidden px-2 text-sm tabular-nums",children:[s," / ",a]}),e.jsx("div",{className:"hidden sm:flex items-center gap-1",children:p.map((l,f)=>{if(l==="...")return e.jsx("span",{className:"px-1.5 text-muted-foreground select-none","aria-hidden":"true",children:"⋯"},`ellipsis-${f}`);const u=s===l;return e.jsx(N,{variant:u?"default":"outline",size:"sm",onClick:()=>n(l),className:j("h-8 min-w-[2rem] tabular-nums",u&&"pointer-events-none"),"aria-label":`Go to page ${l}`,"aria-current":u?"page":void 0,children:l},l)})})]}),e.jsx(N,{variant:"outline",size:"icon",onClick:()=>n(s+1),disabled:s===a,className:"h-8 w-8","aria-label":"Go to next page",title:"Next page",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsx(N,{variant:"outline",size:"icon",onClick:()=>n(a),disabled:s===a,className:j("h-8 w-8",x&&"hidden sm:inline-flex"),"aria-label":"Go to last page",title:"Last page",children:e.jsx(ae,{className:"h-4 w-4"})})]})]})}function ge({selectionCount:s,onClearSelection:a,actions:n=[],actionGroups:i=[],isLoading:t=!1,className:d,totalItems:m,onSelectAll:c}){if(s===0)return null;const x=m&&s<m;return e.jsxs("div",{className:j("fixed bottom-4 left-1/2 -translate-x-1/2 z-50","bg-background/95 backdrop-blur-sm supports-[backdrop-filter]:bg-background/80","border rounded-xl shadow-lg","p-2 sm:p-3","flex flex-wrap items-center gap-2 sm:gap-3","max-w-[95vw] sm:max-w-none","animate-in slide-in-from-bottom-4 fade-in-0 duration-200",d),role:"toolbar","aria-label":"Bulk actions",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"secondary",className:"h-7 px-2.5 font-medium",children:[e.jsx(U,{className:"h-3.5 w-3.5 mr-1.5 text-primary"}),e.jsx("span",{className:"tabular-nums",children:s}),e.jsxs("span",{className:"hidden sm:inline ml-1",children:["item",s!==1?"s":""," selected"]})]}),x&&c&&e.jsxs(N,{variant:"link",size:"sm",className:"h-auto p-0 text-xs hidden sm:inline-flex",onClick:c,disabled:t,children:["Select all ",m]}),e.jsx(N,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:a,disabled:t,"aria-label":"Clear selection",title:"Clear selection",children:e.jsx(E,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"h-6 w-px bg-border hidden sm:block","aria-hidden":"true"}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[t&&e.jsx(R,{className:"h-4 w-4 animate-spin text-muted-foreground","aria-label":"Loading"}),n.map((r,p)=>e.jsxs(N,{variant:r.variant||"outline",size:"sm",onClick:r.onClick,disabled:r.disabled||t,className:j("h-8",r.iconOnly&&"sm:w-auto px-2 sm:px-3"),title:r.iconOnly?r.label:void 0,children:[r.icon,e.jsx("span",{className:j(r.iconOnly&&"hidden sm:inline"),children:r.label})]},r.id||p)),i.map((r,p)=>e.jsxs(D,{onValueChange:r.onSelect,disabled:r.disabled||t,children:[e.jsxs(I,{className:"h-8 w-auto gap-1 px-2 sm:px-3",children:[r.icon,e.jsx(M,{placeholder:r.label}),e.jsx(q,{className:"h-3 w-3 opacity-50"})]}),e.jsx(B,{children:r.options.map(h=>e.jsx(_,{value:h.value,children:e.jsxs("span",{className:"flex items-center gap-2",children:[h.icon,h.label]})},h.value))})]},r.id||p))]})]})}function je({open:s,onOpenChange:a,itemCount:n,itemNames:i=[],itemType:t="item",onConfirm:d,isLoading:m=!1}){const c=n===1?t:`${t}s`;return e.jsx(F,{open:s,onOpenChange:a,children:e.jsxs(H,{children:[e.jsxs(K,{children:[e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5 text-destructive"}),"Delete ",n," ",c,"?"]}),e.jsxs(X,{children:["This action cannot be undone. The following ",c," will be permanently deleted:"]})]}),i.length>0&&e.jsx("div",{className:"max-h-40 overflow-y-auto rounded-md border p-3",children:e.jsxs("ul",{className:"space-y-1 text-sm",children:[i.slice(0,10).map((x,r)=>e.jsxs("li",{className:"text-muted-foreground",children:["• ",x]},r)),i.length>10&&e.jsxs("li",{className:"text-muted-foreground italic",children:["...and ",i.length-10," more"]})]})}),e.jsxs(Q,{children:[e.jsx(N,{variant:"outline",onClick:()=>a(!1),disabled:m,children:"Cancel"}),e.jsx(N,{variant:"destructive",onClick:d,disabled:m,children:m?"Deleting...":`Delete ${n} ${c}`})]})]})})}function be({value:s,displayValue:a,type:n="text",options:i=[],onSave:t,disabled:d=!1,className:m,min:c,step:x,placeholder:r,badgeClassName:p}){const[h,b]=o.useState(!1),[l,f]=o.useState(String(s)),[u,w]=o.useState(!1),v=o.useRef(null);o.useEffect(()=>{h&&v.current&&(v.current.focus(),v.current.select())},[h]),o.useEffect(()=>{f(String(s))},[s]);const y=o.useCallback(async()=>{if(l===String(s)){b(!1);return}w(!0);try{const g=n==="number"?Number(l):l;await t(g),b(!1)}catch{f(String(s))}finally{w(!1)}},[l,s,n,t]),S=o.useCallback(()=>{f(String(s)),b(!1)},[s]),T=o.useCallback(g=>{g.key==="Enter"?(g.preventDefault(),y()):g.key==="Escape"&&S()},[y,S]);if(d)return e.jsx("span",{className:m,children:a??s});if(h)return n==="select"||n==="badge"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(D,{value:l,onValueChange:g=>{f(g)},children:[e.jsx(I,{className:"h-8 min-w-[100px]",children:e.jsx(M,{placeholder:r||"Select..."})}),e.jsx(B,{children:i.map(g=>e.jsx(_,{value:g.value,children:g.label},g.value))})]}),e.jsx("button",{onClick:y,disabled:u,className:"p-1 hover:bg-green-100 dark:hover:bg-green-900 rounded",title:"Save",children:e.jsx(Z,{className:"h-4 w-4 text-green-600"})}),e.jsx("button",{onClick:S,disabled:u,className:"p-1 hover:bg-red-100 dark:hover:bg-red-900 rounded",title:"Cancel",children:e.jsx(E,{className:"h-4 w-4 text-red-600"})})]}):e.jsx("div",{className:"flex items-center gap-1",children:e.jsx(J,{ref:v,type:n,value:l,onChange:g=>f(g.target.value),onKeyDown:T,onBlur:y,min:c,step:x,placeholder:r,className:"h-8 w-auto min-w-[80px]",disabled:u})});const V=n==="badge"?e.jsx($,{variant:"secondary",className:j("cursor-pointer hover:ring-2 hover:ring-primary/50",p),children:a??s}):e.jsx("span",{children:a??s});return e.jsxs("button",{type:"button",onClick:()=>b(!0),className:j("group flex items-center gap-1 text-left hover:bg-muted/50 px-1 py-0.5 rounded -mx-1 transition-colors",m),title:"Click to edit",children:[V,e.jsx(te,{className:"h-3 w-3 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})}export{ge as B,he as E,re as P,xe as T,fe as a,je as b,be as c,pe as d,ue as u};
