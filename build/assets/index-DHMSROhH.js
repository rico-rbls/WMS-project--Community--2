const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-Df8ZgX26.js","assets/skeleton-C53fNKGj.js","assets/permissions-DJnvoGTW.js","assets/dollar-sign-CAdxSaq4.js","assets/trending-up-BQqrh6Cr.js","assets/credit-card-47OXa9yc.js","assets/calendar-B9ouNY2m.js","assets/star-B_s1IGGM.js","assets/shopping-bag-pMIBUG1W.js","assets/inventory-view-mtXLkwrd.js","assets/sortable-table-head-BZ5DWXeN.js","assets/select-all-banner-Cy66hDNL.js","assets/favorite-button-DH5hLv8S.js","assets/useTableSort-BIYYyq3e.js","assets/editable-cell-Byis7FCJ.js","assets/archive-D0_Xr0JD.js","assets/square-pen-COJdi5qH.js","assets/circle-alert-DPOczYNM.js","assets/map-pin-MJiDg-4Q.js","assets/file-text-C8piNNTr.js","assets/tag-CLrskG02.js","assets/purchase-orders-view-B2CGqR1a.js","assets/printable-receipt-CnEyUm2L.js","assets/bulk-delete-dialog-CKztoJNP.js","assets/sales-orders-view-p1wmKOYS.js","assets/shipments-view-DUt37zep.js","assets/circle-check-big-D0BdjuuW.js","assets/suppliers-view-L8qhvTBu.js","assets/phone-C1gn14IN.js","assets/customers-view-DCJ6ipQs.js","assets/user-management-view-DtBW1rex.js","assets/crown-BufKJ4n_.js","assets/admin-profile-view-Dw_ltixs.js","assets/cash-bank-view-pUOcrBxX.js","assets/payments-view-BWT0jZaJ.js"])))=>i.map(i=>d[i]);
function FN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var qH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zg={exports:{}},pu={},Ug={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function zN(){if(BE)return st;BE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=m&&j[m]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function R(j,K,oe){this.props=j,this.context=K,this.refs=A,this.updater=oe||I}R.prototype.isReactComponent={},R.prototype.setState=function(j,K){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,K,"setState")},R.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function V(){}V.prototype=R.prototype;function z(j,K,oe){this.props=j,this.context=K,this.refs=A,this.updater=oe||I}var U=z.prototype=new V;U.constructor=z,k(U,R.prototype),U.isPureReactComponent=!0;var H=Array.isArray,B=Object.prototype.hasOwnProperty,W={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(j,K,oe){var ie,he={},Se=null,ve=null;if(K!=null)for(ie in K.ref!==void 0&&(ve=K.ref),K.key!==void 0&&(Se=""+K.key),K)B.call(K,ie)&&!C.hasOwnProperty(ie)&&(he[ie]=K[ie]);var Ie=arguments.length-2;if(Ie===1)he.children=oe;else if(1<Ie){for(var Ge=Array(Ie),Qe=0;Qe<Ie;Qe++)Ge[Qe]=arguments[Qe+2];he.children=Ge}if(j&&j.defaultProps)for(ie in Ie=j.defaultProps,Ie)he[ie]===void 0&&(he[ie]=Ie[ie]);return{$$typeof:n,type:j,key:Se,ref:ve,props:he,_owner:W.current}}function P(j,K){return{$$typeof:n,type:j.type,key:K,ref:j.ref,props:j.props,_owner:j._owner}}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function M(j){var K={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return K[oe]})}var F=/\/+/g;function O(j,K){return typeof j=="object"&&j!==null&&j.key!=null?M(""+j.key):K.toString(36)}function Ce(j,K,oe,ie,he){var Se=typeof j;(Se==="undefined"||Se==="boolean")&&(j=null);var ve=!1;if(j===null)ve=!0;else switch(Se){case"string":case"number":ve=!0;break;case"object":switch(j.$$typeof){case n:case e:ve=!0}}if(ve)return ve=j,he=he(ve),j=ie===""?"."+O(ve,0):ie,H(he)?(oe="",j!=null&&(oe=j.replace(F,"$&/")+"/"),Ce(he,K,oe,"",function(Qe){return Qe})):he!=null&&(N(he)&&(he=P(he,oe+(!he.key||ve&&ve.key===he.key?"":(""+he.key).replace(F,"$&/")+"/")+j)),K.push(he)),1;if(ve=0,ie=ie===""?".":ie+":",H(j))for(var Ie=0;Ie<j.length;Ie++){Se=j[Ie];var Ge=ie+O(Se,Ie);ve+=Ce(Se,K,oe,Ge,he)}else if(Ge=E(j),typeof Ge=="function")for(j=Ge.call(j),Ie=0;!(Se=j.next()).done;)Se=Se.value,Ge=ie+O(Se,Ie++),ve+=Ce(Se,K,oe,Ge,he);else if(Se==="object")throw K=String(j),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ve}function Be(j,K,oe){if(j==null)return j;var ie=[],he=0;return Ce(j,ie,"","",function(Se){return K.call(oe,Se,he++)}),ie}function me(j){if(j._status===-1){var K=j._result;K=K(),K.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=K)}if(j._status===1)return j._result.default;throw j._result}var _e={current:null},G={transition:null},ne={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:G,ReactCurrentOwner:W};function X(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:Be,forEach:function(j,K,oe){Be(j,function(){K.apply(this,arguments)},oe)},count:function(j){var K=0;return Be(j,function(){K++}),K},toArray:function(j){return Be(j,function(K){return K})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},st.Component=R,st.Fragment=t,st.Profiler=s,st.PureComponent=z,st.StrictMode=r,st.Suspense=h,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,st.act=X,st.cloneElement=function(j,K,oe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ie=k({},j.props),he=j.key,Se=j.ref,ve=j._owner;if(K!=null){if(K.ref!==void 0&&(Se=K.ref,ve=W.current),K.key!==void 0&&(he=""+K.key),j.type&&j.type.defaultProps)var Ie=j.type.defaultProps;for(Ge in K)B.call(K,Ge)&&!C.hasOwnProperty(Ge)&&(ie[Ge]=K[Ge]===void 0&&Ie!==void 0?Ie[Ge]:K[Ge])}var Ge=arguments.length-2;if(Ge===1)ie.children=oe;else if(1<Ge){Ie=Array(Ge);for(var Qe=0;Qe<Ge;Qe++)Ie[Qe]=arguments[Qe+2];ie.children=Ie}return{$$typeof:n,type:j.type,key:he,ref:Se,props:ie,_owner:ve}},st.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:i,_context:j},j.Consumer=j},st.createElement=S,st.createFactory=function(j){var K=S.bind(null,j);return K.type=j,K},st.createRef=function(){return{current:null}},st.forwardRef=function(j){return{$$typeof:u,render:j}},st.isValidElement=N,st.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:me}},st.memo=function(j,K){return{$$typeof:p,type:j,compare:K===void 0?null:K}},st.startTransition=function(j){var K=G.transition;G.transition={};try{j()}finally{G.transition=K}},st.unstable_act=X,st.useCallback=function(j,K){return _e.current.useCallback(j,K)},st.useContext=function(j){return _e.current.useContext(j)},st.useDebugValue=function(){},st.useDeferredValue=function(j){return _e.current.useDeferredValue(j)},st.useEffect=function(j,K){return _e.current.useEffect(j,K)},st.useId=function(){return _e.current.useId()},st.useImperativeHandle=function(j,K,oe){return _e.current.useImperativeHandle(j,K,oe)},st.useInsertionEffect=function(j,K){return _e.current.useInsertionEffect(j,K)},st.useLayoutEffect=function(j,K){return _e.current.useLayoutEffect(j,K)},st.useMemo=function(j,K){return _e.current.useMemo(j,K)},st.useReducer=function(j,K,oe){return _e.current.useReducer(j,K,oe)},st.useRef=function(j){return _e.current.useRef(j)},st.useState=function(j){return _e.current.useState(j)},st.useSyncExternalStore=function(j,K,oe){return _e.current.useSyncExternalStore(j,K,oe)},st.useTransition=function(){return _e.current.useTransition()},st.version="18.3.1",st}var qE;function Pv(){return qE||(qE=1,Ug.exports=zN()),Ug.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function UN(){if(HE)return pu;HE=1;var n=Pv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var g,m={},E=null,I=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(I=h.ref);for(g in h)r.call(h,g)&&!i.hasOwnProperty(g)&&(m[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:e,type:u,key:E,ref:I,props:m,_owner:s.current}}return pu.Fragment=t,pu.jsx=l,pu.jsxs=l,pu}var WE;function $N(){return WE||(WE=1,zg.exports=UN()),zg.exports}var v=$N(),Uh={},$g={exports:{}},nr={},Bg={exports:{}},qg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function BN(){return GE||(GE=1,(function(n){function e(G,ne){var X=G.length;G.push(ne);e:for(;0<X;){var j=X-1>>>1,K=G[j];if(0<s(K,ne))G[j]=ne,G[X]=K,X=j;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],X=G.pop();if(X!==ne){G[0]=X;e:for(var j=0,K=G.length,oe=K>>>1;j<oe;){var ie=2*(j+1)-1,he=G[ie],Se=ie+1,ve=G[Se];if(0>s(he,X))Se<K&&0>s(ve,he)?(G[j]=ve,G[Se]=X,j=Se):(G[j]=he,G[ie]=X,j=ie);else if(Se<K&&0>s(ve,X))G[j]=ve,G[Se]=X,j=Se;else break e}}return ne}function s(G,ne){var X=G.sortIndex-ne.sortIndex;return X!==0?X:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],g=1,m=null,E=3,I=!1,k=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(G){for(var ne=t(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=G)r(p),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=t(p)}}function H(G){if(A=!1,U(G),!k)if(t(h)!==null)k=!0,me(B);else{var ne=t(p);ne!==null&&_e(H,ne.startTime-G)}}function B(G,ne){k=!1,A&&(A=!1,V(S),S=-1),I=!0;var X=E;try{for(U(ne),m=t(h);m!==null&&(!(m.expirationTime>ne)||G&&!M());){var j=m.callback;if(typeof j=="function"){m.callback=null,E=m.priorityLevel;var K=j(m.expirationTime<=ne);ne=n.unstable_now(),typeof K=="function"?m.callback=K:m===t(h)&&r(h),U(ne)}else r(h);m=t(h)}if(m!==null)var oe=!0;else{var ie=t(p);ie!==null&&_e(H,ie.startTime-ne),oe=!1}return oe}finally{m=null,E=X,I=!1}}var W=!1,C=null,S=-1,P=5,N=-1;function M(){return!(n.unstable_now()-N<P)}function F(){if(C!==null){var G=n.unstable_now();N=G;var ne=!0;try{ne=C(!0,G)}finally{ne?O():(W=!1,C=null)}}else W=!1}var O;if(typeof z=="function")O=function(){z(F)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Be=Ce.port2;Ce.port1.onmessage=F,O=function(){Be.postMessage(null)}}else O=function(){R(F,0)};function me(G){C=G,W||(W=!0,O())}function _e(G,ne){S=R(function(){G(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){k||I||(k=!0,me(B))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(G){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var X=E;E=ne;try{return G()}finally{E=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var X=E;E=G;try{return ne()}finally{E=X}},n.unstable_scheduleCallback=function(G,ne,X){var j=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?j+X:j):X=j,G){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,G={id:g++,callback:ne,priorityLevel:G,startTime:X,expirationTime:K,sortIndex:-1},X>j?(G.sortIndex=X,e(p,G),t(h)===null&&G===t(p)&&(A?(V(S),S=-1):A=!0,_e(H,X-j))):(G.sortIndex=K,e(h,G),k||I||(k=!0,me(B))),G},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(G){var ne=E;return function(){var X=E;E=ne;try{return G.apply(this,arguments)}finally{E=X}}}})(qg)),qg}var KE;function qN(){return KE||(KE=1,Bg.exports=BN()),Bg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function HN(){if(ZE)return nr;ZE=1;var n=Pv(),e=qN();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function E(o){return h.call(m,o)?!0:h.call(g,o)?!1:p.test(o)?m[o]=!0:(g[o]=!0,!1)}function I(o,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,a,c,f){if(a===null||typeof a>"u"||I(o,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(o,a,c,f,y,_,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=_,this.removeEmptyString=T}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){R[o]=new A(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];R[a]=new A(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){R[o]=new A(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){R[o]=new A(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){R[o]=new A(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){R[o]=new A(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){R[o]=new A(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){R[o]=new A(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){R[o]=new A(o,5,!1,o.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function z(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(V,z);R[a]=new A(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(V,z);R[a]=new A(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(V,z);R[a]=new A(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){R[o]=new A(o,1,!1,o.toLowerCase(),null,!1,!1)}),R.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){R[o]=new A(o,1,!1,o.toLowerCase(),null,!0,!0)});function U(o,a,c,f){var y=R.hasOwnProperty(a)?R[a]:null;(y!==null?y.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,c,y,f)&&(c=null),f||y===null?E(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,f=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,f?o.setAttributeNS(f,a,c):o.setAttribute(a,c))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),W=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),G=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var X=Object.assign,j;function K(o){if(j===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||""}return`
`+j+o}var oe=!1;function ie(o,a){if(!o||oe)return"";oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var f=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){f=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){f=ee}o()}}catch(ee){if(ee&&f&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),_=f.stack.split(`
`),T=y.length-1,L=_.length-1;1<=T&&0<=L&&y[T]!==_[L];)L--;for(;1<=T&&0<=L;T--,L--)if(y[T]!==_[L]){if(T!==1||L!==1)do if(T--,L--,0>L||y[T]!==_[L]){var $=`
`+y[T].replace(" at new "," at ");return o.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",o.displayName)),$}while(1<=T&&0<=L);break}}}finally{oe=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?K(o):""}function he(o){switch(o.tag){case 5:return K(o.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function Se(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case C:return"Fragment";case W:return"Portal";case P:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case Ce:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case N:return(o._context.displayName||"Context")+".Provider";case F:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Be:return a=o.displayName||null,a!==null?a:Se(o.type)||"Memo";case me:a=o._payload,o=o._init;try{return Se(o(a))}catch{}}return null}function ve(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(a);case 8:return a===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ge(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qe(o){var a=Ge(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),f=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,_=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function pe(o){o._valueTracker||(o._valueTracker=Qe(o))}function xt(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return o&&(f=Ge(o)?o.checked?"true":"false":o.value),o=f,o!==c?(a.setValue(o),!0):!1}function dn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ds(o,a){var c=a.checked;return X({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Ha(o,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Ie(a.value!=null?a.value:c),o._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ys(o,a){a=a.checked,a!=null&&U(o,"checked",a,!1)}function ar(o,a){Ys(o,a);var c=Ie(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?gt(o,a.type,c):a.hasOwnProperty("defaultValue")&&gt(o,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function ko(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function gt(o,a,c){(a!=="number"||dn(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var Vt=Array.isArray;function lr(o,a,c,f){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&f&&(o[c].defaultSelected=!0)}else{for(c=""+Ie(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,f&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function sn(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Sr(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Vt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:Ie(c)}}function Wa(o,a){var c=Ie(a.value),f=Ie(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),f!=null&&(o.defaultValue=""+f)}function hs(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function fs(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function No(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?fs(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var qr,Do=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,f,y)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(qr=qr||document.createElement("div"),qr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=qr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Zn(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wr=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(o){Wr.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),Hr[a]=Hr[o]})});function ps(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Hr.hasOwnProperty(o)&&Hr[o]?(""+a).trim():a+"px"}function Oo(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,y=ps(c,a[c],f);c==="float"&&(c="cssFloat"),f?o.setProperty(c,y):o[c]=y}}var Mo=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qn(o,a){if(a){if(Mo[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Vo(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tr=null;function zn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Gr=null,Kr=null,At=null;function Lo(o){if(o=Jc(o)){if(typeof Gr!="function")throw Error(t(280));var a=o.stateNode;a&&(a=nh(a),Gr(o.stateNode,o.type,a))}}function qe(o){Kr?At?At.push(o):At=[o]:Kr=o}function It(){if(Kr){var o=Kr,a=At;if(At=Kr=null,Lo(o),a)for(o=0;o<a.length;o++)Lo(a[o])}}function qt(o,a){return o(a)}function hn(){}var Un=!1;function Ut(o,a,c){if(Un)return o(a,c);Un=!0;try{return qt(o,a,c)}finally{Un=!1,(Kr!==null||At!==null)&&(hn(),It())}}function Qt(o,a){var c=o.stateNode;if(c===null)return null;var f=nh(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var cr=!1;if(u)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{cr=!1}function An(o,a,c,f,y,_,T,L,$){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(le){this.onError(le)}}var Cr=!1,fn=null,Oi=!1,Ar=null,Od={onError:function(o){Cr=!0,fn=o}};function Md(o,a,c,f,y,_,T,L,$){Cr=!1,fn=null,An.apply(Od,arguments)}function Cc(o,a,c,f,y,_,T,L,$){if(Md.apply(this,arguments),Cr){if(Cr){var ee=fn;Cr=!1,fn=null}else throw Error(t(198));Oi||(Oi=!0,Ar=ee)}}function Zr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function Ac(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Vd(o){if(Zr(o)!==o)throw Error(t(188))}function Ld(o){var a=o.alternate;if(!a){if(a=Zr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,f=a;;){var y=c.return;if(y===null)break;var _=y.alternate;if(_===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===c)return Vd(y),o;if(_===f)return Vd(y),a;_=_.sibling}throw Error(t(188))}if(c.return!==f.return)c=y,f=_;else{for(var T=!1,L=y.child;L;){if(L===c){T=!0,c=y,f=_;break}if(L===f){T=!0,f=y,c=_;break}L=L.sibling}if(!T){for(L=_.child;L;){if(L===c){T=!0,c=_,f=y;break}if(L===f){T=!0,f=_,c=y;break}L=L.sibling}if(!T)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function jd(o){return o=Ld(o),o!==null?Mi(o):null}function Mi(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Mi(o);if(a!==null)return a;o=o.sibling}return null}var Pc=e.unstable_scheduleCallback,Ga=e.unstable_cancelCallback,Vi=e.unstable_shouldYield,Xs=e.unstable_requestPaint,Pt=e.unstable_now,ym=e.unstable_getCurrentPriorityLevel,Ka=e.unstable_ImmediatePriority,Rc=e.unstable_UserBlockingPriority,Li=e.unstable_NormalPriority,kc=e.unstable_LowPriority,Za=e.unstable_IdlePriority,ji=null,ur=null;function Fd(o){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(ji,o,void 0,(o.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:Fi,ms=Math.log,Pr=Math.LN2;function Fi(o){return o>>>=0,o===0?32:31-(ms(o)/Pr|0)|0}var gs=64,jo=4194304;function mt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Js(o,a){var c=o.pendingLanes;if(c===0)return 0;var f=0,y=o.suspendedLanes,_=o.pingedLanes,T=c&268435455;if(T!==0){var L=T&~y;L!==0?f=mt(L):(_&=T,_!==0&&(f=mt(_)))}else T=c&~y,T!==0?f=mt(T):_!==0&&(f=mt(_));if(f===0)return 0;if(a!==0&&a!==f&&(a&y)===0&&(y=f&-f,_=a&-a,y>=_||y===16&&(_&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=f;0<a;)c=31-dr(a),y=1<<c,f|=o[c],a&=~y;return f}function zi(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ui(o,a){for(var c=o.suspendedLanes,f=o.pingedLanes,y=o.expirationTimes,_=o.pendingLanes;0<_;){var T=31-dr(_),L=1<<T,$=y[T];$===-1?((L&c)===0||(L&f)!==0)&&(y[T]=zi(L,a)):$<=a&&(o.expiredLanes|=L),_&=~L}}function Nc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Dc(){var o=gs;return gs<<=1,(gs&4194240)===0&&(gs=64),o}function Oc(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function $i(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-dr(a),o[a]=c}function vm(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-dr(c),_=1<<y;a[y]=0,f[y]=-1,o[y]=-1,c&=~_}}function Mc(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var f=31-dr(c),y=1<<f;y&a|o[f]&a&&(o[f]|=a),c&=~y}}var lt=0;function ys(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Vc,Qa,Lc,jc,Fc,vs=!1,Ya=[],_s=null,ws=null,wn=null,Bi=new Map,eo=new Map,hr=[],zd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fo(o,a){switch(o){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Bi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(a.pointerId)}}function Qr(o,a,c,f,y,_){return o===null||o.nativeEvent!==_?(o={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:_,targetContainers:[y]},a!==null&&(a=Jc(a),a!==null&&Qa(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function Ud(o,a,c,f,y){switch(a){case"focusin":return _s=Qr(_s,o,a,c,f,y),!0;case"dragenter":return ws=Qr(ws,o,a,c,f,y),!0;case"mouseover":return wn=Qr(wn,o,a,c,f,y),!0;case"pointerover":var _=y.pointerId;return Bi.set(_,Qr(Bi.get(_)||null,o,a,c,f,y)),!0;case"gotpointercapture":return _=y.pointerId,eo.set(_,Qr(eo.get(_)||null,o,a,c,f,y)),!0}return!1}function Xa(o){var a=Gi(o.target);if(a!==null){var c=Zr(a);if(c!==null){if(a=c.tag,a===13){if(a=Ac(c),a!==null){o.blockedOn=a,Fc(o.priority,function(){Lc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function St(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Ja(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var f=new c.constructor(c.type,c);Tr=f,c.target.dispatchEvent(f),Tr=null}else return a=Jc(c),a!==null&&Qa(a),o.blockedOn=c,!1;a.shift()}return!0}function $d(o,a,c){St(o)&&c.delete(a)}function _m(){vs=!1,_s!==null&&St(_s)&&(_s=null),ws!==null&&St(ws)&&(ws=null),wn!==null&&St(wn)&&(wn=null),Bi.forEach($d),eo.forEach($d)}function zo(o,a){o.blockedOn===a&&(o.blockedOn=null,vs||(vs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_m)))}function Uo(o){function a(y){return zo(y,o)}if(0<Ya.length){zo(Ya[0],o);for(var c=1;c<Ya.length;c++){var f=Ya[c];f.blockedOn===o&&(f.blockedOn=null)}}for(_s!==null&&zo(_s,o),ws!==null&&zo(ws,o),wn!==null&&zo(wn,o),Bi.forEach(a),eo.forEach(a),c=0;c<hr.length;c++)f=hr[c],f.blockedOn===o&&(f.blockedOn=null);for(;0<hr.length&&(c=hr[0],c.blockedOn===null);)Xa(c),c.blockedOn===null&&hr.shift()}var to=H.ReactCurrentBatchConfig,no=!0;function Es(o,a,c,f){var y=lt,_=to.transition;to.transition=null;try{lt=1,zc(o,a,c,f)}finally{lt=y,to.transition=_}}function Bd(o,a,c,f){var y=lt,_=to.transition;to.transition=null;try{lt=4,zc(o,a,c,f)}finally{lt=y,to.transition=_}}function zc(o,a,c,f){if(no){var y=Ja(o,a,c,f);if(y===null)Rm(o,a,f,bs,c),Fo(o,f);else if(Ud(y,o,a,c,f))f.stopPropagation();else if(Fo(o,f),a&4&&-1<zd.indexOf(o)){for(;y!==null;){var _=Jc(y);if(_!==null&&Vc(_),_=Ja(o,a,c,f),_===null&&Rm(o,a,f,bs,c),_===y)break;y=_}y!==null&&f.stopPropagation()}else Rm(o,a,f,null,c)}}var bs=null;function Ja(o,a,c,f){if(bs=null,o=zn(f),o=Gi(o),o!==null)if(a=Zr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=Ac(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return bs=o,null}function el(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ym()){case Ka:return 1;case Rc:return 4;case Li:case kc:return 16;case Za:return 536870912;default:return 16}default:return 16}}var fr=null,tl=null,ro=null;function qd(){if(ro)return ro;var o,a=tl,c=a.length,f,y="value"in fr?fr.value:fr.textContent,_=y.length;for(o=0;o<c&&a[o]===y[o];o++);var T=c-o;for(f=1;f<=T&&a[c-f]===y[_-f];f++);return ro=y.slice(o,1<f?1-f:void 0)}function qi(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function xs(){return!0}function Uc(){return!1}function Pn(o){function a(c,f,y,_,T){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var L in o)o.hasOwnProperty(L)&&(c=o[L],this[L]=c?c(_):_[L]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?xs:Uc,this.isPropagationStopped=Uc,this}return X(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),a}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=Pn(Is),$o=X({},Is,{view:0,detail:0}),nl=Pn($o),rl,sl,pr,Wi=X({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ye,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pr&&(pr&&o.type==="mousemove"?(rl=o.screenX-pr.screenX,sl=o.screenY-pr.screenY):sl=rl=0,pr=o),rl)},movementY:function(o){return"movementY"in o?o.movementY:sl}}),$c=Pn(Wi),Hd=X({},Wi,{dataTransfer:0}),Wd=Pn(Hd),ol=X({},$o,{relatedTarget:0}),En=Pn(ol),Gd=X({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),Kd=Pn(Gd),Bo=X({},Is,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),d=Pn(Bo),w=X({},Is,{data:0}),x=Pn(w),D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ge(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=te[o])?!!a[o]:!1}function Ye(){return ge}var Ht=X({},$o,{key:function(o){if(o.key){var a=D[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=qi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Y[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ye,charCode:function(o){return o.type==="keypress"?qi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?qi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),vt=Pn(Ht),Xt=X({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mr=Pn(Xt),so=X({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ye}),Ss=Pn(so),Ts=X({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),il=Pn(Ts),Bc=X({},Wi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Dk=Pn(Bc),Ok=[9,13,27,32],wm=u&&"CompositionEvent"in window,qc=null;u&&"documentMode"in document&&(qc=document.documentMode);var Mk=u&&"TextEvent"in window&&!qc,Mw=u&&(!wm||qc&&8<qc&&11>=qc),Vw=" ",Lw=!1;function jw(o,a){switch(o){case"keyup":return Ok.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var al=!1;function Vk(o,a){switch(o){case"compositionend":return Fw(a);case"keypress":return a.which!==32?null:(Lw=!0,Vw);case"textInput":return o=a.data,o===Vw&&Lw?null:o;default:return null}}function Lk(o,a){if(al)return o==="compositionend"||!wm&&jw(o,a)?(o=qd(),ro=tl=fr=null,al=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Mw&&a.locale!=="ko"?null:a.data;default:return null}}var jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zw(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!jk[o.type]:a==="textarea"}function Uw(o,a,c,f){qe(f),a=Jd(a,"onChange"),0<a.length&&(c=new Hi("onChange","change",null,c,f),o.push({event:c,listeners:a}))}var Hc=null,Wc=null;function Fk(o){o0(o,0)}function Zd(o){var a=hl(o);if(xt(a))return o}function zk(o,a){if(o==="change")return a}var $w=!1;if(u){var Em;if(u){var bm="oninput"in document;if(!bm){var Bw=document.createElement("div");Bw.setAttribute("oninput","return;"),bm=typeof Bw.oninput=="function"}Em=bm}else Em=!1;$w=Em&&(!document.documentMode||9<document.documentMode)}function qw(){Hc&&(Hc.detachEvent("onpropertychange",Hw),Wc=Hc=null)}function Hw(o){if(o.propertyName==="value"&&Zd(Wc)){var a=[];Uw(a,Wc,o,zn(o)),Ut(Fk,a)}}function Uk(o,a,c){o==="focusin"?(qw(),Hc=a,Wc=c,Hc.attachEvent("onpropertychange",Hw)):o==="focusout"&&qw()}function $k(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Zd(Wc)}function Bk(o,a){if(o==="click")return Zd(a)}function qk(o,a){if(o==="input"||o==="change")return Zd(a)}function Hk(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Yr=typeof Object.is=="function"?Object.is:Hk;function Gc(o,a){if(Yr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!h.call(a,y)||!Yr(o[y],a[y]))return!1}return!0}function Ww(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Gw(o,a){var c=Ww(o);o=0;for(var f;c;){if(c.nodeType===3){if(f=o+c.textContent.length,o<=a&&f>=a)return{node:c,offset:a-o};o=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ww(c)}}function Kw(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Kw(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Zw(){for(var o=window,a=dn();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=dn(o.document)}return a}function xm(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function Wk(o){var a=Zw(),c=o.focusedElem,f=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&Kw(c.ownerDocument.documentElement,c)){if(f!==null&&xm(c)){if(a=f.start,o=f.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,_=Math.min(f.start,y);f=f.end===void 0?_:Math.min(f.end,y),!o.extend&&_>f&&(y=f,f=_,_=y),y=Gw(c,_);var T=Gw(c,f);y&&T&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==T.node||o.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),_>f?(o.addRange(a),o.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Gk=u&&"documentMode"in document&&11>=document.documentMode,ll=null,Im=null,Kc=null,Sm=!1;function Qw(o,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Sm||ll==null||ll!==dn(f)||(f=ll,"selectionStart"in f&&xm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Kc&&Gc(Kc,f)||(Kc=f,f=Jd(Im,"onSelect"),0<f.length&&(a=new Hi("onSelect","select",null,a,c),o.push({event:a,listeners:f}),a.target=ll)))}function Qd(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var cl={animationend:Qd("Animation","AnimationEnd"),animationiteration:Qd("Animation","AnimationIteration"),animationstart:Qd("Animation","AnimationStart"),transitionend:Qd("Transition","TransitionEnd")},Tm={},Yw={};u&&(Yw=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function Yd(o){if(Tm[o])return Tm[o];if(!cl[o])return o;var a=cl[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in Yw)return Tm[o]=a[c];return o}var Xw=Yd("animationend"),Jw=Yd("animationiteration"),e0=Yd("animationstart"),t0=Yd("transitionend"),n0=new Map,r0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(o,a){n0.set(o,a),i(a,[o])}for(var Cm=0;Cm<r0.length;Cm++){var Am=r0[Cm],Kk=Am.toLowerCase(),Zk=Am[0].toUpperCase()+Am.slice(1);qo(Kk,"on"+Zk)}qo(Xw,"onAnimationEnd"),qo(Jw,"onAnimationIteration"),qo(e0,"onAnimationStart"),qo("dblclick","onDoubleClick"),qo("focusin","onFocus"),qo("focusout","onBlur"),qo(t0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function s0(o,a,c){var f=o.type||"unknown-event";o.currentTarget=c,Cc(f,a,void 0,o),o.currentTarget=null}function o0(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var f=o[c],y=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var T=f.length-1;0<=T;T--){var L=f[T],$=L.instance,ee=L.currentTarget;if(L=L.listener,$!==_&&y.isPropagationStopped())break e;s0(y,L,ee),_=$}else for(T=0;T<f.length;T++){if(L=f[T],$=L.instance,ee=L.currentTarget,L=L.listener,$!==_&&y.isPropagationStopped())break e;s0(y,L,ee),_=$}}}if(Oi)throw o=Ar,Oi=!1,Ar=null,o}function Rt(o,a){var c=a[Vm];c===void 0&&(c=a[Vm]=new Set);var f=o+"__bubble";c.has(f)||(i0(a,o,2,!1),c.add(f))}function Pm(o,a,c){var f=0;a&&(f|=4),i0(c,o,f,a)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Qc(o){if(!o[Xd]){o[Xd]=!0,r.forEach(function(c){c!=="selectionchange"&&(Qk.has(c)||Pm(c,!1,o),Pm(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Xd]||(a[Xd]=!0,Pm("selectionchange",!1,a))}}function i0(o,a,c,f){switch(el(a)){case 1:var y=Es;break;case 4:y=Bd;break;default:y=zc}c=y.bind(null,a,c,o),y=void 0,!cr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function Rm(o,a,c,f,y){var _=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var L=f.stateNode.containerInfo;if(L===y||L.nodeType===8&&L.parentNode===y)break;if(T===4)for(T=f.return;T!==null;){var $=T.tag;if(($===3||$===4)&&($=T.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;T=T.return}for(;L!==null;){if(T=Gi(L),T===null)return;if($=T.tag,$===5||$===6){f=_=T;continue e}L=L.parentNode}}f=f.return}Ut(function(){var ee=_,le=zn(c),ue=[];e:{var ae=n0.get(o);if(ae!==void 0){var Te=Hi,Re=o;switch(o){case"keypress":if(qi(c)===0)break e;case"keydown":case"keyup":Te=vt;break;case"focusin":Re="focus",Te=En;break;case"focusout":Re="blur",Te=En;break;case"beforeblur":case"afterblur":Te=En;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Ss;break;case Xw:case Jw:case e0:Te=Kd;break;case t0:Te=il;break;case"scroll":Te=nl;break;case"wheel":Te=Dk;break;case"copy":case"cut":case"paste":Te=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=mr}var Oe=(a&4)!==0,Wt=!Oe&&o==="scroll",Q=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var q=ee,J;q!==null;){J=q;var fe=J.stateNode;if(J.tag===5&&fe!==null&&(J=fe,Q!==null&&(fe=Qt(q,Q),fe!=null&&Oe.push(Yc(q,fe,J)))),Wt)break;q=q.return}0<Oe.length&&(ae=new Te(ae,Re,null,c,le),ue.push({event:ae,listeners:Oe}))}}if((a&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",ae&&c!==Tr&&(Re=c.relatedTarget||c.fromElement)&&(Gi(Re)||Re[oo]))break e;if((Te||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,Te?(Re=c.relatedTarget||c.toElement,Te=ee,Re=Re?Gi(Re):null,Re!==null&&(Wt=Zr(Re),Re!==Wt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Te=null,Re=ee),Te!==Re)){if(Oe=$c,fe="onMouseLeave",Q="onMouseEnter",q="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=mr,fe="onPointerLeave",Q="onPointerEnter",q="pointer"),Wt=Te==null?ae:hl(Te),J=Re==null?ae:hl(Re),ae=new Oe(fe,q+"leave",Te,c,le),ae.target=Wt,ae.relatedTarget=J,fe=null,Gi(le)===ee&&(Oe=new Oe(Q,q+"enter",Re,c,le),Oe.target=J,Oe.relatedTarget=Wt,fe=Oe),Wt=fe,Te&&Re)t:{for(Oe=Te,Q=Re,q=0,J=Oe;J;J=ul(J))q++;for(J=0,fe=Q;fe;fe=ul(fe))J++;for(;0<q-J;)Oe=ul(Oe),q--;for(;0<J-q;)Q=ul(Q),J--;for(;q--;){if(Oe===Q||Q!==null&&Oe===Q.alternate)break t;Oe=ul(Oe),Q=ul(Q)}Oe=null}else Oe=null;Te!==null&&a0(ue,ae,Te,Oe,!1),Re!==null&&Wt!==null&&a0(ue,Wt,Re,Oe,!0)}}e:{if(ae=ee?hl(ee):window,Te=ae.nodeName&&ae.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ae.type==="file")var Me=zk;else if(zw(ae))if($w)Me=qk;else{Me=$k;var ze=Uk}else(Te=ae.nodeName)&&Te.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Me=Bk);if(Me&&(Me=Me(o,ee))){Uw(ue,Me,c,le);break e}ze&&ze(o,ae,ee),o==="focusout"&&(ze=ae._wrapperState)&&ze.controlled&&ae.type==="number"&&gt(ae,"number",ae.value)}switch(ze=ee?hl(ee):window,o){case"focusin":(zw(ze)||ze.contentEditable==="true")&&(ll=ze,Im=ee,Kc=null);break;case"focusout":Kc=Im=ll=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,Qw(ue,c,le);break;case"selectionchange":if(Gk)break;case"keydown":case"keyup":Qw(ue,c,le)}var Ue;if(wm)e:{switch(o){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else al?jw(o,c)&&(He="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(Mw&&c.locale!=="ko"&&(al||He!=="onCompositionStart"?He==="onCompositionEnd"&&al&&(Ue=qd()):(fr=le,tl="value"in fr?fr.value:fr.textContent,al=!0)),ze=Jd(ee,He),0<ze.length&&(He=new x(He,o,null,c,le),ue.push({event:He,listeners:ze}),Ue?He.data=Ue:(Ue=Fw(c),Ue!==null&&(He.data=Ue)))),(Ue=Mk?Vk(o,c):Lk(o,c))&&(ee=Jd(ee,"onBeforeInput"),0<ee.length&&(le=new x("onBeforeInput","beforeinput",null,c,le),ue.push({event:le,listeners:ee}),le.data=Ue))}o0(ue,a)})}function Yc(o,a,c){return{instance:o,listener:a,currentTarget:c}}function Jd(o,a){for(var c=a+"Capture",f=[];o!==null;){var y=o,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=Qt(o,c),_!=null&&f.unshift(Yc(o,_,y)),_=Qt(o,a),_!=null&&f.push(Yc(o,_,y))),o=o.return}return f}function ul(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function a0(o,a,c,f,y){for(var _=a._reactName,T=[];c!==null&&c!==f;){var L=c,$=L.alternate,ee=L.stateNode;if($!==null&&$===f)break;L.tag===5&&ee!==null&&(L=ee,y?($=Qt(c,_),$!=null&&T.unshift(Yc(c,$,L))):y||($=Qt(c,_),$!=null&&T.push(Yc(c,$,L)))),c=c.return}T.length!==0&&o.push({event:a,listeners:T})}var Yk=/\r\n?/g,Xk=/\u0000|\uFFFD/g;function l0(o){return(typeof o=="string"?o:""+o).replace(Yk,`
`).replace(Xk,"")}function eh(o,a,c){if(a=l0(a),l0(o)!==a&&c)throw Error(t(425))}function th(){}var km=null,Nm=null;function Dm(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Om=typeof setTimeout=="function"?setTimeout:void 0,Jk=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,eN=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(o){return c0.resolve(null).then(o).catch(tN)}:Om;function tN(o){setTimeout(function(){throw o})}function Mm(o,a){var c=a,f=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(f===0){o.removeChild(y),Uo(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=y}while(c);Uo(a)}function Ho(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function u0(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var dl=Math.random().toString(36).slice(2),Cs="__reactFiber$"+dl,Xc="__reactProps$"+dl,oo="__reactContainer$"+dl,Vm="__reactEvents$"+dl,nN="__reactListeners$"+dl,rN="__reactHandles$"+dl;function Gi(o){var a=o[Cs];if(a)return a;for(var c=o.parentNode;c;){if(a=c[oo]||c[Cs]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=u0(o);o!==null;){if(c=o[Cs])return c;o=u0(o)}return a}o=c,c=o.parentNode}return null}function Jc(o){return o=o[Cs]||o[oo],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function hl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function nh(o){return o[Xc]||null}var Lm=[],fl=-1;function Wo(o){return{current:o}}function kt(o){0>fl||(o.current=Lm[fl],Lm[fl]=null,fl--)}function Tt(o,a){fl++,Lm[fl]=o.current,o.current=a}var Go={},Rn=Wo(Go),Yn=Wo(!1),Ki=Go;function pl(o,a){var c=o.type.contextTypes;if(!c)return Go;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in c)y[_]=a[_];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Xn(o){return o=o.childContextTypes,o!=null}function rh(){kt(Yn),kt(Rn)}function d0(o,a,c){if(Rn.current!==Go)throw Error(t(168));Tt(Rn,a),Tt(Yn,c)}function h0(o,a,c){var f=o.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var y in f)if(!(y in a))throw Error(t(108,ve(o)||"Unknown",y));return X({},c,f)}function sh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Go,Ki=Rn.current,Tt(Rn,o),Tt(Yn,Yn.current),!0}function f0(o,a,c){var f=o.stateNode;if(!f)throw Error(t(169));c?(o=h0(o,a,Ki),f.__reactInternalMemoizedMergedChildContext=o,kt(Yn),kt(Rn),Tt(Rn,o)):kt(Yn),Tt(Yn,c)}var io=null,oh=!1,jm=!1;function p0(o){io===null?io=[o]:io.push(o)}function sN(o){oh=!0,p0(o)}function Ko(){if(!jm&&io!==null){jm=!0;var o=0,a=lt;try{var c=io;for(lt=1;o<c.length;o++){var f=c[o];do f=f(!0);while(f!==null)}io=null,oh=!1}catch(y){throw io!==null&&(io=io.slice(o+1)),Pc(Ka,Ko),y}finally{lt=a,jm=!1}}return null}var ml=[],gl=0,ih=null,ah=0,Rr=[],kr=0,Zi=null,ao=1,lo="";function Qi(o,a){ml[gl++]=ah,ml[gl++]=ih,ih=o,ah=a}function m0(o,a,c){Rr[kr++]=ao,Rr[kr++]=lo,Rr[kr++]=Zi,Zi=o;var f=ao;o=lo;var y=32-dr(f)-1;f&=~(1<<y),c+=1;var _=32-dr(a)+y;if(30<_){var T=y-y%5;_=(f&(1<<T)-1).toString(32),f>>=T,y-=T,ao=1<<32-dr(a)+y|c<<y|f,lo=_+o}else ao=1<<_|c<<y|f,lo=o}function Fm(o){o.return!==null&&(Qi(o,1),m0(o,1,0))}function zm(o){for(;o===ih;)ih=ml[--gl],ml[gl]=null,ah=ml[--gl],ml[gl]=null;for(;o===Zi;)Zi=Rr[--kr],Rr[kr]=null,lo=Rr[--kr],Rr[kr]=null,ao=Rr[--kr],Rr[kr]=null}var gr=null,yr=null,Nt=!1,Xr=null;function g0(o,a){var c=Mr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function y0(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,gr=o,yr=Ho(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,gr=o,yr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Zi!==null?{id:ao,overflow:lo}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Mr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,gr=o,yr=null,!0):!1;default:return!1}}function Um(o){return(o.mode&1)!==0&&(o.flags&128)===0}function $m(o){if(Nt){var a=yr;if(a){var c=a;if(!y0(o,a)){if(Um(o))throw Error(t(418));a=Ho(c.nextSibling);var f=gr;a&&y0(o,a)?g0(f,c):(o.flags=o.flags&-4097|2,Nt=!1,gr=o)}}else{if(Um(o))throw Error(t(418));o.flags=o.flags&-4097|2,Nt=!1,gr=o}}}function v0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;gr=o}function lh(o){if(o!==gr)return!1;if(!Nt)return v0(o),Nt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Dm(o.type,o.memoizedProps)),a&&(a=yr)){if(Um(o))throw _0(),Error(t(418));for(;a;)g0(o,a),a=Ho(a.nextSibling)}if(v0(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){yr=Ho(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}yr=null}}else yr=gr?Ho(o.stateNode.nextSibling):null;return!0}function _0(){for(var o=yr;o;)o=Ho(o.nextSibling)}function yl(){yr=gr=null,Nt=!1}function Bm(o){Xr===null?Xr=[o]:Xr.push(o)}var oN=H.ReactCurrentBatchConfig;function eu(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,o));var y=f,_=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(T){var L=y.refs;T===null?delete L[_]:L[_]=T},a._stringRef=_,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function ch(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function w0(o){var a=o._init;return a(o._payload)}function E0(o){function a(Q,q){if(o){var J=Q.deletions;J===null?(Q.deletions=[q],Q.flags|=16):J.push(q)}}function c(Q,q){if(!o)return null;for(;q!==null;)a(Q,q),q=q.sibling;return null}function f(Q,q){for(Q=new Map;q!==null;)q.key!==null?Q.set(q.key,q):Q.set(q.index,q),q=q.sibling;return Q}function y(Q,q){return Q=ni(Q,q),Q.index=0,Q.sibling=null,Q}function _(Q,q,J){return Q.index=J,o?(J=Q.alternate,J!==null?(J=J.index,J<q?(Q.flags|=2,q):J):(Q.flags|=2,q)):(Q.flags|=1048576,q)}function T(Q){return o&&Q.alternate===null&&(Q.flags|=2),Q}function L(Q,q,J,fe){return q===null||q.tag!==6?(q=Og(J,Q.mode,fe),q.return=Q,q):(q=y(q,J),q.return=Q,q)}function $(Q,q,J,fe){var Me=J.type;return Me===C?le(Q,q,J.props.children,fe,J.key):q!==null&&(q.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===me&&w0(Me)===q.type)?(fe=y(q,J.props),fe.ref=eu(Q,q,J),fe.return=Q,fe):(fe=Dh(J.type,J.key,J.props,null,Q.mode,fe),fe.ref=eu(Q,q,J),fe.return=Q,fe)}function ee(Q,q,J,fe){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=Mg(J,Q.mode,fe),q.return=Q,q):(q=y(q,J.children||[]),q.return=Q,q)}function le(Q,q,J,fe,Me){return q===null||q.tag!==7?(q=sa(J,Q.mode,fe,Me),q.return=Q,q):(q=y(q,J),q.return=Q,q)}function ue(Q,q,J){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Og(""+q,Q.mode,J),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case B:return J=Dh(q.type,q.key,q.props,null,Q.mode,J),J.ref=eu(Q,null,q),J.return=Q,J;case W:return q=Mg(q,Q.mode,J),q.return=Q,q;case me:var fe=q._init;return ue(Q,fe(q._payload),J)}if(Vt(q)||ne(q))return q=sa(q,Q.mode,J,null),q.return=Q,q;ch(Q,q)}return null}function ae(Q,q,J,fe){var Me=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Me!==null?null:L(Q,q,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===Me?$(Q,q,J,fe):null;case W:return J.key===Me?ee(Q,q,J,fe):null;case me:return Me=J._init,ae(Q,q,Me(J._payload),fe)}if(Vt(J)||ne(J))return Me!==null?null:le(Q,q,J,fe,null);ch(Q,J)}return null}function Te(Q,q,J,fe,Me){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Q=Q.get(J)||null,L(q,Q,""+fe,Me);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case B:return Q=Q.get(fe.key===null?J:fe.key)||null,$(q,Q,fe,Me);case W:return Q=Q.get(fe.key===null?J:fe.key)||null,ee(q,Q,fe,Me);case me:var ze=fe._init;return Te(Q,q,J,ze(fe._payload),Me)}if(Vt(fe)||ne(fe))return Q=Q.get(J)||null,le(q,Q,fe,Me,null);ch(q,fe)}return null}function Re(Q,q,J,fe){for(var Me=null,ze=null,Ue=q,He=q=0,gn=null;Ue!==null&&He<J.length;He++){Ue.index>He?(gn=Ue,Ue=null):gn=Ue.sibling;var pt=ae(Q,Ue,J[He],fe);if(pt===null){Ue===null&&(Ue=gn);break}o&&Ue&&pt.alternate===null&&a(Q,Ue),q=_(pt,q,He),ze===null?Me=pt:ze.sibling=pt,ze=pt,Ue=gn}if(He===J.length)return c(Q,Ue),Nt&&Qi(Q,He),Me;if(Ue===null){for(;He<J.length;He++)Ue=ue(Q,J[He],fe),Ue!==null&&(q=_(Ue,q,He),ze===null?Me=Ue:ze.sibling=Ue,ze=Ue);return Nt&&Qi(Q,He),Me}for(Ue=f(Q,Ue);He<J.length;He++)gn=Te(Ue,Q,He,J[He],fe),gn!==null&&(o&&gn.alternate!==null&&Ue.delete(gn.key===null?He:gn.key),q=_(gn,q,He),ze===null?Me=gn:ze.sibling=gn,ze=gn);return o&&Ue.forEach(function(ri){return a(Q,ri)}),Nt&&Qi(Q,He),Me}function Oe(Q,q,J,fe){var Me=ne(J);if(typeof Me!="function")throw Error(t(150));if(J=Me.call(J),J==null)throw Error(t(151));for(var ze=Me=null,Ue=q,He=q=0,gn=null,pt=J.next();Ue!==null&&!pt.done;He++,pt=J.next()){Ue.index>He?(gn=Ue,Ue=null):gn=Ue.sibling;var ri=ae(Q,Ue,pt.value,fe);if(ri===null){Ue===null&&(Ue=gn);break}o&&Ue&&ri.alternate===null&&a(Q,Ue),q=_(ri,q,He),ze===null?Me=ri:ze.sibling=ri,ze=ri,Ue=gn}if(pt.done)return c(Q,Ue),Nt&&Qi(Q,He),Me;if(Ue===null){for(;!pt.done;He++,pt=J.next())pt=ue(Q,pt.value,fe),pt!==null&&(q=_(pt,q,He),ze===null?Me=pt:ze.sibling=pt,ze=pt);return Nt&&Qi(Q,He),Me}for(Ue=f(Q,Ue);!pt.done;He++,pt=J.next())pt=Te(Ue,Q,He,pt.value,fe),pt!==null&&(o&&pt.alternate!==null&&Ue.delete(pt.key===null?He:pt.key),q=_(pt,q,He),ze===null?Me=pt:ze.sibling=pt,ze=pt);return o&&Ue.forEach(function(jN){return a(Q,jN)}),Nt&&Qi(Q,He),Me}function Wt(Q,q,J,fe){if(typeof J=="object"&&J!==null&&J.type===C&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var Me=J.key,ze=q;ze!==null;){if(ze.key===Me){if(Me=J.type,Me===C){if(ze.tag===7){c(Q,ze.sibling),q=y(ze,J.props.children),q.return=Q,Q=q;break e}}else if(ze.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===me&&w0(Me)===ze.type){c(Q,ze.sibling),q=y(ze,J.props),q.ref=eu(Q,ze,J),q.return=Q,Q=q;break e}c(Q,ze);break}else a(Q,ze);ze=ze.sibling}J.type===C?(q=sa(J.props.children,Q.mode,fe,J.key),q.return=Q,Q=q):(fe=Dh(J.type,J.key,J.props,null,Q.mode,fe),fe.ref=eu(Q,q,J),fe.return=Q,Q=fe)}return T(Q);case W:e:{for(ze=J.key;q!==null;){if(q.key===ze)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){c(Q,q.sibling),q=y(q,J.children||[]),q.return=Q,Q=q;break e}else{c(Q,q);break}else a(Q,q);q=q.sibling}q=Mg(J,Q.mode,fe),q.return=Q,Q=q}return T(Q);case me:return ze=J._init,Wt(Q,q,ze(J._payload),fe)}if(Vt(J))return Re(Q,q,J,fe);if(ne(J))return Oe(Q,q,J,fe);ch(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,q!==null&&q.tag===6?(c(Q,q.sibling),q=y(q,J),q.return=Q,Q=q):(c(Q,q),q=Og(J,Q.mode,fe),q.return=Q,Q=q),T(Q)):c(Q,q)}return Wt}var vl=E0(!0),b0=E0(!1),uh=Wo(null),dh=null,_l=null,qm=null;function Hm(){qm=_l=dh=null}function Wm(o){var a=uh.current;kt(uh),o._currentValue=a}function Gm(o,a,c){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===c)break;o=o.return}}function wl(o,a){dh=o,qm=_l=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Jn=!0),o.firstContext=null)}function Nr(o){var a=o._currentValue;if(qm!==o)if(o={context:o,memoizedValue:a,next:null},_l===null){if(dh===null)throw Error(t(308));_l=o,dh.dependencies={lanes:0,firstContext:o}}else _l=_l.next=o;return a}var Yi=null;function Km(o){Yi===null?Yi=[o]:Yi.push(o)}function x0(o,a,c,f){var y=a.interleaved;return y===null?(c.next=c,Km(a)):(c.next=y.next,y.next=c),a.interleaved=c,co(o,f)}function co(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Zo=!1;function Zm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I0(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function uo(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Qo(o,a,c){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(ft&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,co(o,c)}return y=f.interleaved,y===null?(a.next=a,Km(f)):(a.next=y.next,y.next=a),f.interleaved=a,co(o,c)}function hh(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Mc(o,c)}}function S0(o,a){var c=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?y=_=T:_=_.next=T,c=c.next}while(c!==null);_===null?y=_=a:_=_.next=a}else y=_=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:f.shared,effects:f.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function fh(o,a,c,f){var y=o.updateQueue;Zo=!1;var _=y.firstBaseUpdate,T=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var $=L,ee=$.next;$.next=null,T===null?_=ee:T.next=ee,T=$;var le=o.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==T&&(L===null?le.firstBaseUpdate=ee:L.next=ee,le.lastBaseUpdate=$))}if(_!==null){var ue=y.baseState;T=0,le=ee=$=null,L=_;do{var ae=L.lane,Te=L.eventTime;if((f&ae)===ae){le!==null&&(le=le.next={eventTime:Te,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Re=o,Oe=L;switch(ae=a,Te=c,Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){ue=Re.call(Te,ue,ae);break e}ue=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,ae=typeof Re=="function"?Re.call(Te,ue,ae):Re,ae==null)break e;ue=X({},ue,ae);break e;case 2:Zo=!0}}L.callback!==null&&L.lane!==0&&(o.flags|=64,ae=y.effects,ae===null?y.effects=[L]:ae.push(L))}else Te={eventTime:Te,lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(ee=le=Te,$=ue):le=le.next=Te,T|=ae;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);if(le===null&&($=ue),y.baseState=$,y.firstBaseUpdate=ee,y.lastBaseUpdate=le,a=y.shared.interleaved,a!==null){y=a;do T|=y.lane,y=y.next;while(y!==a)}else _===null&&(y.shared.lanes=0);ea|=T,o.lanes=T,o.memoizedState=ue}}function T0(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var f=o[a],y=f.callback;if(y!==null){if(f.callback=null,f=c,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var tu={},As=Wo(tu),nu=Wo(tu),ru=Wo(tu);function Xi(o){if(o===tu)throw Error(t(174));return o}function Qm(o,a){switch(Tt(ru,a),Tt(nu,o),Tt(As,tu),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:No(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=No(a,o)}kt(As),Tt(As,a)}function El(){kt(As),kt(nu),kt(ru)}function C0(o){Xi(ru.current);var a=Xi(As.current),c=No(a,o.type);a!==c&&(Tt(nu,o),Tt(As,c))}function Ym(o){nu.current===o&&(kt(As),kt(nu))}var Lt=Wo(0);function ph(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Xm=[];function Jm(){for(var o=0;o<Xm.length;o++)Xm[o]._workInProgressVersionPrimary=null;Xm.length=0}var mh=H.ReactCurrentDispatcher,eg=H.ReactCurrentBatchConfig,Ji=0,jt=null,on=null,pn=null,gh=!1,su=!1,ou=0,iN=0;function kn(){throw Error(t(321))}function tg(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!Yr(o[c],a[c]))return!1;return!0}function ng(o,a,c,f,y,_){if(Ji=_,jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,mh.current=o===null||o.memoizedState===null?uN:dN,o=c(f,y),su){_=0;do{if(su=!1,ou=0,25<=_)throw Error(t(301));_+=1,pn=on=null,a.updateQueue=null,mh.current=hN,o=c(f,y)}while(su)}if(mh.current=_h,a=on!==null&&on.next!==null,Ji=0,pn=on=jt=null,gh=!1,a)throw Error(t(300));return o}function rg(){var o=ou!==0;return ou=0,o}function Ps(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?jt.memoizedState=pn=o:pn=pn.next=o,pn}function Dr(){if(on===null){var o=jt.alternate;o=o!==null?o.memoizedState:null}else o=on.next;var a=pn===null?jt.memoizedState:pn.next;if(a!==null)pn=a,on=o;else{if(o===null)throw Error(t(310));on=o,o={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},pn===null?jt.memoizedState=pn=o:pn=pn.next=o}return pn}function iu(o,a){return typeof a=="function"?a(o):a}function sg(o){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=on,y=f.baseQueue,_=c.pending;if(_!==null){if(y!==null){var T=y.next;y.next=_.next,_.next=T}f.baseQueue=y=_,c.pending=null}if(y!==null){_=y.next,f=f.baseState;var L=T=null,$=null,ee=_;do{var le=ee.lane;if((Ji&le)===le)$!==null&&($=$.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),f=ee.hasEagerState?ee.eagerState:o(f,ee.action);else{var ue={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};$===null?(L=$=ue,T=f):$=$.next=ue,jt.lanes|=le,ea|=le}ee=ee.next}while(ee!==null&&ee!==_);$===null?T=f:$.next=L,Yr(f,a.memoizedState)||(Jn=!0),a.memoizedState=f,a.baseState=T,a.baseQueue=$,c.lastRenderedState=f}if(o=c.interleaved,o!==null){y=o;do _=y.lane,jt.lanes|=_,ea|=_,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function og(o){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var f=c.dispatch,y=c.pending,_=a.memoizedState;if(y!==null){c.pending=null;var T=y=y.next;do _=o(_,T.action),T=T.next;while(T!==y);Yr(_,a.memoizedState)||(Jn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,f]}function A0(){}function P0(o,a){var c=jt,f=Dr(),y=a(),_=!Yr(f.memoizedState,y);if(_&&(f.memoizedState=y,Jn=!0),f=f.queue,ig(N0.bind(null,c,f,o),[o]),f.getSnapshot!==a||_||pn!==null&&pn.memoizedState.tag&1){if(c.flags|=2048,au(9,k0.bind(null,c,f,y,a),void 0,null),mn===null)throw Error(t(349));(Ji&30)!==0||R0(c,a,y)}return y}function R0(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function k0(o,a,c,f){a.value=c,a.getSnapshot=f,D0(a)&&O0(o)}function N0(o,a,c){return c(function(){D0(a)&&O0(o)})}function D0(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!Yr(o,c)}catch{return!0}}function O0(o){var a=co(o,1);a!==null&&ns(a,o,1,-1)}function M0(o){var a=Ps();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:o},a.queue=o,o=o.dispatch=cN.bind(null,jt,o),[a.memoizedState,o]}function au(o,a,c,f){return o={tag:o,create:a,destroy:c,deps:f,next:null},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(f=c.next,c.next=o,o.next=f,a.lastEffect=o)),o}function V0(){return Dr().memoizedState}function yh(o,a,c,f){var y=Ps();jt.flags|=o,y.memoizedState=au(1|a,c,void 0,f===void 0?null:f)}function vh(o,a,c,f){var y=Dr();f=f===void 0?null:f;var _=void 0;if(on!==null){var T=on.memoizedState;if(_=T.destroy,f!==null&&tg(f,T.deps)){y.memoizedState=au(a,c,_,f);return}}jt.flags|=o,y.memoizedState=au(1|a,c,_,f)}function L0(o,a){return yh(8390656,8,o,a)}function ig(o,a){return vh(2048,8,o,a)}function j0(o,a){return vh(4,2,o,a)}function F0(o,a){return vh(4,4,o,a)}function z0(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function U0(o,a,c){return c=c!=null?c.concat([o]):null,vh(4,4,z0.bind(null,a,o),c)}function ag(){}function $0(o,a){var c=Dr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&tg(a,f[1])?f[0]:(c.memoizedState=[o,a],o)}function B0(o,a){var c=Dr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&tg(a,f[1])?f[0]:(o=o(),c.memoizedState=[o,a],o)}function q0(o,a,c){return(Ji&21)===0?(o.baseState&&(o.baseState=!1,Jn=!0),o.memoizedState=c):(Yr(c,a)||(c=Dc(),jt.lanes|=c,ea|=c,o.baseState=!0),a)}function aN(o,a){var c=lt;lt=c!==0&&4>c?c:4,o(!0);var f=eg.transition;eg.transition={};try{o(!1),a()}finally{lt=c,eg.transition=f}}function H0(){return Dr().memoizedState}function lN(o,a,c){var f=ei(o);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},W0(o))G0(a,c);else if(c=x0(o,a,c,f),c!==null){var y=Bn();ns(c,o,f,y),K0(c,a,f)}}function cN(o,a,c){var f=ei(o),y={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(W0(o))G0(a,y);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var T=a.lastRenderedState,L=_(T,c);if(y.hasEagerState=!0,y.eagerState=L,Yr(L,T)){var $=a.interleaved;$===null?(y.next=y,Km(a)):(y.next=$.next,$.next=y),a.interleaved=y;return}}catch{}finally{}c=x0(o,a,y,f),c!==null&&(y=Bn(),ns(c,o,f,y),K0(c,a,f))}}function W0(o){var a=o.alternate;return o===jt||a!==null&&a===jt}function G0(o,a){su=gh=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function K0(o,a,c){if((c&4194240)!==0){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,Mc(o,c)}}var _h={readContext:Nr,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},uN={readContext:Nr,useCallback:function(o,a){return Ps().memoizedState=[o,a===void 0?null:a],o},useContext:Nr,useEffect:L0,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,yh(4194308,4,z0.bind(null,a,o),c)},useLayoutEffect:function(o,a){return yh(4194308,4,o,a)},useInsertionEffect:function(o,a){return yh(4,2,o,a)},useMemo:function(o,a){var c=Ps();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var f=Ps();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},f.queue=o,o=o.dispatch=lN.bind(null,jt,o),[f.memoizedState,o]},useRef:function(o){var a=Ps();return o={current:o},a.memoizedState=o},useState:M0,useDebugValue:ag,useDeferredValue:function(o){return Ps().memoizedState=o},useTransition:function(){var o=M0(!1),a=o[0];return o=aN.bind(null,o[1]),Ps().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var f=jt,y=Ps();if(Nt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),mn===null)throw Error(t(349));(Ji&30)!==0||R0(f,a,c)}y.memoizedState=c;var _={value:c,getSnapshot:a};return y.queue=_,L0(N0.bind(null,f,_,o),[o]),f.flags|=2048,au(9,k0.bind(null,f,_,c,a),void 0,null),c},useId:function(){var o=Ps(),a=mn.identifierPrefix;if(Nt){var c=lo,f=ao;c=(f&~(1<<32-dr(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=ou++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=iN++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},dN={readContext:Nr,useCallback:$0,useContext:Nr,useEffect:ig,useImperativeHandle:U0,useInsertionEffect:j0,useLayoutEffect:F0,useMemo:B0,useReducer:sg,useRef:V0,useState:function(){return sg(iu)},useDebugValue:ag,useDeferredValue:function(o){var a=Dr();return q0(a,on.memoizedState,o)},useTransition:function(){var o=sg(iu)[0],a=Dr().memoizedState;return[o,a]},useMutableSource:A0,useSyncExternalStore:P0,useId:H0,unstable_isNewReconciler:!1},hN={readContext:Nr,useCallback:$0,useContext:Nr,useEffect:ig,useImperativeHandle:U0,useInsertionEffect:j0,useLayoutEffect:F0,useMemo:B0,useReducer:og,useRef:V0,useState:function(){return og(iu)},useDebugValue:ag,useDeferredValue:function(o){var a=Dr();return on===null?a.memoizedState=o:q0(a,on.memoizedState,o)},useTransition:function(){var o=og(iu)[0],a=Dr().memoizedState;return[o,a]},useMutableSource:A0,useSyncExternalStore:P0,useId:H0,unstable_isNewReconciler:!1};function Jr(o,a){if(o&&o.defaultProps){a=X({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function lg(o,a,c,f){a=o.memoizedState,c=c(f,a),c=c==null?a:X({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var wh={isMounted:function(o){return(o=o._reactInternals)?Zr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var f=Bn(),y=ei(o),_=uo(f,y);_.payload=a,c!=null&&(_.callback=c),a=Qo(o,_,y),a!==null&&(ns(a,o,y,f),hh(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var f=Bn(),y=ei(o),_=uo(f,y);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=Qo(o,_,y),a!==null&&(ns(a,o,y,f),hh(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=Bn(),f=ei(o),y=uo(c,f);y.tag=2,a!=null&&(y.callback=a),a=Qo(o,y,f),a!==null&&(ns(a,o,f,c),hh(a,o,f))}};function Z0(o,a,c,f,y,_,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,_,T):a.prototype&&a.prototype.isPureReactComponent?!Gc(c,f)||!Gc(y,_):!0}function Q0(o,a,c){var f=!1,y=Go,_=a.contextType;return typeof _=="object"&&_!==null?_=Nr(_):(y=Xn(a)?Ki:Rn.current,f=a.contextTypes,_=(f=f!=null)?pl(o,y):Go),a=new a(c,_),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=wh,o.stateNode=a,a._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=_),a}function Y0(o,a,c,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==o&&wh.enqueueReplaceState(a,a.state,null)}function cg(o,a,c,f){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},Zm(o);var _=a.contextType;typeof _=="object"&&_!==null?y.context=Nr(_):(_=Xn(a)?Ki:Rn.current,y.context=pl(o,_)),y.state=o.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(lg(o,a,_,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&wh.enqueueReplaceState(y,y.state,null),fh(o,c,y,f),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function bl(o,a){try{var c="",f=a;do c+=he(f),f=f.return;while(f);var y=c}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:a,stack:y,digest:null}}function ug(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function dg(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var fN=typeof WeakMap=="function"?WeakMap:Map;function X0(o,a,c){c=uo(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){Ch||(Ch=!0,Tg=f),dg(o,a)},c}function J0(o,a,c){c=uo(-1,c),c.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=a.value;c.payload=function(){return f(y)},c.callback=function(){dg(o,a)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){dg(o,a),typeof f!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),c}function eE(o,a,c){var f=o.pingCache;if(f===null){f=o.pingCache=new fN;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(y.add(c),o=CN.bind(null,o,a,c),a.then(o,o))}function tE(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function nE(o,a,c,f,y){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=uo(-1,1),a.tag=2,Qo(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var pN=H.ReactCurrentOwner,Jn=!1;function $n(o,a,c,f){a.child=o===null?b0(a,null,c,f):vl(a,o.child,c,f)}function rE(o,a,c,f,y){c=c.render;var _=a.ref;return wl(a,y),f=ng(o,a,c,f,_,y),c=rg(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ho(o,a,y)):(Nt&&c&&Fm(a),a.flags|=1,$n(o,a,f,y),a.child)}function sE(o,a,c,f,y){if(o===null){var _=c.type;return typeof _=="function"&&!Dg(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,oE(o,a,_,f,y)):(o=Dh(c.type,null,f,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(_=o.child,(o.lanes&y)===0){var T=_.memoizedProps;if(c=c.compare,c=c!==null?c:Gc,c(T,f)&&o.ref===a.ref)return ho(o,a,y)}return a.flags|=1,o=ni(_,f),o.ref=a.ref,o.return=a,a.child=o}function oE(o,a,c,f,y){if(o!==null){var _=o.memoizedProps;if(Gc(_,f)&&o.ref===a.ref)if(Jn=!1,a.pendingProps=f=_,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Jn=!0);else return a.lanes=o.lanes,ho(o,a,y)}return hg(o,a,c,f,y)}function iE(o,a,c){var f=a.pendingProps,y=f.children,_=o!==null?o.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Il,vr),vr|=c;else{if((c&1073741824)===0)return o=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Tt(Il,vr),vr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:c,Tt(Il,vr),vr|=f}else _!==null?(f=_.baseLanes|c,a.memoizedState=null):f=c,Tt(Il,vr),vr|=f;return $n(o,a,y,c),a.child}function aE(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function hg(o,a,c,f,y){var _=Xn(c)?Ki:Rn.current;return _=pl(a,_),wl(a,y),c=ng(o,a,c,f,_,y),f=rg(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ho(o,a,y)):(Nt&&f&&Fm(a),a.flags|=1,$n(o,a,c,y),a.child)}function lE(o,a,c,f,y){if(Xn(c)){var _=!0;sh(a)}else _=!1;if(wl(a,y),a.stateNode===null)bh(o,a),Q0(a,c,f),cg(a,c,f,y),f=!0;else if(o===null){var T=a.stateNode,L=a.memoizedProps;T.props=L;var $=T.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Nr(ee):(ee=Xn(c)?Ki:Rn.current,ee=pl(a,ee));var le=c.getDerivedStateFromProps,ue=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==f||$!==ee)&&Y0(a,T,f,ee),Zo=!1;var ae=a.memoizedState;T.state=ae,fh(a,f,T,y),$=a.memoizedState,L!==f||ae!==$||Yn.current||Zo?(typeof le=="function"&&(lg(a,c,le,f),$=a.memoizedState),(L=Zo||Z0(a,c,L,f,ae,$,ee))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=$),T.props=f,T.state=$,T.context=ee,f=L):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{T=a.stateNode,I0(o,a),L=a.memoizedProps,ee=a.type===a.elementType?L:Jr(a.type,L),T.props=ee,ue=a.pendingProps,ae=T.context,$=c.contextType,typeof $=="object"&&$!==null?$=Nr($):($=Xn(c)?Ki:Rn.current,$=pl(a,$));var Te=c.getDerivedStateFromProps;(le=typeof Te=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==ue||ae!==$)&&Y0(a,T,f,$),Zo=!1,ae=a.memoizedState,T.state=ae,fh(a,f,T,y);var Re=a.memoizedState;L!==ue||ae!==Re||Yn.current||Zo?(typeof Te=="function"&&(lg(a,c,Te,f),Re=a.memoizedState),(ee=Zo||Z0(a,c,ee,f,ae,Re,$)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,Re,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,Re,$)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Re),T.props=f,T.state=Re,T.context=$,f=ee):(typeof T.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(a.flags|=1024),f=!1)}return fg(o,a,c,f,_,y)}function fg(o,a,c,f,y,_){aE(o,a);var T=(a.flags&128)!==0;if(!f&&!T)return y&&f0(a,c,!1),ho(o,a,_);f=a.stateNode,pN.current=a;var L=T&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,o!==null&&T?(a.child=vl(a,o.child,null,_),a.child=vl(a,null,L,_)):$n(o,a,L,_),a.memoizedState=f.state,y&&f0(a,c,!0),a.child}function cE(o){var a=o.stateNode;a.pendingContext?d0(o,a.pendingContext,a.pendingContext!==a.context):a.context&&d0(o,a.context,!1),Qm(o,a.containerInfo)}function uE(o,a,c,f,y){return yl(),Bm(y),a.flags|=256,$n(o,a,c,f),a.child}var pg={dehydrated:null,treeContext:null,retryLane:0};function mg(o){return{baseLanes:o,cachePool:null,transitions:null}}function dE(o,a,c){var f=a.pendingProps,y=Lt.current,_=!1,T=(a.flags&128)!==0,L;if((L=T)||(L=o!==null&&o.memoizedState===null?!1:(y&2)!==0),L?(_=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),Tt(Lt,y&1),o===null)return $m(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=f.children,o=f.fallback,_?(f=a.mode,_=a.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=Oh(T,f,0,null),o=sa(o,f,c,null),_.return=a,o.return=a,_.sibling=o,a.child=_,a.child.memoizedState=mg(c),a.memoizedState=pg,o):gg(a,T));if(y=o.memoizedState,y!==null&&(L=y.dehydrated,L!==null))return mN(o,a,T,f,L,y,c);if(_){_=f.fallback,T=a.mode,y=o.child,L=y.sibling;var $={mode:"hidden",children:f.children};return(T&1)===0&&a.child!==y?(f=a.child,f.childLanes=0,f.pendingProps=$,a.deletions=null):(f=ni(y,$),f.subtreeFlags=y.subtreeFlags&14680064),L!==null?_=ni(L,_):(_=sa(_,T,c,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,T=o.child.memoizedState,T=T===null?mg(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=o.childLanes&~c,a.memoizedState=pg,f}return _=o.child,o=_.sibling,f=ni(_,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=f,a.memoizedState=null,f}function gg(o,a){return a=Oh({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Eh(o,a,c,f){return f!==null&&Bm(f),vl(a,o.child,null,c),o=gg(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function mN(o,a,c,f,y,_,T){if(c)return a.flags&256?(a.flags&=-257,f=ug(Error(t(422))),Eh(o,a,T,f)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(_=f.fallback,y=a.mode,f=Oh({mode:"visible",children:f.children},y,0,null),_=sa(_,y,T,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,(a.mode&1)!==0&&vl(a,o.child,null,T),a.child.memoizedState=mg(T),a.memoizedState=pg,_);if((a.mode&1)===0)return Eh(o,a,T,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var L=f.dgst;return f=L,_=Error(t(419)),f=ug(_,f,void 0),Eh(o,a,T,f)}if(L=(T&o.childLanes)!==0,Jn||L){if(f=mn,f!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|T))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,co(o,y),ns(f,o,y,-1))}return Ng(),f=ug(Error(t(421))),Eh(o,a,T,f)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=AN.bind(null,o),y._reactRetry=a,null):(o=_.treeContext,yr=Ho(y.nextSibling),gr=a,Nt=!0,Xr=null,o!==null&&(Rr[kr++]=ao,Rr[kr++]=lo,Rr[kr++]=Zi,ao=o.id,lo=o.overflow,Zi=a),a=gg(a,f.children),a.flags|=4096,a)}function hE(o,a,c){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),Gm(o.return,a,c)}function yg(o,a,c,f,y){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=c,_.tailMode=y)}function fE(o,a,c){var f=a.pendingProps,y=f.revealOrder,_=f.tail;if($n(o,a,f.children,c),f=Lt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&hE(o,c,a);else if(o.tag===19)hE(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(Tt(Lt,f),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&ph(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),yg(a,!1,y,c,_);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&ph(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}yg(a,!0,c,null,_);break;case"together":yg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function bh(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function ho(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),ea|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=ni(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=ni(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function gN(o,a,c){switch(a.tag){case 3:cE(a),yl();break;case 5:C0(a);break;case 1:Xn(a.type)&&sh(a);break;case 4:Qm(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,y=a.memoizedProps.value;Tt(uh,f._currentValue),f._currentValue=y;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Tt(Lt,Lt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?dE(o,a,c):(Tt(Lt,Lt.current&1),o=ho(o,a,c),o!==null?o.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(o.flags&128)!==0){if(f)return fE(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Tt(Lt,Lt.current),f)break;return null;case 22:case 23:return a.lanes=0,iE(o,a,c)}return ho(o,a,c)}var pE,vg,mE,gE;pE=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},vg=function(){},mE=function(o,a,c,f){var y=o.memoizedProps;if(y!==f){o=a.stateNode,Xi(As.current);var _=null;switch(c){case"input":y=ds(o,y),f=ds(o,f),_=[];break;case"select":y=X({},y,{value:void 0}),f=X({},f,{value:void 0}),_=[];break;case"textarea":y=sn(o,y),f=sn(o,f),_=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=th)}Qn(c,f);var T;c=null;for(ee in y)if(!f.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var L=y[ee];for(T in L)L.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in f){var $=f[ee];if(L=y?.[ee],f.hasOwnProperty(ee)&&$!==L&&($!=null||L!=null))if(ee==="style")if(L){for(T in L)!L.hasOwnProperty(T)||$&&$.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in $)$.hasOwnProperty(T)&&L[T]!==$[T]&&(c||(c={}),c[T]=$[T])}else c||(_||(_=[]),_.push(ee,c)),c=$;else ee==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,L=L?L.__html:void 0,$!=null&&L!==$&&(_=_||[]).push(ee,$)):ee==="children"?typeof $!="string"&&typeof $!="number"||(_=_||[]).push(ee,""+$):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?($!=null&&ee==="onScroll"&&Rt("scroll",o),_||L===$||(_=[])):(_=_||[]).push(ee,$))}c&&(_=_||[]).push("style",c);var ee=_;(a.updateQueue=ee)&&(a.flags|=4)}},gE=function(o,a,c,f){c!==f&&(a.flags|=4)};function lu(o,a){if(!Nt)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Nn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,f=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=f,o.childLanes=c,a}function yN(o,a,c){var f=a.pendingProps;switch(zm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(a),null;case 1:return Xn(a.type)&&rh(),Nn(a),null;case 3:return f=a.stateNode,El(),kt(Yn),kt(Rn),Jm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(lh(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Xr!==null&&(Pg(Xr),Xr=null))),vg(o,a),Nn(a),null;case 5:Ym(a);var y=Xi(ru.current);if(c=a.type,o!==null&&a.stateNode!=null)mE(o,a,c,f,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Nn(a),null}if(o=Xi(As.current),lh(a)){f=a.stateNode,c=a.type;var _=a.memoizedProps;switch(f[Cs]=a,f[Xc]=_,o=(a.mode&1)!==0,c){case"dialog":Rt("cancel",f),Rt("close",f);break;case"iframe":case"object":case"embed":Rt("load",f);break;case"video":case"audio":for(y=0;y<Zc.length;y++)Rt(Zc[y],f);break;case"source":Rt("error",f);break;case"img":case"image":case"link":Rt("error",f),Rt("load",f);break;case"details":Rt("toggle",f);break;case"input":Ha(f,_),Rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Rt("invalid",f);break;case"textarea":Sr(f,_),Rt("invalid",f)}Qn(c,_),y=null;for(var T in _)if(_.hasOwnProperty(T)){var L=_[T];T==="children"?typeof L=="string"?f.textContent!==L&&(_.suppressHydrationWarning!==!0&&eh(f.textContent,L,o),y=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(_.suppressHydrationWarning!==!0&&eh(f.textContent,L,o),y=["children",""+L]):s.hasOwnProperty(T)&&L!=null&&T==="onScroll"&&Rt("scroll",f)}switch(c){case"input":pe(f),ko(f,_,!0);break;case"textarea":pe(f),hs(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=th)}f=y,a.updateQueue=f,f!==null&&(a.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=fs(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=T.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=T.createElement(c,{is:f.is}):(o=T.createElement(c),c==="select"&&(T=o,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):o=T.createElementNS(o,c),o[Cs]=a,o[Xc]=f,pE(o,a,!1,!1),a.stateNode=o;e:{switch(T=Vo(c,f),c){case"dialog":Rt("cancel",o),Rt("close",o),y=f;break;case"iframe":case"object":case"embed":Rt("load",o),y=f;break;case"video":case"audio":for(y=0;y<Zc.length;y++)Rt(Zc[y],o);y=f;break;case"source":Rt("error",o),y=f;break;case"img":case"image":case"link":Rt("error",o),Rt("load",o),y=f;break;case"details":Rt("toggle",o),y=f;break;case"input":Ha(o,f),y=ds(o,f),Rt("invalid",o);break;case"option":y=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},y=X({},f,{value:void 0}),Rt("invalid",o);break;case"textarea":Sr(o,f),y=sn(o,f),Rt("invalid",o);break;default:y=f}Qn(c,y),L=y;for(_ in L)if(L.hasOwnProperty(_)){var $=L[_];_==="style"?Oo(o,$):_==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Do(o,$)):_==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&Zn(o,$):typeof $=="number"&&Zn(o,""+$):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?$!=null&&_==="onScroll"&&Rt("scroll",o):$!=null&&U(o,_,$,T))}switch(c){case"input":pe(o),ko(o,f,!1);break;case"textarea":pe(o),hs(o);break;case"option":f.value!=null&&o.setAttribute("value",""+Ie(f.value));break;case"select":o.multiple=!!f.multiple,_=f.value,_!=null?lr(o,!!f.multiple,_,!1):f.defaultValue!=null&&lr(o,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=th)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Nn(a),null;case 6:if(o&&a.stateNode!=null)gE(o,a,o.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=Xi(ru.current),Xi(As.current),lh(a)){if(f=a.stateNode,c=a.memoizedProps,f[Cs]=a,(_=f.nodeValue!==c)&&(o=gr,o!==null))switch(o.tag){case 3:eh(f.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&eh(f.nodeValue,c,(o.mode&1)!==0)}_&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Cs]=a,a.stateNode=f}return Nn(a),null;case 13:if(kt(Lt),f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Nt&&yr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)_0(),yl(),a.flags|=98560,_=!1;else if(_=lh(a),f!==null&&f.dehydrated!==null){if(o===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Cs]=a}else yl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nn(a),_=!1}else Xr!==null&&(Pg(Xr),Xr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Lt.current&1)!==0?an===0&&(an=3):Ng())),a.updateQueue!==null&&(a.flags|=4),Nn(a),null);case 4:return El(),vg(o,a),o===null&&Qc(a.stateNode.containerInfo),Nn(a),null;case 10:return Wm(a.type._context),Nn(a),null;case 17:return Xn(a.type)&&rh(),Nn(a),null;case 19:if(kt(Lt),_=a.memoizedState,_===null)return Nn(a),null;if(f=(a.flags&128)!==0,T=_.rendering,T===null)if(f)lu(_,!1);else{if(an!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(T=ph(o),T!==null){for(a.flags|=128,lu(_,!1),f=T.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)_=c,o=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,o=T.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Tt(Lt,Lt.current&1|2),a.child}o=o.sibling}_.tail!==null&&Pt()>Sl&&(a.flags|=128,f=!0,lu(_,!1),a.lanes=4194304)}else{if(!f)if(o=ph(T),o!==null){if(a.flags|=128,f=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),lu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!Nt)return Nn(a),null}else 2*Pt()-_.renderingStartTime>Sl&&c!==1073741824&&(a.flags|=128,f=!0,lu(_,!1),a.lanes=4194304);_.isBackwards?(T.sibling=a.child,a.child=T):(c=_.last,c!==null?c.sibling=T:a.child=T,_.last=T)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Pt(),a.sibling=null,c=Lt.current,Tt(Lt,f?c&1|2:c&1),a):(Nn(a),null);case 22:case 23:return kg(),f=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(vr&1073741824)!==0&&(Nn(a),a.subtreeFlags&6&&(a.flags|=8192)):Nn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function vN(o,a){switch(zm(a),a.tag){case 1:return Xn(a.type)&&rh(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return El(),kt(Yn),kt(Rn),Jm(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Ym(a),null;case 13:if(kt(Lt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));yl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return kt(Lt),null;case 4:return El(),null;case 10:return Wm(a.type._context),null;case 22:case 23:return kg(),null;case 24:return null;default:return null}}var xh=!1,Dn=!1,_N=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function xl(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){$t(o,a,f)}else c.current=null}function _g(o,a,c){try{c()}catch(f){$t(o,a,f)}}var yE=!1;function wN(o,a){if(km=no,o=Zw(),xm(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var T=0,L=-1,$=-1,ee=0,le=0,ue=o,ae=null;t:for(;;){for(var Te;ue!==c||y!==0&&ue.nodeType!==3||(L=T+y),ue!==_||f!==0&&ue.nodeType!==3||($=T+f),ue.nodeType===3&&(T+=ue.nodeValue.length),(Te=ue.firstChild)!==null;)ae=ue,ue=Te;for(;;){if(ue===o)break t;if(ae===c&&++ee===y&&(L=T),ae===_&&++le===f&&($=T),(Te=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=Te}c=L===-1||$===-1?null:{start:L,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(Nm={focusedElem:o,selectionRange:c},no=!1,Ae=a;Ae!==null;)if(a=Ae,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ae=o;else for(;Ae!==null;){a=Ae;try{var Re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Oe=Re.memoizedProps,Wt=Re.memoizedState,Q=a.stateNode,q=Q.getSnapshotBeforeUpdate(a.elementType===a.type?Oe:Jr(a.type,Oe),Wt);Q.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(fe){$t(a,a.return,fe)}if(o=a.sibling,o!==null){o.return=a.return,Ae=o;break}Ae=a.return}return Re=yE,yE=!1,Re}function cu(o,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&o)===o){var _=y.destroy;y.destroy=void 0,_!==void 0&&_g(a,c,_)}y=y.next}while(y!==f)}}function Ih(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function wg(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function vE(o){var a=o.alternate;a!==null&&(o.alternate=null,vE(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Cs],delete a[Xc],delete a[Vm],delete a[nN],delete a[rN])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function _E(o){return o.tag===5||o.tag===3||o.tag===4}function wE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||_E(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Eg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=th));else if(f!==4&&(o=o.child,o!==null))for(Eg(o,a,c),o=o.sibling;o!==null;)Eg(o,a,c),o=o.sibling}function bg(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(bg(o,a,c),o=o.sibling;o!==null;)bg(o,a,c),o=o.sibling}var bn=null,es=!1;function Yo(o,a,c){for(c=c.child;c!==null;)EE(o,a,c),c=c.sibling}function EE(o,a,c){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(ji,c)}catch{}switch(c.tag){case 5:Dn||xl(c,a);case 6:var f=bn,y=es;bn=null,Yo(o,a,c),bn=f,es=y,bn!==null&&(es?(o=bn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):bn.removeChild(c.stateNode));break;case 18:bn!==null&&(es?(o=bn,c=c.stateNode,o.nodeType===8?Mm(o.parentNode,c):o.nodeType===1&&Mm(o,c),Uo(o)):Mm(bn,c.stateNode));break;case 4:f=bn,y=es,bn=c.stateNode.containerInfo,es=!0,Yo(o,a,c),bn=f,es=y;break;case 0:case 11:case 14:case 15:if(!Dn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var _=y,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&_g(c,a,T),y=y.next}while(y!==f)}Yo(o,a,c);break;case 1:if(!Dn&&(xl(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(L){$t(c,a,L)}Yo(o,a,c);break;case 21:Yo(o,a,c);break;case 22:c.mode&1?(Dn=(f=Dn)||c.memoizedState!==null,Yo(o,a,c),Dn=f):Yo(o,a,c);break;default:Yo(o,a,c)}}function bE(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new _N),a.forEach(function(f){var y=PN.bind(null,o,f);c.has(f)||(c.add(f),f.then(y,y))})}}function ts(o,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];try{var _=o,T=a,L=T;e:for(;L!==null;){switch(L.tag){case 5:bn=L.stateNode,es=!1;break e;case 3:bn=L.stateNode.containerInfo,es=!0;break e;case 4:bn=L.stateNode.containerInfo,es=!0;break e}L=L.return}if(bn===null)throw Error(t(160));EE(_,T,y),bn=null,es=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(ee){$t(y,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)xE(a,o),a=a.sibling}function xE(o,a){var c=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ts(a,o),Rs(o),f&4){try{cu(3,o,o.return),Ih(3,o)}catch(Oe){$t(o,o.return,Oe)}try{cu(5,o,o.return)}catch(Oe){$t(o,o.return,Oe)}}break;case 1:ts(a,o),Rs(o),f&512&&c!==null&&xl(c,c.return);break;case 5:if(ts(a,o),Rs(o),f&512&&c!==null&&xl(c,c.return),o.flags&32){var y=o.stateNode;try{Zn(y,"")}catch(Oe){$t(o,o.return,Oe)}}if(f&4&&(y=o.stateNode,y!=null)){var _=o.memoizedProps,T=c!==null?c.memoizedProps:_,L=o.type,$=o.updateQueue;if(o.updateQueue=null,$!==null)try{L==="input"&&_.type==="radio"&&_.name!=null&&Ys(y,_),Vo(L,T);var ee=Vo(L,_);for(T=0;T<$.length;T+=2){var le=$[T],ue=$[T+1];le==="style"?Oo(y,ue):le==="dangerouslySetInnerHTML"?Do(y,ue):le==="children"?Zn(y,ue):U(y,le,ue,ee)}switch(L){case"input":ar(y,_);break;case"textarea":Wa(y,_);break;case"select":var ae=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var Te=_.value;Te!=null?lr(y,!!_.multiple,Te,!1):ae!==!!_.multiple&&(_.defaultValue!=null?lr(y,!!_.multiple,_.defaultValue,!0):lr(y,!!_.multiple,_.multiple?[]:"",!1))}y[Xc]=_}catch(Oe){$t(o,o.return,Oe)}}break;case 6:if(ts(a,o),Rs(o),f&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,_=o.memoizedProps;try{y.nodeValue=_}catch(Oe){$t(o,o.return,Oe)}}break;case 3:if(ts(a,o),Rs(o),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Uo(a.containerInfo)}catch(Oe){$t(o,o.return,Oe)}break;case 4:ts(a,o),Rs(o);break;case 13:ts(a,o),Rs(o),y=o.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(Sg=Pt())),f&4&&bE(o);break;case 22:if(le=c!==null&&c.memoizedState!==null,o.mode&1?(Dn=(ee=Dn)||le,ts(a,o),Dn=ee):ts(a,o),Rs(o),f&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!le&&(o.mode&1)!==0)for(Ae=o,le=o.child;le!==null;){for(ue=Ae=le;Ae!==null;){switch(ae=Ae,Te=ae.child,ae.tag){case 0:case 11:case 14:case 15:cu(4,ae,ae.return);break;case 1:xl(ae,ae.return);var Re=ae.stateNode;if(typeof Re.componentWillUnmount=="function"){f=ae,c=ae.return;try{a=f,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(Oe){$t(f,c,Oe)}}break;case 5:xl(ae,ae.return);break;case 22:if(ae.memoizedState!==null){TE(ue);continue}}Te!==null?(Te.return=ae,Ae=Te):TE(ue)}le=le.sibling}e:for(le=null,ue=o;;){if(ue.tag===5){if(le===null){le=ue;try{y=ue.stateNode,ee?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(L=ue.stateNode,$=ue.memoizedProps.style,T=$!=null&&$.hasOwnProperty("display")?$.display:null,L.style.display=ps("display",T))}catch(Oe){$t(o,o.return,Oe)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=ee?"":ue.memoizedProps}catch(Oe){$t(o,o.return,Oe)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===o)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===o)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===o)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:ts(a,o),Rs(o),f&4&&bE(o);break;case 21:break;default:ts(a,o),Rs(o)}}function Rs(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(_E(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(Zn(y,""),f.flags&=-33);var _=wE(o);bg(o,_,y);break;case 3:case 4:var T=f.stateNode.containerInfo,L=wE(o);Eg(o,L,T);break;default:throw Error(t(161))}}catch($){$t(o,o.return,$)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function EN(o,a,c){Ae=o,IE(o)}function IE(o,a,c){for(var f=(o.mode&1)!==0;Ae!==null;){var y=Ae,_=y.child;if(y.tag===22&&f){var T=y.memoizedState!==null||xh;if(!T){var L=y.alternate,$=L!==null&&L.memoizedState!==null||Dn;L=xh;var ee=Dn;if(xh=T,(Dn=$)&&!ee)for(Ae=y;Ae!==null;)T=Ae,$=T.child,T.tag===22&&T.memoizedState!==null?CE(y):$!==null?($.return=T,Ae=$):CE(y);for(;_!==null;)Ae=_,IE(_),_=_.sibling;Ae=y,xh=L,Dn=ee}SE(o)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,Ae=_):SE(o)}}function SE(o){for(;Ae!==null;){var a=Ae;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Dn||Ih(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Dn)if(c===null)f.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Jr(a.type,c.memoizedProps);f.componentDidUpdate(y,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&T0(a,_,f);break;case 3:var T=a.updateQueue;if(T!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}T0(a,T,c)}break;case 5:var L=a.stateNode;if(c===null&&a.flags&4){c=L;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&Uo(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Dn||a.flags&512&&wg(a)}catch(ae){$t(a,a.return,ae)}}if(a===o){Ae=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ae=c;break}Ae=a.return}}function TE(o){for(;Ae!==null;){var a=Ae;if(a===o){Ae=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ae=c;break}Ae=a.return}}function CE(o){for(;Ae!==null;){var a=Ae;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Ih(4,a)}catch($){$t(a,c,$)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var y=a.return;try{f.componentDidMount()}catch($){$t(a,y,$)}}var _=a.return;try{wg(a)}catch($){$t(a,_,$)}break;case 5:var T=a.return;try{wg(a)}catch($){$t(a,T,$)}}}catch($){$t(a,a.return,$)}if(a===o){Ae=null;break}var L=a.sibling;if(L!==null){L.return=a.return,Ae=L;break}Ae=a.return}}var bN=Math.ceil,Sh=H.ReactCurrentDispatcher,xg=H.ReactCurrentOwner,Or=H.ReactCurrentBatchConfig,ft=0,mn=null,Jt=null,xn=0,vr=0,Il=Wo(0),an=0,uu=null,ea=0,Th=0,Ig=0,du=null,er=null,Sg=0,Sl=1/0,fo=null,Ch=!1,Tg=null,Xo=null,Ah=!1,Jo=null,Ph=0,hu=0,Cg=null,Rh=-1,kh=0;function Bn(){return(ft&6)!==0?Pt():Rh!==-1?Rh:Rh=Pt()}function ei(o){return(o.mode&1)===0?1:(ft&2)!==0&&xn!==0?xn&-xn:oN.transition!==null?(kh===0&&(kh=Dc()),kh):(o=lt,o!==0||(o=window.event,o=o===void 0?16:el(o.type)),o)}function ns(o,a,c,f){if(50<hu)throw hu=0,Cg=null,Error(t(185));$i(o,c,f),((ft&2)===0||o!==mn)&&(o===mn&&((ft&2)===0&&(Th|=c),an===4&&ti(o,xn)),tr(o,f),c===1&&ft===0&&(a.mode&1)===0&&(Sl=Pt()+500,oh&&Ko()))}function tr(o,a){var c=o.callbackNode;Ui(o,a);var f=Js(o,o===mn?xn:0);if(f===0)c!==null&&Ga(c),o.callbackNode=null,o.callbackPriority=0;else if(a=f&-f,o.callbackPriority!==a){if(c!=null&&Ga(c),a===1)o.tag===0?sN(PE.bind(null,o)):p0(PE.bind(null,o)),eN(function(){(ft&6)===0&&Ko()}),c=null;else{switch(ys(f)){case 1:c=Ka;break;case 4:c=Rc;break;case 16:c=Li;break;case 536870912:c=Za;break;default:c=Li}c=LE(c,AE.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function AE(o,a){if(Rh=-1,kh=0,(ft&6)!==0)throw Error(t(327));var c=o.callbackNode;if(Tl()&&o.callbackNode!==c)return null;var f=Js(o,o===mn?xn:0);if(f===0)return null;if((f&30)!==0||(f&o.expiredLanes)!==0||a)a=Nh(o,f);else{a=f;var y=ft;ft|=2;var _=kE();(mn!==o||xn!==a)&&(fo=null,Sl=Pt()+500,na(o,a));do try{SN();break}catch(L){RE(o,L)}while(!0);Hm(),Sh.current=_,ft=y,Jt!==null?a=0:(mn=null,xn=0,a=an)}if(a!==0){if(a===2&&(y=Nc(o),y!==0&&(f=y,a=Ag(o,y))),a===1)throw c=uu,na(o,0),ti(o,f),tr(o,Pt()),c;if(a===6)ti(o,f);else{if(y=o.current.alternate,(f&30)===0&&!xN(y)&&(a=Nh(o,f),a===2&&(_=Nc(o),_!==0&&(f=_,a=Ag(o,_))),a===1))throw c=uu,na(o,0),ti(o,f),tr(o,Pt()),c;switch(o.finishedWork=y,o.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:ra(o,er,fo);break;case 3:if(ti(o,f),(f&130023424)===f&&(a=Sg+500-Pt(),10<a)){if(Js(o,0)!==0)break;if(y=o.suspendedLanes,(y&f)!==f){Bn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=Om(ra.bind(null,o,er,fo),a);break}ra(o,er,fo);break;case 4:if(ti(o,f),(f&4194240)===f)break;for(a=o.eventTimes,y=-1;0<f;){var T=31-dr(f);_=1<<T,T=a[T],T>y&&(y=T),f&=~_}if(f=y,f=Pt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*bN(f/1960))-f,10<f){o.timeoutHandle=Om(ra.bind(null,o,er,fo),f);break}ra(o,er,fo);break;case 5:ra(o,er,fo);break;default:throw Error(t(329))}}}return tr(o,Pt()),o.callbackNode===c?AE.bind(null,o):null}function Ag(o,a){var c=du;return o.current.memoizedState.isDehydrated&&(na(o,a).flags|=256),o=Nh(o,a),o!==2&&(a=er,er=c,a!==null&&Pg(a)),o}function Pg(o){er===null?er=o:er.push.apply(er,o)}function xN(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var y=c[f],_=y.getSnapshot;y=y.value;try{if(!Yr(_(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ti(o,a){for(a&=~Ig,a&=~Th,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-dr(a),f=1<<c;o[c]=-1,a&=~f}}function PE(o){if((ft&6)!==0)throw Error(t(327));Tl();var a=Js(o,0);if((a&1)===0)return tr(o,Pt()),null;var c=Nh(o,a);if(o.tag!==0&&c===2){var f=Nc(o);f!==0&&(a=f,c=Ag(o,f))}if(c===1)throw c=uu,na(o,0),ti(o,a),tr(o,Pt()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,ra(o,er,fo),tr(o,Pt()),null}function Rg(o,a){var c=ft;ft|=1;try{return o(a)}finally{ft=c,ft===0&&(Sl=Pt()+500,oh&&Ko())}}function ta(o){Jo!==null&&Jo.tag===0&&(ft&6)===0&&Tl();var a=ft;ft|=1;var c=Or.transition,f=lt;try{if(Or.transition=null,lt=1,o)return o()}finally{lt=f,Or.transition=c,ft=a,(ft&6)===0&&Ko()}}function kg(){vr=Il.current,kt(Il)}function na(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,Jk(c)),Jt!==null)for(c=Jt.return;c!==null;){var f=c;switch(zm(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&rh();break;case 3:El(),kt(Yn),kt(Rn),Jm();break;case 5:Ym(f);break;case 4:El();break;case 13:kt(Lt);break;case 19:kt(Lt);break;case 10:Wm(f.type._context);break;case 22:case 23:kg()}c=c.return}if(mn=o,Jt=o=ni(o.current,null),xn=vr=a,an=0,uu=null,Ig=Th=ea=0,er=du=null,Yi!==null){for(a=0;a<Yi.length;a++)if(c=Yi[a],f=c.interleaved,f!==null){c.interleaved=null;var y=f.next,_=c.pending;if(_!==null){var T=_.next;_.next=y,f.next=T}c.pending=f}Yi=null}return o}function RE(o,a){do{var c=Jt;try{if(Hm(),mh.current=_h,gh){for(var f=jt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}gh=!1}if(Ji=0,pn=on=jt=null,su=!1,ou=0,xg.current=null,c===null||c.return===null){an=1,uu=a,Jt=null;break}e:{var _=o,T=c.return,L=c,$=a;if(a=xn,L.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ee=$,le=L,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var Te=tE(T);if(Te!==null){Te.flags&=-257,nE(Te,T,L,_,a),Te.mode&1&&eE(_,ee,a),a=Te,$=ee;var Re=a.updateQueue;if(Re===null){var Oe=new Set;Oe.add($),a.updateQueue=Oe}else Re.add($);break e}else{if((a&1)===0){eE(_,ee,a),Ng();break e}$=Error(t(426))}}else if(Nt&&L.mode&1){var Wt=tE(T);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),nE(Wt,T,L,_,a),Bm(bl($,L));break e}}_=$=bl($,L),an!==4&&(an=2),du===null?du=[_]:du.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var Q=X0(_,$,a);S0(_,Q);break e;case 1:L=$;var q=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Xo===null||!Xo.has(J)))){_.flags|=65536,a&=-a,_.lanes|=a;var fe=J0(_,L,a);S0(_,fe);break e}}_=_.return}while(_!==null)}DE(c)}catch(Me){a=Me,Jt===c&&c!==null&&(Jt=c=c.return);continue}break}while(!0)}function kE(){var o=Sh.current;return Sh.current=_h,o===null?_h:o}function Ng(){(an===0||an===3||an===2)&&(an=4),mn===null||(ea&268435455)===0&&(Th&268435455)===0||ti(mn,xn)}function Nh(o,a){var c=ft;ft|=2;var f=kE();(mn!==o||xn!==a)&&(fo=null,na(o,a));do try{IN();break}catch(y){RE(o,y)}while(!0);if(Hm(),ft=c,Sh.current=f,Jt!==null)throw Error(t(261));return mn=null,xn=0,an}function IN(){for(;Jt!==null;)NE(Jt)}function SN(){for(;Jt!==null&&!Vi();)NE(Jt)}function NE(o){var a=VE(o.alternate,o,vr);o.memoizedProps=o.pendingProps,a===null?DE(o):Jt=a,xg.current=null}function DE(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=yN(c,a,vr),c!==null){Jt=c;return}}else{if(c=vN(c,a),c!==null){c.flags&=32767,Jt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{an=6,Jt=null;return}}if(a=a.sibling,a!==null){Jt=a;return}Jt=a=o}while(a!==null);an===0&&(an=5)}function ra(o,a,c){var f=lt,y=Or.transition;try{Or.transition=null,lt=1,TN(o,a,c,f)}finally{Or.transition=y,lt=f}return null}function TN(o,a,c,f){do Tl();while(Jo!==null);if((ft&6)!==0)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var _=c.lanes|c.childLanes;if(vm(o,_),o===mn&&(Jt=mn=null,xn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ah||(Ah=!0,LE(Li,function(){return Tl(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=Or.transition,Or.transition=null;var T=lt;lt=1;var L=ft;ft|=4,xg.current=null,wN(o,c),xE(c,o),Wk(Nm),no=!!km,Nm=km=null,o.current=c,EN(c),Xs(),ft=L,lt=T,Or.transition=_}else o.current=c;if(Ah&&(Ah=!1,Jo=o,Ph=y),_=o.pendingLanes,_===0&&(Xo=null),Fd(c.stateNode),tr(o,Pt()),a!==null)for(f=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],f(y.value,{componentStack:y.stack,digest:y.digest});if(Ch)throw Ch=!1,o=Tg,Tg=null,o;return(Ph&1)!==0&&o.tag!==0&&Tl(),_=o.pendingLanes,(_&1)!==0?o===Cg?hu++:(hu=0,Cg=o):hu=0,Ko(),null}function Tl(){if(Jo!==null){var o=ys(Ph),a=Or.transition,c=lt;try{if(Or.transition=null,lt=16>o?16:o,Jo===null)var f=!1;else{if(o=Jo,Jo=null,Ph=0,(ft&6)!==0)throw Error(t(331));var y=ft;for(ft|=4,Ae=o.current;Ae!==null;){var _=Ae,T=_.child;if((Ae.flags&16)!==0){var L=_.deletions;if(L!==null){for(var $=0;$<L.length;$++){var ee=L[$];for(Ae=ee;Ae!==null;){var le=Ae;switch(le.tag){case 0:case 11:case 15:cu(8,le,_)}var ue=le.child;if(ue!==null)ue.return=le,Ae=ue;else for(;Ae!==null;){le=Ae;var ae=le.sibling,Te=le.return;if(vE(le),le===ee){Ae=null;break}if(ae!==null){ae.return=Te,Ae=ae;break}Ae=Te}}}var Re=_.alternate;if(Re!==null){var Oe=Re.child;if(Oe!==null){Re.child=null;do{var Wt=Oe.sibling;Oe.sibling=null,Oe=Wt}while(Oe!==null)}}Ae=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,Ae=T;else e:for(;Ae!==null;){if(_=Ae,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:cu(9,_,_.return)}var Q=_.sibling;if(Q!==null){Q.return=_.return,Ae=Q;break e}Ae=_.return}}var q=o.current;for(Ae=q;Ae!==null;){T=Ae;var J=T.child;if((T.subtreeFlags&2064)!==0&&J!==null)J.return=T,Ae=J;else e:for(T=q;Ae!==null;){if(L=Ae,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Ih(9,L)}}catch(Me){$t(L,L.return,Me)}if(L===T){Ae=null;break e}var fe=L.sibling;if(fe!==null){fe.return=L.return,Ae=fe;break e}Ae=L.return}}if(ft=y,Ko(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(ji,o)}catch{}f=!0}return f}finally{lt=c,Or.transition=a}}return!1}function OE(o,a,c){a=bl(c,a),a=X0(o,a,1),o=Qo(o,a,1),a=Bn(),o!==null&&($i(o,1,a),tr(o,a))}function $t(o,a,c){if(o.tag===3)OE(o,o,c);else for(;a!==null;){if(a.tag===3){OE(a,o,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xo===null||!Xo.has(f))){o=bl(c,o),o=J0(a,o,1),a=Qo(a,o,1),o=Bn(),a!==null&&($i(a,1,o),tr(a,o));break}}a=a.return}}function CN(o,a,c){var f=o.pingCache;f!==null&&f.delete(a),a=Bn(),o.pingedLanes|=o.suspendedLanes&c,mn===o&&(xn&c)===c&&(an===4||an===3&&(xn&130023424)===xn&&500>Pt()-Sg?na(o,0):Ig|=c),tr(o,a)}function ME(o,a){a===0&&((o.mode&1)===0?a=1:(a=jo,jo<<=1,(jo&130023424)===0&&(jo=4194304)));var c=Bn();o=co(o,a),o!==null&&($i(o,a,c),tr(o,c))}function AN(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),ME(o,c)}function PN(o,a){var c=0;switch(o.tag){case 13:var f=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),ME(o,c)}var VE;VE=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Yn.current)Jn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return Jn=!1,gN(o,a,c);Jn=(o.flags&131072)!==0}else Jn=!1,Nt&&(a.flags&1048576)!==0&&m0(a,ah,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;bh(o,a),o=a.pendingProps;var y=pl(a,Rn.current);wl(a,c),y=ng(null,a,f,o,y,c);var _=rg();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Xn(f)?(_=!0,sh(a)):_=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Zm(a),y.updater=wh,a.stateNode=y,y._reactInternals=a,cg(a,f,o,c),a=fg(null,a,f,!0,_,c)):(a.tag=0,Nt&&_&&Fm(a),$n(null,a,y,c),a=a.child),a;case 16:f=a.elementType;e:{switch(bh(o,a),o=a.pendingProps,y=f._init,f=y(f._payload),a.type=f,y=a.tag=kN(f),o=Jr(f,o),y){case 0:a=hg(null,a,f,o,c);break e;case 1:a=lE(null,a,f,o,c);break e;case 11:a=rE(null,a,f,o,c);break e;case 14:a=sE(null,a,f,Jr(f.type,o),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Jr(f,y),hg(o,a,f,y,c);case 1:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Jr(f,y),lE(o,a,f,y,c);case 3:e:{if(cE(a),o===null)throw Error(t(387));f=a.pendingProps,_=a.memoizedState,y=_.element,I0(o,a),fh(a,f,null,c);var T=a.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){y=bl(Error(t(423)),a),a=uE(o,a,f,c,y);break e}else if(f!==y){y=bl(Error(t(424)),a),a=uE(o,a,f,c,y);break e}else for(yr=Ho(a.stateNode.containerInfo.firstChild),gr=a,Nt=!0,Xr=null,c=b0(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(yl(),f===y){a=ho(o,a,c);break e}$n(o,a,f,c)}a=a.child}return a;case 5:return C0(a),o===null&&$m(a),f=a.type,y=a.pendingProps,_=o!==null?o.memoizedProps:null,T=y.children,Dm(f,y)?T=null:_!==null&&Dm(f,_)&&(a.flags|=32),aE(o,a),$n(o,a,T,c),a.child;case 6:return o===null&&$m(a),null;case 13:return dE(o,a,c);case 4:return Qm(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=vl(a,null,f,c):$n(o,a,f,c),a.child;case 11:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Jr(f,y),rE(o,a,f,y,c);case 7:return $n(o,a,a.pendingProps,c),a.child;case 8:return $n(o,a,a.pendingProps.children,c),a.child;case 12:return $n(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,y=a.pendingProps,_=a.memoizedProps,T=y.value,Tt(uh,f._currentValue),f._currentValue=T,_!==null)if(Yr(_.value,T)){if(_.children===y.children&&!Yn.current){a=ho(o,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var L=_.dependencies;if(L!==null){T=_.child;for(var $=L.firstContext;$!==null;){if($.context===f){if(_.tag===1){$=uo(-1,c&-c),$.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?$.next=$:($.next=le.next,le.next=$),ee.pending=$}}_.lanes|=c,$=_.alternate,$!==null&&($.lanes|=c),Gm(_.return,c,a),L.lanes|=c;break}$=$.next}}else if(_.tag===10)T=_.type===a.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=c,L=T.alternate,L!==null&&(L.lanes|=c),Gm(T,c,a),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===a){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}$n(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,f=a.pendingProps.children,wl(a,c),y=Nr(y),f=f(y),a.flags|=1,$n(o,a,f,c),a.child;case 14:return f=a.type,y=Jr(f,a.pendingProps),y=Jr(f.type,y),sE(o,a,f,y,c);case 15:return oE(o,a,a.type,a.pendingProps,c);case 17:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Jr(f,y),bh(o,a),a.tag=1,Xn(f)?(o=!0,sh(a)):o=!1,wl(a,c),Q0(a,f,y),cg(a,f,y,c),fg(null,a,f,!0,o,c);case 19:return fE(o,a,c);case 22:return iE(o,a,c)}throw Error(t(156,a.tag))};function LE(o,a){return Pc(o,a)}function RN(o,a,c,f){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(o,a,c,f){return new RN(o,a,c,f)}function Dg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function kN(o){if(typeof o=="function")return Dg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===Be)return 14}return 2}function ni(o,a){var c=o.alternate;return c===null?(c=Mr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Dh(o,a,c,f,y,_){var T=2;if(f=o,typeof o=="function")Dg(o)&&(T=1);else if(typeof o=="string")T=5;else e:switch(o){case C:return sa(c.children,y,_,a);case S:T=8,y|=8;break;case P:return o=Mr(12,c,a,y|2),o.elementType=P,o.lanes=_,o;case O:return o=Mr(13,c,a,y),o.elementType=O,o.lanes=_,o;case Ce:return o=Mr(19,c,a,y),o.elementType=Ce,o.lanes=_,o;case _e:return Oh(c,y,_,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:T=10;break e;case M:T=9;break e;case F:T=11;break e;case Be:T=14;break e;case me:T=16,f=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Mr(T,c,a,y),a.elementType=o,a.type=f,a.lanes=_,a}function sa(o,a,c,f){return o=Mr(7,o,f,a),o.lanes=c,o}function Oh(o,a,c,f){return o=Mr(22,o,f,a),o.elementType=_e,o.lanes=c,o.stateNode={isHidden:!1},o}function Og(o,a,c){return o=Mr(6,o,null,a),o.lanes=c,o}function Mg(o,a,c){return a=Mr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function NN(o,a,c,f,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oc(0),this.expirationTimes=Oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Vg(o,a,c,f,y,_,T,L,$){return o=new NN(o,a,c,L,$),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Mr(3,null,null,a),o.current=_,_.stateNode=o,_.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zm(_),o}function DN(o,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:f==null?null:""+f,children:o,containerInfo:a,implementation:c}}function jE(o){if(!o)return Go;o=o._reactInternals;e:{if(Zr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Xn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Xn(c))return h0(o,c,a)}return a}function FE(o,a,c,f,y,_,T,L,$){return o=Vg(c,f,!0,o,y,_,T,L,$),o.context=jE(null),c=o.current,f=Bn(),y=ei(c),_=uo(f,y),_.callback=a??null,Qo(c,_,y),o.current.lanes=y,$i(o,y,f),tr(o,f),o}function Mh(o,a,c,f){var y=a.current,_=Bn(),T=ei(y);return c=jE(c),a.context===null?a.context=c:a.pendingContext=c,a=uo(_,T),a.payload={element:o},f=f===void 0?null:f,f!==null&&(a.callback=f),o=Qo(y,a,T),o!==null&&(ns(o,y,T,_),hh(o,y,T)),T}function Vh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function zE(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function Lg(o,a){zE(o,a),(o=o.alternate)&&zE(o,a)}function ON(){return null}var UE=typeof reportError=="function"?reportError:function(o){console.error(o)};function jg(o){this._internalRoot=o}Lh.prototype.render=jg.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Mh(o,a,null,null)},Lh.prototype.unmount=jg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;ta(function(){Mh(null,o,null,null)}),a[oo]=null}};function Lh(o){this._internalRoot=o}Lh.prototype.unstable_scheduleHydration=function(o){if(o){var a=jc();o={blockedOn:null,target:o,priority:a};for(var c=0;c<hr.length&&a!==0&&a<hr[c].priority;c++);hr.splice(c,0,o),c===0&&Xa(o)}};function Fg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function jh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function $E(){}function MN(o,a,c,f,y){if(y){if(typeof f=="function"){var _=f;f=function(){var ee=Vh(T);_.call(ee)}}var T=FE(a,f,o,0,null,!1,!1,"",$E);return o._reactRootContainer=T,o[oo]=T.current,Qc(o.nodeType===8?o.parentNode:o),ta(),T}for(;y=o.lastChild;)o.removeChild(y);if(typeof f=="function"){var L=f;f=function(){var ee=Vh($);L.call(ee)}}var $=Vg(o,0,!1,null,null,!1,!1,"",$E);return o._reactRootContainer=$,o[oo]=$.current,Qc(o.nodeType===8?o.parentNode:o),ta(function(){Mh(a,$,c,f)}),$}function Fh(o,a,c,f,y){var _=c._reactRootContainer;if(_){var T=_;if(typeof y=="function"){var L=y;y=function(){var $=Vh(T);L.call($)}}Mh(a,T,o,y)}else T=MN(c,a,o,y,f);return Vh(T)}Vc=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=mt(a.pendingLanes);c!==0&&(Mc(a,c|1),tr(a,Pt()),(ft&6)===0&&(Sl=Pt()+500,Ko()))}break;case 13:ta(function(){var f=co(o,1);if(f!==null){var y=Bn();ns(f,o,1,y)}}),Lg(o,1)}},Qa=function(o){if(o.tag===13){var a=co(o,134217728);if(a!==null){var c=Bn();ns(a,o,134217728,c)}Lg(o,134217728)}},Lc=function(o){if(o.tag===13){var a=ei(o),c=co(o,a);if(c!==null){var f=Bn();ns(c,o,a,f)}Lg(o,a)}},jc=function(){return lt},Fc=function(o,a){var c=lt;try{return lt=o,a()}finally{lt=c}},Gr=function(o,a,c){switch(a){case"input":if(ar(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==o&&f.form===o.form){var y=nh(f);if(!y)throw Error(t(90));xt(f),ar(f,y)}}}break;case"textarea":Wa(o,c);break;case"select":a=c.value,a!=null&&lr(o,!!c.multiple,a,!1)}},qt=Rg,hn=ta;var VN={usingClientEntryPoint:!1,Events:[Jc,hl,nh,qe,It,Rg]},fu={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LN={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=jd(o),o===null?null:o.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||ON,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{ji=zh.inject(LN),ur=zh}catch{}}return nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VN,nr.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fg(a))throw Error(t(200));return DN(o,a,null,c)},nr.createRoot=function(o,a){if(!Fg(o))throw Error(t(299));var c=!1,f="",y=UE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Vg(o,1,!1,null,null,c,!1,f,y),o[oo]=a.current,Qc(o.nodeType===8?o.parentNode:o),new jg(a)},nr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=jd(a),o=o===null?null:o.stateNode,o},nr.flushSync=function(o){return ta(o)},nr.hydrate=function(o,a,c){if(!jh(a))throw Error(t(200));return Fh(null,o,a,!0,c)},nr.hydrateRoot=function(o,a,c){if(!Fg(o))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,y=!1,_="",T=UE;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),a=FE(a,null,o,1,c??null,y,!1,_,T),o[oo]=a.current,Qc(o),f)for(o=0;o<f.length;o++)c=f[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Lh(a)},nr.render=function(o,a,c){if(!jh(a))throw Error(t(200));return Fh(null,o,a,!1,c)},nr.unmountComponentAtNode=function(o){if(!jh(o))throw Error(t(40));return o._reactRootContainer?(ta(function(){Fh(null,null,o,!1,function(){o._reactRootContainer=null,o[oo]=null})}),!0):!1},nr.unstable_batchedUpdates=Rg,nr.unstable_renderSubtreeIntoContainer=function(o,a,c,f){if(!jh(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Fh(o,a,c,!1,f)},nr.version="18.3.1-next-f1338f8080-20240426",nr}var QE;function yS(){if(QE)return $g.exports;QE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$g.exports=HN(),$g.exports}var YE;function WN(){if(YE)return Uh;YE=1;var n=yS();return Uh.createRoot=n.createRoot,Uh.hydrateRoot=n.hydrateRoot,Uh}var GN=WN();const KN="modulepreload",ZN=function(n){return"/"+n},XE={},cs=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=l(t.map(p=>{if(p=ZN(p),p in XE)return;XE[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":KN,g||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),g)return new Promise((I,k)=>{E.addEventListener("load",I),E.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};var b=Pv();const ce=gS(b),vS=FN({__proto__:null,default:ce},[b]);function JE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function yp(...n){return e=>{let t=!1;const r=n.map(s=>{const i=JE(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():JE(n[s],null)}}}}function Et(...n){return b.useCallback(yp(...n),n)}function Yl(n){const e=QN(n),t=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),h=u.find(XN);if(h){const p=h.props.children,g=u.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return v.jsx(e,{...l,ref:s,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return v.jsx(e,{...l,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var vp=Yl("Slot");function QN(n){const e=b.forwardRef((t,r)=>{const{children:s,...i}=t;if(b.isValidElement(s)){const l=e2(s),u=JN(i,s.props);return s.type!==b.Fragment&&(u.ref=r?yp(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var _S=Symbol("radix.slottable");function YN(n){const e=({children:t})=>v.jsx(v.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=_S,e}function XN(n){return b.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===_S}function JN(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...u)=>{const h=i(...u);return s(...u),h}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function e2(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function wS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=wS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ES(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=wS(n))&&(r&&(r+=" "),r+=e);return r}const eb=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,tb=ES,_p=(n,e)=>t=>{var r;if(e?.variants==null)return tb(n,t?.class,t?.className);const{variants:s,defaultVariants:i}=e,l=Object.keys(s).map(p=>{const g=t?.[p],m=i?.[p];if(g===null)return null;const E=eb(g)||eb(m);return s[p][E]}),u=t&&Object.entries(t).reduce((p,g)=>{let[m,E]=g;return E===void 0||(p[m]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:m,className:E,...I}=g;return Object.entries(I).every(k=>{let[A,R]=k;return Array.isArray(R)?R.includes({...i,...u}[A]):{...i,...u}[A]===R})?[...p,m,E]:p},[]);return tb(n,l,h,t?.class,t?.className)};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n2=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),nb=n=>{const e=n2(n);return e.charAt(0).toUpperCase()+e.slice(1)},bS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...u},h)=>b.createElement("svg",{ref:h,...r2,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:bS("lucide",s),...u},[...l.map(([p,g])=>b.createElement(p,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(n,e)=>{const t=b.forwardRef(({className:r,...s},i)=>b.createElement(s2,{ref:i,iconNode:e,className:bS(`lucide-${t2(nb(n))}`,`lucide-${n}`,r),...s}));return t.displayName=nb(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],i2=rt("bell",o2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xS=rt("check",a2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],c2=rt("chevron-down",l2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],d2=rt("chevron-right",u2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],f2=rt("chevron-up",h2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],m2=rt("circle-help",p2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],y2=rt("circle",g2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Rv=rt("clipboard-list",v2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],w2=rt("clock",_2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],b2=rt("command",E2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],I2=rt("eye-off",x2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T2=rt("eye",S2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],A2=rt("factory",C2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],R2=rt("landmark",P2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],N2=rt("layout-dashboard",k2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zu=rt("loader-circle",D2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rb=rt("lock",O2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],V2=rt("log-out",M2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],j2=rt("mail",L2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],z2=rt("moon",F2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wp=rt("package",U2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],B2=rt("panel-left-close",$2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],H2=rt("panel-left",q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],G2=rt("receipt",W2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Z2=rt("refresh-cw",K2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Y2=rt("search-x",Q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],kf=rt("search",X2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eD=rt("settings",J2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nD=rt("shield",tD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],IS=rt("shopping-cart",rD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oD=rt("sun",sD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aD=rt("triangle-alert",iD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],kv=rt("truck",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],uD=rt("user-check",cD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cy=rt("user",dD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],SS=rt("users",hD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],pD=rt("wallet",fD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]],gD=rt("warehouse",mD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nv=rt("x",yD),Hg=768;function vD(){const[n,e]=b.useState(void 0);return b.useEffect(()=>{const t=window.matchMedia(`(max-width: ${Hg-1}px)`),r=()=>{e(window.innerWidth<Hg)};return t.addEventListener("change",r),e(window.innerWidth<Hg),()=>t.removeEventListener("change",r)},[]),!!n}const Dv="-",_D=n=>{const e=ED(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(Dv);return u[0]===""&&u.length!==1&&u.shift(),TS(u,e)||wD(l)},getConflictingClassGroupIds:(l,u)=>{const h=t[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},TS=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?TS(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(Dv);return e.validators.find(({validator:l})=>l(i))?.classGroupId},sb=/^\[(.+)\]$/,wD=n=>{if(sb.test(n)){const e=sb.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},ED=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)Ay(t[s],r,s,e);return r},Ay=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ob(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(bD(s)){Ay(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,l])=>{Ay(l,ob(e,i),t,r)})})},ob=(n,e)=>{let t=n;return e.split(Dv).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},bD=n=>n.isThemeGetter,xD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,l)=>{t.set(i,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let l=t.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set(i,l){t.has(i)?t.set(i,l):s(i,l)}}},Py="!",Ry=":",ID=Ry.length,SD=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const i=[];let l=0,u=0,h=0,p;for(let k=0;k<s.length;k++){let A=s[k];if(l===0&&u===0){if(A===Ry){i.push(s.slice(h,k)),h=k+ID;continue}if(A==="/"){p=k;continue}}A==="["?l++:A==="]"?l--:A==="("?u++:A===")"&&u--}const g=i.length===0?s:s.substring(h),m=TD(g),E=m!==g,I=p&&p>h?p-h:void 0;return{modifiers:i,hasImportantModifier:E,baseClassName:m,maybePostfixModifierPosition:I}};if(e){const s=e+Ry,i=r;r=l=>l.startsWith(s)?i(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=i=>t({className:i,parseClassName:s})}return r},TD=n=>n.endsWith(Py)?n.substring(0,n.length-1):n.startsWith(Py)?n.substring(1):n,CD=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...i.sort(),l),i=[]):i.push(l)}),s.push(...i.sort()),s}},AD=n=>({cache:xD(n.cacheSize),parseClassName:SD(n),sortModifiers:CD(n),..._D(n)}),PD=/\s+/,RD=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,l=[],u=n.trim().split(PD);let h="";for(let p=u.length-1;p>=0;p-=1){const g=u[p],{isExternal:m,modifiers:E,hasImportantModifier:I,baseClassName:k,maybePostfixModifierPosition:A}=t(g);if(m){h=g+(h.length>0?" "+h:h);continue}let R=!!A,V=r(R?k.substring(0,A):k);if(!V){if(!R){h=g+(h.length>0?" "+h:h);continue}if(V=r(k),!V){h=g+(h.length>0?" "+h:h);continue}R=!1}const z=i(E).join(":"),U=I?z+Py:z,H=U+V;if(l.includes(H))continue;l.push(H);const B=s(V,R);for(let W=0;W<B.length;++W){const C=B[W];l.push(U+C)}h=g+(h.length>0?" "+h:h)}return h};function kD(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=CS(e))&&(r&&(r+=" "),r+=t);return r}const CS=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=CS(n[r]))&&(t&&(t+=" "),t+=e);return t};function ND(n,...e){let t,r,s,i=l;function l(h){const p=e.reduce((g,m)=>m(g),n());return t=AD(p),r=t.cache.get,s=t.cache.set,i=u,u(h)}function u(h){const p=r(h);if(p)return p;const g=RD(h,t);return s(h,g),g}return function(){return i(kD.apply(null,arguments))}}const ln=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},AS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,PS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,DD=/^\d+\/\d+$/,OD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,LD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cl=n=>DD.test(n),Je=n=>!!n&&!Number.isNaN(Number(n)),si=n=>!!n&&Number.isInteger(Number(n)),Wg=n=>n.endsWith("%")&&Je(n.slice(0,-1)),po=n=>OD.test(n),FD=()=>!0,zD=n=>MD.test(n)&&!VD.test(n),RS=()=>!1,UD=n=>LD.test(n),$D=n=>jD.test(n),BD=n=>!ke(n)&&!Ne(n),qD=n=>gc(n,DS,RS),ke=n=>AS.test(n),oa=n=>gc(n,OS,zD),Gg=n=>gc(n,ZD,Je),ib=n=>gc(n,kS,RS),HD=n=>gc(n,NS,$D),$h=n=>gc(n,MS,UD),Ne=n=>PS.test(n),mu=n=>yc(n,OS),WD=n=>yc(n,QD),ab=n=>yc(n,kS),GD=n=>yc(n,DS),KD=n=>yc(n,NS),Bh=n=>yc(n,MS,!0),gc=(n,e,t)=>{const r=AS.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},yc=(n,e,t=!1)=>{const r=PS.exec(n);return r?r[1]?e(r[1]):t:!1},kS=n=>n==="position"||n==="percentage",NS=n=>n==="image"||n==="url",DS=n=>n==="length"||n==="size"||n==="bg-size",OS=n=>n==="length",ZD=n=>n==="number",QD=n=>n==="family-name",MS=n=>n==="shadow",YD=()=>{const n=ln("color"),e=ln("font"),t=ln("text"),r=ln("font-weight"),s=ln("tracking"),i=ln("leading"),l=ln("breakpoint"),u=ln("container"),h=ln("spacing"),p=ln("radius"),g=ln("shadow"),m=ln("inset-shadow"),E=ln("text-shadow"),I=ln("drop-shadow"),k=ln("blur"),A=ln("perspective"),R=ln("aspect"),V=ln("ease"),z=ln("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...H(),Ne,ke],W=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],S=()=>[Ne,ke,h],P=()=>[Cl,"full","auto",...S()],N=()=>[si,"none","subgrid",Ne,ke],M=()=>["auto",{span:["full",si,Ne,ke]},si,Ne,ke],F=()=>[si,"auto",Ne,ke],O=()=>["auto","min","max","fr",Ne,ke],Ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Be=()=>["start","end","center","stretch","center-safe","end-safe"],me=()=>["auto",...S()],_e=()=>[Cl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],G=()=>[n,Ne,ke],ne=()=>[...H(),ab,ib,{position:[Ne,ke]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",GD,qD,{size:[Ne,ke]}],K=()=>[Wg,mu,oa],oe=()=>["","none","full",p,Ne,ke],ie=()=>["",Je,mu,oa],he=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Je,Wg,ab,ib],Ie=()=>["","none",k,Ne,ke],Ge=()=>["none",Je,Ne,ke],Qe=()=>["none",Je,Ne,ke],pe=()=>[Je,Ne,ke],xt=()=>[Cl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[po],breakpoint:[po],color:[FD],container:[po],"drop-shadow":[po],ease:["in","out","in-out"],font:[BD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[po],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[po],shadow:[po],spacing:["px",Je],text:[po],"text-shadow":[po],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Cl,ke,Ne,R]}],container:["container"],columns:[{columns:[Je,ke,Ne,u]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[si,"auto",Ne,ke]}],basis:[{basis:[Cl,"full","auto",u,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,Cl,"auto","initial","none",ke]}],grow:[{grow:["",Je,Ne,ke]}],shrink:[{shrink:["",Je,Ne,ke]}],order:[{order:[si,"first","last","none",Ne,ke]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Ce(),"normal"]}],"justify-items":[{"justify-items":[...Be(),"normal"]}],"justify-self":[{"justify-self":["auto",...Be()]}],"align-content":[{content:["normal",...Ce()]}],"align-items":[{items:[...Be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Be(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ce()}],"place-items":[{"place-items":[...Be(),"baseline"]}],"place-self":[{"place-self":["auto",...Be()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:me()}],mx:[{mx:me()}],my:[{my:me()}],ms:[{ms:me()}],me:[{me:me()}],mt:[{mt:me()}],mr:[{mr:me()}],mb:[{mb:me()}],ml:[{ml:me()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:_e()}],w:[{w:[u,"screen",..._e()]}],"min-w":[{"min-w":[u,"screen","none",..._e()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},..._e()]}],h:[{h:["screen","lh",..._e()]}],"min-h":[{"min-h":["screen","lh","none",..._e()]}],"max-h":[{"max-h":["screen","lh",..._e()]}],"font-size":[{text:["base",t,mu,oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,Gg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wg,ke]}],"font-family":[{font:[WD,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,ke]}],"line-clamp":[{"line-clamp":[Je,"none",Ne,Gg]}],leading:[{leading:[i,...S()]}],"list-image":[{"list-image":["none",Ne,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Ne,oa]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Je,"auto",Ne,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},si,Ne,ke],radial:["",Ne,ke],conic:[si,Ne,ke]},KD,HD]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Ne,ke]}],"outline-w":[{outline:["",Je,mu,oa]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",g,Bh,$h]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",m,Bh,$h]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Je,oa]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",E,Bh,$h]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Je,Ne,ke]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Ne,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,ke]}],filter:[{filter:["","none",Ne,ke]}],blur:[{blur:Ie()}],brightness:[{brightness:[Je,Ne,ke]}],contrast:[{contrast:[Je,Ne,ke]}],"drop-shadow":[{"drop-shadow":["","none",I,Bh,$h]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Je,Ne,ke]}],"hue-rotate":[{"hue-rotate":[Je,Ne,ke]}],invert:[{invert:["",Je,Ne,ke]}],saturate:[{saturate:[Je,Ne,ke]}],sepia:[{sepia:["",Je,Ne,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,ke]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Ne,ke]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Ne,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Ne,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Ne,ke]}],"backdrop-invert":[{"backdrop-invert":["",Je,Ne,ke]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Ne,ke]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Ne,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Ne,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Ne,ke]}],ease:[{ease:["linear","initial",V,Ne,ke]}],delay:[{delay:[Je,Ne,ke]}],animate:[{animate:["none",z,Ne,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Ne,ke]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[Ne,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xt()}],"translate-x":[{"translate-x":xt()}],"translate-y":[{"translate-y":xt()}],"translate-z":[{"translate-z":xt()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,ke]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Je,mu,oa,Gg]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},XD=ND(YD);function $e(...n){return XD(ES(n))}const JD=_p("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function xa({className:n,variant:e,size:t,asChild:r=!1,...s}){const i=r?vp:"button";return v.jsx(i,{"data-slot":"button",className:$e(JD({variant:e,size:t,className:n})),...s})}function xu({className:n,type:e,...t}){return v.jsx("input",{type:e,"data-slot":"input",className:$e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Ov=yS();const VS=gS(Ov);var eO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=eO.reduce((n,e)=>{const t=Yl(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(h,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function LS(n,e){n&&Ov.flushSync(()=>n.dispatchEvent(e))}var tO="Separator",lb="horizontal",nO=["horizontal","vertical"],jS=b.forwardRef((n,e)=>{const{decorative:t,orientation:r=lb,...s}=n,i=rO(r)?r:lb,u=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return v.jsx(ht.div,{"data-orientation":i,...u,...s,ref:e})});jS.displayName=tO;function rO(n){return nO.includes(n)}var sO=jS;function oO({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return v.jsx(sO,{"data-slot":"separator-root",decorative:t,orientation:e,className:$e("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function Le(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function iO(n,e){const t=b.createContext(e),r=i=>{const{children:l,...u}=i,h=b.useMemo(()=>u,Object.values(u));return v.jsx(t.Provider,{value:h,children:l})};r.displayName=n+"Provider";function s(i){const l=b.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function Ks(n,e=[]){let t=[];function r(i,l){const u=b.createContext(l),h=t.length;t=[...t,l];const p=m=>{const{scope:E,children:I,...k}=m,A=E?.[n]?.[h]||u,R=b.useMemo(()=>k,Object.values(k));return v.jsx(A.Provider,{value:R,children:I})};p.displayName=i+"Provider";function g(m,E){const I=E?.[n]?.[h]||u,k=b.useContext(I);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[p,g]}const s=()=>{const i=t.map(l=>b.createContext(l));return function(u){const h=u?.[n]||i;return b.useMemo(()=>({[`__scope${n}`]:{...u,[n]:h}}),[u,h])}};return s.scopeName=n,[r,aO(s,...e)]}function aO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const m=h(i)[`__scope${p}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var _o=globalThis?.document?b.useLayoutEffect:()=>{},lO=vS[" useId ".trim().toString()]||(()=>{}),cO=0;function ga(n){const[e,t]=b.useState(lO());return _o(()=>{t(r=>r??String(cO++))},[n]),e?`radix-${e}`:""}var uO=vS[" useInsertionEffect ".trim().toString()]||_o;function vc({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,l]=dO({defaultProp:e,onChange:t}),u=n!==void 0,h=u?n:s;{const g=b.useRef(n!==void 0);b.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const p=b.useCallback(g=>{if(u){const m=hO(g)?g(n):g;m!==n&&l.current?.(m)}else i(g)},[u,n,i,l]);return[h,p]}function dO({defaultProp:n,onChange:e}){const[t,r]=b.useState(n),s=b.useRef(t),i=b.useRef(e);return uO(()=>{i.current=e},[e]),b.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,r,i]}function hO(n){return typeof n=="function"}function Ln(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}function fO(n,e=globalThis?.document){const t=Ln(n);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var pO="DismissableLayer",ky="dismissableLayer.update",mO="dismissableLayer.pointerDownOutside",gO="dismissableLayer.focusOutside",cb,FS=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ep=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...h}=n,p=b.useContext(FS),[g,m]=b.useState(null),E=g?.ownerDocument??globalThis?.document,[,I]=b.useState({}),k=Et(e,C=>m(C)),A=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),V=A.indexOf(R),z=g?A.indexOf(g):-1,U=p.layersWithOutsidePointerEventsDisabled.size>0,H=z>=V,B=_O(C=>{const S=C.target,P=[...p.branches].some(N=>N.contains(S));!H||P||(s?.(C),l?.(C),C.defaultPrevented||u?.())},E),W=wO(C=>{const S=C.target;[...p.branches].some(N=>N.contains(S))||(i?.(C),l?.(C),C.defaultPrevented||u?.())},E);return fO(C=>{z===p.layers.size-1&&(r?.(C),!C.defaultPrevented&&u&&(C.preventDefault(),u()))},E),b.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(cb=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),ub(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=cb)}},[g,E,t,p]),b.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),ub())},[g,p]),b.useEffect(()=>{const C=()=>I({});return document.addEventListener(ky,C),()=>document.removeEventListener(ky,C)},[]),v.jsx(ht.div,{...h,ref:k,style:{pointerEvents:U?H?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,W.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,W.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,B.onPointerDownCapture)})});Ep.displayName=pO;var yO="DismissableLayerBranch",vO=b.forwardRef((n,e)=>{const t=b.useContext(FS),r=b.useRef(null),s=Et(e,r);return b.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),v.jsx(ht.div,{...n,ref:s})});vO.displayName=yO;function _O(n,e=globalThis?.document){const t=Ln(n),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let h=function(){zS(mO,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function wO(n,e=globalThis?.document){const t=Ln(n),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&zS(gO,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ub(){const n=new CustomEvent(ky);document.dispatchEvent(n)}function zS(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?LS(s,i):s.dispatchEvent(i)}var Kg="focusScope.autoFocusOnMount",Zg="focusScope.autoFocusOnUnmount",db={bubbles:!1,cancelable:!0},EO="FocusScope",Mv=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=n,[u,h]=b.useState(null),p=Ln(s),g=Ln(i),m=b.useRef(null),E=Et(e,A=>h(A)),I=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let A=function(U){if(I.paused||!u)return;const H=U.target;u.contains(H)?m.current=H:ui(m.current,{select:!0})},R=function(U){if(I.paused||!u)return;const H=U.relatedTarget;H!==null&&(u.contains(H)||ui(m.current,{select:!0}))},V=function(U){if(document.activeElement===document.body)for(const B of U)B.removedNodes.length>0&&ui(u)};document.addEventListener("focusin",A),document.addEventListener("focusout",R);const z=new MutationObserver(V);return u&&z.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",R),z.disconnect()}}},[r,u,I.paused]),b.useEffect(()=>{if(u){fb.add(I);const A=document.activeElement;if(!u.contains(A)){const V=new CustomEvent(Kg,db);u.addEventListener(Kg,p),u.dispatchEvent(V),V.defaultPrevented||(bO(CO(US(u)),{select:!0}),document.activeElement===A&&ui(u))}return()=>{u.removeEventListener(Kg,p),setTimeout(()=>{const V=new CustomEvent(Zg,db);u.addEventListener(Zg,g),u.dispatchEvent(V),V.defaultPrevented||ui(A??document.body,{select:!0}),u.removeEventListener(Zg,g),fb.remove(I)},0)}}},[u,p,g,I]);const k=b.useCallback(A=>{if(!t&&!r||I.paused)return;const R=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,V=document.activeElement;if(R&&V){const z=A.currentTarget,[U,H]=xO(z);U&&H?!A.shiftKey&&V===H?(A.preventDefault(),t&&ui(U,{select:!0})):A.shiftKey&&V===U&&(A.preventDefault(),t&&ui(H,{select:!0})):V===z&&A.preventDefault()}},[t,r,I.paused]);return v.jsx(ht.div,{tabIndex:-1,...l,ref:E,onKeyDown:k})});Mv.displayName=EO;function bO(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ui(r,{select:e}),document.activeElement!==t)return}function xO(n){const e=US(n),t=hb(e,n),r=hb(e.reverse(),n);return[t,r]}function US(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function hb(n,e){for(const t of n)if(!IO(t,{upTo:e}))return t}function IO(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function SO(n){return n instanceof HTMLInputElement&&"select"in n}function ui(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&SO(n)&&e&&n.select()}}var fb=TO();function TO(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=pb(n,e),n.unshift(e)},remove(e){n=pb(n,e),n[0]?.resume()}}}function pb(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function CO(n){return n.filter(e=>e.tagName!=="A")}var AO="Portal",bp=b.forwardRef((n,e)=>{const{container:t,...r}=n,[s,i]=b.useState(!1);_o(()=>i(!0),[]);const l=t||s&&globalThis?.document?.body;return l?VS.createPortal(v.jsx(ht.div,{...r,ref:e}),l):null});bp.displayName=AO;function PO(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Gn=n=>{const{present:e,children:t}=n,r=RO(e),s=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),i=Et(r.ref,kO(s));return typeof t=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};Gn.displayName="Presence";function RO(n){const[e,t]=b.useState(),r=b.useRef(null),s=b.useRef(n),i=b.useRef("none"),l=n?"mounted":"unmounted",[u,h]=PO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=qh(r.current);i.current=u==="mounted"?p:"none"},[u]),_o(()=>{const p=r.current,g=s.current;if(g!==n){const E=i.current,I=qh(p);n?h("MOUNT"):I==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&E!==I?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),_o(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,m=I=>{const A=qh(r.current).includes(CSS.escape(I.animationName));if(I.target===e&&A&&(h("ANIMATION_END"),!s.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},E=I=>{I.target===e&&(i.current=qh(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function qh(n){return n?.animationName||"none"}function kO(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Qg=0;function $S(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??mb()),document.body.insertAdjacentElement("beforeend",n[1]??mb()),Qg++,()=>{Qg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qg--}},[])}function mb(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ds=function(){return Ds=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ds.apply(this,arguments)};function BS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function NO(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var hf="right-scroll-bar-position",ff="width-before-scroll-bar",DO="with-scroll-bars-hidden",OO="--removed-body-scroll-bar-size";function Yg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function MO(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var VO=typeof window<"u"?b.useLayoutEffect:b.useEffect,gb=new WeakMap;function LO(n,e){var t=MO(null,function(r){return n.forEach(function(s){return Yg(s,r)})});return VO(function(){var r=gb.get(t);if(r){var s=new Set(r),i=new Set(n),l=t.current;s.forEach(function(u){i.has(u)||Yg(u,null)}),i.forEach(function(u){s.has(u)||Yg(u,l)})}gb.set(t,n)},[n]),t}function jO(n){return n}function FO(n,e){e===void 0&&(e=jO);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var l=e(i,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(r=!0;t.length;){var l=t;t=[],l.forEach(i)}t={push:function(u){return i(u)},filter:function(){return t}}},assignMedium:function(i){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(i),l=t}var h=function(){var g=l;l=[],g.forEach(i)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),t}}}};return s}function zO(n){n===void 0&&(n={});var e=FO(null);return e.options=Ds({async:!0,ssr:!1},n),e}var qS=function(n){var e=n.sideCar,t=BS(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ds({},t))};qS.isSideCarExport=!0;function UO(n,e){return n.useMedium(e),qS}var HS=zO(),Xg=function(){},xp=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:Xg,onWheelCapture:Xg,onTouchMoveCapture:Xg}),s=r[0],i=r[1],l=n.forwardProps,u=n.children,h=n.className,p=n.removeScrollBar,g=n.enabled,m=n.shards,E=n.sideCar,I=n.noRelative,k=n.noIsolation,A=n.inert,R=n.allowPinchZoom,V=n.as,z=V===void 0?"div":V,U=n.gapMode,H=BS(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=E,W=LO([t,e]),C=Ds(Ds({},H),s);return b.createElement(b.Fragment,null,g&&b.createElement(B,{sideCar:HS,removeScrollBar:p,shards:m,noRelative:I,noIsolation:k,inert:A,setCallbacks:i,allowPinchZoom:!!R,lockRef:t,gapMode:U}),l?b.cloneElement(b.Children.only(u),Ds(Ds({},C),{ref:W})):b.createElement(z,Ds({},C,{className:h,ref:W}),u))});xp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xp.classNames={fullWidth:ff,zeroRight:hf};var $O=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BO(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=$O();return e&&n.setAttribute("nonce",e),n}function qO(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function HO(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var WO=function(){var n=0,e=null;return{add:function(t){n==0&&(e=BO())&&(qO(e,t),HO(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},GO=function(){var n=WO();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},WS=function(){var n=GO(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},KO={left:0,top:0,right:0,gap:0},Jg=function(n){return parseInt(n||"",10)||0},ZO=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[Jg(t),Jg(r),Jg(s)]},QO=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return KO;var e=ZO(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},YO=WS(),ql="data-scroll-locked",XO=function(n,e,t,r){var s=n.left,i=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(DO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(ql,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hf,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ff,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ff," .").concat(ff,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ql,`] {
    `).concat(OO,": ").concat(u,`px;
  }
`)},yb=function(){var n=parseInt(document.body.getAttribute(ql)||"0",10);return isFinite(n)?n:0},JO=function(){b.useEffect(function(){return document.body.setAttribute(ql,(yb()+1).toString()),function(){var n=yb()-1;n<=0?document.body.removeAttribute(ql):document.body.setAttribute(ql,n.toString())}},[])},eM=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;JO();var i=b.useMemo(function(){return QO(s)},[s]);return b.createElement(YO,{styles:XO(i,!e,s,t?"":"!important")})},Ny=!1;if(typeof window<"u")try{var Hh=Object.defineProperty({},"passive",{get:function(){return Ny=!0,!0}});window.addEventListener("test",Hh,Hh),window.removeEventListener("test",Hh,Hh)}catch{Ny=!1}var Al=Ny?{passive:!1}:!1,tM=function(n){return n.tagName==="TEXTAREA"},GS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!tM(n)&&t[e]==="visible")},nM=function(n){return GS(n,"overflowY")},rM=function(n){return GS(n,"overflowX")},vb=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=KS(n,r);if(s){var i=ZS(n,r),l=i[1],u=i[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},sM=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},oM=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},KS=function(n,e){return n==="v"?nM(e):rM(e)},ZS=function(n,e){return n==="v"?sM(e):oM(e)},iM=function(n,e){return n==="h"&&e==="rtl"?-1:1},aM=function(n,e,t,r,s){var i=iM(n,window.getComputedStyle(e).direction),l=i*r,u=t.target,h=e.contains(u),p=!1,g=l>0,m=0,E=0;do{if(!u)break;var I=ZS(n,u),k=I[0],A=I[1],R=I[2],V=A-R-i*k;(k||V)&&KS(n,u)&&(m+=V,E+=k);var z=u.parentNode;u=z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?z.host:z}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(g&&Math.abs(m)<1||!g&&Math.abs(E)<1)&&(p=!0),p},Wh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},_b=function(n){return[n.deltaX,n.deltaY]},wb=function(n){return n&&"current"in n?n.current:n},lM=function(n,e){return n[0]===e[0]&&n[1]===e[1]},cM=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},uM=0,Pl=[];function dM(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),s=b.useState(uM++)[0],i=b.useState(WS)[0],l=b.useRef(n);b.useEffect(function(){l.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var A=NO([n.lockRef.current],(n.shards||[]).map(wb),!0).filter(Boolean);return A.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),A.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var u=b.useCallback(function(A,R){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!l.current.allowPinchZoom;var V=Wh(A),z=t.current,U="deltaX"in A?A.deltaX:z[0]-V[0],H="deltaY"in A?A.deltaY:z[1]-V[1],B,W=A.target,C=Math.abs(U)>Math.abs(H)?"h":"v";if("touches"in A&&C==="h"&&W.type==="range")return!1;var S=vb(C,W);if(!S)return!0;if(S?B=C:(B=C==="v"?"h":"v",S=vb(C,W)),!S)return!1;if(!r.current&&"changedTouches"in A&&(U||H)&&(r.current=B),!B)return!0;var P=r.current||B;return aM(P,R,A,P==="h"?U:H)},[]),h=b.useCallback(function(A){var R=A;if(!(!Pl.length||Pl[Pl.length-1]!==i)){var V="deltaY"in R?_b(R):Wh(R),z=e.current.filter(function(B){return B.name===R.type&&(B.target===R.target||R.target===B.shadowParent)&&lM(B.delta,V)})[0];if(z&&z.should){R.cancelable&&R.preventDefault();return}if(!z){var U=(l.current.shards||[]).map(wb).filter(Boolean).filter(function(B){return B.contains(R.target)}),H=U.length>0?u(R,U[0]):!l.current.noIsolation;H&&R.cancelable&&R.preventDefault()}}},[]),p=b.useCallback(function(A,R,V,z){var U={name:A,delta:R,target:V,should:z,shadowParent:hM(V)};e.current.push(U),setTimeout(function(){e.current=e.current.filter(function(H){return H!==U})},1)},[]),g=b.useCallback(function(A){t.current=Wh(A),r.current=void 0},[]),m=b.useCallback(function(A){p(A.type,_b(A),A.target,u(A,n.lockRef.current))},[]),E=b.useCallback(function(A){p(A.type,Wh(A),A.target,u(A,n.lockRef.current))},[]);b.useEffect(function(){return Pl.push(i),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:E}),document.addEventListener("wheel",h,Al),document.addEventListener("touchmove",h,Al),document.addEventListener("touchstart",g,Al),function(){Pl=Pl.filter(function(A){return A!==i}),document.removeEventListener("wheel",h,Al),document.removeEventListener("touchmove",h,Al),document.removeEventListener("touchstart",g,Al)}},[]);var I=n.removeScrollBar,k=n.inert;return b.createElement(b.Fragment,null,k?b.createElement(i,{styles:cM(s)}):null,I?b.createElement(eM,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function hM(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const fM=UO(HS,dM);var Vv=b.forwardRef(function(n,e){return b.createElement(xp,Ds({},n,{ref:e,sideCar:fM}))});Vv.classNames=xp.classNames;var pM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Rl=new WeakMap,Gh=new WeakMap,Kh={},ey=0,QS=function(n){return n&&(n.host||QS(n.parentNode))},mM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=QS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},gM=function(n,e,t,r){var s=mM(e,Array.isArray(n)?n:[n]);Kh[t]||(Kh[t]=new WeakMap);var i=Kh[t],l=[],u=new Set,h=new Set(s),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};s.forEach(p);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(E){if(u.has(E))g(E);else try{var I=E.getAttribute(r),k=I!==null&&I!=="false",A=(Rl.get(E)||0)+1,R=(i.get(E)||0)+1;Rl.set(E,A),i.set(E,R),l.push(E),A===1&&k&&Gh.set(E,!0),R===1&&E.setAttribute(t,"true"),k||E.setAttribute(r,"true")}catch(V){console.error("aria-hidden: cannot operate on ",E,V)}})};return g(e),u.clear(),ey++,function(){l.forEach(function(m){var E=Rl.get(m)-1,I=i.get(m)-1;Rl.set(m,E),i.set(m,I),E||(Gh.has(m)||m.removeAttribute(r),Gh.delete(m)),I||m.removeAttribute(t)}),ey--,ey||(Rl=new WeakMap,Rl=new WeakMap,Gh=new WeakMap,Kh={})}},YS=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=pM(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),gM(r,s,t,"aria-hidden")):function(){return null}},Ip="Dialog",[XS]=Ks(Ip),[yM,us]=XS(Ip),JS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=n,u=b.useRef(null),h=b.useRef(null),[p,g]=vc({prop:r,defaultProp:s??!1,onChange:i,caller:Ip});return v.jsx(yM,{scope:e,triggerRef:u,contentRef:h,contentId:ga(),titleId:ga(),descriptionId:ga(),open:p,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(m=>!m),[g]),modal:l,children:t})};JS.displayName=Ip;var e1="DialogTrigger",t1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=us(e1,t),i=Et(e,s.triggerRef);return v.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Fv(s.open),...r,ref:i,onClick:Le(n.onClick,s.onOpenToggle)})});t1.displayName=e1;var Lv="DialogPortal",[vM,n1]=XS(Lv,{forceMount:void 0}),r1=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=us(Lv,e);return v.jsx(vM,{scope:e,forceMount:t,children:b.Children.map(r,l=>v.jsx(Gn,{present:t||i.open,children:v.jsx(bp,{asChild:!0,container:s,children:l})}))})};r1.displayName=Lv;var Nf="DialogOverlay",s1=b.forwardRef((n,e)=>{const t=n1(Nf,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=us(Nf,n.__scopeDialog);return i.modal?v.jsx(Gn,{present:r||i.open,children:v.jsx(wM,{...s,ref:e})}):null});s1.displayName=Nf;var _M=Yl("DialogOverlay.RemoveScroll"),wM=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=us(Nf,t);return v.jsx(Vv,{as:_M,allowPinchZoom:!0,shards:[s.contentRef],children:v.jsx(ht.div,{"data-state":Fv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ia="DialogContent",o1=b.forwardRef((n,e)=>{const t=n1(Ia,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=us(Ia,n.__scopeDialog);return v.jsx(Gn,{present:r||i.open,children:i.modal?v.jsx(EM,{...s,ref:e}):v.jsx(bM,{...s,ref:e})})});o1.displayName=Ia;var EM=b.forwardRef((n,e)=>{const t=us(Ia,n.__scopeDialog),r=b.useRef(null),s=Et(e,t.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return YS(i)},[]),v.jsx(i1,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(n.onCloseAutoFocus,i=>{i.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Le(n.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Le(n.onFocusOutside,i=>i.preventDefault())})}),bM=b.forwardRef((n,e)=>{const t=us(Ia,n.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return v.jsx(i1,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{n.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{n.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;t.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),i1=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=n,u=us(Ia,t),h=b.useRef(null),p=Et(e,h);return $S(),v.jsxs(v.Fragment,{children:[v.jsx(Mv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:v.jsx(Ep,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Fv(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(xM,{titleId:u.titleId}),v.jsx(SM,{contentRef:h,descriptionId:u.descriptionId})]})]})}),jv="DialogTitle",a1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=us(jv,t);return v.jsx(ht.h2,{id:s.titleId,...r,ref:e})});a1.displayName=jv;var l1="DialogDescription",c1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=us(l1,t);return v.jsx(ht.p,{id:s.descriptionId,...r,ref:e})});c1.displayName=l1;var u1="DialogClose",d1=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=us(u1,t);return v.jsx(ht.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,()=>s.onOpenChange(!1))})});d1.displayName=u1;function Fv(n){return n?"open":"closed"}var h1="DialogTitleWarning",[HH,f1]=iO(h1,{contentName:Ia,titleName:jv,docsSlug:"dialog"}),xM=({titleId:n})=>{const e=f1(h1),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},IM="DialogDescriptionWarning",SM=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${f1(IM).contentName}}.`;return b.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},p1=JS,TM=t1,m1=r1,zv=s1,Uv=o1,$v=a1,Bv=c1,g1=d1;const CM=p1,AM=m1,y1=b.forwardRef(({className:n,...e},t)=>v.jsx(zv,{className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));y1.displayName=zv.displayName;const PM=_p("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),v1=b.forwardRef(({side:n="right",className:e,children:t,...r},s)=>v.jsxs(AM,{children:[v.jsx(y1,{}),v.jsxs(Uv,{ref:s,className:$e(PM({side:n}),e),...r,children:[t,v.jsxs(g1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[v.jsx(Nv,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));v1.displayName=Uv.displayName;const _1=({className:n,...e})=>v.jsx("div",{className:$e("flex flex-col space-y-2 text-center sm:text-left",n),...e});_1.displayName="SheetHeader";const w1=b.forwardRef(({className:n,...e},t)=>v.jsx($v,{ref:t,className:$e("text-lg font-semibold text-foreground",n),...e}));w1.displayName=$v.displayName;const E1=b.forwardRef(({className:n,...e},t)=>v.jsx(Bv,{ref:t,className:$e("text-sm text-muted-foreground",n),...e}));E1.displayName=Bv.displayName;const RM=["top","right","bottom","left"],Ii=Math.min,Er=Math.max,Df=Math.round,Zh=Math.floor,js=n=>({x:n,y:n}),kM={left:"right",right:"left",bottom:"top",top:"bottom"},NM={start:"end",end:"start"};function Dy(n,e,t){return Er(n,Ii(e,t))}function wo(n,e){return typeof n=="function"?n(e):n}function Eo(n){return n.split("-")[0]}function _c(n){return n.split("-")[1]}function qv(n){return n==="x"?"y":"x"}function Hv(n){return n==="y"?"height":"width"}const DM=new Set(["top","bottom"]);function Ms(n){return DM.has(Eo(n))?"y":"x"}function Wv(n){return qv(Ms(n))}function OM(n,e,t){t===void 0&&(t=!1);const r=_c(n),s=Wv(n),i=Hv(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=Of(l)),[l,Of(l)]}function MM(n){const e=Of(n);return[Oy(n),e,Oy(e)]}function Oy(n){return n.replace(/start|end/g,e=>NM[e])}const Eb=["left","right"],bb=["right","left"],VM=["top","bottom"],LM=["bottom","top"];function jM(n,e,t){switch(n){case"top":case"bottom":return t?e?bb:Eb:e?Eb:bb;case"left":case"right":return e?VM:LM;default:return[]}}function FM(n,e,t,r){const s=_c(n);let i=jM(Eo(n),t==="start",r);return s&&(i=i.map(l=>l+"-"+s),e&&(i=i.concat(i.map(Oy)))),i}function Of(n){return n.replace(/left|right|bottom|top/g,e=>kM[e])}function zM(n){return{top:0,right:0,bottom:0,left:0,...n}}function b1(n){return typeof n!="number"?zM(n):{top:n,right:n,bottom:n,left:n}}function Mf(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function xb(n,e,t){let{reference:r,floating:s}=n;const i=Ms(e),l=Wv(e),u=Hv(l),h=Eo(e),p=i==="y",g=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,E=r[u]/2-s[u]/2;let I;switch(h){case"top":I={x:g,y:r.y-s.height};break;case"bottom":I={x:g,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y:m};break;case"left":I={x:r.x-s.width,y:m};break;default:I={x:r.x,y:r.y}}switch(_c(e)){case"start":I[l]-=E*(t&&p?-1:1);break;case"end":I[l]+=E*(t&&p?-1:1);break}return I}const UM=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=t,u=i.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y:m}=xb(p,r,h),E=r,I={},k=0;for(let A=0;A<u.length;A++){const{name:R,fn:V}=u[A],{x:z,y:U,data:H,reset:B}=await V({x:g,y:m,initialPlacement:r,placement:E,strategy:s,middlewareData:I,rects:p,platform:l,elements:{reference:n,floating:e}});g=z??g,m=U??m,I={...I,[R]:{...I[R],...H}},B&&k<=50&&(k++,typeof B=="object"&&(B.placement&&(E=B.placement),B.rects&&(p=B.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):B.rects),{x:g,y:m}=xb(p,E,h)),A=-1)}return{x:g,y:m,placement:E,strategy:s,middlewareData:I}};async function Uu(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:l,elements:u,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:E=!1,padding:I=0}=wo(e,n),k=b1(I),R=u[E?m==="floating"?"reference":"floating":m],V=Mf(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(R)))==null||t?R:R.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:h})),z=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,U=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),H=await(i.isElement==null?void 0:i.isElement(U))?await(i.getScale==null?void 0:i.getScale(U))||{x:1,y:1}:{x:1,y:1},B=Mf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:z,offsetParent:U,strategy:h}):z);return{top:(V.top-B.top+k.top)/H.y,bottom:(B.bottom-V.bottom+k.bottom)/H.y,left:(V.left-B.left+k.left)/H.x,right:(B.right-V.right+k.right)/H.x}}const $M=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:g=0}=wo(n,e)||{};if(p==null)return{};const m=b1(g),E={x:t,y:r},I=Wv(s),k=Hv(I),A=await l.getDimensions(p),R=I==="y",V=R?"top":"left",z=R?"bottom":"right",U=R?"clientHeight":"clientWidth",H=i.reference[k]+i.reference[I]-E[I]-i.floating[k],B=E[I]-i.reference[I],W=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let C=W?W[U]:0;(!C||!await(l.isElement==null?void 0:l.isElement(W)))&&(C=u.floating[U]||i.floating[k]);const S=H/2-B/2,P=C/2-A[k]/2-1,N=Ii(m[V],P),M=Ii(m[z],P),F=N,O=C-A[k]-M,Ce=C/2-A[k]/2+S,Be=Dy(F,Ce,O),me=!h.arrow&&_c(s)!=null&&Ce!==Be&&i.reference[k]/2-(Ce<F?N:M)-A[k]/2<0,_e=me?Ce<F?Ce-F:Ce-O:0;return{[I]:E[I]+_e,data:{[I]:Be,centerOffset:Ce-Be-_e,...me&&{alignmentOffset:_e}},reset:me}}}),BM=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:E,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:A=!0,...R}=wo(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const V=Eo(s),z=Ms(u),U=Eo(u)===u,H=await(h.isRTL==null?void 0:h.isRTL(p.floating)),B=E||(U||!A?[Of(u)]:MM(u)),W=k!=="none";!E&&W&&B.push(...FM(u,A,k,H));const C=[u,...B],S=await Uu(e,R),P=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&P.push(S[V]),m){const Ce=OM(s,l,H);P.push(S[Ce[0]],S[Ce[1]])}if(N=[...N,{placement:s,overflows:P}],!P.every(Ce=>Ce<=0)){var M,F;const Ce=(((M=i.flip)==null?void 0:M.index)||0)+1,Be=C[Ce];if(Be&&(!(m==="alignment"?z!==Ms(Be):!1)||N.every(G=>Ms(G.placement)===z?G.overflows[0]>0:!0)))return{data:{index:Ce,overflows:N},reset:{placement:Be}};let me=(F=N.filter(_e=>_e.overflows[0]<=0).sort((_e,G)=>_e.overflows[1]-G.overflows[1])[0])==null?void 0:F.placement;if(!me)switch(I){case"bestFit":{var O;const _e=(O=N.filter(G=>{if(W){const ne=Ms(G.placement);return ne===z||ne==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ne=>ne>0).reduce((ne,X)=>ne+X,0)]).sort((G,ne)=>G[1]-ne[1])[0])==null?void 0:O[0];_e&&(me=_e);break}case"initialPlacement":me=u;break}if(s!==me)return{reset:{placement:me}}}return{}}}};function Ib(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Sb(n){return RM.some(e=>n[e]>=0)}const qM=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=wo(n,e);switch(r){case"referenceHidden":{const i=await Uu(e,{...s,elementContext:"reference"}),l=Ib(i,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Sb(l)}}}case"escaped":{const i=await Uu(e,{...s,altBoundary:!0}),l=Ib(i,t.floating);return{data:{escapedOffsets:l,escaped:Sb(l)}}}default:return{}}}}},x1=new Set(["left","top"]);async function HM(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Eo(t),u=_c(t),h=Ms(t)==="y",p=x1.has(l)?-1:1,g=i&&h?-1:1,m=wo(e,n);let{mainAxis:E,crossAxis:I,alignmentAxis:k}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof k=="number"&&(I=u==="end"?k*-1:k),h?{x:I*g,y:E*p}:{x:E*p,y:I*g}}const WM=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:l,middlewareData:u}=e,h=await HM(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:i+h.y,data:{...h,placement:l}}}}},GM=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:R=>{let{x:V,y:z}=R;return{x:V,y:z}}},...h}=wo(n,e),p={x:t,y:r},g=await Uu(e,h),m=Ms(Eo(s)),E=qv(m);let I=p[E],k=p[m];if(i){const R=E==="y"?"top":"left",V=E==="y"?"bottom":"right",z=I+g[R],U=I-g[V];I=Dy(z,I,U)}if(l){const R=m==="y"?"top":"left",V=m==="y"?"bottom":"right",z=k+g[R],U=k-g[V];k=Dy(z,k,U)}const A=u.fn({...e,[E]:I,[m]:k});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[E]:i,[m]:l}}}}}},KM=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=wo(n,e),g={x:t,y:r},m=Ms(s),E=qv(m);let I=g[E],k=g[m];const A=wo(u,e),R=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(h){const U=E==="y"?"height":"width",H=i.reference[E]-i.floating[U]+R.mainAxis,B=i.reference[E]+i.reference[U]-R.mainAxis;I<H?I=H:I>B&&(I=B)}if(p){var V,z;const U=E==="y"?"width":"height",H=x1.has(Eo(s)),B=i.reference[m]-i.floating[U]+(H&&((V=l.offset)==null?void 0:V[m])||0)+(H?0:R.crossAxis),W=i.reference[m]+i.reference[U]+(H?0:((z=l.offset)==null?void 0:z[m])||0)-(H?R.crossAxis:0);k<B?k=B:k>W&&(k=W)}return{[E]:I,[m]:k}}}},ZM=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:l,elements:u}=e,{apply:h=()=>{},...p}=wo(n,e),g=await Uu(e,p),m=Eo(s),E=_c(s),I=Ms(s)==="y",{width:k,height:A}=i.floating;let R,V;m==="top"||m==="bottom"?(R=m,V=E===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(V=m,R=E==="end"?"top":"bottom");const z=A-g.top-g.bottom,U=k-g.left-g.right,H=Ii(A-g[R],z),B=Ii(k-g[V],U),W=!e.middlewareData.shift;let C=H,S=B;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=U),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=z),W&&!E){const N=Er(g.left,0),M=Er(g.right,0),F=Er(g.top,0),O=Er(g.bottom,0);I?S=k-2*(N!==0||M!==0?N+M:Er(g.left,g.right)):C=A-2*(F!==0||O!==0?F+O:Er(g.top,g.bottom))}await h({...e,availableWidth:S,availableHeight:C});const P=await l.getDimensions(u.floating);return k!==P.width||A!==P.height?{reset:{rects:!0}}:{}}}};function Sp(){return typeof window<"u"}function wc(n){return I1(n)?(n.nodeName||"").toLowerCase():"#document"}function xr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Zs(n){var e;return(e=(I1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function I1(n){return Sp()?n instanceof Node||n instanceof xr(n).Node:!1}function as(n){return Sp()?n instanceof Element||n instanceof xr(n).Element:!1}function Bs(n){return Sp()?n instanceof HTMLElement||n instanceof xr(n).HTMLElement:!1}function Tb(n){return!Sp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof xr(n).ShadowRoot}const QM=new Set(["inline","contents"]);function cd(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=ls(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!QM.has(s)}const YM=new Set(["table","td","th"]);function XM(n){return YM.has(wc(n))}const JM=[":popover-open",":modal"];function Tp(n){return JM.some(e=>{try{return n.matches(e)}catch{return!1}})}const eV=["transform","translate","scale","rotate","perspective"],tV=["transform","translate","scale","rotate","perspective","filter"],nV=["paint","layout","strict","content"];function Gv(n){const e=Kv(),t=as(n)?ls(n):n;return eV.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||tV.some(r=>(t.willChange||"").includes(r))||nV.some(r=>(t.contain||"").includes(r))}function rV(n){let e=Si(n);for(;Bs(e)&&!Xl(e);){if(Gv(e))return e;if(Tp(e))return null;e=Si(e)}return null}function Kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sV=new Set(["html","body","#document"]);function Xl(n){return sV.has(wc(n))}function ls(n){return xr(n).getComputedStyle(n)}function Cp(n){return as(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Si(n){if(wc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Tb(n)&&n.host||Zs(n);return Tb(e)?e.host:e}function S1(n){const e=Si(n);return Xl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Bs(e)&&cd(e)?e:S1(e)}function $u(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=S1(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),l=xr(s);if(i){const u=My(l);return e.concat(l,l.visualViewport||[],cd(s)?s:[],u&&t?$u(u):[])}return e.concat(s,$u(s,[],t))}function My(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function T1(n){const e=ls(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Bs(n),i=s?n.offsetWidth:t,l=s?n.offsetHeight:r,u=Df(t)!==i||Df(r)!==l;return u&&(t=i,r=l),{width:t,height:r,$:u}}function Zv(n){return as(n)?n:n.contextElement}function Hl(n){const e=Zv(n);if(!Bs(e))return js(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=T1(e);let l=(i?Df(t.width):t.width)/r,u=(i?Df(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const oV=js(0);function C1(n){const e=xr(n);return!Kv()||!e.visualViewport?oV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function iV(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==xr(n)?!1:e}function Sa(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=Zv(n);let l=js(1);e&&(r?as(r)&&(l=Hl(r)):l=Hl(n));const u=iV(i,t,r)?C1(i):js(0);let h=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,g=s.width/l.x,m=s.height/l.y;if(i){const E=xr(i),I=r&&as(r)?xr(r):r;let k=E,A=My(k);for(;A&&r&&I!==k;){const R=Hl(A),V=A.getBoundingClientRect(),z=ls(A),U=V.left+(A.clientLeft+parseFloat(z.paddingLeft))*R.x,H=V.top+(A.clientTop+parseFloat(z.paddingTop))*R.y;h*=R.x,p*=R.y,g*=R.x,m*=R.y,h+=U,p+=H,k=xr(A),A=My(k)}}return Mf({width:g,height:m,x:h,y:p})}function Ap(n,e){const t=Cp(n).scrollLeft;return e?e.left+t:Sa(Zs(n)).left+t}function A1(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Ap(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function aV(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",l=Zs(r),u=e?Tp(e.floating):!1;if(r===l||u&&i)return t;let h={scrollLeft:0,scrollTop:0},p=js(1);const g=js(0),m=Bs(r);if((m||!m&&!i)&&((wc(r)!=="body"||cd(l))&&(h=Cp(r)),Bs(r))){const I=Sa(r);p=Hl(r),g.x=I.x+r.clientLeft,g.y=I.y+r.clientTop}const E=l&&!m&&!i?A1(l,h):js(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+g.x+E.x,y:t.y*p.y-h.scrollTop*p.y+g.y+E.y}}function lV(n){return Array.from(n.getClientRects())}function cV(n){const e=Zs(n),t=Cp(n),r=n.ownerDocument.body,s=Er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Ap(n);const u=-t.scrollTop;return ls(r).direction==="rtl"&&(l+=Er(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:u}}const Cb=25;function uV(n,e){const t=xr(n),r=Zs(n),s=t.visualViewport;let i=r.clientWidth,l=r.clientHeight,u=0,h=0;if(s){i=s.width,l=s.height;const g=Kv();(!g||g&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const p=Ap(r);if(p<=0){const g=r.ownerDocument,m=g.body,E=getComputedStyle(m),I=g.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,k=Math.abs(r.clientWidth-m.clientWidth-I);k<=Cb&&(i-=k)}else p<=Cb&&(i+=p);return{width:i,height:l,x:u,y:h}}const dV=new Set(["absolute","fixed"]);function hV(n,e){const t=Sa(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=Bs(n)?Hl(n):js(1),l=n.clientWidth*i.x,u=n.clientHeight*i.y,h=s*i.x,p=r*i.y;return{width:l,height:u,x:h,y:p}}function Ab(n,e,t){let r;if(e==="viewport")r=uV(n,t);else if(e==="document")r=cV(Zs(n));else if(as(e))r=hV(e,t);else{const s=C1(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Mf(r)}function P1(n,e){const t=Si(n);return t===e||!as(t)||Xl(t)?!1:ls(t).position==="fixed"||P1(t,e)}function fV(n,e){const t=e.get(n);if(t)return t;let r=$u(n,[],!1).filter(u=>as(u)&&wc(u)!=="body"),s=null;const i=ls(n).position==="fixed";let l=i?Si(n):n;for(;as(l)&&!Xl(l);){const u=ls(l),h=Gv(l);!h&&u.position==="fixed"&&(s=null),(i?!h&&!s:!h&&u.position==="static"&&!!s&&dV.has(s.position)||cd(l)&&!h&&P1(n,l))?r=r.filter(g=>g!==l):s=u,l=Si(l)}return e.set(n,r),r}function pV(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?Tp(e)?[]:fV(e,this._c):[].concat(t),r],u=l[0],h=l.reduce((p,g)=>{const m=Ab(e,g,s);return p.top=Er(m.top,p.top),p.right=Ii(m.right,p.right),p.bottom=Ii(m.bottom,p.bottom),p.left=Er(m.left,p.left),p},Ab(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function mV(n){const{width:e,height:t}=T1(n);return{width:e,height:t}}function gV(n,e,t){const r=Bs(e),s=Zs(e),i=t==="fixed",l=Sa(n,!0,i,e);let u={scrollLeft:0,scrollTop:0};const h=js(0);function p(){h.x=Ap(s)}if(r||!r&&!i)if((wc(e)!=="body"||cd(s))&&(u=Cp(e)),r){const I=Sa(e,!0,i,e);h.x=I.x+e.clientLeft,h.y=I.y+e.clientTop}else s&&p();i&&!r&&s&&p();const g=s&&!r&&!i?A1(s,u):js(0),m=l.left+u.scrollLeft-h.x-g.x,E=l.top+u.scrollTop-h.y-g.y;return{x:m,y:E,width:l.width,height:l.height}}function ty(n){return ls(n).position==="static"}function Pb(n,e){if(!Bs(n)||ls(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Zs(n)===t&&(t=t.ownerDocument.body),t}function R1(n,e){const t=xr(n);if(Tp(n))return t;if(!Bs(n)){let s=Si(n);for(;s&&!Xl(s);){if(as(s)&&!ty(s))return s;s=Si(s)}return t}let r=Pb(n,e);for(;r&&XM(r)&&ty(r);)r=Pb(r,e);return r&&Xl(r)&&ty(r)&&!Gv(r)?t:r||rV(n)||t}const yV=async function(n){const e=this.getOffsetParent||R1,t=this.getDimensions,r=await t(n.floating);return{reference:gV(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vV(n){return ls(n).direction==="rtl"}const _V={convertOffsetParentRelativeRectToViewportRelativeRect:aV,getDocumentElement:Zs,getClippingRect:pV,getOffsetParent:R1,getElementRects:yV,getClientRects:lV,getDimensions:mV,getScale:Hl,isElement:as,isRTL:vV};function k1(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function wV(n,e){let t=null,r;const s=Zs(n);function i(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),i();const p=n.getBoundingClientRect(),{left:g,top:m,width:E,height:I}=p;if(u||e(),!E||!I)return;const k=Zh(m),A=Zh(s.clientWidth-(g+E)),R=Zh(s.clientHeight-(m+I)),V=Zh(g),U={rootMargin:-k+"px "+-A+"px "+-R+"px "+-V+"px",threshold:Er(0,Ii(1,h))||1};let H=!0;function B(W){const C=W[0].intersectionRatio;if(C!==h){if(!H)return l();C?l(!1,C):r=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!k1(p,n.getBoundingClientRect())&&l(),H=!1}try{t=new IntersectionObserver(B,{...U,root:s.ownerDocument})}catch{t=new IntersectionObserver(B,U)}t.observe(n)}return l(!0),i}function EV(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Zv(n),g=s||i?[...p?$u(p):[],...$u(e)]:[];g.forEach(V=>{s&&V.addEventListener("scroll",t,{passive:!0}),i&&V.addEventListener("resize",t)});const m=p&&u?wV(p,t):null;let E=-1,I=null;l&&(I=new ResizeObserver(V=>{let[z]=V;z&&z.target===p&&I&&(I.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var U;(U=I)==null||U.observe(e)})),t()}),p&&!h&&I.observe(p),I.observe(e));let k,A=h?Sa(n):null;h&&R();function R(){const V=Sa(n);A&&!k1(A,V)&&t(),A=V,k=requestAnimationFrame(R)}return t(),()=>{var V;g.forEach(z=>{s&&z.removeEventListener("scroll",t),i&&z.removeEventListener("resize",t)}),m?.(),(V=I)==null||V.disconnect(),I=null,h&&cancelAnimationFrame(k)}}const bV=WM,xV=GM,IV=BM,SV=ZM,TV=qM,Rb=$M,CV=KM,AV=(n,e,t)=>{const r=new Map,s={platform:_V,...t},i={...s.platform,_c:r};return UM(n,e,{...s,platform:i})};var PV=typeof document<"u",RV=function(){},pf=PV?b.useLayoutEffect:RV;function Vf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Vf(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Vf(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function N1(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function kb(n,e){const t=N1(n);return Math.round(e*t)/t}function ny(n){const e=b.useRef(n);return pf(()=>{e.current=n}),e}function kV(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=n,[g,m]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,I]=b.useState(r);Vf(E,r)||I(r);const[k,A]=b.useState(null),[R,V]=b.useState(null),z=b.useCallback(G=>{G!==W.current&&(W.current=G,A(G))},[]),U=b.useCallback(G=>{G!==C.current&&(C.current=G,V(G))},[]),H=i||k,B=l||R,W=b.useRef(null),C=b.useRef(null),S=b.useRef(g),P=h!=null,N=ny(h),M=ny(s),F=ny(p),O=b.useCallback(()=>{if(!W.current||!C.current)return;const G={placement:e,strategy:t,middleware:E};M.current&&(G.platform=M.current),AV(W.current,C.current,G).then(ne=>{const X={...ne,isPositioned:F.current!==!1};Ce.current&&!Vf(S.current,X)&&(S.current=X,Ov.flushSync(()=>{m(X)}))})},[E,e,t,M,F]);pf(()=>{p===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,m(G=>({...G,isPositioned:!1})))},[p]);const Ce=b.useRef(!1);pf(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]),pf(()=>{if(H&&(W.current=H),B&&(C.current=B),H&&B){if(N.current)return N.current(H,B,O);O()}},[H,B,O,N,P]);const Be=b.useMemo(()=>({reference:W,floating:C,setReference:z,setFloating:U}),[z,U]),me=b.useMemo(()=>({reference:H,floating:B}),[H,B]),_e=b.useMemo(()=>{const G={position:t,left:0,top:0};if(!me.floating)return G;const ne=kb(me.floating,g.x),X=kb(me.floating,g.y);return u?{...G,transform:"translate("+ne+"px, "+X+"px)",...N1(me.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:X}},[t,u,me.floating,g.x,g.y]);return b.useMemo(()=>({...g,update:O,refs:Be,elements:me,floatingStyles:_e}),[g,O,Be,me,_e])}const NV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Rb({element:r.current,padding:s}).fn(t):{}:r?Rb({element:r,padding:s}).fn(t):{}}}},DV=(n,e)=>({...bV(n),options:[n,e]}),OV=(n,e)=>({...xV(n),options:[n,e]}),MV=(n,e)=>({...CV(n),options:[n,e]}),VV=(n,e)=>({...IV(n),options:[n,e]}),LV=(n,e)=>({...SV(n),options:[n,e]}),jV=(n,e)=>({...TV(n),options:[n,e]}),FV=(n,e)=>({...NV(n),options:[n,e]});var zV="Arrow",D1=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return v.jsx(ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});D1.displayName=zV;var UV=D1;function Qv(n){const[e,t]=b.useState(void 0);return _o(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const h=i.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Yv="Popper",[O1,Pp]=Ks(Yv),[$V,M1]=O1(Yv),V1=n=>{const{__scopePopper:e,children:t}=n,[r,s]=b.useState(null);return v.jsx($V,{scope:e,anchor:r,onAnchorChange:s,children:t})};V1.displayName=Yv;var L1="PopperAnchor",j1=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=M1(L1,t),l=b.useRef(null),u=Et(e,l),h=b.useRef(null);return b.useEffect(()=>{const p=h.current;h.current=r?.current||l.current,p!==h.current&&i.onAnchorChange(h.current)}),r?null:v.jsx(ht.div,{...s,ref:u})});j1.displayName=L1;var Xv="PopperContent",[BV,qV]=O1(Xv),F1=b.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:E=!1,updatePositionStrategy:I="optimized",onPlaced:k,...A}=n,R=M1(Xv,t),[V,z]=b.useState(null),U=Et(e,ve=>z(ve)),[H,B]=b.useState(null),W=Qv(H),C=W?.width??0,S=W?.height??0,P=r+(i!=="center"?"-"+i:""),N=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},M=Array.isArray(p)?p:[p],F=M.length>0,O={padding:N,boundary:M.filter(WV),altBoundary:F},{refs:Ce,floatingStyles:Be,placement:me,isPositioned:_e,middlewareData:G}=kV({strategy:"fixed",placement:P,whileElementsMounted:(...ve)=>EV(...ve,{animationFrame:I==="always"}),elements:{reference:R.anchor},middleware:[DV({mainAxis:s+S,alignmentAxis:l}),h&&OV({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?MV():void 0,...O}),h&&VV({...O}),LV({...O,apply:({elements:ve,rects:Ie,availableWidth:Ge,availableHeight:Qe})=>{const{width:pe,height:xt}=Ie.reference,dn=ve.floating.style;dn.setProperty("--radix-popper-available-width",`${Ge}px`),dn.setProperty("--radix-popper-available-height",`${Qe}px`),dn.setProperty("--radix-popper-anchor-width",`${pe}px`),dn.setProperty("--radix-popper-anchor-height",`${xt}px`)}}),H&&FV({element:H,padding:u}),GV({arrowWidth:C,arrowHeight:S}),E&&jV({strategy:"referenceHidden",...O})]}),[ne,X]=$1(me),j=Ln(k);_o(()=>{_e&&j?.()},[_e,j]);const K=G.arrow?.x,oe=G.arrow?.y,ie=G.arrow?.centerOffset!==0,[he,Se]=b.useState();return _o(()=>{V&&Se(window.getComputedStyle(V).zIndex)},[V]),v.jsx("div",{ref:Ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...Be,transform:_e?Be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:v.jsx(BV,{scope:t,placedSide:ne,onArrowChange:B,arrowX:K,arrowY:oe,shouldHideArrow:ie,children:v.jsx(ht.div,{"data-side":ne,"data-align":X,...A,ref:U,style:{...A.style,animation:_e?void 0:"none"}})})})});F1.displayName=Xv;var z1="PopperArrow",HV={top:"bottom",right:"left",bottom:"top",left:"right"},U1=b.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=qV(z1,r),l=HV[i.placedSide];return v.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:v.jsx(UV,{...s,ref:t,style:{...s.style,display:"block"}})})});U1.displayName=z1;function WV(n){return n!==null}var GV=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,u=l?0:n.arrowWidth,h=l?0:n.arrowHeight,[p,g]=$1(t),m={start:"0%",center:"50%",end:"100%"}[g],E=(s.arrow?.x??0)+u/2,I=(s.arrow?.y??0)+h/2;let k="",A="";return p==="bottom"?(k=l?m:`${E}px`,A=`${-h}px`):p==="top"?(k=l?m:`${E}px`,A=`${r.floating.height+h}px`):p==="right"?(k=`${-h}px`,A=l?m:`${I}px`):p==="left"&&(k=`${r.floating.width+h}px`,A=l?m:`${I}px`),{data:{x:k,y:A}}}});function $1(n){const[e,t="center"]=n.split("-");return[e,t]}var B1=V1,q1=j1,H1=F1,W1=U1,KV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZV="VisuallyHidden",G1=b.forwardRef((n,e)=>v.jsx(ht.span,{...n,ref:e,style:{...KV,...n.style}}));G1.displayName=ZV;var QV=G1,[Rp]=Ks("Tooltip",[Pp]),kp=Pp(),K1="TooltipProvider",YV=700,Vy="tooltip.open",[XV,Jv]=Rp(K1),Z1=n=>{const{__scopeTooltip:e,delayDuration:t=YV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,l=b.useRef(!0),u=b.useRef(!1),h=b.useRef(0);return b.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),v.jsx(XV,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(h.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(p=>{u.current=p},[]),disableHoverableContent:s,children:i})};Z1.displayName=K1;var Bu="Tooltip",[JV,ud]=Rp(Bu),Q1=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:l,delayDuration:u}=n,h=Jv(Bu,n.__scopeTooltip),p=kp(e),[g,m]=b.useState(null),E=ga(),I=b.useRef(0),k=l??h.disableHoverableContent,A=u??h.delayDuration,R=b.useRef(!1),[V,z]=vc({prop:r,defaultProp:s??!1,onChange:C=>{C?(h.onOpen(),document.dispatchEvent(new CustomEvent(Vy))):h.onClose(),i?.(C)},caller:Bu}),U=b.useMemo(()=>V?R.current?"delayed-open":"instant-open":"closed",[V]),H=b.useCallback(()=>{window.clearTimeout(I.current),I.current=0,R.current=!1,z(!0)},[z]),B=b.useCallback(()=>{window.clearTimeout(I.current),I.current=0,z(!1)},[z]),W=b.useCallback(()=>{window.clearTimeout(I.current),I.current=window.setTimeout(()=>{R.current=!0,z(!0),I.current=0},A)},[A,z]);return b.useEffect(()=>()=>{I.current&&(window.clearTimeout(I.current),I.current=0)},[]),v.jsx(B1,{...p,children:v.jsx(JV,{scope:e,contentId:E,open:V,stateAttribute:U,trigger:g,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{h.isOpenDelayedRef.current?W():H()},[h.isOpenDelayedRef,W,H]),onTriggerLeave:b.useCallback(()=>{k?B():(window.clearTimeout(I.current),I.current=0)},[B,k]),onOpen:H,onClose:B,disableHoverableContent:k,children:t})})};Q1.displayName=Bu;var Ly="TooltipTrigger",Y1=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=ud(Ly,t),i=Jv(Ly,t),l=kp(t),u=b.useRef(null),h=Et(e,u,s.onTriggerChange),p=b.useRef(!1),g=b.useRef(!1),m=b.useCallback(()=>p.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),v.jsx(q1,{asChild:!0,...l,children:v.jsx(ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:h,onPointerMove:Le(n.onPointerMove,E=>{E.pointerType!=="touch"&&!g.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:Le(n.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:Le(n.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Le(n.onFocus,()=>{p.current||s.onOpen()}),onBlur:Le(n.onBlur,s.onClose),onClick:Le(n.onClick,s.onClose)})})});Y1.displayName=Ly;var e_="TooltipPortal",[eL,tL]=Rp(e_,{forceMount:void 0}),X1=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:s}=n,i=ud(e_,e);return v.jsx(eL,{scope:e,forceMount:t,children:v.jsx(Gn,{present:t||i.open,children:v.jsx(bp,{asChild:!0,container:s,children:r})})})};X1.displayName=e_;var Jl="TooltipContent",J1=b.forwardRef((n,e)=>{const t=tL(Jl,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,l=ud(Jl,n.__scopeTooltip);return v.jsx(Gn,{present:r||l.open,children:l.disableHoverableContent?v.jsx(eT,{side:s,...i,ref:e}):v.jsx(nL,{side:s,...i,ref:e})})}),nL=b.forwardRef((n,e)=>{const t=ud(Jl,n.__scopeTooltip),r=Jv(Jl,n.__scopeTooltip),s=b.useRef(null),i=Et(e,s),[l,u]=b.useState(null),{trigger:h,onClose:p}=t,g=s.current,{onPointerInTransitChange:m}=r,E=b.useCallback(()=>{u(null),m(!1)},[m]),I=b.useCallback((k,A)=>{const R=k.currentTarget,V={x:k.clientX,y:k.clientY},z=aL(V,R.getBoundingClientRect()),U=lL(V,z),H=cL(A.getBoundingClientRect()),B=dL([...U,...H]);u(B),m(!0)},[m]);return b.useEffect(()=>()=>E(),[E]),b.useEffect(()=>{if(h&&g){const k=R=>I(R,g),A=R=>I(R,h);return h.addEventListener("pointerleave",k),g.addEventListener("pointerleave",A),()=>{h.removeEventListener("pointerleave",k),g.removeEventListener("pointerleave",A)}}},[h,g,I,E]),b.useEffect(()=>{if(l){const k=A=>{const R=A.target,V={x:A.clientX,y:A.clientY},z=h?.contains(R)||g?.contains(R),U=!uL(V,l);z?E():U&&(E(),p())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[h,g,l,p,E]),v.jsx(eT,{...n,ref:i})}),[rL,sL]=Rp(Bu,{isInside:!1}),oL=YN("TooltipContent"),eT=b.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=n,h=ud(Jl,t),p=kp(t),{onClose:g}=h;return b.useEffect(()=>(document.addEventListener(Vy,g),()=>document.removeEventListener(Vy,g)),[g]),b.useEffect(()=>{if(h.trigger){const m=E=>{E.target?.contains(h.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,g]),v.jsx(Ep,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:v.jsxs(H1,{"data-state":h.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(oL,{children:r}),v.jsx(rL,{scope:t,isInside:!0,children:v.jsx(QV,{id:h.contentId,role:"tooltip",children:s||r})})]})})});J1.displayName=Jl;var tT="TooltipArrow",iL=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=kp(t);return sL(tT,t).isInside?null:v.jsx(W1,{...s,...r,ref:e})});iL.displayName=tT;function aL(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function lL(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function cL(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function uL(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,g=u.y,m=h.x,E=h.y;g>r!=E>r&&t<(m-p)*(r-g)/(E-g)+p&&(s=!s)}return s}function dL(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),hL(e)}function hL(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var fL=Z1,pL=Q1,mL=Y1,gL=X1,nT=J1;const jy=fL,Fy=pL,zy=mL,Lf=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>v.jsx(gL,{children:v.jsx(nT,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Lf.displayName=nT.displayName;const yL="sidebar_state",vL=3600*24*7,_L="12rem",Nb="18rem",wL="3rem",EL="b",rT=b.createContext(null);function Np(){const n=b.useContext(rT);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function bL({defaultOpen:n=!0,open:e,onOpenChange:t,className:r,style:s,children:i,...l}){const u=vD(),[h,p]=b.useState(!1),[g,m]=b.useState(n),E=e??g,I=b.useCallback(V=>{const z=typeof V=="function"?V(E):V;t?t(z):m(z),document.cookie=`${yL}=${z}; path=/; max-age=${vL}`},[t,E]),k=b.useCallback(()=>u?p(V=>!V):I(V=>!V),[u,I,p]);b.useEffect(()=>{const V=z=>{z.key===EL&&(z.metaKey||z.ctrlKey)&&(z.preventDefault(),k())};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[k]);const A=E?"expanded":"collapsed",R=b.useMemo(()=>({state:A,open:E,setOpen:I,isMobile:u,openMobile:h,setOpenMobile:p,toggleSidebar:k}),[A,E,I,u,h,p,k]);return v.jsx(rT.Provider,{value:R,children:v.jsx(jy,{delayDuration:0,children:v.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":_L,"--sidebar-width-icon":wL,...s},className:$e("group/sidebar-wrapper flex min-h-screen w-full",r),...l,children:i})})})}function xL({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:s,...i}){const{isMobile:l,state:u,openMobile:h,setOpenMobile:p}=Np();return t==="none"?v.jsx("div",{"data-slot":"sidebar",className:$e("bg-sidebar text-sidebar-foreground flex h-full flex-col",r),style:{width:"var(--sidebar-width)"},...i,children:s}):l?v.jsx(CM,{open:h,onOpenChange:p,...i,children:v.jsxs(v1,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground p-0 [&>button]:hidden",style:{"--sidebar-width":Nb,width:Nb},side:n,children:[v.jsxs(_1,{className:"sr-only",children:[v.jsx(w1,{children:"Sidebar"}),v.jsx(E1,{children:"Displays the mobile sidebar."})]}),v.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):v.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[v.jsx("div",{"data-slot":"sidebar-gap",className:$e("relative shrink-0 bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:!w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)]"),style:{width:"var(--sidebar-width)"}}),v.jsx("div",{"data-slot":"sidebar-container",className:$e("fixed inset-y-0 z-10 hidden h-screen transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:!w-[calc(var(--sidebar-width-icon)+1rem+2px)]":"group-data-[collapsible=icon]:!w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),style:{width:"var(--sidebar-width)"},...i,children:v.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function IL({className:n,...e}){const{toggleSidebar:t}=Np();return v.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:t,title:"Toggle Sidebar",className:$e("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","cursor-ew-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...e})}function SL({className:n,...e}){return v.jsx("main",{"data-slot":"sidebar-inset",className:$e("bg-background relative flex min-w-0 flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",n),...e})}function TL({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:$e("flex flex-col gap-2 p-2",n),...e})}function CL({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:$e("flex flex-col gap-2 p-2",n),...e})}function AL({className:n,...e}){return v.jsx(oO,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:$e("bg-sidebar-border mx-2 w-auto",n),...e})}function PL({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:$e("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function Db({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:$e("relative flex w-full min-w-0 flex-col p-2",n),...e})}function Ob({className:n,asChild:e=!1,...t}){const r=e?vp:"div";return v.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:$e("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})}function Mb({className:n,...e}){return v.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:$e("w-full text-sm",n),...e})}function ry({className:n,...e}){return v.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:$e("flex w-full min-w-0 flex-col gap-1",n),...e})}function Qh({className:n,...e}){return v.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:$e("group/menu-item relative",n),...e})}const RL=_p("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function sy({asChild:n=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:s,className:i,...l}){const u=n?vp:"button",{isMobile:h,state:p}=Np(),g=v.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:$e(RL({variant:t,size:r}),i),...l});return s?(typeof s=="string"&&(s={children:s}),v.jsxs(Fy,{children:[v.jsx(zy,{asChild:!0,children:g}),v.jsx(Lf,{side:"right",align:"center",hidden:p!=="collapsed"||h,...s})]})):g}function sT(n){const e=n+"CollectionProvider",[t,r]=Ks(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=A=>{const{scope:R,children:V}=A,z=ce.useRef(null),U=ce.useRef(new Map).current;return v.jsx(s,{scope:R,itemMap:U,collectionRef:z,children:V})};l.displayName=e;const u=n+"CollectionSlot",h=Yl(u),p=ce.forwardRef((A,R)=>{const{scope:V,children:z}=A,U=i(u,V),H=Et(R,U.collectionRef);return v.jsx(h,{ref:H,children:z})});p.displayName=u;const g=n+"CollectionItemSlot",m="data-radix-collection-item",E=Yl(g),I=ce.forwardRef((A,R)=>{const{scope:V,children:z,...U}=A,H=ce.useRef(null),B=Et(R,H),W=i(g,V);return ce.useEffect(()=>(W.itemMap.set(H,{ref:H,...U}),()=>void W.itemMap.delete(H))),v.jsx(E,{[m]:"",ref:B,children:z})});I.displayName=g;function k(A){const R=i(n+"CollectionConsumer",A);return ce.useCallback(()=>{const z=R.collectionRef.current;if(!z)return[];const U=Array.from(z.querySelectorAll(`[${m}]`));return Array.from(R.itemMap.values()).sort((W,C)=>U.indexOf(W.ref.current)-U.indexOf(C.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:p,ItemSlot:I},k,r]}var kL=b.createContext(void 0);function t_(n){const e=b.useContext(kL);return n||e||"ltr"}var oy="rovingFocusGroup.onEntryFocus",NL={bubbles:!1,cancelable:!0},dd="RovingFocusGroup",[Uy,oT,DL]=sT(dd),[OL,iT]=Ks(dd,[DL]),[ML,VL]=OL(dd),aT=b.forwardRef((n,e)=>v.jsx(Uy.Provider,{scope:n.__scopeRovingFocusGroup,children:v.jsx(Uy.Slot,{scope:n.__scopeRovingFocusGroup,children:v.jsx(LL,{...n,ref:e})})}));aT.displayName=dd;var LL=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=n,E=b.useRef(null),I=Et(e,E),k=t_(i),[A,R]=vc({prop:l,defaultProp:u??null,onChange:h,caller:dd}),[V,z]=b.useState(!1),U=Ln(p),H=oT(t),B=b.useRef(!1),[W,C]=b.useState(0);return b.useEffect(()=>{const S=E.current;if(S)return S.addEventListener(oy,U),()=>S.removeEventListener(oy,U)},[U]),v.jsx(ML,{scope:t,orientation:r,dir:k,loop:s,currentTabStopId:A,onItemFocus:b.useCallback(S=>R(S),[R]),onItemShiftTab:b.useCallback(()=>z(!0),[]),onFocusableItemAdd:b.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:b.useCallback(()=>C(S=>S-1),[]),children:v.jsx(ht.div,{tabIndex:V||W===0?-1:0,"data-orientation":r,...m,ref:I,style:{outline:"none",...n.style},onMouseDown:Le(n.onMouseDown,()=>{B.current=!0}),onFocus:Le(n.onFocus,S=>{const P=!B.current;if(S.target===S.currentTarget&&P&&!V){const N=new CustomEvent(oy,NL);if(S.currentTarget.dispatchEvent(N),!N.defaultPrevented){const M=H().filter(me=>me.focusable),F=M.find(me=>me.active),O=M.find(me=>me.id===A),Be=[F,O,...M].filter(Boolean).map(me=>me.ref.current);uT(Be,g)}}B.current=!1}),onBlur:Le(n.onBlur,()=>z(!1))})})}),lT="RovingFocusGroupItem",cT=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...u}=n,h=ga(),p=i||h,g=VL(lT,t),m=g.currentTabStopId===p,E=oT(t),{onFocusableItemAdd:I,onFocusableItemRemove:k,currentTabStopId:A}=g;return b.useEffect(()=>{if(r)return I(),()=>k()},[r,I,k]),v.jsx(Uy.ItemSlot,{scope:t,id:p,focusable:r,active:s,children:v.jsx(ht.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...u,ref:e,onMouseDown:Le(n.onMouseDown,R=>{r?g.onItemFocus(p):R.preventDefault()}),onFocus:Le(n.onFocus,()=>g.onItemFocus(p)),onKeyDown:Le(n.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){g.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const V=zL(R,g.orientation,g.dir);if(V!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let U=E().filter(H=>H.focusable).map(H=>H.ref.current);if(V==="last")U.reverse();else if(V==="prev"||V==="next"){V==="prev"&&U.reverse();const H=U.indexOf(R.currentTarget);U=g.loop?UL(U,H+1):U.slice(H+1)}setTimeout(()=>uT(U))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:A!=null}):l})})});cT.displayName=lT;var jL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FL(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function zL(n,e,t){const r=FL(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return jL[r]}function uT(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function UL(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var $L=aT,BL=cT,$y=["Enter"," "],qL=["ArrowDown","PageUp","Home"],dT=["ArrowUp","PageDown","End"],HL=[...qL,...dT],WL={ltr:[...$y,"ArrowRight"],rtl:[...$y,"ArrowLeft"]},GL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hd="Menu",[qu,KL,ZL]=sT(hd),[Fa,hT]=Ks(hd,[ZL,Pp,iT]),Dp=Pp(),fT=iT(),[QL,za]=Fa(hd),[YL,fd]=Fa(hd),pT=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=n,u=Dp(e),[h,p]=b.useState(null),g=b.useRef(!1),m=Ln(i),E=t_(s);return b.useEffect(()=>{const I=()=>{g.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>g.current=!1;return document.addEventListener("keydown",I,{capture:!0}),()=>{document.removeEventListener("keydown",I,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),v.jsx(B1,{...u,children:v.jsx(QL,{scope:e,open:t,onOpenChange:m,content:h,onContentChange:p,children:v.jsx(YL,{scope:e,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:E,modal:l,children:r})})})};pT.displayName=hd;var XL="MenuAnchor",n_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Dp(t);return v.jsx(q1,{...s,...r,ref:e})});n_.displayName=XL;var r_="MenuPortal",[JL,mT]=Fa(r_,{forceMount:void 0}),gT=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,i=za(r_,e);return v.jsx(JL,{scope:e,forceMount:t,children:v.jsx(Gn,{present:t||i.open,children:v.jsx(bp,{asChild:!0,container:s,children:r})})})};gT.displayName=r_;var Fr="MenuContent",[e4,s_]=Fa(Fr),yT=b.forwardRef((n,e)=>{const t=mT(Fr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=za(Fr,n.__scopeMenu),l=fd(Fr,n.__scopeMenu);return v.jsx(qu.Provider,{scope:n.__scopeMenu,children:v.jsx(Gn,{present:r||i.open,children:v.jsx(qu.Slot,{scope:n.__scopeMenu,children:l.modal?v.jsx(t4,{...s,ref:e}):v.jsx(n4,{...s,ref:e})})})})}),t4=b.forwardRef((n,e)=>{const t=za(Fr,n.__scopeMenu),r=b.useRef(null),s=Et(e,r);return b.useEffect(()=>{const i=r.current;if(i)return YS(i)},[]),v.jsx(o_,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Le(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),n4=b.forwardRef((n,e)=>{const t=za(Fr,n.__scopeMenu);return v.jsx(o_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),r4=Yl("MenuContent.ScrollLock"),o_=b.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:E,onDismiss:I,disableOutsideScroll:k,...A}=n,R=za(Fr,t),V=fd(Fr,t),z=Dp(t),U=fT(t),H=KL(t),[B,W]=b.useState(null),C=b.useRef(null),S=Et(e,C,R.onContentChange),P=b.useRef(0),N=b.useRef(""),M=b.useRef(0),F=b.useRef(null),O=b.useRef("right"),Ce=b.useRef(0),Be=k?Vv:b.Fragment,me=k?{as:r4,allowPinchZoom:!0}:void 0,_e=ne=>{const X=N.current+ne,j=H().filter(ve=>!ve.disabled),K=document.activeElement,oe=j.find(ve=>ve.ref.current===K)?.textValue,ie=j.map(ve=>ve.textValue),he=m4(ie,X,oe),Se=j.find(ve=>ve.textValue===he)?.ref.current;(function ve(Ie){N.current=Ie,window.clearTimeout(P.current),Ie!==""&&(P.current=window.setTimeout(()=>ve(""),1e3))})(X),Se&&setTimeout(()=>Se.focus())};b.useEffect(()=>()=>window.clearTimeout(P.current),[]),$S();const G=b.useCallback(ne=>O.current===F.current?.side&&y4(ne,F.current?.area),[]);return v.jsx(e4,{scope:t,searchRef:N,onItemEnter:b.useCallback(ne=>{G(ne)&&ne.preventDefault()},[G]),onItemLeave:b.useCallback(ne=>{G(ne)||(C.current?.focus(),W(null))},[G]),onTriggerLeave:b.useCallback(ne=>{G(ne)&&ne.preventDefault()},[G]),pointerGraceTimerRef:M,onPointerGraceIntentChange:b.useCallback(ne=>{F.current=ne},[]),children:v.jsx(Be,{...me,children:v.jsx(Mv,{asChild:!0,trapped:s,onMountAutoFocus:Le(i,ne=>{ne.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:v.jsx(Ep,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:E,onDismiss:I,children:v.jsx($L,{asChild:!0,...U,dir:V.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:W,onEntryFocus:Le(h,ne=>{V.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(H1,{role:"menu","aria-orientation":"vertical","data-state":DT(R.open),"data-radix-menu-content":"",dir:V.dir,...z,...A,ref:S,style:{outline:"none",...A.style},onKeyDown:Le(A.onKeyDown,ne=>{const j=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,K=ne.ctrlKey||ne.altKey||ne.metaKey,oe=ne.key.length===1;j&&(ne.key==="Tab"&&ne.preventDefault(),!K&&oe&&_e(ne.key));const ie=C.current;if(ne.target!==ie||!HL.includes(ne.key))return;ne.preventDefault();const Se=H().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);dT.includes(ne.key)&&Se.reverse(),f4(Se)}),onBlur:Le(n.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(P.current),N.current="")}),onPointerMove:Le(n.onPointerMove,Hu(ne=>{const X=ne.target,j=Ce.current!==ne.clientX;if(ne.currentTarget.contains(X)&&j){const K=ne.clientX>Ce.current?"right":"left";O.current=K,Ce.current=ne.clientX}}))})})})})})})});yT.displayName=Fr;var s4="MenuGroup",i_=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(ht.div,{role:"group",...r,ref:e})});i_.displayName=s4;var o4="MenuLabel",vT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(ht.div,{...r,ref:e})});vT.displayName=o4;var jf="MenuItem",Vb="menu.itemSelect",Op=b.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,i=b.useRef(null),l=fd(jf,n.__scopeMenu),u=s_(jf,n.__scopeMenu),h=Et(e,i),p=b.useRef(!1),g=()=>{const m=i.current;if(!t&&m){const E=new CustomEvent(Vb,{bubbles:!0,cancelable:!0});m.addEventListener(Vb,I=>r?.(I),{once:!0}),LS(m,E),E.defaultPrevented?p.current=!1:l.onClose()}};return v.jsx(_T,{...s,ref:h,disabled:t,onClick:Le(n.onClick,g),onPointerDown:m=>{n.onPointerDown?.(m),p.current=!0},onPointerUp:Le(n.onPointerUp,m=>{p.current||m.currentTarget?.click()}),onKeyDown:Le(n.onKeyDown,m=>{const E=u.searchRef.current!=="";t||E&&m.key===" "||$y.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Op.displayName=jf;var _T=b.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...i}=n,l=s_(jf,t),u=fT(t),h=b.useRef(null),p=Et(e,h),[g,m]=b.useState(!1),[E,I]=b.useState("");return b.useEffect(()=>{const k=h.current;k&&I((k.textContent??"").trim())},[i.children]),v.jsx(qu.ItemSlot,{scope:t,disabled:r,textValue:s??E,children:v.jsx(BL,{asChild:!0,...u,focusable:!r,children:v.jsx(ht.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:p,onPointerMove:Le(n.onPointerMove,Hu(k=>{r?l.onItemLeave(k):(l.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(n.onPointerLeave,Hu(k=>l.onItemLeave(k))),onFocus:Le(n.onFocus,()=>m(!0)),onBlur:Le(n.onBlur,()=>m(!1))})})})}),i4="MenuCheckboxItem",wT=b.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return v.jsx(ST,{scope:n.__scopeMenu,checked:t,children:v.jsx(Op,{role:"menuitemcheckbox","aria-checked":Ff(t)?"mixed":t,...s,ref:e,"data-state":l_(t),onSelect:Le(s.onSelect,()=>r?.(Ff(t)?!0:!t),{checkForDefaultPrevented:!1})})})});wT.displayName=i4;var ET="MenuRadioGroup",[a4,l4]=Fa(ET,{value:void 0,onValueChange:()=>{}}),bT=b.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,i=Ln(r);return v.jsx(a4,{scope:n.__scopeMenu,value:t,onValueChange:i,children:v.jsx(i_,{...s,ref:e})})});bT.displayName=ET;var xT="MenuRadioItem",IT=b.forwardRef((n,e)=>{const{value:t,...r}=n,s=l4(xT,n.__scopeMenu),i=t===s.value;return v.jsx(ST,{scope:n.__scopeMenu,checked:i,children:v.jsx(Op,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":l_(i),onSelect:Le(r.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});IT.displayName=xT;var a_="MenuItemIndicator",[ST,c4]=Fa(a_,{checked:!1}),TT=b.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,i=c4(a_,t);return v.jsx(Gn,{present:r||Ff(i.checked)||i.checked===!0,children:v.jsx(ht.span,{...s,ref:e,"data-state":l_(i.checked)})})});TT.displayName=a_;var u4="MenuSeparator",CT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return v.jsx(ht.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});CT.displayName=u4;var d4="MenuArrow",AT=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Dp(t);return v.jsx(W1,{...s,...r,ref:e})});AT.displayName=d4;var h4="MenuSub",[WH,PT]=Fa(h4),Iu="MenuSubTrigger",RT=b.forwardRef((n,e)=>{const t=za(Iu,n.__scopeMenu),r=fd(Iu,n.__scopeMenu),s=PT(Iu,n.__scopeMenu),i=s_(Iu,n.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=i,p={__scopeMenu:n.__scopeMenu},g=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>g,[g]),b.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),h(null)}},[u,h]),v.jsx(n_,{asChild:!0,...p,children:v.jsx(_T,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":DT(t.open),...n,ref:yp(e,s.onTriggerChange),onClick:m=>{n.onClick?.(m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Le(n.onPointerMove,Hu(m=>{i.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),g()},100))})),onPointerLeave:Le(n.onPointerLeave,Hu(m=>{g();const E=t.content?.getBoundingClientRect();if(E){const I=t.content?.dataset.side,k=I==="right",A=k?-5:5,R=E[k?"left":"right"],V=E[k?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+A,y:m.clientY},{x:R,y:E.top},{x:V,y:E.top},{x:V,y:E.bottom},{x:R,y:E.bottom}],side:I}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Le(n.onKeyDown,m=>{const E=i.searchRef.current!=="";n.disabled||E&&m.key===" "||WL[r.dir].includes(m.key)&&(t.onOpenChange(!0),t.content?.focus(),m.preventDefault())})})})});RT.displayName=Iu;var kT="MenuSubContent",NT=b.forwardRef((n,e)=>{const t=mT(Fr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=za(Fr,n.__scopeMenu),l=fd(Fr,n.__scopeMenu),u=PT(kT,n.__scopeMenu),h=b.useRef(null),p=Et(e,h);return v.jsx(qu.Provider,{scope:n.__scopeMenu,children:v.jsx(Gn,{present:r||i.open,children:v.jsx(qu.Slot,{scope:n.__scopeMenu,children:v.jsx(o_,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&h.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Le(n.onFocusOutside,g=>{g.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Le(n.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:Le(n.onKeyDown,g=>{const m=g.currentTarget.contains(g.target),E=GL[l.dir].includes(g.key);m&&E&&(i.onOpenChange(!1),u.trigger?.focus(),g.preventDefault())})})})})})});NT.displayName=kT;function DT(n){return n?"open":"closed"}function Ff(n){return n==="indeterminate"}function l_(n){return Ff(n)?"indeterminate":n?"checked":"unchecked"}function f4(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function p4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function m4(n,e,t){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let l=p4(n,Math.max(i,0));s.length===1&&(l=l.filter(p=>p!==t));const h=l.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return h!==t?h:void 0}function g4(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const u=e[i],h=e[l],p=u.x,g=u.y,m=h.x,E=h.y;g>r!=E>r&&t<(m-p)*(r-g)/(E-g)+p&&(s=!s)}return s}function y4(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return g4(t,e)}function Hu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var v4=pT,_4=n_,w4=gT,E4=yT,b4=i_,x4=vT,I4=Op,S4=wT,T4=bT,C4=IT,A4=TT,P4=CT,R4=AT,k4=RT,N4=NT,Mp="DropdownMenu",[D4]=Ks(Mp,[hT]),Kn=hT(),[O4,OT]=D4(Mp),MT=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=n,h=Kn(e),p=b.useRef(null),[g,m]=vc({prop:s,defaultProp:i??!1,onChange:l,caller:Mp});return v.jsx(O4,{scope:e,triggerId:ga(),triggerRef:p,contentId:ga(),open:g,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(E=>!E),[m]),modal:u,children:v.jsx(v4,{...h,open:g,onOpenChange:m,dir:r,modal:u,children:t})})};MT.displayName=Mp;var VT="DropdownMenuTrigger",LT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,i=OT(VT,t),l=Kn(t);return v.jsx(_4,{asChild:!0,...l,children:v.jsx(ht.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:yp(e,i.triggerRef),onPointerDown:Le(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:Le(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});LT.displayName=VT;var M4="DropdownMenuPortal",jT=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Kn(e);return v.jsx(w4,{...r,...t})};jT.displayName=M4;var FT="DropdownMenuContent",zT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=OT(FT,t),i=Kn(t),l=b.useRef(!1);return v.jsx(E4,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Le(n.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Le(n.onInteractOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,g=h.button===2||p;(!s.modal||g)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zT.displayName=FT;var V4="DropdownMenuGroup",L4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(b4,{...s,...r,ref:e})});L4.displayName=V4;var j4="DropdownMenuLabel",UT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(x4,{...s,...r,ref:e})});UT.displayName=j4;var F4="DropdownMenuItem",$T=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(I4,{...s,...r,ref:e})});$T.displayName=F4;var z4="DropdownMenuCheckboxItem",BT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(S4,{...s,...r,ref:e})});BT.displayName=z4;var U4="DropdownMenuRadioGroup",$4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(T4,{...s,...r,ref:e})});$4.displayName=U4;var B4="DropdownMenuRadioItem",qT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(C4,{...s,...r,ref:e})});qT.displayName=B4;var q4="DropdownMenuItemIndicator",HT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(A4,{...s,...r,ref:e})});HT.displayName=q4;var H4="DropdownMenuSeparator",WT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(P4,{...s,...r,ref:e})});WT.displayName=H4;var W4="DropdownMenuArrow",G4=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(R4,{...s,...r,ref:e})});G4.displayName=W4;var K4="DropdownMenuSubTrigger",GT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(k4,{...s,...r,ref:e})});GT.displayName=K4;var Z4="DropdownMenuSubContent",KT=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Kn(t);return v.jsx(N4,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KT.displayName=Z4;var Q4=MT,Y4=LT,X4=jT,ZT=zT,QT=UT,YT=$T,XT=BT,JT=qT,eC=HT,tC=WT,nC=GT,rC=KT;const sC=Q4,oC=Y4,J4=b.forwardRef(({className:n,inset:e,children:t,...r},s)=>v.jsxs(nC,{ref:s,className:$e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,v.jsx(d2,{className:"ml-auto"})]}));J4.displayName=nC.displayName;const ej=b.forwardRef(({className:n,...e},t)=>v.jsx(rC,{ref:t,className:$e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));ej.displayName=rC.displayName;const c_=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>v.jsx(X4,{children:v.jsx(ZT,{ref:r,sideOffset:e,className:$e("z-[100] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));c_.displayName=ZT.displayName;const Wu=b.forwardRef(({className:n,inset:e,...t},r)=>v.jsx(YT,{ref:r,className:$e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));Wu.displayName=YT.displayName;const tj=b.forwardRef(({className:n,children:e,checked:t,...r},s)=>v.jsxs(XT,{ref:s,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(eC,{children:v.jsx(xS,{className:"h-4 w-4"})})}),e]}));tj.displayName=XT.displayName;const nj=b.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(JT,{ref:r,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(eC,{children:v.jsx(y2,{className:"h-2 w-2 fill-current"})})}),e]}));nj.displayName=JT.displayName;const u_=b.forwardRef(({className:n,inset:e,...t},r)=>v.jsx(QT,{ref:r,className:$e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));u_.displayName=QT.displayName;const d_=b.forwardRef(({className:n,...e},t)=>v.jsx(tC,{ref:t,className:$e("-mx-1 my-1 h-px bg-muted",n),...e}));d_.displayName=tC.displayName;function iC(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Vp="Switch",[rj]=Ks(Vp),[sj,oj]=rj(Vp),aC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h="on",onCheckedChange:p,form:g,...m}=n,[E,I]=b.useState(null),k=Et(e,U=>I(U)),A=b.useRef(!1),R=E?g||!!E.closest("form"):!0,[V,z]=vc({prop:s,defaultProp:i??!1,onChange:p,caller:Vp});return v.jsxs(sj,{scope:t,checked:V,disabled:u,children:[v.jsx(ht.button,{type:"button",role:"switch","aria-checked":V,"aria-required":l,"data-state":dC(V),"data-disabled":u?"":void 0,disabled:u,value:h,...m,ref:k,onClick:Le(n.onClick,U=>{z(H=>!H),R&&(A.current=U.isPropagationStopped(),A.current||U.stopPropagation())})}),R&&v.jsx(uC,{control:E,bubbles:!A.current,name:r,value:h,checked:V,required:l,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});aC.displayName=Vp;var lC="SwitchThumb",cC=b.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,s=oj(lC,t);return v.jsx(ht.span,{"data-state":dC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});cC.displayName=lC;var ij="SwitchBubbleInput",uC=b.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...s},i)=>{const l=b.useRef(null),u=Et(l,i),h=iC(t),p=Qv(e);return b.useEffect(()=>{const g=l.current;if(!g)return;const m=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==t&&I){const k=new Event("click",{bubbles:r});I.call(g,t),g.dispatchEvent(k)}},[h,t,r]),v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:u,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});uC.displayName=ij;function dC(n){return n?"checked":"unchecked"}var hC=aC,aj=cC;const fC=b.forwardRef(({className:n,...e},t)=>v.jsx(hC,{className:$e("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:v.jsx(aj,{className:$e("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));fC.displayName=hC.displayName;const lj=()=>{};var Lb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},cj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],l=n[t++],u=n[t++],h=((s&7)<<18|(i&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},mC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,g=i>>2,m=(i&3)<<4|u>>4;let E=(u&15)<<2|p>>6,I=p&63;h||(I=64,l||(E=64)),r.push(t[g],t[m],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const m=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||u==null||p==null||m==null)throw new uj;const E=i<<2|u>>4;if(r.push(E),p!==64){const I=u<<4&240|p>>2;if(r.push(I),m!==64){const k=p<<6&192|m;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dj=function(n){const e=pC(n);return mC.encodeByteArray(e,!0)},zf=function(n){return dj(n).replace(/\./g,"")},gC=function(n){try{return mC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=()=>yC().__FIREBASE_DEFAULTS__,fj=()=>{if(typeof process>"u"||typeof Lb>"u")return;const n=Lb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&gC(n[1]);return e&&JSON.parse(e)},Lp=()=>{try{return lj()||hj()||fj()||pj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vC=n=>Lp()?.emulatorHosts?.[n],mj=n=>{const e=vC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},_C=()=>Lp()?.config,wC=n=>Lp()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EC(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[zf(JSON.stringify(t)),zf(JSON.stringify(l)),""].join(".")}const Ru={};function vj(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?n.emulator.push(e):n.prod.push(e);return n}function _j(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let jb=!1;function bC(n,e){if(typeof window>"u"||typeof document>"u"||!Ec(window.location.host)||Ru[n]===e||Ru[n]||jb)return;Ru[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",i=vj().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{jb=!0,l()},E}function g(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function m(){const E=_j(r),I=t("text"),k=document.getElementById(I)||document.createElement("span"),A=t("learnmore"),R=document.getElementById(A)||document.createElement("a"),V=t("preprendIcon"),z=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const U=E.element;u(U),g(R,A);const H=p();h(z,V),U.append(z,k,R,H),document.body.appendChild(U)}i?(k.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function xC(){const n=Lp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ej(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bj(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ij(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IC(){return!xC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SC(){return!xC()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function TC(){try{return typeof indexedDB=="object"}catch{return!1}}function Sj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="FirebaseError";class To extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Tj,Object.setPrototypeOf(this,To.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pd.prototype.create)}}class pd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?Cj(i,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new To(s,u,r)}}function Cj(n,e){return n.replace(Aj,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Aj=/\{\$([^}]+)}/g;function Pj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ta(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],l=e[s];if(Fb(i)&&Fb(l)){if(!Ta(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Fb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rj(n,e){const t=new kj(n,e);return t.subscribe.bind(t)}class kj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Nj(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=iy),s.error===void 0&&(s.error=iy),s.complete===void 0&&(s.complete=iy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function iy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n){return n&&n._delegate?n._delegate:n}class Ca{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new gj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mj(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Oj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Oj(n){return n===aa?void 0:n}function Mj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Dj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const Lj={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},jj=it.INFO,Fj={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},zj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Fj[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h_{constructor(e){this.name=e,this._logLevel=jj,this._logHandler=zj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const Uj=(n,e)=>e.some(t=>n instanceof t);let zb,Ub;function $j(){return zb||(zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bj(){return Ub||(Ub=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CC=new WeakMap,By=new WeakMap,AC=new WeakMap,ay=new WeakMap,f_=new WeakMap;function qj(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",l)},i=()=>{t(yi(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&CC.set(t,n)}).catch(()=>{}),f_.set(e,n),e}function Hj(n){if(By.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",l),n.removeEventListener("abort",l)},i=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",l),n.addEventListener("abort",l)});By.set(n,e)}let qy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return By.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Wj(n){qy=n(qy)}function Gj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ly(this),e,...t);return AC.set(r,e.sort?e.sort():[e]),yi(r)}:Bj().includes(n)?function(...e){return n.apply(ly(this),e),yi(CC.get(this))}:function(...e){return yi(n.apply(ly(this),e))}}function Kj(n){return typeof n=="function"?Gj(n):(n instanceof IDBTransaction&&Hj(n),Uj(n,$j())?new Proxy(n,qy):n)}function yi(n){if(n instanceof IDBRequest)return qj(n);if(ay.has(n))return ay.get(n);const e=Kj(n);return e!==n&&(ay.set(n,e),f_.set(e,n)),e}const ly=n=>f_.get(n);function Zj(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(n,e),u=yi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(yi(l.result),h.oldVersion,h.newVersion,yi(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const Qj=["get","getKey","getAll","getAllKeys","count"],Yj=["put","add","delete","clear"],cy=new Map;function $b(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cy.get(e))return cy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Yj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Qj.includes(t)))return;const i=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),s&&h.done]))[0]};return cy.set(e,i),i}Wj(n=>({...n,get:(e,t,r)=>$b(e,t)||n.get(e,t,r),has:(e,t)=>!!$b(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Jj(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Jj(n){return n.getComponent()?.type==="VERSION"}const Hy="@firebase/app",Bb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new h_("@firebase/app"),eF="@firebase/app-compat",tF="@firebase/analytics-compat",nF="@firebase/analytics",rF="@firebase/app-check-compat",sF="@firebase/app-check",oF="@firebase/auth",iF="@firebase/auth-compat",aF="@firebase/database",lF="@firebase/data-connect",cF="@firebase/database-compat",uF="@firebase/functions",dF="@firebase/functions-compat",hF="@firebase/installations",fF="@firebase/installations-compat",pF="@firebase/messaging",mF="@firebase/messaging-compat",gF="@firebase/performance",yF="@firebase/performance-compat",vF="@firebase/remote-config",_F="@firebase/remote-config-compat",wF="@firebase/storage",EF="@firebase/storage-compat",bF="@firebase/firestore",xF="@firebase/ai",IF="@firebase/firestore-compat",SF="firebase",TF="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="[DEFAULT]",CF={[Hy]:"fire-core",[eF]:"fire-core-compat",[nF]:"fire-analytics",[tF]:"fire-analytics-compat",[sF]:"fire-app-check",[rF]:"fire-app-check-compat",[oF]:"fire-auth",[iF]:"fire-auth-compat",[aF]:"fire-rtdb",[lF]:"fire-data-connect",[cF]:"fire-rtdb-compat",[uF]:"fire-fn",[dF]:"fire-fn-compat",[hF]:"fire-iid",[fF]:"fire-iid-compat",[pF]:"fire-fcm",[mF]:"fire-fcm-compat",[gF]:"fire-perf",[yF]:"fire-perf-compat",[vF]:"fire-rc",[_F]:"fire-rc-compat",[wF]:"fire-gcs",[EF]:"fire-gcs-compat",[bF]:"fire-fst",[IF]:"fire-fst-compat",[xF]:"fire-vertex","fire-js":"fire-js",[SF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Map,AF=new Map,Gy=new Map;function qb(n,e){try{n.container.addComponent(e)}catch(t){bo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ec(n){const e=n.name;if(Gy.has(e))return bo.debug(`There were multiple attempts to register component ${e}.`),!1;Gy.set(e,n);for(const t of Uf.values())qb(t,n);for(const t of AF.values())qb(t,n);return!0}function p_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ss(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new pd("app","Firebase",PF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=TF;function PC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Wy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw vi.create("bad-app-name",{appName:String(s)});if(t||(t=_C()),!t)throw vi.create("no-options");const i=Uf.get(s);if(i){if(Ta(t,i.options)&&Ta(r,i.config))return i;throw vi.create("duplicate-app",{appName:s})}const l=new Vj(s);for(const h of Gy.values())l.addComponent(h);const u=new RF(t,r,l);return Uf.set(s,u),u}function RC(n=Wy){const e=Uf.get(n);if(!e&&n===Wy&&_C())return PC();if(!e)throw vi.create("no-app",{appName:n});return e}function _i(n,e,t){let r=CF[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bo.warn(l.join(" "));return}ec(new Ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="firebase-heartbeat-database",NF=1,Gu="firebase-heartbeat-store";let uy=null;function kC(){return uy||(uy=Zj(kF,NF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw vi.create("idb-open",{originalErrorMessage:n.message})})),uy}async function DF(n){try{const t=(await kC()).transaction(Gu),r=await t.objectStore(Gu).get(NC(n));return await t.done,r}catch(e){if(e instanceof To)bo.warn(e.message);else{const t=vi.create("idb-get",{originalErrorMessage:e?.message});bo.warn(t.message)}}}async function Hb(n,e){try{const r=(await kC()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(e,NC(n)),await r.done}catch(t){if(t instanceof To)bo.warn(t.message);else{const r=vi.create("idb-set",{originalErrorMessage:t?.message});bo.warn(r.message)}}}function NC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=1024,MF=30;class VF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>MF){const s=FF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Wb(),{heartbeatsToSend:t,unsentEntries:r}=LF(this._heartbeatsCache.heartbeats),s=zf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return bo.warn(e),""}}}function Wb(){return new Date().toISOString().substring(0,10)}function LF(n,e=OF){const t=[];let r=n.slice();for(const s of n){const i=t.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),Gb(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Gb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class jF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TC()?Sj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Hb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Gb(n){return zf(JSON.stringify({version:2,heartbeats:n})).length}function FF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(n){ec(new Ca("platform-logger",e=>new Xj(e),"PRIVATE")),ec(new Ca("heartbeat",e=>new VF(e),"PRIVATE")),_i(Hy,Bb,n),_i(Hy,Bb,"esm2020"),_i("fire-js","")}zF("");function DC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UF=DC,OC=new pd("auth","Firebase",DC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new h_("@firebase/auth");function $F(n,...e){$f.logLevel<=it.WARN&&$f.warn(`Auth (${bc}): ${n}`,...e)}function mf(n,...e){$f.logLevel<=it.ERROR&&$f.error(`Auth (${bc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(n,...e){throw g_(n,...e)}function is(n,...e){return g_(n,...e)}function m_(n,e,t){const r={...UF(),[e]:t};return new pd("auth","Firebase",r).create(e,{appName:n.name})}function ya(n){return m_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BF(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&qs(n,"argument-error"),m_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function g_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OC.create(n,...e)}function We(n,e,...t){if(!n)throw g_(e,...t)}function go(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mf(e),new Error(e)}function xo(n,e){n||go(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(){return typeof self<"u"&&self.location?.href||""}function qF(){return Kb()==="http:"||Kb()==="https:"}function Kb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qF()||bj()||"connection"in navigator)?navigator.onLine:!0}function WF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this.shortDelay=e,this.longDelay=t,xo(t>e,"Short delay should be less than long delay!"),this.isMobile=wj()||xj()}get(){return HF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n,e){xo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;go("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;go("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;go("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZF=new gd(3e4,6e4);function v_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function xc(n,e,t,r,s={}){return VC(n,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const u=md({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...i};return Ej()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ec(n.emulatorConfig.host)&&(p.credentials="include"),MC.fetch()(await LC(n,n.config.apiHost,t,u),p)})}async function VC(n,e,t){n._canInitEmulator=!1;const r={...GF,...e};try{const s=new YF(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw Yh(n,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const u=i.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Yh(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Yh(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw m_(n,g,p);qs(n,g)}}catch(s){if(s instanceof To)throw s;qs(n,"network-request-failed",{message:String(s)})}}async function QF(n,e,t,r,s={}){const i=await xc(n,e,t,r,s);return"mfaPendingCredential"in i&&qs(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function LC(n,e,t,r){const s=`${e}${t}?${r}`,i=n,l=i.config.emulator?y_(n.config,s):`${n.config.apiScheme}://${s}`;return KF.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(l).toString():l}class YF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(is(this.auth,"network-request-failed")),ZF.get())})}}function Yh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=is(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF(n,e){return xc(n,"POST","/v1/accounts:delete",e)}async function Bf(n,e){return xc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JF(n,e=!1){const t=Cn(n),r=await t.getIdToken(e),s=__(r);We(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i?.sign_in_provider;return{claims:s,token:r,authTime:ku(dy(s.auth_time)),issuedAtTime:ku(dy(s.iat)),expirationTime:ku(dy(s.exp)),signInProvider:l||null,signInSecondFactor:i?.sign_in_second_factor||null}}function dy(n){return Number(n)*1e3}function __(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return mf("JWT malformed, contained fewer than 3 sections"),null;try{const s=gC(t);return s?JSON.parse(s):(mf("Failed to decode base64 JWT payload"),null)}catch(s){return mf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Zb(n){const e=__(n);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof To&&e5(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function e5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(n){const e=n.auth,t=await n.getIdToken(),r=await Ku(n,Bf(e,{idToken:t}));We(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=s.providerUserInfo?.length?jC(s.providerUserInfo):[],l=r5(n.providerData,i),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,p=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Zy(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function n5(n){const e=Cn(n);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r5(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function jC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(n,e){const t=await VC(n,{},async()=>{const r=md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,l=await LC(n,s,"/v1/token",`key=${i}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&Ec(n.emulatorConfig.host)&&(h.credentials="include"),MC.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function o5(n,e){return xc(n,"POST","/v2/accounts:revokeToken",v_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=Zb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await s5(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,l=new Wl;return r&&(We(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(We(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return go("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(n,e){We(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class os{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new t5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JF(this,e)}reload(){return n5(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new os({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await qf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ss(this.auth.app))return Promise.reject(ya(this.auth));const e=await this.getIdToken();return await Ku(this,XF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:m,emailVerified:E,isAnonymous:I,providerData:k,stsTokenManager:A}=t;We(m&&A,e,"internal-error");const R=Wl.fromJSON(this.name,A);We(typeof m=="string",e,"internal-error"),oi(r,e.name),oi(s,e.name),We(typeof E=="boolean",e,"internal-error"),We(typeof I=="boolean",e,"internal-error"),oi(i,e.name),oi(l,e.name),oi(u,e.name),oi(h,e.name),oi(p,e.name),oi(g,e.name);const V=new os({uid:m,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:i,tenantId:u,stsTokenManager:R,createdAt:p,lastLoginAt:g});return k&&Array.isArray(k)&&(V.providerData=k.map(z=>({...z}))),h&&(V._redirectEventId=h),V}static async _fromIdTokenResponse(e,t,r=!1){const s=new Wl;s.updateFromServerResponse(t);const i=new os({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qf(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];We(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?jC(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!i?.length,u=new Wl;u.updateFromIdToken(r);const h=new os({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Zy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map;function yo(n){xo(n instanceof Function,"Expected a class definition");let e=Qb.get(n);return e?(xo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Qb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}FC.type="NONE";const Yb=FC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(n,e,t){return`firebase:${n}:${e}:${t}`}class Gl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=gf(this.userKey,s.apiKey,i),this.fullPersistenceKey=gf("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bf(this.auth,{idToken:e}).catch(()=>{});return t?os._fromGetAccountInfoResponse(this.auth,t,e):null}return os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Gl(yo(Yb),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let i=s[0]||yo(Yb);const l=gf(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const g=await p._get(l);if(g){let m;if(typeof g=="string"){const E=await Bf(e,{idToken:g}).catch(()=>{});if(!E)break;m=await os._fromGetAccountInfoResponse(e,E,g)}else m=os._fromJSON(e,g);p!==i&&(u=m),i=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new Gl(i,e,r):(i=h[0],u&&await i._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==i)try{await p._remove(l)}catch{}})),new Gl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HC(e))return"Blackberry";if(WC(e))return"Webos";if(UC(e))return"Safari";if((e.includes("chrome/")||$C(e))&&!e.includes("edge/"))return"Chrome";if(qC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function zC(n=cn()){return/firefox\//i.test(n)}function UC(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $C(n=cn()){return/crios\//i.test(n)}function BC(n=cn()){return/iemobile/i.test(n)}function qC(n=cn()){return/android/i.test(n)}function HC(n=cn()){return/blackberry/i.test(n)}function WC(n=cn()){return/webos/i.test(n)}function w_(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function i5(n=cn()){return w_(n)&&!!window.navigator?.standalone}function a5(){return Ij()&&document.documentMode===10}function GC(n=cn()){return w_(n)||qC(n)||WC(n)||HC(n)||/windows phone/i.test(n)||BC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n,e=[]){let t;switch(n){case"Browser":t=Xb(cn());break;case"Worker":t=`${Xb(cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((l,u)=>{try{const h=e(i);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(n,e={}){return xc(n,"GET","/v2/passwordPolicy",v_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=6;class d5{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??u5,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jb(this),this.idTokenSubscription=new Jb(this),this.beforeStateQueue=new l5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yo(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bf(this,{idToken:e}),r=await os._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ss(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!i||i===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ss(this.app))return Promise.reject(ya(this));const t=e?Cn(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ss(this.app)?Promise.reject(ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ss(this.app)?Promise.reject(ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c5(this),t=new d5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await o5(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yo(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[yo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(u,this,"internal-error"),u.then(()=>{l||i(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$F(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jp(n){return Cn(n)}class Jb{constructor(e){this.auth=e,this.observer=null,this.addObserver=Rj(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f5(n){E_=n}function p5(n){return E_.loadJS(n)}function m5(){return E_.gapiScript}function g5(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(n,e){const t=p_(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(Ta(i,e??{}))return s;qs(s,"already-initialized")}return t.initialize({options:e})}function v5(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(yo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function _5(n,e,t){const r=jp(n);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=ZC(e),{host:l,port:u}=w5(e),h=u===null?"":`:${u}`,p={url:`${i}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Ta(p,r.config.emulator)&&Ta(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ec(l)?(EC(`${i}//${l}${h}`),bC("Auth",!0)):E5()}function ZC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function w5(n){const e=ZC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ex(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:ex(l)}}}function ex(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function E5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return go("not implemented")}_getIdTokenResponse(e){return go("not implemented")}_linkToIdToken(e,t){return go("not implemented")}_getReauthenticationResolver(e){return go("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(n,e){return QF(n,"POST","/v1/accounts:signInWithIdp",v_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="http://localhost";class Aa extends QC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const l=new Aa(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Kl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Kl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kl(e,t)}buildRequest(){const e={requestUri:b5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=md(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends b_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends yd{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends yd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Aa._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Os.credential(t,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends yd{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends yd{constructor(){super("twitter.com")}static credential(e,t){return Aa._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return fi.credential(t,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await os._fromIdTokenResponse(e,r,s),l=tx(r);return new tc({user:i,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=tx(r);return new tc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function tx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends To{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Hf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Hf(e,t,r,s)}}function YC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Hf._fromErrorAndOperation(n,i,e,r):i})}async function x5(n,e,t=!1){const r=await Ku(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return tc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(n,e,t=!1){const{auth:r}=n;if(ss(r.app))return Promise.reject(ya(r));const s="reauthenticate";try{const i=await Ku(n,YC(r,s,e,n),t);We(i.idToken,r,"internal-error");const l=__(i.idToken);We(l,r,"internal-error");const{sub:u}=l;return We(n.uid===u,r,"user-mismatch"),tc._forOperation(n,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&qs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(n,e,t=!1){if(ss(n.app))return Promise.reject(ya(n));const r="signIn",s=await YC(n,r,e),i=await tc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function T5(n,e,t,r){return Cn(n).onIdTokenChanged(e,t,r)}function C5(n,e,t){return Cn(n).beforeAuthStateChanged(e,t)}const Wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=1e3,P5=10;class JC extends XC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);a5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,P5):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},A5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}JC.type="LOCAL";const R5=JC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends XC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eA.type="SESSION";const tA=eA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Fp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(t.origin,i)),h=await k5(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((u,h)=>{const p=x_("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(m){const E=m;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(E.data.response);break;default:clearTimeout(g),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(){return window}function D5(n){Fs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return typeof Fs().WorkerGlobalScope<"u"&&typeof Fs().importScripts=="function"}async function O5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M5(){return navigator?.serviceWorker?.controller||null}function V5(){return nA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebaseLocalStorageDb",L5=1,Gf="firebaseLocalStorage",sA="fbase_key";class vd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zp(n,e){return n.transaction([Gf],e?"readwrite":"readonly").objectStore(Gf)}function j5(){const n=indexedDB.deleteDatabase(rA);return new vd(n).toPromise()}function Qy(){const n=indexedDB.open(rA,L5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Gf,{keyPath:sA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Gf)?e(r):(r.close(),await j5(),e(await Qy()))})})}async function nx(n,e,t){const r=zp(n,!0).put({[sA]:e,value:t});return new vd(r).toPromise()}async function F5(n,e){const t=zp(n,!1).get(e),r=await new vd(t).toPromise();return r===void 0?null:r.value}function rx(n,e){const t=zp(n,!0).delete(e);return new vd(t).toPromise()}const z5=800,U5=3;class oA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>U5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fp._getInstance(V5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await O5(),!this.activeServiceWorker)return;this.sender=new N5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qy();return await nx(e,Wf,"1"),await rx(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>nx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>F5(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=zp(s,!1).getAll();return new vd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oA.type="LOCAL";const $5=oA;new gd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n,e){return e?yo(e):(We(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_ extends QC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function B5(n){return S5(n.auth,new I_(n),n.bypassAuthState)}function q5(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),I5(t,new I_(n),n.bypassAuthState)}async function H5(n){const{auth:e,user:t}=n;return We(t,e,"internal-error"),x5(t,new I_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B5;case"linkViaPopup":case"linkViaRedirect":return H5;case"reauthViaPopup":case"reauthViaRedirect":return q5;default:qs(this.auth,"internal-error")}}resolve(e){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=new gd(2e3,1e4);async function sx(n,e,t){if(ss(n.app))return Promise.reject(is(n,"operation-not-supported-in-this-environment"));const r=jp(n);BF(n,e,b_);const s=iA(r,t);return new pa(r,"signInViaPopup",e,s).executeNotNull()}class pa extends aA{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){xo(this.filter.length===1,"Popup operations only handle one event");const e=x_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W5.get())};e()}}pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="pendingRedirect",yf=new Map;class K5 extends aA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=yf.get(this.auth._key());if(!e){try{const r=await Z5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}yf.set(this.auth._key(),e)}return this.bypassAuthState||yf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z5(n,e){const t=X5(e),r=Y5(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Q5(n,e){yf.set(n._key(),e)}function Y5(n){return yo(n._redirectPersistence)}function X5(n){return gf(G5,n.config.apiKey,n.name)}async function J5(n,e,t=!1){if(ss(n.app))return Promise.reject(ya(n));const r=jp(n),s=iA(r,e),l=await new K5(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=600*1e3;class t3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!lA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(is(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e3&&this.cachedEventUids.clear(),this.cachedEventUids.has(ox(e))}saveEventToCache(e){this.cachedEventUids.add(ox(e)),this.lastProcessedEventTime=Date.now()}}function ox(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function n3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(n,e={}){return xc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o3=/^https?/;async function i3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await r3(n);for(const t of e)try{if(a3(t))return}catch{}qs(n,"unauthorized-domain")}function a3(n){const e=Ky(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!o3.test(t))return!1;if(s3.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new gd(3e4,6e4);function ix(){const n=Fs().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function c3(n){return new Promise((e,t)=>{function r(){ix(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ix(),t(is(n,"network-request-failed"))},timeout:l3.get()})}if(Fs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fs().gapi?.load)r();else{const s=g5("iframefcb");return Fs()[s]=()=>{gapi.load?r():t(is(n,"network-request-failed"))},p5(`${m5()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw vf=null,e})}let vf=null;function u3(n){return vf=vf||c3(n),vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new gd(5e3,15e3),h3="__/auth/iframe",f3="emulator/auth/iframe",p3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g3(n){const e=n.config;We(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?y_(e,f3):`https://${n.config.authDomain}/${h3}`,r={apiKey:e.apiKey,appName:n.name,v:bc},s=m3.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${md(r).slice(1)}`}async function y3(n){const e=await u3(n),t=Fs().gapi;return We(t,n,"internal-error"),e.open({where:document.body,url:g3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=is(n,"network-request-failed"),u=Fs().setTimeout(()=>{i(l)},d3.get());function h(){Fs().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_3=500,w3=600,E3="_blank",b3="http://localhost";class ax{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x3(n,e,t,r=_3,s=w3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...v3,width:r.toString(),height:s.toString(),top:i,left:l},p=cn().toLowerCase();t&&(u=$C(p)?E3:t),zC(p)&&(e=e||b3,h.scrollbars="yes");const g=Object.entries(h).reduce((E,[I,k])=>`${E}${I}=${k},`,"");if(i5(p)&&u!=="_self")return I3(e||"",u),new ax(null);const m=window.open(e||"",u,g);We(m,n,"popup-blocked");try{m.focus()}catch{}return new ax(m)}function I3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="__/auth/handler",T3="emulator/auth/handler",C3=encodeURIComponent("fac");async function lx(n,e,t,r,s,i){We(n.config.authDomain,n,"auth-domain-config-required"),We(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:bc,eventId:s};if(e instanceof b_){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Pj(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries({}))l[g]=m}if(e instanceof yd){const g=e.getScopes().filter(m=>m!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),p=h?`#${C3}=${encodeURIComponent(h)}`:"";return`${A3(n)}?${md(u).slice(1)}${p}`}function A3({config:n}){return n.emulator?y_(n,T3):`https://${n.authDomain}/${S3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="webStorageSupport";class P3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tA,this._completeRedirectFn=J5,this._overrideRedirectResult=Q5}async _openPopup(e,t,r,s){xo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await lx(e,t,r,Ky(),s);return x3(e,i,x_())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await lx(e,t,r,Ky(),s);return D5(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(xo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await y3(e),r=new t3(e);return t.register("authEvent",s=>(We(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hy,{type:hy},s=>{const i=s?.[0]?.[hy];i!==void 0&&t(!!i),qs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=i3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GC()||UC()||w_()}}const R3=P3;var cx="@firebase/auth",ux="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D3(n){ec(new Ca("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KC(n)},p=new h5(r,s,i,h);return v5(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ec(new Ca("auth-internal",e=>{const t=jp(e.getProvider("auth").getImmediate());return(r=>new k3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(cx,ux,N3(n)),_i(cx,ux,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=300,M3=wC("authIdTokenMaxAge")||O3;let dx=null;const V3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>M3)return;const s=t?.token;dx!==s&&(dx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function L3(n=RC()){const e=p_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=y5(n,{popupRedirectResolver:R3,persistence:[$5,R5,tA]}),r=wC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=V3(i.toString());C5(t,l,()=>l(t.currentUser)),T5(t,u=>l(u))}}const s=vC("auth");return s&&_5(t,`http://${s}`),t}function j3(){return document.getElementsByTagName("head")?.[0]??document}f5({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=is("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",j3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D3("Browser");var F3="firebase",z3="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(F3,z3,"app");var hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,cA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function P(){}P.prototype=S.prototype,C.F=S.prototype,C.prototype=new P,C.prototype.constructor=C,C.D=function(N,M,F){for(var O=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)O[Ce-2]=arguments[Ce];return S.prototype[M].apply(N,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,P){P||(P=0);const N=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)N[M]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(M=0;M<16;++M)N[M]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=C.g[0],P=C.g[1],M=C.g[2];let F=C.g[3],O;O=S+(F^P&(M^F))+N[0]+3614090360&4294967295,S=P+(O<<7&4294967295|O>>>25),O=F+(M^S&(P^M))+N[1]+3905402710&4294967295,F=S+(O<<12&4294967295|O>>>20),O=M+(P^F&(S^P))+N[2]+606105819&4294967295,M=F+(O<<17&4294967295|O>>>15),O=P+(S^M&(F^S))+N[3]+3250441966&4294967295,P=M+(O<<22&4294967295|O>>>10),O=S+(F^P&(M^F))+N[4]+4118548399&4294967295,S=P+(O<<7&4294967295|O>>>25),O=F+(M^S&(P^M))+N[5]+1200080426&4294967295,F=S+(O<<12&4294967295|O>>>20),O=M+(P^F&(S^P))+N[6]+2821735955&4294967295,M=F+(O<<17&4294967295|O>>>15),O=P+(S^M&(F^S))+N[7]+4249261313&4294967295,P=M+(O<<22&4294967295|O>>>10),O=S+(F^P&(M^F))+N[8]+1770035416&4294967295,S=P+(O<<7&4294967295|O>>>25),O=F+(M^S&(P^M))+N[9]+2336552879&4294967295,F=S+(O<<12&4294967295|O>>>20),O=M+(P^F&(S^P))+N[10]+4294925233&4294967295,M=F+(O<<17&4294967295|O>>>15),O=P+(S^M&(F^S))+N[11]+2304563134&4294967295,P=M+(O<<22&4294967295|O>>>10),O=S+(F^P&(M^F))+N[12]+1804603682&4294967295,S=P+(O<<7&4294967295|O>>>25),O=F+(M^S&(P^M))+N[13]+4254626195&4294967295,F=S+(O<<12&4294967295|O>>>20),O=M+(P^F&(S^P))+N[14]+2792965006&4294967295,M=F+(O<<17&4294967295|O>>>15),O=P+(S^M&(F^S))+N[15]+1236535329&4294967295,P=M+(O<<22&4294967295|O>>>10),O=S+(M^F&(P^M))+N[1]+4129170786&4294967295,S=P+(O<<5&4294967295|O>>>27),O=F+(P^M&(S^P))+N[6]+3225465664&4294967295,F=S+(O<<9&4294967295|O>>>23),O=M+(S^P&(F^S))+N[11]+643717713&4294967295,M=F+(O<<14&4294967295|O>>>18),O=P+(F^S&(M^F))+N[0]+3921069994&4294967295,P=M+(O<<20&4294967295|O>>>12),O=S+(M^F&(P^M))+N[5]+3593408605&4294967295,S=P+(O<<5&4294967295|O>>>27),O=F+(P^M&(S^P))+N[10]+38016083&4294967295,F=S+(O<<9&4294967295|O>>>23),O=M+(S^P&(F^S))+N[15]+3634488961&4294967295,M=F+(O<<14&4294967295|O>>>18),O=P+(F^S&(M^F))+N[4]+3889429448&4294967295,P=M+(O<<20&4294967295|O>>>12),O=S+(M^F&(P^M))+N[9]+568446438&4294967295,S=P+(O<<5&4294967295|O>>>27),O=F+(P^M&(S^P))+N[14]+3275163606&4294967295,F=S+(O<<9&4294967295|O>>>23),O=M+(S^P&(F^S))+N[3]+4107603335&4294967295,M=F+(O<<14&4294967295|O>>>18),O=P+(F^S&(M^F))+N[8]+1163531501&4294967295,P=M+(O<<20&4294967295|O>>>12),O=S+(M^F&(P^M))+N[13]+2850285829&4294967295,S=P+(O<<5&4294967295|O>>>27),O=F+(P^M&(S^P))+N[2]+4243563512&4294967295,F=S+(O<<9&4294967295|O>>>23),O=M+(S^P&(F^S))+N[7]+1735328473&4294967295,M=F+(O<<14&4294967295|O>>>18),O=P+(F^S&(M^F))+N[12]+2368359562&4294967295,P=M+(O<<20&4294967295|O>>>12),O=S+(P^M^F)+N[5]+4294588738&4294967295,S=P+(O<<4&4294967295|O>>>28),O=F+(S^P^M)+N[8]+2272392833&4294967295,F=S+(O<<11&4294967295|O>>>21),O=M+(F^S^P)+N[11]+1839030562&4294967295,M=F+(O<<16&4294967295|O>>>16),O=P+(M^F^S)+N[14]+4259657740&4294967295,P=M+(O<<23&4294967295|O>>>9),O=S+(P^M^F)+N[1]+2763975236&4294967295,S=P+(O<<4&4294967295|O>>>28),O=F+(S^P^M)+N[4]+1272893353&4294967295,F=S+(O<<11&4294967295|O>>>21),O=M+(F^S^P)+N[7]+4139469664&4294967295,M=F+(O<<16&4294967295|O>>>16),O=P+(M^F^S)+N[10]+3200236656&4294967295,P=M+(O<<23&4294967295|O>>>9),O=S+(P^M^F)+N[13]+681279174&4294967295,S=P+(O<<4&4294967295|O>>>28),O=F+(S^P^M)+N[0]+3936430074&4294967295,F=S+(O<<11&4294967295|O>>>21),O=M+(F^S^P)+N[3]+3572445317&4294967295,M=F+(O<<16&4294967295|O>>>16),O=P+(M^F^S)+N[6]+76029189&4294967295,P=M+(O<<23&4294967295|O>>>9),O=S+(P^M^F)+N[9]+3654602809&4294967295,S=P+(O<<4&4294967295|O>>>28),O=F+(S^P^M)+N[12]+3873151461&4294967295,F=S+(O<<11&4294967295|O>>>21),O=M+(F^S^P)+N[15]+530742520&4294967295,M=F+(O<<16&4294967295|O>>>16),O=P+(M^F^S)+N[2]+3299628645&4294967295,P=M+(O<<23&4294967295|O>>>9),O=S+(M^(P|~F))+N[0]+4096336452&4294967295,S=P+(O<<6&4294967295|O>>>26),O=F+(P^(S|~M))+N[7]+1126891415&4294967295,F=S+(O<<10&4294967295|O>>>22),O=M+(S^(F|~P))+N[14]+2878612391&4294967295,M=F+(O<<15&4294967295|O>>>17),O=P+(F^(M|~S))+N[5]+4237533241&4294967295,P=M+(O<<21&4294967295|O>>>11),O=S+(M^(P|~F))+N[12]+1700485571&4294967295,S=P+(O<<6&4294967295|O>>>26),O=F+(P^(S|~M))+N[3]+2399980690&4294967295,F=S+(O<<10&4294967295|O>>>22),O=M+(S^(F|~P))+N[10]+4293915773&4294967295,M=F+(O<<15&4294967295|O>>>17),O=P+(F^(M|~S))+N[1]+2240044497&4294967295,P=M+(O<<21&4294967295|O>>>11),O=S+(M^(P|~F))+N[8]+1873313359&4294967295,S=P+(O<<6&4294967295|O>>>26),O=F+(P^(S|~M))+N[15]+4264355552&4294967295,F=S+(O<<10&4294967295|O>>>22),O=M+(S^(F|~P))+N[6]+2734768916&4294967295,M=F+(O<<15&4294967295|O>>>17),O=P+(F^(M|~S))+N[13]+1309151649&4294967295,P=M+(O<<21&4294967295|O>>>11),O=S+(M^(P|~F))+N[4]+4149444226&4294967295,S=P+(O<<6&4294967295|O>>>26),O=F+(P^(S|~M))+N[11]+3174756917&4294967295,F=S+(O<<10&4294967295|O>>>22),O=M+(S^(F|~P))+N[2]+718787259&4294967295,M=F+(O<<15&4294967295|O>>>17),O=P+(F^(M|~S))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+F&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const P=S-this.blockSize,N=this.C;let M=this.h,F=0;for(;F<S;){if(M==0)for(;F<=P;)s(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<S;)if(N[M++]=C.charCodeAt(F++),M==this.blockSize){s(this,N),M=0;break}}else for(;F<S;)if(N[M++]=C[F++],M==this.blockSize){s(this,N),M=0;break}}this.h=M,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var P=C.length-8;P<C.length;++P)C[P]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,P=0;P<4;++P)for(let N=0;N<32;N+=8)C[S++]=this.g[P]>>>N&255;return C};function i(C,S){var P=u;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=S(C)}function l(C,S){this.h=S;const P=[];let N=!0;for(let M=C.length-1;M>=0;M--){const F=C[M]|0;N&&F==S||(P[M]=F,N=!1)}this.g=P}var u={};function h(C){return-128<=C&&C<128?i(C,function(S){return new l([S|0],S<0?-1:0)}):new l([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return m;if(C<0)return R(p(-C));const S=[];let P=1;for(let N=0;C>=P;N++)S[N]=C/P|0,P*=4294967296;return new l(S,0)}function g(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return R(g(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(S,8));let N=m;for(let F=0;F<C.length;F+=8){var M=Math.min(8,C.length-F);const O=parseInt(C.substring(F,F+M),S);M<8?(M=p(Math.pow(S,M)),N=N.j(M).add(p(O))):(N=N.j(P),N=N.add(p(O)))}return N}var m=h(0),E=h(1),I=h(16777216);n=l.prototype,n.m=function(){if(A(this))return-R(this).m();let C=0,S=1;for(let P=0;P<this.g.length;P++){const N=this.i(P);C+=(N>=0?N:4294967296+N)*S,S*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(A(this))return"-"+R(this).toString(C);const S=p(Math.pow(C,6));var P=this;let N="";for(;;){const M=H(P,S).g;P=V(P,M.j(S));let F=((P.g.length>0?P.g[0]:P.h)>>>0).toString(C);if(P=M,k(P))return F+N;for(;F.length<6;)F="0"+F;N=F+N}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function A(C){return C.h==-1}n.l=function(C){return C=V(this,C),A(C)?-1:k(C)?0:1};function R(C){const S=C.g.length,P=[];for(let N=0;N<S;N++)P[N]=~C.g[N];return new l(P,~C.h).add(E)}n.abs=function(){return A(this)?R(this):this},n.add=function(C){const S=Math.max(this.g.length,C.g.length),P=[];let N=0;for(let M=0;M<=S;M++){let F=N+(this.i(M)&65535)+(C.i(M)&65535),O=(F>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);N=O>>>16,F&=65535,O&=65535,P[M]=O<<16|F}return new l(P,P[P.length-1]&-2147483648?-1:0)};function V(C,S){return C.add(R(S))}n.j=function(C){if(k(this)||k(C))return m;if(A(this))return A(C)?R(this).j(R(C)):R(R(this).j(C));if(A(C))return R(this.j(R(C)));if(this.l(I)<0&&C.l(I)<0)return p(this.m()*C.m());const S=this.g.length+C.g.length,P=[];for(var N=0;N<2*S;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(let M=0;M<C.g.length;M++){const F=this.i(N)>>>16,O=this.i(N)&65535,Ce=C.i(M)>>>16,Be=C.i(M)&65535;P[2*N+2*M]+=O*Be,z(P,2*N+2*M),P[2*N+2*M+1]+=F*Be,z(P,2*N+2*M+1),P[2*N+2*M+1]+=O*Ce,z(P,2*N+2*M+1),P[2*N+2*M+2]+=F*Ce,z(P,2*N+2*M+2)}for(C=0;C<S;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=S;C<2*S;C++)P[C]=0;return new l(P,0)};function z(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function U(C,S){this.g=C,this.h=S}function H(C,S){if(k(S))throw Error("division by zero");if(k(C))return new U(m,m);if(A(C))return S=H(R(C),S),new U(R(S.g),R(S.h));if(A(S))return S=H(C,R(S)),new U(R(S.g),S.h);if(C.g.length>30){if(A(C)||A(S))throw Error("slowDivide_ only works with positive integers.");for(var P=E,N=S;N.l(C)<=0;)P=B(P),N=B(N);var M=W(P,1),F=W(N,1);for(N=W(N,2),P=W(P,2);!k(N);){var O=F.add(N);O.l(C)<=0&&(M=M.add(P),F=O),N=W(N,1),P=W(P,1)}return S=V(C,M.j(S)),new U(M,S)}for(M=m;C.l(S)>=0;){for(P=Math.max(1,Math.floor(C.m()/S.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),F=p(P),O=F.j(S);A(O)||O.l(C)>0;)P-=N,F=p(P),O=F.j(S);k(F)&&(F=E),M=M.add(F),C=V(C,O)}return new U(M,C)}n.B=function(C){return H(this,C).h},n.and=function(C){const S=Math.max(this.g.length,C.g.length),P=[];for(let N=0;N<S;N++)P[N]=this.i(N)&C.i(N);return new l(P,this.h&C.h)},n.or=function(C){const S=Math.max(this.g.length,C.g.length),P=[];for(let N=0;N<S;N++)P[N]=this.i(N)|C.i(N);return new l(P,this.h|C.h)},n.xor=function(C){const S=Math.max(this.g.length,C.g.length),P=[];for(let N=0;N<S;N++)P[N]=this.i(N)^C.i(N);return new l(P,this.h^C.h)};function B(C){const S=C.g.length+1,P=[];for(let N=0;N<S;N++)P[N]=C.i(N)<<1|C.i(N-1)>>>31;return new l(P,C.h)}function W(C,S){const P=S>>5;S%=32;const N=C.g.length-P,M=[];for(let F=0;F<N;F++)M[F]=S>0?C.i(F+P)>>>S|C.i(F+P+1)<<32-S:C.i(F+P);return new l(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,wi=l}).apply(typeof hx<"u"?hx:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uA,Su,dA,_f,Yy,hA,fA,pA;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var w=0;w<d.length;++w){var x=d[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function s(d,w){if(w)e:{var x=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var Y=d[D];if(!(Y in x))break e;x=x[Y]}d=d[d.length-1],D=x[d],w=w(D),w!=D&&w!=null&&e(x,d,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(w){var x=[],D;for(D in w)Object.prototype.hasOwnProperty.call(w,D)&&x.push([D,w[D]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function h(d,w,x){return d.call.apply(d.bind,arguments)}function p(d,w,x){return p=h,p.apply(null,arguments)}function g(d,w){var x=Array.prototype.slice.call(arguments,1);return function(){var D=x.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function m(d,w){function x(){}x.prototype=w.prototype,d.Z=w.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(D,Y,te){for(var ge=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ge[Ye-2]=arguments[Ye];return w.prototype[Y].apply(D,ge)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function I(d){const w=d.length;if(w>0){const x=Array(w);for(let D=0;D<w;D++)x[D]=d[D];return x}return[]}function k(d,w){for(let D=1;D<arguments.length;D++){const Y=arguments[D];var x=typeof Y;if(x=x!="object"?x:Y?Array.isArray(Y)?"array":x:"null",x=="array"||x=="object"&&typeof Y.length=="number"){x=d.length||0;const te=Y.length||0;d.length=x+te;for(let ge=0;ge<te;ge++)d[x+ge]=Y[ge]}else d.push(Y)}}class A{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(d){l.setTimeout(()=>{throw d},0)}function V(){var d=C;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class z{constructor(){this.h=this.g=null}add(w,x){const D=U.get();D.set(w,x),this.h?this.h.next=D:this.g=D,this.h=D}}var U=new A(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let B,W=!1,C=new z,S=()=>{const d=Promise.resolve(void 0);B=()=>{d.then(P)}};function P(){for(var d;d=V();){try{d.h.call(d.g)}catch(x){R(x)}var w=U;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}W=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};l.addEventListener("test",x,w),l.removeEventListener("test",x,w)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Ce(d,w){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}m(Ce,M),Ce.prototype.init=function(d,w){const x=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(x=="mouseover"?w=d.fromElement:x=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),me=0;function _e(d,w,x,D,Y){this.listener=d,this.proxy=null,this.src=w,this.type=x,this.capture=!!D,this.ha=Y,this.key=++me,this.da=this.fa=!1}function G(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ne(d,w,x){for(const D in d)w.call(x,d[D],D,d)}function X(d,w){for(const x in d)w.call(void 0,d[x],x,d)}function j(d){const w={};for(const x in d)w[x]=d[x];return w}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(d,w){let x,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(x in D)d[x]=D[x];for(let te=0;te<K.length;te++)x=K[te],Object.prototype.hasOwnProperty.call(D,x)&&(d[x]=D[x])}}function ie(d){this.src=d,this.g={},this.h=0}ie.prototype.add=function(d,w,x,D,Y){const te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);const ge=Se(d,w,D,Y);return ge>-1?(w=d[ge],x||(w.fa=!1)):(w=new _e(w,this.src,te,!!D,Y),w.fa=x,d.push(w)),w};function he(d,w){const x=w.type;if(x in d.g){var D=d.g[x],Y=Array.prototype.indexOf.call(D,w,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(D,Y,1),te&&(G(w),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Se(d,w,x,D){for(let Y=0;Y<d.length;++Y){const te=d[Y];if(!te.da&&te.listener==w&&te.capture==!!x&&te.ha==D)return Y}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Ie={};function Ge(d,w,x,D,Y){if(Array.isArray(w)){for(let te=0;te<w.length;te++)Ge(d,w[te],x,D,Y);return null}return x=ko(x),d&&d[Be]?d.J(w,x,u(D)?!!D.capture:!1,Y):Qe(d,w,x,!1,D,Y)}function Qe(d,w,x,D,Y,te){if(!w)throw Error("Invalid event type");const ge=u(Y)?!!Y.capture:!!Y;let Ye=Ys(d);if(Ye||(d[ve]=Ye=new ie(d)),x=Ye.add(w,x,D,ge,te),x.proxy)return x;if(D=pe(),x.proxy=D,D.src=d,D.listener=x,d.addEventListener)F||(Y=ge),Y===void 0&&(Y=!1),d.addEventListener(w.toString(),D,Y);else if(d.attachEvent)d.attachEvent(ds(w.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return x}function pe(){function d(x){return w.call(d.src,d.listener,x)}const w=Ha;return d}function xt(d,w,x,D,Y){if(Array.isArray(w))for(var te=0;te<w.length;te++)xt(d,w[te],x,D,Y);else D=u(D)?!!D.capture:!!D,x=ko(x),d&&d[Be]?(d=d.i,te=String(w).toString(),te in d.g&&(w=d.g[te],x=Se(w,x,D,Y),x>-1&&(G(w[x]),Array.prototype.splice.call(w,x,1),w.length==0&&(delete d.g[te],d.h--)))):d&&(d=Ys(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Se(w,x,D,Y)),(x=d>-1?w[d]:null)&&dn(x))}function dn(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Be])he(w.i,d);else{var x=d.type,D=d.proxy;w.removeEventListener?w.removeEventListener(x,D,d.capture):w.detachEvent?w.detachEvent(ds(x),D):w.addListener&&w.removeListener&&w.removeListener(D),(x=Ys(w))?(he(x,d),x.h==0&&(x.src=null,w[ve]=null)):G(d)}}}function ds(d){return d in Ie?Ie[d]:Ie[d]="on"+d}function Ha(d,w){if(d.da)d=!0;else{w=new Ce(w,this);const x=d.listener,D=d.ha||d.src;d.fa&&dn(d),d=x.call(D,w)}return d}function Ys(d){return d=d[ve],d instanceof ie?d:null}var ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(d){return typeof d=="function"?d:(d[ar]||(d[ar]=function(w){return d.handleEvent(w)}),d[ar])}function gt(){N.call(this),this.i=new ie(this),this.M=this,this.G=null}m(gt,N),gt.prototype[Be]=!0,gt.prototype.removeEventListener=function(d,w,x,D){xt(this,d,w,x,D)};function Vt(d,w){var x,D=d.G;if(D)for(x=[];D;D=D.G)x.push(D);if(d=d.M,D=w.type||w,typeof w=="string")w=new M(w,d);else if(w instanceof M)w.target=w.target||d;else{var Y=w;w=new M(D,d),oe(w,Y)}Y=!0;let te,ge;if(x)for(ge=x.length-1;ge>=0;ge--)te=w.g=x[ge],Y=lr(te,D,!0,w)&&Y;if(te=w.g=d,Y=lr(te,D,!0,w)&&Y,Y=lr(te,D,!1,w)&&Y,x)for(ge=0;ge<x.length;ge++)te=w.g=x[ge],Y=lr(te,D,!1,w)&&Y}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const x=d.g[w];for(let D=0;D<x.length;D++)G(x[D]);delete d.g[w],d.h--}}this.G=null},gt.prototype.J=function(d,w,x,D){return this.i.add(String(d),w,!1,x,D)},gt.prototype.K=function(d,w,x,D){return this.i.add(String(d),w,!0,x,D)};function lr(d,w,x,D){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let Y=!0;for(let te=0;te<w.length;++te){const ge=w[te];if(ge&&!ge.da&&ge.capture==x){const Ye=ge.listener,Ht=ge.ha||ge.src;ge.fa&&he(d.i,ge),Y=Ye.call(Ht,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function sn(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(d,w||0)}function Sr(d){d.g=sn(()=>{d.g=null,d.i&&(d.i=!1,Sr(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Wa extends N{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Sr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(d){N.call(this),this.h=d,this.g={}}m(hs,N);var fs=[];function No(d){ne(d.g,function(w,x){this.g.hasOwnProperty(x)&&dn(w)},d),d.g={}}hs.prototype.N=function(){hs.Z.N.call(this),No(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qr=l.JSON.stringify,Do=l.JSON.parse,Zn=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Hr(){}function Wr(){}var ps={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oo(){M.call(this,"d")}m(Oo,M);function Mo(){M.call(this,"c")}m(Mo,M);var Qn={},Vo=null;function Tr(){return Vo=Vo||new gt}Qn.Ia="serverreachability";function zn(d){M.call(this,Qn.Ia,d)}m(zn,M);function Gr(d){const w=Tr();Vt(w,new zn(w))}Qn.STAT_EVENT="statevent";function Kr(d,w){M.call(this,Qn.STAT_EVENT,d),this.stat=w}m(Kr,M);function At(d){const w=Tr();Vt(w,new Kr(w,d))}Qn.Ja="timingevent";function Lo(d,w){M.call(this,Qn.Ja,d),this.size=w}m(Lo,M);function qe(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},w)}function It(){this.g=!0}It.prototype.ua=function(){this.g=!1};function qt(d,w,x,D,Y,te){d.info(function(){if(d.g)if(te){var ge="",Ye=te.split("&");for(let vt=0;vt<Ye.length;vt++){var Ht=Ye[vt].split("=");if(Ht.length>1){const Xt=Ht[0];Ht=Ht[1];const mr=Xt.split("_");ge=mr.length>=2&&mr[1]=="type"?ge+(Xt+"="+Ht+"&"):ge+(Xt+"=redacted&")}}}else ge=null;else ge=te;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+w+`
`+x+`
`+ge})}function hn(d,w,x,D,Y,te,ge){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+w+`
`+x+`
`+te+" "+ge})}function Un(d,w,x,D){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Qt(d,x)+(D?" "+D:"")})}function Ut(d,w){d.info(function(){return"TIMEOUT: "+w})}It.prototype.info=function(){};function Qt(d,w){if(!d.g)return w;if(!w)return null;try{const te=JSON.parse(w);if(te){for(d=0;d<te.length;d++)if(Array.isArray(te[d])){var x=te[d];if(!(x.length<2)){var D=x[1];if(Array.isArray(D)&&!(D.length<1)){var Y=D[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ge=1;ge<D.length;ge++)D[ge]=""}}}}return qr(te)}catch{return w}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},An;function Cr(){}m(Cr,Hr),Cr.prototype.g=function(){return new XMLHttpRequest},An=new Cr;function fn(d){return encodeURIComponent(String(d))}function Oi(d){var w=1;d=d.split(":");const x=[];for(;w>0&&d.length;)x.push(d.shift()),w--;return d.length&&x.push(d.join(":")),x}function Ar(d,w,x,D){this.j=d,this.i=w,this.l=x,this.S=D||1,this.V=new hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Od}function Od(){this.i=null,this.g="",this.h=!1}var Md={},Cc={};function Zr(d,w,x){d.M=1,d.A=Js(Pr(w)),d.u=x,d.R=!0,Ac(d,null)}function Ac(d,w){d.F=Date.now(),Mi(d),d.B=Pr(d.A);var x=d.B,D=d.S;Array.isArray(D)||(D=[String(D)]),jc(x.i,"t",D),d.C=0,x=d.j.L,d.h=new Od,d.g=Hd(d.j,x?w:null,!d.u),d.P>0&&(d.O=new Wa(p(d.Y,d,d.g),d.P)),w=d.V,x=d.g,D=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(fs[0]=Y.toString()),Y=fs);for(let te=0;te<Y.length;te++){const ge=Ge(x,Y[te],D||w.handleEvent,!1,w.h||w);if(!ge)break;w.g[ge.key]=ge}w=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),Gr(),qt(d.i,d.v,d.B,d.l,d.S,d.u)}Ar.prototype.ba=function(d){d=d.target;const w=this.O;w&&Es(d)==3?w.j():this.Y(d)},Ar.prototype.Y=function(d){try{if(d==this.g)e:{const Ye=Es(this.g),Ht=this.g.ya(),vt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||Bd(this.g)))){this.K||Ye!=4||Ht==7||(Ht==8||vt<=0?Gr(3):Gr(2)),Ga(this);var w=this.g.ca();this.X=w;var x=Vd(this);if(this.o=w==200,hn(this.i,this.v,this.B,this.l,this.S,Ye,w),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Y=this.g;if((D=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var te=D;break t}}te=null}if(d=te)Un(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pt(this,d);else{this.o=!1,this.m=3,At(12),Xs(this),Vi(this);break e}}if(this.R){d=!0;let Xt;for(;!this.K&&this.C<x.length;)if(Xt=jd(this,x),Xt==Cc){Ye==4&&(this.m=4,At(14),d=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Md){this.m=4,At(15),Un(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else Un(this.i,this.l,Xt,null),Pt(this,Xt);if(Ld(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||x.length!=0||this.h.h||(this.m=1,At(16),d=!1),this.o=this.o&&d,!d)Un(this.i,this.l,x,"[Invalid Chunked Response]"),Xs(this),Vi(this);else if(x.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Hi(ge),ge.P=!0,At(11))}}else Un(this.i,this.l,x,null),Pt(this,x);Ye==4&&Xs(this),this.o&&!this.K&&(Ye==4?rl(this.j,this):(this.o=!1,Mi(this)))}else zc(this.g),w==400&&x.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Xs(this),Vi(this)}}}catch{}finally{}};function Vd(d){if(!Ld(d))return d.g.la();const w=Bd(d.g);if(w==="")return"";let x="";const D=w.length,Y=Es(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Xs(d),Vi(d),"";d.h.i=new l.TextDecoder}for(let te=0;te<D;te++)d.h.h=!0,x+=d.h.i.decode(w[te],{stream:!(Y&&te==D-1)});return w.length=0,d.h.g+=x,d.C=0,d.h.g}function Ld(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function jd(d,w){var x=d.C,D=w.indexOf(`
`,x);return D==-1?Cc:(x=Number(w.substring(x,D)),isNaN(x)?Md:(D+=1,D+x>w.length?Cc:(w=w.slice(D,D+x),d.C=D+x,w)))}Ar.prototype.cancel=function(){this.K=!0,Xs(this)};function Mi(d){d.T=Date.now()+d.H,Pc(d,d.H)}function Pc(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=qe(p(d.aa,d),w)}function Ga(d){d.D&&(l.clearTimeout(d.D),d.D=null)}Ar.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ut(this.i,this.B),this.M!=2&&(Gr(),At(17)),Xs(this),this.m=2,Vi(this)):Pc(this,this.T-d)};function Vi(d){d.j.I==0||d.K||rl(d.j,d)}function Xs(d){Ga(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,No(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function Pt(d,w){try{var x=d.j;if(x.I!=0&&(x.g==d||kc(x.h,d))){if(!d.L&&kc(x.h,d)&&x.I==3){try{var D=x.Ba.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)nl(x),fr(x);else break e;Is(x),At(18)}}else x.xa=Y[1],0<x.xa-x.K&&Y[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=qe(p(x.Va,x),6e3));Li(x.h)<=1&&x.ta&&(x.ta=void 0)}else pr(x,11)}else if((d.L||x.g==d)&&nl(x),!O(w))for(Y=x.Ba.g.parse(w),w=0;w<Y.length;w++){let vt=Y[w];const Xt=vt[0];if(!(Xt<=x.K))if(x.K=Xt,vt=vt[1],x.I==2)if(vt[0]=="c"){x.M=vt[1],x.ba=vt[2];const mr=vt[3];mr!=null&&(x.ka=mr,x.j.info("VER="+x.ka));const so=vt[4];so!=null&&(x.za=so,x.j.info("SVER="+x.za));const Ss=vt[5];Ss!=null&&typeof Ss=="number"&&Ss>0&&(D=1.5*Ss,x.O=D,x.j.info("backChannelRequestTimeoutMs_="+D)),D=x;const Ts=d.g;if(Ts){const il=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var te=D.h;te.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Za(te,te.h),te.h=null))}if(D.G){const Bc=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;Bc&&(D.wa=Bc,mt(D.J,D.G,Bc))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),D=x;var ge=d;if(D.na=$c(D,D.L?D.ba:null,D.W),ge.L){ji(D.h,ge);var Ye=ge,Ht=D.O;Ht&&(Ye.H=Ht),Ye.D&&(Ga(Ye),Mi(Ye)),D.g=ge}else Pn(D);x.i.length>0&&ro(x)}else vt[0]!="stop"&&vt[0]!="close"||pr(x,7);else x.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?pr(x,7):el(x):vt[0]!="noop"&&x.l&&x.l.qa(vt),x.A=0)}}Gr(4)}catch{}}var ym=class{constructor(d,w){this.g=d,this.map=w}};function Ka(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Li(d){return d.h?1:d.g?d.g.size:0}function kc(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Za(d,w){d.g?d.g.add(w):d.h=w}function ji(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Ka.prototype.cancel=function(){if(this.i=ur(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ur(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const x of d.g.values())w=w.concat(x.G);return w}return I(d.i)}var Fd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dr(d,w){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const D=d[x].indexOf("=");let Y,te=null;D>=0?(Y=d[x].substring(0,D),te=d[x].substring(D+1)):Y=d[x],w(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function ms(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof ms?(this.l=d.l,Fi(this,d.j),this.o=d.o,this.g=d.g,gs(this,d.u),this.h=d.h,jo(this,Fc(d.i)),this.m=d.m):d&&(w=String(d).match(Fd))?(this.l=!1,Fi(this,w[1]||"",!0),this.o=zi(w[2]||""),this.g=zi(w[3]||"",!0),gs(this,w[4]),this.h=zi(w[5]||"",!0),jo(this,w[6]||"",!0),this.m=zi(w[7]||"")):(this.l=!1,this.i=new lt(null,this.l))}ms.prototype.toString=function(){const d=[];var w=this.j;w&&d.push(Ui(w,Dc,!0),":");var x=this.g;return(x||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Ui(w,Dc,!0),"@"),d.push(fn(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Ui(x,x.charAt(0)=="/"?$i:Oc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Ui(x,Mc)),d.join("")},ms.prototype.resolve=function(d){const w=Pr(this);let x=!!d.j;x?Fi(w,d.j):x=!!d.o,x?w.o=d.o:x=!!d.g,x?w.g=d.g:x=d.u!=null;var D=d.h;if(x)gs(w,d.u);else if(x=!!d.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Y=w.h.lastIndexOf("/");Y!=-1&&(D=w.h.slice(0,Y+1)+D)}if(Y=D,Y==".."||Y==".")D="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){D=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let ge=0;ge<Y.length;){const Ye=Y[ge++];Ye=="."?D&&ge==Y.length&&te.push(""):Ye==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),D&&ge==Y.length&&te.push("")):(te.push(Ye),D=!0)}D=te.join("/")}else D=Y}return x?w.h=D:x=d.i.toString()!=="",x?jo(w,Fc(d.i)):x=!!d.m,x&&(w.m=d.m),w};function Pr(d){return new ms(d)}function Fi(d,w,x){d.j=x?zi(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function gs(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function jo(d,w,x){w instanceof lt?(d.i=w,Ya(d.i,d.l)):(x||(w=Ui(w,vm)),d.i=new lt(w,d.l))}function mt(d,w,x){d.i.set(w,x)}function Js(d){return mt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function zi(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ui(d,w,x){return typeof d=="string"?(d=encodeURI(d).replace(w,Nc),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Nc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Dc=/[#\/\?@]/g,Oc=/[#\?:]/g,$i=/[#\?]/g,vm=/[#\?@]/g,Mc=/#/g;function lt(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function ys(d){d.g||(d.g=new Map,d.h=0,d.i&&dr(d.i,function(w,x){d.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}n=lt.prototype,n.add=function(d,w){ys(this),this.i=null,d=vs(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(w),this.h+=1,this};function Vc(d,w){ys(d),w=vs(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Qa(d,w){return ys(d),w=vs(d,w),d.g.has(w)}n.forEach=function(d,w){ys(this),this.g.forEach(function(x,D){x.forEach(function(Y){d.call(w,Y,D,this)},this)},this)};function Lc(d,w){ys(d);let x=[];if(typeof w=="string")Qa(d,w)&&(x=x.concat(d.g.get(vs(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)x=x.concat(d[w]);return x}n.set=function(d,w){return ys(this),this.i=null,d=vs(this,d),Qa(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},n.get=function(d,w){return d?(d=Lc(this,d),d.length>0?String(d[0]):w):w};function jc(d,w,x){Vc(d,w),x.length>0&&(d.i=null,d.g.set(vs(d,w),I(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let D=0;D<w.length;D++){var x=w[D];const Y=fn(x);x=Lc(this,x);for(let te=0;te<x.length;te++){let ge=Y;x[te]!==""&&(ge+="="+fn(x[te])),d.push(ge)}}return this.i=d.join("&")};function Fc(d){const w=new lt;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function vs(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Ya(d,w){w&&!d.j&&(ys(d),d.i=null,d.g.forEach(function(x,D){const Y=D.toLowerCase();D!=Y&&(Vc(this,D),jc(this,Y,x))},d)),d.j=w}function _s(d,w){const x=new It;if(l.Image){const D=new Image;D.onload=g(wn,x,"TestLoadImage: loaded",!0,w,D),D.onerror=g(wn,x,"TestLoadImage: error",!1,w,D),D.onabort=g(wn,x,"TestLoadImage: abort",!1,w,D),D.ontimeout=g(wn,x,"TestLoadImage: timeout",!1,w,D),l.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else w(!1)}function ws(d,w){const x=new It,D=new AbortController,Y=setTimeout(()=>{D.abort(),wn(x,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:D.signal}).then(te=>{clearTimeout(Y),te.ok?wn(x,"TestPingServer: ok",!0,w):wn(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),wn(x,"TestPingServer: error",!1,w)})}function wn(d,w,x,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(x)}catch{}}function Bi(){this.g=new Zn}function eo(d){this.i=d.Sb||null,this.h=d.ab||!1}m(eo,Hr),eo.prototype.g=function(){return new hr(this.i,this.h)};function hr(d,w){gt.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(hr,gt),n=hr.prototype,n.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,Qr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fo(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zd(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function zd(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Fo(this):Qr(this),this.readyState==3&&zd(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Fo(this))},n.Na=function(d){this.g&&(this.response=d,Fo(this))},n.ga=function(){this.g&&Fo(this)};function Fo(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Qr(d)}n.setRequestHeader=function(d,w){this.A.append(d,w)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=w.next();return d.join(`\r
`)};function Qr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ud(d){let w="";return ne(d,function(x,D){w+=D,w+=":",w+=x,w+=`\r
`}),w}function Xa(d,w,x){e:{for(D in x){var D=!1;break e}D=!0}D||(x=Ud(x),typeof d=="string"?x!=null&&fn(x):mt(d,w,x))}function St(d){gt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(St,gt);var $d=/^https?$/i,_m=["POST","PUT"];n=St.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,w,x,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():An.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(te){zo(this,te);return}if(d=x||"",x=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)x.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())x.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(x.keys()).find(te=>te.toLowerCase()=="content-type"),Y=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(_m,w,void 0)>=0)||D||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of x)this.g.setRequestHeader(te,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(te){zo(this,te)}};function zo(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,Uo(d),no(d)}function Uo(d){d.A||(d.A=!0,Vt(d,"complete"),Vt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Vt(this,"complete"),Vt(this,"abort"),no(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),no(this,!0)),St.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?to(this):this.Xa())},n.Xa=function(){to(this)};function to(d){if(d.h&&typeof i<"u"){if(d.v&&Es(d)==4)setTimeout(d.Ca.bind(d),0);else if(Vt(d,"readystatechange"),Es(d)==4){d.h=!1;try{const te=d.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var D;if(D=te===0){let ge=String(d.D).match(Fd)[1]||null;!ge&&l.self&&l.self.location&&(ge=l.self.location.protocol.slice(0,-1)),D=!$d.test(ge?ge.toLowerCase():"")}x=D}if(x)Vt(d,"complete"),Vt(d,"success");else{d.o=6;try{var Y=Es(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Uo(d)}}finally{no(d)}}}}function no(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,w||Vt(d,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Es(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Es(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Do(w)}};function Bd(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function zc(d){const w={};d=(d.g&&Es(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(O(d[D]))continue;var x=Oi(d[D]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const te=w[Y]||[];w[Y]=te,te.push(x)}X(w,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(d,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||w}function Ja(d){this.za=0,this.i=[],this.j=new It,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bs("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bs("baseRetryDelayMs",5e3,d),this.Za=bs("retryDelaySeedMs",1e4,d),this.Ta=bs("forwardChannelMaxRetries",2,d),this.va=bs("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ka(d&&d.concurrentRequestLimit),this.Ba=new Bi,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ja.prototype,n.ka=8,n.I=1,n.connect=function(d,w,x,D){At(0),this.W=d,this.H=w||{},x&&D!==void 0&&(this.H.OSID=x,this.H.OAID=D),this.F=this.X,this.J=$c(this,null,this.W),ro(this)};function el(d){if(tl(d),d.I==3){var w=d.V++,x=Pr(d.J);if(mt(x,"SID",d.M),mt(x,"RID",w),mt(x,"TYPE","terminate"),xs(d,x),w=new Ar(d,d.j,w),w.M=2,w.A=Js(Pr(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=w.A,x=!0),x||(w.g=Hd(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Mi(w)}Wi(d)}function fr(d){d.g&&(Hi(d),d.g.cancel(),d.g=null)}function tl(d){fr(d),d.v&&(l.clearTimeout(d.v),d.v=null),nl(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function ro(d){if(!Rc(d.h)&&!d.m){d.m=!0;var w=d.Ea;B||S(),W||(B(),W=!0),C.add(w,d),d.D=0}}function qd(d,w){return Li(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=qe(p(d.Ea,d,w),sl(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new Ar(this,this.j,d);let te=this.o;if(this.U&&(te?(te=j(te),oe(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var D=this.i[x];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,w>4096){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=Uc(this,Y,w),x=Pr(this.J),mt(x,"RID",d),mt(x,"CVER",22),this.G&&mt(x,"X-HTTP-Session-Id",this.G),xs(this,x),te&&(this.R?w="headers="+fn(Ud(te))+"&"+w:this.u&&Xa(x,this.u,te)),Za(this.h,Y),this.Ra&&mt(x,"TYPE","init"),this.S?(mt(x,"$req",w),mt(x,"SID","null"),Y.U=!0,Zr(Y,x,null)):Zr(Y,x,w),this.I=2}}else this.I==3&&(d?qi(this,d):this.i.length==0||Rc(this.h)||qi(this))};function qi(d,w){var x;w?x=w.l:x=d.V++;const D=Pr(d.J);mt(D,"SID",d.M),mt(D,"RID",x),mt(D,"AID",d.K),xs(d,D),d.u&&d.o&&Xa(D,d.u,d.o),x=new Ar(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),w&&(d.i=w.G.concat(d.i)),w=Uc(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Za(d.h,x),Zr(x,D,w)}function xs(d,w){d.H&&ne(d.H,function(x,D){mt(w,D,x)}),d.l&&ne({},function(x,D){mt(w,D,x)})}function Uc(d,w,x){x=Math.min(d.i.length,x);const D=d.l?p(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Ye=-1;for(;;){const Ht=["count="+x];Ye==-1?x>0?(Ye=Y[0].g,Ht.push("ofs="+Ye)):Ye=0:Ht.push("ofs="+Ye);let vt=!0;for(let Xt=0;Xt<x;Xt++){var te=Y[Xt].g;const mr=Y[Xt].map;if(te-=Ye,te<0)Ye=Math.max(0,Y[Xt].g-100),vt=!1;else try{te="req"+te+"_"||"";try{var ge=mr instanceof Map?mr:Object.entries(mr);for(const[so,Ss]of ge){let Ts=Ss;u(Ss)&&(Ts=qr(Ss)),Ht.push(te+so+"="+encodeURIComponent(Ts))}}catch(so){throw Ht.push(te+"type="+encodeURIComponent("_badmap")),so}}catch{D&&D(mr)}}if(vt){ge=Ht.join("&");break e}}ge=void 0}return d=d.i.splice(0,x),w.G=d,ge}function Pn(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;B||S(),W||(B(),W=!0),C.add(w,d),d.A=0}}function Is(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=qe(p(d.Da,d),sl(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,$o(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=qe(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),fr(this),$o(this))};function Hi(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function $o(d){d.g=new Ar(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=Pr(d.na);mt(w,"RID","rpc"),mt(w,"SID",d.M),mt(w,"AID",d.K),mt(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&mt(w,"TO",d.ia),mt(w,"TYPE","xmlhttp"),xs(d,w),d.u&&d.o&&Xa(w,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=Js(Pr(w)),x.u=null,x.R=!0,Ac(x,d)}n.Va=function(){this.C!=null&&(this.C=null,fr(this),Is(this),At(19))};function nl(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function rl(d,w){var x=null;if(d.g==w){nl(d),Hi(d),d.g=null;var D=2}else if(kc(d.h,w))x=w.G,ji(d.h,w),D=1;else return;if(d.I!=0){if(w.o)if(D==1){x=w.u?w.u.length:0,w=Date.now()-w.F;var Y=d.D;D=Tr(),Vt(D,new Lo(D,x)),ro(d)}else Pn(d);else if(Y=w.m,Y==3||Y==0&&w.X>0||!(D==1&&qd(d,w)||D==2&&Is(d)))switch(x&&x.length>0&&(w=d.h,w.i=w.i.concat(x)),Y){case 1:pr(d,5);break;case 4:pr(d,10);break;case 3:pr(d,6);break;default:pr(d,2)}}}function sl(d,w){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*w}function pr(d,w){if(d.j.info("Error code "+w),w==2){var x=p(d.bb,d),D=d.Ua;const Y=!D;D=new ms(D||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Fi(D,"https"),Js(D),Y?_s(D.toString(),x):ws(D.toString(),x)}else At(2);d.I=0,d.l&&d.l.pa(w),Wi(d),tl(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Wi(d){if(d.I=0,d.ja=[],d.l){const w=ur(d.h);(w.length!=0||d.i.length!=0)&&(k(d.ja,w),k(d.ja,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.oa()}}function $c(d,w,x){var D=x instanceof ms?Pr(x):new ms(x);if(D.g!="")w&&(D.g=w+"."+D.g),gs(D,D.u);else{var Y=l.location;D=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new ms(null);D&&Fi(te,D),w&&(te.g=w),Y&&gs(te,Y),x&&(te.h=x),D=te}return x=d.G,w=d.wa,x&&w&&mt(D,x,w),mt(D,"VER",d.ka),xs(d,D),D}function Hd(d,w,x){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new St(new eo({ab:x})):new St(d.ma),w.Fa(d.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wd(){}n=Wd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ol(){}ol.prototype.g=function(d,w){return new En(d,w)};function En(d,w){gt.call(this),this.g=new Ja(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!O(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!O(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Bo(this)}m(En,gt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){el(this.g)},En.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=qr(d),d=x);w.i.push(new ym(w.Ya++,d)),w.I==3&&ro(w)},En.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,En.Z.N.call(this)};function Gd(d){Oo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const x in w){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}m(Gd,Oo);function Kd(){Mo.call(this),this.status=1}m(Kd,Mo);function Bo(d){this.g=d}m(Bo,Wd),Bo.prototype.ra=function(){Vt(this.g,"a")},Bo.prototype.qa=function(d){Vt(this.g,new Gd(d))},Bo.prototype.pa=function(d){Vt(this.g,new Kd)},Bo.prototype.oa=function(){Vt(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,pA=function(){return new ol},fA=function(){return Tr()},hA=Qn,Yy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,_f=cr,Yt.COMPLETE="complete",dA=Yt,Wr.EventType=ps,ps.OPEN="a",ps.CLOSE="b",ps.ERROR="c",ps.MESSAGE="d",gt.prototype.listen=gt.prototype.J,Su=Wr,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa,uA=St}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const fx="@firebase/firestore",px="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new h_("@firebase/firestore");function jl(){return Pa.logLevel}function de(n,...e){if(Pa.logLevel<=it.DEBUG){const t=e.map(S_);Pa.debug(`Firestore (${Ic}): ${n}`,...t)}}function qn(n,...e){if(Pa.logLevel<=it.ERROR){const t=e.map(S_);Pa.error(`Firestore (${Ic}): ${n}`,...t)}}function Ra(n,...e){if(Pa.logLevel<=it.WARN){const t=e.map(S_);Pa.warn(`Firestore (${Ic}): ${n}`,...t)}}function S_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,mA(n,r,t)}function mA(n,e,t){let r=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw qn(r),new Error(r)}function Ve(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||mA(e,s,r)}function Ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends To{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sn.UNAUTHENTICATED)))}shutdown(){}}class $3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class B3{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ve(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let i=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zs,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=i;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zs)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new gA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class q3{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H3{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new q3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ss(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=G3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function Xy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return fy(s)===fy(i)?Ke(s,i):fy(s)?1:-1}return Ke(n.length,e.length)}const K3=55296,Z3=57343;function fy(n){const e=n.charCodeAt(0);return e>=K3&&e<=Z3}function nc(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function yA(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="__name__";class Ns{constructor(e,t,r){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&De(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ns.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=Ns.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return Ke(e.length,t.length)}static compareSegments(e,t){const r=Ns.isNumericId(e),s=Ns.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ns.extractNumericId(e).compare(Ns.extractNumericId(t)):Xy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wi.fromString(e.substring(4,e.length-2))}}class yt extends Ns{construct(e,t,r){return new yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new yt(t)}static emptyPath(){return new yt([])}}const Q3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Ns{construct(e,t,r){return new Ft(e,t,r)}static isValidIdentifier(e){return Q3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gx}static keyField(){return new Ft([gx])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(i(),s++)}if(i(),l)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(yt.fromString(e))}static fromName(e){return new Ee(yt.fromString(e).popFirst(5))}static empty(){return new Ee(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n,e,t){if(!t)throw new we(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Y3(n,e,t,r){if(e===!0&&r===!0)throw new we(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yx(n){if(!Ee.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vx(n){if(Ee.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _A(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function C_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function Hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=C_(n);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n,e){const t={typeString:n};return e&&(t.value=e),t}function _d(n,e){if(!_A(n))throw new we(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&l!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new we(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=-62135596800,wx=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*wx);return new _t(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_x)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wx}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_d(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_x;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:tn("string",_t._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new _t(0,0))}static max(){return new Fe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;class Kf{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function Jy(n){return n.fields.find((e=>e.kind===2))}function la(n){return n.fields.filter((e=>e.kind!==2))}Kf.UNKNOWN_ID=-1;class wf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qu(0,Ir.min())}}function X3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(r===1e9?new _t(t+1,0):new _t(t,r));return new Ir(s,Ee.empty(),e)}function wA(n){return new Ir(n.readTime,n.key,Zu)}class Ir{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ir(Fe.min(),Ee.empty(),Zu)}static max(){return new Ir(Fe.max(),Ee.empty(),Zu)}}function A_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==EA)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,r)=>{t(e)}))}static reject(e){return new Z(((t,r)=>{r(e)}))}static waitFor(e){return new Z(((t,r)=>{let s=0,i=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++i,l&&i===s&&t()}),(h=>r(h)))})),l=!0,i===s&&t()}))}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next((s=>s?Z.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new Z(((r,s)=>{const i=e.length,l=new Array(i);let u=0;for(let h=0;h<i;h++){const p=h;t(e[p]).next((g=>{l[p]=g,++u,u===i&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new Z(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="SimpleDb";class Up{static open(e,t,r,s){try{return new Up(t,e.transaction(s,r))}catch(i){throw new Nu(t,i)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new zs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Nu(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=P_(r.target.error);this.S.reject(new Nu(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(de(wr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new e6(t)}}class Ei{static delete(e){return de(wr,"Removing database:",e),ua(yC().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!TC())return!1;if(Ei.F())return!0;const e=cn(),t=Ei.M(e),r=0<t&&t<10,s=xA(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Ei.M(cn())===12.2&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(de(wr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const l=i.target.result;t(l)},s.onblocked=()=>{r(new Nu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const l=i.target.error;l.name==="VersionError"?r(new we(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new we(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Nu(e,l))},s.onupgradeneeded=i=>{de(wr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const l=i.target.result;this.N.k(l,s.transaction,i.oldVersion,this.version).next((()=>{de(wr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const i=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=Up.open(this.db,e,i?"readonly":"readwrite",r),h=s(u).next((p=>(u.C(),p))).catch((p=>(u.abort(p),Z.reject(p)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,p=h.name!=="FirebaseError"&&l<3;if(de(wr,"Transaction failed with error:",h.message,"Retrying:",p),this.close(),!p)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function xA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class J3{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ua(this.U.delete())}}class Nu extends we{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ri(n){return n.name==="IndexedDbTransactionError"}class e6{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(de(wr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(de(wr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ua(r)}add(e){return de(wr,"ADD",this.store.name,e,e),ua(this.store.add(e))}get(e){return ua(this.store.get(e)).next((t=>(t===void 0&&(t=null),de(wr,"GET",this.store.name,e,t),t)))}delete(e){return de(wr,"DELETE",this.store.name,e),ua(this.store.delete(e))}count(){return de(wr,"COUNT",this.store.name),ua(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Z(((l,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{l(h.target.result)}}))}{const i=this.cursor(r),l=[];return this.H(i,((u,h)=>{l.push(h)})).next((()=>l))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Z(((s,i)=>{r.onerror=l=>{i(l.target.error)},r.onsuccess=l=>{s(l.target.result)}}))}Z(e,t){de(wr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,((i,l,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}te(e){const t=this.cursor({});return new Z(((r,s)=>{t.onerror=i=>{const l=P_(i.target.error);s(l)},t.onsuccess=i=>{const l=i.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,t){const r=[];return new Z(((s,i)=>{e.onerror=l=>{i(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void s();const h=new J3(u),p=t(u.primaryKey,u.value,h);if(p instanceof Z){const g=p.catch((m=>(h.done(),Z.reject(m))));r.push(g)}h.isDone?s():h.G===null?u.continue():u.continue(h.G)}})).next((()=>Z.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ua(n){return new Z(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=P_(r.target.error);t(s)}}))}let Ex=!1;function P_(n){const e=Ei.M(cn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ex||(Ex=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Du="IndexBackfiller";class t6{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){de(Du,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();de(Du,`Documents written: ${t}`)}catch(t){Ri(t)?de(Du,"Ignoring IndexedDB error during index backfill: ",t):await Ua(t)}await this.re(6e4)}))}}class n6{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,i=!0;return Z.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return de(Du,`Processing collection: ${l}`),this.oe(e,l,s).next((u=>{s-=u,r.add(l)}));i=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((i=>{const l=i.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(s,i))).next((u=>(de(Du,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,i)=>{const l=wA(i);A_(l,r)>0&&(r=l)})),new Ir(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=-1;function $p(n){return n==null}function Yu(n){return n===0&&1/n==-1/0}function r6(n){return typeof n=="number"&&Number.isInteger(n)&&!Yu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="";function Fn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bx(e)),e=s6(n.get(t),e);return bx(e)}function s6(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case Zf:t+="";break;default:t+=i}}return t}function bx(n){return n+Zf+""}function Vs(n){const e=n.length;if(Ve(e>=2,64408,{path:n}),e===2)return Ve(n.charAt(0)===Zf&&n.charAt(1)==="",56145,{path:n}),yt.emptyPath();const t=e-2,r=[];let s="";for(let i=0;i<e;){const l=n.indexOf(Zf,i);switch((l<0||l>t)&&De(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(i,l);let h;s.length===0?h=u:(s+=u,h=s,s=""),r.push(h);break;case"":s+=n.substring(i,l),s+="\0";break;case"":s+=n.substring(i,l+1);break;default:De(61167,{path:n})}i=l+2}return new yt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="remoteDocuments",wd="owner",kl="owner",Xu="mutationQueues",o6="userId",rs="mutations",xx="batchId",ma="userMutationsIndex",Ix=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(n,e){return[n,Fn(e)]}function IA(n,e,t){return[n,Fn(e),t]}const i6={},rc="documentMutations",Qf="remoteDocumentsV14",a6=["prefixPath","collectionGroup","readTime","documentId"],bf="documentKeyIndex",l6=["prefixPath","collectionGroup","documentId"],SA="collectionGroupIndex",c6=["collectionGroup","readTime","prefixPath","documentId"],Ju="remoteDocumentGlobal",ev="remoteDocumentGlobalKey",sc="targets",TA="queryTargetsIndex",u6=["canonicalId","targetId"],oc="targetDocuments",d6=["targetId","path"],R_="documentTargetsIndex",h6=["path","targetId"],Yf="targetGlobalKey",_a="targetGlobal",ed="collectionParents",f6=["collectionId","parent"],ic="clientMetadata",p6="clientId",Bp="bundles",m6="bundleId",qp="namedQueries",g6="name",k_="indexConfiguration",y6="indexId",tv="collectionGroupIndex",v6="collectionGroup",Ou="indexState",_6=["indexId","uid"],CA="sequenceNumberIndex",w6=["uid","sequenceNumber"],Mu="indexEntries",E6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],AA="documentKeyIndex",b6=["indexId","uid","orderedDocumentKey"],Hp="documentOverlays",x6=["userId","collectionPath","documentId"],nv="collectionPathOverlayIndex",I6=["userId","collectionPath","largestBatchId"],PA="collectionGroupOverlayIndex",S6=["userId","collectionGroup","largestBatchId"],N_="globals",T6="name",RA=[Xu,rs,rc,ca,sc,wd,_a,oc,ic,Ju,ed,Bp,qp],C6=[...RA,Hp],kA=[Xu,rs,rc,Qf,sc,wd,_a,oc,ic,Ju,ed,Bp,qp,Hp],NA=kA,D_=[...NA,k_,Ou,Mu],A6=D_,DA=[...D_,N_],P6=DA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv extends bA{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function un(n,e){const t=Ze(n);return Ei.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ki(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||Tn.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Tn.RED,this.left=s??Tn.EMPTY,this.right=i??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Tn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Tn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new Tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tx(this.data.getIterator())}getIteratorFrom(e){return new Tx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class Tx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new or([])}unionWith(e){let t=new wt(Ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nc(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MA("Invalid base64 string: "+i):i}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const R6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(n){if(Ve(!!n,39018),typeof n=="string"){let e=0;const t=R6.exec(n);if(Ve(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function So(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="server_timestamp",LA="__type__",jA="__previous_value__",FA="__local_write_time__";function O_(n){return(n?.mapValue?.fields||{})[LA]?.stringValue===VA}function Wp(n){const e=n.mapValue.fields[jA];return O_(e)?Wp(e):e}function td(n){const e=Io(n.mapValue.fields[FA].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,t,r,s,i,l,u,h,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g}}const Xf="(default)";class ka{constructor(e,t){this.projectId=e,this.database=t||Xf}static empty(){return new ka("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof ka&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__type__",zA="__max__",mi={mapValue:{fields:{__type__:{stringValue:zA}}}},V_="__vector__",ac="value",xf={nullValue:"NULL_VALUE"};function Ti(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?O_(n)?4:UA(n)?9007199254740991:Gp(n)?10:11:De(28295,{value:n})}function Hs(n,e){if(n===e)return!0;const t=Ti(n);if(t!==Ti(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return td(n).isEqual(td(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=Io(s.timestampValue),u=Io(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return So(s.bytesValue).isEqual(So(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return Dt(s.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Dt(s.integerValue)===Dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Dt(s.doubleValue),u=Dt(i.doubleValue);return l===u?Yu(l)===Yu(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return nc(n.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return(function(s,i){const l=s.mapValue.fields||{},u=i.mapValue.fields||{};if(Sx(l)!==Sx(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Hs(l[h],u[h])))return!1;return!0})(n,e);default:return De(52216,{left:n})}}function nd(n,e){return(n.values||[]).find((t=>Hs(t,e)))!==void 0}function Ci(n,e){if(n===e)return 0;const t=Ti(n),r=Ti(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return(function(i,l){const u=Dt(i.integerValue||i.doubleValue),h=Dt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,e);case 3:return Cx(n.timestampValue,e.timestampValue);case 4:return Cx(td(n),td(e));case 5:return Xy(n.stringValue,e.stringValue);case 6:return(function(i,l){const u=So(i),h=So(l);return u.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(i,l){const u=i.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const g=Ke(u[p],h[p]);if(g!==0)return g}return Ke(u.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,l){const u=Ke(Dt(i.latitude),Dt(l.latitude));return u!==0?u:Ke(Dt(i.longitude),Dt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Ax(n.arrayValue,e.arrayValue);case 10:return(function(i,l){const u=i.fields||{},h=l.fields||{},p=u[ac]?.arrayValue,g=h[ac]?.arrayValue,m=Ke(p?.values?.length||0,g?.values?.length||0);return m!==0?m:Ax(p,g)})(n.mapValue,e.mapValue);case 11:return(function(i,l){if(i===mi.mapValue&&l===mi.mapValue)return 0;if(i===mi.mapValue)return 1;if(l===mi.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let m=0;m<h.length&&m<g.length;++m){const E=Xy(h[m],g[m]);if(E!==0)return E;const I=Ci(u[h[m]],p[g[m]]);if(I!==0)return I}return Ke(h.length,g.length)})(n.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function Cx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=Io(n),r=Io(e),s=Ke(t.seconds,r.seconds);return s!==0?s:Ke(t.nanos,r.nanos)}function Ax(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Ci(t[s],r[s]);if(i)return i}return Ke(t.length,r.length)}function lc(n){return sv(n)}function sv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Io(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return So(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=sv(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${sv(t.fields[l])}`;return s+"}"})(n.mapValue):De(61005,{value:n})}function If(n){switch(Ti(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wp(n);return e?16+If(e):16;case 5:return 2*n.stringValue.length;case 6:return So(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+If(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return ki(r.fields,((i,l)=>{s+=i.length+If(l)})),s})(n.mapValue);default:throw De(13486,{value:n})}}function L_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ov(n){return!!n&&"integerValue"in n}function rd(n){return!!n&&"arrayValue"in n}function Px(n){return!!n&&"nullValue"in n}function Rx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sf(n){return!!n&&"mapValue"in n}function Gp(n){return(n?.mapValue?.fields||{})[M_]?.stringValue===V_}function Vu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ki(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Vu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vu(n.arrayValue.values[t]);return e}return{...n}}function UA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zA}const $A={mapValue:{fields:{[M_]:{stringValue:V_},[ac]:{arrayValue:{}}}}};function N6(n){return"nullValue"in n?xf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?L_(ka.empty(),Ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Gp(n)?$A:{mapValue:{}}:De(35942,{value:n})}function D6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?L_(ka.empty(),Ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?$A:"mapValue"in n?Gp(n)?{mapValue:{}}:mi:De(61959,{value:n})}function kx(n,e){const t=Ci(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Nx(n,e){const t=Ci(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vu(t)}setAll(e){let t=Ft.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=Vu(l):s.push(u.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Sf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Sf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ki(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new jn(Vu(this.value))}}function BA(n){const e=[];return ki(n.fields,((t,r)=>{const s=new Ft([t]);if(Sf(r)){const i=BA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)})),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,r,s,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Bt(e,0,Fe.min(),Fe.min(),Fe.min(),jn.empty(),0)}static newFoundDocument(e,t,r,s){return new Bt(e,1,t,Fe.min(),r,s,0)}static newNoDocument(e,t){return new Bt(e,2,t,Fe.min(),Fe.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Fe.min(),Fe.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t){this.position=e,this.inclusive=t}}function Dx(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],l=n.position[s];if(i.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),t.key):r=Ci(l,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ox(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t="asc"){this.field=e,this.dir=t}}function O6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{}class ct extends qA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new M6(e,t,r):t==="array-contains"?new j6(e,r):t==="in"?new QA(e,r):t==="not-in"?new F6(e,r):t==="array-contains-any"?new z6(e,r):new ct(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new V6(e,r):new L6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ci(t,this.value)):t!==null&&Ti(this.value)===Ti(t)&&this.matchesComparison(Ci(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends qA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bt(e,t)}matches(e){return uc(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uc(n){return n.op==="and"}function iv(n){return n.op==="or"}function j_(n){return HA(n)&&uc(n)}function HA(n){for(const e of n.filters)if(e instanceof bt)return!1;return!0}function av(n){if(n instanceof ct)return n.field.canonicalString()+n.op.toString()+lc(n.value);if(j_(n))return n.filters.map((e=>av(e))).join(",");{const e=n.filters.map((t=>av(t))).join(",");return`${n.op}(${e})`}}function WA(n,e){return n instanceof ct?(function(r,s){return s instanceof ct&&r.op===s.op&&r.field.isEqual(s.field)&&Hs(r.value,s.value)})(n,e):n instanceof bt?(function(r,s){return s instanceof bt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,l,u)=>i&&WA(l,s.filters[u])),!0):!1})(n,e):void De(19439)}function GA(n,e){const t=n.filters.concat(e);return bt.create(t,n.op)}function KA(n){return n instanceof ct?(function(t){return`${t.field.canonicalString()} ${t.op} ${lc(t.value)}`})(n):n instanceof bt?(function(t){return t.op.toString()+" {"+t.getFilters().map(KA).join(" ,")+"}"})(n):"Filter"}class M6 extends ct{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class V6 extends ct{constructor(e,t){super(e,"in",t),this.keys=ZA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class L6 extends ct{constructor(e,t){super(e,"not-in",t),this.keys=ZA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ZA(n,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class j6 extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rd(t)&&nd(t.arrayValue,this.value)}}class QA extends ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nd(this.value.arrayValue,t)}}class F6 extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nd(this.value.arrayValue,t)}}class z6 extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>nd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,t=null,r=[],s=[],i=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=u,this.Te=null}}function lv(n,e=null,t=[],r=[],s=null,i=null,l=null){return new U6(n,e,t,r,s,i,l)}function Na(n){const e=Ze(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>av(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),$p(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>lc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>lc(r))).join(",")),e.Te=t}return e.Te}function Ed(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!O6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ox(n.startAt,e.startAt)&&Ox(n.endAt,e.endAt)}function ep(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function tp(n,e){return n.filters.filter((t=>t instanceof ct&&t.field.isEqual(e)))}function Mx(n,e,t){let r=xf,s=!0;for(const i of tp(n,e)){let l=xf,u=!0;switch(i.op){case"<":case"<=":l=N6(i.value);break;case"==":case"in":case">=":l=i.value;break;case">":l=i.value,u=!1;break;case"!=":case"not-in":l=xf}kx({value:r,inclusive:s},{value:l,inclusive:u})<0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];kx({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}function Vx(n,e,t){let r=mi,s=!0;for(const i of tp(n,e)){let l=mi,u=!0;switch(i.op){case">=":case">":l=D6(i.value),u=!1;break;case"==":case"in":case"<=":l=i.value;break;case"<":l=i.value,u=!1;break;case"!=":case"not-in":l=mi}Nx({value:r,inclusive:s},{value:l,inclusive:u})>0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];Nx({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t=null,r=[],s=[],i=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $6(n,e,t,r,s,i,l,u){return new Kp(n,e,t,r,s,i,l,u)}function bd(n){return new Kp(n)}function Lx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function B6(n){return n.collectionGroup!==null}function Lu(n){const e=Ze(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new wt(Ft.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Jf(i,r))})),t.has(Ft.keyField().canonicalString())||e.Ie.push(new Jf(Ft.keyField(),r))}return e.Ie}function zr(n){const e=Ze(n);return e.Ee||(e.Ee=q6(e,Lu(n))),e.Ee}function q6(n,e){if(n.limitType==="F")return lv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Jf(s.field,i)}));const t=n.endAt?new cc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new cc(n.startAt.position,n.startAt.inclusive):null;return lv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cv(n,e,t){return new Kp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zp(n,e){return Ed(zr(n),zr(e))&&n.limitType===e.limitType}function YA(n){return`${Na(zr(n))}|lt:${n.limitType}`}function Fl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>KA(s))).join(", ")}]`),$p(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>lc(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>lc(s))).join(",")),`Target(${r})`})(zr(n))}; limitType=${n.limitType})`}function xd(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of Lu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,h){const p=Dx(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,Lu(r),s)||r.endAt&&!(function(l,u,h){const p=Dx(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,Lu(r),s))})(n,e)}function H6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XA(n){return(e,t)=>{let r=!1;for(const s of Lu(n)){const i=W6(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function W6(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(i,l,u){const h=l.data.field(i),p=u.data.field(i);return h!==null&&p!==null?Ci(h,p):De(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return OA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new Ot(Ee.comparator);function br(){return G6}const JA=new Ot(Ee.comparator);function Tu(...n){let e=JA;for(const t of n)e=e.insert(t.key,t);return e}function eP(n){let e=JA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ls(){return ju()}function tP(){return ju()}function ju(){return new Co((n=>n.toString()),((n,e)=>n.isEqual(e)))}const K6=new Ot(Ee.comparator),Z6=new wt(Ee.comparator);function et(...n){let e=Z6;for(const t of n)e=e.add(t);return e}const Q6=new wt(Ke);function Y6(){return Q6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function nP(n){return{integerValue:""+n}}function X6(n,e){return r6(e)?nP(e):F_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this._=void 0}}function J6(n,e,t){return n instanceof sd?(function(s,i){const l={fields:{[LA]:{stringValue:VA},[FA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&O_(i)&&(i=Wp(i)),i&&(l.fields[jA]=i),{mapValue:l}})(t,e):n instanceof dc?sP(n,e):n instanceof hc?oP(n,e):(function(s,i){const l=rP(s,i),u=jx(l)+jx(s.Ae);return ov(l)&&ov(s.Ae)?nP(u):F_(s.serializer,u)})(n,e)}function ez(n,e,t){return n instanceof dc?sP(n,e):n instanceof hc?oP(n,e):t}function rP(n,e){return n instanceof od?(function(r){return ov(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class sd extends Qp{}class dc extends Qp{constructor(e){super(),this.elements=e}}function sP(n,e){const t=iP(e);for(const r of n.elements)t.some((s=>Hs(s,r)))||t.push(r);return{arrayValue:{values:t}}}class hc extends Qp{constructor(e){super(),this.elements=e}}function oP(n,e){let t=iP(e);for(const r of n.elements)t=t.filter((s=>!Hs(s,r)));return{arrayValue:{values:t}}}class od extends Qp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function jx(n){return Dt(n.integerValue||n.doubleValue)}function iP(n){return rd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,t){this.field=e,this.transform=t}}function nz(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof dc&&s instanceof dc||r instanceof hc&&s instanceof hc?nc(r.elements,s.elements,Hs):r instanceof od&&s instanceof od?Hs(r.Ae,s.Ae):r instanceof sd&&s instanceof sd})(n.transform,e.transform)}class rz{constructor(e,t){this.version=e,this.transformResults=t}}class vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yp{}function aP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Id(n.key,vn.none()):new Sc(n.key,n.data,vn.none());{const t=n.data,r=jn.empty();let s=new wt(Ft.comparator);for(let i of e.fields)if(!s.has(i)){let l=t.field(i);l===null&&i.length>1&&(i=i.popLast(),l=t.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new Ao(n.key,r,new or(s.toArray()),vn.none())}}function sz(n,e,t){n instanceof Sc?(function(s,i,l){const u=s.value.clone(),h=zx(s.fieldTransforms,i,l.transformResults);u.setAll(h),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Ao?(function(s,i,l){if(!Tf(s.precondition,i))return void i.convertToUnknownDocument(l.version);const u=zx(s.fieldTransforms,i,l.transformResults),h=i.data;h.setAll(lP(s)),h.setAll(u),i.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Fu(n,e,t,r){return n instanceof Sc?(function(i,l,u,h){if(!Tf(i.precondition,l))return u;const p=i.value.clone(),g=Ux(i.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ao?(function(i,l,u,h){if(!Tf(i.precondition,l))return u;const p=Ux(i.fieldTransforms,h,l),g=l.data;return g.setAll(lP(i)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(i,l,u){return Tf(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function oz(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=rP(r.transform,s||null);i!=null&&(t===null&&(t=jn.empty()),t.set(r.field,i))}return t||null}function Fx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&nc(r,s,((i,l)=>nz(i,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Sc extends Yp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ao extends Yp{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lP(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function zx(n,e,t){const r=new Map;Ve(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],l=i.transform,u=e.data.field(i.field);r.set(i.field,ez(l,u,t[s]))}return r}function Ux(n,e,t){const r=new Map;for(const s of n){const i=s.transform,l=t.data.field(s.field);r.set(s.field,J6(i,l,e))}return r}class Id extends Yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cP extends Yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&sz(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tP();return this.mutations.forEach((s=>{const i=e.get(s.key),l=i.overlayedDocument;let u=this.applyToLocalView(l,i.mutatedFields);u=t.has(s.key)?null:u;const h=aP(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),et())}isEqual(e){return this.batchId===e.batchId&&nc(this.mutations,e.mutations,((t,r)=>Fx(t,r)))&&nc(this.baseMutations,e.baseMutations,((t,r)=>Fx(t,r)))}}class U_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return K6})();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new U_(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,dt;function az(n){switch(n){case re.OK:return De(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function uP(n){if(n===void 0)return qn("GRPC error has no .code"),re.UNKNOWN;switch(n){case en.OK:return re.OK;case en.CANCELLED:return re.CANCELLED;case en.UNKNOWN:return re.UNKNOWN;case en.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case en.INTERNAL:return re.INTERNAL;case en.UNAVAILABLE:return re.UNAVAILABLE;case en.UNAUTHENTICATED:return re.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case en.NOT_FOUND:return re.NOT_FOUND;case en.ALREADY_EXISTS:return re.ALREADY_EXISTS;case en.PERMISSION_DENIED:return re.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case en.ABORTED:return re.ABORTED;case en.OUT_OF_RANGE:return re.OUT_OF_RANGE;case en.UNIMPLEMENTED:return re.UNIMPLEMENTED;case en.DATA_LOSS:return re.DATA_LOSS;default:return De(39323,{code:n})}}(dt=en||(en={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=new wi([4294967295,4294967295],0);function $x(n){const e=lz().encode(n),t=new cA;return t.update(e),new Uint8Array(t.digest())}function Bx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new wi([t,r],0),new wi([s,i],0)]}class B_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(r<0)throw new Cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=wi.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(wi.fromNumber(r)));return s.compare(cz)===1&&(s=new wi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=$x(e),[r,s]=Bx(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new B_(i,s,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=$x(e),[r,s]=Bx(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Xp(Fe.min(),s,new Ot(Ke),br(),et())}}class Sd{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Sd(r,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class dP{constructor(e,t){this.targetId=e,this.Ce=t}}class hP{constructor(e,t,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class qx{constructor(){this.ve=0,this.Fe=Hx(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),t=et(),r=et();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:De(38017,{changeType:i})}})),new Sd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Hx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uz{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.Je=ef(),this.He=ef(),this.Ye=new Ot(Ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(ep(i))if(r===0){const l=new Ee(i.path);this.et(t,l,Bt.newNoDocument(l,Fe.min()))}else Ve(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let l,u;try{l=So(r).toUint8Array()}catch(h){if(h instanceof MA)return Ra("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new B_(l,s,i)}catch(h){return Ra(h instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,l)=>{const u=this.ot(l);if(u){if(i.current&&ep(u.target)){const h=new Ee(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Bt.newNoDocument(h,e))}i.Be&&(t.set(l,i.ke()),i.qe())}}));let r=et();this.He.forEach(((i,l)=>{let u=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,l)=>l.setReadTime(e)));const s=new Xp(e,t,this.Ye,this.je,r);return this.je=br(),this.Je=ef(),this.He=ef(),this.Ye=new Ot(Ke),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new qx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new wt(Ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new wt(Ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ef(){return new Ot(Ee.comparator)}function Hx(){return new Ot(Ee.comparator)}const dz={asc:"ASCENDING",desc:"DESCENDING"},hz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fz={and:"AND",or:"OR"};class pz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uv(n,e){return n.useProto3Json||$p(e)?e:{value:e}}function fc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mz(n,e){return fc(n,e.toTimestamp())}function Wn(n){return Ve(!!n,49232),Fe.fromTimestamp((function(t){const r=Io(t);return new _t(r.seconds,r.nanos)})(n))}function q_(n,e){return dv(n,e).canonicalString()}function dv(n,e){const t=(function(s){return new yt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function pP(n){const e=yt.fromString(n);return Ve(xP(e),10190,{key:e.toString()}),e}function np(n,e){return q_(n.databaseId,e.path)}function wa(n,e){const t=pP(e);if(t.get(1)!==n.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(yP(t))}function mP(n,e){return q_(n.databaseId,e)}function gP(n){const e=pP(n);return e.length===4?yt.emptyPath():yP(e)}function hv(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yP(n){return Ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Wx(n,e,t){return{name:np(n,e),fields:t.value.mapValue.fields}}function gz(n,e,t){const r=wa(n,e.name),s=Wn(e.updateTime),i=e.createTime?Wn(e.createTime):Fe.min(),l=new jn({mapValue:{fields:e.fields}}),u=Bt.newFoundDocument(r,s,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function yz(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(p,g){return p.useProto3Json?(Ve(g===void 0||typeof g=="string",58123),nn.fromBase64String(g||"")):(Ve(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),nn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const g=p.code===void 0?re.UNKNOWN:uP(p.code);return new we(g,p.message||"")})(l);t=new hP(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=wa(n,r.document.name),i=Wn(r.document.updateTime),l=r.document.createTime?Wn(r.document.createTime):Fe.min(),u=new jn({mapValue:{fields:r.document.fields}}),h=Bt.newFoundDocument(s,i,l,u),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Cf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=wa(n,r.document),i=r.readTime?Wn(r.readTime):Fe.min(),l=Bt.newNoDocument(s,i),u=r.removedTargetIds||[];t=new Cf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=wa(n,r.document),i=r.removedTargetIds||[];t=new Cf([],i,s,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new iz(s,i),u=r.targetId;t=new dP(u,l)}}return t}function rp(n,e){let t;if(e instanceof Sc)t={update:Wx(n,e.key,e.value)};else if(e instanceof Id)t={delete:np(n,e.key)};else if(e instanceof Ao)t={update:Wx(n,e.key,e.data),updateMask:xz(e.fieldMask)};else{if(!(e instanceof cP))return De(16599,{Vt:e.type});t={verify:np(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,l){const u=l.transform;if(u instanceof sd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof dc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof hc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof od)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw De(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:mz(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:De(27497)})(n,e.precondition)),t}function fv(n,e){const t=e.currentDocument?(function(i){return i.updateTime!==void 0?vn.updateTime(Wn(i.updateTime)):i.exists!==void 0?vn.exists(i.exists):vn.none()})(e.currentDocument):vn.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(l,u){let h=null;if("setToServerValue"in u)Ve(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),h=new sd;else if("appendMissingElements"in u){const g=u.appendMissingElements.values||[];h=new dc(g)}else if("removeAllFromArray"in u){const g=u.removeAllFromArray.values||[];h=new hc(g)}else"increment"in u?h=new od(l,u.increment):De(16584,{proto:u});const p=Ft.fromServerFormat(u.fieldPath);return new tz(p,h)})(n,s))):[];if(e.update){e.update.name;const s=wa(n,e.update.name),i=new jn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const p=h.fieldPaths||[];return new or(p.map((g=>Ft.fromServerFormat(g))))})(e.updateMask);return new Ao(s,i,l,t,r)}return new Sc(s,i,t,r)}if(e.delete){const s=wa(n,e.delete);return new Id(s,t)}if(e.verify){const s=wa(n,e.verify);return new cP(s,t)}return De(1463,{proto:e})}function vz(n,e){return n&&n.length>0?(Ve(e!==void 0,14353),n.map((t=>(function(s,i){let l=s.updateTime?Wn(s.updateTime):Wn(i);return l.isEqual(Fe.min())&&(l=Wn(i)),new rz(l,s.transformResults||[])})(t,e)))):[]}function vP(n,e){return{documents:[mP(n,e.path)]}}function _P(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=mP(n,s);const i=(function(p){if(p.length!==0)return bP(bt.create(p,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const l=(function(p){if(p.length!==0)return p.map((g=>(function(E){return{field:zl(E.field),direction:wz(E.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=uv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function wP(n){let e=gP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let i=[];t.where&&(i=(function(m){const E=EP(m);return E instanceof bt&&j_(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(m){return m.map((E=>(function(k){return new Jf(Ul(k.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(E)))})(t.orderBy));let u=null;t.limit&&(u=(function(m){let E;return E=typeof m=="object"?m.value:m,$p(E)?null:E})(t.limit));let h=null;t.startAt&&(h=(function(m){const E=!!m.before,I=m.values||[];return new cc(I,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(m){const E=!m.before,I=m.values||[];return new cc(I,E)})(t.endAt)),$6(e,s,l,i,u,"F",h,p)}function _z(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function EP(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ul(t.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ul(t.unaryFilter.field);return ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ul(t.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ul(t.unaryFilter.field);return ct.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ct.create(Ul(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return bt.create(t.compositeFilter.filters.map((r=>EP(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(t.compositeFilter.op))})(n):De(30097,{filter:n})}function wz(n){return dz[n]}function Ez(n){return hz[n]}function bz(n){return fz[n]}function zl(n){return{fieldPath:n.canonicalString()}}function Ul(n){return Ft.fromServerFormat(n.fieldPath)}function bP(n){return n instanceof ct?(function(t){if(t.op==="=="){if(Rx(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NAN"}};if(Px(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Rx(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NOT_NAN"}};if(Px(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(t.field),op:Ez(t.op),value:t.value}}})(n):n instanceof bt?(function(t){const r=t.getFilters().map((s=>bP(s)));return r.length===1?r[0]:{compositeFilter:{op:bz(t.op),filters:r}}})(n):De(54877,{filter:n})}function xz(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function xP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,t,r,s,i=Fe.min(),l=Fe.min(),u=nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.yt=e}}function Iz(n,e){let t;if(e.document)t=gz(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ee.fromSegments(e.noDocument.path),s=Oa(e.noDocument.readTime);t=Bt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return De(56709);{const r=Ee.fromSegments(e.unknownDocument.path),s=Oa(e.unknownDocument.version);t=Bt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const i=new _t(s[0],s[1]);return Fe.fromTimestamp(i)})(e.readTime)),t}function Gx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:sp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,l){return{name:np(i,l.key),fields:l.data.value.mapValue.fields,updateTime:fc(i,l.version.toTimestamp()),createTime:fc(i,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Da(e.version)};else{if(!e.isUnknownDocument())return De(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Da(e.version)}}return r}function sp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Da(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Oa(n){const e=new _t(n.seconds,n.nanoseconds);return Fe.fromTimestamp(e)}function da(n,e){const t=(e.baseMutations||[]).map((i=>fv(n.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const l=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>fv(n.yt,i))),s=_t.fromMillis(e.localWriteTimeMs);return new z_(e.batchId,s,t,r)}function Au(n){const e=Oa(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Oa(n.lastLimboFreeSnapshotVersion):Fe.min();let r;return r=(function(i){return i.documents!==void 0})(n.query)?(function(i){const l=i.documents.length;return Ve(l===1,1966,{count:l}),zr(bd(gP(i.documents[0])))})(n.query):(function(i){return zr(wP(i))})(n.query),new vo(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,nn.fromBase64String(n.resumeToken))}function SP(n,e){const t=Da(e.snapshotVersion),r=Da(e.lastLimboFreeSnapshotVersion);let s;s=ep(e.target)?vP(n.yt,e.target):_P(n.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Na(e.target),readTime:t,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function TP(n){const e=wP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cv(e,e.limit,"L"):e}function py(n,e){return new $_(e.largestBatchId,fv(n.yt,e.overlayMutation))}function Kx(n,e){const t=e.path.lastSegment();return[n,Fn(e.path.popLast()),t]}function Zx(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Da(r.readTime),documentKey:Fn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{getBundleMetadata(e,t){return Qx(e).get(t).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:Oa(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,t){return Qx(e).put((function(s){return{bundleId:s.id,createTime:Da(Wn(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return Yx(e).get(t).next((r=>{if(r)return(function(i){return{name:i.name,query:TP(i.bundledQuery),readTime:Oa(i.readTime)}})(r)}))}saveNamedQuery(e,t){return Yx(e).put((function(s){return{name:s.name,readTime:Da(Wn(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function Qx(n){return un(n,Bp)}function Yx(n){return un(n,qp)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new Jp(e,r)}getOverlay(e,t){return gu(e).get(Kx(this.userId,t)).next((r=>r?py(this.serializer,r):null))}getOverlays(e,t){const r=Ls();return Z.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((i,l)=>{const u=new $_(t,l);s.push(this.St(e,u))})),Z.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((l=>s.add(Fn(l.getCollectionPath()))));const i=[];return s.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);i.push(gu(e).Z(nv,u))})),Z.waitFor(i)}getOverlaysForCollection(e,t,r){const s=Ls(),i=Fn(t),l=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return gu(e).J(nv,l).next((u=>{for(const h of u){const p=py(this.serializer,h);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const i=Ls();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gu(e).ee({index:PA,range:u},((h,p,g)=>{const m=py(this.serializer,p);i.size()<s||m.largestBatchId===l?(i.set(m.getKey(),m),l=m.largestBatchId):g.done()})).next((()=>i))}St(e,t){return gu(e).put((function(s,i,l){const[u,h,p]=Kx(i,l.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:rp(s.yt,l.mutation)}})(this.serializer,this.userId,t))}}function gu(n){return un(n,Hp)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{bt(e){return un(e,N_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?nn.fromUint8Array(r):nn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Dt(e.integerValue));else if("doubleValue"in e){const r=Dt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Yu(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Io(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(So(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?UA(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Gp(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):De(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=ac,i=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Dt(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),Ee.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ha.Kt=new ha;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=255;function Cz(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function Xx(n){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const l=Cz(255&r[i]);if(s+=l,l!==8)break}return s})(n);return Math.ceil(e/8)}class Az{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),r=Xx(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=Xx(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(Dl),this.sn(255)}_n(){this.an(Dl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Dl?(this.sn(Dl),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Dl?(this.an(Dl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class Pz{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Rz{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class yu{constructor(){this.cn=new Az,this.ln=new Pz(this.cn),this.hn=new Rz(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t,r,s){this.Tn=e,this.In=t,this.En=r,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new fa(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:Af(this.En),directionalValue:Af(this.dn),orderedDocumentKey:Af(t),documentKey:r.path.toArray()}}Vn(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ii(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=Jx(n.En,e.En),t!==0?t:(t=Jx(n.dn,e.dn),t!==0?t:Ee.comparator(n.In,e.In)))}function Jx(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Af(n){return SC()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function eI(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class tI{constructor(e){this.mn=new wt(((t,r)=>Ft.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ve(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Jy(e);if(t!==void 0&&!this.wn(t))return!1;const r=la(e);let s=new Set,i=0,l=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=r[i];if(!this.Sn(u,h)||!this.bn(this.fn[l++],h))return!1}++i}for(;i<r.length;++i){const u=r[i];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new wt(Ft.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new wf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new wf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new wf(r.field,r.dir==="asc"?0:1)));return new Kf(Kf.UNKNOWN_ID,this.collectionId,t,Qu.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(n){if(Ve(n instanceof ct||n instanceof bt,20012),n instanceof ct){if(n instanceof QA){const t=n.value.arrayValue?.values?.map((r=>ct.create(n.field,"==",r)))||[];return bt.create(t,"or")}return n}const e=n.filters.map((t=>CP(t)));return bt.create(e,n.op)}function kz(n){if(n.getFilters().length===0)return[];const e=gv(CP(n));return Ve(AP(e),7391),pv(e)||mv(e)?[e]:e.getFilters()}function pv(n){return n instanceof ct}function mv(n){return n instanceof bt&&j_(n)}function AP(n){return pv(n)||mv(n)||(function(t){if(t instanceof bt&&iv(t)){for(const r of t.getFilters())if(!pv(r)&&!mv(r))return!1;return!0}return!1})(n)}function gv(n){if(Ve(n instanceof ct||n instanceof bt,34018),n instanceof ct)return n;if(n.filters.length===1)return gv(n.filters[0]);const e=n.filters.map((r=>gv(r)));let t=bt.create(e,n.op);return t=op(t),AP(t)?t:(Ve(t instanceof bt,64498),Ve(uc(t),40251),Ve(t.filters.length>1,57927),t.filters.reduce(((r,s)=>H_(r,s))))}function H_(n,e){let t;return Ve(n instanceof ct||n instanceof bt,38388),Ve(e instanceof ct||e instanceof bt,25473),t=n instanceof ct?e instanceof ct?(function(s,i){return bt.create([s,i],"and")})(n,e):nI(n,e):e instanceof ct?nI(e,n):(function(s,i){if(Ve(s.filters.length>0&&i.filters.length>0,48005),uc(s)&&uc(i))return GA(s,i.getFilters());const l=iv(s)?s:i,u=iv(s)?i:s,h=l.filters.map((p=>H_(p,u)));return bt.create(h,"or")})(n,e),op(t)}function nI(n,e){if(uc(e))return GA(e,n.getFilters());{const t=e.filters.map((r=>H_(n,r)));return bt.create(t,"or")}}function op(n){if(Ve(n instanceof ct||n instanceof bt,11850),n instanceof ct)return n;const e=n.getFilters();if(e.length===1)return op(e[0]);if(HA(n))return n;const t=e.map((s=>op(s))),r=[];return t.forEach((s=>{s instanceof ct?r.push(s):s instanceof bt&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:bt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.Cn=new W_}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Ir.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class W_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new wt(yt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="IndexedDbIndexManager",tf=new Uint8Array(0);class Dz{constructor(e,t){this.databaseId=t,this.vn=new W_,this.Fn=new Co((r=>Na(r)),((r,s)=>Ed(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const i={collectionId:r,parent:Fn(s)};return sI(e).put(i)}return Z.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[yA(t),""],!1,!0);return sI(e).J(s).next((i=>{for(const l of i){if(l.collectionId!==t)break;r.push(Vs(l.parent))}return r}))}addFieldIndex(e,t){const r=vu(e),s=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete s.indexId;const i=r.add(s);if(t.indexState){const l=Ml(e);return i.next((u=>{l.put(Zx(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const r=vu(e),s=Ml(e),i=Ol(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=vu(e),r=Ol(e),s=Ml(e);return t.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return Z.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new tI(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,t){const r=Ol(e);let s=!0;const i=new Map;return Z.forEach(this.Mn(t),(l=>this.xn(e,l).next((u=>{s&&(s=!!u),i.set(l,u)})))).next((()=>{if(s){let l=et();const u=[];return Z.forEach(i,((h,p)=>{de(rI,`Using index ${(function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map((H=>`${H.fieldPath}:${H.kind}`)).join(",")}`})(h)} to execute ${Na(t)}`);const g=(function(U,H){const B=Jy(H);if(B===void 0)return null;for(const W of tp(U,B.fieldPath))switch(W.op){case"array-contains-any":return W.value.arrayValue.values||[];case"array-contains":return[W.value]}return null})(p,h),m=(function(U,H){const B=new Map;for(const W of la(H))for(const C of tp(U,W.fieldPath))switch(C.op){case"==":case"in":B.set(W.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return B.set(W.fieldPath.canonicalString(),C.value),Array.from(B.values())}return null})(p,h),E=(function(U,H){const B=[];let W=!0;for(const C of la(H)){const S=C.kind===0?Mx(U,C.fieldPath,U.startAt):Vx(U,C.fieldPath,U.startAt);B.push(S.value),W&&(W=S.inclusive)}return new cc(B,W)})(p,h),I=(function(U,H){const B=[];let W=!0;for(const C of la(H)){const S=C.kind===0?Vx(U,C.fieldPath,U.endAt):Mx(U,C.fieldPath,U.endAt);B.push(S.value),W&&(W=S.inclusive)}return new cc(B,W)})(p,h),k=this.On(h,p,E),A=this.On(h,p,I),R=this.Nn(h,p,m),V=this.Bn(h.indexId,g,k,E.inclusive,A,I.inclusive,R);return Z.forEach(V,(z=>r.Y(z,t.limit).next((U=>{U.forEach((H=>{const B=Ee.fromSegments(H.documentKey);l.has(B)||(l=l.add(B),u.push(B))}))}))))})).next((()=>u))}return Z.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=kz(bt.create(e.filters,"and")).map((r=>lv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,s,i,l,u){const h=(t!=null?t.length:1)*Math.max(r.length,i.length),p=h/(t!=null?t.length:1),g=[];for(let m=0;m<h;++m){const E=t?this.Ln(t[m/p]):tf,I=this.kn(e,E,r[m%p],s),k=this.qn(e,E,i[m%p],l),A=u.map((R=>this.kn(e,E,R,!0)));g.push(...this.createRange(I,k,A))}return g}kn(e,t,r,s){const i=new fa(e,Ee.empty(),t,r);return s?i:i.An()}qn(e,t,r,s){const i=new fa(e,Ee.empty(),t,r);return s?i.An():i}xn(e,t){const r=new tI(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let l=null;for(const u of i)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,t){let r=2;const s=this.Mn(t);return Z.forEach(s,(i=>this.xn(e,i).next((l=>{l?r!==0&&l.fields.length<(function(h){let p=new wt(Ft.comparator),g=!1;for(const m of h.filters)for(const E of m.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?g=!0:p=p.add(E.field));for(const m of h.orderBy)m.field.isKeyField()||(p=p.add(m.field));return p.size+(g?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&s.length>1&&r===2?1:r))}Qn(e,t){const r=new yu;for(const s of la(e)){const i=t.data.field(s.fieldPath);if(i==null)return null;const l=r.Pn(s.kind);ha.Kt.Dt(i,l)}return r.un()}Ln(e){const t=new yu;return ha.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new yu;return ha.Kt.Dt(L_(this.databaseId,t),r.Pn((function(i){const l=la(i);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let s=[];s.push(new yu);let i=0;for(const l of la(e)){const u=r[i++];for(const h of s)if(this.Un(t,l.fieldPath)&&rd(u))s=this.Kn(s,l,u);else{const p=h.Pn(l.kind);ha.Kt.Dt(u,p)}}return this.Wn(s)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const s=[...e],i=[];for(const l of r.arrayValue.values||[])for(const u of s){const h=new yu;h.seed(u.un()),ha.Kt.Dt(l,h.Pn(t.kind)),i.push(h)}return i}Un(e,t){return!!e.filters.find((r=>r instanceof ct&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=vu(e),s=Ml(e);return(t?r.J(tv,IDBKeyRange.bound(t,t)):r.J()).next((i=>{const l=[];return Z.forEach(i,(u=>s.get([u.indexId,this.uid]).next((h=>{l.push((function(g,m){const E=m?new Qu(m.sequenceNumber,new Ir(Oa(m.readTime),new Ee(Vs(m.documentKey)),m.largestBatchId)):Qu.empty(),I=g.fields.map((([k,A])=>new wf(Ft.fromServerFormat(k),A)));return new Kf(g.indexId,g.collectionGroup,I,E)})(u,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ke(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=vu(e),i=Ml(e);return this.Gn(e).next((l=>s.J(tv,IDBKeyRange.bound(t,t)).next((u=>Z.forEach(u,(h=>i.put(Zx(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return Z.forEach(t,((s,i)=>{const l=r.get(s.collectionGroup);return(l?Z.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Z.forEach(u,(h=>this.zn(e,s,h).next((p=>{const g=this.jn(i,h);return p.isEqual(g)?Z.resolve():this.Jn(e,i,h,p,g)})))))))}))}Hn(e,t,r,s){return Ol(e).put(s.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,s){return Ol(e).delete(s.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const s=Ol(e);let i=new wt(ii);return s.ee({index:AA,range:IDBKeyRange.only([r.indexId,this.uid,Af(this.$n(r,t))])},((l,u)=>{i=i.add(new fa(r.indexId,t,eI(u.arrayValue),eI(u.directionalValue)))})).next((()=>i))}jn(e,t){let r=new wt(ii);const s=this.Qn(t,e);if(s==null)return r;const i=Jy(t);if(i!=null){const l=e.data.field(i.fieldPath);if(rd(l))for(const u of l.arrayValue.values||[])r=r.add(new fa(t.indexId,e.key,this.Ln(u),s))}else r=r.add(new fa(t.indexId,e.key,tf,s));return r}Jn(e,t,r,s,i){de(rI,"Updating index entries for document '%s'",t.key);const l=[];return(function(h,p,g,m,E){const I=h.getIterator(),k=p.getIterator();let A=Nl(I),R=Nl(k);for(;A||R;){let V=!1,z=!1;if(A&&R){const U=g(A,R);U<0?z=!0:U>0&&(V=!0)}else A!=null?z=!0:V=!0;V?(m(R),R=Nl(k)):z?(E(A),A=Nl(I)):(A=Nl(I),R=Nl(k))}})(s,i,ii,(u=>{l.push(this.Hn(e,t,r,u))}),(u=>{l.push(this.Yn(e,t,r,u))})),Z.waitFor(l)}Gn(e){let t=1;return Ml(e).ee({index:CA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,u)=>ii(l,u))).filter(((l,u,h)=>!u||ii(l,h[u-1])!==0));const s=[];s.push(e);for(const l of r){const u=ii(l,e),h=ii(l,t);if(u===0)s[0]=e.An();else if(u>0&&h<0)s.push(l),s.push(l.An());else if(h>0)break}s.push(t);const i=[];for(let l=0;l<s.length;l+=2){if(this.Zn(s[l],s[l+1]))return[];const u=s[l].Vn(this.uid,tf,Ee.empty()),h=s[l+1].Vn(this.uid,tf,Ee.empty());i.push(IDBKeyRange.bound(u,h))}return i}Zn(e,t){return ii(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(oI)}getMinOffset(e,t){return Z.mapArray(this.Mn(t),(r=>this.xn(e,r).next((s=>s||De(44426))))).next(oI)}}function sI(n){return un(n,ed)}function Ol(n){return un(n,Mu)}function vu(n){return un(n,k_)}function Ml(n){return un(n,Ou)}function oI(n){Ve(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;A_(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Ir(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PP=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n,e,t){const r=n.store(rs),s=n.store(rc),i=[],l=IDBKeyRange.only(t.batchId);let u=0;const h=r.ee({range:l},((g,m,E)=>(u++,E.delete())));i.push(h.next((()=>{Ve(u===1,47070,{batchId:t.batchId})})));const p=[];for(const g of t.mutations){const m=IA(e,g.key.path,t.batchId);i.push(s.delete(m)),p.push(g.key)}return Z.waitFor(i).next((()=>p))}function ip(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw De(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(PP,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class em{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,t,r,s){Ve(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new em(i,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ai(e).ee({index:ma,range:r},((s,i,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const i=$l(e),l=ai(e);return l.add({}).next((u=>{Ve(typeof u=="number",49019);const h=new z_(u,t,r,s),p=(function(I,k,A){const R=A.baseMutations.map((z=>rp(I.yt,z))),V=A.mutations.map((z=>rp(I.yt,z)));return{userId:k,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:R,mutations:V}})(this.serializer,this.userId,h),g=[];let m=new wt(((E,I)=>Ke(E.canonicalString(),I.canonicalString())));for(const E of s){const I=IA(this.userId,E.key.path,u);m=m.add(E.key.path.popLast()),g.push(l.put(p)),g.push(i.put(I,i6))}return m.forEach((E=>{g.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),Z.waitFor(g).next((()=>h))}))}lookupMutationBatch(e,t){return ai(e).get(t).next((r=>r?(Ve(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),da(this.serializer,r)):null))}er(e,t){return this.Xn[t]?Z.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return ai(e).ee({index:ma,range:s},((l,u,h)=>{u.userId===this.userId&&(Ve(u.batchId>=r,47524,{tr:r}),i=da(this.serializer,u)),h.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=va;return ai(e).ee({index:ma,range:t,reverse:!0},((s,i,l)=>{r=i.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,va],[this.userId,Number.POSITIVE_INFINITY]);return ai(e).J(ma,t).next((r=>r.map((s=>da(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ef(this.userId,t.path),s=IDBKeyRange.lowerBound(r),i=[];return $l(e).ee({range:s},((l,u,h)=>{const[p,g,m]=l,E=Vs(g);if(p===this.userId&&t.path.isEqual(E))return ai(e).get(m).next((I=>{if(!I)throw De(61480,{nr:l,batchId:m});Ve(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:m}),i.push(da(this.serializer,I))}));h.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ke);const s=[];return t.forEach((i=>{const l=Ef(this.userId,i.path),u=IDBKeyRange.lowerBound(l),h=$l(e).ee({range:u},((p,g,m)=>{const[E,I,k]=p,A=Vs(I);E===this.userId&&i.path.isEqual(A)?r=r.add(k):m.done()}));s.push(h)})),Z.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,i=Ef(this.userId,r),l=IDBKeyRange.lowerBound(i);let u=new wt(Ke);return $l(e).ee({range:l},((h,p,g)=>{const[m,E,I]=h,k=Vs(E);m===this.userId&&r.isPrefixOf(k)?k.length===s&&(u=u.add(I)):g.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],s=[];return t.forEach((i=>{s.push(ai(e).get(i).next((l=>{if(l===null)throw De(35274,{batchId:i});Ve(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:i}),r.push(da(this.serializer,l))})))})),Z.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return RP(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Z.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Z.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return $l(e).ee({range:r},((i,l,u)=>{if(i[0]===this.userId){const h=Vs(i[1]);s.push(h)}else u.done()})).next((()=>{Ve(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,t){return kP(e,this.userId,t)}_r(e){return NP(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:va,lastStreamToken:""}))}}function kP(n,e,t){const r=Ef(e,t.path),s=r[1],i=IDBKeyRange.lowerBound(r);let l=!1;return $l(n).ee({range:i,X:!0},((u,h,p)=>{const[g,m,E]=u;g===e&&m===s&&(l=!0),p.done()})).next((()=>l))}function ai(n){return un(n,rs)}function $l(n){return un(n,rc)}function NP(n){return un(n,Xu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ma(0)}static cr(){return new Ma(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Ma(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Fe.fromTimestamp(new _t(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Vl(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Ve(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let s=0;const i=[];return Vl(e).ee(((l,u)=>{const h=Au(u);h.sequenceNumber<=t&&r.get(h.targetId)===null&&(s++,i.push(this.removeTargetData(e,h)))})).next((()=>Z.waitFor(i))).next((()=>s))}forEachTarget(e,t){return Vl(e).ee(((r,s)=>{const i=Au(s);t(i)}))}lr(e){return aI(e).get(Yf).next((t=>(Ve(t!==null,2888),t)))}hr(e,t){return aI(e).put(Yf,t)}Pr(e,t){return Vl(e).put(SP(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Na(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Vl(e).ee({range:s,index:TA},((l,u,h)=>{const p=Au(u);Ed(t,p.target)&&(i=p,h.done())})).next((()=>i))}addMatchingKeys(e,t,r){const s=[],i=pi(e);return t.forEach((l=>{const u=Fn(l.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,l))})),Z.waitFor(s)}removeMatchingKeys(e,t,r){const s=pi(e);return Z.forEach(t,(i=>{const l=Fn(i.path);return Z.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,t){const r=pi(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=pi(e);let i=et();return s.ee({range:r,X:!0},((l,u,h)=>{const p=Vs(l[1]),g=new Ee(p);i=i.add(g)})).next((()=>i))}containsKey(e,t){const r=Fn(t.path),s=IDBKeyRange.bound([r],[yA(r)],!1,!0);let i=0;return pi(e).ee({index:R_,X:!0,range:s},(([l,u],h,p)=>{l!==0&&(i++,p.done())})).next((()=>i>0))}At(e,t){return Vl(e).get(t).next((r=>r?Au(r):null))}}function Vl(n){return un(n,sc)}function aI(n){return un(n,_a)}function pi(n){return un(n,oc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="LruGarbageCollector",Mz=1048576;function cI([n,e],[t,r]){const s=Ke(n,t);return s===0?Ke(e,r):s}class Vz{constructor(e){this.Ir=e,this.buffer=new wt(cI),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();cI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(lI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ri(t)?de(lI,"Ignoring IndexedDB error during garbage collection: ",t):await Ua(t)}await this.Vr(3e5)}))}}class Lz{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(jr.ce);const r=new Vz(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(iI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iI):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,l,u,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,l=Date.now(),this.nthSequenceNumber(e,s)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,t)))).next((m=>(i=m,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(p=Date.now(),jl()<=it.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${i} targets in `+(h-u)+`ms
	Removed ${m} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m}))))}}function OP(n,e){return new Lz(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e,t){this.db=e,this.garbageCollector=OP(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,s)=>t(s)))}addReference(e,t,r){return nf(e,r)}removeReference(e,t,r){return nf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return nf(e,t)}br(e,t){return(function(s,i){let l=!1;return NP(s).te((u=>kP(s,u,i).next((h=>(h&&(l=!0),Z.resolve(!h)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((l,u)=>{if(u<=t){const h=this.br(e,l).next((p=>{if(!p)return i++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Fe.min()),pi(e).delete((function(m){return[0,Fn(m.path)]})(l)))))}));s.push(h)}})).next((()=>Z.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return nf(e,t)}Sr(e,t){const r=pi(e);let s,i=jr.ce;return r.ee({index:R_},(([l,u],{path:h,sequenceNumber:p})=>{l===0?(i!==jr.ce&&t(new Ee(Vs(s)),i),i=p,s=h):i=jr.ce})).next((()=>{i!==jr.ce&&t(new Ee(Vs(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nf(n,e){return pi(n).put((function(r,s){return{targetId:0,path:Fn(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.changes=new Co((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ia(e).put(r)}removeEntry(e,t,r){return ia(e).delete((function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],sp(l),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Bt.newInvalidDocument(t);return ia(e).ee({index:bf,range:IDBKeyRange.only(_u(t))},((s,i)=>{r=this.Cr(t,i)})).next((()=>r))}vr(e,t){let r={size:0,document:Bt.newInvalidDocument(t)};return ia(e).ee({index:bf,range:IDBKeyRange.only(_u(t))},((s,i)=>{r={document:this.Cr(t,i),size:ip(i)}})).next((()=>r))}getEntries(e,t){let r=br();return this.Fr(e,t,((s,i)=>{const l=this.Cr(s,i);r=r.insert(s,l)})).next((()=>r))}Mr(e,t){let r=br(),s=new Ot(Ee.comparator);return this.Fr(e,t,((i,l)=>{const u=this.Cr(i,l);r=r.insert(i,u),s=s.insert(i,ip(l))})).next((()=>({documents:r,Or:s})))}Fr(e,t,r){if(t.isEmpty())return Z.resolve();let s=new wt(hI);t.forEach((h=>s=s.add(h)));const i=IDBKeyRange.bound(_u(s.first()),_u(s.last())),l=s.getIterator();let u=l.getNext();return ia(e).ee({index:bf,range:i},((h,p,g)=>{const m=Ee.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&hI(u,m)<0;)r(u,null),u=l.getNext();u&&u.isEqual(m)&&(r(u,p),u=l.hasNext()?l.getNext():null),u?g.j(_u(u)):g.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,i){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),sp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ia(e).J(IDBKeyRange.bound(u,h,!0)).next((p=>{i?.incrementDocumentReadCount(p.length);let g=br();for(const m of p){const E=this.Cr(Ee.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);E.isFoundDocument()&&(xd(t,E)||s.has(E.key))&&(g=g.insert(E.key,E))}return g}))}getAllFromCollectionGroup(e,t,r,s){let i=br();const l=dI(t,r),u=dI(t,Ir.max());return ia(e).ee({index:SA,range:IDBKeyRange.bound(l,u,!0)},((h,p,g)=>{const m=this.Cr(Ee.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);i=i.insert(m.key,m),i.size===s&&g.done()})).next((()=>i))}newChangeBuffer(e){return new zz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return uI(e).get(ev).next((t=>(Ve(!!t,20021),t)))}Dr(e,t){return uI(e).put(ev,t)}Cr(e,t){if(t){const r=Iz(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Fe.min())))return r}return Bt.newInvalidDocument(e)}}function VP(n){return new Fz(n)}class zz extends MP{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Co((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new wt(((i,l)=>Ke(i.canonicalString(),l.canonicalString())));return this.changes.forEach(((i,l)=>{const u=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,u.readTime)),l.isValidDocument()){const h=Gx(this.Nr.serializer,l);s=s.add(i.path.popLast());const p=ip(h);r+=p-u.size,t.push(this.Nr.addEntry(e,i,h))}else if(r-=u.size,this.trackRemovals){const h=Gx(this.Nr.serializer,l.convertToNoDocument(Fe.min()));t.push(this.Nr.addEntry(e,i,h))}})),s.forEach((i=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),t.push(this.Nr.updateMetadata(e,r)),Z.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:s})=>(s.forEach(((i,l)=>{this.Br.set(i,{size:l,readTime:r.get(i).readTime})})),r)))}}function uI(n){return un(n,Ju)}function ia(n){return un(n,Qf)}function _u(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dI(n,e){const t=e.documentKey.path.toArray();return[n,sp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hI(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<t.length-2&&i<r.length-2;++i)if(s=Ke(t[i],r[i]),s)return s;return s=Ke(t.length,r.length),s||(s=Ke(t[t.length-2],r[r.length-2]),s||Ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Fu(r.mutation,s,or.empty(),_t.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=et()){const s=Ls();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let l=Tu();return i.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Ls();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,et())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,s){let i=br();const l=ju(),u=(function(){return ju()})();return t.forEach(((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Ao)?i=i.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Fu(g.mutation,p,g.mutation.getFieldMask(),_t.now())):l.set(p.key,or.empty())})),this.recalculateAndSaveOverlays(e,i).next((h=>(h.forEach(((p,g)=>l.set(p,g))),t.forEach(((p,g)=>u.set(p,new Uz(g,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=ju();let s=new Ot(((l,u)=>l-u)),i=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||or.empty();g=u.applyToLocalView(p,g),r.set(h,g);const m=(s.get(u.batchId)||et()).add(h);s=s.insert(u.batchId,m)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,g=h.value,m=tP();g.forEach((E=>{if(!i.has(E)){const I=aP(t.get(E),r.get(E));I!==null&&m.set(E,I),i=i.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,m))}return Z.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):B6(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):Z.resolve(Ls());let u=Zu,h=i;return l.next((p=>Z.forEach(p,((g,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),i.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{h=h.insert(g,E)}))))).next((()=>this.populateOverlays(e,p,i))).next((()=>this.computeViews(e,h,p,et()))).next((g=>({batchId:u,changes:eP(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let s=Tu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let l=Tu();return this.indexManager.getCollectionParents(e,i).next((u=>Z.forEach(u,(h=>{const p=(function(m,E){return new Kp(E,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((m,E)=>{l=l.insert(m,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((l=>{i.forEach(((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Bt.newInvalidDocument(g)))}));let u=Tu();return l.forEach(((h,p)=>{const g=i.get(h);g!==void 0&&Fu(g.mutation,p,or.empty(),_t.now()),xd(t,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Wn(s.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:TP(s.bundledQuery),readTime:Wn(s.readTime)}})(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(){this.overlays=new Ot(Ee.comparator),this.qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ls();return Z.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.St(e,t,i)})),Z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const s=Ls(),i=t.length+1,l=new Ee(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Ot(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=i.get(p.largestBatchId);g===null&&(g=Ls(),i=i.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=Ls(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>u.set(p,g))),!(u.size()>=s)););return Z.resolve(u)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new $_(t,r));let i=this.qr.get(t);i===void 0&&(i=et(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.Qr=new wt(yn.$r),this.Ur=new wt(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new yn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new yn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ee(new yt([])),r=new yn(t,e),s=new yn(t,e+1),i=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),i.push(l.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new yt([])),r=new yn(t,e),s=new yn(t,e+1);let i=et();return this.Ur.forEachInRange([r,s],(l=>{i=i.add(l.key)})),i}containsKey(e){const t=new yn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||Ke(e.Yr,t.Yr)}static Kr(e,t){return Ke(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new wt(yn.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new z_(i,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new yn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return Z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?va:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yn(t,0),s=new yn(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);i.push(u)})),Z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Ke);return t.forEach((s=>{const i=new yn(s,0),l=new yn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],(u=>{r=r.add(u.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;Ee.isDocumentKey(i)||(i=i.child(""));const l=new yn(new Ee(i),0);let u=new wt(Ke);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Yr)),!0)}),l),Z.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ve(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(t.mutations,(s=>{const i=new yn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new yn(t,0),s=this.Zr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let r=br();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bt.newInvalidDocument(s))})),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=br();const l=t.path,u=new Ee(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||A_(wA(g),r)<=0||(s.has(g.key)||xd(t,g))&&(i=i.insert(g.key,g.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,t,r,s){De(9500)}ii(e,t){return Z.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new Gz(this)}getSize(e){return Z.resolve(this.size)}}class Gz extends MP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e){this.persistence=e,this.si=new Co((t=>Na(t)),Ed),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new G_,this.targetCount=0,this.ai=Ma.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ma(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Pr(t),Z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Z.waitFor(i).next((()=>s))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((l=>{i.push(s.markPotentiallyOrphaned(e,l))})),Z.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.ui={},this.overlays={},this.ci=new jr(0),this.li=!1,this.li=!0,this.hi=new qz,this.referenceDelegate=e(this),this.Pi=new Kz(this),this.indexManager=new Nz,this.remoteDocumentCache=(function(s){return new Wz(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new IP(t),this.Ii=new $z(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Hz(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const s=new Zz(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,t){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class Zz extends bA{constructor(e){super(),this.currentSequenceNumber=e}}class tm{constructor(e){this.persistence=e,this.Ri=new G_,this.Vi=null}static mi(e){return new tm(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const s=Ee.fromPath(r);return this.gi(e,s).next((i=>{i||t.removeEntry(s,Fe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Z.or([()=>Z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ap{constructor(e,t){this.persistence=e,this.pi=new Co((r=>Fn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=OP(this,t)}static mi(e,t){return new ap(e,t)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Z.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Z.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,i.removeEntry(l,Fe.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=If(e.data.value)),t}br(e,t,r){return Z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e){this.serializer=e}k(e,t,r,s){const i=new Up("createOrUpgrade",t);r<1&&s>=1&&((function(h){h.createObjectStore(wd)})(e),(function(h){h.createObjectStore(Xu,{keyPath:o6}),h.createObjectStore(rs,{keyPath:xx,autoIncrement:!0}).createIndex(ma,Ix,{unique:!0}),h.createObjectStore(rc)})(e),fI(e),(function(h){h.createObjectStore(ca)})(e));let l=Z.resolve();return r<3&&s>=3&&(r!==0&&((function(h){h.deleteObjectStore(oc),h.deleteObjectStore(sc),h.deleteObjectStore(_a)})(e),fI(e)),l=l.next((()=>(function(h){const p=h.store(_a),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fe.min().toTimestamp(),targetCount:0};return p.put(Yf,g)})(i)))),r<4&&s>=4&&(r!==0&&(l=l.next((()=>(function(h,p){return p.store(rs).J().next((m=>{h.deleteObjectStore(rs),h.createObjectStore(rs,{keyPath:xx,autoIncrement:!0}).createIndex(ma,Ix,{unique:!0});const E=p.store(rs),I=m.map((k=>E.put(k)));return Z.waitFor(I)}))})(e,i)))),l=l.next((()=>{(function(h){h.createObjectStore(ic,{keyPath:p6})})(e)}))),r<5&&s>=5&&(l=l.next((()=>this.yi(i)))),r<6&&s>=6&&(l=l.next((()=>((function(h){h.createObjectStore(Ju)})(e),this.wi(i))))),r<7&&s>=7&&(l=l.next((()=>this.Si(i)))),r<8&&s>=8&&(l=l.next((()=>this.bi(e,i)))),r<9&&s>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(l=l.next((()=>this.Di(i)))),r<11&&s>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(Bp,{keyPath:m6})})(e),(function(h){h.createObjectStore(qp,{keyPath:g6})})(e)}))),r<12&&s>=12&&(l=l.next((()=>{(function(h){const p=h.createObjectStore(Hp,{keyPath:x6});p.createIndex(nv,I6,{unique:!1}),p.createIndex(PA,S6,{unique:!1})})(e)}))),r<13&&s>=13&&(l=l.next((()=>(function(h){const p=h.createObjectStore(Qf,{keyPath:a6});p.createIndex(bf,l6),p.createIndex(SA,c6)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(ca)))),r<14&&s>=14&&(l=l.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(l=l.next((()=>(function(h){h.createObjectStore(k_,{keyPath:y6,autoIncrement:!0}).createIndex(tv,v6,{unique:!1}),h.createObjectStore(Ou,{keyPath:_6}).createIndex(CA,w6,{unique:!1}),h.createObjectStore(Mu,{keyPath:E6}).createIndex(AA,b6,{unique:!1})})(e)))),r<16&&s>=16&&(l=l.next((()=>{t.objectStore(Ou).clear()})).next((()=>{t.objectStore(Mu).clear()}))),r<17&&s>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(N_,{keyPath:T6})})(e)}))),r<18&&s>=18&&SC()&&(l=l.next((()=>{t.objectStore(Ou).clear()})).next((()=>{t.objectStore(Mu).clear()}))),l}wi(e){let t=0;return e.store(ca).ee(((r,s)=>{t+=ip(s)})).next((()=>{const r={byteSize:t};return e.store(Ju).put(ev,r)}))}yi(e){const t=e.store(Xu),r=e.store(rs);return t.J().next((s=>Z.forEach(s,(i=>{const l=IDBKeyRange.bound([i.userId,va],[i.userId,i.lastAcknowledgedBatchId]);return r.J(ma,l).next((u=>Z.forEach(u,(h=>{Ve(h.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const p=da(this.serializer,h);return RP(e,i.userId,p).next((()=>{}))}))))}))))}Si(e){const t=e.store(oc),r=e.store(ca);return e.store(_a).get(Yf).next((s=>{const i=[];return r.ee(((l,u)=>{const h=new yt(l),p=(function(m){return[0,Fn(m)]})(h);i.push(t.get(p).next((g=>g?Z.resolve():(m=>t.put({targetId:0,path:Fn(m),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>Z.waitFor(i)))}))}bi(e,t){e.createObjectStore(ed,{keyPath:f6});const r=t.store(ed),s=new W_,i=l=>{if(s.add(l)){const u=l.lastSegment(),h=l.popLast();return r.put({collectionId:u,parent:Fn(h)})}};return t.store(ca).ee({X:!0},((l,u)=>{const h=new yt(l);return i(h.popLast())})).next((()=>t.store(rc).ee({X:!0},(([l,u,h],p)=>{const g=Vs(u);return i(g.popLast())}))))}Di(e){const t=e.store(sc);return t.ee(((r,s)=>{const i=Au(s),l=SP(this.serializer,i);return t.put(l)}))}Ci(e,t){const r=t.store(ca),s=[];return r.ee(((i,l)=>{const u=t.store(Qf),h=(function(m){return m.document?new Ee(yt.fromString(m.document.name).popFirst(5)):m.noDocument?Ee.fromSegments(m.noDocument.path):m.unknownDocument?Ee.fromSegments(m.unknownDocument.path):De(36783)})(l).path.toArray(),p={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(u.put(p))})).next((()=>Z.waitFor(s)))}Fi(e,t){const r=t.store(rs),s=VP(this.serializer),i=new K_(tm.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((h=>{let p=u.get(h.userId)??et();da(this.serializer,h).keys().forEach((g=>p=p.add(g))),u.set(h.userId,p)})),Z.forEach(u,((h,p)=>{const g=new Sn(p),m=Jp.wt(this.serializer,g),E=i.getIndexManager(g),I=em.wt(g,this.serializer,E,i.referenceDelegate);return new LP(s,I,m,E).recalculateAndSaveOverlaysForDocumentKeys(new rv(t,jr.ce),h).next()}))}))}}function fI(n){n.createObjectStore(oc,{keyPath:d6}).createIndex(R_,h6,{unique:!0}),n.createObjectStore(sc,{keyPath:"targetId"}).createIndex(TA,u6,{unique:!0}),n.createObjectStore(_a)}const li="IndexedDbPersistence",my=18e5,gy=5e3,yy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Yz="main";class Z_{constructor(e,t,r,s,i,l,u,h,p,g,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=i,this.window=l,this.document=u,this.xi=p,this.Oi=g,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!Z_.v())throw new we(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jz(this,s),this.$i=t+Yz,this.serializer=new IP(h),this.Ui=new Ei(this.$i,this.Ni,new Qz(this.serializer)),this.hi=new Tz,this.Pi=new Oz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=VP(this.serializer),this.Ii=new Sz,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&qn(li,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(re.FAILED_PRECONDITION,yy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new jr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>rf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Ri(e))return de(li,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de(li,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return wu(e).get(kl).next((t=>Z.resolve(this.es(t))))}ts(e){return rf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,my)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=un(t,ic);return r.J().next((s=>{const i=this.ss(s,my),l=s.filter((u=>i.indexOf(u)===-1));return Z.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Z.resolve(!0):wu(e).get(kl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,gy)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new we(re.FAILED_PRECONDITION,yy);return!1}}return!(!this.networkEnabled||!this.inForeground)||rf(e).J().next((r=>this.ss(r,gy).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||l&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&de(li,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[wd,ic],(e=>{const t=new rv(e,jr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>rf(e).J().next((t=>this.ss(t,my).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return em.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Dz(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Jp.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){de(li,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",i=(function(h){return h===18?P6:h===17?DA:h===16?A6:h===15?D_:h===14?NA:h===13?kA:h===12?C6:h===11?RA:void De(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,s,i,(u=>(l=new rv(u,this.ci?this.ci.next():jr.ce),t==="readwrite-primary"?this.Hi(l).next((h=>!!h||this.Yi(l))).next((h=>{if(!h)throw qn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new we(re.FAILED_PRECONDITION,EA);return r(l)})).next((h=>this.Xi(l).next((()=>h)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return wu(e).get(kl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,gy)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new we(re.FAILED_PRECONDITION,yy)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wu(e).put(kl,t)}static v(){return Ei.v()}Zi(e){const t=wu(e);return t.get(kl).next((r=>this.es(r)?(de(li,"Releasing primary lease."),t.delete(kl)):Z.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(qn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;IC()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return de(li,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return qn(li,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){qn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wu(n){return un(n,wd)}function rf(n){return un(n,ic)}function Xz(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=et(),s=et();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Q_(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IC()?8:xA(cn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next((l=>{i.result=l})).next((()=>{if(!i.result)return this.ws(e,t,s,r).next((l=>{i.result=l}))})).next((()=>{if(i.result)return;const l=new Jz;return this.Ss(e,t,l).next((u=>{if(i.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>i.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(jl()<=it.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Fl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(jl()<=it.DEBUG&&de("QueryEngine","Query:",Fl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(jl()<=it.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Fl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(t))):Z.resolve())}ys(e,t){if(Lx(t))return Z.resolve(null);let r=zr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=cv(t,null,"F"),r=zr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const l=et(...i);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,u);return this.Cs(t,p,l,h.readTime)?this.ys(e,cv(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,s){return Lx(t)||s.isEqual(Fe.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((i=>{const l=this.Ds(t,i);return this.Cs(t,l,r,s)?Z.resolve(null):(jl()<=it.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fl(t)),this.vs(e,l,t,X3(s,Zu)).next((u=>u)))}))}Ds(e,t){let r=new wt(XA(e));return t.forEach(((s,i)=>{xd(e,i)&&(r=r.add(i))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return jl()<=it.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Fl(t)),this.ps.getDocumentsMatchingQuery(e,t,Ir.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((l=>{i=i.insert(l.key,l)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="LocalStore",eU=3e8;class tU{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Ot(Ke),this.xs=new Co((i=>Na(i)),Ed),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function FP(n,e,t,r){return new tU(n,e,t,r)}async function zP(n,e){const t=Ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const l=[],u=[];let h=et();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of i){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function nU(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,g){const m=p.batch,E=m.keys();let I=Z.resolve();return E.forEach((k=>{I=I.next((()=>g.getEntry(h,k))).next((A=>{const R=p.docVersions.get(k);Ve(R!==null,48541),A.version.compareTo(R)<0&&(m.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),g.addEntry(A)))}))})),I.next((()=>u.mutationQueue.removeMutationBatch(h,m)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=et();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function UP(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function rU(n,e){const t=Ze(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((g,m)=>{const E=s.get(m);if(!E)return;u.push(t.Pi.removeMatchingKeys(i,g.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(i,g.addedDocuments,m))));let I=E.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?I=I.withResumeToken(nn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(m,I),(function(A,R,V){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=eU?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(E,I,g)&&u.push(t.Pi.updateTargetData(i,I))}));let h=br(),p=et();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(i,g))})),u.push(sU(i,l,e.documentUpdates).next((g=>{h=g.ks,p=g.qs}))),!r.isEqual(Fe.min())){const g=t.Pi.getLastRemoteSnapshotVersion(i).next((m=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(g)}return Z.waitFor(u).next((()=>l.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,h,p))).next((()=>h))})).then((i=>(t.Ms=s,i)))}function sU(n,e,t){let r=et(),s=et();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let l=br();return t.forEach(((u,h)=>{const p=i.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Fe.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):de(Y_,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function oU(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=va),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function iU(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((i=>i?(s=i,Z.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new vo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function yv(n,e,t){const r=Ze(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Ri(l))throw l;de(Y_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function pI(n,e,t){const r=Ze(n);let s=Fe.min(),i=et();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,g){const m=Ze(h),E=m.xs.get(g);return E!==void 0?Z.resolve(m.Ms.get(E)):m.Pi.getTargetData(p,g)})(r,l,zr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{i=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:Fe.min(),t?i:et()))).next((u=>(aU(r,H6(e),u),{documents:u,Qs:i})))))}function aU(n,e,t){let r=n.Os.get(e)||Fe.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(e,r)}class mI{constructor(){this.activeTargetIds=Y6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $P{constructor(){this.Mo=new mI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="ConnectivityMonitor";class yI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(gI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(gI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function vv(){return sf===null?sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="RestConnection",cU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Xf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const l=vv(),u=this.zo(e,t.toUriEncodedString());de(vy,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,i);const{host:p}=new URL(u),g=Ec(p);return this.Jo(e,u,h,r,g).then((m=>(de(vy,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw Ra(vy,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,t,r,s,i,l){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,t){const r=cU[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class hU extends uU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const l=vv();return new Promise(((u,h)=>{const p=new uA;p.setWithCredentials(!0),p.listenOnce(dA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case _f.NO_ERROR:const m=p.getResponseJson();de(On,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case _f.TIMEOUT:de(On,`RPC '${e}' ${l} timed out`),h(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const E=p.getStatus();if(de(On,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const k=I?.error;if(k&&k.status&&k.message){const A=(function(V){const z=V.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(z)>=0?z:re.UNKNOWN})(k.status);h(new we(A,k.message))}else h(new we(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new we(re.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(On,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);de(On,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=vv(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=pA(),u=fA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=i.join("");de(On,`Creating RPC '${e}' stream ${s}: ${g}`,h);const m=l.createWebChannel(g,h);this.I_(m);let E=!1,I=!1;const k=new dU({Yo:R=>{I?de(On,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(E||(de(On,`Opening RPC '${e}' stream ${s} transport.`),m.open(),E=!0),de(On,`RPC '${e}' stream ${s} sending:`,R),m.send(R))},Zo:()=>m.close()}),A=(R,V,z)=>{R.listen(V,(U=>{try{z(U)}catch(H){setTimeout((()=>{throw H}),0)}}))};return A(m,Su.EventType.OPEN,(()=>{I||(de(On,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),A(m,Su.EventType.CLOSE,(()=>{I||(I=!0,de(On,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(m))})),A(m,Su.EventType.ERROR,(R=>{I||(I=!0,Ra(On,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),k.a_(new we(re.UNAVAILABLE,"The operation could not be completed")))})),A(m,Su.EventType.MESSAGE,(R=>{if(!I){const V=R.data[0];Ve(!!V,16349);const z=V,U=z?.error||z[0]?.error;if(U){de(On,`RPC '${e}' stream ${s} received error:`,U);const H=U.status;let B=(function(S){const P=en[S];if(P!==void 0)return uP(P)})(H),W=U.message;B===void 0&&(B=re.INTERNAL,W="Unknown error status: "+H+" with message "+U.message),I=!0,k.a_(new we(B,W)),m.close()}else de(On,`RPC '${e}' stream ${s} received:`,V),k.u_(V)}})),A(u,hA.STAT_EVENT,(R=>{R.stat===Yy.PROXY?de(On,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===Yy.NOPROXY&&de(On,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(){return typeof window<"u"?window:null}function Pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(n){return new pz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="PersistentStream";class qP{constructor(e,t,r,s,i,l,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BP(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(qn(t.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new we(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(vI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(vI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pU extends qP{constructor(e,t,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=yz(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Fe.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?Wn(l.readTime):Fe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=hv(this.serializer),t.addTarget=(function(i,l){let u;const h=l.target;if(u=ep(h)?{documents:vP(i,h)}:{query:_P(i,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=fP(i,l.resumeToken);const p=uv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Fe.min())>0){u.readTime=fc(i,l.snapshotVersion.toTimestamp());const p=uv(i,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=_z(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=hv(this.serializer),t.removeTarget=e,this.q_(t)}}class mU extends qP{constructor(e,t,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=vz(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=hv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>rp(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{}class yU extends gU{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,l])=>this.connection.Go(e,dv(t,r),s,i,l))).catch((i=>{throw i.name==="FirebaseError"?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(re.UNKNOWN,i.toString())}))}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,dv(t,r),s,l,u,i))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(re.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qn(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class _U{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{$a(this)&&(de(Va,"Restarting streams for network reachability change."),await(async function(h){const p=Ze(h);p.Ea.add(4),await Td(p),p.Ra.set("Unknown"),p.Ea.delete(4),await rm(p)})(this))}))})),this.Ra=new vU(r,s)}}async function rm(n){if($a(n))for(const e of n.da)await e(!0)}async function Td(n){for(const e of n.da)await e(!1)}function HP(n,e){const t=Ze(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),tw(t)?ew(t):Tc(t).O_()&&J_(t,e))}function X_(n,e){const t=Ze(n),r=Tc(t);t.Ia.delete(e),r.O_()&&WP(t,e),t.Ia.size===0&&(r.O_()?r.L_():$a(t)&&t.Ra.set("Unknown"))}function J_(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Tc(n).Y_(e)}function WP(n,e){n.Va.Ue(e),Tc(n).Z_(e)}function ew(n){n.Va=new uz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Tc(n).start(),n.Ra.ua()}function tw(n){return $a(n)&&!Tc(n).x_()&&n.Ia.size>0}function $a(n){return Ze(n).Ea.size===0}function GP(n){n.Va=void 0}async function wU(n){n.Ra.set("Online")}async function EU(n){n.Ia.forEach(((e,t)=>{J_(n,e)}))}async function bU(n,e){GP(n),tw(n)?(n.Ra.ha(e),ew(n)):n.Ra.set("Unknown")}async function xU(n,e,t){if(n.Ra.set("Online"),e instanceof hP&&e.state===2&&e.cause)try{await(async function(s,i){const l=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(n,e)}catch(r){de(Va,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lp(n,r)}else if(e instanceof Cf?n.Va.Ze(e):e instanceof dP?n.Va.st(e):n.Va.tt(e),!t.isEqual(Fe.min()))try{const r=await UP(n.localStore);t.compareTo(r)>=0&&await(function(i,l){const u=i.Va.Tt(l);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.Ia.get(p);g&&i.Ia.set(p,g.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,p)=>{const g=i.Ia.get(h);if(!g)return;i.Ia.set(h,g.withResumeToken(nn.EMPTY_BYTE_STRING,g.snapshotVersion)),WP(i,h);const m=new vo(g.target,h,p,g.sequenceNumber);J_(i,m)})),i.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){de(Va,"Failed to raise snapshot:",r),await lp(n,r)}}async function lp(n,e,t){if(!Ri(e))throw e;n.Ea.add(1),await Td(n),n.Ra.set("Offline"),t||(t=()=>UP(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Va,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await rm(n)}))}function KP(n,e){return e().catch((t=>lp(n,t,e)))}async function Cd(n){const e=Ze(n),t=Ai(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:va;for(;IU(e);)try{const s=await oU(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,SU(e,s)}catch(s){await lp(e,s)}ZP(e)&&QP(e)}function IU(n){return $a(n)&&n.Ta.length<10}function SU(n,e){n.Ta.push(e);const t=Ai(n);t.O_()&&t.X_&&t.ea(e.mutations)}function ZP(n){return $a(n)&&!Ai(n).x_()&&n.Ta.length>0}function QP(n){Ai(n).start()}async function TU(n){Ai(n).ra()}async function CU(n){const e=Ai(n);for(const t of n.Ta)e.ea(t.mutations)}async function AU(n,e,t){const r=n.Ta.shift(),s=U_.from(r,e,t);await KP(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Cd(n)}async function PU(n,e){e&&Ai(n).X_&&await(async function(r,s){if((function(l){return az(l)&&l!==re.ABORTED})(s.code)){const i=r.Ta.shift();Ai(r).B_(),await KP(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Cd(r)}})(n,e),ZP(n)&&QP(n)}async function _I(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),de(Va,"RemoteStore received new credentials");const r=$a(t);t.Ea.add(3),await Td(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rm(t)}async function RU(n,e){const t=Ze(n);e?(t.Ea.delete(2),await rm(t)):e||(t.Ea.add(2),await Td(t),t.Ra.set("Unknown"))}function Tc(n){return n.ma||(n.ma=(function(t,r,s){const i=Ze(t);return i.sa(),new pU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:wU.bind(null,n),t_:EU.bind(null,n),r_:bU.bind(null,n),H_:xU.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),tw(n)?ew(n):n.Ra.set("Unknown")):(await n.ma.stop(),GP(n))}))),n.ma}function Ai(n){return n.fa||(n.fa=(function(t,r,s){const i=Ze(t);return i.sa(),new mU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:TU.bind(null,n),r_:PU.bind(null,n),ta:CU.bind(null,n),na:AU.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Cd(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Va,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const l=Date.now()+r,u=new nw(e,t,l,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rw(n,e){if(qn("AsyncQueue",`${e}: ${n}`),Ri(n))return new we(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{static emptySet(e){return new Zl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Tu(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.ga=new Ot(Ee.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class pc{constructor(e,t,r,s,i,l,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,i){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new pc(e,t,Zl.emptySet(t),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NU{constructor(){this.queries=EI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ze(t),i=s.queries;s.queries=EI(),i.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new we(re.ABORTED,"Firestore shutting down"))}}function EI(){return new Co((n=>YA(n)),Zp)}async function sw(n,e){const t=Ze(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new kU,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=rw(l,`Initialization of query '${Fl(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&iw(t)}async function ow(n,e){const t=Ze(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const l=i.Sa.indexOf(e);l>=0&&(i.Sa.splice(l,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function DU(n,e){const t=Ze(n);let r=!1;for(const s of e){const i=s.query,l=t.queries.get(i);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&iw(t)}function OU(n,e,t){const r=Ze(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function iw(n){n.Ca.forEach((e=>{e.next()}))}var _v,bI;(bI=_v||(_v={})).Ma="default",bI.Cache="cache";class aw{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_v.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.key=e}}class XP{constructor(e){this.key=e}}class MU{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=XA(e),this.tu=new Zl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new wI,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,m)=>{const E=s.get(g),I=xd(this.query,m)?m:null,k=!!E&&this.mutatedKeys.has(E.key),A=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;E&&I?E.data.isEqual(I.data)?k!==A&&(r.track({type:3,doc:I}),R=!0):this.su(E,I)||(r.track({type:2,doc:I}),R=!0,(h&&this.eu(I,h)>0||p&&this.eu(I,p)<0)&&(u=!0)):!E&&I?(r.track({type:0,doc:I}),R=!0):E&&!I&&(r.track({type:1,doc:E}),R=!0,(h||p)&&(u=!0)),R&&(I?(l=l.add(I),i=A?i.add(g):i.delete(g)):(l=l.delete(g),i=i.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),i=i.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,m)=>(function(I,k){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:R})}};return A(I)-A(k)})(g.type,m.type)||this.eu(g.doc,m.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,p=h!==this.Za;return this.Za=h,l.length!==0||p?{snapshot:new pc(this.query,e.tu,i,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new XP(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new YP(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return pc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lw="SyncEngine";class VU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class LU{constructor(e){this.key=e,this.hu=!1}}class jU{constructor(e,t,r,s,i,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Co((u=>YA(u)),Zp),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Ee.comparator),this.Au=new Map,this.Ru=new G_,this.Vu={},this.mu=new Map,this.fu=Ma.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FU(n,e,t=!0){const r=sR(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await JP(r,e,t,!0),s}async function zU(n,e){const t=sR(n);await JP(t,e,!0,!1)}async function JP(n,e,t,r){const s=await iU(n.localStore,zr(e)),i=s.targetId,l=n.sharedClientState.addLocalQueryTarget(i,t);let u;return r&&(u=await UU(n,e,i,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&HP(n.remoteStore,s),u}async function UU(n,e,t,r,s){n.pu=(m,E,I)=>(async function(A,R,V,z){let U=R.view.ru(V);U.Cs&&(U=await pI(A.localStore,R.query,!1).then((({documents:C})=>R.view.ru(C,U))));const H=z&&z.targetChanges.get(R.targetId),B=z&&z.targetMismatches.get(R.targetId)!=null,W=R.view.applyChanges(U,A.isPrimaryClient,H,B);return II(A,R.targetId,W.au),W.snapshot})(n,m,E,I);const i=await pI(n.localStore,e,!0),l=new MU(e,i.Qs),u=l.ru(i.documents),h=Sd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(u,n.isPrimaryClient,h);II(n,t,p.au);const g=new VU(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function $U(n,e,t){const r=Ze(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((l=>!Zp(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await yv(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&X_(r.remoteStore,s.targetId),wv(r,s.targetId)})).catch(Ua)):(wv(r,s.targetId),await yv(r.localStore,s.targetId,!0))}async function BU(n,e){const t=Ze(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),X_(t.remoteStore,r.targetId))}async function qU(n,e,t){const r=oR(n);try{const s=await(function(l,u){const h=Ze(l),p=_t.now(),g=u.reduce(((I,k)=>I.add(k.key)),et());let m,E;return h.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let k=br(),A=et();return h.Ns.getEntries(I,g).next((R=>{k=R,k.forEach(((V,z)=>{z.isValidDocument()||(A=A.add(V))}))})).next((()=>h.localDocuments.getOverlayedDocuments(I,k))).next((R=>{m=R;const V=[];for(const z of u){const U=oz(z,m.get(z.key).overlayedDocument);U!=null&&V.push(new Ao(z.key,U,BA(U.value.mapValue),vn.exists(!0)))}return h.mutationQueue.addMutationBatch(I,p,V,u)})).next((R=>{E=R;const V=R.applyToLocalDocumentSet(m,A);return h.documentOverlayCache.saveOverlays(I,R.batchId,V)}))})).then((()=>({batchId:E.batchId,changes:eP(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let p=l.Vu[l.currentUser.toKey()];p||(p=new Ot(Ke)),p=p.insert(u,h),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,t),await Ad(r,s.changes),await Cd(r.remoteStore)}catch(s){const i=rw(s,"Failed to persist write");t.reject(i)}}async function eR(n,e){const t=Ze(n);try{const r=await rU(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const l=t.Au.get(i);l&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ve(l.hu,14607):s.removedDocuments.size>0&&(Ve(l.hu,42227),l.hu=!1))})),await Ad(t,r,e)}catch(r){await Ua(r)}}function xI(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Ze(l);h.onlineState=u;let p=!1;h.queries.forEach(((g,m)=>{for(const E of m.Sa)E.va(u)&&(p=!0)})),p&&iw(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HU(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let l=new Ot(Ee.comparator);l=l.insert(i,Bt.newNoDocument(i,Fe.min()));const u=et().add(i),h=new Xp(Fe.min(),new Map,new Ot(Ke),l,u);await eR(r,h),r.du=r.du.remove(i),r.Au.delete(e),cw(r)}else await yv(r.localStore,e,!1).then((()=>wv(r,e,t))).catch(Ua)}async function WU(n,e){const t=Ze(n),r=e.batch.batchId;try{const s=await nU(t.localStore,e);nR(t,r,null),tR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ad(t,s)}catch(s){await Ua(s)}}async function GU(n,e,t){const r=Ze(n);try{const s=await(function(l,u){const h=Ze(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,u).next((m=>(Ve(m!==null,37113),g=m.keys(),h.mutationQueue.removeMutationBatch(p,m)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);nR(r,e,t),tR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ad(r,s)}catch(s){await Ua(s)}}function tR(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function nR(n,e,t){const r=Ze(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function wv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||rR(n,r)}))}function rR(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(X_(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),cw(n))}function II(n,e,t){for(const r of t)r instanceof YP?(n.Ru.addReference(r.key,e),KU(n,r)):r instanceof XP?(de(lw,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||rR(n,r.key)):De(19791,{wu:r})}function KU(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(de(lw,"New document in limbo: "+t),n.Eu.add(r),cw(n))}function cw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(yt.fromString(e)),r=n.fu.next();n.Au.set(r,new LU(t)),n.du=n.du.insert(t,r),HP(n.remoteStore,new vo(zr(bd(t.path)),r,"TargetPurposeLimboResolution",jr.ce))}}async function Ad(n,e,t){const r=Ze(n),s=[],i=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(p){s.push(p);const g=Q_.As(h.targetId,p);i.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(h,p){const g=Ze(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Z.forEach(p,(E=>Z.forEach(E.Es,(I=>g.persistence.referenceDelegate.addReference(m,E.targetId,I))).next((()=>Z.forEach(E.ds,(I=>g.persistence.referenceDelegate.removeReference(m,E.targetId,I)))))))))}catch(m){if(!Ri(m))throw m;de(Y_,"Failed to update sequence numbers: "+m)}for(const m of p){const E=m.targetId;if(!m.fromCache){const I=g.Ms.get(E),k=I.snapshotVersion,A=I.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(E,A)}}})(r.localStore,i))}async function ZU(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){de(lw,"User change. New user:",e.toKey());const r=await zP(t.localStore,e);t.currentUser=e,(function(i,l){i.mu.forEach((u=>{u.forEach((h=>{h.reject(new we(re.CANCELLED,l))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ad(t,r.Ls)}}function QU(n,e){const t=Ze(n),r=t.Au.get(e);if(r&&r.hu)return et().add(r.key);{let s=et();const i=t.Iu.get(e);if(!i)return s;for(const l of i){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function sR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HU.bind(null,e),e.Pu.H_=DU.bind(null,e.eventManager),e.Pu.yu=OU.bind(null,e.eventManager),e}function oR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GU.bind(null,e),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return FP(this.persistence,new jP,e.initialUser,this.serializer)}Cu(e){return new K_(tm.mi,this.serializer)}Du(e){return new $P}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class YU extends id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ve(this.persistence.referenceDelegate instanceof ap,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new K_((r=>ap.mi(r,t)),this.serializer)}}class XU extends id{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await oR(this.xu.syncEngine),await Cd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return FP(this.persistence,new jP,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new DP(r,e.asyncQueue,t)}Mu(e,t){const r=new n6(t,this.persistence);return new t6(e.asyncQueue,r)}Cu(e){const t=Xz(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new Z_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,fU(),Pf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new $P}}class cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZU.bind(null,this.syncEngine),await RU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NU})()}createDatastore(e){const t=nm(e.databaseInfo.databaseId),r=(function(i){return new hU(i)})(e.databaseInfo);return(function(i,l,u,h){return new yU(i,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,l,u){return new _U(r,s,i,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>xI(this.syncEngine,t,0)),(function(){return yI.v()?new yI:new lU})())}createSyncEngine(e,t){return(function(s,i,l,u,h,p,g){const m=new jU(s,i,l,u,h,p);return g&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ze(t);de(Va,"RemoteStore shutting down."),r.Ea.add(5),await Td(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="FirestoreClient";class JU{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Sn.UNAUTHENTICATED,this.clientId=T_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async l=>{de(Pi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(de(Pi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=rw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _y(n,e){n.asyncQueue.verifyOperationInProgress(),de(Pi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await zP(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function SI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await e9(n);de(Pi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>_I(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>_I(e.remoteStore,s))),n._onlineComponents=e}async function e9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Pi,"Using user provided OfflineComponentProvider");try{await _y(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Ra("Error using user provided cache. Falling back to memory cache: "+t),await _y(n,new id)}}else de(Pi,"Using default OfflineComponentProvider"),await _y(n,new YU(void 0));return n._offlineComponents}async function iR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Pi,"Using user provided OnlineComponentProvider"),await SI(n,n._uninitializedComponentsProvider._online)):(de(Pi,"Using default OnlineComponentProvider"),await SI(n,new cp))),n._onlineComponents}function t9(n){return iR(n).then((e=>e.syncEngine))}async function up(n){const e=await iR(n),t=e.eventManager;return t.onListen=FU.bind(null,e.syncEngine),t.onUnlisten=$U.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BU.bind(null,e.syncEngine),t}function n9(n,e,t={}){const r=new zs;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,p){const g=new uw({next:E=>{g.Nu(),l.enqueueAndForget((()=>ow(i,m)));const I=E.docs.has(u);!I&&E.fromCache?p.reject(new we(re.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&h&&h.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),m=new aw(bd(u.path),g,{includeMetadataChanges:!0,qa:!0});return sw(i,m)})(await up(n),n.asyncQueue,e,t,r))),r.promise}function r9(n,e,t={}){const r=new zs;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,p){const g=new uw({next:E=>{g.Nu(),l.enqueueAndForget((()=>ow(i,m))),E.fromCache&&h.source==="server"?p.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),m=new aw(u,g,{includeMetadataChanges:!0,qa:!0});return sw(i,m)})(await up(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="firestore.googleapis.com",CI=!0;class AI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lR,this.ssl=CI}else this.host=e.host,this.ssl=e.ssl??CI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Mz)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new U3;switch(r.type){case"firstParty":return new H3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=TI.get(t);r&&(de("ComponentProvider","Removing Datastore"),TI.delete(t),r.terminate())})(this),Promise.resolve()}}function s9(n,e,t,r={}){n=Hn(n,sm);const s=Ec(e),i=n._getSettings(),l={...i,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(EC(`https://${u}`),bC("Firestore",!0)),i.host!==lR&&i.host!==u&&Ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...i,host:u,ssl:s,emulatorOptions:r};if(!Ta(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Sn.MOCK_USER;else{p=yj(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Sn(m)}n._authCredentials=new $3(new gA(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pd(this.firestore,e,this._query)}}class Kt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(_d(t,Kt._jsonSchema))return new Kt(e,r||null,new Ee(yt.fromString(t.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:tn("string",Kt._jsonSchemaVersion),referencePath:tn("string")};class bi extends Pd{constructor(e,t,r){super(e,t,bd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Ee(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function cR(n,e,...t){if(n=Cn(n),vA("collection","path",e),n instanceof sm){const r=yt.fromString(e,...t);return vx(r),new bi(n,null,r)}{if(!(n instanceof Kt||n instanceof bi))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return vx(r),new bi(n.firestore,null,r)}}function Ws(n,e,...t){if(n=Cn(n),arguments.length===1&&(e=T_.newId()),vA("doc","path",e),n instanceof sm){const r=yt.fromString(e,...t);return yx(r),new Kt(n,null,new Ee(r))}{if(!(n instanceof Kt||n instanceof bi))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yt.fromString(e,...t));return yx(r),new Kt(n.firestore,n instanceof bi?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="AsyncQueue";class RI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BP(this,"async_queue_retry"),this._c=()=>{const r=Pf();r&&de(PI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Pf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ri(e))throw e;de(PI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qn("INTERNAL UNHANDLED ERROR: ",kI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=nw.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&De(47125,{Pc:kI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function kI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(n,["next","error","complete"])}class Gs extends sm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new RI,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RI(e),this._firestoreClient=void 0,await e}}}function o9(n,e){const t=typeof n=="object"?n:RC(),r=typeof n=="string"?n:Xf,s=p_(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=mj("firestore");i&&s9(s,...i)}return s}function Rd(n){if(n._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uR(n),n._firestoreClient}function uR(n){const e=n._freezeSettings(),t=(function(s,i,l,u){return new k6(s,i,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,aR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new JU(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}function i9(n,e){Ra("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return a9(n,cp.provider,{build:r=>new XU(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function a9(n,e,t){if((n=Hn(n,Gs))._firestoreClient||n._terminated)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new we(re.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},uR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lr(nn.fromBase64String(e))}catch(t){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lr(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_d(e,Lr._jsonSchema))return Lr.fromBase64String(e.bytes)}}Lr._jsonSchemaVersion="firestore/bytes/1.0",Lr._jsonSchema={type:tn("string",Lr._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Us._jsonSchemaVersion}}static fromJSON(e){if(_d(e,Us._jsonSchema))return new Us(e.latitude,e.longitude)}}Us._jsonSchemaVersion="firestore/geoPoint/1.0",Us._jsonSchema={type:tn("string",Us._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_d(e,$s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new $s(e.vectorValues);throw new we(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:tn("string",$s._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=/^__.*__$/;class c9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}}class dR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ao(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:n})}}class hw{constructor(e,t,r,s,i,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hR(this.Ac)&&l9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class u9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||nm(e)}Cc(e,t,r,s=!1){return new hw({Ac:e,methodName:t,Dc:r,path:Ft.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fw(n){const e=n._freezeSettings(),t=nm(n._databaseId);return new u9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fR(n,e,t,r,s,i={}){const l=n.Cc(i.merge||i.mergeFields?2:0,e,t,s);pw("Data must be an object, but it was:",l,r);const u=gR(r,l);let h,p;if(i.merge)h=new or(l.fieldMask),p=l.fieldTransforms;else if(i.mergeFields){const g=[];for(const m of i.mergeFields){const E=Ev(e,m,t);if(!l.contains(E))throw new we(re.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);vR(g,E)||g.push(E)}h=new or(g),p=l.fieldTransforms.filter((m=>h.covers(m.field)))}else h=null,p=l.fieldTransforms;return new c9(new jn(u),h,p)}class om extends dw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof om}}function pR(n,e,t,r){const s=n.Cc(1,e,t);pw("Data must be an object, but it was:",s,r);const i=[],l=jn.empty();ki(r,((h,p)=>{const g=mw(e,h,t);p=Cn(p);const m=s.yc(g);if(p instanceof om)i.push(g);else{const E=im(p,m);E!=null&&(i.push(g),l.set(g,E))}}));const u=new or(i);return new dR(l,u,s.fieldTransforms)}function mR(n,e,t,r,s,i){const l=n.Cc(1,e,t),u=[Ev(e,r,t)],h=[s];if(i.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<i.length;E+=2)u.push(Ev(e,i[E])),h.push(i[E+1]);const p=[],g=jn.empty();for(let E=u.length-1;E>=0;--E)if(!vR(p,u[E])){const I=u[E];let k=h[E];k=Cn(k);const A=l.yc(I);if(k instanceof om)p.push(I);else{const R=im(k,A);R!=null&&(p.push(I),g.set(I,R))}}const m=new or(p);return new dR(g,m,l.fieldTransforms)}function im(n,e){if(yR(n=Cn(n)))return pw("Unsupported field value:",e,n),gR(n,e);if(n instanceof dw)return(function(r,s){if(!hR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let l=0;for(const u of r){let h=im(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),l++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_t.fromDate(r);return{timestampValue:fc(s.serializer,i)}}if(r instanceof _t){const i=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fc(s.serializer,i)}}if(r instanceof Us)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lr)return{bytesValue:fP(s.serializer,r._byteString)};if(r instanceof Kt){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:q_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof $s)return(function(l,u){return{mapValue:{fields:{[M_]:{stringValue:V_},[ac]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return F_(u.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${C_(r)}`)})(n,e)}function gR(n,e){const t={};return OA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(n,((r,s)=>{const i=im(s,e.mc(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function yR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof Us||n instanceof Lr||n instanceof Kt||n instanceof dw||n instanceof $s)}function pw(n,e,t){if(!yR(t)||!_A(t)){const r=C_(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Ev(n,e,t){if((e=Cn(e))instanceof kd)return e._internalPath;if(typeof e=="string")return mw(n,e);throw dp("Field path arguments must be of type string or ",n,!1,void 0,t)}const d9=new RegExp("[~\\*/\\[\\]]");function mw(n,e,t){if(e.search(d9)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kd(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dp(n,e,t,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(i||l)&&(h+=" (found",i&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new we(re.INVALID_ARGUMENT,u+n+h)}function vR(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class h9 extends _R{data(){return super.data()}}function wR(n,e){return typeof e=="string"?mw(n,e):e instanceof kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f9{convertValue(e,t="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ki(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){const t=e.fields?.[ac].arrayValue?.values?.map((r=>Dt(r.doubleValue)));return new $s(t)}convertGeoPoint(e){return new Us(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const t=Io(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yt.fromString(e);Ve(xP(r),9688,{name:e});const s=new ka(r.get(1),r.get(3)),i=new Ee(r.popFirst(5));return s.isEqual(t)||qn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends _R{constructor(e,t,r,s,i,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ea._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:tn("string",Ea._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class Rf extends Ea{data(e={}){return super.data(e)}}class ba{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Pu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Rf(this._firestore,this._userDataWriter,r.key,r,new Pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new Rf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Pu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>i||u.type!==3)).map((u=>{const h=new Rf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Pu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:p9(u.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=T_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(n){n=Hn(n,Kt);const e=Hn(n.firestore,Gs);return n9(Rd(e),n._key).then((t=>xR(e,n,t)))}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:tn("string",ba._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class gw extends f9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,t)}}function m9(n){n=Hn(n,Pd);const e=Hn(n.firestore,Gs),t=Rd(e),r=new gw(e);return ER(n._query),r9(t,n._query).then((s=>new ba(e,r,n,s)))}function g9(n,e,t){n=Hn(n,Kt);const r=Hn(n.firestore,Gs),s=bR(n.converter,e,t);return am(r,[fR(fw(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,vn.none())])}function yw(n,e,t,...r){n=Hn(n,Kt);const s=Hn(n.firestore,Gs),i=fw(s);let l;return l=typeof(e=Cn(e))=="string"||e instanceof kd?mR(i,"updateDoc",n._key,e,t,r):pR(i,"updateDoc",n._key,e),am(s,[l.toMutation(n._key,vn.exists(!0))])}function y9(n){return am(Hn(n.firestore,Gs),[new Id(n._key,vn.none())])}function v9(n,...e){n=Cn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||NI(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(NI(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let i,l,u;if(n instanceof Kt)l=Hn(n.firestore,Gs),u=bd(n._key.path),i={next:h=>{e[r]&&e[r](xR(l,n,h))},error:e[r+1],complete:e[r+2]};else{const h=Hn(n,Pd);l=Hn(h.firestore,Gs),u=h._query;const p=new gw(l);i={next:g=>{e[r]&&e[r](new ba(l,p,h,g))},error:e[r+1],complete:e[r+2]},ER(n._query)}return(function(p,g,m,E){const I=new uw(E),k=new aw(g,I,m);return p.asyncQueue.enqueueAndForget((async()=>sw(await up(p),k))),()=>{I.Nu(),p.asyncQueue.enqueueAndForget((async()=>ow(await up(p),k)))}})(Rd(l),u,s,i)}function am(n,e){return(function(r,s){const i=new zs;return r.asyncQueue.enqueueAndForget((async()=>qU(await t9(r),s,i))),i.promise})(Rd(n),e)}function xR(n,e,t){const r=t.docs.get(e._key),s=new gw(n);return new Ea(n,s,e._key,r,new Pu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fw(e)}set(e,t,r){this._verifyNotCommitted();const s=wy(e,this._firestore),i=bR(s.converter,t,r),l=fR(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(l.toMutation(s._key,vn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const i=wy(e,this._firestore);let l;return l=typeof(t=Cn(t))=="string"||t instanceof kd?mR(this._dataReader,"WriteBatch.update",i._key,t,r,s):pR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(l.toMutation(i._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wy(e,this._firestore);return this._mutations=this._mutations.concat(new Id(t._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wy(n,e){if((n=Cn(n)).firestore!==e)throw new we(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n){return Rd(n=Hn(n,Gs)),new _9(n,(e=>am(n,e)))}(function(e,t=!0){(function(s){Ic=s})(bc),ec(new Ca("firestore",((r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),u=new Gs(new B3(r.getProvider("auth-internal")),new W3(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(p.options.projectId,g)})(l,s),l);return i={useFetchStreams:t,...i},u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),_i(fx,px,e),_i(fx,px,"esm2020")})();const w9={apiKey:"AIzaSyAtQmAaUFEuyJmeOq3M3ZIkI3a1gna_Do8",authDomain:"nosql-demo-e5885.firebaseapp.com",databaseURL:"https://nosql-demo-e5885-default-rtdb.firebaseio.com",projectId:"nosql-demo-e5885",storageBucket:"nosql-demo-e5885.firebasestorage.app",messagingSenderId:"377685820338",appId:"1:377685820338:web:12a7618478c1cdeda79aab",measurementId:"G-EWRZ4F64R6"};let Ey,_n,bv;try{Ey=PC(w9),_n=o9(Ey),bv=L3(Ey),i9(_n).catch(n=>{n.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):n.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser")})}catch(n){throw console.error("Firebase initialization error:",n),n}const Ur={INVENTORY:"inventory"},IR=b.createContext(void 0),_r="wms_auth_user",ci="wms_remember_me",SR="wms_users",E9=[{id:"0",email:"owner@wms.com",password:"owner123",name:"System Owner",role:"Owner",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"1",email:"admin@wms.com",password:"admin123",name:"Admin User",role:"Admin",status:"Active",createdAt:"2024-01-01T00:00:00Z"},{id:"2",email:"operator@wms.com",password:"operator123",name:"Operator User",role:"Operator",status:"Active",createdAt:"2024-01-15T00:00:00Z"}];function In(){try{const n=localStorage.getItem(SR);if(n)return JSON.parse(n)}catch(n){console.error("Error reading users from storage:",n)}return[]}function rr(n){localStorage.setItem(SR,JSON.stringify(n))}function b9(){In().length===0&&rr(E9)}function x9({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(!0);b.useEffect(()=>{b9()},[]),b.useEffect(()=>{(async()=>{try{const W=localStorage.getItem(_r),C=localStorage.getItem(ci);if(W&&C==="true"){const S=JSON.parse(W),N=In().find(M=>M.id===S.id);N&&N.status==="Active"&&t({id:N.id,email:N.email,name:N.name,role:N.role,status:N.status,createdAt:N.createdAt,lastLogin:N.lastLogin})}else{const S=sessionStorage.getItem(_r);if(S){const P=JSON.parse(S),M=In().find(F=>F.id===P.id);M&&M.status==="Active"&&t({id:M.id,email:M.email,name:M.name,role:M.role,status:M.status,createdAt:M.createdAt,lastLogin:M.lastLogin})}}}catch(W){console.error("Error checking authentication:",W)}finally{s(!1)}})()},[]);const i=async(B,W,C=!1)=>{await new Promise(O=>setTimeout(O,1e3));const S=In(),P=S.find(O=>O.email.toLowerCase()===B.toLowerCase());if(!P)throw new Error("NO_ACCOUNT:No account found with this email address. Would you like to create one?");if(P.password!==W)throw new Error("WRONG_PASSWORD:Incorrect password. Please try again.");const N=P;if(N.status==="Pending")throw new Error("PENDING:Your account is pending approval. Please wait for an administrator to approve your account.");if(N.status==="Inactive")throw new Error("INACTIVE:Your account has been deactivated. Please contact an administrator.");const M=S.map(O=>O.id===N.id?{...O,lastLogin:new Date().toISOString()}:O);rr(M);const F={id:N.id,email:N.email,name:N.name,role:N.role,status:N.status,createdAt:N.createdAt,lastLogin:new Date().toISOString()};t(F),C?(localStorage.setItem(_r,JSON.stringify(F)),localStorage.setItem(ci,"true")):(sessionStorage.setItem(_r,JSON.stringify(F)),localStorage.removeItem(ci))},l=async(B,W,C)=>{await new Promise(N=>setTimeout(N,1e3));const S=In();if(S.some(N=>N.email.toLowerCase()===B.toLowerCase()))throw new Error("An account with this email already exists");const P={id:`user_${Date.now()}`,email:B,password:W,name:C,role:"Operator",status:"Pending",createdAt:new Date().toISOString()};rr([...S,P])},u=async()=>{const B=new Os;try{const C=(await sx(bv,B)).user;if(!C.email)throw new Error("No email associated with this Google account");const S=In();let P=S.find(N=>N.googleUserId===C.uid);if(P||(P=S.find(N=>N.email.toLowerCase()===C.email.toLowerCase())),P){if(P.status==="Pending")throw new Error("PENDING:Your account is pending approval. Please wait for an administrator to approve your account.");if(P.status==="Inactive")throw new Error("INACTIVE:Your account has been deactivated. Please contact an administrator.");const N=S.map(F=>F.id===P.id?{...F,lastLogin:new Date().toISOString()}:F);rr(N);const M={id:P.id,email:P.email,name:P.name,role:P.role,status:P.status,createdAt:P.createdAt,lastLogin:new Date().toISOString(),phone:P.phone,address:P.address,googleUserId:P.googleUserId,googleEmail:P.googleEmail};t(M),localStorage.setItem(_r,JSON.stringify(M)),localStorage.setItem(ci,"true")}else{const N={id:`google_${C.uid}`,email:C.email,password:"",name:C.displayName||C.email.split("@")[0],role:"Operator",status:"Pending",createdAt:new Date().toISOString(),googleUserId:C.uid,googleEmail:C.email};throw rr([...S,N]),new Error("PENDING:Your account has been created and is pending approval. Please wait for an administrator to approve your account.")}}catch(W){throw W instanceof Error?W.message.startsWith("PENDING:")||W.message.startsWith("INACTIVE:")||W.message.includes("popup-closed-by-user")?W:W.message.includes("auth/")?new Error("Google sign-in failed. Please try again."):W:new Error("Google sign-in failed. Please try again.")}},h=()=>{t(null),localStorage.removeItem(_r),localStorage.removeItem(ci),sessionStorage.removeItem(_r)},p=b.useCallback(()=>In(),[]),g=b.useCallback(()=>In().filter(B=>B.status==="Pending"),[]),m=b.useCallback(B=>{const C=In().map(S=>S.id===B?{...S,status:"Active"}:S);rr(C)},[]),E=b.useCallback(B=>{const C=In().filter(S=>S.id!==B);rr(C)},[]),I=b.useCallback((B,W)=>{const S=In().map(P=>P.id===B?{...P,role:W}:P);rr(S),e&&e.id===B&&t({...e,role:W})},[e]),k=b.useCallback((B,W)=>{const S=In().map(P=>P.id===B?{...P,status:W}:P);rr(S),e&&e.id===B&&W!=="Active"&&h()},[e]),A=b.useCallback(B=>{const C=In().filter(S=>S.id!==B);rr(C),e&&e.id===B&&h()},[e]),R=b.useCallback(B=>{if(!e)return;const C=In().map(N=>N.id===e.id?{...N,...B}:N);rr(C);const S={...e,...B};t(S),localStorage.getItem(ci)==="true"?localStorage.setItem(_r,JSON.stringify(S)):sessionStorage.setItem(_r,JSON.stringify(S))},[e]),V=b.useCallback(async(B,W)=>{if(!e)throw new Error("Not authenticated");await new Promise(N=>setTimeout(N,500));const C=In(),S=C.find(N=>N.id===e.id);if(!S||S.password!==B)throw new Error("Current password is incorrect");const P=C.map(N=>N.id===e.id?{...N,password:W}:N);rr(P)},[e]),z=b.useCallback(async()=>{if(!e)throw new Error("Not authenticated");const B=new Os;try{const C=(await sx(bv,B)).user;if(!C.email)throw new Error("No email associated with this Google account");const S=In();if(S.find(O=>O.googleUserId===C.uid&&O.id!==e.id))throw new Error("This Google account is already linked to another WMS account");const N=S.map(O=>O.id===e.id?{...O,googleUserId:C.uid,googleEmail:C.email}:O);rr(N);const M={...e,googleUserId:C.uid,googleEmail:C.email};t(M),localStorage.getItem(ci)==="true"?localStorage.setItem(_r,JSON.stringify(M)):sessionStorage.setItem(_r,JSON.stringify(M))}catch(W){throw W instanceof Error?W.message.includes("popup-closed-by-user")?new Error("Google sign-in was cancelled"):W.message.includes("auth/")?new Error("Google sign-in failed. Please try again."):W:new Error("Failed to link Google account. Please try again.")}},[e]),U=b.useCallback(async()=>{if(!e)throw new Error("Not authenticated");if(!e.googleUserId)throw new Error("No Google account is currently linked");const W=In().map(P=>P.id===e.id?{...P,googleUserId:void 0,googleEmail:void 0}:P);rr(W);const C={...e,googleUserId:void 0,googleEmail:void 0};t(C),localStorage.getItem(ci)==="true"?localStorage.setItem(_r,JSON.stringify(C)):sessionStorage.setItem(_r,JSON.stringify(C))},[e]),H={user:e,isAuthenticated:!!e,isLoading:r,login:i,loginWithGoogle:u,logout:h,register:l,getAllUsers:p,getPendingUsers:g,approveUser:m,rejectUser:E,updateUserRole:I,updateUserStatus:k,deleteUser:A,updateProfile:R,changePassword:V,linkGoogleAccount:z,unlinkGoogleAccount:U};return v.jsx(IR.Provider,{value:H,children:n})}function Nd(){const n=b.useContext(IR);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}var I9=(n,e,t,r,s,i,l,u)=>{let h=document.documentElement,p=["light","dark"];function g(I){(Array.isArray(n)?n:[n]).forEach(k=>{let A=k==="class",R=A&&i?s.map(V=>i[V]||V):s;A?(h.classList.remove(...R),h.classList.add(i&&i[I]?i[I]:I)):h.setAttribute(k,I)}),m(I)}function m(I){u&&p.includes(I)&&(h.style.colorScheme=I)}function E(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let I=localStorage.getItem(e)||t,k=l&&I==="system"?E():I;g(k)}catch{}},DI=["light","dark"],TR="(prefers-color-scheme: dark)",S9=typeof window>"u",vw=b.createContext(void 0),T9={setTheme:n=>{},themes:[]},CR=()=>{var n;return(n=b.useContext(vw))!=null?n:T9},C9=n=>b.useContext(vw)?b.createElement(b.Fragment,null,n.children):b.createElement(P9,{...n}),A9=["light","dark"],P9=({forcedTheme:n,disableTransitionOnChange:e=!1,enableSystem:t=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=A9,defaultTheme:l=t?"system":"light",attribute:u="data-theme",value:h,children:p,nonce:g,scriptProps:m})=>{let[E,I]=b.useState(()=>k9(s,l)),[k,A]=b.useState(()=>E==="system"?by():E),R=h?Object.values(h):i,V=b.useCallback(B=>{let W=B;if(!W)return;B==="system"&&t&&(W=by());let C=h?h[W]:W,S=e?N9(g):null,P=document.documentElement,N=M=>{M==="class"?(P.classList.remove(...R),C&&P.classList.add(C)):M.startsWith("data-")&&(C?P.setAttribute(M,C):P.removeAttribute(M))};if(Array.isArray(u)?u.forEach(N):N(u),r){let M=DI.includes(l)?l:null,F=DI.includes(W)?W:M;P.style.colorScheme=F}S?.()},[g]),z=b.useCallback(B=>{let W=typeof B=="function"?B(E):B;I(W);try{localStorage.setItem(s,W)}catch{}},[E]),U=b.useCallback(B=>{let W=by(B);A(W),E==="system"&&t&&!n&&V("system")},[E,n]);b.useEffect(()=>{let B=window.matchMedia(TR);return B.addListener(U),U(B),()=>B.removeListener(U)},[U]),b.useEffect(()=>{let B=W=>{W.key===s&&(W.newValue?I(W.newValue):z(l))};return window.addEventListener("storage",B),()=>window.removeEventListener("storage",B)},[z]),b.useEffect(()=>{V(n??E)},[n,E]);let H=b.useMemo(()=>({theme:E,setTheme:z,forcedTheme:n,resolvedTheme:E==="system"?k:E,themes:t?[...i,"system"]:i,systemTheme:t?k:void 0}),[E,z,n,k,t,i]);return b.createElement(vw.Provider,{value:H},b.createElement(R9,{forcedTheme:n,storageKey:s,attribute:u,enableSystem:t,enableColorScheme:r,defaultTheme:l,value:h,themes:i,nonce:g,scriptProps:m}),p)},R9=b.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:l,themes:u,nonce:h,scriptProps:p})=>{let g=JSON.stringify([t,e,i,n,u,l,r,s]).slice(1,-1);return b.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${I9.toString()})(${g})`}})}),k9=(n,e)=>{if(S9)return;let t;try{t=localStorage.getItem(n)||void 0}catch{}return t||e},N9=n=>{let e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},by=n=>(n||(n=window.matchMedia(TR)),n.matches?"dark":"light");function D9({currentView:n,setCurrentView:e}){const{user:t}=Nd(),{state:r,toggleSidebar:s}=Np(),{theme:i,setTheme:l}=CR(),u=r==="collapsed",[h,p]=b.useState(!0),g=[{id:"dashboard",label:"Dashboard",icon:N2},{id:"inventory",label:"Inventory",icon:wp},{id:"purchase-orders",label:"Purchase Orders",icon:Rv},{id:"sales-orders",label:"Sales Orders",icon:G2},{id:"shipments",label:"Shipments",icon:kv},{id:"suppliers",label:"Suppliers",icon:A2},{id:"customers",label:"Customers",icon:uD},{id:"cash-bank",label:"Cash and Bank",icon:R2},{id:"payments",label:"Payments",icon:pD}],m=[{id:"users",label:"User Management",icon:nD}],E=()=>{window.location.reload()};return v.jsxs(xL,{collapsible:"icon",children:[v.jsx(TL,{className:"h-14 border-b border-sidebar-border px-3 flex items-center",children:v.jsx(jy,{children:v.jsxs(Fy,{children:[v.jsx(zy,{asChild:!0,children:v.jsxs("button",{onClick:E,className:"flex items-center gap-2 justify-start group-data-[collapsible=icon]:justify-center w-full cursor-pointer","aria-label":"Refresh application",children:[v.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-primary hover:bg-primary/90 transition-colors",children:v.jsx(gD,{className:"h-5 w-5 text-primary-foreground"})}),v.jsx("span",{className:"font-semibold text-sidebar-foreground group-data-[collapsible=icon]:hidden",children:"WMS"})]})}),v.jsx(Lf,{side:"right",children:v.jsx("p",{children:"Refresh Application"})})]})})}),v.jsxs(PL,{children:[v.jsxs(Db,{children:[v.jsx(Ob,{children:"Management"}),v.jsx(Mb,{children:v.jsx(ry,{children:g.map(I=>v.jsx(Qh,{children:v.jsxs(sy,{onClick:()=>e(I.id),isActive:n===I.id,tooltip:I.label,children:[v.jsx(I.icon,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:I.label})]})},I.id))})})]}),(t?.role==="Admin"||t?.role==="Owner")&&v.jsxs(Db,{children:[v.jsx(Ob,{children:"Administration"}),v.jsx(Mb,{children:v.jsx(ry,{children:m.map(I=>v.jsx(Qh,{children:v.jsxs(sy,{onClick:()=>e(I.id),isActive:n===I.id,tooltip:I.label,children:[v.jsx(I.icon,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:I.label})]})},I.id))})})]})]}),v.jsx(CL,{className:"border-t border-sidebar-border p-2",children:v.jsxs(ry,{children:[v.jsx(Qh,{children:v.jsxs(sC,{modal:!1,children:[v.jsx(jy,{children:v.jsxs(Fy,{children:[v.jsx(zy,{asChild:!0,children:v.jsx(oC,{asChild:!0,children:v.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground transition-colors",children:[v.jsx(eD,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden flex-1 text-left",children:"Settings"}),v.jsx(f2,{className:"h-4 w-4 shrink-0 group-data-[collapsible=icon]:hidden"})]})})}),v.jsx(Lf,{side:"right",className:"group-data-[collapsible=icon]:block hidden",children:"Settings"})]})}),v.jsxs(c_,{side:u?"right":"top",align:"start",className:"w-56",sideOffset:8,children:[v.jsx(u_,{children:"Settings"}),v.jsx(d_,{}),v.jsxs(Wu,{onSelect:I=>I.preventDefault(),className:"flex items-center justify-between cursor-pointer",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(i2,{className:"h-4 w-4"}),v.jsx("span",{children:"Notifications"})]}),v.jsx(fC,{checked:h,onCheckedChange:p})]}),v.jsxs(Wu,{onSelect:()=>l(i==="dark"?"light":"dark"),className:"cursor-pointer",children:[i==="dark"?v.jsx(oD,{className:"mr-2 h-4 w-4"}):v.jsx(z2,{className:"mr-2 h-4 w-4"}),i==="dark"?"Light Mode":"Dark Mode"]})]})]})}),v.jsx(AL,{className:"my-1"}),v.jsx(Qh,{children:v.jsxs(sy,{onClick:s,tooltip:u?"Expand Sidebar":"Collapse Sidebar",children:[u?v.jsx(H2,{className:"h-4 w-4 shrink-0"}):v.jsx(B2,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"group-data-[collapsible=icon]:hidden",children:"Collapse"})]})})]})}),v.jsx(IL,{})]})}function O9(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const M9=n=>{switch(n){case"success":return j9;case"info":return z9;case"warning":return F9;case"error":return U9;default:return null}},V9=Array(12).fill(0),L9=({visible:n,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ce.createElement("div",{className:"sonner-spinner"},V9.map((t,r)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),j9=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),F9=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),z9=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),U9=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$9=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),B9=()=>{const[n,e]=ce.useState(document.hidden);return ce.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let xv=1;class q9{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:xv++,l=this.toasts.find(h=>h.id===i),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(h=>h.id===i?(this.publish({...h,...e,id:i,title:r}),{...h,...e,id:i,dismissible:u,title:r}):h):this.addToast({title:r,...s,dismissible:u,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,l;const u=s.then(async p=>{if(l=["resolve",p],ce.isValidElement(p))i=!1,this.create({id:r,type:"default",message:p});else if(W9(p)&&!p.ok){i=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,E=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,k=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:E,...k})}else if(p instanceof Error){i=!1;const m=typeof t.error=="function"?await t.error(p):t.error,E=typeof t.description=="function"?await t.description(p):t.description,k=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:E,...k})}else if(t.success!==void 0){i=!1;const m=typeof t.success=="function"?await t.success(p):t.success,E=typeof t.description=="function"?await t.description(p):t.description,k=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:E,...k})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){i=!1;const g=typeof t.error=="function"?await t.error(p):t.error,m=typeof t.description=="function"?await t.description(p):t.description,I=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:m,...I})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,g)=>u.then(()=>l[0]==="reject"?g(l[1]):p(l[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,t)=>{const r=t?.id||xv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const sr=new q9,H9=(n,e)=>{const t=e?.id||xv++;return sr.addToast({title:n,...e,id:t}),t},W9=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",G9=H9,K9=()=>sr.toasts,Z9=()=>sr.getActiveToasts(),Mn=Object.assign(G9,{success:sr.success,info:sr.info,warning:sr.warning,error:sr.error,custom:sr.custom,message:sr.message,promise:sr.promise,dismiss:sr.dismiss,loading:sr.loading},{getHistory:K9,getToasts:Z9});O9("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function of(n){return n.label!==void 0}const Q9=3,Y9="24px",X9="16px",OI=4e3,J9=356,e$=14,t$=45,n$=200;function ks(...n){return n.filter(Boolean).join(" ")}function r$(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const s$=n=>{var e,t,r,s,i,l,u,h,p;const{invert:g,toast:m,unstyled:E,interacting:I,setHeights:k,visibleToasts:A,heights:R,index:V,toasts:z,expanded:U,removeToast:H,defaultRichColors:B,closeButton:W,style:C,cancelButtonStyle:S,actionButtonStyle:P,className:N="",descriptionClassName:M="",duration:F,position:O,gap:Ce,expandByDefault:Be,classNames:me,icons:_e,closeButtonAriaLabel:G="Close toast"}=n,[ne,X]=ce.useState(null),[j,K]=ce.useState(null),[oe,ie]=ce.useState(!1),[he,Se]=ce.useState(!1),[ve,Ie]=ce.useState(!1),[Ge,Qe]=ce.useState(!1),[pe,xt]=ce.useState(!1),[dn,ds]=ce.useState(0),[Ha,Ys]=ce.useState(0),ar=ce.useRef(m.duration||F||OI),ko=ce.useRef(null),gt=ce.useRef(null),Vt=V===0,lr=V+1<=A,sn=m.type,Sr=m.dismissible!==!1,Wa=m.className||"",hs=m.descriptionClassName||"",fs=ce.useMemo(()=>R.findIndex(qe=>qe.toastId===m.id)||0,[R,m.id]),No=ce.useMemo(()=>{var qe;return(qe=m.closeButton)!=null?qe:W},[m.closeButton,W]),qr=ce.useMemo(()=>m.duration||F||OI,[m.duration,F]),Do=ce.useRef(0),Zn=ce.useRef(0),Hr=ce.useRef(0),Wr=ce.useRef(null),[ps,Oo]=O.split("-"),Mo=ce.useMemo(()=>R.reduce((qe,It,qt)=>qt>=fs?qe:qe+It.height,0),[R,fs]),Qn=B9(),Vo=m.invert||g,Tr=sn==="loading";Zn.current=ce.useMemo(()=>fs*Ce+Mo,[fs,Mo]),ce.useEffect(()=>{ar.current=qr},[qr]),ce.useEffect(()=>{ie(!0)},[]),ce.useEffect(()=>{const qe=gt.current;if(qe){const It=qe.getBoundingClientRect().height;return Ys(It),k(qt=>[{toastId:m.id,height:It,position:m.position},...qt]),()=>k(qt=>qt.filter(hn=>hn.toastId!==m.id))}},[k,m.id]),ce.useLayoutEffect(()=>{if(!oe)return;const qe=gt.current,It=qe.style.height;qe.style.height="auto";const qt=qe.getBoundingClientRect().height;qe.style.height=It,Ys(qt),k(hn=>hn.find(Ut=>Ut.toastId===m.id)?hn.map(Ut=>Ut.toastId===m.id?{...Ut,height:qt}:Ut):[{toastId:m.id,height:qt,position:m.position},...hn])},[oe,m.title,m.description,k,m.id,m.jsx,m.action,m.cancel]);const zn=ce.useCallback(()=>{Se(!0),ds(Zn.current),k(qe=>qe.filter(It=>It.toastId!==m.id)),setTimeout(()=>{H(m)},n$)},[m,H,k,Zn]);ce.useEffect(()=>{if(m.promise&&sn==="loading"||m.duration===1/0||m.type==="loading")return;let qe;return U||I||Qn?(()=>{if(Hr.current<Do.current){const hn=new Date().getTime()-Do.current;ar.current=ar.current-hn}Hr.current=new Date().getTime()})():(()=>{ar.current!==1/0&&(Do.current=new Date().getTime(),qe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),zn()},ar.current))})(),()=>clearTimeout(qe)},[U,I,m,sn,Qn,zn]),ce.useEffect(()=>{m.delete&&(zn(),m.onDismiss==null||m.onDismiss.call(m,m))},[zn,m.delete]);function Gr(){var qe;if(_e?.loading){var It;return ce.createElement("div",{className:ks(me?.loader,m==null||(It=m.classNames)==null?void 0:It.loader,"sonner-loader"),"data-visible":sn==="loading"},_e.loading)}return ce.createElement(L9,{className:ks(me?.loader,m==null||(qe=m.classNames)==null?void 0:qe.loader),visible:sn==="loading"})}const Kr=m.icon||_e?.[sn]||M9(sn);var At,Lo;return ce.createElement("li",{tabIndex:0,ref:gt,className:ks(N,Wa,me?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,me?.default,me?.[sn],m==null||(t=m.classNames)==null?void 0:t[sn]),"data-sonner-toast":"","data-rich-colors":(At=m.richColors)!=null?At:B,"data-styled":!(m.jsx||m.unstyled||E),"data-mounted":oe,"data-promise":!!m.promise,"data-swiped":pe,"data-removed":he,"data-visible":lr,"data-y-position":ps,"data-x-position":Oo,"data-index":V,"data-front":Vt,"data-swiping":ve,"data-dismissible":Sr,"data-type":sn,"data-invert":Vo,"data-swipe-out":Ge,"data-swipe-direction":j,"data-expanded":!!(U||Be&&oe),"data-testid":m.testId,style:{"--index":V,"--toasts-before":V,"--z-index":z.length-V,"--offset":`${he?dn:Zn.current}px`,"--initial-height":Be?"auto":`${Ha}px`,...C,...m.style},onDragEnd:()=>{Ie(!1),X(null),Wr.current=null},onPointerDown:qe=>{qe.button!==2&&(Tr||!Sr||(ko.current=new Date,ds(Zn.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(Ie(!0),Wr.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,It,qt;if(Ge||!Sr)return;Wr.current=null;const hn=Number(((qe=gt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Un=Number(((It=gt.current)==null?void 0:It.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ut=new Date().getTime()-((qt=ko.current)==null?void 0:qt.getTime()),Qt=ne==="x"?hn:Un,cr=Math.abs(Qt)/Ut;if(Math.abs(Qt)>=t$||cr>.11){ds(Zn.current),m.onDismiss==null||m.onDismiss.call(m,m),K(ne==="x"?hn>0?"right":"left":Un>0?"down":"up"),zn(),Qe(!0);return}else{var Yt,An;(Yt=gt.current)==null||Yt.style.setProperty("--swipe-amount-x","0px"),(An=gt.current)==null||An.style.setProperty("--swipe-amount-y","0px")}xt(!1),Ie(!1),X(null)},onPointerMove:qe=>{var It,qt,hn;if(!Wr.current||!Sr||((It=window.getSelection())==null?void 0:It.toString().length)>0)return;const Ut=qe.clientY-Wr.current.y,Qt=qe.clientX-Wr.current.x;var cr;const Yt=(cr=n.swipeDirections)!=null?cr:r$(O);!ne&&(Math.abs(Qt)>1||Math.abs(Ut)>1)&&X(Math.abs(Qt)>Math.abs(Ut)?"x":"y");let An={x:0,y:0};const Cr=fn=>1/(1.5+Math.abs(fn)/20);if(ne==="y"){if(Yt.includes("top")||Yt.includes("bottom"))if(Yt.includes("top")&&Ut<0||Yt.includes("bottom")&&Ut>0)An.y=Ut;else{const fn=Ut*Cr(Ut);An.y=Math.abs(fn)<Math.abs(Ut)?fn:Ut}}else if(ne==="x"&&(Yt.includes("left")||Yt.includes("right")))if(Yt.includes("left")&&Qt<0||Yt.includes("right")&&Qt>0)An.x=Qt;else{const fn=Qt*Cr(Qt);An.x=Math.abs(fn)<Math.abs(Qt)?fn:Qt}(Math.abs(An.x)>0||Math.abs(An.y)>0)&&xt(!0),(qt=gt.current)==null||qt.style.setProperty("--swipe-amount-x",`${An.x}px`),(hn=gt.current)==null||hn.style.setProperty("--swipe-amount-y",`${An.y}px`)}},No&&!m.jsx&&sn!=="loading"?ce.createElement("button",{"aria-label":G,"data-disabled":Tr,"data-close-button":!0,onClick:Tr||!Sr?()=>{}:()=>{zn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ks(me?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Lo=_e?.close)!=null?Lo:$9):null,(sn||m.icon||m.promise)&&m.icon!==null&&(_e?.[sn]!==null||m.icon)?ce.createElement("div",{"data-icon":"",className:ks(me?.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Gr():null,m.type!=="loading"?Kr:null):null,ce.createElement("div",{"data-content":"",className:ks(me?.content,m==null||(i=m.classNames)==null?void 0:i.content)},ce.createElement("div",{"data-title":"",className:ks(me?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ce.createElement("div",{"data-description":"",className:ks(M,hs,me?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),ce.isValidElement(m.cancel)?m.cancel:m.cancel&&of(m.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||S,onClick:qe=>{of(m.cancel)&&Sr&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,qe),zn())},className:ks(me?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,ce.isValidElement(m.action)?m.action:m.action&&of(m.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:qe=>{of(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,qe),!qe.defaultPrevented&&zn())},className:ks(me?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function MI(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function o$(n,e){const t={};return[n,e].forEach((r,s)=>{const i=s===1,l=i?"--mobile-offset":"--offset",u=i?X9:Y9;function h(p){["top","right","bottom","left"].forEach(g=>{t[`${l}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=u:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(u)}),t}const i$=ce.forwardRef(function(e,t){const{id:r,invert:s,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:h,className:p,offset:g,mobileOffset:m,theme:E="light",richColors:I,duration:k,style:A,visibleToasts:R=Q9,toastOptions:V,dir:z=MI(),gap:U=e$,icons:H,containerAriaLabel:B="Notifications"}=e,[W,C]=ce.useState([]),S=ce.useMemo(()=>r?W.filter(oe=>oe.toasterId===r):W.filter(oe=>!oe.toasterId),[W,r]),P=ce.useMemo(()=>Array.from(new Set([i].concat(S.filter(oe=>oe.position).map(oe=>oe.position)))),[S,i]),[N,M]=ce.useState([]),[F,O]=ce.useState(!1),[Ce,Be]=ce.useState(!1),[me,_e]=ce.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=ce.useRef(null),ne=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=ce.useRef(null),j=ce.useRef(!1),K=ce.useCallback(oe=>{C(ie=>{var he;return(he=ie.find(Se=>Se.id===oe.id))!=null&&he.delete||sr.dismiss(oe.id),ie.filter(({id:Se})=>Se!==oe.id)})},[]);return ce.useEffect(()=>sr.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{C(ie=>ie.map(he=>he.id===oe.id?{...he,delete:!0}:he))});return}setTimeout(()=>{VS.flushSync(()=>{C(ie=>{const he=ie.findIndex(Se=>Se.id===oe.id);return he!==-1?[...ie.slice(0,he),{...ie[he],...oe},...ie.slice(he+1)]:[oe,...ie]})})})}),[W]),ce.useEffect(()=>{if(E!=="system"){_e(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_e("dark"):_e("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:ie})=>{_e(ie?"dark":"light")})}catch{oe.addListener(({matches:he})=>{try{_e(he?"dark":"light")}catch(Se){console.error(Se)}})}},[E]),ce.useEffect(()=>{W.length<=1&&O(!1)},[W]),ce.useEffect(()=>{const oe=ie=>{var he;if(l.every(Ie=>ie[Ie]||ie.code===Ie)){var ve;O(!0),(ve=G.current)==null||ve.focus()}ie.code==="Escape"&&(document.activeElement===G.current||(he=G.current)!=null&&he.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[l]),ce.useEffect(()=>{if(G.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,j.current=!1)}},[G.current]),ce.createElement("section",{ref:t,"aria-label":`${B} ${ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((oe,ie)=>{var he;const[Se,ve]=oe.split("-");return S.length?ce.createElement("ol",{key:oe,dir:z==="auto"?MI():z,tabIndex:-1,ref:G,className:p,"data-sonner-toaster":!0,"data-sonner-theme":me,"data-y-position":Se,"data-x-position":ve,style:{"--front-toast-height":`${((he=N[0])==null?void 0:he.height)||0}px`,"--width":`${J9}px`,"--gap":`${U}px`,...A,...o$(g,m)},onBlur:Ie=>{j.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(j.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||j.current||(j.current=!0,X.current=Ie.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{Ce||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||Be(!0)},onPointerUp:()=>Be(!1)},S.filter(Ie=>!Ie.position&&ie===0||Ie.position===oe).map((Ie,Ge)=>{var Qe,pe;return ce.createElement(s$,{key:Ie.id,icons:H,index:Ge,toast:Ie,defaultRichColors:I,duration:(Qe=V?.duration)!=null?Qe:k,className:V?.className,descriptionClassName:V?.descriptionClassName,invert:s,visibleToasts:R,closeButton:(pe=V?.closeButton)!=null?pe:h,interacting:Ce,position:oe,style:V?.style,unstyled:V?.unstyled,classNames:V?.classNames,cancelButtonStyle:V?.cancelButtonStyle,actionButtonStyle:V?.actionButtonStyle,closeButtonAriaLabel:V?.closeButtonAriaLabel,removeToast:K,toasts:S.filter(xt=>xt.position==Ie.position),heights:N.filter(xt=>xt.position==Ie.position),setHeights:M,expandByDefault:u,gap:U,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),VI=({...n})=>{const{theme:e="system"}=CR();return v.jsx(i$,{theme:e,className:"toaster group",position:"top-right",richColors:!0,closeButton:!0,duration:4e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",success:"group-[.toaster]:border-green-500/50 group-[.toaster]:bg-green-50 dark:group-[.toaster]:bg-green-950/30 group-[.toaster]:text-green-700 dark:group-[.toaster]:text-green-400",error:"group-[.toaster]:border-red-500/50 group-[.toaster]:bg-red-50 dark:group-[.toaster]:bg-red-950/30 group-[.toaster]:text-red-700 dark:group-[.toaster]:text-red-400",warning:"group-[.toaster]:border-yellow-500/50 group-[.toaster]:bg-yellow-50 dark:group-[.toaster]:bg-yellow-950/30 group-[.toaster]:text-yellow-700 dark:group-[.toaster]:text-yellow-400",info:"group-[.toaster]:border-blue-500/50 group-[.toaster]:bg-blue-50 dark:group-[.toaster]:bg-blue-950/30 group-[.toaster]:text-blue-700 dark:group-[.toaster]:text-blue-400"}},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function AR({className:n,...e}){return v.jsx("div",{"data-slot":"card",className:$e("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function PR({className:n,...e}){return v.jsx("div",{"data-slot":"card-header",className:$e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function RR({className:n,...e}){return v.jsx("h4",{"data-slot":"card-title",className:$e("leading-none",n),...e})}function kR({className:n,...e}){return v.jsx("p",{"data-slot":"card-description",className:$e("text-muted-foreground",n),...e})}function NR({className:n,...e}){return v.jsx("div",{"data-slot":"card-content",className:$e("px-6 [&:last-child]:pb-6",n),...e})}class LI extends b.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t),this.props.onError?.(e,t),this.setState({errorInfo:t})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:v.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-4",children:v.jsxs(AR,{className:"max-w-lg w-full",children:[v.jsxs(PR,{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(aD,{className:"h-6 w-6 text-red-500"}),v.jsx(RR,{children:"Something went wrong"})]}),v.jsx(kR,{children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."})]}),v.jsxs(NR,{className:"space-y-4",children:[this.state.error&&v.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-950 p-4",children:v.jsx("p",{className:"text-sm font-mono text-red-800 dark:text-red-200",children:this.state.error.message})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(xa,{onClick:this.handleReset,className:"flex-1",children:[v.jsx(Z2,{className:"h-4 w-4 mr-2"}),"Try Again"]}),v.jsx(xa,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]}),!1]})]})}):this.props.children}}var a$="Label",DR=b.forwardRef((n,e)=>v.jsx(ht.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));DR.displayName=a$;var l$=DR;function Ll({className:n,...e}){return v.jsx(l$,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}var cm="Checkbox",[c$]=Ks(cm),[u$,_w]=c$(cm);function d$(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:h,required:p,value:g="on",internal_do_not_use_render:m}=n,[E,I]=vc({prop:t,defaultProp:s??!1,onChange:h,caller:cm}),[k,A]=b.useState(null),[R,V]=b.useState(null),z=b.useRef(!1),U=k?!!l||!!k.closest("form"):!0,H={checked:E,disabled:i,setChecked:I,control:k,setControl:A,name:u,form:l,value:g,hasConsumerStoppedPropagationRef:z,required:p,defaultChecked:xi(s)?!1:s,isFormControl:U,bubbleInput:R,setBubbleInput:V};return v.jsx(u$,{scope:e,...H,children:h$(m)?m(H):r})}var OR="CheckboxTrigger",MR=b.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:i,value:l,disabled:u,checked:h,required:p,setControl:g,setChecked:m,hasConsumerStoppedPropagationRef:E,isFormControl:I,bubbleInput:k}=_w(OR,n),A=Et(s,g),R=b.useRef(h);return b.useEffect(()=>{const V=i?.form;if(V){const z=()=>m(R.current);return V.addEventListener("reset",z),()=>V.removeEventListener("reset",z)}},[i,m]),v.jsx(ht.button,{type:"button",role:"checkbox","aria-checked":xi(h)?"mixed":h,"aria-required":p,"data-state":UR(h),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:A,onKeyDown:Le(e,V=>{V.key==="Enter"&&V.preventDefault()}),onClick:Le(t,V=>{m(z=>xi(z)?!0:!z),k&&I&&(E.current=V.isPropagationStopped(),E.current||V.stopPropagation())})})});MR.displayName=OR;var VR=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:h,onCheckedChange:p,form:g,...m}=n;return v.jsx(d$,{__scopeCheckbox:t,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:p,name:r,form:g,value:h,internal_do_not_use_render:({isFormControl:E})=>v.jsxs(v.Fragment,{children:[v.jsx(MR,{...m,ref:e,__scopeCheckbox:t}),E&&v.jsx(zR,{__scopeCheckbox:t})]})})});VR.displayName=cm;var LR="CheckboxIndicator",jR=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,i=_w(LR,t);return v.jsx(Gn,{present:r||xi(i.checked)||i.checked===!0,children:v.jsx(ht.span,{"data-state":UR(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});jR.displayName=LR;var FR="CheckboxBubbleInput",zR=b.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:h,name:p,value:g,form:m,bubbleInput:E,setBubbleInput:I}=_w(FR,n),k=Et(t,I),A=iC(i),R=Qv(r);b.useEffect(()=>{const z=E;if(!z)return;const U=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(U,"checked").set,W=!s.current;if(A!==i&&B){const C=new Event("click",{bubbles:W});z.indeterminate=xi(i),B.call(z,xi(i)?!1:i),z.dispatchEvent(C)}},[E,A,i,s]);const V=b.useRef(xi(i)?!1:i);return v.jsx(ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??V.current,required:u,disabled:h,name:p,value:g,form:m,...e,tabIndex:-1,ref:k,style:{...e.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});zR.displayName=FR;function h$(n){return typeof n=="function"}function xi(n){return n==="indeterminate"}function UR(n){return xi(n)?"indeterminate":n?"checked":"unchecked"}function jI({className:n,...e}){return v.jsx(VR,{"data-slot":"checkbox",className:$e("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:v.jsx(jR,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:v.jsx(xS,{className:"size-3.5"})})})}function se(n,e,t){function r(u,h){var p;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(p=u._zod).traits??(p.traits=new Set),u._zod.traits.add(n),e(u,h);for(const g in l.prototype)g in u||Object.defineProperty(u,g,{value:l.prototype[g].bind(u)});u._zod.constr=l,u._zod.def=h}const s=t?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:n});function l(u){var h;const p=t?.Parent?new i:this;r(p,u),(h=p._zod).deferred??(h.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>t?.Parent&&u instanceof t.Parent?!0:u?._zod?.traits?.has(n)}),Object.defineProperty(l,"name",{value:n}),l}class Ql extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $R extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const BR={};function La(n){return BR}function f$(n){const e=Object.values(n).filter(r=>typeof r=="number");return Object.entries(n).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function Iv(n,e){return typeof e=="bigint"?e.toString():e}function ww(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function Ew(n){return n==null}function bw(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}function p$(n,e){const t=(n.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(s=Number.parseInt(h[1]))}const i=t>s?t:s,l=Number.parseInt(n.toFixed(i).replace(".","")),u=Number.parseInt(e.toFixed(i).replace(".",""));return l%u/10**i}const FI=Symbol("evaluating");function Ct(n,e,t){let r;Object.defineProperty(n,e,{get(){if(r!==FI)return r===void 0&&(r=FI,r=t()),r},set(s){Object.defineProperty(n,e,{value:s})},configurable:!0})}function Ba(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function qa(...n){const e={};for(const t of n){const r=Object.getOwnPropertyDescriptors(t);Object.assign(e,r)}return Object.defineProperties({},e)}function zI(n){return JSON.stringify(n)}const qR="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function hp(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const m$=ww(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function ad(n){if(hp(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(hp(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function HR(n){return ad(n)?{...n}:Array.isArray(n)?[...n]:n}const g$=new Set(["string","number","symbol"]);function um(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ni(n,e,t){const r=new n._zod.constr(e??n._zod.def);return(!e||t?.parent)&&(r._zod.parent=n),r}function je(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function y$(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}const v$={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function _$(n,e){const t=n._zod.def,r=qa(n._zod.def,{get shape(){const s={};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=t.shape[i])}return Ba(this,"shape",s),s},checks:[]});return Ni(n,r)}function w$(n,e){const t=n._zod.def,r=qa(n._zod.def,{get shape(){const s={...n._zod.def.shape};for(const i in e){if(!(i in t.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return Ba(this,"shape",s),s},checks:[]});return Ni(n,r)}function E$(n,e){if(!ad(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=qa(n._zod.def,{get shape(){const i={...n._zod.def.shape,...e};return Ba(this,"shape",i),i},checks:[]});return Ni(n,s)}function b$(n,e){if(!ad(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const r={...n._zod.def.shape,...e};return Ba(this,"shape",r),r},checks:n._zod.def.checks};return Ni(n,t)}function x$(n,e){const t=qa(n._zod.def,{get shape(){const r={...n._zod.def.shape,...e._zod.def.shape};return Ba(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Ni(n,t)}function I$(n,e,t){const r=qa(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=n?new n({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)i[l]=n?new n({type:"optional",innerType:s[l]}):s[l];return Ba(this,"shape",i),i},checks:[]});return Ni(e,r)}function S$(n,e,t){const r=qa(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(t)for(const l in t){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=new n({type:"nonoptional",innerType:s[l]}))}else for(const l in s)i[l]=new n({type:"nonoptional",innerType:s[l]});return Ba(this,"shape",i),i},checks:[]});return Ni(e,r)}function Bl(n,e=0){if(n.aborted===!0)return!0;for(let t=e;t<n.issues.length;t++)if(n.issues[t]?.continue!==!0)return!0;return!1}function WR(n,e){return e.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(n),t})}function af(n){return typeof n=="string"?n:n?.message}function ja(n,e,t){const r={...n,path:n.path??[]};if(!n.message){const s=af(n.inst?._zod.def?.error?.(n))??af(e?.error?.(n))??af(t.customError?.(n))??af(t.localeError?.(n))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function xw(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function ld(...n){const[e,t,r]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:r}:{...e}}const GR=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,Iv,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},KR=se("$ZodError",GR),ZR=se("$ZodError",GR,{Parent:Error});function T$(n,e=t=>t.message){const t={},r=[];for(const s of n.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}function C$(n,e=t=>t.message){const t={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>r({issues:l}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)t._errors.push(e(i));else{let l=t,u=0;for(;u<i.path.length;){const h=i.path[u];u===i.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(e(i))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return r(n),t}const Iw=n=>(e,t,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise)throw new Ql;if(l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>ja(h,i,La())));throw qR(u,s?.callee),u}return l.value},Sw=n=>async(e,t,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:t,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(s?.Err??n)(l.issues.map(h=>ja(h,i,La())));throw qR(u,s?.callee),u}return l.value},dm=n=>(e,t,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:t,issues:[]},s);if(i instanceof Promise)throw new Ql;return i.issues.length?{success:!1,error:new(n??KR)(i.issues.map(l=>ja(l,s,La())))}:{success:!0,data:i.value}},A$=dm(ZR),hm=n=>async(e,t,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:t,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new n(i.issues.map(l=>ja(l,s,La())))}:{success:!0,data:i.value}},P$=hm(ZR),R$=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Iw(n)(e,t,s)},k$=n=>(e,t,r)=>Iw(n)(e,t,r),N$=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Sw(n)(e,t,s)},D$=n=>async(e,t,r)=>Sw(n)(e,t,r),O$=n=>(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return dm(n)(e,t,s)},M$=n=>(e,t,r)=>dm(n)(e,t,r),V$=n=>async(e,t,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return hm(n)(e,t,s)},L$=n=>async(e,t,r)=>hm(n)(e,t,r),j$=/^[cC][^\s-]{8,}$/,F$=/^[0-9a-z]+$/,z$=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,U$=/^[0-9a-vA-V]{20}$/,$$=/^[A-Za-z0-9]{27}$/,B$=/^[a-zA-Z0-9_-]{21}$/,q$=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,H$=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,UI=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,W$=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,G$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function K$(){return new RegExp(G$,"u")}const Z$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Q$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Y$=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,X$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,J$=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,QR=/^[A-Za-z0-9_-]*$/,eB=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,tB=/^\+(?:[0-9]){6,14}[0-9]$/,YR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",nB=new RegExp(`^${YR}$`);function XR(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function rB(n){return new RegExp(`^${XR(n)}$`)}function sB(n){const e=XR({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${t.join("|")})`;return new RegExp(`^${YR}T(?:${r})$`)}const oB=n=>{const e=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},iB=/^-?\d+$/,aB=/^-?\d+(?:\.\d+)?/,lB=/^(?:true|false)$/i,cB=/^[^A-Z]*$/,uB=/^[^a-z]*$/,ir=se("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),JR={number:"number",bigint:"bigint",object:"date"},ek=se("$ZodCheckLessThan",(n,e)=>{ir.init(n,e);const t=JR[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:t,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),tk=se("$ZodCheckGreaterThan",(n,e)=>{ir.init(n,e);const t=JR[typeof e.value];n._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:t,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),dB=se("$ZodCheckMultipleOf",(n,e)=>{ir.init(n,e),n._zod.onattach.push(t=>{var r;(r=t._zod.bag).multipleOf??(r.multipleOf=e.value)}),n._zod.check=t=>{if(typeof t.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%e.value===BigInt(0):p$(t.value,e.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:e.value,input:t.value,inst:n,continue:!e.abort})}}),hB=se("$ZodCheckNumberFormat",(n,e)=>{ir.init(n,e),e.format=e.format||"float64";const t=e.format?.includes("int"),r=t?"int":"number",[s,i]=v$[e.format];n._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=s,u.maximum=i,t&&(u.pattern=iB)}),n._zod.check=l=>{const u=l.value;if(t){if(!Number.isInteger(u)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:u,inst:n});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort});return}}u<s&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:n,continue:!e.abort}),u>i&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:n})}}),fB=se("$ZodCheckMaxLength",(n,e)=>{var t;ir.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!Ew(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),n._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const l=xw(s);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),pB=se("$ZodCheckMinLength",(n,e)=>{var t;ir.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!Ew(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),n._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const l=xw(s);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:n,continue:!e.abort})}}),mB=se("$ZodCheckLengthEquals",(n,e)=>{var t;ir.init(n,e),(t=n._zod.def).when??(t.when=r=>{const s=r.value;return!Ew(s)&&s.length!==void 0}),n._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),n._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const l=xw(s),u=i>e.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:n,continue:!e.abort})}}),fm=se("$ZodCheckStringFormat",(n,e)=>{var t,r;ir.init(n,e),n._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(r=n._zod).check??(r.check=()=>{})}),gB=se("$ZodCheckRegex",(n,e)=>{fm.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),yB=se("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=cB),fm.init(n,e)}),vB=se("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=uB),fm.init(n,e)}),_B=se("$ZodCheckIncludes",(n,e)=>{ir.init(n,e);const t=um(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=r,n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),n._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:n,continue:!e.abort})}}),wB=se("$ZodCheckStartsWith",(n,e)=>{ir.init(n,e);const t=new RegExp(`^${um(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:n,continue:!e.abort})}}),EB=se("$ZodCheckEndsWith",(n,e)=>{ir.init(n,e);const t=new RegExp(`.*${um(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(t)}),n._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:n,continue:!e.abort})}}),bB=se("$ZodCheckOverwrite",(n,e)=>{ir.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class xB{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),s=Math.min(...r.map(l=>l.length-l.trimStart().length)),i=r.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const e=Function,t=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...t,s.join(`
`))}}const IB={major:4,minor:1,patch:12},Zt=se("$ZodType",(n,e)=>{var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=IB;const r=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&r.unshift(n);for(const s of r)for(const i of s._zod.onattach)i(n);if(r.length===0)(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const s=(l,u,h)=>{let p=Bl(l),g;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(p)continue;const E=l.issues.length,I=m._zod.check(l);if(I instanceof Promise&&h?.async===!1)throw new Ql;if(g||I instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await I,l.issues.length!==E&&(p||(p=Bl(l,E)))});else{if(l.issues.length===E)continue;p||(p=Bl(l,E))}}return g?g.then(()=>l):l},i=(l,u,h)=>{if(Bl(l))return l.aborted=!0,l;const p=s(u,r,h);if(p instanceof Promise){if(h.async===!1)throw new Ql;return p.then(g=>n._zod.parse(g,h))}return n._zod.parse(p,h)};n._zod.run=(l,u)=>{if(u.skipChecks)return n._zod.parse(l,u);if(u.direction==="backward"){const p=n._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return p instanceof Promise?p.then(g=>i(g,l,u)):i(p,l,u)}const h=n._zod.parse(l,u);if(h instanceof Promise){if(u.async===!1)throw new Ql;return h.then(p=>s(p,r,u))}return s(h,r,u)}}n["~standard"]={validate:s=>{try{const i=A$(n,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return P$(n,s).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),Tw=se("$ZodString",(n,e)=>{Zt.init(n,e),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??oB(n._zod.bag),n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:n}),t}}),Mt=se("$ZodStringFormat",(n,e)=>{fm.init(n,e),Tw.init(n,e)}),SB=se("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=H$),Mt.init(n,e)}),TB=se("$ZodUUID",(n,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=UI(r))}else e.pattern??(e.pattern=UI());Mt.init(n,e)}),CB=se("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=W$),Mt.init(n,e)}),AB=se("$ZodURL",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{try{const r=t.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:eB.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=s.href:t.value=r;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),PB=se("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=K$()),Mt.init(n,e)}),RB=se("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=B$),Mt.init(n,e)}),kB=se("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=j$),Mt.init(n,e)}),NB=se("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=F$),Mt.init(n,e)}),DB=se("$ZodULID",(n,e)=>{e.pattern??(e.pattern=z$),Mt.init(n,e)}),OB=se("$ZodXID",(n,e)=>{e.pattern??(e.pattern=U$),Mt.init(n,e)}),MB=se("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=$$),Mt.init(n,e)}),VB=se("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=sB(e)),Mt.init(n,e)}),LB=se("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=nB),Mt.init(n,e)}),jB=se("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=rB(e)),Mt.init(n,e)}),FB=se("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=q$),Mt.init(n,e)}),zB=se("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=Z$),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv4"})}),UB=se("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=Q$),Mt.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),$B=se("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=Y$),Mt.init(n,e)}),BB=se("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=X$),Mt.init(n,e),n._zod.check=t=>{const r=t.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const l=Number(i);if(`${l}`!==i)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${s}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function nk(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const qB=se("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=J$),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{nk(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function HB(n){if(!QR.test(n))return!1;const e=n.replace(/[-_]/g,r=>r==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return nk(t)}const WB=se("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=QR),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{HB(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),GB=se("$ZodE164",(n,e)=>{e.pattern??(e.pattern=tB),Mt.init(n,e)});function KB(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[r]=t;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const ZB=se("$ZodJWT",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{KB(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),rk=se("$ZodNumber",(n,e)=>{Zt.init(n,e),n._zod.pattern=n._zod.bag.pattern??aB,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=Number(t.value)}catch{}const s=t.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return t;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:s,inst:n,...i?{received:i}:{}}),t}}),QB=se("$ZodNumber",(n,e)=>{hB.init(n,e),rk.init(n,e)}),YB=se("$ZodBoolean",(n,e)=>{Zt.init(n,e),n._zod.pattern=lB,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=!!t.value}catch{}const s=t.value;return typeof s=="boolean"||t.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:n}),t}}),XB=se("$ZodUnknown",(n,e)=>{Zt.init(n,e),n._zod.parse=t=>t}),JB=se("$ZodNever",(n,e)=>{Zt.init(n,e),n._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)});function $I(n,e,t){n.issues.length&&e.issues.push(...WR(t,n.issues)),e.value[t]=n.value}const e8=se("$ZodArray",(n,e)=>{Zt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value;if(!Array.isArray(s))return t.issues.push({expected:"array",code:"invalid_type",input:s,inst:n}),t;t.value=Array(s.length);const i=[];for(let l=0;l<s.length;l++){const u=s[l],h=e.element._zod.run({value:u,issues:[]},r);h instanceof Promise?i.push(h.then(p=>$I(p,t,l))):$I(h,t,l)}return i.length?Promise.all(i).then(()=>t):t}});function fp(n,e,t,r){n.issues.length&&e.issues.push(...WR(t,n.issues)),n.value===void 0?t in r&&(e.value[t]=void 0):e.value[t]=n.value}function sk(n){const e=Object.keys(n.shape);for(const r of e)if(!n.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const t=y$(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function ok(n,e,t,r,s,i){const l=[],u=s.keySet,h=s.catchall._zod,p=h.def.type;for(const g of Object.keys(e)){if(u.has(g))continue;if(p==="never"){l.push(g);continue}const m=h.run({value:e[g],issues:[]},r);m instanceof Promise?n.push(m.then(E=>fp(E,t,g,e))):fp(m,t,g,e)}return l.length&&t.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:i}),n.length?Promise.all(n).then(()=>t):t}const t8=se("$ZodObject",(n,e)=>{if(Zt.init(n,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const u=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...u};return Object.defineProperty(e,"shape",{value:h}),h}})}const r=ww(()=>sk(e));Ct(n._zod,"propValues",()=>{const u=e.shape,h={};for(const p in u){const g=u[p]._zod;if(g.values){h[p]??(h[p]=new Set);for(const m of g.values)h[p].add(m)}}return h});const s=hp,i=e.catchall;let l;n._zod.parse=(u,h)=>{l??(l=r.value);const p=u.value;if(!s(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:n}),u;u.value={};const g=[],m=l.shape;for(const E of l.keys){const k=m[E]._zod.run({value:p[E],issues:[]},h);k instanceof Promise?g.push(k.then(A=>fp(A,u,E,p))):fp(k,u,E,p)}return i?ok(g,p,u,h,r.value,n):g.length?Promise.all(g).then(()=>u):u}}),n8=se("$ZodObjectJIT",(n,e)=>{t8.init(n,e);const t=n._zod.parse,r=ww(()=>sk(e)),s=E=>{const I=new xB(["shape","payload","ctx"]),k=r.value,A=U=>{const H=zI(U);return`shape[${H}]._zod.run({ value: input[${H}], issues: [] }, ctx)`};I.write("const input = payload.value;");const R=Object.create(null);let V=0;for(const U of k.keys)R[U]=`key_${V++}`;I.write("const newResult = {};");for(const U of k.keys){const H=R[U],B=zI(U);I.write(`const ${H} = ${A(U)};`),I.write(`
        if (${H}.issues.length) {
          payload.issues = payload.issues.concat(${H}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${B}, ...iss.path] : [${B}]
          })));
        }
        
        
        if (${H}.value === undefined) {
          if (${B} in input) {
            newResult[${B}] = undefined;
          }
        } else {
          newResult[${B}] = ${H}.value;
        }
        
      `)}I.write("payload.value = newResult;"),I.write("return payload;");const z=I.compile();return(U,H)=>z(E,U,H)};let i;const l=hp,u=!BR.jitless,p=u&&m$.value,g=e.catchall;let m;n._zod.parse=(E,I)=>{m??(m=r.value);const k=E.value;return l(k)?u&&p&&I?.async===!1&&I.jitless!==!0?(i||(i=s(e.shape)),E=i(E,I),g?ok([],k,E,I,m,n):E):t(E,I):(E.issues.push({expected:"object",code:"invalid_type",input:k,inst:n}),E)}});function BI(n,e,t,r){for(const i of n)if(i.issues.length===0)return e.value=i.value,e;const s=n.filter(i=>!Bl(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(i=>i.issues.map(l=>ja(l,r,La())))}),e)}const r8=se("$ZodUnion",(n,e)=>{Zt.init(n,e),Ct(n._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Ct(n._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Ct(n._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Ct(n._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>bw(i.source)).join("|")})$`)}});const t=e.options.length===1,r=e.options[0]._zod.run;n._zod.parse=(s,i)=>{if(t)return r(s,i);let l=!1;const u=[];for(const h of e.options){const p=h._zod.run({value:s.value,issues:[]},i);if(p instanceof Promise)u.push(p),l=!0;else{if(p.issues.length===0)return p;u.push(p)}}return l?Promise.all(u).then(h=>BI(h,s,n,i)):BI(u,s,n,i)}}),s8=se("$ZodIntersection",(n,e)=>{Zt.init(n,e),n._zod.parse=(t,r)=>{const s=t.value,i=e.left._zod.run({value:s,issues:[]},r),l=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([h,p])=>qI(t,h,p)):qI(t,i,l)}});function Sv(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(ad(n)&&ad(e)){const t=Object.keys(e),r=Object.keys(n).filter(i=>t.indexOf(i)!==-1),s={...n,...e};for(const i of r){const l=Sv(n[i],e[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};s[i]=l.data}return{valid:!0,data:s}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let r=0;r<n.length;r++){const s=n[r],i=e[r],l=Sv(s,i);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};t.push(l.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function qI(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),Bl(n))return n;const r=Sv(e.value,t.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return n.value=r.data,n}const o8=se("$ZodEnum",(n,e)=>{Zt.init(n,e);const t=f$(e.entries),r=new Set(t);n._zod.values=r,n._zod.pattern=new RegExp(`^(${t.filter(s=>g$.has(typeof s)).map(s=>typeof s=="string"?um(s):s.toString()).join("|")})$`),n._zod.parse=(s,i)=>{const l=s.value;return r.has(l)||s.issues.push({code:"invalid_value",values:t,input:l,inst:n}),s}}),i8=se("$ZodTransform",(n,e)=>{Zt.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new $R(n.constructor.name);const s=e.transform(t.value,t);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(t.value=l,t));if(s instanceof Promise)throw new Ql;return t.value=s,t}});function HI(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const a8=se("$ZodOptional",(n,e)=>{Zt.init(n,e),n._zod.optin="optional",n._zod.optout="optional",Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${bw(t.source)})?$`):void 0}),n._zod.parse=(t,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>HI(i,t.value)):HI(s,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,r)}}),l8=se("$ZodNullable",(n,e)=>{Zt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${bw(t.source)}|null)$`):void 0}),Ct(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,r)=>t.value===null?t:e.innerType._zod.run(t,r)}),c8=se("$ZodDefault",(n,e)=>{Zt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);if(t.value===void 0)return t.value=e.defaultValue,t;const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>WI(i,e)):WI(s,e)}});function WI(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const u8=se("$ZodPrefault",(n,e)=>{Zt.init(n,e),n._zod.optin="optional",Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>(r.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,r))}),d8=se("$ZodNonOptional",(n,e)=>{Zt.init(n,e),Ct(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(r=>r!==void 0)):void 0}),n._zod.parse=(t,r)=>{const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>GI(i,n)):GI(s,n)}});function GI(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const h8=se("$ZodCatch",(n,e)=>{Zt.init(n,e),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),Ct(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(i=>(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(l=>ja(l,r,La()))},input:t.value}),t.issues=[]),t)):(t.value=s.value,s.issues.length&&(t.value=e.catchValue({...t,error:{issues:s.issues.map(i=>ja(i,r,La()))},input:t.value}),t.issues=[]),t)}}),f8=se("$ZodPipe",(n,e)=>{Zt.init(n,e),Ct(n._zod,"values",()=>e.in._zod.values),Ct(n._zod,"optin",()=>e.in._zod.optin),Ct(n._zod,"optout",()=>e.out._zod.optout),Ct(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(t,r);return i instanceof Promise?i.then(l=>lf(l,e.in,r)):lf(i,e.in,r)}const s=e.in._zod.run(t,r);return s instanceof Promise?s.then(i=>lf(i,e.out,r)):lf(s,e.out,r)}});function lf(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const p8=se("$ZodReadonly",(n,e)=>{Zt.init(n,e),Ct(n._zod,"propValues",()=>e.innerType._zod.propValues),Ct(n._zod,"values",()=>e.innerType._zod.values),Ct(n._zod,"optin",()=>e.innerType._zod.optin),Ct(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const s=e.innerType._zod.run(t,r);return s instanceof Promise?s.then(KI):KI(s)}});function KI(n){return n.value=Object.freeze(n.value),n}const m8=se("$ZodCustom",(n,e)=>{ir.init(n,e),Zt.init(n,e),n._zod.parse=(t,r)=>t,n._zod.check=t=>{const r=t.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>ZI(i,t,r,n));ZI(s,t,r,n)}});function ZI(n,e,t,r){if(!n){const s={code:"custom",input:t,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(ld(s))}}class g8{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const r=t[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function y8(){return new g8}const cf=y8();function v8(n,e){return new n({type:"string",...je(e)})}function _8(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...je(e)})}function QI(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...je(e)})}function w8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...je(e)})}function E8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...je(e)})}function b8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...je(e)})}function x8(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...je(e)})}function I8(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...je(e)})}function S8(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...je(e)})}function T8(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...je(e)})}function C8(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...je(e)})}function A8(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...je(e)})}function P8(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...je(e)})}function R8(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...je(e)})}function k8(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...je(e)})}function N8(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...je(e)})}function D8(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...je(e)})}function O8(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...je(e)})}function M8(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...je(e)})}function V8(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...je(e)})}function L8(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...je(e)})}function j8(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...je(e)})}function F8(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...je(e)})}function z8(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...je(e)})}function U8(n,e){return new n({type:"string",format:"date",check:"string_format",...je(e)})}function $8(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...je(e)})}function B8(n,e){return new n({type:"string",format:"duration",check:"string_format",...je(e)})}function q8(n,e){return new n({type:"number",checks:[],...je(e)})}function H8(n,e){return new n({type:"number",coerce:!0,checks:[],...je(e)})}function W8(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...je(e)})}function G8(n,e){return new n({type:"boolean",...je(e)})}function K8(n){return new n({type:"unknown"})}function Z8(n,e){return new n({type:"never",...je(e)})}function YI(n,e){return new ek({check:"less_than",...je(e),value:n,inclusive:!1})}function xy(n,e){return new ek({check:"less_than",...je(e),value:n,inclusive:!0})}function XI(n,e){return new tk({check:"greater_than",...je(e),value:n,inclusive:!1})}function Iy(n,e){return new tk({check:"greater_than",...je(e),value:n,inclusive:!0})}function JI(n,e){return new dB({check:"multiple_of",...je(e),value:n})}function ik(n,e){return new fB({check:"max_length",...je(e),maximum:n})}function pp(n,e){return new pB({check:"min_length",...je(e),minimum:n})}function ak(n,e){return new mB({check:"length_equals",...je(e),length:n})}function Q8(n,e){return new gB({check:"string_format",format:"regex",...je(e),pattern:n})}function Y8(n){return new yB({check:"string_format",format:"lowercase",...je(n)})}function X8(n){return new vB({check:"string_format",format:"uppercase",...je(n)})}function J8(n,e){return new _B({check:"string_format",format:"includes",...je(e),includes:n})}function e7(n,e){return new wB({check:"string_format",format:"starts_with",...je(e),prefix:n})}function t7(n,e){return new EB({check:"string_format",format:"ends_with",...je(e),suffix:n})}function Dd(n){return new bB({check:"overwrite",tx:n})}function n7(n){return Dd(e=>e.normalize(n))}function r7(){return Dd(n=>n.trim())}function s7(){return Dd(n=>n.toLowerCase())}function o7(){return Dd(n=>n.toUpperCase())}function i7(n,e,t){return new n({type:"array",element:e,...je(t)})}function a7(n,e,t){return new n({type:"custom",check:"custom",fn:e,...je(t)})}function l7(n){const e=c7(t=>(t.addIssue=r=>{if(typeof r=="string")t.issues.push(ld(r,t.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=t.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),t.issues.push(ld(s))}},n(t.value,t)));return e}function c7(n,e){const t=new ir({check:"custom",...je(e)});return t._zod.check=n,t}const u7=se("ZodISODateTime",(n,e)=>{VB.init(n,e),zt.init(n,e)});function d7(n){return z8(u7,n)}const h7=se("ZodISODate",(n,e)=>{LB.init(n,e),zt.init(n,e)});function f7(n){return U8(h7,n)}const p7=se("ZodISOTime",(n,e)=>{jB.init(n,e),zt.init(n,e)});function m7(n){return $8(p7,n)}const g7=se("ZodISODuration",(n,e)=>{FB.init(n,e),zt.init(n,e)});function y7(n){return B8(g7,n)}const v7=(n,e)=>{KR.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>C$(n,t)},flatten:{value:t=>T$(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,Iv,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,Iv,2)}},isEmpty:{get(){return n.issues.length===0}}})},$r=se("ZodError",v7,{Parent:Error}),_7=Iw($r),w7=Sw($r),E7=dm($r),b7=hm($r),x7=R$($r),I7=k$($r),S7=N$($r),T7=D$($r),C7=O$($r),A7=M$($r),P7=V$($r),R7=L$($r),rn=se("ZodType",(n,e)=>(Zt.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone(qa(e,{checks:[...e.checks??[],...t.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),n.clone=(t,r)=>Ni(n,t,r),n.brand=()=>n,n.register=((t,r)=>(t.add(n,r),n)),n.parse=(t,r)=>_7(n,t,r,{callee:n.parse}),n.safeParse=(t,r)=>E7(n,t,r),n.parseAsync=async(t,r)=>w7(n,t,r,{callee:n.parseAsync}),n.safeParseAsync=async(t,r)=>b7(n,t,r),n.spa=n.safeParseAsync,n.encode=(t,r)=>x7(n,t,r),n.decode=(t,r)=>I7(n,t,r),n.encodeAsync=async(t,r)=>S7(n,t,r),n.decodeAsync=async(t,r)=>T7(n,t,r),n.safeEncode=(t,r)=>C7(n,t,r),n.safeDecode=(t,r)=>A7(n,t,r),n.safeEncodeAsync=async(t,r)=>P7(n,t,r),n.safeDecodeAsync=async(t,r)=>R7(n,t,r),n.refine=(t,r)=>n.check(Eq(t,r)),n.superRefine=t=>n.check(bq(t)),n.overwrite=t=>n.check(Dd(t)),n.optional=()=>rS(n),n.nullable=()=>sS(n),n.nullish=()=>rS(sS(n)),n.nonoptional=t=>pq(n,t),n.array=()=>ck(n),n.or=t=>sq([n,t]),n.and=t=>iq(n,t),n.transform=t=>oS(n,lq(t)),n.default=t=>dq(n,t),n.prefault=t=>fq(n,t),n.catch=t=>gq(n,t),n.pipe=t=>oS(n,t),n.readonly=()=>_q(n),n.describe=t=>{const r=n.clone();return cf.add(r,{description:t}),r},Object.defineProperty(n,"description",{get(){return cf.get(n)?.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return cf.get(n);const r=n.clone();return cf.add(r,t[0]),r},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),lk=se("_ZodString",(n,e)=>{Tw.init(n,e),rn.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...r)=>n.check(Q8(...r)),n.includes=(...r)=>n.check(J8(...r)),n.startsWith=(...r)=>n.check(e7(...r)),n.endsWith=(...r)=>n.check(t7(...r)),n.min=(...r)=>n.check(pp(...r)),n.max=(...r)=>n.check(ik(...r)),n.length=(...r)=>n.check(ak(...r)),n.nonempty=(...r)=>n.check(pp(1,...r)),n.lowercase=r=>n.check(Y8(r)),n.uppercase=r=>n.check(X8(r)),n.trim=()=>n.check(r7()),n.normalize=(...r)=>n.check(n7(...r)),n.toLowerCase=()=>n.check(s7()),n.toUpperCase=()=>n.check(o7())}),k7=se("ZodString",(n,e)=>{Tw.init(n,e),lk.init(n,e),n.email=t=>n.check(_8(N7,t)),n.url=t=>n.check(I8(D7,t)),n.jwt=t=>n.check(F8(K7,t)),n.emoji=t=>n.check(S8(O7,t)),n.guid=t=>n.check(QI(eS,t)),n.uuid=t=>n.check(w8(uf,t)),n.uuidv4=t=>n.check(E8(uf,t)),n.uuidv6=t=>n.check(b8(uf,t)),n.uuidv7=t=>n.check(x8(uf,t)),n.nanoid=t=>n.check(T8(M7,t)),n.guid=t=>n.check(QI(eS,t)),n.cuid=t=>n.check(C8(V7,t)),n.cuid2=t=>n.check(A8(L7,t)),n.ulid=t=>n.check(P8(j7,t)),n.base64=t=>n.check(V8(H7,t)),n.base64url=t=>n.check(L8(W7,t)),n.xid=t=>n.check(R8(F7,t)),n.ksuid=t=>n.check(k8(z7,t)),n.ipv4=t=>n.check(N8(U7,t)),n.ipv6=t=>n.check(D8($7,t)),n.cidrv4=t=>n.check(O8(B7,t)),n.cidrv6=t=>n.check(M8(q7,t)),n.e164=t=>n.check(j8(G7,t)),n.datetime=t=>n.check(d7(t)),n.date=t=>n.check(f7(t)),n.time=t=>n.check(m7(t)),n.duration=t=>n.check(y7(t))});function at(n){return v8(k7,n)}const zt=se("ZodStringFormat",(n,e)=>{Mt.init(n,e),lk.init(n,e)}),N7=se("ZodEmail",(n,e)=>{CB.init(n,e),zt.init(n,e)}),eS=se("ZodGUID",(n,e)=>{SB.init(n,e),zt.init(n,e)}),uf=se("ZodUUID",(n,e)=>{TB.init(n,e),zt.init(n,e)}),D7=se("ZodURL",(n,e)=>{AB.init(n,e),zt.init(n,e)}),O7=se("ZodEmoji",(n,e)=>{PB.init(n,e),zt.init(n,e)}),M7=se("ZodNanoID",(n,e)=>{RB.init(n,e),zt.init(n,e)}),V7=se("ZodCUID",(n,e)=>{kB.init(n,e),zt.init(n,e)}),L7=se("ZodCUID2",(n,e)=>{NB.init(n,e),zt.init(n,e)}),j7=se("ZodULID",(n,e)=>{DB.init(n,e),zt.init(n,e)}),F7=se("ZodXID",(n,e)=>{OB.init(n,e),zt.init(n,e)}),z7=se("ZodKSUID",(n,e)=>{MB.init(n,e),zt.init(n,e)}),U7=se("ZodIPv4",(n,e)=>{zB.init(n,e),zt.init(n,e)}),$7=se("ZodIPv6",(n,e)=>{UB.init(n,e),zt.init(n,e)}),B7=se("ZodCIDRv4",(n,e)=>{$B.init(n,e),zt.init(n,e)}),q7=se("ZodCIDRv6",(n,e)=>{BB.init(n,e),zt.init(n,e)}),H7=se("ZodBase64",(n,e)=>{qB.init(n,e),zt.init(n,e)}),W7=se("ZodBase64URL",(n,e)=>{WB.init(n,e),zt.init(n,e)}),G7=se("ZodE164",(n,e)=>{GB.init(n,e),zt.init(n,e)}),K7=se("ZodJWT",(n,e)=>{ZB.init(n,e),zt.init(n,e)}),Cw=se("ZodNumber",(n,e)=>{rk.init(n,e),rn.init(n,e),n.gt=(r,s)=>n.check(XI(r,s)),n.gte=(r,s)=>n.check(Iy(r,s)),n.min=(r,s)=>n.check(Iy(r,s)),n.lt=(r,s)=>n.check(YI(r,s)),n.lte=(r,s)=>n.check(xy(r,s)),n.max=(r,s)=>n.check(xy(r,s)),n.int=r=>n.check(tS(r)),n.safe=r=>n.check(tS(r)),n.positive=r=>n.check(XI(0,r)),n.nonnegative=r=>n.check(Iy(0,r)),n.negative=r=>n.check(YI(0,r)),n.nonpositive=r=>n.check(xy(0,r)),n.multipleOf=(r,s)=>n.check(JI(r,s)),n.step=(r,s)=>n.check(JI(r,s)),n.finite=()=>n;const t=n._zod.bag;n.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),n.isFinite=!0,n.format=t.format??null});function Sy(n){return q8(Cw,n)}const Z7=se("ZodNumberFormat",(n,e)=>{QB.init(n,e),Cw.init(n,e)});function tS(n){return W8(Z7,n)}const Q7=se("ZodBoolean",(n,e)=>{YB.init(n,e),rn.init(n,e)});function Y7(n){return G8(Q7,n)}const X7=se("ZodUnknown",(n,e)=>{XB.init(n,e),rn.init(n,e)});function nS(){return K8(X7)}const J7=se("ZodNever",(n,e)=>{JB.init(n,e),rn.init(n,e)});function eq(n){return Z8(J7,n)}const tq=se("ZodArray",(n,e)=>{e8.init(n,e),rn.init(n,e),n.element=e.element,n.min=(t,r)=>n.check(pp(t,r)),n.nonempty=t=>n.check(pp(1,t)),n.max=(t,r)=>n.check(ik(t,r)),n.length=(t,r)=>n.check(ak(t,r)),n.unwrap=()=>n.element});function ck(n,e){return i7(tq,n,e)}const nq=se("ZodObject",(n,e)=>{n8.init(n,e),rn.init(n,e),Ct(n,"shape",()=>e.shape),n.keyof=()=>Aw(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:nS()}),n.loose=()=>n.clone({...n._zod.def,catchall:nS()}),n.strict=()=>n.clone({...n._zod.def,catchall:eq()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>E$(n,t),n.safeExtend=t=>b$(n,t),n.merge=t=>x$(n,t),n.pick=t=>_$(n,t),n.omit=t=>w$(n,t),n.partial=(...t)=>I$(uk,n,t[0]),n.required=(...t)=>S$(dk,n,t[0])});function Di(n,e){const t={type:"object",shape:n??{},...je(e)};return new nq(t)}const rq=se("ZodUnion",(n,e)=>{r8.init(n,e),rn.init(n,e),n.options=e.options});function sq(n,e){return new rq({type:"union",options:n,...je(e)})}const oq=se("ZodIntersection",(n,e)=>{s8.init(n,e),rn.init(n,e)});function iq(n,e){return new oq({type:"intersection",left:n,right:e})}const Tv=se("ZodEnum",(n,e)=>{o8.init(n,e),rn.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(r,s)=>{const i={};for(const l of r)if(t.has(l))i[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Tv({...e,checks:[],...je(s),entries:i})},n.exclude=(r,s)=>{const i={...e.entries};for(const l of r)if(t.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new Tv({...e,checks:[],...je(s),entries:i})}});function Aw(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(r=>[r,r])):n;return new Tv({type:"enum",entries:t,...je(e)})}const aq=se("ZodTransform",(n,e)=>{i8.init(n,e),rn.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new $R(n.constructor.name);t.addIssue=i=>{if(typeof i=="string")t.issues.push(ld(i,t.value,e));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=t.value),l.inst??(l.inst=n),t.issues.push(ld(l))}};const s=e.transform(t.value,t);return s instanceof Promise?s.then(i=>(t.value=i,t)):(t.value=s,t)}});function lq(n){return new aq({type:"transform",transform:n})}const uk=se("ZodOptional",(n,e)=>{a8.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function rS(n){return new uk({type:"optional",innerType:n})}const cq=se("ZodNullable",(n,e)=>{l8.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function sS(n){return new cq({type:"nullable",innerType:n})}const uq=se("ZodDefault",(n,e)=>{c8.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function dq(n,e){return new uq({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():HR(e)}})}const hq=se("ZodPrefault",(n,e)=>{u8.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function fq(n,e){return new hq({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():HR(e)}})}const dk=se("ZodNonOptional",(n,e)=>{d8.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function pq(n,e){return new dk({type:"nonoptional",innerType:n,...je(e)})}const mq=se("ZodCatch",(n,e)=>{h8.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function gq(n,e){return new mq({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const yq=se("ZodPipe",(n,e)=>{f8.init(n,e),rn.init(n,e),n.in=e.in,n.out=e.out});function oS(n,e){return new yq({type:"pipe",in:n,out:e})}const vq=se("ZodReadonly",(n,e)=>{p8.init(n,e),rn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function _q(n){return new vq({type:"readonly",innerType:n})}const wq=se("ZodCustom",(n,e)=>{m8.init(n,e),rn.init(n,e)});function Eq(n,e={}){return a7(wq,n,e)}function bq(n){return l7(n)}function gi(n){return H8(Cw,n)}const hk=8,Cv=`Password must be at least ${hk} characters`,fk=at().min(1,"Password is required").min(hk,Cv),iS=Di({email:at().min(1,"Email is required").email("Please enter a valid email address"),password:at().min(1,"Password is required")}),aS=Di({name:at().min(1,"Name is required").min(2,"Name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),password:fk,confirmPassword:at().min(1,"Please confirm your password")}).refine(n=>n.password===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});Di({currentPassword:at().min(1,"Current password is required"),newPassword:fk,confirmPassword:at().min(1,"Please confirm your new password")}).refine(n=>n.newPassword===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});const KH=Di({name:at().min(1,"Item name is required").min(3,"Item name must be at least 3 characters").max(100,"Item name must be less than 100 characters"),category:at().min(1,"Category is required"),subcategory:at().optional(),quantity:gi().int("Quantity must be a whole number").min(0,"Quantity cannot be negative"),location:at().min(1,"Location is required").regex(/^[A-Z]-\d+$/,"Location must be in format A-12 (Letter-Number)"),brand:at().min(1,"Brand is required").min(2,"Brand must be at least 2 characters").max(100,"Brand must be less than 100 characters"),pricePerPiece:gi().positive("Price per piece must be a positive number").max(1e6,"Price per piece seems too high"),supplierId:at().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Supplier ID must be in format SUP-001"),quantityPurchased:gi().int("Quantity purchased must be a whole number").min(0,"Quantity purchased cannot be negative"),quantitySold:gi().int("Quantity sold must be a whole number").min(0,"Quantity sold cannot be negative"),reorderRequired:Y7()});Di({name:at().min(1,"Company name is required").min(2,"Company name must be at least 2 characters").max(100,"Company name must be less than 100 characters"),contact:at().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),phone:at().min(1,"Phone number is required"),category:at().min(1,"Category is required"),status:Aw(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:at().max(100,"Country must be less than 100 characters").optional(),city:at().max(100,"City must be less than 100 characters").optional(),address:at().max(200,"Address must be less than 200 characters").optional(),purchases:gi().min(0,"Purchases cannot be negative").optional(),payments:gi().min(0,"Payments cannot be negative").optional()});Di({name:at().min(1,"Customer name is required").min(2,"Customer name must be at least 2 characters").max(100,"Customer name must be less than 100 characters"),contact:at().min(1,"Contact person is required").min(2,"Contact name must be at least 2 characters"),email:at().min(1,"Email is required").email("Please enter a valid email address"),phone:at().min(1,"Phone number is required"),category:at().min(1,"Category is required"),status:Aw(["Active","Inactive"],{errorMap:()=>({message:"Please select a valid status"})}).optional(),country:at().max(100,"Country must be less than 100 characters").optional(),city:at().max(100,"City must be less than 100 characters").optional(),address:at().max(200,"Address must be less than 200 characters").optional(),purchases:gi().min(0,"Purchases cannot be negative").optional(),payments:gi().min(0,"Payments cannot be negative").optional()});const xq=Di({inventoryItemId:at().min(1,"Item is required"),itemName:at().min(1,"Item name is required"),quantity:Sy().int("Quantity must be a whole number").min(1,"Quantity must be at least 1"),unitPrice:Sy().positive("Unit price must be positive"),totalPrice:Sy().positive("Total price must be positive")});Di({supplierId:at().min(1,"Supplier is required").regex(/^SUP-\d+$/,"Invalid supplier ID format"),supplierName:at().min(1,"Supplier name is required"),items:ck(xq).min(1,"At least one item is required"),expectedDeliveryDate:at().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format").refine(n=>{const e=new Date(n),t=new Date;return t.setHours(0,0,0,0),e>=t},"Expected delivery date must be today or in the future"),notes:at().optional()});function pk({...n}){return v.jsx(p1,{"data-slot":"dialog",...n})}function ZH({...n}){return v.jsx(TM,{"data-slot":"dialog-trigger",...n})}function Iq({...n}){return v.jsx(m1,{"data-slot":"dialog-portal",...n})}function Sq({className:n,...e}){return v.jsx(zv,{"data-slot":"dialog-overlay",className:$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function mk({className:n,children:e,...t}){return v.jsxs(Iq,{"data-slot":"dialog-portal",children:[v.jsx(Sq,{}),v.jsxs(Uv,{"data-slot":"dialog-content",className:$e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,v.jsxs(g1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[v.jsx(Nv,{}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Tq({className:n,...e}){return v.jsx("div",{"data-slot":"dialog-header",className:$e("flex flex-col gap-2 text-center sm:text-left",n),...e})}function Cq({className:n,...e}){return v.jsx("div",{"data-slot":"dialog-footer",className:$e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function Aq({className:n,...e}){return v.jsx($v,{"data-slot":"dialog-title",className:$e("text-lg leading-none font-semibold",n),...e})}function Pq({className:n,...e}){return v.jsx(Bv,{"data-slot":"dialog-description",className:$e("text-muted-foreground text-sm",n),...e})}function Rq(n,[e,t]){return Math.min(t,Math.max(e,n))}function kq(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Pw="ScrollArea",[gk]=Ks(Pw),[Nq,Br]=gk(Pw),yk=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...l}=n,[u,h]=b.useState(null),[p,g]=b.useState(null),[m,E]=b.useState(null),[I,k]=b.useState(null),[A,R]=b.useState(null),[V,z]=b.useState(0),[U,H]=b.useState(0),[B,W]=b.useState(!1),[C,S]=b.useState(!1),P=Et(e,M=>h(M)),N=t_(s);return v.jsx(Nq,{scope:t,type:r,dir:N,scrollHideDelay:i,scrollArea:u,viewport:p,onViewportChange:g,content:m,onContentChange:E,scrollbarX:I,onScrollbarXChange:k,scrollbarXEnabled:B,onScrollbarXEnabledChange:W,scrollbarY:A,onScrollbarYChange:R,scrollbarYEnabled:C,onScrollbarYEnabledChange:S,onCornerWidthChange:z,onCornerHeightChange:H,children:v.jsx(ht.div,{dir:N,...l,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":V+"px","--radix-scroll-area-corner-height":U+"px",...n.style}})})});yk.displayName=Pw;var vk="ScrollAreaViewport",_k=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=n,l=Br(vk,t),u=b.useRef(null),h=Et(e,u,l.onViewportChange);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),v.jsx(ht.div,{"data-radix-scroll-area-viewport":"",...i,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:v.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});_k.displayName=vk;var Qs="ScrollAreaScrollbar",Rw=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Br(Qs,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,u=n.orientation==="horizontal";return b.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),s.type==="hover"?v.jsx(Dq,{...r,ref:e,forceMount:t}):s.type==="scroll"?v.jsx(Oq,{...r,ref:e,forceMount:t}):s.type==="auto"?v.jsx(wk,{...r,ref:e,forceMount:t}):s.type==="always"?v.jsx(kw,{...r,ref:e}):null});Rw.displayName=Qs;var Dq=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Br(Qs,n.__scopeScrollArea),[i,l]=b.useState(!1);return b.useEffect(()=>{const u=s.scrollArea;let h=0;if(u){const p=()=>{window.clearTimeout(h),l(!0)},g=()=>{h=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),v.jsx(Gn,{present:t||i,children:v.jsx(wk,{"data-state":i?"visible":"hidden",...r,ref:e})})}),Oq=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Br(Qs,n.__scopeScrollArea),i=n.orientation==="horizontal",l=mm(()=>h("SCROLL_END"),100),[u,h]=kq("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,s.scrollHideDelay,h]),b.useEffect(()=>{const p=s.viewport,g=i?"scrollLeft":"scrollTop";if(p){let m=p[g];const E=()=>{const I=p[g];m!==I&&(h("SCROLL"),l()),m=I};return p.addEventListener("scroll",E),()=>p.removeEventListener("scroll",E)}},[s.viewport,i,h,l]),v.jsx(Gn,{present:t||u!=="hidden",children:v.jsx(kw,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Le(n.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Le(n.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),wk=b.forwardRef((n,e)=>{const t=Br(Qs,n.__scopeScrollArea),{forceMount:r,...s}=n,[i,l]=b.useState(!1),u=n.orientation==="horizontal",h=mm(()=>{if(t.viewport){const p=t.viewport.offsetWidth<t.viewport.scrollWidth,g=t.viewport.offsetHeight<t.viewport.scrollHeight;l(u?p:g)}},10);return mc(t.viewport,h),mc(t.content,h),v.jsx(Gn,{present:r||i,children:v.jsx(kw,{"data-state":i?"visible":"hidden",...s,ref:e})})}),kw=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=Br(Qs,n.__scopeScrollArea),i=b.useRef(null),l=b.useRef(0),[u,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=Sk(u.viewport,u.content),g={...r,sizes:u,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:E=>i.current=E,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:E=>l.current=E};function m(E,I){return zq(E,l.current,u,I)}return t==="horizontal"?v.jsx(Mq,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const E=s.viewport.scrollLeft,I=lS(E,u,s.dir);i.current.style.transform=`translate3d(${I}px, 0, 0)`}},onWheelScroll:E=>{s.viewport&&(s.viewport.scrollLeft=E)},onDragScroll:E=>{s.viewport&&(s.viewport.scrollLeft=m(E,s.dir))}}):t==="vertical"?v.jsx(Vq,{...g,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const E=s.viewport.scrollTop,I=lS(E,u);i.current.style.transform=`translate3d(0, ${I}px, 0)`}},onWheelScroll:E=>{s.viewport&&(s.viewport.scrollTop=E)},onDragScroll:E=>{s.viewport&&(s.viewport.scrollTop=m(E))}}):null}),Mq=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=Br(Qs,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=Et(e,h,i.onScrollbarXChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),v.jsx(bk,{"data-orientation":"horizontal",...s,ref:p,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":pm(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.x),onDragScroll:g=>n.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(i.viewport){const E=i.viewport.scrollLeft+g.deltaX;n.onWheelScroll(E),Ck(E,m)&&g.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:gp(l.paddingLeft),paddingEnd:gp(l.paddingRight)}})}})}),Vq=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=Br(Qs,n.__scopeScrollArea),[l,u]=b.useState(),h=b.useRef(null),p=Et(e,h,i.onScrollbarYChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),v.jsx(bk,{"data-orientation":"vertical",...s,ref:p,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":pm(t)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.y),onDragScroll:g=>n.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(i.viewport){const E=i.viewport.scrollTop+g.deltaY;n.onWheelScroll(E),Ck(E,m)&&g.preventDefault()}},onResize:()=>{h.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:gp(l.paddingTop),paddingEnd:gp(l.paddingBottom)}})}})}),[Lq,Ek]=gk(Qs),bk=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:m,...E}=n,I=Br(Qs,t),[k,A]=b.useState(null),R=Et(e,P=>A(P)),V=b.useRef(null),z=b.useRef(""),U=I.viewport,H=r.content-r.viewport,B=Ln(g),W=Ln(h),C=mm(m,10);function S(P){if(V.current){const N=P.clientX-V.current.left,M=P.clientY-V.current.top;p({x:N,y:M})}}return b.useEffect(()=>{const P=N=>{const M=N.target;k?.contains(M)&&B(N,H)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[U,k,H,B]),b.useEffect(W,[r,W]),mc(k,C),mc(I.content,C),v.jsx(Lq,{scope:t,scrollbar:k,hasThumb:s,onThumbChange:Ln(i),onThumbPointerUp:Ln(l),onThumbPositionChange:W,onThumbPointerDown:Ln(u),children:v.jsx(ht.div,{...E,ref:R,style:{position:"absolute",...E.style},onPointerDown:Le(n.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),V.current=k.getBoundingClientRect(),z.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I.viewport&&(I.viewport.style.scrollBehavior="auto"),S(P))}),onPointerMove:Le(n.onPointerMove,S),onPointerUp:Le(n.onPointerUp,P=>{const N=P.target;N.hasPointerCapture(P.pointerId)&&N.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=z.current,I.viewport&&(I.viewport.style.scrollBehavior=""),V.current=null})})})}),mp="ScrollAreaThumb",xk=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Ek(mp,n.__scopeScrollArea);return v.jsx(Gn,{present:t||s.hasThumb,children:v.jsx(jq,{ref:e,...r})})}),jq=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,i=Br(mp,t),l=Ek(mp,t),{onThumbPositionChange:u}=l,h=Et(e,m=>l.onThumbChange(m)),p=b.useRef(void 0),g=mm(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const E=()=>{if(g(),!p.current){const I=Uq(m,u);p.current=I,u()}};return u(),m.addEventListener("scroll",E),()=>m.removeEventListener("scroll",E)}},[i.viewport,g,u]),v.jsx(ht.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(n.onPointerDownCapture,m=>{const I=m.target.getBoundingClientRect(),k=m.clientX-I.left,A=m.clientY-I.top;l.onThumbPointerDown({x:k,y:A})}),onPointerUp:Le(n.onPointerUp,l.onThumbPointerUp)})});xk.displayName=mp;var Nw="ScrollAreaCorner",Ik=b.forwardRef((n,e)=>{const t=Br(Nw,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?v.jsx(Fq,{...n,ref:e}):null});Ik.displayName=Nw;var Fq=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=Br(Nw,t),[i,l]=b.useState(0),[u,h]=b.useState(0),p=!!(i&&u);return mc(s.scrollbarX,()=>{const g=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(g),h(g)}),mc(s.scrollbarY,()=>{const g=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(g),l(g)}),p?v.jsx(ht.div,{...r,ref:e,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function gp(n){return n?parseInt(n,10):0}function Sk(n,e){const t=n/e;return isNaN(t)?0:t}function pm(n){const e=Sk(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function zq(n,e,t,r="ltr"){const s=pm(t),i=s/2,l=e||i,u=s-l,h=t.scrollbar.paddingStart+l,p=t.scrollbar.size-t.scrollbar.paddingEnd-u,g=t.content-t.viewport,m=r==="ltr"?[0,g]:[g*-1,0];return Tk([h,p],m)(n)}function lS(n,e,t="ltr"){const r=pm(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,l=e.content-e.viewport,u=i-r,h=t==="ltr"?[0,l]:[l*-1,0],p=Rq(n,h);return Tk([0,l],[0,u])(p)}function Tk(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function Ck(n,e){return n>0&&n<e}var Uq=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const i={left:n.scrollLeft,top:n.scrollTop},l=t.left!==i.left,u=t.top!==i.top;(l||u)&&e(),t=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function mm(n,e){const t=Ln(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function mc(n,e){const t=Ln(e);_o(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var Ak=yk,$q=_k,Bq=Ik;const Dw=b.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(Ak,{ref:r,className:$e("relative overflow-hidden",n),...t,children:[v.jsx($q,{className:"h-full w-full rounded-[inherit]",children:e}),v.jsx(Pk,{}),v.jsx(Bq,{})]}));Dw.displayName=Ak.displayName;const Pk=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>v.jsx(Rw,{ref:r,orientation:e,className:$e("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:v.jsx(xk,{className:"relative flex-1 rounded-full bg-border"})}));Pk.displayName=Rw.displayName;function qq({open:n,onOpenChange:e}){return v.jsx(pk,{open:n,onOpenChange:e,children:v.jsxs(mk,{className:"max-w-2xl max-h-[80vh]",children:[v.jsxs(Tq,{children:[v.jsx(Aq,{children:"Terms and Conditions"}),v.jsx(Pq,{children:"Please read these terms carefully before using our Warehouse Management System."})]}),v.jsx(Dw,{className:"h-[400px] pr-4",children:v.jsxs("div",{className:"space-y-4 text-sm text-muted-foreground",children:[v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"1. Acceptance of Terms"}),v.jsx("p",{children:'By accessing and using this Warehouse Management System ("WMS"), you accept and agree to be bound by the terms and provisions of this agreement. If you do not agree to these terms, please do not use this system.'})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"2. User Accounts"}),v.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials. You agree to notify the system administrator immediately of any unauthorized use of your account. You are responsible for all activities that occur under your account."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"3. Acceptable Use"}),v.jsx("p",{children:"You agree to use this system only for lawful purposes and in accordance with these Terms. You agree not to:"}),v.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[v.jsx("li",{children:"Use the system in any way that violates any applicable laws or regulations"}),v.jsx("li",{children:"Attempt to gain unauthorized access to other user accounts or system resources"}),v.jsx("li",{children:"Introduce any viruses, malware, or other harmful code"}),v.jsx("li",{children:"Interfere with or disrupt the system's operation"}),v.jsx("li",{children:"Share your login credentials with unauthorized parties"})]})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"4. Data Privacy"}),v.jsx("p",{children:"Your use of this system is also governed by our Privacy Policy. By using this system, you consent to the collection and use of information as described in our Privacy Policy. We are committed to protecting your personal information and business data."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"5. System Availability"}),v.jsx("p",{children:"While we strive to maintain high availability, we do not guarantee uninterrupted access to the system. We may perform maintenance, updates, or experience technical issues that temporarily affect system availability."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"6. Intellectual Property"}),v.jsx("p",{children:"All content, features, and functionality of this system are owned by the system provider and are protected by intellectual property laws. You may not copy, modify, or distribute any part of the system without prior written consent."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"7. Limitation of Liability"}),v.jsx("p",{children:"To the maximum extent permitted by law, the system provider shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of or inability to use the system."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"8. Changes to Terms"}),v.jsx("p",{children:"We reserve the right to modify these terms at any time. We will notify users of any material changes. Your continued use of the system after such modifications constitutes acceptance of the updated terms."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"9. Termination"}),v.jsx("p",{children:"We may terminate or suspend your account and access to the system immediately, without prior notice, for conduct that we believe violates these Terms or is harmful to other users or the system."})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"10. Contact Information"}),v.jsx("p",{children:"If you have any questions about these Terms, please contact the system administrator."})]}),v.jsx("p",{className:"text-xs text-muted-foreground pt-4 border-t",children:"Last updated: December 2024"})]})}),v.jsx(Cq,{children:v.jsx(xa,{onClick:()=>e(!1),children:"Close"})})]})})}function Hq({className:n}){return v.jsxs("svg",{className:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),v.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),v.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),v.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Wq(){const{login:n,register:e,loginWithGoogle:t}=Nd(),[r,s]=b.useState("login"),[i,l]=b.useState({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1}),[u,h]=b.useState({}),[p,g]=b.useState(!1),[m,E]=b.useState(!1),[I,k]=b.useState(!1),[A,R]=b.useState(!1),V=()=>{l({name:"",email:"",password:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1}),h({})},z=C=>{s(C),V()};function U(C,S){const P=r==="login"?iS:aS,N=r==="login"?{email:C==="email"?S:i.email,password:C==="password"?S:i.password}:{name:C==="name"?S:i.name,email:C==="email"?S:i.email,password:C==="password"?S:i.password,confirmPassword:C==="confirmPassword"?S:i.confirmPassword},M=P.safeParse(N);if(M.success)h(F=>{const O={...F};return delete O[C],O});else{const F=M.error.errors.find(O=>O.path[0]===C);h(F?O=>({...O,[C]:F.message}):O=>{const Ce={...O};return delete Ce[C],Ce})}}function H(){const C=r==="login"?iS:aS,S=r==="login"?{email:i.email,password:i.password}:{name:i.name,email:i.email,password:i.password,confirmPassword:i.confirmPassword},P=C.safeParse(S);if(!P.success){const N={};return P.error.errors.forEach(M=>{const F=M.path.join(".");N[F]=M.message}),h(N),Object.values(N)[0]}return r==="register"&&!i.acceptTerms?(h(N=>({...N,acceptTerms:"You must accept the Terms and Conditions"})),"You must accept the Terms and Conditions to create an account"):(h({}),null)}async function B(C){C.preventDefault();const S=H();if(S){Mn.error(S);return}E(!0);try{r==="login"?(await n(i.email,i.password,i.rememberMe),Mn.success("Welcome back!")):(await e(i.email,i.password,i.name),Mn.success("Registration successful! Your account is pending approval by an administrator."),z("login"))}catch(P){if(P instanceof Error){const N=P.message;if(N.startsWith("NO_ACCOUNT:")){const M=N.replace("NO_ACCOUNT:","");Mn.error(M,{action:{label:"Sign Up",onClick:()=>z("register")},duration:8e3})}else N.startsWith("WRONG_PASSWORD:")?Mn.error(N.replace("WRONG_PASSWORD:","")):N.startsWith("PENDING:")?Mn.warning(N.replace("PENDING:",""),{duration:6e3}):N.startsWith("INACTIVE:")?Mn.error(N.replace("INACTIVE:",""),{duration:6e3}):Mn.error(N)}else Mn.error("An error occurred. Please try again.")}finally{E(!1)}}async function W(){k(!0);try{await t(),Mn.success("Welcome!")}catch(C){if(C instanceof Error){const S=C.message;S.startsWith("PENDING:")?Mn.warning(S.replace("PENDING:",""),{duration:6e3}):S.startsWith("INACTIVE:")?Mn.error(S.replace("INACTIVE:",""),{duration:6e3}):S.includes("popup-closed-by-user")||Mn.error(S)}else Mn.error("Google sign-in failed. Please try again.")}finally{k(!1)}}return v.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:[v.jsxs(AR,{className:"w-full max-w-[360px] shadow-xl mx-auto",children:[v.jsxs(PR,{className:"space-y-4 text-center",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:v.jsx(wp,{className:"h-8 w-8 text-primary"})})}),v.jsxs("div",{children:[v.jsx(RR,{className:"text-2xl font-bold",children:r==="login"?"Welcome Back":"Create Account"}),v.jsx(kR,{className:"mt-2",children:r==="login"?"Sign in to your Warehouse Management System":"Register for a new account (requires admin approval)"})]})]}),v.jsx(NR,{children:v.jsxs("form",{onSubmit:B,className:"space-y-4",children:[r==="register"&&v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ll,{htmlFor:"name",children:"Full Name"}),v.jsxs("div",{className:"relative",children:[v.jsx(Cy,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(xu,{id:"name",type:"text",placeholder:"John Doe",value:i.name,onChange:C=>{l({...i,name:C.target.value}),U("name",C.target.value)},className:`pl-9 ${u.name?"border-red-500":""}`,disabled:m,autoComplete:"name"})]}),u.name&&v.jsx("p",{className:"text-sm text-red-500",children:u.name})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ll,{htmlFor:"email",children:"Email"}),v.jsxs("div",{className:"relative",children:[v.jsx(j2,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(xu,{id:"email",type:"email",placeholder:"admin@wms.com",value:i.email,onChange:C=>{l({...i,email:C.target.value}),U("email",C.target.value)},className:`pl-9 ${u.email?"border-red-500":""}`,disabled:m,autoComplete:"email"})]}),u.email&&v.jsx("p",{className:"text-sm text-red-500",children:u.email})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ll,{htmlFor:"password",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(rb,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(xu,{id:"password",type:p?"text":"password",placeholder:r==="register"?`Min ${Cv.split(" ").pop()} characters`:"Enter your password",value:i.password,onChange:C=>{l({...i,password:C.target.value}),U("password",C.target.value)},className:`pl-9 pr-9 ${u.password?"border-red-500":""}`,disabled:m,autoComplete:r==="login"?"current-password":"new-password"}),v.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:m,tabIndex:-1,children:p?v.jsx(I2,{className:"h-4 w-4"}):v.jsx(T2,{className:"h-4 w-4"})})]}),u.password?v.jsx("p",{className:"text-sm text-red-500",children:u.password}):r==="register"&&v.jsx("p",{className:"text-xs text-muted-foreground",children:Cv})]}),r==="register"&&v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ll,{htmlFor:"confirmPassword",children:"Confirm Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(rb,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),v.jsx(xu,{id:"confirmPassword",type:p?"text":"password",placeholder:"Confirm your password",value:i.confirmPassword,onChange:C=>{l({...i,confirmPassword:C.target.value}),U("confirmPassword",C.target.value)},className:`pl-9 ${u.confirmPassword?"border-red-500":""}`,disabled:m,autoComplete:"new-password"})]}),u.confirmPassword&&v.jsx("p",{className:"text-sm text-red-500",children:u.confirmPassword})]}),r==="login"&&v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(jI,{id:"remember",checked:i.rememberMe,onCheckedChange:C=>l({...i,rememberMe:C}),disabled:m}),v.jsx(Ll,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),v.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",disabled:m,onClick:()=>Mn.info("Password reset feature coming soon!"),children:"Forgot password?"})]}),r==="register"&&v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx(jI,{id:"acceptTerms",checked:i.acceptTerms,onCheckedChange:C=>{l({...i,acceptTerms:C}),C&&h(S=>{const{acceptTerms:P,...N}=S;return N})},disabled:m,className:u.acceptTerms?"border-red-500":""}),v.jsxs(Ll,{htmlFor:"acceptTerms",className:`text-sm font-normal cursor-pointer leading-tight ${u.acceptTerms?"text-red-500":""}`,children:["I agree to the"," ",v.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>R(!0),children:"Terms and Conditions"})]})]}),u.acceptTerms&&v.jsx("p",{className:"text-sm text-red-500",children:u.acceptTerms})]}),v.jsx(xa,{type:"submit",className:"w-full",disabled:m||I,children:m?v.jsxs(v.Fragment,{children:[v.jsx(zu,{className:"mr-2 h-4 w-4 animate-spin"}),r==="login"?"Signing in...":"Creating account..."]}):r==="login"?"Sign In":"Create Account"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("span",{className:"w-full border-t"})}),v.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:v.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),v.jsx(xa,{type:"button",variant:"outline",className:"w-full",onClick:W,disabled:m||I,children:I?v.jsxs(v.Fragment,{children:[v.jsx(zu,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in with Google..."]}):v.jsxs(v.Fragment,{children:[v.jsx(Hq,{className:"mr-2 h-4 w-4"}),"Sign in with Google"]})}),v.jsx("div",{className:"text-center text-sm",children:r==="login"?v.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",v.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>z("register"),disabled:m,children:"Sign up"})]}):v.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",v.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>z("login"),disabled:m,children:"Sign in"})]})}),r==="register"&&v.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:v.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:[v.jsx("strong",{children:"Note:"})," New accounts require administrator approval before you can access the system. You will be notified once your account is approved."]})})]})})]}),v.jsx(qq,{open:A,onOpenChange:R})]})}const cS="wms_error_logs",uS=100;function Av(n,e){const t={message:n?.message??String(n),stack:n?.stack,componentStack:e?.componentStack,timestamp:Date.now()};try{const r=localStorage.getItem(cS),s=r?JSON.parse(r):[];s.unshift(t),s.length>uS&&(s.length=uS),localStorage.setItem(cS,JSON.stringify(s))}catch{}}const Gq=_p("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function dS({className:n,variant:e,asChild:t=!1,...r}){const s=t?vp:"span";return v.jsx(s,{"data-slot":"badge",className:$e(Gq({variant:e}),n),...r})}const ye={INVENTORY:"wms_inventory",SUPPLIERS:"wms_suppliers",CUSTOMERS:"wms_customers",SHIPMENTS:"wms_shipments",PURCHASE_ORDERS:"wms_purchase_orders",SALES_ORDERS:"wms_sales_orders",CASH_BANK:"wms_cash_bank",PAYMENTS:"wms_payments",CATEGORIES:"wms_categories"};function be(n,e){try{const t=JSON.stringify(e);localStorage.setItem(n,t)}catch(t){console.error(`Failed to save to localStorage (${n}):`,t)}}function Ro(n,e){try{const t=localStorage.getItem(n);return t===null?e:JSON.parse(t)}catch(t){return console.error(`Failed to load from localStorage (${n}):`,t),e}}const Kq=[{id:"INV-001",name:"Laptop Computer",category:"Electronics",quantity:145,location:"A-12",status:"In Stock",brand:"Dell",pricePerPiece:899.99,supplierId:"SUP-001",quantityPurchased:200,quantitySold:55,reorderRequired:!1,description:"15.6-inch display, Intel Core i7 processor, 16GB RAM, 512GB SSD. Perfect for business and professional use with long battery life and lightweight design."},{id:"INV-002",name:"Office Chair",category:"Furniture",quantity:23,location:"B-08",status:"Low Stock",brand:"Herman Miller",pricePerPiece:549,supplierId:"SUP-002",quantityPurchased:100,quantitySold:77,reorderRequired:!0,description:"Ergonomic office chair with adjustable lumbar support, armrests, and seat height. Breathable mesh back for all-day comfort."},{id:"INV-003",name:"Standing Desk",category:"Furniture",quantity:67,location:"B-05",status:"In Stock",brand:"Uplift",pricePerPiece:799,supplierId:"SUP-002",quantityPurchased:120,quantitySold:53,reorderRequired:!1,description:"Electric height-adjustable standing desk with memory presets. 60x30 inch bamboo top with cable management system."},{id:"INV-004",name:"Wireless Mouse",category:"Electronics",quantity:8,location:"A-15",status:"Critical",brand:"Logitech",pricePerPiece:29.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:142,reorderRequired:!0,description:"Ergonomic wireless mouse with customizable buttons and long battery life. 2.4GHz wireless connection with USB receiver."},{id:"INV-005",name:"USB-C Cable",category:"Electronics",quantity:234,location:"A-20",status:"In Stock",brand:"Anker",pricePerPiece:12.99,supplierId:"SUP-001",quantityPurchased:500,quantitySold:266,reorderRequired:!1,description:"Premium braided USB-C to USB-C cable, 6ft length. Supports fast charging up to 100W and data transfer speeds up to 480Mbps."},{id:"INV-006",name:'Monitor 27"',category:"Electronics",quantity:89,location:"A-10",status:"In Stock",brand:"LG",pricePerPiece:349.99,supplierId:"SUP-003",quantityPurchased:150,quantitySold:61,reorderRequired:!1,description:"27-inch 4K UHD IPS display with HDR10 support. USB-C connectivity with 65W power delivery. Ideal for creative professionals."},{id:"INV-007",name:"Keyboard Mechanical",category:"Electronics",quantity:156,location:"A-14",status:"In Stock",brand:"Corsair",pricePerPiece:129.99,supplierId:"SUP-001",quantityPurchased:250,quantitySold:94,reorderRequired:!1,description:"Full-size mechanical keyboard with Cherry MX Brown switches. RGB backlighting with dedicated media controls and USB passthrough."},{id:"INV-008",name:"Filing Cabinet",category:"Furniture",quantity:34,location:"B-03",status:"In Stock",brand:"Steelcase",pricePerPiece:299,supplierId:"SUP-002",quantityPurchased:60,quantitySold:26,reorderRequired:!1,description:"4-drawer vertical filing cabinet with full-extension drawers. Built-in lock for security. Holds letter and legal size documents."}],Zq=[],Qq=[],Yq=[],Xq=[],Jq=[];function eH(n){return n.map(e=>{if(e.quantityPurchased===void 0||e.quantitySold===void 0||e.reorderRequired===void 0){const{reorderLevel:r,maintainStockAt:s,minimumStock:i,...l}=e,u=e.quantityPurchased??Math.floor(e.quantity*1.5),h=e.quantitySold??Math.floor(u-e.quantity),p=e.reorderRequired??e.quantity<=(e.minimumStock??e.reorderLevel??20);return{...l,brand:e.brand||"Unknown",pricePerPiece:e.pricePerPiece??0,supplierId:e.supplierId||"SUP-001",quantityPurchased:u,quantitySold:h,reorderRequired:p}}return e})}function tH(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalPaid??0,s=e.poDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,poDate:s,supplierCountry:e.supplierCountry??"",supplierCity:e.supplierCity??"",billNumber:e.billNumber??"",items:e.items??[],totalAmount:t,totalPaid:r,poBalance:e.poBalance??t-r,status:e.status??"Draft",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s}})}function nH(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function rH(n){return n.map(e=>({...e,country:e.country??"",city:e.city??"",address:e.address??"",purchases:e.purchases??0,payments:e.payments??0,balance:e.balance??(e.purchases??0)-(e.payments??0)}))}function sH(n){return n.map(e=>{const t=e.totalAmount??0,r=e.totalReceived??0,s=e.soDate??e.createdDate??new Date().toISOString().split("T")[0];return{...e,soDate:s,customerCountry:e.customerCountry??"",customerCity:e.customerCity??"",invoiceNumber:e.invoiceNumber??"",items:e.items??[],totalAmount:t,totalReceived:r,soBalance:e.soBalance??t-r,receiptStatus:e.receiptStatus??"Unpaid",shippingStatus:e.shippingStatus??"Pending",createdDate:e.createdDate??s,archived:e.archived??!1}})}const oH=[{name:"Electronics",subcategories:["Phones","Laptops","Tablets","Accessories","Monitors"]},{name:"Furniture",subcategories:["Desks","Chairs","Cabinets","Shelving"]},{name:"Clothing",subcategories:["Shirts","Pants","Shoes","Accessories"]},{name:"Food & Beverages",subcategories:["Beverages","Snacks","Canned Goods","Fresh Produce"]}];let mo=eH(Ro(ye.INVENTORY,Kq)),Xe=nH(Ro(ye.SUPPLIERS,Zq)),ot=rH(Ro(ye.CUSTOMERS,Qq)),Gt=Ro(ye.SHIPMENTS,Yq),Pe=tH(Ro(ye.PURCHASE_ORDERS,Xq)),ut=sH(Ro(ye.SALES_ORDERS,Jq)),Vr=Ro(ye.CATEGORIES,oH);be(ye.INVENTORY,mo);be(ye.SUPPLIERS,Xe);be(ye.CUSTOMERS,ot);be(ye.PURCHASE_ORDERS,Pe);be(ye.SALES_ORDERS,ut);be(ye.CATEGORIES,Vr);function iH(n,e){return n<=0?"Critical":e?"Low Stock":"In Stock"}function aH(){const e=Xe.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SUP-${String(e).padStart(3,"0")}`}function lH(){const e=ot.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`CUS-${String(e).padStart(3,"0")}`}function cH(){const e=Pe.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`PO-${String(e).padStart(3,"0")}`}function uH(){const e=ut.map(t=>Number(t.id.replace(/[^0-9]/g,""))||0).reduce((t,r)=>Math.max(t,r),0)+1;return`SO-${String(e).padStart(3,"0")}`}function xe(n,e=150){return new Promise(t=>setTimeout(()=>t(n),e))}async function QH(){return xe([...mo])}async function dH(){return xe([...Xe])}async function YH(n){const e=n.id&&n.id.trim()!==""?n.id:aH();if(Xe.some(l=>l.id===e))throw new Error(`Supplier with id ${e} already exists`);const t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name.trim(),contact:n.contact.trim(),email:n.email.trim(),phone:n.phone.trim(),category:n.category.trim(),status:n.status??"Active",country:n.country?.trim()??"",city:n.city?.trim()??"",address:n.address?.trim()??"",purchases:t,payments:r,balance:s};return Xe=[i,...Xe],be(ye.SUPPLIERS,Xe),xe(i)}async function XH(n){const e=Xe.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Supplier not found");const t=Xe[e],r=n.purchases!==void 0?n.purchases:t.purchases,s=n.payments!==void 0?n.payments:t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return Xe[e]=l,be(ye.SUPPLIERS,Xe),xe(l)}async function JH(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!0,archivedAt:new Date().toISOString()},be(ye.SUPPLIERS,Xe),xe(Xe[e])}async function eW(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");return Xe[e]={...Xe[e],archived:!1,archivedAt:void 0},be(ye.SUPPLIERS,Xe),xe(Xe[e])}async function tW(n){const e=Xe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Supplier not found");Xe.splice(e,1),be(ye.SUPPLIERS,Xe),await xe(void 0)}async function nW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!0,archivedAt:new Date().toISOString()},t++}return be(ye.SUPPLIERS,Xe),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function rW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe[s]={...Xe[s],archived:!1,archivedAt:void 0},t++}return be(ye.SUPPLIERS,Xe),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function sW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);if(s===-1){e.push(`Supplier ${r} not found`);continue}Xe.splice(s,1),t++}return be(ye.SUPPLIERS,Xe),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function oW(){return xe([...ot])}async function iW(n){const e=n.id&&n.id.trim()!==""?n.id:lH(),t=n.purchases??0,r=n.payments??0,s=t-r,i={id:e,name:n.name,contact:n.contact,email:n.email,phone:n.phone,category:n.category,status:n.status??"Active",country:n.country??"",city:n.city??"",address:n.address??"",purchases:t,payments:r,balance:s};return ot.push(i),be(ye.CUSTOMERS,ot),xe(i)}async function aW(n){const e=ot.findIndex(u=>u.id===n.id);if(e===-1)throw new Error("Customer not found");const t=ot[e],r=n.purchases??t.purchases,s=n.payments??t.payments,i=r-s,l={...t,...n,purchases:r,payments:s,balance:i};return ot[e]=l,be(ye.CUSTOMERS,ot),xe(l)}async function lW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!0,archivedAt:new Date().toISOString()};return ot[e]=t,be(ye.CUSTOMERS,ot),xe(t)}async function cW(n){const e=ot.findIndex(r=>r.id===n);if(e===-1)throw new Error("Customer not found");const t={...ot[e],archived:!1,archivedAt:void 0};return ot[e]=t,be(ye.CUSTOMERS,ot),xe(t)}async function uW(n){const e=ot.findIndex(t=>t.id===n);if(e===-1)throw new Error("Customer not found");return ot.splice(e,1),be(ye.CUSTOMERS,ot),xe(void 0)}async function dW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return be(ye.CUSTOMERS,ot),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function hW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!0,archivedAt:new Date().toISOString()},t++}return be(ye.CUSTOMERS,ot),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function fW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot[s]={...ot[s],archived:!1,archivedAt:void 0},t++}return be(ye.CUSTOMERS,ot),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function pW(n){const e=[];let t=0;for(const r of n){const s=ot.findIndex(i=>i.id===r);if(s===-1){e.push(`Customer ${r} not found`);continue}ot.splice(s,1),t++}return be(ye.CUSTOMERS,ot),xe({successCount:t,failedCount:e.length,errors:e.length>0?e:void 0})}async function mW(n,e){const t=[];let r=0;for(const s of n){const i=ot.findIndex(l=>l.id===s);if(i===-1){t.push(`Customer ${s} not found`);continue}ot[i]={...ot[i],status:e},r++}return be(ye.CUSTOMERS,ot),xe({successCount:r,failedCount:t.length,errors:t.length>0?t:void 0})}async function hH(){return xe([...Gt])}async function gW(n){const e=n.id&&n.id.trim()!==""?n.id:(()=>{const s=Gt.map(i=>Number(i.id.replace(/[^0-9]/g,""))||0).reduce((i,l)=>Math.max(i,l),0)+1;return`SHIP-${String(s).padStart(4,"0")}`})();if(Gt.some(r=>r.id===e))throw new Error(`Shipment with id ${e} already exists`);const t={id:e,...n};return Gt=[t,...Gt],be(ye.SHIPMENTS,Gt),xe(t)}async function yW(n){const e=Gt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Shipment not found");const r={...Gt[e],...n};return Gt[e]=r,be(ye.SHIPMENTS,Gt),xe(r)}async function vW(n){const e=Gt.findIndex(t=>t.id===n);if(e===-1)throw new Error("Shipment not found");Gt[e],Gt.splice(e,1),be(ye.SHIPMENTS,Gt),await xe(void 0)}async function _W(n){const e=[];let t=0;for(const r of n){const s=Gt.findIndex(i=>i.id===r);s===-1?e.push(`Shipment ${r} not found`):(Gt.splice(s,1),t++)}return be(ye.SHIPMENTS,Gt),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function wW(n,e){const t=[];let r=0;for(const s of n){const i=Gt.findIndex(l=>l.id===s);i===-1?t.push(`Shipment ${s} not found`):(Gt[i]={...Gt[i],status:e},r++)}return be(ye.SHIPMENTS,Gt),xe({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function EW(n){const e=[];let t=0;for(const r of n){const s=Xe.findIndex(i=>i.id===r);s===-1?e.push(`Supplier ${r} not found`):(Xe.splice(s,1),t++)}return be(ye.SUPPLIERS,Xe),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function bW(n,e){const t=[];let r=0;for(const s of n){const i=Xe.findIndex(l=>l.id===s);i===-1?t.push(`Supplier ${s} not found`):(Xe[i]={...Xe[i],status:e},r++)}return be(ye.SUPPLIERS,Xe),xe({success:t.length===0,successCount:r,failedCount:t.length,errors:t})}async function fH(){return xe([...Pe])}async function xW(n){const e=n.id&&n.id.trim()!==""?n.id:cH();if(Pe.some(l=>l.id===e))throw new Error(`Purchase Order with id ${e} already exists`);const t=n.items.reduce((l,u)=>l+u.totalPrice,0),r=n.totalPaid??0,s=n.poDate??new Date().toISOString().split("T")[0],i={id:e,poDate:s,supplierId:n.supplierId,supplierName:n.supplierName,supplierCountry:n.supplierCountry??"",supplierCity:n.supplierCity??"",billNumber:n.billNumber??"",items:n.items.map(l=>({...l,quantityReceived:0})),totalAmount:t,totalPaid:r,poBalance:t-r,status:"Draft",shippingStatus:"Pending",createdBy:n.createdBy,createdDate:s,approvedBy:null,approvedDate:null,receivedDate:null,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return Pe=[i,...Pe],be(ye.PURCHASE_ORDERS,Pe),xe(i)}async function IW(n){const e=Pe.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Purchase Order not found");const r={...Pe[e],...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),(n.items!==void 0||n.totalPaid!==void 0)&&(r.poBalance=r.totalAmount-r.totalPaid),Pe[e]=r,be(ye.PURCHASE_ORDERS,Pe),xe(r)}async function SW(n){const e=Pe.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Pe[e];if(t.status!=="Draft")throw new Error("Only Draft purchase orders can be submitted for approval");return Pe[e]={...t,status:"Pending Approval"},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[e])}async function TW(n,e){const t=Pe.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Pe[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be approved");return Pe[t]={...r,status:"Approved",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[t])}async function CW(n,e){const t=Pe.findIndex(s=>s.id===n);if(t===-1)throw new Error("Purchase Order not found");const r=Pe[t];if(r.status!=="Pending Approval")throw new Error("Only Pending Approval purchase orders can be rejected");return Pe[t]={...r,status:"Rejected",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[t])}async function AW(n){const e=Pe.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Pe[e];if(t.status!=="Approved")throw new Error("Only Approved purchase orders can be marked as ordered");return Pe[e]={...t,status:"Ordered"},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[e])}async function PW(n){const e=Pe.findIndex(r=>r.id===n);if(e===-1)throw new Error("Purchase Order not found");const t=Pe[e];if(["Received","Cancelled"].includes(t.status))throw new Error("Cannot cancel received or already cancelled purchase orders");return Pe[e]={...t,status:"Cancelled"},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[e])}async function RW(n,e,t){const r=Pe.findIndex(m=>m.id===n);if(r===-1)throw new Error("Purchase Order not found");const s=Pe[r];if(!["Ordered","Partially Received"].includes(s.status))throw new Error("Can only receive items for Ordered or Partially Received purchase orders");const i=[],l=s.items.map(m=>{const E=e.find(R=>R.inventoryItemId===m.inventoryItemId);if(!E)return m;const k=(m.quantityReceived??0)+E.quantityReceived;if(k>m.quantity)throw new Error(`Cannot receive more than ordered quantity for ${m.itemName}`);const A=mo.findIndex(R=>R.id===m.inventoryItemId);if(A!==-1){const R=mo[A].quantity,V=R+E.quantityReceived;mo[A]={...mo[A],quantity:V,status:iH(V,mo[A].reorderLevel,mo[A].maintainStockAt)},i.push({itemId:m.inventoryItemId,itemName:m.itemName,previousQty:R,newQty:V})}return{...m,quantityReceived:k}}),u=l.every(m=>(m.quantityReceived??0)>=m.quantity),h=l.some(m=>(m.quantityReceived??0)>0);let p=s.status,g=s.receivedDate;return u?(p="Received",g=new Date().toISOString().split("T")[0]):h&&(p="Partially Received"),Pe[r]={...s,items:l,status:p,receivedDate:g,actualCost:t??s.actualCost},be(ye.PURCHASE_ORDERS,Pe),be(ye.INVENTORY,mo),xe({purchaseOrder:Pe[r],inventoryUpdates:i})}async function kW(n){const e=Pe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Pe[e]={...Pe[e],archived:!0,archivedAt:new Date().toISOString()},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[e])}async function NW(n){const e=Pe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");return Pe[e]={...Pe[e],archived:!1,archivedAt:void 0},be(ye.PURCHASE_ORDERS,Pe),xe(Pe[e])}async function DW(n){const e=Pe.findIndex(t=>t.id===n);if(e===-1)throw new Error("Purchase Order not found");Pe.splice(e,1),be(ye.PURCHASE_ORDERS,Pe),await xe(void 0)}async function OW(n){const e=[];let t=0;for(const r of n){const s=Pe.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Pe[s]={...Pe[s],archived:!0,archivedAt:new Date().toISOString()},t++)}return be(ye.PURCHASE_ORDERS,Pe),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function MW(n){const e=[];let t=0;for(const r of n){const s=Pe.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Pe[s]={...Pe[s],archived:!1,archivedAt:void 0},t++)}return be(ye.PURCHASE_ORDERS,Pe),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function VW(n){const e=[];let t=0;for(const r of n){const s=Pe.findIndex(i=>i.id===r);s===-1?e.push(`PO ${r} not found`):(Pe.splice(s,1),t++)}return be(ye.PURCHASE_ORDERS,Pe),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function LW(){return xe([...ut])}async function jW(n){const e=n.id&&n.id.trim()!==""?n.id:uH();if(ut.some(h=>h.id===e))throw new Error(`Sales Order with id ${e} already exists`);const t=n.items.reduce((h,p)=>h+p.totalPrice,0),r=n.totalReceived??0,s=t-r,i=n.soDate??new Date().toISOString().split("T")[0];let l=n.receiptStatus??"Unpaid";n.receiptStatus||(r>=t?l="Paid":r>0&&(l="Partially Paid"));const u={id:e,soDate:i,customerId:n.customerId,customerName:n.customerName,customerCountry:n.customerCountry??"",customerCity:n.customerCity??"",invoiceNumber:n.invoiceNumber??"",items:n.items.map(h=>({...h,quantityShipped:0})),totalAmount:t,totalReceived:r,soBalance:s,receiptStatus:l,shippingStatus:n.shippingStatus??"Pending",createdBy:n.createdBy,createdDate:i,notes:n.notes??"",expectedDeliveryDate:n.expectedDeliveryDate};return ut.push(u),be(ye.SALES_ORDERS,ut),xe(u)}async function FW(n){const e=ut.findIndex(s=>s.id===n.id);if(e===-1)throw new Error("Sales Order not found");const t=ut[e],r={...t,...n};return n.items&&(r.totalAmount=n.items.reduce((s,i)=>s+i.totalPrice,0)),r.soBalance=r.totalAmount-r.totalReceived,n.totalReceived!==void 0&&n.receiptStatus===void 0&&(r.totalReceived>=r.totalAmount&&r.totalAmount>0?r.receiptStatus="Paid":r.totalReceived>0?r.receiptStatus="Partially Paid":t.receiptStatus!=="Overdue"&&(r.receiptStatus="Unpaid")),ut[e]=r,be(ye.SALES_ORDERS,ut),xe(r)}async function zW(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut.splice(e,1),be(ye.SALES_ORDERS,ut),xe(void 0)}async function UW(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut[e]={...ut[e],archived:!0,archivedAt:new Date().toISOString()},be(ye.SALES_ORDERS,ut),xe(ut[e])}async function $W(n){const e=ut.findIndex(t=>t.id===n);if(e===-1)throw new Error("Sales Order not found");return ut[e]={...ut[e],archived:!1,archivedAt:void 0},be(ye.SALES_ORDERS,ut),xe(ut[e])}async function BW(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ut[s]={...ut[s],archived:!0,archivedAt:new Date().toISOString()},t++}return be(ye.SALES_ORDERS,ut),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function qW(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}ut[s]={...ut[s],archived:!1,archivedAt:void 0},t++}return be(ye.SALES_ORDERS,ut),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function HW(n){const e=[];let t=0;for(const r of n){const s=ut.findIndex(i=>i.id===r);if(s===-1){e.push(`Sales Order ${r} not found`);continue}if(!ut[s].archived){e.push(`Sales Order ${r} must be archived before permanent deletion`);continue}ut.splice(s,1),t++}return be(ye.SALES_ORDERS,ut),xe({success:e.length===0,successCount:t,failedCount:e.length,errors:e})}async function WW(){return xe([...Vr])}async function GW(n){if(Vr.find(r=>r.name.toLowerCase()===n.toLowerCase()))throw new Error(`Category "${n}" already exists`);const t={name:n,subcategories:[]};return Vr=[...Vr,t],be(ye.CATEGORIES,Vr),xe(t)}async function KW(n,e){const t=Vr.findIndex(i=>i.name===n);if(t===-1)throw new Error(`Category "${n}" not found`);const r=Vr[t];if(r.subcategories.some(i=>i.toLowerCase()===e.toLowerCase()))throw new Error(`Subcategory "${e}" already exists in "${n}"`);const s={...r,subcategories:[...r.subcategories,e]};return Vr=[...Vr.slice(0,t),s,...Vr.slice(t+1)],be(ye.CATEGORIES,Vr),xe(s)}const pH=[{id:"TRX-001",trxDate:"2025-10-10",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Bank Transfer",amountReceived:14699.8,notes:"Full payment for SO-001",createdAt:"2025-10-10T10:30:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-002",invoiceNumber:"INV-2025-0502",paymentMode:"Credit Card",amountReceived:12e3,notes:"Partial payment for SO-002",createdAt:"2025-10-20T14:15:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Bank Transfer",amountReceived:7188,notes:"Full payment for furniture order",createdAt:"2025-11-05T09:00:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-20",customerId:"CUS-003",customerName:"Global Solutions",country:"United Kingdom",city:"London",soId:"SO-005",invoiceNumber:"INV-2025-0495",paymentMode:"Check",amountReceived:3e3,notes:"Partial payment - overdue balance",createdAt:"2025-09-20T11:45:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-11-01",customerId:"CUS-002",customerName:"TechStart Inc",country:"United States",city:"Austin",soId:"SO-003",invoiceNumber:"INV-2025-0503",paymentMode:"Cash",amountReceived:500,notes:"Deposit for order",createdAt:"2025-11-01T16:30:00Z",createdBy:"2",archived:!1},{id:"TRX-006",trxDate:"2025-10-25",customerId:"CUS-001",customerName:"Acme Corp",country:"United States",city:"San Francisco",soId:"SO-001",invoiceNumber:"INV-2025-0501",paymentMode:"Online Payment",amountReceived:2500,notes:"Additional payment for extended warranty",createdAt:"2025-10-25T13:00:00Z",createdBy:"1",archived:!1},{id:"TRX-007",trxDate:"2025-11-10",customerId:"CUS-004",customerName:"Beta Systems",country:"Canada",city:"Toronto",soId:"SO-004",invoiceNumber:"INV-2025-0504",paymentMode:"Credit Card",amountReceived:1500,notes:"Additional items added to order",createdAt:"2025-11-10T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-10-15",customerId:"CUS-005",customerName:"Metro Supplies",country:"United States",city:"New York",soId:"SO-003",invoiceNumber:"INV-2025-0499",paymentMode:"Bank Transfer",amountReceived:850,notes:"Final payment clearing balance",createdAt:"2025-10-15T09:30:00Z",createdBy:"1",archived:!1}];let tt=Ro(ye.CASH_BANK,pH);tt=tt.map(n=>({...n,archived:n.archived??!1}));be(ye.CASH_BANK,tt);function mH(){const n=tt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function ZW(){return xe([...tt])}async function QW(n){const e=n.id||mH(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,customerId:n.customerId,customerName:n.customerName,country:n.country||"",city:n.city||"",soId:n.soId,invoiceNumber:n.invoiceNumber||"",paymentMode:n.paymentMode,amountReceived:n.amountReceived,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return tt=[...tt,r],be(ye.CASH_BANK,tt),xe(r)}async function YW(n){const e=tt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n.id} not found`);const t=tt[e],r={...t,trxDate:n.trxDate??t.trxDate,customerId:n.customerId??t.customerId,customerName:n.customerName??t.customerName,country:n.country??t.country,city:n.city??t.city,soId:n.soId??t.soId,invoiceNumber:n.invoiceNumber??t.invoiceNumber,paymentMode:n.paymentMode??t.paymentMode,amountReceived:n.amountReceived??t.amountReceived,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),r,...tt.slice(e+1)],be(ye.CASH_BANK,tt),xe(r)}async function XW(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...tt[e],archived:!0,archivedAt:new Date().toISOString()};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],be(ye.CASH_BANK,tt),xe(t)}async function JW(n){const e=tt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);const t={...tt[e],archived:!1,archivedAt:void 0};return tt=[...tt.slice(0,e),t,...tt.slice(e+1)],be(ye.CASH_BANK,tt),xe(t)}async function eG(n){if(tt.findIndex(t=>t.id===n)===-1)throw new Error(`Cash/Bank transaction with ID ${n} not found`);return tt=tt.filter(t=>t.id!==n),be(ye.CASH_BANK,tt),xe(void 0)}async function tG(n){const e=new Date().toISOString(),t=[];return tt=tt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),be(ye.CASH_BANK,tt),xe(t)}async function nG(n){const e=[];return tt=tt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),be(ye.CASH_BANK,tt),xe(e)}async function rG(n){return tt=tt.filter(e=>!n.includes(e.id)),be(ye.CASH_BANK,tt),xe(void 0)}const gH=[{id:"TRX-001",trxDate:"2025-10-05",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-001",billNumber:"INV-2025-0142",paymentMode:"Bank Transfer",amountPaid:57998.5,notes:"Full payment for PO-001 - Q4 restock",createdAt:"2025-10-05T10:00:00Z",createdBy:"1",archived:!1},{id:"TRX-002",trxDate:"2025-10-20",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Check",amountPaid:16225,notes:"50% deposit for office furniture",createdAt:"2025-10-20T14:30:00Z",createdBy:"1",archived:!1},{id:"TRX-003",trxDate:"2025-11-05",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-005",billNumber:"FC-INV-4590",paymentMode:"Bank Transfer",amountPaid:4485,notes:"Full payment for filing cabinets",createdAt:"2025-11-05T09:15:00Z",createdBy:"1",archived:!1},{id:"TRX-004",trxDate:"2025-09-28",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Credit Card",amountPaid:25e3,notes:"Partial payment for electronics shipment",createdAt:"2025-09-28T11:00:00Z",createdBy:"1",archived:!1},{id:"TRX-005",trxDate:"2025-10-30",supplierId:"SUP-003",supplierName:"Global Electronics Co",country:"China",city:"Shenzhen",poId:"PO-001",billNumber:"GE-2025-789",paymentMode:"Bank Transfer",amountPaid:25e3,notes:"Final payment for electronics shipment",createdAt:"2025-10-30T15:45:00Z",createdBy:"1",archived:!1},{id:"TRX-006",trxDate:"2025-11-02",supplierId:"SUP-005",supplierName:"Premium Parts Ltd",country:"United Kingdom",city:"London",poId:"PO-003",billNumber:"PP-UK-2025-456",paymentMode:"Online Payment",amountPaid:15e3,notes:"Payment for premium components",createdAt:"2025-11-02T08:30:00Z",createdBy:"2",archived:!1},{id:"TRX-007",trxDate:"2025-10-12",supplierId:"SUP-001",supplierName:"TechSource LLC",country:"United States",city:"San Francisco",poId:"PO-004",billNumber:"TS-INV-2025-234",paymentMode:"Cash",amountPaid:3500,notes:"Advance payment for monitor order",createdAt:"2025-10-12T13:20:00Z",createdBy:"1",archived:!1},{id:"TRX-008",trxDate:"2025-11-08",supplierId:"SUP-002",supplierName:"FurniCraft Industries",country:"United States",city:"Grand Rapids",poId:"PO-002",billNumber:"FC-INV-4521",paymentMode:"Bank Transfer",amountPaid:8e3,notes:"Second installment for furniture order",createdAt:"2025-11-08T10:00:00Z",createdBy:"1",archived:!1}];let nt=Ro(ye.PAYMENTS,gH);nt=nt.map(n=>({...n,archived:n.archived??!1}));be(ye.PAYMENTS,nt);function yH(){const n=nt.map(t=>{const r=t.id.match(/^TRX-(\d+)$/);return r?parseInt(r[1],10):0}),e=n.length>0?Math.max(...n):0;return`TRX-${String(e+1).padStart(3,"0")}`}async function sG(){return xe([...nt])}async function oG(n){const e=n.id||yH(),t=new Date().toISOString(),r={id:e,trxDate:n.trxDate,supplierId:n.supplierId,supplierName:n.supplierName,country:n.country||"",city:n.city||"",poId:n.poId,billNumber:n.billNumber||"",paymentMode:n.paymentMode,amountPaid:n.amountPaid,notes:n.notes,createdAt:t,createdBy:n.createdBy,archived:!1};return nt=[...nt,r],be(ye.PAYMENTS,nt),xe(r)}async function iG(n){const e=nt.findIndex(s=>s.id===n.id);if(e===-1)throw new Error(`Payment transaction with ID ${n.id} not found`);const t=nt[e],r={...t,trxDate:n.trxDate??t.trxDate,supplierId:n.supplierId??t.supplierId,supplierName:n.supplierName??t.supplierName,country:n.country??t.country,city:n.city??t.city,poId:n.poId??t.poId,billNumber:n.billNumber??t.billNumber,paymentMode:n.paymentMode??t.paymentMode,amountPaid:n.amountPaid??t.amountPaid,notes:n.notes??t.notes,updatedAt:new Date().toISOString()};return nt=[...nt.slice(0,e),r,...nt.slice(e+1)],be(ye.PAYMENTS,nt),xe(r)}async function aG(n){const e=nt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...nt[e],archived:!0,archivedAt:new Date().toISOString()};return nt=[...nt.slice(0,e),t,...nt.slice(e+1)],be(ye.PAYMENTS,nt),xe(t)}async function lG(n){const e=nt.findIndex(r=>r.id===n);if(e===-1)throw new Error(`Payment transaction with ID ${n} not found`);const t={...nt[e],archived:!1,archivedAt:void 0};return nt=[...nt.slice(0,e),t,...nt.slice(e+1)],be(ye.PAYMENTS,nt),xe(t)}async function cG(n){if(nt.findIndex(t=>t.id===n)===-1)throw new Error(`Payment transaction with ID ${n} not found`);return nt=nt.filter(t=>t.id!==n),be(ye.PAYMENTS,nt),xe(void 0)}async function uG(n){const e=new Date().toISOString(),t=[];return nt=nt.map(r=>{if(n.includes(r.id)){const s={...r,archived:!0,archivedAt:e};return t.push(s),s}return r}),be(ye.PAYMENTS,nt),xe(t)}async function dG(n){const e=[];return nt=nt.map(t=>{if(n.includes(t.id)){const r={...t,archived:!1,archivedAt:void 0};return e.push(r),r}return t}),be(ye.PAYMENTS,nt),xe(e)}async function hG(n){return nt=nt.filter(e=>!n.includes(e.id)),be(ye.PAYMENTS,nt),xe(void 0)}function Rk(n){const e={};for(const t of Object.keys(n))n[t]!==void 0&&(e[t]=n[t]);return e}function gm(n,e,t){return n<=0?"Critical":t!==void 0&&n<=t||e?"Low Stock":"In Stock"}async function vH(){const n=await m9(cR(_n,Ur.INVENTORY));let e=0;return n.forEach(t=>{const s=t.id.match(/INV-(\d+)/);if(s){const i=parseInt(s[1],10);i>e&&(e=i)}}),`INV-${String(e+1).padStart(3,"0")}`}function _H(n,e){return v9(cR(_n,Ur.INVENTORY),t=>{const r=[];t.forEach(s=>{const i=s.data();r.push({id:s.id,name:i.name,category:i.category,subcategory:i.subcategory,quantity:i.quantity||0,location:i.location,status:i.status||gm(i.quantity||0,i.reorderRequired||!1,i.reorderLevel),brand:i.brand||"",pricePerPiece:i.pricePerPiece||0,supplierId:i.supplierId||"",quantityPurchased:i.quantityPurchased||0,quantitySold:i.quantitySold||0,reorderRequired:i.reorderRequired||!1,reorderLevel:i.reorderLevel,photoUrl:i.photoUrl,description:i.description,archived:i.archived||!1,archivedAt:i.archivedAt})}),n(r)},e)}async function fG(n){const e=n.id&&n.id.trim()!==""?n.id:await vH(),t=Math.max(0,Math.floor(n.quantity)),r=Math.max(0,Math.floor(n.quantityPurchased)),s=Math.max(0,Math.floor(n.quantitySold)),i=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):void 0,l=i!==void 0&&t<=i?!0:n.reorderRequired,u=gm(t,l,i),h={id:e,name:n.name.trim(),category:n.category,subcategory:n.subcategory,quantity:t,location:n.location.trim(),status:u,brand:n.brand.trim(),pricePerPiece:n.pricePerPiece,supplierId:n.supplierId.trim(),quantityPurchased:r,quantitySold:s,reorderRequired:l,reorderLevel:i,photoUrl:n.photoUrl,description:n.description};if((await Po(Ws(_n,Ur.INVENTORY,e))).exists())throw new Error(`Item with id ${e} already exists`);const g=Rk(h);return await g9(Ws(_n,Ur.INVENTORY,e),g),h}async function pG(n){const e=Ws(_n,Ur.INVENTORY,n.id),t=await Po(e);if(!t.exists())throw new Error("Item not found");const r=t.data(),s=n.quantity!==void 0?Math.max(0,Math.floor(n.quantity)):r.quantity,i=n.quantityPurchased!==void 0?Math.max(0,Math.floor(n.quantityPurchased)):r.quantityPurchased,l=n.quantitySold!==void 0?Math.max(0,Math.floor(n.quantitySold)):r.quantitySold,u=n.reorderLevel!==void 0?Math.max(0,Math.floor(n.reorderLevel)):r.reorderLevel;let h=n.reorderRequired!==void 0?n.reorderRequired:r.reorderRequired;u!==void 0&&s<=u&&(h=!0);const p={...r,...n,quantity:s,quantityPurchased:i,quantitySold:l,reorderRequired:h,reorderLevel:u,status:gm(s,h,u)},g=Rk(p);return await yw(e,g),p}async function wH(n){const e=Ws(_n,Ur.INVENTORY,n);if(!(await Po(e)).exists())throw new Error("Item not found");await y9(e)}async function mG(n){const e=Ws(_n,Ur.INVENTORY,n),t=await Po(e);if(!t.exists())throw new Error("Item not found");const s={...t.data(),id:n,archived:!0,archivedAt:new Date().toISOString()};return await yw(e,{archived:!0,archivedAt:new Date().toISOString()}),s}async function gG(n){const e=Ws(_n,Ur.INVENTORY,n),t=await Po(e);if(!t.exists())throw new Error("Item not found");const s={...t.data(),id:n,archived:!1,archivedAt:void 0};return await yw(e,{archived:!1,archivedAt:null}),s}async function yG(n){await wH(n)}async function vG(n){const e=lm(_n),t=[];let r=0;for(const s of n){const i=Ws(_n,Ur.INVENTORY,s);if(!(await Po(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!0,archivedAt:new Date().toISOString()}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function _G(n){const e=lm(_n),t=[];let r=0;for(const s of n){const i=Ws(_n,Ur.INVENTORY,s);if(!(await Po(i)).exists()){t.push(`Item ${s} not found`);continue}e.update(i,{archived:!1,archivedAt:null}),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function EH(n){const e=lm(_n),t=[];let r=0;for(const s of n){const i=Ws(_n,Ur.INVENTORY,s);if(!(await Po(i)).exists()){t.push(`Item ${s} not found`);continue}e.delete(i),r++}return await e.commit(),{success:t.length===0,successCount:r,failedCount:t.length,errors:t.length>0?t:void 0}}async function wG(n){return EH(n)}async function EG(n,e){const t=lm(_n),r=[];let s=0;for(const i of n){const l=Ws(_n,Ur.INVENTORY,i),u=await Po(l);if(!u.exists()){r.push(`Item ${i} not found`);continue}const h=u.data(),p=e.quantity!==void 0?Math.max(0,Math.floor(e.quantity)):h.quantity,g=e.reorderRequired!==void 0?e.reorderRequired:h.reorderRequired,m=gm(p,g);t.update(l,{...e,status:m}),s++}return await t.commit(),{success:r.length===0,successCount:s,failedCount:r.length,errors:r.length>0?r:void 0}}const kk=b.createContext(void 0);function bH({children:n}){const[e,t]=b.useState(null),[r,s]=b.useState(null),[i,l]=b.useState(null),[u,h]=b.useState({inventory:!0,shipments:!0,suppliers:!0}),p=b.useRef(null);b.useEffect(()=>(p.current=_H(A=>{t(A),h(R=>({...R,inventory:!1}))},A=>{console.error("Firebase inventory subscription error:",A),h(R=>({...R,inventory:!1}))}),()=>{p.current&&p.current()}),[]),b.useEffect(()=>{g()},[]);async function g(){await Promise.all([E(),I()])}async function m(){}async function E(){h(A=>({...A,shipments:!0}));try{const A=await hH();s(A)}finally{h(A=>({...A,shipments:!1}))}}async function I(){h(A=>({...A,suppliers:!0}));try{const A=await dH();l(A)}finally{h(A=>({...A,suppliers:!1}))}}const k={inventory:e,shipments:r,suppliers:i,isLoading:u,setInventory:t,setShipments:s,setSuppliers:l,refreshInventory:m,refreshShipments:E,refreshSuppliers:I};return v.jsx(kk.Provider,{value:k,children:n})}function Ow(){const n=b.useContext(kk);if(n===void 0)throw new Error("useAppContext must be used within an AppProvider");return n}function bG(){const{inventory:n,isLoading:e,setInventory:t,refreshInventory:r}=Ow();return{inventory:n,isLoading:e.inventory,setInventory:t,refreshInventory:r}}function xG(){const{suppliers:n,isLoading:e,setSuppliers:t,refreshSuppliers:r}=Ow();return{suppliers:n,isLoading:e.suppliers,setSuppliers:t,refreshSuppliers:r}}function xH(n,e=300){const[t,r]=b.useState(n);return b.useEffect(()=>{const s=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(s)}},[n,e]),t}const Eu="wms_recent_searches",IH=10,df=2,bu=10,Ty={inventory:{name:"Inventory",icon:wp,view:"inventory"},orders:{name:"Orders",icon:IS,view:"orders"},"purchase-orders":{name:"Purchase Orders",icon:Rv,view:"purchase-orders"},shipments:{name:"Shipments",icon:kv,view:"shipments"},suppliers:{name:"Suppliers",icon:SS,view:"suppliers"}},SH=[{syntax:"status:critical",description:"Filter by status"},{syntax:"category:electronics",description:"Filter by category"},{syntax:"module:inventory",description:"Search in specific module"},{syntax:"supplier:ABC Corp",description:"Filter by supplier"},{syntax:"location:warehouse-a",description:"Filter by location"},{syntax:"price:>100",description:"Numeric range filter"}];function TH({open:n,onOpenChange:e,onNavigate:t}){const[r,s]=b.useState(""),[i,l]=b.useState(0),[u,h]=b.useState(!1),[p,g]=b.useState([]),[m,E]=b.useState(!1),[I,k]=b.useState([]),A=b.useRef(null),R=b.useRef(null),{inventory:V,orders:z,shipments:U,suppliers:H}=Ow(),{user:B}=Nd(),W=xH(r,300);b.useEffect(()=>{if(B){const X=localStorage.getItem(Eu);if(X)try{const j=JSON.parse(X);k(j[B.id]||[])}catch{k([])}}},[B]),b.useEffect(()=>{n?(fH().then(g).catch(console.error),A.current?.focus()):(s(""),l(0),E(!1))},[n]);const C=b.useCallback(X=>{if(!B||X.length<df)return;const j=localStorage.getItem(Eu);let K={};if(j)try{K=JSON.parse(j)}catch{}const ie=(K[B.id]||[]).filter(Se=>Se!==X),he=[X,...ie].slice(0,IH);K[B.id]=he,localStorage.setItem(Eu,JSON.stringify(K)),k(he)},[B]),S=b.useCallback(()=>{if(!B)return;const X=localStorage.getItem(Eu);let j={};if(X)try{j=JSON.parse(X)}catch{}delete j[B.id],localStorage.setItem(Eu,JSON.stringify(j)),k([])},[B]),P=b.useCallback(X=>{const j=[];let K=X;const oe=/(\w+):([<>=]*)([^\s]+)/g;let ie;for(;(ie=oe.exec(X))!==null;){const[he,Se,ve,Ie]=ie;j.push({key:Se.toLowerCase(),value:Ie,operator:ve}),K=K.replace(he,"").trim()}return{filters:j,cleanQuery:K}},[]),N=b.useMemo(()=>{if(W.length<df)return[];h(!0);const{filters:X,cleanQuery:j}=P(W),K=j.toLowerCase(),oe=[],ie=X.find(Qe=>Qe.key==="module")?.value.toLowerCase(),he=X.find(Qe=>Qe.key==="status")?.value.toLowerCase(),Se=X.find(Qe=>Qe.key==="category")?.value.toLowerCase(),ve=X.find(Qe=>Qe.key==="supplier")?.value.toLowerCase(),Ie=X.find(Qe=>Qe.key==="location")?.value.toLowerCase(),Ge=X.find(Qe=>Qe.key==="price");return(!ie||ie==="inventory")&&(V||[]).filter(pe=>{if(he&&pe.status.toLowerCase()!==he||Se&&pe.category.toLowerCase()!==Se||Ie&&!pe.location.toLowerCase().includes(Ie))return!1;if(Ge){const xt=pe.pricePerPiece,dn=parseFloat(Ge.value);if(Ge.operator===">"&&xt<=dn||Ge.operator==="<"&&xt>=dn)return!1}return j?pe.id.toLowerCase().includes(K)||pe.name.toLowerCase().includes(K)||pe.brand.toLowerCase().includes(K)||pe.category.toLowerCase().includes(K)||pe.location.toLowerCase().includes(K):!0}).slice(0,bu).forEach(pe=>{const xt=[];pe.id.toLowerCase().includes(K)&&xt.push("ID"),pe.name.toLowerCase().includes(K)&&xt.push("Name"),pe.brand.toLowerCase().includes(K)&&xt.push("Brand"),oe.push({id:pe.id,title:pe.name,subtitle:`${pe.id}  ${pe.brand}  ${pe.category}  ${pe.location}`,module:"inventory",moduleName:"Inventory",icon:wp,matchedFields:xt})}),(!ie||ie==="orders")&&(z||[]).filter(pe=>he&&pe.status.toLowerCase()!==he?!1:j?pe.id.toLowerCase().includes(K)||pe.customer.toLowerCase().includes(K)||pe.status.toLowerCase().includes(K):!0).slice(0,bu).forEach(pe=>{oe.push({id:pe.id,title:pe.customer,subtitle:`${pe.id}  ${pe.status}  ${pe.total}`,module:"orders",moduleName:"Orders",icon:IS,matchedFields:[]})}),(!ie||ie==="purchase-orders"||ie==="po")&&p.filter(pe=>he&&pe.status.toLowerCase().replace(/\s/g,"-")!==he||ve&&!pe.supplierName.toLowerCase().includes(ve)?!1:j?pe.id.toLowerCase().includes(K)||pe.supplierName.toLowerCase().includes(K)||pe.status.toLowerCase().includes(K):!0).slice(0,bu).forEach(pe=>{oe.push({id:pe.id,title:`${pe.id} - ${pe.supplierName}`,subtitle:`${pe.status}  ${pe.totalAmount.toLocaleString()}`,module:"purchase-orders",moduleName:"Purchase Orders",icon:Rv,matchedFields:[]})}),(!ie||ie==="shipments")&&(U||[]).filter(pe=>he&&pe.status.toLowerCase().replace(/\s/g,"-")!==he?!1:j?pe.id.toLowerCase().includes(K)||pe.orderId.toLowerCase().includes(K)||pe.destination.toLowerCase().includes(K)||pe.carrier.toLowerCase().includes(K):!0).slice(0,bu).forEach(pe=>{oe.push({id:pe.id,title:`${pe.id}  ${pe.destination}`,subtitle:`Order: ${pe.orderId}  ${pe.carrier}  ${pe.status}`,module:"shipments",moduleName:"Shipments",icon:kv,matchedFields:[]})}),(!ie||ie==="suppliers")&&(H||[]).filter(pe=>he&&pe.status.toLowerCase()!==he||Se&&!pe.category.toLowerCase().includes(Se)?!1:j?pe.id.toLowerCase().includes(K)||pe.name.toLowerCase().includes(K)||pe.contact.toLowerCase().includes(K)||pe.email.toLowerCase().includes(K)||pe.category.toLowerCase().includes(K):!0).slice(0,bu).forEach(pe=>{oe.push({id:pe.id,title:pe.name,subtitle:`${pe.id}  ${pe.contact}  ${pe.category}`,module:"suppliers",moduleName:"Suppliers",icon:SS,matchedFields:[]})}),h(!1),oe},[W,V,z,p,U,H,P]),M=b.useMemo(()=>{const X={inventory:[],orders:[],"purchase-orders":[],shipments:[],suppliers:[]};return N.forEach(j=>{X[j.module].push(j)}),X},[N]),F=b.useMemo(()=>Object.values(M).flat(),[M]),O=b.useMemo(()=>P(r).filters,[r,P]),Ce=b.useCallback(X=>{C(r),t(Ty[X.module].view,X.id),e(!1)},[r,C,t,e]),Be=b.useCallback(X=>{s(X)},[]),me=b.useCallback(X=>{const j=new RegExp(`${X}:[^\\s]+\\s*`,"gi");s(K=>K.replace(j,"").trim())},[]);b.useEffect(()=>{const X=j=>{if(n)switch(j.key){case"ArrowDown":j.preventDefault(),l(K=>Math.min(K+1,F.length-1));break;case"ArrowUp":j.preventDefault(),l(K=>Math.max(K-1,0));break;case"Enter":j.preventDefault(),F[i]&&Ce(F[i]);break;case"Escape":e(!1);break}};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[n,F,i,Ce,e]),b.useEffect(()=>{l(0)},[F]);const _e=(X,j)=>{if(!j||j.length<df)return X;const{cleanQuery:K}=P(j);if(!K)return X;const oe=new RegExp(`(${K.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return X.split(oe).map((he,Se)=>oe.test(he)?v.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-800 rounded px-0.5",children:he},Se):he)},G=r.length===0&&I.length>0,ne=r.length>=df&&N.length===0&&!u;return v.jsx(pk,{open:n,onOpenChange:e,children:v.jsxs(mk,{className:"max-w-2xl p-0 gap-0 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center border-b px-4 py-3 gap-3",children:[v.jsx(kf,{className:"h-5 w-5 text-muted-foreground shrink-0"}),v.jsx(xu,{ref:A,value:r,onChange:X=>s(X.target.value),placeholder:"Search across all modules... (type ? for help)",className:"border-0 focus-visible:ring-0 p-0 h-auto text-base","aria-label":"Global search"}),u&&v.jsx(zu,{className:"h-4 w-4 animate-spin text-muted-foreground"}),v.jsx("button",{onClick:()=>E(!m),className:"p-1 hover:bg-muted rounded",title:"Show filter syntax help",children:v.jsx(m2,{className:"h-4 w-4 text-muted-foreground"})})]}),O.length>0&&v.jsx("div",{className:"flex flex-wrap gap-2 px-4 py-2 border-b bg-muted/30",children:O.map((X,j)=>v.jsxs(dS,{variant:"secondary",className:"gap-1 pr-1",children:[v.jsxs("span",{className:"font-medium",children:[X.key,":"]}),v.jsxs("span",{children:[X.operator||"",X.value]}),v.jsx("button",{onClick:()=>me(X.key),className:"ml-1 hover:bg-muted rounded-full p-0.5",children:v.jsx(Nv,{className:"h-3 w-3"})})]},j))}),m&&v.jsxs("div",{className:"px-4 py-3 border-b bg-blue-50 dark:bg-blue-950/30",children:[v.jsx("p",{className:"text-sm font-medium mb-2",children:"Filter Syntax:"}),v.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:SH.map((X,j)=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:X.syntax}),v.jsx("span",{className:"text-muted-foreground",children:X.description})]},j))})]}),v.jsxs(Dw,{className:"max-h-[400px]",ref:R,children:[G&&v.jsxs("div",{className:"p-2",children:[v.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-1",children:[v.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Recent Searches"}),v.jsx("button",{onClick:S,className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear all"})]}),I.map((X,j)=>v.jsxs("button",{onClick:()=>Be(X),className:"flex items-center gap-3 w-full px-3 py-2 text-left hover:bg-muted rounded-md transition-colors",children:[v.jsx(w2,{className:"h-4 w-4 text-muted-foreground"}),v.jsx("span",{className:"text-sm",children:X})]},j))]}),ne&&v.jsxs("div",{className:"p-8 text-center",children:[v.jsx(Y2,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),v.jsxs("p",{className:"text-muted-foreground",children:['No results found for "',r,'"']}),v.jsxs("p",{className:"text-sm text-muted-foreground/70 mt-1",children:["Try different keywords or use filters like ",v.jsx("code",{className:"bg-muted px-1 rounded",children:"status:active"})]})]}),N.length>0&&v.jsx("div",{className:"p-2",children:Object.entries(M).filter(([,X])=>X.length>0).map(([X,j])=>v.jsxs("div",{className:"mb-4 last:mb-0",children:[v.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 mb-1",children:[(()=>{const K=Ty[X].icon;return v.jsx(K,{className:"h-4 w-4 text-muted-foreground"})})(),v.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:Ty[X].name}),v.jsx(dS,{variant:"secondary",className:"h-5 px-1.5 text-xs",children:j.length})]}),j.map((K,oe)=>{const he=F.indexOf(K)===i;return v.jsxs("button",{onClick:()=>Ce(K),className:$e("flex items-start gap-3 w-full px-3 py-2 text-left rounded-md transition-colors",he?"bg-primary/10 text-primary":"hover:bg-muted"),children:[v.jsx(K.icon,{className:"h-4 w-4 mt-0.5 shrink-0"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"font-medium text-sm truncate",children:_e(K.title,r)}),v.jsx("div",{className:"text-xs text-muted-foreground truncate",children:_e(K.subtitle,r)})]})]},K.id)})]},X))}),r.length===0&&I.length===0&&v.jsxs("div",{className:"p-8 text-center",children:[v.jsx(kf,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),v.jsx("p",{className:"text-muted-foreground",children:"Start typing to search across all modules"}),v.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Search inventory, orders, purchase orders, shipments, and suppliers"})]})]}),v.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t bg-muted/30 text-xs text-muted-foreground",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:""}),"to navigate"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Enter"}),"to select"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded border text-[10px]",children:"Esc"}),"to close"]})]}),v.jsxs("span",{children:[N.length," result",N.length!==1?"s":""]})]})]})})}function CH(){const[n,e]=b.useState(!1);return b.useEffect(()=>{const t=r=>{(r.metaKey||r.ctrlKey)&&r.key==="k"&&(r.preventDefault(),e(s=>!s))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),{open:n,setOpen:e}}function AH({setCurrentView:n,setCommandPaletteOpen:e}){const{user:t,logout:r}=Nd(),s=()=>{r(),Mn.success("Logged out successfully")};return v.jsxs("header",{className:"shrink-0 z-50 flex h-14 items-center gap-4 border-b bg-background px-4 sm:px-6",children:[v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsxs("h1",{className:"text-sm font-semibold truncate sm:text-base",children:[v.jsx("span",{className:"hidden lg:inline",children:"Warehouse Management System "}),v.jsx("span",{className:"lg:hidden",children:"WMS"})]}),v.jsx("p",{className:"text-xs text-muted-foreground truncate lg:hidden",children:"Inventory & Supply Chain"})]}),v.jsxs(xa,{variant:"outline",className:"hidden sm:flex w-64 justify-start text-muted-foreground gap-2",onClick:()=>e(!0),children:[v.jsx(kf,{className:"h-4 w-4 shrink-0"}),v.jsx("span",{className:"truncate",children:"Search everything..."}),v.jsxs("kbd",{className:"ml-auto pointer-events-none hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium md:inline-flex",children:[v.jsx(b2,{className:"h-3 w-3"}),"K"]})]}),v.jsxs(xa,{variant:"outline",size:"icon",className:"sm:hidden shrink-0",onClick:()=>e(!0),children:[v.jsx(kf,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Search"})]}),t&&v.jsxs(sC,{modal:!1,children:[v.jsx(oC,{asChild:!0,children:v.jsxs("button",{type:"button",className:"flex items-center gap-2 px-2 py-1.5 rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:[v.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:v.jsx(Cy,{className:"h-4 w-4 text-primary"})}),v.jsxs("div",{className:"hidden md:flex flex-col items-start text-left",children:[v.jsx("span",{className:"text-sm font-medium truncate max-w-[120px]",children:t.name}),v.jsx("span",{className:"text-xs text-muted-foreground",children:t.role})]}),v.jsx(c2,{className:"h-4 w-4 text-muted-foreground hidden md:block"})]})}),v.jsxs(c_,{align:"end",className:"w-56",sideOffset:8,children:[v.jsx(u_,{className:"font-normal",children:v.jsxs("div",{className:"flex flex-col space-y-1",children:[v.jsx("p",{className:"text-sm font-medium leading-none",children:t.name}),v.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),v.jsx(d_,{}),v.jsxs(Wu,{onSelect:()=>n("profile"),children:[v.jsx(Cy,{className:"mr-2 h-4 w-4"}),"View Profile"]}),v.jsxs(Wu,{onSelect:s,className:"text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400",children:[v.jsx(V2,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})}const hS=ce.lazy(()=>cs(()=>import("./dashboard-Df8ZgX26.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(n=>({default:n.Dashboard}))),PH=ce.lazy(()=>cs(()=>import("./inventory-view-mtXLkwrd.js"),__vite__mapDeps([9,10,11,1,12,7,13,2,14,3,4,15,16,17,18,19,20])).then(n=>({default:n.InventoryView}))),RH=ce.lazy(()=>cs(()=>import("./purchase-orders-view-B2CGqR1a.js"),__vite__mapDeps([21,10,22,11,1,23,2,14,19,3,4,15,8])).then(n=>({default:n.PurchaseOrdersView}))),kH=ce.lazy(()=>cs(()=>import("./sales-orders-view-p1wmKOYS.js"),__vite__mapDeps([24,2,11,1,10,23,22,19,3,4,15])).then(n=>({default:n.SalesOrdersView}))),NH=ce.lazy(()=>cs(()=>import("./shipments-view-DUt37zep.js"),__vite__mapDeps([25,10,11,1,6,23,12,7,13,2,14,26,4,18])).then(n=>({default:n.ShipmentsView}))),DH=ce.lazy(()=>cs(()=>import("./suppliers-view-L8qhvTBu.js"),__vite__mapDeps([27,10,11,1,23,12,7,13,2,14,26,15,28,20,18,4,3,16])).then(n=>({default:n.SuppliersView}))),OH=ce.lazy(()=>cs(()=>import("./customers-view-DCJ6ipQs.js"),__vite__mapDeps([29,10,11,1,23,12,7,13,2,14,26,15,28,16,18,3])).then(n=>({default:n.CustomersView}))),MH=ce.lazy(()=>cs(()=>import("./user-management-view-DtBW1rex.js"),__vite__mapDeps([30,10,2,13,31])).then(n=>({default:n.UserManagementView}))),VH=ce.lazy(()=>cs(()=>import("./admin-profile-view-Dw_ltixs.js"),__vite__mapDeps([32,17,31,26,28,18,6])).then(n=>({default:n.AdminProfileView}))),LH=ce.lazy(()=>cs(()=>import("./cash-bank-view-pUOcrBxX.js"),__vite__mapDeps([33,2,11,1,10,23,22,3,5,15])).then(n=>({default:n.CashBankView}))),jH=ce.lazy(()=>cs(()=>import("./payments-view-BWT0jZaJ.js"),__vite__mapDeps([34,2,11,1,10,23,22,3,5,15])).then(n=>({default:n.PaymentsView}))),FH=["dashboard","inventory","purchase-orders","sales-orders","shipments","suppliers","customers","cash-bank","payments","users","profile"];function fS(){const n=window.location.hash.slice(1);return n&&FH.includes(n)?n:"dashboard"}function zH(){const{isAuthenticated:n,isLoading:e}=Nd(),[t,r]=b.useState(fS),[s,i]=b.useState(null),[l,u]=b.useState(void 0),{open:h,setOpen:p}=CH();b.useEffect(()=>{const A=t==="dashboard"?"":`#${t}`;window.location.hash!==A&&window.location.hash!==`#${t}`&&window.history.replaceState(null,"",A||window.location.pathname)},[t]),b.useEffect(()=>{const A=()=>{const R=fS();r(R)};return window.addEventListener("hashchange",A),()=>window.removeEventListener("hashchange",A)},[]);const g=b.useCallback((A,R=!1)=>{r(A),R&&A!=="dashboard"&&i(A)},[]),m=b.useCallback((A,R)=>{r(A),u(R)},[]),E=b.useCallback(()=>{i(null)},[]),I=b.useCallback(()=>{u(void 0)},[]);if(e)return v.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx(zu,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),v.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})});if(!n)return v.jsxs(LI,{onError:Av,children:[v.jsx(Wq,{}),v.jsx(VI,{})]});const k=()=>{switch(t){case"dashboard":return v.jsx(hS,{navigateToView:g});case"inventory":return v.jsx(PH,{initialOpenDialog:s==="inventory",onDialogOpened:E,initialItemId:l,onItemDialogOpened:I});case"purchase-orders":return v.jsx(RH,{initialOpenDialog:s==="purchase-orders",onDialogOpened:E});case"sales-orders":return v.jsx(kH,{});case"shipments":return v.jsx(NH,{initialOpenDialog:s==="shipments",onDialogOpened:E});case"suppliers":return v.jsx(DH,{initialOpenDialog:s==="suppliers",onDialogOpened:E,initialSupplierId:l,onSupplierDialogOpened:I});case"customers":return v.jsx(OH,{initialOpenDialog:s==="customers",onDialogOpened:E,initialCustomerId:l,onCustomerDialogOpened:I});case"cash-bank":return v.jsx(LH,{});case"payments":return v.jsx(jH,{});case"users":return v.jsx(MH,{});case"profile":return v.jsx(VH,{});default:return v.jsx(hS,{navigateToView:g})}};return v.jsx(LI,{onError:Av,children:v.jsxs(bL,{children:[v.jsx(D9,{currentView:t,setCurrentView:r}),v.jsxs(SL,{className:"flex flex-col bg-muted/30 h-screen overflow-hidden",children:[v.jsx(AH,{setCurrentView:r,setCommandPaletteOpen:p}),v.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-6",children:v.jsx(b.Suspense,{fallback:v.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[v.jsx(zu,{className:"h-4 w-4 animate-spin"})," Loading..."]}),children:k()})})]}),v.jsx(TH,{open:h,onOpenChange:p,onNavigate:m}),v.jsx(VI,{})]})})}const pS="wms_favorites",mS="wms_saved_searches",Nk=b.createContext(void 0),UH=[{id:"ql-1",label:"Low Stock Items",entityType:"inventory",filters:{status:"Low Stock"},icon:"alert"},{id:"ql-2",label:"Critical Stock",entityType:"inventory",filters:{status:"Critical"},icon:"alert-circle"},{id:"ql-3",label:"Pending Orders",entityType:"orders",filters:{status:"Pending"},icon:"clock"},{id:"ql-4",label:"Processing Orders",entityType:"orders",filters:{status:"Processing"},icon:"loader"},{id:"ql-5",label:"In Transit Shipments",entityType:"shipments",filters:{status:"In Transit"},icon:"truck"},{id:"ql-6",label:"Active Suppliers",entityType:"suppliers",filters:{status:"Active"},icon:"users"}];function $H({children:n}){const[e,t]=b.useState([]),[r,s]=b.useState([]),[i]=b.useState(UH);b.useEffect(()=>{try{const A=localStorage.getItem(pS);A&&t(JSON.parse(A));const R=localStorage.getItem(mS);R&&s(JSON.parse(R))}catch(A){console.error("Failed to load favorites from localStorage:",A)}},[]),b.useEffect(()=>{try{localStorage.setItem(pS,JSON.stringify(e))}catch(A){console.error("Failed to save favorites to localStorage:",A)}},[e]),b.useEffect(()=>{try{localStorage.setItem(mS,JSON.stringify(r))}catch(A){console.error("Failed to save searches to localStorage:",A)}},[r]);const l=b.useCallback((A,R,V)=>{t(z=>z.some(B=>B.entityType===A&&B.entityId===R)?z:[{id:`fav-${A}-${R}-${Date.now()}`,entityType:A,entityId:R,entityName:V,favoritedAt:new Date().toISOString()},...z])},[]),u=b.useCallback((A,R)=>{t(V=>V.filter(z=>!(z.entityType===A&&z.entityId===R)))},[]),h=b.useCallback((A,R,V)=>{t(z=>z.some(H=>H.entityType===A&&H.entityId===R)?z.filter(H=>!(H.entityType===A&&H.entityId===R)):[{id:`fav-${A}-${R}-${Date.now()}`,entityType:A,entityId:R,entityName:V,favoritedAt:new Date().toISOString()},...z])},[]),p=b.useCallback((A,R)=>e.some(V=>V.entityType===A&&V.entityId===R),[e]),g=b.useCallback(A=>e.filter(R=>R.entityType===A),[e]),m=b.useCallback((A=10)=>[...e].sort((R,V)=>new Date(V.favoritedAt).getTime()-new Date(R.favoritedAt).getTime()).slice(0,A),[e]),E=b.useCallback((A,R,V,z)=>{const U={id:`search-${Date.now()}`,name:A,entityType:R,searchTerm:V,filters:z||{},createdAt:new Date().toISOString()};s(H=>[U,...H])},[]),I=b.useCallback(A=>{s(R=>R.filter(V=>V.id!==A))},[]),k=b.useCallback(A=>r.filter(R=>R.entityType===A),[r]);return v.jsx(Nk.Provider,{value:{favorites:e,savedSearches:r,quickLinks:i,addFavorite:l,removeFavorite:u,toggleFavorite:h,isFavorite:p,getFavoritesByType:g,getRecentFavorites:m,saveSearch:E,deleteSearch:I,getSearchesByType:k},children:n})}function IG(){const n=b.useContext(Nk);if(!n)throw new Error("useFavorites must be used within a FavoritesProvider");return n}const BH=C9;GN.createRoot(document.getElementById("root")).render(v.jsx(BH,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:v.jsx(x9,{children:v.jsx($H,{children:v.jsx(bH,{children:v.jsx(zH,{})})})})}));window.addEventListener("error",n=>{const e=n.error instanceof Error?n.error:new Error(String(n.message));Av(e)});export{vG as $,Mn as A,xa as B,AR as C,pk as D,mk as E,Tq as F,Aq as G,Pq as H,Ll as I,xu as J,Cq as K,R2 as L,bG as M,xG as N,IG as O,wp as P,WW as Q,ce as R,IS as S,aD as T,SS as U,xH as V,pD as W,pG as X,YH as Y,fG as Z,EH as _,qH as a,JH as a$,_G as a0,wG as a1,EG as a2,ZH as a3,Nv as a4,kf as a5,sC as a6,oC as a7,c_ as a8,u_ as a9,RW as aA,VW as aB,OW as aC,oW as aD,jW as aE,qW as aF,$W as aG,UW as aH,zW as aI,FW as aJ,HW as aK,BW as aL,hH as aM,yW as aN,_W as aO,wW as aP,gW as aQ,vW as aR,XH as aS,EW as aT,nW as aU,rW as aV,sW as aW,bW as aX,j2 as aY,eW as aZ,tW as a_,d_ as aa,tj as ab,jI as ac,T2 as ad,Dw as ae,gD as af,GW as ag,KW as ah,gG as ai,mG as aj,yG as ak,KH as al,xS as am,dH as an,QH as ao,xW as ap,MW as aq,IW as ar,SW as as,TW as at,CW as au,AW as av,PW as aw,NW as ax,DW as ay,kW as az,ES as b,aW as b0,dW as b1,hW as b2,fW as b3,pW as b4,mW as b5,iW as b6,cW as b7,uW as b8,lW as b9,Pp as bA,t_ as bB,vc as bC,B1 as bD,Ks as bE,ga as bF,sT as bG,Et as bH,q1 as bI,ht as bJ,Le as bK,_o as bL,bp as bM,Ov as bN,iC as bO,KV as bP,Ln as bQ,YS as bR,$S as bS,Vv as bT,Yl as bU,Mv as bV,Ep as bW,H1 as bX,Rq as bY,W1 as bZ,f2 as b_,nD as ba,uD as bb,Cy as bc,rb as bd,hk as be,Cv as bf,I2 as bg,zu as bh,QW as bi,nG as bj,tG as bk,JW as bl,eG as bm,YW as bn,XW as bo,rG as bp,oG as bq,dG as br,uG as bs,lG as bt,cG as bu,iG as bv,aG as bw,hG as bx,d2 as by,c2 as bz,rt as c,$e as d,_p as e,vS as f,gS as g,yp as h,Nd as i,v as j,vD as k,fH as l,LW as m,ZW as n,sG as o,Z2 as p,PR as q,b as r,RR as s,NR as t,Ow as u,kv as v,Rv as w,kR as x,w2 as y,dS as z};
