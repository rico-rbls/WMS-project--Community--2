import{i as hs,r as i,M as xs,j as e,B as l,D as ee,$ as Ne,y as se,z as te,A as ae,E as re,F as Ce,C as B,o as F,p as O,q as E,br as be,a2 as js,I as N,d as De,aP as ys,m as ps,bs as vs,x as o,L as v,aV as fs,bt as gs,bu as Ns,w as Cs,bv as bs,bw as Ds,bx as ws,by as Ss,bz as Ts}from"./index-Y7HfPvcI.js";import{g as ks,h as ne}from"./permissions-DeuZZz56.js";import{u as Is,a as As,F as Ps,B as Rs,T as Ms,E as Bs,S as Fs,P as Os}from"./select-all-banner-CzdsHCBC.js";import{D as Es,S as ce,a as oe,b as ie,c as le,d as U,T as Ls,e as Ks,f as we,g as Se,h as f,i as Vs,j as x}from"./sortable-table-head-DXyw9wr1.js";import{u as $s}from"./printable-receipt-d86mDyg6.js";import{P as zs}from"./plus-DLk5xrIN.js";import{D as Hs,a as de,A as q}from"./dollar-sign-BlL7cxmP.js";import{B as Us}from"./banknote-aMvAdKNl.js";import{C as qs}from"./credit-card-C1skqdeF.js";import{T as _}from"./trash-2-aSSzZGgy.js";import{P as _s}from"./printer-wcWn9A-G.js";import{C as Ws}from"./circle-alert-DU_wSZ3t.js";import"./skeleton-YdD1ZG55.js";import"./circle-check-BCnmQbLK.js";const Ys=["Cash on Delivery"],L=k=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(k);function lt(){const{user:k}=hs(),I=k?ks(k.id):"Viewer",W=ne(I,"purchase_orders:create"),Te=ne(I,"purchase_orders:update"),ke=ne(I,"purchase_orders:delete"),Y=I==="Owner"||I==="Admin",{printReceipt:Ie}=$s(),[Ae,j]=i.useState(null),[me,Pe]=i.useState([]),[G,Re]=i.useState([]),[Me,Be]=i.useState(!0),[ue,Fe]=i.useState(""),A=xs(ue,300),[K,Oe]=i.useState("all"),[m,Ee]=i.useState(!1),[Le,V]=i.useState(!1),[Ke,$]=i.useState(null),[Ve,P]=i.useState(!1),[d,he]=i.useState(null),[R,J]=i.useState("asc"),[r,C]=i.useState({trxDate:new Date().toISOString().split("T")[0],customerId:"",customerName:"",country:"",city:"",soId:"",paymentMode:"Cash on Delivery",amountReceived:0,notes:""});i.useEffect(()=>{(async()=>{try{const[t,a,n]=await Promise.all([ys(),ps(),vs()]);j(t),Pe(a),Re(n)}catch{o.error("Failed to load data")}finally{Be(!1)}})()},[]);const z=Ae??[],M=i.useMemo(()=>z.filter(s=>{const t=s.archived===!0;if(m!==t)return!1;const a=!A||s.id.toLowerCase().includes(A.toLowerCase())||s.customerName.toLowerCase().includes(A.toLowerCase())||s.soId.toLowerCase().includes(A.toLowerCase()),n=K==="all"||s.paymentMode===K;return a&&n}),[z,A,K,m]),xe=i.useMemo(()=>d?[...M].sort((s,t)=>{const a=s[d],n=t[d];if(a==null&&n==null)return 0;if(a==null)return 1;if(n==null)return-1;if(typeof a=="number"&&typeof n=="number")return R==="asc"?a-n:n-a;const b=String(a).toLowerCase(),g=String(n).toLowerCase();return R==="asc"?b.localeCompare(g):g.localeCompare(b)}):M,[M,d,R]),{currentPage:$e,totalPages:ze,paginatedData:Q,goToPage:He,itemsPerPage:Ue,totalItems:qe}=Is(xe,10),{selectedIds:D,isSelected:je,toggleItem:_e,toggleAll:We,selectAllPages:Ye,deselectAll:w,isAllSelected:Ge,isAllPageSelected:Je,isAllPagesSelected:Qe,isPartiallySelected:Xe,selectionCount:S,hasSelection:Ze,totalItemCount:ye,pageItemCount:pe}=As(Q,xe),T=i.useMemo(()=>{const s=z.filter(c=>!c.archived),t=s.length,a=s.reduce((c,h)=>c+h.amountReceived,0),n=s.filter(c=>c.paymentMode==="Cash").reduce((c,h)=>c+h.amountReceived,0),b=s.filter(c=>c.paymentMode==="Bank Transfer").reduce((c,h)=>c+h.amountReceived,0),g=s.filter(c=>c.paymentMode==="Credit Card").reduce((c,h)=>c+h.amountReceived,0),u=s.filter(c=>c.paymentMode==="Check").reduce((c,h)=>c+h.amountReceived,0),X=s.filter(c=>c.paymentMode==="Online Payment").reduce((c,h)=>c+h.amountReceived,0),Z=new Date;Z.setDate(Z.getDate()-7);const us=s.filter(c=>new Date(c.createdAt)>=Z).length;return{totalTransactions:t,totalAmount:a,cashTotal:n,bankTotal:b,cardTotal:g,checkTotal:u,onlineTotal:X,newThisWeek:us,avgTransactionAmount:t>0?a/t:0}},[z]),y=s=>{const t=s;d===t?R==="asc"?J("desc"):(he(null),J("asc")):(he(t),J("asc"))},p=s=>d===s?R:null,es=s=>{const t={Cash:{variant:"default",className:"bg-green-500"},"Cash on Delivery":{variant:"default",className:"bg-green-600"},"Bank Transfer":{variant:"outline",className:"border-blue-500 text-blue-600"},"Credit Card":{variant:"outline",className:"border-purple-500 text-purple-600"},Check:{variant:"outline",className:"border-orange-500 text-orange-600"},"Online Payment":{variant:"outline",className:"border-cyan-500 text-cyan-600"}},{variant:a,className:n}=t[s]??{variant:"outline",className:""};return e.jsx(Cs,{variant:a,className:De("gap-1",n),children:s})},H=()=>{C({trxDate:new Date().toISOString().split("T")[0],customerId:"",customerName:"",country:"",city:"",soId:"",paymentMode:"Cash on Delivery",amountReceived:0,notes:""})},ss=s=>{const t=G.find(a=>a.id===s);C(a=>({...a,customerId:s,customerName:t?.name??"",country:t?.country??"",city:t?.city??""}))},ts=s=>{const t=me.find(a=>a.id===s);if(t){const a=G.find(n=>n.id===t.customerId);C(n=>({...n,soId:s,customerId:t.customerId,customerName:t.customerName,country:a?.country??t.customerCountry??"",city:a?.city??t.customerCity??""}))}},as=async()=>{if(!r.customerId||!r.soId||r.amountReceived<=0){o.error("Please fill in all required fields");return}try{const s=await fs({trxDate:r.trxDate,customerId:r.customerId,customerName:r.customerName,country:r.country,city:r.city,soId:r.soId,paymentMode:r.paymentMode,amountReceived:r.amountReceived,notes:r.notes,createdBy:k?.id??"1"});j(t=>[s,...t??[]]),o.success(`Transaction ${s.id} created successfully`),V(!1),H()}catch(s){o.error(s instanceof Error?s.message:"Failed to create transaction")}},rs=async s=>{if(!r.customerId||!r.soId||r.amountReceived<=0){o.error("Please fill in all required fields");return}try{const t=await ws({id:s,trxDate:r.trxDate,customerId:r.customerId,customerName:r.customerName,country:r.country,city:r.city,soId:r.soId,paymentMode:r.paymentMode,amountReceived:r.amountReceived,notes:r.notes});j(a=>a?.map(n=>n.id===s?t:n)??[]),o.success(`Transaction ${s} updated successfully`),$(null),H()}catch(t){o.error(t instanceof Error?t.message:"Failed to update transaction")}},ns=async s=>{try{const t=await Ss(s);j(a=>a?.map(n=>n.id===s?t:n)??[]),o.success(`Transaction ${s} archived`)}catch(t){o.error(t instanceof Error?t.message:"Failed to archive transaction")}},cs=async s=>{try{const t=await bs(s);j(a=>a?.map(n=>n.id===s?t:n)??[]),o.success(`Transaction ${s} restored`)}catch(t){o.error(t instanceof Error?t.message:"Failed to restore transaction")}},os=async s=>{try{await Ds(s),j(t=>t?.filter(a=>a.id!==s)??[]),o.success(`Transaction ${s} permanently deleted`)}catch(t){o.error(t instanceof Error?t.message:"Failed to delete transaction")}},ve=async()=>{try{await Ns(Array.from(D)),j(s=>s?.map(t=>D.has(t.id)?{...t,archived:!0,archivedAt:new Date().toISOString()}:t)??[]),o.success(`${S} transactions archived`),w()}catch{o.error("Failed to archive transactions")}},is=async()=>{try{await gs(Array.from(D)),j(s=>s?.map(t=>D.has(t.id)?{...t,archived:!1,archivedAt:void 0}:t)??[]),o.success(`${S} transactions restored`),w()}catch{o.error("Failed to restore transactions")}},fe=async()=>{try{await Ts(Array.from(D)),j(s=>s?.filter(t=>!D.has(t.id))??[]),o.success(`${S} transactions permanently deleted`),w(),P(!1)}catch{o.error("Failed to delete transactions")}},ls=s=>{C({trxDate:s.trxDate.split("T")[0],customerId:s.customerId,customerName:s.customerName,country:s.country,city:s.city,soId:s.soId,paymentMode:s.paymentMode==="Cash"?"Cash on Delivery":s.paymentMode,amountReceived:s.amountReceived,notes:s.notes??""}),$(s.id)},ds=()=>{const s=["Trx ID","Trx Date","Customer ID","Customer Name","Country","City","SO ID","PMT Mode","Amount Received"],t=M.map(u=>[u.id,u.trxDate.split("T")[0],u.customerId,u.customerName,u.country,u.city,u.soId,u.paymentMode,u.amountReceived.toFixed(2)]),a=[s.join(","),...t.map(u=>u.map(X=>`"${X}"`).join(","))].join(`
`),n=new Blob([a],{type:"text/csv"}),b=URL.createObjectURL(n),g=document.createElement("a");g.href=b,g.download=`cash-bank-transactions-${new Date().toISOString().split("T")[0]}.csv`,g.click(),URL.revokeObjectURL(b),o.success("Transactions exported to CSV")},ms=s=>{const t={type:"cash-receipt",documentNumber:s.id,documentDate:s.trxDate,partyType:"Customer",partyName:s.customerName,partyCity:s.city,partyCountry:s.country,referenceNumber:s.soId,referenceLabel:"Sales Order",items:[{description:`Payment for Sales Order ${s.soId}`,quantity:1,unitPrice:s.amountReceived,total:s.amountReceived}],totalAmount:s.amountReceived,paymentMode:s.paymentMode,notes:s.notes,createdBy:s.createdBy};Ie(t)},ge=()=>e.jsxs("div",{className:"grid gap-4 py-4 max-h-[60vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"trxDate",children:"Transaction Date *"}),e.jsx(N,{id:"trxDate",type:"date",value:r.trxDate,onChange:s=>C(t=>({...t,trxDate:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"soId",children:"Sales Order *"}),e.jsxs(ce,{value:r.soId,onValueChange:ts,children:[e.jsx(oe,{children:e.jsx(ie,{placeholder:"Select Sales Order"})}),e.jsx(le,{children:me.filter(s=>!s.archived).map(s=>e.jsxs(U,{value:s.id,children:[s.id," - ",s.customerName]},s.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"customerId",children:"Customer *"}),e.jsxs(ce,{value:r.customerId,onValueChange:ss,children:[e.jsx(oe,{children:e.jsx(ie,{placeholder:"Select Customer"})}),e.jsx(le,{children:G.map(s=>e.jsxs(U,{value:s.id,children:[s.id," - ",s.name]},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"customerName",children:"Customer Name"}),e.jsx(N,{id:"customerName",value:r.customerName,disabled:!0,className:"bg-muted"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"country",children:"Country"}),e.jsx(N,{id:"country",value:r.country,disabled:!0,className:"bg-muted"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"city",children:"City"}),e.jsx(N,{id:"city",value:r.city,disabled:!0,className:"bg-muted"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"paymentMode",children:"Payment Mode"}),e.jsx(N,{id:"paymentMode",value:"Cash on Delivery",disabled:!0,className:"bg-muted"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Only Cash on Delivery is supported"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"amountReceived",children:"Amount Received (â‚±) *"}),e.jsx(N,{id:"amountReceived",type:"number",min:"0",step:"0.01",value:r.amountReceived,onChange:s=>C(t=>({...t,amountReceived:parseFloat(s.target.value)||0})),placeholder:"0.00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"notes",children:"Notes"}),e.jsx(N,{id:"notes",value:r.notes,onChange:s=>C(t=>({...t,notes:s.target.value})),placeholder:"Optional notes..."})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage customer-business financial transactions and receipts"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:ds,disabled:M.length===0,children:[e.jsx(Es,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),W&&e.jsxs(ee,{open:Le,onOpenChange:s=>{V(s),s||H()},children:[e.jsx(Ne,{asChild:!0,children:e.jsxs(l,{children:[e.jsx(zs,{className:"h-4 w-4 mr-2"}),"New Transaction"]})}),e.jsxs(se,{className:"max-w-2xl",children:[e.jsxs(te,{children:[e.jsx(ae,{children:"Create New Transaction"}),e.jsx(re,{children:"Add a new cash or bank transaction"})]}),ge(),e.jsxs(Ce,{children:[e.jsx(l,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),e.jsx(l,{onClick:as,children:"Create Transaction"})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(B,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(O,{className:"text-sm font-medium",children:"Total Received"}),e.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:L(T.totalAmount)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.totalTransactions," transactions"]})]})]}),e.jsxs(B,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(O,{className:"text-sm font-medium",children:"Cash Payments"}),e.jsx(Us,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:L(T.cashTotal)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Direct cash received"})]})]}),e.jsxs(B,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(O,{className:"text-sm font-medium",children:"Bank Transfers"}),e.jsx(be,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:L(T.bankTotal)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Bank deposits received"})]})]}),e.jsxs(B,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(O,{className:"text-sm font-medium",children:"Card & Online"}),e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:L(T.cardTotal+T.onlineTotal)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Digital payments"})]})]})]}),e.jsxs(B,{children:[e.jsx(F,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(O,{className:"text-base font-medium",children:"Transactions"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(l,{variant:m?"secondary":"outline",size:"sm",onClick:()=>{Ee(!m),w()},children:[m?e.jsx(de,{className:"h-4 w-4 mr-2"}):e.jsx(q,{className:"h-4 w-4 mr-2"}),m?"View Active":"View Archived"]})})]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(N,{placeholder:"Search by ID, customer, SO, or invoice...",className:"pl-9",value:ue,onChange:s=>Fe(s.target.value)})]}),e.jsxs(ce,{value:K,onValueChange:Oe,children:[e.jsxs(oe,{className:"w-[180px]",children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"}),e.jsx(ie,{placeholder:"Payment Mode"})]}),e.jsxs(le,{children:[e.jsx(U,{value:"all",children:"All Payment Modes"}),Ys.map(s=>e.jsx(U,{value:s,children:s},s))]})]})]}),Ze&&e.jsx(Rs,{selectionCount:S,onClearSelection:w,actions:m?[{label:"Restore",onClick:is,icon:e.jsx(de,{className:"h-4 w-4"})},...Y?[{label:"Delete Permanently",onClick:()=>P(!0),icon:e.jsx(_,{className:"h-4 w-4"}),variant:"destructive"}]:[]]:[{label:"Archive",onClick:ve,icon:e.jsx(q,{className:"h-4 w-4"})}]}),Me?e.jsx(Ms,{columns:10,rows:5}):Q.length===0?e.jsx(Bs,{icon:be,title:m?"No Archived Transactions":"No Transactions Found",description:m?"Archived transactions will appear here":"Create your first transaction to get started",actionLabel:!m&&W?"New Transaction":void 0,onAction:!m&&W?()=>V(!0):void 0}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded-md border overflow-hidden",children:[e.jsx(Fs,{pageItemCount:pe,totalItemCount:ye,isAllPagesSelected:Qe,show:Je&&ye>pe,onSelectAllPages:Ye,onClearSelection:w,itemLabel:"transactions"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ls,{children:[e.jsx(Ks,{children:e.jsxs(we,{children:[e.jsx(Se,{className:"w-12",children:e.jsx("input",{type:"checkbox",checked:Ge,ref:s=>{s&&(s.indeterminate=Xe)},onChange:()=>We(),className:"h-4 w-4 rounded border-gray-300"})}),e.jsx(f,{sortKey:"trxDate",currentSortKey:d,sortDirection:p("trxDate"),onSort:y,children:"Trx Date"}),e.jsx(f,{sortKey:"id",currentSortKey:d,sortDirection:p("id"),onSort:y,children:"Trx ID"}),e.jsx(f,{sortKey:"customerId",currentSortKey:d,sortDirection:p("customerId"),onSort:y,children:"Customer ID"}),e.jsx(f,{sortKey:"customerName",currentSortKey:d,sortDirection:p("customerName"),onSort:y,children:"Customer Name"}),e.jsx(f,{sortKey:"country",currentSortKey:d,sortDirection:p("country"),onSort:y,children:"Country"}),e.jsx(f,{sortKey:"city",currentSortKey:d,sortDirection:p("city"),onSort:y,children:"City"}),e.jsx(f,{sortKey:"soId",currentSortKey:d,sortDirection:p("soId"),onSort:y,children:"SO ID"}),e.jsx(f,{sortKey:"paymentMode",currentSortKey:d,sortDirection:p("paymentMode"),onSort:y,children:"PMT Mode"}),e.jsx(f,{sortKey:"amountReceived",currentSortKey:d,sortDirection:p("amountReceived"),onSort:y,children:"Amount Received"}),e.jsx(Se,{className:"text-right",children:"Actions"})]})}),e.jsx(Vs,{children:Q.map(s=>e.jsxs(we,{className:De(je(s.id)&&"bg-muted/50"),children:[e.jsx(x,{children:e.jsx("input",{type:"checkbox",checked:je(s.id),onChange:()=>_e(s.id),className:"h-4 w-4 rounded border-gray-300"})}),e.jsx(x,{children:s.trxDate.split("T")[0]}),e.jsx(x,{className:"font-medium",children:s.id}),e.jsx(x,{children:s.customerId}),e.jsx(x,{children:s.customerName}),e.jsx(x,{children:s.country||"-"}),e.jsx(x,{children:s.city||"-"}),e.jsx(x,{children:s.soId}),e.jsx(x,{children:es(s.paymentMode)}),e.jsx(x,{className:"font-medium text-green-600",children:L(s.amountReceived)}),e.jsx(x,{className:"text-right",children:e.jsx("div",{className:"flex items-center justify-end gap-1",children:m?e.jsxs(e.Fragment,{children:[e.jsx(l,{size:"sm",variant:"outline",onClick:()=>cs(s.id),title:"Restore",children:e.jsx(de,{className:"h-4 w-4"})}),Y&&e.jsx(l,{size:"sm",variant:"destructive",onClick:()=>os(s.id),title:"Delete Permanently",children:e.jsx(_,{className:"h-4 w-4"})})]}):e.jsxs(e.Fragment,{children:[Te&&e.jsxs(ee,{open:Ke===s.id,onOpenChange:t=>{t||($(null),H())},children:[e.jsx(Ne,{asChild:!0,children:e.jsx(l,{size:"sm",variant:"outline",onClick:()=>ls(s),children:"Edit"})}),e.jsxs(se,{className:"max-w-2xl",children:[e.jsxs(te,{children:[e.jsxs(ae,{children:["Edit Transaction ",s.id]}),e.jsx(re,{children:"Update transaction details"})]}),ge(),e.jsxs(Ce,{children:[e.jsx(l,{variant:"outline",onClick:()=>$(null),children:"Cancel"}),e.jsx(l,{onClick:()=>rs(s.id),children:"Save Changes"})]})]})]}),ke&&e.jsx(l,{size:"sm",variant:"outline",onClick:()=>ns(s.id),title:"Archive",children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx(l,{size:"sm",variant:"outline",onClick:()=>ms(s),title:"Print Receipt",children:e.jsx(_s,{className:"h-4 w-4"})})]})})})]},s.id))})]})})]}),e.jsx(Os,{currentPage:$e,totalPages:ze,onPageChange:He,totalItems:qe,itemsPerPage:Ue})]})]})]}),e.jsx(ee,{open:Ve,onOpenChange:P,children:e.jsxs(se,{className:"max-w-md",children:[e.jsxs(te,{children:[e.jsxs(ae,{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"h-5 w-5 text-destructive"}),"Delete ",S," Transaction",S!==1?"s":""]}),e.jsx(re,{children:m?"These transactions are already archived. This action will permanently remove them from the system.":"Choose how you want to delete the selected transactions:"})]}),m?e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsx("div",{className:"p-3 border border-destructive/50 rounded-md bg-destructive/10",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_,{className:"h-4 w-4 mt-0.5 text-destructive"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-destructive",children:"Permanent Deletion"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This cannot be undone. All data will be permanently removed."})]})]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(l,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),e.jsx(l,{variant:"destructive",onClick:fe,children:"Permanently Delete All"})]})]}):e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsx("div",{className:"p-3 border rounded-md hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(q,{className:"h-4 w-4 mt-0.5 text-muted-foreground"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Archive"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Move to archive. Transactions can be restored later."})]}),e.jsx(l,{variant:"secondary",size:"sm",onClick:ve,children:"Archive"})]})}),Y&&e.jsx("div",{className:"p-3 border border-destructive/50 rounded-md bg-destructive/10",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(_,{className:"h-4 w-4 mt-0.5 text-destructive"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-destructive",children:"Delete Permanently"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cannot be undone. Data will be permanently removed."})]}),e.jsx(l,{variant:"destructive",size:"sm",onClick:fe,children:"Delete"})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{variant:"outline",onClick:()=>P(!1),children:"Cancel"})})]})]})})]})}export{lt as CashBankView};
